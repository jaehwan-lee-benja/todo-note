# Todo-Note 앱스토어/플레이스토어 출시 기획서

## 1. 현재 상태 분석

### 1.1 기술 스택
| 구분 | 기술 |
|------|------|
| 프론트엔드 | React 19 + Vite |
| 백엔드 | Supabase (PostgreSQL + Auth + Realtime) |
| 인증 | Google OAuth (Supabase Auth) |
| 배포 | GitHub Pages (정적 호스팅) |
| 상태관리 | React Hooks (커스텀 훅) |

### 1.2 현재 환경 변수
```
VITE_SUPABASE_URL=<supabase_project_url>
VITE_SUPABASE_ANON_KEY=<supabase_anon_key>
```

### 1.3 주요 기능
- 투두 관리 (CRUD, 드래그앤드롭 정렬)
- 루틴 관리 (요일별 반복)
- 타임라인 시간대별 배치
- 섹션 관리 (커스텀 섹션)
- 메모 기능
- 간트차트 뷰
- 이월 기능 (미완료 투두 자동 이월)

---

## 2. 앱 배포 방식 옵션

### 옵션 A: PWA (Progressive Web App) - 권장
**장점:**
- 현재 코드 최소 수정
- 웹/iOS/Android 동시 지원
- 앱스토어 없이도 설치 가능
- 업데이트가 즉시 반영

**단점:**
- iOS에서 푸시 알림 제한
- 앱스토어 검색 노출 불가
- 일부 네이티브 기능 제한

**필요 작업:**
- [ ] manifest.json 작성
- [ ] Service Worker 구현
- [ ] 오프라인 캐싱 전략
- [ ] 앱 아이콘 제작 (192x192, 512x512)

### 옵션 B: Capacitor (하이브리드 앱) - 추천
**장점:**
- 현재 React 코드 그대로 사용
- 네이티브 기능 접근 가능 (푸시, 카메라 등)
- 앱스토어/플레이스토어 등록 가능
- 하나의 코드베이스로 양쪽 지원

**단점:**
- 빌드 환경 설정 필요
- 네이티브 이슈 디버깅 어려움
- 앱 크기 증가

**필요 작업:**
- [ ] Capacitor 설치 및 설정
- [ ] iOS/Android 프로젝트 생성
- [ ] 네이티브 플러그인 설정
- [ ] 앱 서명 및 인증서 발급

### 옵션 C: React Native 재작성
**장점:**
- 최고의 네이티브 성능
- 풍부한 네이티브 기능

**단점:**
- 전체 코드 재작성 필요
- 개발 기간 장기화
- 웹 버전 별도 유지보수

---

## 3. 신규 사용자 온보딩 체크리스트

### 3.1 첫 로그인 경험
- [ ] 스플래시 스크린 디자인
- [ ] 온보딩 튜토리얼 (앱 사용법 안내)
- [ ] Google 로그인 버튼 UI 개선
- [ ] 로그인 실패 시 에러 메시지
- [ ] 로딩 상태 인디케이터

### 3.2 초기 데이터 설정
- [ ] 기본 섹션 자동 생성 확인
- [ ] 샘플 투두 제공 여부 검토
- [ ] 기본 격려 문구 설정
- [ ] 사용자 설정 기본값 정의

### 3.3 권한 요청 (앱 버전)
- [ ] 알림 권한 요청 타이밍
- [ ] 권한 거부 시 대응 방안

---

## 4. 개발 환경 분리

### 4.1 환경 구분
```
├── .env.development     # 로컬 개발용
├── .env.staging         # 테스트/스테이징용
├── .env.production      # 프로덕션용
```

### 4.2 Supabase 프로젝트 분리 (권장)
| 환경 | 용도 | Supabase 프로젝트 |
|------|------|------------------|
| Development | 로컬 개발 | todo-note-dev |
| Staging | QA/테스트 | todo-note-staging |
| Production | 실제 서비스 | todo-note-prod |

### 4.3 환경별 설정 예시
```env
# .env.production
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=xxx
VITE_APP_ENV=production
VITE_ENABLE_ANALYTICS=true
```

---

## 5. 앱스토어 심사 요구사항

### 5.1 공통 요구사항
- [ ] 개인정보처리방침 (Privacy Policy) 페이지
- [ ] 이용약관 (Terms of Service) 페이지
- [ ] 앱 설명문 (한국어/영어)
- [ ] 스크린샷 (각 디바이스별)
- [ ] 앱 아이콘 (1024x1024)
- [ ] 연령 등급 (전체 이용가)

### 5.2 Apple App Store 추가 요구사항
- [ ] Apple Developer 계정 ($99/년)
- [ ] App Store Connect 설정
- [ ] Apple 로그인 구현 (소셜 로그인 제공 시 필수)
- [ ] 앱 심사 지침 준수
- [ ] TestFlight 베타 테스트

### 5.3 Google Play Store 추가 요구사항
- [ ] Google Play Developer 계정 ($25 일회성)
- [ ] Google Play Console 설정
- [ ] 앱 서명 키 관리
- [ ] 내부/비공개 테스트 트랙
- [ ] 데이터 안전 섹션 작성

---

## 6. 현재 앱 점검 사항

### 6.1 필수 수정 사항
| 우선순위 | 항목 | 상태 | 설명 |
|---------|------|------|------|
| P0 | Apple 로그인 | 미구현 | iOS 앱스토어 필수 |
| P0 | 개인정보처리방침 | 미작성 | 법적 필수 |
| P0 | 이용약관 | 미작성 | 법적 필수 |
| P1 | 오프라인 지원 | 미구현 | UX 개선 |
| P1 | 에러 핸들링 | 부분 | 전역 에러 처리 필요 |
| P1 | 로딩 상태 | 부분 | 일관된 로딩 UI |

### 6.2 UI/UX 개선 사항
| 항목 | 현재 | 개선 방향 |
|------|------|----------|
| 스플래시 스크린 | 없음 | 브랜드 로고 표시 |
| 온보딩 | 없음 | 첫 사용자 가이드 |
| 빈 상태 | 기본 | 친절한 안내 문구 |
| 에러 화면 | 기본 | 재시도 버튼 포함 |

### 6.3 성능 최적화
- [ ] 번들 사이즈 최적화 (현재 547KB)
- [ ] 코드 스플리팅 적용
- [ ] 이미지 최적화
- [ ] 초기 로딩 시간 측정

---

## 7. 단계별 실행 계획

### Phase 1: 기반 준비 (1-2주)
1. 개인정보처리방침 / 이용약관 작성
2. 환경 분리 (dev/staging/prod)
3. PWA 기본 설정

### Phase 2: 기능 보완 (2-3주)
1. Apple 로그인 구현
2. 온보딩 플로우 개발
3. 에러/로딩 상태 개선
4. 오프라인 기본 지원

### Phase 3: 앱 빌드 (1-2주)
1. Capacitor 설정 (옵션 B 선택 시)
2. iOS/Android 빌드 환경 구성
3. 앱 아이콘/스플래시 제작

### Phase 4: 테스트 (1-2주)
1. 내부 테스트 (TestFlight/내부 테스트)
2. 베타 테스트
3. 버그 수정

### Phase 5: 출시 (1주)
1. 스토어 정보 작성
2. 스크린샷 제작
3. 심사 제출
4. 출시

---

## 8. 체크리스트 요약

### 출시 전 필수 항목
- [ ] Apple Developer 계정 등록
- [ ] Google Play Developer 계정 등록
- [ ] Apple 로그인 구현
- [ ] 개인정보처리방침 페이지
- [ ] 이용약관 페이지
- [ ] 앱 아이콘 (1024x1024)
- [ ] 스크린샷 세트
- [ ] 환경 분리 완료
- [ ] 프로덕션 Supabase 설정
- [ ] 에러 모니터링 설정 (Sentry 등)

### 권장 항목
- [ ] 앱 분석 (Firebase Analytics 등)
- [ ] 크래시 리포팅
- [ ] 푸시 알림 (알림 기능 필요 시)
- [ ] 앱 내 피드백 기능
- [ ] 버전 관리 전략

---

## 9. 예상 비용

| 항목 | 비용 | 주기 |
|------|------|------|
| Apple Developer | $99 | 연간 |
| Google Play Developer | $25 | 일회성 |
| Supabase Pro (선택) | $25/월 | 월간 |
| 도메인 (개인정보처리방침용) | ~$15 | 연간 |

---

## 10. 진행 현황

### 완료된 작업
- [x] Apple 로그인 코드 준비 (2025-01-15)
  - `useAuth.js`에 `handleAppleLogin` 핸들러 추가
  - `AuthScreen.jsx` 컴포넌트 생성 (Apple + Google 버튼)
  - Supabase/Apple Developer 설정 대기 중

### 대기 중 (Apple Developer 계정 필요)
- [ ] Apple Developer 계정 등록 ($99/년)
- [ ] Supabase Apple Provider 설정

---

## 11. Apple 계정 없이 진행 가능한 작업

### 우선순위 높음 (심사 필수)
| 작업 | 난이도 | 상태 | 설명 |
|------|--------|------|------|
| 계정 삭제 기능 | 중간 | 미구현 | 앱스토어 필수 요건 |
| 개인정보처리방침 | 쉬움 | 미작성 | 법적 필수 |
| 이용약관 | 쉬움 | 미작성 | 법적 필수 |
| 법적 문서 링크 (설정) | 쉬움 | 미구현 | 앱 내 접근 가능해야 함 |

### 우선순위 중간 (UX 개선)
| 작업 | 난이도 | 상태 | 설명 |
|------|--------|------|------|
| 온보딩 화면 | 중간 | 미구현 | 첫 사용자 가이드 |
| 빈 상태 안내 개선 | 쉬움 | 부분 | 친절한 안내 문구 |
| 로딩/에러 UI 통일 | 쉬움 | 부분 | 일관된 피드백 |

### 우선순위 낮음 (기술적 준비)
| 작업 | 난이도 | 상태 | 설명 |
|------|--------|------|------|
| PWA 설정 | 중간 | 미구현 | 앱처럼 설치 가능 |
| 환경 분리 | 쉬움 | 미구현 | dev/prod Supabase 분리 |
| Google Play 계정 등록 | - | 미완료 | $25 일회성 |

---

## 12. 권장 진행 순서

```
1. 계정 삭제 기능 구현
   ↓
2. 개인정보처리방침 / 이용약관 작성
   ↓
3. 법적 문서 링크 추가 (설정 페이지)
   ↓
4. 온보딩 화면 개발
   ↓
5. PWA 설정
   ↓
6. Apple Developer 계정 등록 & 설정
   ↓
7. 앱 빌드 & 심사 제출
```
