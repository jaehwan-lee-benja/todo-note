function ow(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(a,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Ey={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=Symbol.for("react.transitional.element"),uw=Symbol.for("react.fragment");function Ty(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:cw,type:e,key:a,ref:t!==void 0?t:null,props:n}}yc.Fragment=uw;yc.jsx=Ty;yc.jsxs=Ty;Ey.exports=yc;var o=Ey.exports,jy={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.transitional.element"),dw=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),gw=Symbol.for("react.consumer"),yw=Symbol.for("react.context"),vw=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),bw=Symbol.for("react.memo"),Oy=Symbol.for("react.lazy"),_w=Symbol.for("react.activity"),im=Symbol.iterator;function ww(e){return e===null||typeof e!="object"?null:(e=im&&e[im]||e["@@iterator"],typeof e=="function"?e:null)}var Dy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,Ay={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=Ay,this.updater=n||Dy}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cy(){}Cy.prototype=Zr.prototype;function pf(e,t,n){this.props=e,this.context=t,this.refs=Ay,this.updater=n||Dy}var bf=pf.prototype=new Cy;bf.constructor=pf;Ny(bf,Zr.prototype);bf.isPureReactComponent=!0;var rm=Array.isArray;function nd(){}var yt={H:null,A:null,T:null,S:null},Ry=Object.prototype.hasOwnProperty;function _f(e,t,n){var a=n.ref;return{$$typeof:vf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Sw(e,t){return _f(e.type,t,e.props)}function wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===vf}function xw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sm=/\/+/g;function ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xw(""+e.key):t.toString(36)}function Ew(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(nd,nd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ur(e,t,n,a,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vf:case dw:s=!0;break;case Oy:return s=e._init,ur(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+ru(e,0):a,rm(i)?(n="",s!=null&&(n=s.replace(sm,"$&/")+"/"),ur(i,t,n,"",function(u){return u})):i!=null&&(wf(i)&&(i=Sw(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(sm,"$&/")+"/")+s)),t.push(i)),1;s=0;var l=a===""?".":a+":";if(rm(e))for(var c=0;c<e.length;c++)a=e[c],r=l+ru(a,c),s+=ur(a,t,n,r,i);else if(c=ww(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,r=l+ru(a,c++),s+=ur(a,t,n,r,i);else if(r==="object"){if(typeof e.then=="function")return ur(Ew(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ll(e,t,n){if(e==null)return e;var a=[],i=0;return ur(e,a,"","",function(r){return t.call(n,r,i++)}),a}function Tw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jw={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Activity=_w;Te.Children=jw;Te.Component=Zr;Te.Fragment=fw;Te.Profiler=mw;Te.PureComponent=pf;Te.StrictMode=hw;Te.Suspense=pw;Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt;Te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return yt.H.useMemoCache(e)}};Te.cache=function(e){return function(){return e.apply(null,arguments)}};Te.cacheSignal=function(){return null};Te.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Ny({},e.props),i=e.key;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)!Ry.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var s=Array(r),l=0;l<r;l++)s[l]=arguments[l+2];a.children=s}return _f(e.type,i,a)};Te.createContext=function(e){return e={$$typeof:yw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:gw,_context:e},e};Te.createElement=function(e,t,n){var a,i={},r=null;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)Ry.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return _f(e,r,i)};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:vw,render:e}};Te.isValidElement=wf;Te.lazy=function(e){return{$$typeof:Oy,_payload:{_status:-1,_result:e},_init:Tw}};Te.memo=function(e,t){return{$$typeof:bw,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=yt.T,n={};yt.T=n;try{var a=e(),i=yt.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(nd,lm)}catch(r){lm(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),yt.T=t}};Te.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()};Te.use=function(e){return yt.H.use(e)};Te.useActionState=function(e,t,n){return yt.H.useActionState(e,t,n)};Te.useCallback=function(e,t){return yt.H.useCallback(e,t)};Te.useContext=function(e){return yt.H.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e,t){return yt.H.useDeferredValue(e,t)};Te.useEffect=function(e,t){return yt.H.useEffect(e,t)};Te.useEffectEvent=function(e){return yt.H.useEffectEvent(e)};Te.useId=function(){return yt.H.useId()};Te.useImperativeHandle=function(e,t,n){return yt.H.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return yt.H.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return yt.H.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return yt.H.useMemo(e,t)};Te.useOptimistic=function(e,t){return yt.H.useOptimistic(e,t)};Te.useReducer=function(e,t,n){return yt.H.useReducer(e,t,n)};Te.useRef=function(e){return yt.H.useRef(e)};Te.useState=function(e){return yt.H.useState(e)};Te.useSyncExternalStore=function(e,t,n){return yt.H.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return yt.H.useTransition()};Te.version="19.2.0";jy.exports=Te;var _=jy.exports;const gt=Sy(_);var My={exports:{}},vc={},ky={exports:{}},Uy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,Y){var F=C.length;C.push(Y);e:for(;0<F;){var oe=F-1>>>1,be=C[oe];if(0<i(be,Y))C[oe]=Y,C[F]=be,F=oe;else break e}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var Y=C[0],F=C.pop();if(F!==Y){C[0]=F;e:for(var oe=0,be=C.length,wt=be>>>1;oe<wt;){var ke=2*(oe+1)-1,et=C[ke],Ue=ke+1,ot=C[Ue];if(0>i(et,F))Ue<be&&0>i(ot,et)?(C[oe]=ot,C[Ue]=F,oe=Ue):(C[oe]=et,C[ke]=F,oe=ke);else if(Ue<be&&0>i(ot,F))C[oe]=ot,C[Ue]=F,oe=Ue;else break e}}return Y}function i(C,Y){var F=C.sortIndex-Y.sortIndex;return F!==0?F:C.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,b=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(C){for(var Y=n(u);Y!==null;){if(Y.callback===null)a(u);else if(Y.startTime<=C)a(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(u)}}function x(C){if(b=!1,w(C),!p)if(n(c)!==null)p=!0,T||(T=!0,H());else{var Y=n(u);Y!==null&&te(x,Y.startTime-C)}}var T=!1,E=-1,j=5,A=-1;function N(){return S?!0:!(e.unstable_now()-A<j)}function R(){if(S=!1,T){var C=e.unstable_now();A=C;var Y=!0;try{e:{p=!1,b&&(b=!1,g(E),E=-1),f=!0;var F=m;try{t:{for(w(C),h=n(c);h!==null&&!(h.expirationTime>C&&N());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,m=h.priorityLevel;var be=oe(h.expirationTime<=C);if(C=e.unstable_now(),typeof be=="function"){h.callback=be,w(C),Y=!0;break t}h===n(c)&&a(c),w(C)}else a(c);h=n(c)}if(h!==null)Y=!0;else{var wt=n(u);wt!==null&&te(x,wt.startTime-C),Y=!1}}break e}finally{h=null,m=F,f=!1}Y=void 0}}finally{Y?H():T=!1}}}var H;if(typeof y=="function")H=function(){y(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,P=q.port2;q.port1.onmessage=R,H=function(){P.postMessage(null)}}else H=function(){v(R,0)};function te(C,Y){E=v(function(){C(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var F=m;m=Y;try{return C()}finally{m=F}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(C,Y){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=m;m=C;try{return Y()}finally{m=F}},e.unstable_scheduleCallback=function(C,Y,F){var oe=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?oe+F:oe):F=oe,C){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=F+be,C={id:d++,callback:Y,priorityLevel:C,startTime:F,expirationTime:be,sortIndex:-1},F>oe?(C.sortIndex=F,t(u,C),n(c)===null&&C===n(u)&&(b?(g(E),E=-1):b=!0,te(x,F-oe))):(C.sortIndex=be,t(c,C),p||f||(p=!0,T||(T=!0,H()))),C},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(C){var Y=m;return function(){var F=m;m=Y;try{return C.apply(this,arguments)}finally{m=F}}}})(Uy);ky.exports=Uy;var Ow=ky.exports,zy={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=_;function $y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ba(){}var rn={d:{f:Ba,r:function(){throw Error($y(522))},D:Ba,C:Ba,L:Ba,m:Ba,X:Ba,S:Ba,M:Ba},p:0,findDOMNode:null},Nw=Symbol.for("react.portal");function Aw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ms=Dw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function pc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rn;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error($y(299));return Aw(e,t,null,n)};sn.flushSync=function(e){var t=Ms.T,n=rn.p;try{if(Ms.T=null,rn.p=2,e)return e()}finally{Ms.T=t,rn.p=n,rn.d.f()}};sn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,rn.d.C(e,t))};sn.prefetchDNS=function(e){typeof e=="string"&&rn.d.D(e)};sn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=pc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?rn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:r}):n==="script"&&rn.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};sn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=pc(t.as,t.crossOrigin);rn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&rn.d.M(e)};sn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=pc(n,t.crossOrigin);rn.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};sn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=pc(t.as,t.crossOrigin);rn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else rn.d.m(e)};sn.requestFormReset=function(e){rn.d.r(e)};sn.unstable_batchedUpdates=function(e,t){return e(t)};sn.useFormState=function(e,t,n){return Ms.H.useFormState(e,t,n)};sn.useFormStatus=function(){return Ms.H.useHostTransitionStatus()};sn.version="19.2.0";function By(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(By)}catch(e){console.error(e)}}By(),zy.exports=sn;var Ri=zy.exports;const Hy=Sy(Ri);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yt=Ow,Ly=_,Cw=Ri;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function om(e){if(bl(e)!==e)throw Error($(188))}function Rw(e){var t=e.alternate;if(!t){if(t=bl(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return om(i),e;if(r===a)return om(i),t;r=r.sibling}throw Error($(188))}if(n.return!==a.return)n=i,a=r;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,a=r;break}if(l===a){s=!0,a=i,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,a=i;break}if(l===a){s=!0,a=r,n=i;break}l=l.sibling}if(!s)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Vy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Vy(e),t!==null)return t;e=e.sibling}return null}var vt=Object.assign,Mw=Symbol.for("react.element"),ql=Symbol.for("react.transitional.element"),Os=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),Ky=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),id=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),sd=Symbol.for("react.activity"),kw=Symbol.for("react.memo_cache_sentinel"),cm=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var Uw=Symbol.for("react.client.reference");function ld(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Uw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case ad:return"Profiler";case Gy:return"StrictMode";case id:return"Suspense";case rd:return"SuspenseList";case sd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Os:return"Portal";case wa:return e.displayName||"Context";case Ky:return(e._context.displayName||"Context")+".Consumer";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xf:return t=e.displayName||null,t!==null?t:ld(e.type)||"Memo";case La:t=e._payload,e=e._init;try{return ld(e(t))}catch{}}return null}var Ds=Array.isArray,ve=Ly.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=Cw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ki={pending:!1,data:null,method:null,action:null},od=[],vr=-1;function ca(e){return{current:e}}function Kt(e){0>vr||(e.current=od[vr],od[vr]=null,vr--)}function dt(e,t){vr++,od[vr]=e.current,e.current=t}var oa=ca(null),Ws=ca(null),Wa=ca(null),Ao=ca(null);function Co(e,t){switch(dt(Wa,t),dt(Ws,e),dt(oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gg(t),e=f0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt(oa),dt(oa,e)}function Br(){Kt(oa),Kt(Ws),Kt(Wa)}function cd(e){e.memoizedState!==null&&dt(Ao,e);var t=oa.current,n=f0(t,e.type);t!==n&&(dt(Ws,e),dt(oa,n))}function Ro(e){Ws.current===e&&(Kt(oa),Kt(Ws)),Ao.current===e&&(Kt(Ao),ul._currentValue=ki)}var su,um;function xi(e){if(su===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);su=t&&t[1]||"",um=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+e+um}var lu=!1;function ou(e,t){if(!e||lu)return"";lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var m=f}Reflect.construct(e,[],h)}else{try{h.call()}catch(f){m=f}e.call(h.prototype)}}else{try{throw Error()}catch(f){m=f}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&m&&typeof f.stack=="string")return[f.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),s=r[0],l=r[1];if(s&&l){var c=s.split(`
`),u=l.split(`
`);for(i=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===c.length||i===u.length)for(a=c.length-1,i=u.length-1;1<=a&&0<=i&&c[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(c[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||c[a]!==u[i]){var d=`
`+c[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=i);break}}}finally{lu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xi(n):""}function zw(e,t){switch(e.tag){case 26:case 27:case 5:return xi(e.type);case 16:return xi("Lazy");case 13:return e.child!==t&&t!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return ou(e.type,!1);case 11:return ou(e.type.render,!1);case 1:return ou(e.type,!0);case 31:return xi("Activity");default:return""}}function dm(e){try{var t="",n=null;do t+=zw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ud=Object.prototype.hasOwnProperty,Ef=Yt.unstable_scheduleCallback,cu=Yt.unstable_cancelCallback,$w=Yt.unstable_shouldYield,Bw=Yt.unstable_requestPaint,On=Yt.unstable_now,Hw=Yt.unstable_getCurrentPriorityLevel,Xy=Yt.unstable_ImmediatePriority,Jy=Yt.unstable_UserBlockingPriority,Mo=Yt.unstable_NormalPriority,Lw=Yt.unstable_LowPriority,Qy=Yt.unstable_IdlePriority,qw=Yt.log,Yw=Yt.unstable_setDisableYieldValue,_l=null,Dn=null;function Ja(e){if(typeof qw=="function"&&Yw(e),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(_l,e)}catch{}}var Nn=Math.clz32?Math.clz32:Gw,Iw=Math.log,Vw=Math.LN2;function Gw(e){return e>>>=0,e===0?32:31-(Iw(e)/Vw|0)|0}var Yl=256,Il=262144,Vl=4194304;function Ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~r,a!==0?i=Ei(a):(s&=l,s!==0?i=Ei(s):n||(n=l&~e,n!==0&&(i=Ei(n))))):(l=a&~r,l!==0?i=Ei(l):s!==0?i=Ei(s):n||(n=a&~e,n!==0&&(i=Ei(n)))),i===0?0:t!==0&&t!==i&&!(t&r)&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Py(){var e=Vl;return Vl<<=1,!(Vl&62914560)&&(Vl=4194304),e}function uu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xw(e,t,n,a,i,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Nn(n),h=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var f=m[d];f!==null&&(f.lane&=-536870913)}n&=~h}a!==0&&Zy(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function Zy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Nn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Fy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Nn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Wy(e,t){var n=t&-t;return n=n&42?1:Tf(n),n&(e.suspendedLanes|t)?0:n}function Tf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ev(){var e=Xe.p;return e!==0?e:(e=window.event,e===void 0?32:x0(e.type))}function fm(e,t){var n=Xe.p;try{return Xe.p=e,t()}finally{Xe.p=n}}var fi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+fi,yn="__reactProps$"+fi,Fr="__reactContainer$"+fi,dd="__reactEvents$"+fi,Jw="__reactListeners$"+fi,Qw="__reactHandles$"+fi,hm="__reactResources$"+fi,xl="__reactMarker$"+fi;function Of(e){delete e[Qt],delete e[yn],delete e[dd],delete e[Jw],delete e[Qw]}function pr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fr]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_g(e);e!==null;){if(n=e[Qt])return n;e=_g(e)}return t}e=n,n=e.parentNode}return null}function Wr(e){if(e=e[Qt]||e[Fr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ns(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Dr(e){var t=e[hm];return t||(t=e[hm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gt(e){e[xl]=!0}var tv=new Set,nv={};function Xi(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(nv[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var Pw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mm={},gm={};function Zw(e){return ud.call(gm,e)?!0:ud.call(mm,e)?!1:Pw.test(e)?gm[e]=!0:(mm[e]=!0,!1)}function mo(e,t,n){if(Zw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function fa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fd(e){if(!e._valueTracker){var t=av(e)?"checked":"value";e._valueTracker=Fw(e,t,""+e[t])}}function iv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=av(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ww=/[\n"\\]/g;function qn(e){return e.replace(Ww,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hd(e,t,n,a,i,r,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bn(t)):e.value!==""+Bn(t)&&(e.value=""+Bn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?md(e,s,Bn(t)):n!=null?md(e,s,Bn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Bn(l):e.removeAttribute("name")}function rv(e,t,n,a,i,r,s,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){fd(e);return}n=n!=null?""+Bn(n):"",t=t!=null?""+Bn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),fd(e)}function md(e,t,n){t==="number"&&ko(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Nr(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sv(e,t,n){if(t!=null&&(t=""+Bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Bn(n):""}function lv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error($(92));if(Ds(a)){if(1<a.length)throw Error($(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Bn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),fd(e)}function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||eS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ov(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&ym(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&ym(e,r,t[r])}function Df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(e){return nS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var gd=null;function Nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,Ar=null;function vm(e){var t=Wr(e);if(t&&(e=t.stateNode)){var n=e[yn]||null;e:switch(e=t.stateNode,t.type){case"input":if(hd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[yn]||null;if(!i)throw Error($(90));hd(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&iv(a)}break e;case"textarea":sv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}}}var du=!1;function cv(e,t,n){if(du)return e(t,n);du=!0;try{var a=e(t);return a}finally{if(du=!1,(br!==null||Ar!==null)&&(Cc(),br&&(t=br,e=Ar,Ar=br=null,vm(t),e)))for(t=0;t<e.length;t++)vm(e[t])}}function el(e,t){var n=e.stateNode;if(n===null)return null;var a=n[yn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=!1;if(Oa)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){yd=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{yd=!1}var Qa=null,Af=null,yo=null;function uv(){if(yo)return yo;var e,t=Af,n=t.length,a,i="value"in Qa?Qa.value:Qa.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[r-a];a++);return yo=i.slice(e,1<a?1-a:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function pm(){return!1}function vn(e){function t(n,a,i,r,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Kl:pm,this.isPropagationStopped=pm,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=vn(Ji),El=vt({},Ji,{view:0,detail:0}),aS=vn(El),fu,hu,Ss,wc=vt({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(fu=e.screenX-Ss.screenX,hu=e.screenY-Ss.screenY):hu=fu=0,Ss=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),bm=vn(wc),iS=vt({},wc,{dataTransfer:0}),rS=vn(iS),sS=vt({},El,{relatedTarget:0}),mu=vn(sS),lS=vt({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=vn(lS),cS=vt({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uS=vn(cS),dS=vt({},Ji,{data:0}),_m=vn(dS),fS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mS[e])?!!t[e]:!1}function Cf(){return gS}var yS=vt({},El,{key:function(e){if(e.key){var t=fS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vS=vn(yS),pS=vt({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=vn(pS),bS=vt({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),_S=vn(bS),wS=vt({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),SS=vn(wS),xS=vt({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=vn(xS),TS=vt({},Ji,{newState:0,oldState:0}),jS=vn(TS),OS=[9,13,27,32],Rf=Oa&&"CompositionEvent"in window,ks=null;Oa&&"documentMode"in document&&(ks=document.documentMode);var DS=Oa&&"TextEvent"in window&&!ks,dv=Oa&&(!Rf||ks&&8<ks&&11>=ks),Sm=" ",xm=!1;function fv(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function NS(e,t){switch(e){case"compositionend":return hv(t);case"keypress":return t.which!==32?null:(xm=!0,Sm);case"textInput":return e=t.data,e===Sm&&xm?null:e;default:return null}}function AS(e,t){if(_r)return e==="compositionend"||!Rf&&fv(e,t)?(e=uv(),yo=Af=Qa=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dv&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function mv(e,t,n,a){br?Ar?Ar.push(a):Ar=[a]:br=a,t=Fo(t,"onChange"),0<t.length&&(n=new _c("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Us=null,tl=null;function RS(e){c0(e,0)}function Sc(e){var t=Ns(e);if(iv(t))return e}function Tm(e,t){if(e==="change")return t}var gv=!1;if(Oa){var gu;if(Oa){var yu="oninput"in document;if(!yu){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),yu=typeof jm.oninput=="function"}gu=yu}else gu=!1;gv=gu&&(!document.documentMode||9<document.documentMode)}function Om(){Us&&(Us.detachEvent("onpropertychange",yv),tl=Us=null)}function yv(e){if(e.propertyName==="value"&&Sc(tl)){var t=[];mv(t,tl,e,Nf(e)),cv(RS,t)}}function MS(e,t,n){e==="focusin"?(Om(),Us=t,tl=n,Us.attachEvent("onpropertychange",yv)):e==="focusout"&&Om()}function kS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(tl)}function US(e,t){if(e==="click")return Sc(t)}function zS(e,t){if(e==="input"||e==="change")return Sc(t)}function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:$S;function nl(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ud.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nm(e,t){var n=Dm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dm(n)}}function vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ko(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ko(e.document)}return t}function Mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var BS=Oa&&"documentMode"in document&&11>=document.documentMode,wr=null,vd=null,zs=null,pd=!1;function Am(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pd||wr==null||wr!==ko(a)||(a=wr,"selectionStart"in a&&Mf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),zs&&nl(zs,a)||(zs=a,a=Fo(vd,"onSelect"),0<a.length&&(t=new _c("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=wr)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},vu={},bv={};Oa&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Qi(e){if(vu[e])return vu[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bv)return vu[e]=t[n];return e}var _v=Qi("animationend"),wv=Qi("animationiteration"),Sv=Qi("animationstart"),HS=Qi("transitionrun"),LS=Qi("transitionstart"),qS=Qi("transitioncancel"),xv=Qi("transitionend"),Ev=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function aa(e,t){Ev.set(e,t),Xi(t,[e])}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],xr=0,kf=0;function xc(){for(var e=xr,t=kf=xr=0;t<e;){var n=zn[t];zn[t++]=null;var a=zn[t];zn[t++]=null;var i=zn[t];zn[t++]=null;var r=zn[t];if(zn[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}r!==0&&Tv(n,i,r)}}function Ec(e,t,n,a){zn[xr++]=e,zn[xr++]=t,zn[xr++]=n,zn[xr++]=a,kf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Uf(e,t,n,a){return Ec(e,t,n,a),zo(e)}function Pi(e,t){return Ec(e,null,null,t),zo(e)}function Tv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Nn(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function zo(e){if(50<Gs)throw Gs=0,Ld=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Er={};function YS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,a){return new YS(e,t,n,a)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function po(e,t,n,a,i,r){var s=0;if(a=e,typeof e=="function")zf(e)&&(s=1);else if(typeof e=="string")s=Xx(e,n,oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case sd:return e=xn(31,n,t,i),e.elementType=sd,e.lanes=r,e;case yr:return Ui(n.children,i,r,t);case Gy:s=8,i|=24;break;case ad:return e=xn(12,n,t,i|2),e.elementType=ad,e.lanes=r,e;case id:return e=xn(13,n,t,i),e.elementType=id,e.lanes=r,e;case rd:return e=xn(19,n,t,i),e.elementType=rd,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wa:s=10;break e;case Ky:s=9;break e;case Sf:s=11;break e;case xf:s=14;break e;case La:s=16,a=null;break e}s=29,n=Error($(130,e===null?"null":typeof e,"")),a=null}return t=xn(s,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function Ui(e,t,n,a){return e=xn(7,e,a,t),e.lanes=n,e}function pu(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Ov(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cm=new WeakMap;function Yn(e,t){if(typeof e=="object"&&e!==null){var n=Cm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dm(t)},Cm.set(e,t),t)}return{value:e,source:t,stack:dm(t)}}var Tr=[],jr=0,$o=null,al=0,Hn=[],Ln=0,oi=null,ra=1,sa="";function ba(e,t){Tr[jr++]=al,Tr[jr++]=$o,$o=e,al=t}function Dv(e,t,n){Hn[Ln++]=ra,Hn[Ln++]=sa,Hn[Ln++]=oi,oi=e;var a=ra;e=sa;var i=32-Nn(a)-1;a&=~(1<<i),n+=1;var r=32-Nn(t)+i;if(30<r){var s=i-i%5;r=(a&(1<<s)-1).toString(32),a>>=s,i-=s,ra=1<<32-Nn(t)+i|n<<i|a,sa=r+e}else ra=1<<r|n<<i|a,sa=e}function $f(e){e.return!==null&&(ba(e,1),Dv(e,1,0))}function Bf(e){for(;e===$o;)$o=Tr[--jr],Tr[jr]=null,al=Tr[--jr],Tr[jr]=null;for(;e===oi;)oi=Hn[--Ln],Hn[Ln]=null,sa=Hn[--Ln],Hn[Ln]=null,ra=Hn[--Ln],Hn[Ln]=null}function Nv(e,t){Hn[Ln++]=ra,Hn[Ln++]=sa,Hn[Ln++]=oi,ra=t.id,sa=t.overflow,oi=e}var Pt=null,mt=null,He=!1,ei=null,In=!1,_d=Error($(519));function ci(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Yn(t,e)),_d}function Rm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Qt]=e,t[yn]=a,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<ol.length;n++)Ce(ol[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),rv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),lv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||d0(t.textContent,n)?(a.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),a.onScroll!=null&&Ce("scroll",t),a.onScrollEnd!=null&&Ce("scrollend",t),a.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||ci(e,!0)}function Mm(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Pt=Pt.return}}function ar(e){if(e!==Pt)return!1;if(!He)return Mm(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gd(e.type,e.memoizedProps)),n=!n),n&&mt&&ci(e),Mm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));mt=bg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));mt=bg(e)}else t===27?(t=mt,hi(e.type)?(e=Qd,Qd=null,mt=e):mt=t):mt=Pt?Gn(e.stateNode.nextSibling):null;return!0}function Li(){mt=Pt=null,He=!1}function _u(){var e=ei;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),ei=null),e}function il(e){ei===null?ei=[e]:ei.push(e)}var wd=ca(null),Zi=null,xa=null;function Ia(e,t,n){dt(wd,t._currentValue),t._currentValue=n}function Ta(e){e._currentValue=wd.current,Kt(wd)}function Sd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function xd(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var s=i.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Sd(r.return,n,e),a||(s=null);break e}r=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error($(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Sd(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function es(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error($(387));if(s=s.memoizedProps,s!==null){var l=i.type;Cn(i.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(i===Ao.current){if(s=i.alternate,s===null)throw Error($(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}i=i.return}e!==null&&xd(t,e,n,a),t.flags|=262144}function Bo(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Zi=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return Av(Zi,e)}function Xl(e,t){return Zi===null&&qi(e),Av(e,t)}function Av(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xa===null){if(e===null)throw Error($(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return n}var IS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},VS=Yt.unstable_scheduleCallback,GS=Yt.unstable_NormalPriority,kt={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new IS,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&VS(GS,function(){e.controller.abort()})}var $s=null,Ed=0,qr=0,Cr=null;function KS(e,t){if($s===null){var n=$s=[];Ed=0,qr=uh(),Cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ed++,t.then(km,km),t}function km(){if(--Ed===0&&$s!==null){Cr!==null&&(Cr.status="fulfilled");var e=$s;$s=null,qr=0,Cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function XS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Um=ve.S;ve.S=function(e,t){Vp=On(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&KS(e,t),Um!==null&&Um(e,t)};var zi=ca(null);function Lf(){var e=zi.current;return e!==null?e:lt.pooledCache}function bo(e,t){t===null?dt(zi,zi.current):dt(zi,t.pool)}function Cv(){var e=Lf();return e===null?null:{parent:kt._currentValue,pool:e}}var ts=Error($(460)),qf=Error($(474)),Tc=Error($(542)),Ho={then:function(){}};function zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sa,Sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bm(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bm(e),e}throw $i=t,ts}}function Ti(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,ts):n}}var $i=null;function $m(){if($i===null)throw Error($(459));var e=$i;return $i=null,e}function Bm(e){if(e===ts||e===Tc)throw Error($(483))}var Rr=null,rl=0;function Jl(e){var t=rl;return rl+=1,Rr===null&&(Rr=[]),Rv(Rr,e,t)}function xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ql(e,t){throw t.$$typeof===Mw?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mv(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(v,g){return v=Ea(v,g),v.index=0,v.sibling=null,v}function r(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,w){return g===null||g.tag!==6?(g=pu(y,v.mode,w),g.return=v,g):(g=i(g,y),g.return=v,g)}function c(v,g,y,w){var x=y.type;return x===yr?d(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===La&&Ti(x)===g.type)?(g=i(g,y.props),xs(g,y),g.return=v,g):(g=po(y.type,y.key,y.props,null,v.mode,w),xs(g,y),g.return=v,g)}function u(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=bu(y,v.mode,w),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function d(v,g,y,w,x){return g===null||g.tag!==7?(g=Ui(y,v.mode,w,x),g.return=v,g):(g=i(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=pu(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ql:return y=po(g.type,g.key,g.props,null,v.mode,y),xs(y,g),y.return=v,y;case Os:return g=bu(g,v.mode,y),g.return=v,g;case La:return g=Ti(g),h(v,g,y)}if(Ds(g)||_s(g))return g=Ui(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return h(v,Jl(g),y);if(g.$$typeof===wa)return h(v,Xl(v,g),y);Ql(v,g)}return null}function m(v,g,y,w){var x=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return x!==null?null:l(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ql:return y.key===x?c(v,g,y,w):null;case Os:return y.key===x?u(v,g,y,w):null;case La:return y=Ti(y),m(v,g,y,w)}if(Ds(y)||_s(y))return x!==null?null:d(v,g,y,w,null);if(typeof y.then=="function")return m(v,g,Jl(y),w);if(y.$$typeof===wa)return m(v,g,Xl(v,y),w);Ql(v,y)}return null}function f(v,g,y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(y)||null,l(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ql:return v=v.get(w.key===null?y:w.key)||null,c(g,v,w,x);case Os:return v=v.get(w.key===null?y:w.key)||null,u(g,v,w,x);case La:return w=Ti(w),f(v,g,y,w,x)}if(Ds(w)||_s(w))return v=v.get(y)||null,d(g,v,w,x,null);if(typeof w.then=="function")return f(v,g,y,Jl(w),x);if(w.$$typeof===wa)return f(v,g,y,Xl(g,w),x);Ql(g,w)}return null}function p(v,g,y,w){for(var x=null,T=null,E=g,j=g=0,A=null;E!==null&&j<y.length;j++){E.index>j?(A=E,E=null):A=E.sibling;var N=m(v,E,y[j],w);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(v,E),g=r(N,g,j),T===null?x=N:T.sibling=N,T=N,E=A}if(j===y.length)return n(v,E),He&&ba(v,j),x;if(E===null){for(;j<y.length;j++)E=h(v,y[j],w),E!==null&&(g=r(E,g,j),T===null?x=E:T.sibling=E,T=E);return He&&ba(v,j),x}for(E=a(E);j<y.length;j++)A=f(E,v,j,y[j],w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?j:A.key),g=r(A,g,j),T===null?x=A:T.sibling=A,T=A);return e&&E.forEach(function(R){return t(v,R)}),He&&ba(v,j),x}function b(v,g,y,w){if(y==null)throw Error($(151));for(var x=null,T=null,E=g,j=g=0,A=null,N=y.next();E!==null&&!N.done;j++,N=y.next()){E.index>j?(A=E,E=null):A=E.sibling;var R=m(v,E,N.value,w);if(R===null){E===null&&(E=A);break}e&&E&&R.alternate===null&&t(v,E),g=r(R,g,j),T===null?x=R:T.sibling=R,T=R,E=A}if(N.done)return n(v,E),He&&ba(v,j),x;if(E===null){for(;!N.done;j++,N=y.next())N=h(v,N.value,w),N!==null&&(g=r(N,g,j),T===null?x=N:T.sibling=N,T=N);return He&&ba(v,j),x}for(E=a(E);!N.done;j++,N=y.next())N=f(E,v,j,N.value,w),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?j:N.key),g=r(N,g,j),T===null?x=N:T.sibling=N,T=N);return e&&E.forEach(function(H){return t(v,H)}),He&&ba(v,j),x}function S(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===yr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ql:e:{for(var x=y.key;g!==null;){if(g.key===x){if(x=y.type,x===yr){if(g.tag===7){n(v,g.sibling),w=i(g,y.props.children),w.return=v,v=w;break e}}else if(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===La&&Ti(x)===g.type){n(v,g.sibling),w=i(g,y.props),xs(w,y),w.return=v,v=w;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===yr?(w=Ui(y.props.children,v.mode,w,y.key),w.return=v,v=w):(w=po(y.type,y.key,y.props,null,v.mode,w),xs(w,y),w.return=v,v=w)}return s(v);case Os:e:{for(x=y.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),w=i(g,y.children||[]),w.return=v,v=w;break e}else{n(v,g);break}else t(v,g);g=g.sibling}w=bu(y,v.mode,w),w.return=v,v=w}return s(v);case La:return y=Ti(y),S(v,g,y,w)}if(Ds(y))return p(v,g,y,w);if(_s(y)){if(x=_s(y),typeof x!="function")throw Error($(150));return y=x.call(y),b(v,g,y,w)}if(typeof y.then=="function")return S(v,g,Jl(y),w);if(y.$$typeof===wa)return S(v,g,Xl(v,y),w);Ql(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),w=i(g,y),w.return=v,v=w):(n(v,g),w=pu(y,v.mode,w),w.return=v,v=w),s(v)):n(v,g)}return function(v,g,y,w){try{rl=0;var x=S(v,g,y,w);return Rr=null,x}catch(E){if(E===ts||E===Tc)throw E;var T=xn(29,E,null,v.mode);return T.lanes=w,T.return=v,T}finally{}}}var Yi=Mv(!0),kv=Mv(!1),qa=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ke&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=zo(e),Tv(e,null,n),t}return Ec(e,a,t,n),zo(e)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Fy(e,n)}}function wu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jd=!1;function Hs(){if(jd){var e=Cr;if(e!==null)throw e}}function Ls(e,t,n,a){jd=!1;var i=e.updateQueue;qa=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?r=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;s=0,d=u=c=null,l=r;do{var m=l.lane&-536870913,f=m!==l.lane;if(f?(Me&m)===m:(a&m)===m){m!==0&&m===qr&&(jd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,b=l;m=t;var S=n;switch(b.tag){case 1:if(p=b.payload,typeof p=="function"){h=p.call(S,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,m=typeof p=="function"?p.call(S,h,m):p,m==null)break e;h=vt({},h,m);break e;case 2:qa=!0}}m=l.callback,m!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[m]:f.push(m))}else f={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,r===null&&(i.shared.lanes=0),di|=s,e.lanes=s,e.memoizedState=h}}function Uv(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function zv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Uv(n[e],t)}var Yr=ca(null),Lo=ca(0);function Hm(e,t){e=Ca,dt(Lo,e),dt(Yr,t),Ca=e|t.baseLanes}function Od(){dt(Lo,Ca),dt(Yr,Yr.current)}function If(){Ca=Lo.current,Kt(Yr),Kt(Lo)}var Rn=ca(null),Vn=null;function Va(e){var t=e.alternate;dt(Dt,Dt.current&1),dt(Rn,e),Vn===null&&(t===null||Yr.current!==null||t.memoizedState!==null)&&(Vn=e)}function Dd(e){dt(Dt,Dt.current),dt(Rn,e),Vn===null&&(Vn=e)}function $v(e){e.tag===22?(dt(Dt,Dt.current),dt(Rn,e),Vn===null&&(Vn=e)):Ga()}function Ga(){dt(Dt,Dt.current),dt(Rn,Rn.current)}function Sn(e){Kt(Rn),Vn===e&&(Vn=null),Kt(Dt)}var Dt=ca(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xd(n)||Jd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=0,Oe=null,it=null,Rt=null,Yo=!1,Mr=!1,Ii=!1,Io=0,sl=0,kr=null,JS=0;function xt(){throw Error($(321))}function Vf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Gf(e,t,n,a,i,r){return Da=r,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ve.H=e===null||e.memoizedState===null?mp:nh,Ii=!1,r=n(a,i),Ii=!1,Mr&&(r=Hv(t,n,a,i)),Bv(e),r}function Bv(e){ve.H=ll;var t=it!==null&&it.next!==null;if(Da=0,Rt=it=Oe=null,Yo=!1,sl=0,kr=null,t)throw Error($(300));e===null||Ut||(e=e.dependencies,e!==null&&Bo(e)&&(Ut=!0))}function Hv(e,t,n,a){Oe=e;var i=0;do{if(Mr&&(kr=null),sl=0,Mr=!1,25<=i)throw Error($(301));if(i+=1,Rt=it=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ve.H=gp,r=t(n,a)}while(Mr);return r}function QS(){var e=ve.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Oe.flags|=1024),t}function Kf(){var e=Io!==0;return Io=0,e}function Xf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jf(e){if(Yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yo=!1}Da=0,Rt=it=Oe=null,Mr=!1,sl=Io=0,kr=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Nt(){if(it===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=Rt===null?Oe.memoizedState:Rt.next;if(t!==null)Rt=t,it=e;else{if(e===null)throw Oe.alternate===null?Error($(467)):Error($(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Rt===null?Oe.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=sl;return sl+=1,kr===null&&(kr=[]),e=Rv(kr,e,t),t=Oe,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,ve.H=t===null||t.memoizedState===null?mp:nh),e}function Oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===wa)return Zt(e)}throw Error($(438,String(e)))}function Qf(e){var t=null,n=Oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Oe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=jc(),Oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=kw;return t.index++,n}function Na(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=Nt();return Pf(t,it,e)}function Pf(e,t,n){var a=e.queue;if(a===null)throw Error($(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var l=s=null,c=null,u=t,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Me&h)===h:(Da&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qr&&(d=!0);else if((Da&m)===m){u=u.next,m===qr&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,s=r):c=c.next=h,Oe.lanes|=m,di|=m;h=u.action,Ii&&n(r,h),r=u.hasEagerState?u.eagerState:n(r,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,s=r):c=c.next=m,Oe.lanes|=h,di|=h;u=u.next}while(u!==null&&u!==t);if(c===null?s=r:c.next=l,!Cn(r,e.memoizedState)&&(Ut=!0,d&&(n=Cr,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=c,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Su(e){var t=Nt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);Cn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Lv(e,t,n){var a=Oe,i=Nt(),r=He;if(r){if(n===void 0)throw Error($(407));n=n()}else n=t();var s=!Cn((it||i).memoizedState,n);if(s&&(i.memoizedState=n,Ut=!0),i=i.queue,Zf(Iv.bind(null,a,i,e),[e]),i.getSnapshot!==t||s||Rt!==null&&Rt.memoizedState.tag&1){if(a.flags|=2048,Ir(9,{destroy:void 0},Yv.bind(null,a,i,n,t),null),lt===null)throw Error($(349));r||Da&127||qv(a,t,n)}return n}function qv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t=jc(),Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,a){t.value=n,t.getSnapshot=a,Vv(t)&&Gv(e)}function Iv(e,t,n){return n(function(){Vv(t)&&Gv(e)})}function Vv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function Gv(e){var t=Pi(e,2);t!==null&&gn(t,e,2)}function Nd(e){var t=nn();if(typeof e=="function"){var n=e;if(e=n(),Ii){Ja(!0);try{n()}finally{Ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t}function Kv(e,t,n,a){return e.baseState=n,Pf(e,it,typeof a=="function"?a:Na)}function PS(e,t,n,a,i){if(Nc(e))throw Error($(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};ve.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,Xv(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Xv(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=ve.T,s={};ve.T=s;try{var l=n(i,a),c=ve.S;c!==null&&c(s,l),Lm(e,t,l)}catch(u){Ad(e,t,u)}finally{r!==null&&s.types!==null&&(r.types=s.types),ve.T=r}}else try{r=n(i,a),Lm(e,t,r)}catch(u){Ad(e,t,u)}}function Lm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){qm(e,t,a)},function(a){return Ad(e,t,a)}):qm(e,t,n)}function qm(e,t,n){t.status="fulfilled",t.value=n,Jv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xv(e,n)))}function Ad(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Jv(t),t=t.next;while(t!==a)}e.action=null}function Jv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qv(e,t){return t}function Ym(e,t){if(He){var n=lt.formState;if(n!==null){e:{var a=Oe;if(He){if(mt){t:{for(var i=mt,r=In;i.nodeType!==8;){if(!r){i=null;break t}if(i=Gn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){mt=Gn(i.nextSibling),a=i.data==="F!";break e}}ci(a)}a=!1}a&&(t=n[0])}}return n=nn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:t},n.queue=a,n=dp.bind(null,Oe,a),a.dispatch=n,a=Nd(!1),r=th.bind(null,Oe,!1,a.queue),a=nn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=PS.bind(null,Oe,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Im(e){var t=Nt();return Pv(t,it,e)}function Pv(e,t,n){if(t=Pf(e,t,Qv)[0],e=_o(Na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jl(t)}catch(s){throw s===ts?Tc:s}else a=t;t=Nt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(Oe.flags|=2048,Ir(9,{destroy:void 0},ZS.bind(null,i,n),null)),[a,r,e]}function ZS(e,t){e.action=t}function Vm(e){var t=Nt(),n=it;if(n!==null)return Pv(t,n,e);Nt(),t=t.memoizedState,n=Nt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ir(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=jc(),Oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Zv(){return Nt().memoizedState}function wo(e,t,n,a){var i=nn();Oe.flags|=e,i.memoizedState=Ir(1|t,{destroy:void 0},n,a===void 0?null:a)}function Dc(e,t,n,a){var i=Nt();a=a===void 0?null:a;var r=i.memoizedState.inst;it!==null&&a!==null&&Vf(a,it.memoizedState.deps)?i.memoizedState=Ir(t,r,n,a):(Oe.flags|=e,i.memoizedState=Ir(1|t,r,n,a))}function Gm(e,t){wo(8390656,8,e,t)}function Zf(e,t){Dc(2048,8,e,t)}function FS(e){Oe.flags|=4;var t=Oe.updateQueue;if(t===null)t=jc(),Oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Fv(e){var t=Nt().memoizedState;return FS({ref:t,nextImpl:e}),function(){if(Ke&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function Wv(e,t){return Dc(4,2,e,t)}function ep(e,t){return Dc(4,4,e,t)}function tp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function np(e,t,n){n=n!=null?n.concat([e]):null,Dc(4,4,tp.bind(null,t,e),n)}function Ff(){}function ap(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Vf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ip(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Vf(t,a[1]))return a[0];if(a=e(),Ii){Ja(!0);try{e()}finally{Ja(!1)}}return n.memoizedState=[a,t],a}function Wf(e,t,n){return n===void 0||Da&1073741824&&!(Me&261930)?e.memoizedState=t:(e.memoizedState=n,e=Kp(),Oe.lanes|=e,di|=e,n)}function rp(e,t,n,a){return Cn(n,t)?n:Yr.current!==null?(e=Wf(e,n,a),Cn(e,t)||(Ut=!0),e):!(Da&42)||Da&1073741824&&!(Me&261930)?(Ut=!0,e.memoizedState=n):(e=Kp(),Oe.lanes|=e,di|=e,t)}function sp(e,t,n,a,i){var r=Xe.p;Xe.p=r!==0&&8>r?r:8;var s=ve.T,l={};ve.T=l,th(e,!1,t,n);try{var c=i(),u=ve.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=XS(c,a);qs(e,t,d,An(e))}else qs(e,t,a,An(e))}catch(h){qs(e,t,{then:function(){},status:"rejected",reason:h},An())}finally{Xe.p=r,s!==null&&l.types!==null&&(s.types=l.types),ve.T=s}}function WS(){}function Cd(e,t,n,a){if(e.tag!==5)throw Error($(476));var i=lp(e).queue;sp(e,i,t,ki,n===null?WS:function(){return op(e),n(a)})}function lp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ki,baseState:ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:ki},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function op(e){var t=lp(e);t.next===null&&(t=e.alternate.memoizedState),qs(e,t.next.queue,{},An())}function eh(){return Zt(ul)}function cp(){return Nt().memoizedState}function up(){return Nt().memoizedState}function ex(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=ti(n);var a=ni(t,e,n);a!==null&&(gn(a,t,n),Bs(a,t,n)),t={cache:Hf()},e.payload=t;return}t=t.return}}function tx(e,t,n){var a=An();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(e)?fp(t,n):(n=Uf(e,t,n,a),n!==null&&(gn(n,e,a),hp(n,t,a)))}function dp(e,t,n){var a=An();qs(e,t,n,a)}function qs(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))fp(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,s))return Ec(e,t,i,0),lt===null&&xc(),!1}catch{}finally{}if(n=Uf(e,t,i,a),n!==null)return gn(n,e,a),hp(n,t,a),!0}return!1}function th(e,t,n,a){if(a={lane:2,revertLane:uh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(t)throw Error($(479))}else t=Uf(e,n,a,2),t!==null&&gn(t,e,2)}function Nc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function fp(e,t){Mr=Yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Fy(e,n)}}var ll={readContext:Zt,use:Oc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};ll.useEffectEvent=xt;var mp={readContext:Zt,use:Oc,useCallback:function(e,t){return nn().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:Gm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,wo(4194308,4,tp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){wo(4,2,e,t)},useMemo:function(e,t){var n=nn();t=t===void 0?null:t;var a=e();if(Ii){Ja(!0);try{e()}finally{Ja(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=nn();if(n!==void 0){var i=n(t);if(Ii){Ja(!0);try{n(t)}finally{Ja(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=tx.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=nn();return e={current:e},t.memoizedState=e},useState:function(e){e=Nd(e);var t=e.queue,n=dp.bind(null,Oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ff,useDeferredValue:function(e,t){var n=nn();return Wf(n,e,t)},useTransition:function(){var e=Nd(!1);return e=sp.bind(null,Oe,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Oe,i=nn();if(He){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),lt===null)throw Error($(349));Me&127||qv(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Gm(Iv.bind(null,a,r,e),[e]),a.flags|=2048,Ir(9,{destroy:void 0},Yv.bind(null,a,r,n,t),null),n},useId:function(){var e=nn(),t=lt.identifierPrefix;if(He){var n=sa,a=ra;n=(a&~(1<<32-Nn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Io++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=JS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:eh,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var t=nn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=th.bind(null,Oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qf,useCacheRefresh:function(){return nn().memoizedState=ex.bind(null,Oe)},useEffectEvent:function(e){var t=nn(),n={impl:e};return t.memoizedState=n,function(){if(Ke&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},nh={readContext:Zt,use:Oc,useCallback:ap,useContext:Zt,useEffect:Zf,useImperativeHandle:np,useInsertionEffect:Wv,useLayoutEffect:ep,useMemo:ip,useReducer:_o,useRef:Zv,useState:function(){return _o(Na)},useDebugValue:Ff,useDeferredValue:function(e,t){var n=Nt();return rp(n,it.memoizedState,e,t)},useTransition:function(){var e=_o(Na)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Lv,useId:cp,useHostTransitionStatus:eh,useFormState:Im,useActionState:Im,useOptimistic:function(e,t){var n=Nt();return Kv(n,it,e,t)},useMemoCache:Qf,useCacheRefresh:up};nh.useEffectEvent=Fv;var gp={readContext:Zt,use:Oc,useCallback:ap,useContext:Zt,useEffect:Zf,useImperativeHandle:np,useInsertionEffect:Wv,useLayoutEffect:ep,useMemo:ip,useReducer:Su,useRef:Zv,useState:function(){return Su(Na)},useDebugValue:Ff,useDeferredValue:function(e,t){var n=Nt();return it===null?Wf(n,e,t):rp(n,it.memoizedState,e,t)},useTransition:function(){var e=Su(Na)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Lv,useId:cp,useHostTransitionStatus:eh,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var n=Nt();return it!==null?Kv(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:up};gp.useEffectEvent=Fv;function xu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=An(),i=ti(a);i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,a),t!==null&&(gn(t,e,a),Bs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=An(),i=ti(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,a),t!==null&&(gn(t,e,a),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),a=ti(n);a.tag=2,t!=null&&(a.callback=t),t=ni(e,a,n),t!==null&&(gn(t,e,n),Bs(t,e,n))}};function Km(e,t,n,a,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,s):t.prototype&&t.prototype.isPureReactComponent?!nl(n,a)||!nl(i,r):!0}function Xm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Rd.enqueueReplaceState(t,t.state,null)}function Vi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=vt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function yp(e){Uo(e)}function vp(e){console.error(e)}function pp(e){Uo(e)}function Vo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Jm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Md(e,t,n){return n=ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Vo(e,t)},n}function bp(e){return e=ti(e),e.tag=3,e}function _p(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){Jm(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Jm(t,n,a),typeof i!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function nx(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&es(t,n,i,!0),n=Rn.current,n!==null){switch(n.tag){case 31:case 13:return Vn===null?Qo():n.alternate===null&&Et===0&&(Et=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Ho?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ku(e,a,i)),!1;case 22:return n.flags|=65536,a===Ho?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ku(e,a,i)),!1}throw Error($(435,n.tag))}return ku(e,a,i),Qo(),!1}if(He)return t=Rn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==_d&&(e=Error($(422),{cause:a}),il(Yn(e,n)))):(a!==_d&&(t=Error($(423),{cause:a}),il(Yn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Yn(a,n),i=Md(e.stateNode,a,i),wu(e,i),Et!==4&&(Et=2)),!1;var r=Error($(520),{cause:a});if(r=Yn(r,n),Vs===null?Vs=[r]:Vs.push(r),Et!==4&&(Et=2),t===null)return!0;a=Yn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Md(n.stateNode,a,e),wu(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=bp(i),_p(i,e,n,a),wu(n,i),!1}n=n.return}while(n!==null);return!1}var ah=Error($(461)),Ut=!1;function Jt(e,t,n,a){t.child=e===null?kv(t,null,n,a):Yi(t,e.child,n,a)}function Qm(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}else s=a;return qi(t),a=Gf(e,t,n,s,r,i),l=Kf(),e!==null&&!Ut?(Xf(e,t,i),Aa(e,t,i)):(He&&l&&$f(t),t.flags|=1,Jt(e,t,a,i),t.child)}function Pm(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!zf(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,wp(e,t,r,a,i)):(e=po(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!ih(e,i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(s,a)&&e.ref===t.ref)return Aa(e,t,i)}return t.flags|=1,e=Ea(r,a),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(nl(r,a)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=a=r,ih(e,i))e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Aa(e,t,i)}return kd(e,t,n,a,i)}function Sp(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return Zm(e,t,r,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bo(t,r!==null?r.cachePool:null),r!==null?Hm(t,r):Od(),$v(t);else return a=t.lanes=536870912,Zm(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(bo(t,r.cachePool),Hm(t,r),Ga(),t.memoizedState=null):(e!==null&&bo(t,null),Od(),Ga());return Jt(e,t,i,n),t.child}function As(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zm(e,t,n,a,i){var r=Lf();return r=r===null?null:{parent:kt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&bo(t,null),Od(),$v(t),e!==null&&es(e,t,a,!0),t.childLanes=i,null}function So(e,t){return t=Go({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fm(e,t,n){return Yi(t,e.child,null,n),e=So(t,t.pendingProps),e.flags|=2,Sn(t),t.memoizedState=null,e}function ax(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(a.mode==="hidden")return e=So(t,a),t.lanes=536870912,As(null,e);if(Dd(t),(e=mt)?(e=m0(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oi!==null?{id:ra,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=Ov(e),n.return=t,t.child=n,Pt=t,mt=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return So(t,a)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(Dd(t),i)if(t.flags&256)t.flags&=-257,t=Fm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(Ut||es(e,t,n,!1),i=(n&e.childLanes)!==0,Ut||i){if(a=lt,a!==null&&(s=Wy(a,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,Pi(e,s),gn(a,e,s),ah;Qo(),t=Fm(e,t,n)}else e=r.treeContext,mt=Gn(s.nextSibling),Pt=t,He=!0,ei=null,In=!1,e!==null&&Nv(t,e),t=So(t,a),t.flags|=4096;return t}return e=Ea(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function kd(e,t,n,a,i){return qi(t),n=Gf(e,t,n,a,void 0,i),a=Kf(),e!==null&&!Ut?(Xf(e,t,i),Aa(e,t,i)):(He&&a&&$f(t),t.flags|=1,Jt(e,t,n,i),t.child)}function Wm(e,t,n,a,i,r){return qi(t),t.updateQueue=null,n=Hv(t,a,n,i),Bv(e),a=Kf(),e!==null&&!Ut?(Xf(e,t,r),Aa(e,t,r)):(He&&a&&$f(t),t.flags|=1,Jt(e,t,n,r),t.child)}function eg(e,t,n,a,i){if(qi(t),t.stateNode===null){var r=Er,s=n.contextType;typeof s=="object"&&s!==null&&(r=Zt(s)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rd,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Yf(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?Zt(s):Er,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(xu(t,n,s,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&Rd.enqueueReplaceState(r,r.state,null),Ls(t,a,r,i),Hs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,c=Vi(n,l);r.props=c;var u=r.context,d=n.contextType;s=Er,typeof d=="object"&&d!==null&&(s=Zt(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||u!==s)&&Xm(t,r,a,s),qa=!1;var m=t.memoizedState;r.state=m,Ls(t,a,r,i),Hs(),u=t.memoizedState,l||m!==u||qa?(typeof h=="function"&&(xu(t,n,h,a),u=t.memoizedState),(c=qa||Km(t,n,c,a,m,u,s))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),r.props=a,r.state=u,r.context=s,a=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Td(e,t),s=t.memoizedProps,d=Vi(n,s),r.props=d,h=t.pendingProps,m=r.context,u=n.contextType,c=Er,typeof u=="object"&&u!==null&&(c=Zt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==h||m!==c)&&Xm(t,r,a,c),qa=!1,m=t.memoizedState,r.state=m,Ls(t,a,r,i),Hs();var f=t.memoizedState;s!==h||m!==f||qa||e!==null&&e.dependencies!==null&&Bo(e.dependencies)?(typeof l=="function"&&(xu(t,n,l,a),f=t.memoizedState),(d=qa||Km(t,n,d,a,m,f,c)||e!==null&&e.dependencies!==null&&Bo(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,f,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,f,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),r.props=a,r.state=f,r.context=c,a=d):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,xo(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Yi(t,e.child,null,i),t.child=Yi(t,null,n,i)):Jt(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Aa(e,t,i),e}function tg(e,t,n,a){return Li(),t.flags|=256,Jt(e,t,n,a),t.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:Cv()}}function ju(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function xp(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(i?Va(t):Ga(),(e=mt)?(e=m0(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oi!==null?{id:ra,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=Ov(e),n.return=t,t.child=n,Pt=t,mt=null)):e=null,e===null)throw ci(t);return Jd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ga(),i=t.mode,l=Go({mode:"hidden",children:l},i),a=Ui(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Tu(n),a.childLanes=ju(e,s,n),t.memoizedState=Eu,As(null,a)):(Va(t),Ud(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(r)t.flags&256?(Va(t),t.flags&=-257,t=Ou(e,t,n)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),l=a.fallback,i=t.mode,a=Go({mode:"visible",children:a.children},i),l=Ui(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Yi(t,e.child,null,n),a=t.child,a.memoizedState=Tu(n),a.childLanes=ju(e,s,n),t.memoizedState=Eu,t=As(null,a));else if(Va(t),Jd(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,a=Error($(419)),a.stack="",a.digest=s,il({value:a,source:null,stack:null}),t=Ou(e,t,n)}else if(Ut||es(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(s=lt,s!==null&&(a=Wy(s,n),a!==0&&a!==c.retryLane))throw c.retryLane=a,Pi(e,a),gn(s,e,a),ah;Xd(l)||Qo(),t=Ou(e,t,n)}else Xd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,mt=Gn(l.nextSibling),Pt=t,He=!0,ei=null,In=!1,e!==null&&Nv(t,e),t=Ud(t,a.children),t.flags|=4096);return t}return i?(Ga(),l=a.fallback,i=t.mode,c=e.child,u=c.sibling,a=Ea(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=Ea(u,l):(l=Ui(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,As(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Tu(n):(i=l.cachePool,i!==null?(c=kt._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Cv(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=ju(e,s,n),t.memoizedState=Eu,As(e.child,a)):(Va(t),n=e.child,e=n.sibling,n=Ea(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ud(e,t){return t=Go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Go(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function Ou(e,t,n){return Yi(t,e.child,null,n),e=Ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ng(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Sd(e.return,t,n)}function Du(e,t,n,a,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=r)}function Ep(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var s=Dt.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,dt(Dt,s),Jt(e,t,a,n),a=He?al:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,n,t);else if(e.tag===19)ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Du(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Du(t,!0,n,null,r,a);break;case"together":Du(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Aa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(n&t.childLanes))if(e!==null){if(es(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Ea(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ea(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ih(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bo(e)))}function ix(e,t,n){switch(t.tag){case 3:Co(t,t.stateNode.containerInfo),Ia(t,kt,e.memoizedState.cache),Li();break;case 27:case 5:cd(t);break;case 4:Co(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Va(t),t.flags|=128,null):n&t.child.childLanes?xp(e,t,n):(Va(t),e=Aa(e,t,n),e!==null?e.sibling:null);Va(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(es(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Ep(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Dt,Dt.current),a)break;return null;case 22:return t.lanes=0,Sp(e,t,n,t.pendingProps);case 24:Ia(t,kt,e.memoizedState.cache)}return Aa(e,t,n)}function Tp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!ih(e,n)&&!(t.flags&128))return Ut=!1,ix(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,He&&t.flags&1048576&&Dv(t,al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ti(t.elementType),t.type=e,typeof e=="function")zf(e)?(a=Vi(e,a),t.tag=1,t=eg(null,t,e,a,n)):(t.tag=0,t=kd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Sf){t.tag=11,t=Qm(null,t,e,a,n);break e}else if(i===xf){t.tag=14,t=Pm(null,t,e,a,n);break e}}throw t=ld(e)||e,Error($(306,t,""))}}return t;case 0:return kd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Vi(a,t.pendingProps),eg(e,t,a,i,n);case 3:e:{if(Co(t,t.stateNode.containerInfo),e===null)throw Error($(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Td(e,t),Ls(t,a,null,n);var s=t.memoizedState;if(a=s.cache,Ia(t,kt,a),a!==r.cache&&xd(t,[kt],n,!0),Hs(),a=s.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=tg(e,t,a,n);break e}else if(a!==i){i=Yn(Error($(424)),t),il(i),t=tg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Gn(e.firstChild),Pt=t,He=!0,ei=null,In=!0,n=kv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),a===i){t=Aa(e,t,n);break e}Jt(e,t,a,n)}t=t.child}return t;case 26:return xo(e,t),e===null?(n=Sg(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,a=Wo(Wa.current).createElement(n),a[Qt]=t,a[yn]=e,Ft(a,n,e),Gt(a),t.stateNode=a):t.memoizedState=Sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return cd(t),e===null&&He&&(a=t.stateNode=g0(t.type,t.pendingProps,Wa.current),Pt=t,In=!0,i=mt,hi(t.type)?(Qd=i,mt=Gn(a.firstChild)):mt=i),Jt(e,t,t.pendingProps.children,n),xo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((i=a=mt)&&(a=kx(a,t.type,t.pendingProps,In),a!==null?(t.stateNode=a,Pt=t,mt=Gn(a.firstChild),In=!1,i=!0):i=!1),i||ci(t)),cd(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,a=r.children,Gd(i,r)?a=null:s!==null&&Gd(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Gf(e,t,QS,null,null,n),ul._currentValue=i),xo(e,t),Jt(e,t,a,n),t.child;case 6:return e===null&&He&&((e=n=mt)&&(n=Ux(n,t.pendingProps,In),n!==null?(t.stateNode=n,Pt=t,mt=null,e=!0):e=!1),e||ci(t)),null;case 13:return xp(e,t,n);case 4:return Co(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yi(t,null,a,n):Jt(e,t,a,n),t.child;case 11:return Qm(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ia(t,t.type,a.value),Jt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,qi(t),i=Zt(i),a=a(i),t.flags|=1,Jt(e,t,a,n),t.child;case 14:return Pm(e,t,t.type,t.pendingProps,n);case 15:return wp(e,t,t.type,t.pendingProps,n);case 19:return Ep(e,t,n);case 31:return ax(e,t,n);case 22:return Sp(e,t,n,t.pendingProps);case 24:return qi(t),a=Zt(kt),e===null?(i=Lf(),i===null&&(i=lt,r=Hf(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Yf(t),Ia(t,kt,i)):(e.lanes&n&&(Td(e,t),Ls(t,null,null,n),Hs()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ia(t,kt,a)):(a=r.cache,Ia(t,kt,a),a!==i.cache&&xd(t,[kt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function ha(e){e.flags|=4}function Nu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Qp())e.flags|=8192;else throw $i=Ho,qf}else e.flags&=-16777217}function ag(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!p0(t))if(Qp())e.flags|=8192;else throw $i=Ho,qf}function Pl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Py():536870912,e.lanes|=t,Vr|=t)}function Es(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function rx(e,t,n){var a=t.pendingProps;switch(Bf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(kt),Br(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ar(t)?ha(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_u())),ht(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ha(t),r!==null?(ht(t),ag(t,r)):(ht(t),Nu(t,i,null,a,n))):r?r!==e.memoizedState?(ha(t),ht(t),ag(t,r)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ha(t),ht(t),Nu(t,i,e,a,n)),null;case 27:if(Ro(t),n=Wa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return ht(t),null}e=oa.current,ar(t)?Rm(t):(e=g0(i,a,n),t.stateNode=e,ha(t))}return ht(t),null;case 5:if(Ro(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return ht(t),null}if(r=oa.current,ar(t))Rm(t);else{var s=Wo(Wa.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}r[Qt]=t,r[yn]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;e:switch(Ft(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ha(t)}}return ht(t),Nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(e=Wa.current,ar(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Pt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Qt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||d0(e.nodeValue,n)),e||ci(t,!0)}else e=Wo(e).createTextNode(a),e[Qt]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ar(t),n!==null){if(e===null){if(!a)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Qt]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=_u(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Sn(t),t):(Sn(t),null);if(t.flags&128)throw Error($(558))}return ht(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ar(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Qt]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else i=_u(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Sn(t),t):(Sn(t),null)}return Sn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Pl(t,t.updateQueue),ht(t),null);case 4:return Br(),e===null&&dh(t.stateNode.containerInfo),ht(t),null;case 10:return Ta(t.type),ht(t),null;case 19:if(Kt(Dt),a=t.memoizedState,a===null)return ht(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)Es(a,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=qo(e),r!==null){for(t.flags|=128,Es(a,!1),e=r.updateQueue,t.updateQueue=e,Pl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jv(n,e),n=n.sibling;return dt(Dt,Dt.current&1|2),He&&ba(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&On()>Xo&&(t.flags|=128,i=!0,Es(a,!1),t.lanes=4194304)}else{if(!i)if(e=qo(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Pl(t,e),Es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!He)return ht(t),null}else 2*On()-a.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,i=!0,Es(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=On(),e.sibling=null,n=Dt.current,dt(Dt,i?n&1|2:n&1),He&&ba(t,a.treeForkCount),e):(ht(t),null);case 22:case 23:return Sn(t),If(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&Pl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Kt(zi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(kt),ht(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function sx(e,t){switch(Bf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(kt),Br(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ro(t),null;case 31:if(t.memoizedState!==null){if(Sn(t),t.alternate===null)throw Error($(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(Dt),null;case 4:return Br(),null;case 10:return Ta(t.type),null;case 22:case 23:return Sn(t),If(),e!==null&&Kt(zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(kt),null;case 25:return null;default:return null}}function jp(e,t){switch(Bf(t),t.tag){case 3:Ta(kt),Br();break;case 26:case 27:case 5:Ro(t);break;case 4:Br();break;case 31:t.memoizedState!==null&&Sn(t);break;case 13:Sn(t);break;case 19:Kt(Dt);break;case 10:Ta(t.type);break;case 22:case 23:Sn(t),If(),e!==null&&Kt(zi);break;case 24:Ta(kt)}}function Ol(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,s=n.inst;a=r(),s.destroy=a}n=n.next}while(n!==i)}}catch(l){We(t,t.return,l)}}function ui(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var s=a.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=t;var c=n,u=l;try{u()}catch(d){We(i,c,d)}}}a=a.next}while(a!==r)}}catch(d){We(t,t.return,d)}}function Op(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{zv(t,n)}catch(a){We(e,e.return,a)}}}function Dp(e,t,n){n.props=Vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){We(e,t,a)}}function Ys(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){We(e,t,i)}}function la(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){We(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){We(e,t,i)}else n.current=null}function Np(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){We(e,e.return,i)}}function Au(e,t,n){try{var a=e.stateNode;Dx(a,e.type,n,t),a[yn]=t}catch(i){We(e,e.return,i)}}function Ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hi(e.type)||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sa));else if(a!==4&&(a===27&&hi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zd(e,t,n),e=e.sibling;e!==null;)zd(e,t,n),e=e.sibling}function Ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&hi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}function Cp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ft(t,a,n),t[Qt]=e,t[yn]=n}catch(r){We(e,e.return,r)}}var _a=!1,Mt=!1,Ru=!1,ig=typeof WeakSet=="function"?WeakSet:Set,It=null;function lx(e,t){if(e=e.containerInfo,Id=ac,e=pv(e),Mf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==r||a!==0&&h.nodeType!==3||(c=s+a),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===i&&(l=s),m===r&&++d===a&&(c=s),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},ac=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var p=Vi(n.type,i);e=a.getSnapshotBeforeUpdate(p,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){We(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function Rp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ga(e,n),a&4&&Ol(5,n);break;case 1:if(ga(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){We(n,n.return,s)}else{var i=Vi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){We(n,n.return,s)}}a&64&&Op(n),a&512&&Ys(n,n.return);break;case 3:if(ga(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{zv(e,t)}catch(s){We(n,n.return,s)}}break;case 27:t===null&&a&4&&Cp(n);case 26:case 5:ga(e,n),t===null&&a&4&&Np(n),a&512&&Ys(n,n.return);break;case 12:ga(e,n);break;case 31:ga(e,n),a&4&&Up(e,n);break;case 13:ga(e,n),a&4&&zp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=yx.bind(null,n),zx(e,n))));break;case 22:if(a=n.memoizedState!==null||_a,!a){t=t!==null&&t.memoizedState!==null||Mt,i=_a;var r=Mt;_a=a,(Mt=t)&&!r?va(e,n,(n.subtreeFlags&8772)!==0):ga(e,n),_a=i,Mt=r}break;case 30:break;default:ga(e,n)}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Of(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,hn=!1;function ma(e,t,n){for(n=n.child;n!==null;)kp(e,t,n),n=n.sibling}function kp(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 26:Mt||la(n,t),ma(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||la(n,t);var a=bt,i=hn;hi(n.type)&&(bt=n.stateNode,hn=!1),ma(e,t,n),Ks(n.stateNode),bt=a,hn=i;break;case 5:Mt||la(n,t);case 6:if(a=bt,i=hn,bt=null,ma(e,t,n),bt=a,hn=i,bt!==null)if(hn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(r){We(n,t,r)}else try{bt.removeChild(n.stateNode)}catch(r){We(n,t,r)}break;case 18:bt!==null&&(hn?(e=bt,vg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Jr(e)):vg(bt,n.stateNode));break;case 4:a=bt,i=hn,bt=n.stateNode.containerInfo,hn=!0,ma(e,t,n),bt=a,hn=i;break;case 0:case 11:case 14:case 15:ui(2,n,t),Mt||ui(4,n,t),ma(e,t,n);break;case 1:Mt||(la(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Dp(n,t,a)),ma(e,t,n);break;case 21:ma(e,t,n);break;case 22:Mt=(a=Mt)||n.memoizedState!==null,ma(e,t,n),Mt=a;break;default:ma(e,t,n)}}function Up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jr(e)}catch(n){We(t,t.return,n)}}}function zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jr(e)}catch(n){We(t,t.return,n)}}function ox(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error($(435,e.tag))}}function Zl(e,t){var n=ox(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=vx.bind(null,e,a);a.then(i,i)}})}function dn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(hi(l.type)){bt=l.stateNode,hn=!1;break e}break;case 5:bt=l.stateNode,hn=!1;break e;case 3:case 4:bt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(bt===null)throw Error($(160));kp(r,s,i),bt=null,hn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$p(t,e),t=t.sibling}var Wn=null;function $p(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(t,e),fn(e),a&4&&(ui(3,e,e.return),Ol(3,e),ui(5,e,e.return));break;case 1:dn(t,e),fn(e),a&512&&(Mt||n===null||la(n,n.return)),a&64&&_a&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Wn;if(dn(t,e),fn(e),a&512&&(Mt||n===null||la(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[xl]||r[Qt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Ft(r,a,n),r[Qt]=e,Gt(r),a=r;break e;case"link":var s=Eg("link","href",i).get(a+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(r=s[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}r=i.createElement(a),Ft(r,a,n),i.head.appendChild(r);break;case"meta":if(s=Eg("meta","content",i).get(a+(n.content||""))){for(l=0;l<s.length;l++)if(r=s[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}r=i.createElement(a),Ft(r,a,n),i.head.appendChild(r);break;default:throw Error($(468,a))}r[Qt]=e,Gt(r),a=r}e.stateNode=a}else Tg(i,e.type,e.stateNode);else e.stateNode=xg(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Tg(i,e.type,e.stateNode):xg(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Au(e,e.memoizedProps,n.memoizedProps)}break;case 27:dn(t,e),fn(e),a&512&&(Mt||n===null||la(n,n.return)),n!==null&&a&4&&Au(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dn(t,e),fn(e),a&512&&(Mt||n===null||la(n,n.return)),e.flags&32){i=e.stateNode;try{Lr(i,"")}catch(p){We(e,e.return,p)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Au(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Ru=!0);break;case 6:if(dn(t,e),fn(e),a&4){if(e.stateNode===null)throw Error($(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){We(e,e.return,p)}}break;case 3:if(jo=null,i=Wn,Wn=ec(t.containerInfo),dn(t,e),Wn=i,fn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(p){We(e,e.return,p)}Ru&&(Ru=!1,Bp(e));break;case 4:a=Wn,Wn=ec(e.stateNode.containerInfo),dn(t,e),fn(e),Wn=a;break;case 12:dn(t,e),fn(e);break;case 31:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 13:dn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ac=On()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 22:i=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=_a,d=Mt;if(_a=u||i,Mt=d||c,dn(t,e),Mt=d,_a=u,fn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||c||_a||Mt||ji(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(r=c.stateNode,i)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(p){We(c,c.return,p)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){We(c,c.return,p)}}}else if(t.tag===18){if(n===null){c=t;try{var f=c.stateNode;i?pg(f,!0):pg(c.stateNode,!1)}catch(p){We(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Zl(e,n))));break;case 19:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 30:break;case 21:break;default:dn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Ap(a)){n=a;break}a=a.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var i=n.stateNode,r=Cu(e);Ko(e,r,i);break;case 5:var s=n.stateNode;n.flags&32&&(Lr(s,""),n.flags&=-33);var l=Cu(e);Ko(e,l,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Cu(e);zd(e,u,c);break;default:throw Error($(161))}}catch(d){We(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rp(e,t.alternate,t),t=t.sibling}function ji(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ui(4,t,t.return),ji(t);break;case 1:la(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dp(t,t.return,n),ji(t);break;case 27:Ks(t.stateNode);case 26:case 5:la(t,t.return),ji(t);break;case 22:t.memoizedState===null&&ji(t);break;case 30:ji(t);break;default:ji(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:va(i,r,n),Ol(4,r);break;case 1:if(va(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){We(a,a.return,u)}if(a=r,i=a.updateQueue,i!==null){var l=a.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Uv(c[i],l)}catch(u){We(a,a.return,u)}}n&&s&64&&Op(r),Ys(r,r.return);break;case 27:Cp(r);case 26:case 5:va(i,r,n),n&&a===null&&s&4&&Np(r),Ys(r,r.return);break;case 12:va(i,r,n);break;case 31:va(i,r,n),n&&s&4&&Up(i,r);break;case 13:va(i,r,n),n&&s&4&&zp(i,r);break;case 22:r.memoizedState===null&&va(i,r,n),Ys(r,r.return);break;case 30:break;default:va(i,r,n)}t=t.sibling}}function rh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Tl(n))}function sh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e))}function Qn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hp(e,t,n,a),t=t.sibling}function Hp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Qn(e,t,n,a),i&2048&&Ol(9,t);break;case 1:Qn(e,t,n,a);break;case 3:Qn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e)));break;case 12:if(i&2048){Qn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,l=r.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){We(t,t.return,c)}}else Qn(e,t,n,a);break;case 31:Qn(e,t,n,a);break;case 13:Qn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?Qn(e,t,n,a):Is(e,t):r._visibility&2?Qn(e,t,n,a):(r._visibility|=2,dr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&rh(s,t);break;case 24:Qn(e,t,n,a),i&2048&&sh(t.alternate,t);break;default:Qn(e,t,n,a)}}function dr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,l=n,c=a,u=s.flags;switch(s.tag){case 0:case 11:case 15:dr(r,s,l,c,i),Ol(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?dr(r,s,l,c,i):Is(r,s):(d._visibility|=2,dr(r,s,l,c,i)),i&&u&2048&&rh(s.alternate,s);break;case 24:dr(r,s,l,c,i),i&&u&2048&&sh(s.alternate,s);break;default:dr(r,s,l,c,i)}t=t.sibling}}function Is(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Is(n,a),i&2048&&rh(a.alternate,a);break;case 24:Is(n,a),i&2048&&sh(a.alternate,a);break;default:Is(n,a)}t=t.sibling}}var Cs=8192;function ir(e,t,n){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)Lp(e,t,n),e=e.sibling}function Lp(e,t,n){switch(e.tag){case 26:ir(e,t,n),e.flags&Cs&&e.memoizedState!==null&&Jx(n,Wn,e.memoizedState,e.memoizedProps);break;case 5:ir(e,t,n);break;case 3:case 4:var a=Wn;Wn=ec(e.stateNode.containerInfo),ir(e,t,n),Wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Cs,Cs=16777216,ir(e,t,n),Cs=a):ir(e,t,n));break;default:ir(e,t,n)}}function qp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ts(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];It=a,Ip(a,e)}qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:Ts(e),e.flags&2048&&ui(9,e,e.return);break;case 3:Ts(e);break;case 12:Ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Eo(e)):Ts(e);break;default:Ts(e)}}function Eo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];It=a,Ip(a,e)}qp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ui(8,t,t.return),Eo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Eo(t));break;default:Eo(t)}e=e.sibling}}function Ip(e,t){for(;It!==null;){var n=It;switch(n.tag){case 0:case 11:case 15:ui(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Tl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,It=a;else e:for(n=e;It!==null;){a=It;var i=a.sibling,r=a.return;if(Mp(a),a===n){It=null;break e}if(i!==null){i.return=r,It=i;break e}It=r}}}var cx={getCacheForType:function(e){var t=Zt(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Zt(kt).controller.signal}},ux=typeof WeakMap=="function"?WeakMap:Map,Ke=0,lt=null,Re=null,Me=0,Fe=0,wn=null,Pa=!1,ns=!1,lh=!1,Ca=0,Et=0,di=0,Bi=0,oh=0,jn=0,Vr=0,Vs=null,mn=null,$d=!1,Ac=0,Vp=0,Xo=1/0,Jo=null,ai=null,qt=0,ii=null,Gr=null,ja=0,Bd=0,Hd=null,Gp=null,Gs=0,Ld=null;function An(){return Ke&2&&Me!==0?Me&-Me:ve.T!==null?uh():ev()}function Kp(){if(jn===0)if(!(Me&536870912)||He){var e=Il;Il<<=1,!(Il&3932160)&&(Il=262144),jn=e}else jn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),jn}function gn(e,t,n){(e===lt&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Kr(e,0),Za(e,Me,jn,!1)),Sl(e,n),(!(Ke&2)||e!==lt)&&(e===lt&&(!(Ke&2)&&(Bi|=n),Et===4&&Za(e,Me,jn,!1)),ua(e))}function Xp(e,t,n){if(Ke&6)throw Error($(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||wl(e,t),i=a?hx(e,t):Mu(e,t,!0),r=a;do{if(i===0){ns&&!a&&Za(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!dx(n)){i=Mu(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;i=Vs;var c=l.current.memoizedState.isDehydrated;if(c&&(Kr(l,s).flags|=256),s=Mu(l,s,!1),s!==2){if(lh&&!c){l.errorRecoveryDisabledLanes|=r,Bi|=r,i=4;break e}r=mn,mn=i,r!==null&&(mn===null?mn=r:mn.push.apply(mn,r))}i=s}if(r=!1,i!==2)continue}}if(i===1){Kr(e,0),Za(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Za(a,t,jn,!Pa);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(i=Ac+300-On(),10<i)){if(Za(a,t,jn,!Pa),bc(a,0,!0)!==0)break e;ja=t,a.timeoutHandle=h0(rg.bind(null,a,n,mn,Jo,$d,t,jn,Bi,Vr,Pa,r,"Throttled",-0,0),i);break e}rg(a,n,mn,Jo,$d,t,jn,Bi,Vr,Pa,r,null,-0,0)}}break}while(!0);ua(e)}function rg(e,t,n,a,i,r,s,l,c,u,d,h,m,f){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},Lp(t,r,h);var p=(r&62914560)===r?Ac-On():(r&4194048)===r?Vp-On():0;if(p=Qx(h,p),p!==null){ja=r,e.cancelPendingCommit=p(lg.bind(null,e,t,r,n,a,i,s,l,c,d,h,null,m,f)),Za(e,r,s,!u);return}}lg(e,t,r,n,a,i,s,l,c)}function dx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!Cn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,n,a){t&=~oh,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Nn(i),s=1<<r;a[r]=-1,i&=~s}n!==0&&Zy(e,n,t)}function Cc(){return Ke&6?!0:(Dl(0),!1)}function ch(){if(Re!==null){if(Fe===0)var e=Re.return;else e=Re,xa=Zi=null,Jf(e),Rr=null,rl=0,e=Re;for(;e!==null;)jp(e.alternate,e),e=e.return;Re=null}}function Kr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Cx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ja=0,ch(),lt=e,Re=n=Ea(e.current,null),Me=t,Fe=0,wn=null,Pa=!1,ns=wl(e,t),lh=!1,Vr=jn=oh=Bi=di=Et=0,mn=Vs=null,$d=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Nn(a),r=1<<i;t|=e[i],a&=~r}return Ca=t,xc(),n}function Jp(e,t){Oe=null,ve.H=ll,t===ts||t===Tc?(t=$m(),Fe=3):t===qf?(t=$m(),Fe=4):Fe=t===ah?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Re===null&&(Et=1,Vo(e,Yn(t,e.current)))}function Qp(){var e=Rn.current;return e===null?!0:(Me&4194048)===Me?Vn===null:(Me&62914560)===Me||Me&536870912?e===Vn:!1}function Pp(){var e=ve.H;return ve.H=ll,e===null?ll:e}function Zp(){var e=ve.A;return ve.A=cx,e}function Qo(){Et=4,Pa||(Me&4194048)!==Me&&Rn.current!==null||(ns=!0),!(di&134217727)&&!(Bi&134217727)||lt===null||Za(lt,Me,jn,!1)}function Mu(e,t,n){var a=Ke;Ke|=2;var i=Pp(),r=Zp();(lt!==e||Me!==t)&&(Jo=null,Kr(e,t)),t=!1;var s=Et;e:do try{if(Fe!==0&&Re!==null){var l=Re,c=wn;switch(Fe){case 8:ch(),s=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(t=!0);var u=Fe;if(Fe=0,wn=null,Or(e,l,c,u),n&&ns){s=0;break e}break;default:u=Fe,Fe=0,wn=null,Or(e,l,c,u)}}fx(),s=Et;break}catch(d){Jp(e,d)}while(!0);return t&&e.shellSuspendCounter++,xa=Zi=null,Ke=a,ve.H=i,ve.A=r,Re===null&&(lt=null,Me=0,xc()),s}function fx(){for(;Re!==null;)Fp(Re)}function hx(e,t){var n=Ke;Ke|=2;var a=Pp(),i=Zp();lt!==e||Me!==t?(Jo=null,Xo=On()+500,Kr(e,t)):ns=wl(e,t);e:do try{if(Fe!==0&&Re!==null){t=Re;var r=wn;t:switch(Fe){case 1:Fe=0,wn=null,Or(e,t,r,1);break;case 2:case 9:if(zm(r)){Fe=0,wn=null,sg(t);break}t=function(){Fe!==2&&Fe!==9||lt!==e||(Fe=7),ua(e)},r.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:zm(r)?(Fe=0,wn=null,sg(t)):(Fe=0,wn=null,Or(e,t,r,7));break;case 5:var s=null;switch(Re.tag){case 26:s=Re.memoizedState;case 5:case 27:var l=Re;if(s?p0(s):l.stateNode.complete){Fe=0,wn=null;var c=l.sibling;if(c!==null)Re=c;else{var u=l.return;u!==null?(Re=u,Rc(u)):Re=null}break t}}Fe=0,wn=null,Or(e,t,r,5);break;case 6:Fe=0,wn=null,Or(e,t,r,6);break;case 8:ch(),Et=6;break e;default:throw Error($(462))}}mx();break}catch(d){Jp(e,d)}while(!0);return xa=Zi=null,ve.H=a,ve.A=i,Ke=n,Re!==null?0:(lt=null,Me=0,xc(),Et)}function mx(){for(;Re!==null&&!$w();)Fp(Re)}function Fp(e){var t=Tp(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,t===null?Rc(e):Re=t}function sg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wm(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Wm(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Jf(t);default:jp(n,t),t=Re=jv(t,Ca),t=Tp(n,t,Ca)}e.memoizedProps=e.pendingProps,t===null?Rc(e):Re=t}function Or(e,t,n,a){xa=Zi=null,Jf(t),Rr=null,rl=0;var i=t.return;try{if(nx(e,i,t,n,Me)){Et=1,Vo(e,Yn(n,e.current)),Re=null;return}}catch(r){if(i!==null)throw Re=i,r;Et=1,Vo(e,Yn(n,e.current)),Re=null;return}t.flags&32768?(He||a===1?e=!0:ns||Me&536870912?e=!1:(Pa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wp(t,e)):Rc(t)}function Rc(e){var t=e;do{if(t.flags&32768){Wp(t,Pa);return}e=t.return;var n=rx(t.alternate,t,Ca);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Et===0&&(Et=5)}function Wp(e,t){do{var n=sx(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);Et=6,Re=null}function lg(e,t,n,a,i,r,s,l,c){e.cancelPendingCommit=null;do Mc();while(qt!==0);if(Ke&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(r=t.lanes|t.childLanes,r|=kf,Xw(e,n,r,s,l,c),e===lt&&(Re=lt=null,Me=0),Gr=t,ii=e,ja=n,Bd=r,Hd=i,Gp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,px(Mo,function(){return i0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ve.T,ve.T=null,i=Xe.p,Xe.p=2,s=Ke,Ke|=4;try{lx(e,t,n)}finally{Ke=s,Xe.p=i,ve.T=a}}qt=1,e0(),t0(),n0()}}function e0(){if(qt===1){qt=0;var e=ii,t=Gr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ve.T,ve.T=null;var a=Xe.p;Xe.p=2;var i=Ke;Ke|=4;try{$p(t,e);var r=Vd,s=pv(e.containerInfo),l=r.focusedElem,c=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&vv(l.ownerDocument.documentElement,l)){if(c!==null&&Mf(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var f=m.getSelection(),p=l.textContent.length,b=Math.min(c.start,p),S=c.end===void 0?b:Math.min(c.end,p);!f.extend&&b>S&&(s=S,S=b,b=s);var v=Nm(l,b),g=Nm(l,S);if(v&&g&&(f.rangeCount!==1||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==g.node||f.focusOffset!==g.offset)){var y=h.createRange();y.setStart(v.node,v.offset),f.removeAllRanges(),b>S?(f.addRange(y),f.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),f.addRange(y))}}}}for(h=[],f=l;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var w=h[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ac=!!Id,Vd=Id=null}finally{Ke=i,Xe.p=a,ve.T=n}}e.current=t,qt=2}}function t0(){if(qt===2){qt=0;var e=ii,t=Gr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ve.T,ve.T=null;var a=Xe.p;Xe.p=2;var i=Ke;Ke|=4;try{Rp(e,t.alternate,t)}finally{Ke=i,Xe.p=a,ve.T=n}}qt=3}}function n0(){if(qt===4||qt===3){qt=0,Bw();var e=ii,t=Gr,n=ja,a=Gp;t.subtreeFlags&10256||t.flags&10256?qt=5:(qt=0,Gr=ii=null,a0(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ai=null),jf(n),t=t.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ve.T,i=Xe.p,Xe.p=2,ve.T=null;try{for(var r=e.onRecoverableError,s=0;s<a.length;s++){var l=a[s];r(l.value,{componentStack:l.stack})}}finally{ve.T=t,Xe.p=i}}ja&3&&Mc(),ua(e),i=e.pendingLanes,n&261930&&i&42?e===Ld?Gs++:(Gs=0,Ld=e):Gs=0,Dl(0)}}function a0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tl(t)))}function Mc(){return e0(),t0(),n0(),i0()}function i0(){if(qt!==5)return!1;var e=ii,t=Bd;Bd=0;var n=jf(ja),a=ve.T,i=Xe.p;try{Xe.p=32>n?32:n,ve.T=null,n=Hd,Hd=null;var r=ii,s=ja;if(qt=0,Gr=ii=null,ja=0,Ke&6)throw Error($(331));var l=Ke;if(Ke|=4,Yp(r.current),Hp(r,r.current,s,n),Ke=l,Dl(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(_l,r)}catch{}return!0}finally{Xe.p=i,ve.T=a,a0(e,t)}}function og(e,t,n){t=Yn(n,t),t=Md(e.stateNode,t,2),e=ni(e,t,2),e!==null&&(Sl(e,2),ua(e))}function We(e,t,n){if(e.tag===3)og(e,e,n);else for(;t!==null;){if(t.tag===3){og(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ai===null||!ai.has(a))){e=Yn(n,e),n=bp(2),a=ni(t,n,2),a!==null&&(_p(n,a,t,e),Sl(a,2),ua(a));break}}t=t.return}}function ku(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ux;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(lh=!0,i.add(n),e=gx.bind(null,e,t,n),t.then(e,e))}function gx(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Me&n)===n&&(Et===4||Et===3&&(Me&62914560)===Me&&300>On()-Ac?!(Ke&2)&&Kr(e,0):oh|=n,Vr===Me&&(Vr=0)),ua(e)}function r0(e,t){t===0&&(t=Py()),e=Pi(e,t),e!==null&&(Sl(e,t),ua(e))}function yx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),r0(e,n)}function vx(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error($(314))}a!==null&&a.delete(t),r0(e,n)}function px(e,t){return Ef(e,t)}var Po=null,fr=null,qd=!1,Zo=!1,Uu=!1,Fa=0;function ua(e){e!==fr&&e.next===null&&(fr===null?Po=fr=e:fr=fr.next=e),Zo=!0,qd||(qd=!0,_x())}function Dl(e,t){if(!Uu&&Zo){Uu=!0;do for(var n=!1,a=Po;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var s=a.suspendedLanes,l=a.pingedLanes;r=(1<<31-Nn(42|e)+1)-1,r&=i&~(s&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cg(a,r))}else r=Me,r=bc(a,a===lt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(r&3)||wl(a,r)||(n=!0,cg(a,r));a=a.next}while(n);Uu=!1}}function bx(){s0()}function s0(){Zo=qd=!1;var e=0;Fa!==0&&Ax()&&(e=Fa);for(var t=On(),n=null,a=Po;a!==null;){var i=a.next,r=l0(a,t);r===0?(a.next=null,n===null?Po=i:n.next=i,i===null&&(fr=n)):(n=a,(e!==0||r&3)&&(Zo=!0)),a=i}qt!==0&&qt!==5||Dl(e),Fa!==0&&(Fa=0)}function l0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-Nn(r),l=1<<s,c=i[s];c===-1?(!(l&n)||l&a)&&(i[s]=Kw(l,t)):c<=t&&(e.expiredLanes|=l),r&=~l}if(t=lt,n=Me,n=bc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&cu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||wl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&cu(a),jf(n)){case 2:case 8:n=Jy;break;case 32:n=Mo;break;case 268435456:n=Qy;break;default:n=Mo}return a=o0.bind(null,e),n=Ef(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&cu(a),e.callbackPriority=2,e.callbackNode=null,2}function o0(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mc()&&e.callbackNode!==n)return null;var a=Me;return a=bc(e,e===lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xp(e,a,t),l0(e,On()),e.callbackNode!=null&&e.callbackNode===n?o0.bind(null,e):null)}function cg(e,t){if(Mc())return null;Xp(e,t,!0)}function _x(){Rx(function(){Ke&6?Ef(Xy,bx):s0()})}function uh(){if(Fa===0){var e=qr;e===0&&(e=Yl,Yl<<=1,!(Yl&261888)&&(Yl=256)),Fa=e}return Fa}function ug(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:go(""+e)}function dg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function wx(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=ug((i[yn]||null).action),s=a.submitter;s&&(t=(t=s[yn]||null)?ug(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var l=new _c("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fa!==0){var c=s?dg(i,s):new FormData(i);Cd(n,{pending:!0,data:c,method:i.method,action:r},null,c)}}else typeof r=="function"&&(l.preventDefault(),c=s?dg(i,s):new FormData(i),Cd(n,{pending:!0,data:c,method:i.method,action:r},r,c))},currentTarget:i}]})}}for(var zu=0;zu<bd.length;zu++){var $u=bd[zu],Sx=$u.toLowerCase(),xx=$u[0].toUpperCase()+$u.slice(1);aa(Sx,"on"+xx)}aa(_v,"onAnimationEnd");aa(wv,"onAnimationIteration");aa(Sv,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(HS,"onTransitionRun");aa(LS,"onTransitionStart");aa(qS,"onTransitionCancel");aa(xv,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function c0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(d){Uo(d)}i.currentTarget=null,r=c}else for(s=0;s<a.length;s++){if(l=a[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(d){Uo(d)}i.currentTarget=null,r=c}}}}function Ce(e,t){var n=t[dd];n===void 0&&(n=t[dd]=new Set);var a=e+"__bubble";n.has(a)||(u0(t,e,2,!1),n.add(a))}function Bu(e,t,n){var a=0;t&&(a|=4),u0(n,e,a,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function dh(e){if(!e[Fl]){e[Fl]=!0,tv.forEach(function(n){n!=="selectionchange"&&(Ex.has(n)||Bu(n,!1,e),Bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,Bu("selectionchange",!1,t))}}function u0(e,t,n,a){switch(x0(t)){case 2:var i=Fx;break;case 8:i=Wx;break;default:i=gh}n=i.bind(null,t,n,e),i=void 0,!yd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,a,i){var r=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var l=a.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=a.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=pr(l),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){a=r=s;continue e}l=l.parentNode}}a=a.return}cv(function(){var u=r,d=Nf(n),h=[];e:{var m=Ev.get(e);if(m!==void 0){var f=_c,p=e;switch(e){case"keypress":if(vo(n)===0)break e;case"keydown":case"keyup":f=vS;break;case"focusin":p="focus",f=mu;break;case"focusout":p="blur",f=mu;break;case"beforeblur":case"afterblur":f=mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=_S;break;case _v:case wv:case Sv:f=oS;break;case xv:f=SS;break;case"scroll":case"scrollend":f=aS;break;case"wheel":f=ES;break;case"copy":case"cut":case"paste":f=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wm;break;case"toggle":case"beforetoggle":f=jS}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),v=b?m!==null?m+"Capture":null:m;b=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||v===null||(w=el(g,v),w!=null&&b.push(cl(g,w,y))),S)break;g=g.return}0<b.length&&(m=new f(m,p,null,n,d),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&n!==gd&&(p=n.relatedTarget||n.fromElement)&&(pr(p)||p[Fr]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?pr(p):null,p!==null&&(S=bl(p),b=p.tag,p!==S||b!==5&&b!==27&&b!==6)&&(p=null)):(f=null,p=u),f!==p)){if(b=bm,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=wm,w="onPointerLeave",v="onPointerEnter",g="pointer"),S=f==null?m:Ns(f),y=p==null?m:Ns(p),m=new b(w,g+"leave",f,n,d),m.target=S,m.relatedTarget=y,w=null,pr(d)===u&&(b=new b(v,g+"enter",p,n,d),b.target=y,b.relatedTarget=S,w=b),S=w,f&&p)t:{for(b=Tx,v=f,g=p,y=0,w=v;w;w=b(w))y++;w=0;for(var x=g;x;x=b(x))w++;for(;0<y-w;)v=b(v),y--;for(;0<w-y;)g=b(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate){b=v;break t}v=b(v),g=b(g)}b=null}else b=null;f!==null&&fg(h,m,f,b,!1),p!==null&&S!==null&&fg(h,S,p,b,!0)}}e:{if(m=u?Ns(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var T=Tm;else if(Em(m))if(gv)T=zS;else{T=kS;var E=MS}else f=m.nodeName,!f||f.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Df(u.elementType)&&(T=Tm):T=US;if(T&&(T=T(e,u))){mv(h,T,n,d);break e}E&&E(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&md(m,"number",m.value)}switch(E=u?Ns(u):window,e){case"focusin":(Em(E)||E.contentEditable==="true")&&(wr=E,vd=u,zs=null);break;case"focusout":zs=vd=wr=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,Am(h,n,d);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Am(h,n,d)}var j;if(Rf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _r?fv(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dv&&n.locale!=="ko"&&(_r||A!=="onCompositionStart"?A==="onCompositionEnd"&&_r&&(j=uv()):(Qa=d,Af="value"in Qa?Qa.value:Qa.textContent,_r=!0)),E=Fo(u,A),0<E.length&&(A=new _m(A,e,null,n,d),h.push({event:A,listeners:E}),j?A.data=j:(j=hv(n),j!==null&&(A.data=j)))),(j=DS?NS(e,n):AS(e,n))&&(A=Fo(u,"onBeforeInput"),0<A.length&&(E=new _m("onBeforeInput","beforeinput",null,n,d),h.push({event:E,listeners:A}),E.data=j)),wx(h,e,u,n,d)}c0(h,t)})}function cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=el(e,n),i!=null&&a.unshift(cl(e,i,r)),i=el(e,t),i!=null&&a.push(cl(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Tx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fg(e,t,n,a,i){for(var r=t._reactName,s=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=el(n,r),u!=null&&s.unshift(cl(n,u,c))):i||(u=el(n,r),u!=null&&s.push(cl(n,u,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var jx=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Ox,"")}function d0(e,t){return t=hg(t),hg(e)===t}function at(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Lr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Lr(e,""+a);break;case"className":Gl(e,"class",a);break;case"tabIndex":Gl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(e,n,a);break;case"style":ov(e,a,r);break;case"data":if(t!=="object"){Gl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=go(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&at(e,t,"name",i.name,i,null),at(e,t,"formEncType",i.formEncType,i,null),at(e,t,"formMethod",i.formMethod,i,null),at(e,t,"formTarget",i.formTarget,i,null)):(at(e,t,"encType",i.encType,i,null),at(e,t,"method",i.method,i,null),at(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=go(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=go(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),mo(e,"popover",a);break;case"xlinkActuate":fa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":fa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":fa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":fa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":fa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":fa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":fa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":fa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":fa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":mo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tS.get(n)||n,mo(e,n,a))}}function Yd(e,t,n,a,i,r){switch(n){case"style":ov(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Lr(e,a):(typeof a=="number"||typeof a=="bigint")&&Lr(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[yn]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):mo(e,n,a)}}}function Ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:at(e,t,r,s,n,null)}}i&&at(e,t,"srcSet",n.srcSet,n,null),a&&at(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var l=r=s=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error($(137,t));break;default:at(e,t,a,d,n,null)}}rv(e,r,l,c,u,s,i,!1);return;case"select":Ce("invalid",e),a=s=r=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:at(e,t,i,l,n,null)}t=r,n=s,e.multiple=!!a,t!=null?Nr(e,!!a,t,!1):n!=null&&Nr(e,!!a,n,!0);return;case"textarea":Ce("invalid",e),r=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:at(e,t,s,l,n,null)}lv(e,a,i,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:at(e,t,c,a,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<ol.length;a++)Ce(ol[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:at(e,t,u,a,n,null)}return;default:if(Df(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&Yd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&at(e,t,l,a,n,null))}function Dx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(f)||at(e,t,f,null,a,h)}}for(var m in a){var f=a[m];if(h=n[m],a.hasOwnProperty(m)&&(f!=null||h!=null))switch(m){case"type":r=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:f!==h&&at(e,t,m,f,a,h)}}hd(e,s,l,c,u,d,r,i);return;case"select":f=s=l=m=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(r)||at(e,t,r,null,a,c)}for(i in a)if(r=a[i],c=n[i],a.hasOwnProperty(i)&&(r!=null||c!=null))switch(i){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":s=r;default:r!==c&&at(e,t,i,r,a,c)}t=l,n=s,a=f,m!=null?Nr(e,!!n,m,!1):!!a!=!!n&&(t!=null?Nr(e,!!n,t,!0):Nr(e,!!n,n?[]:"",!1));return;case"textarea":f=m=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:at(e,t,l,null,a,i)}for(s in a)if(i=a[s],r=n[s],a.hasOwnProperty(s)&&(i!=null||r!=null))switch(s){case"value":m=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error($(91));break;default:i!==r&&at(e,t,s,i,a,r)}sv(e,m,f);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:at(e,t,p,null,a,m)}for(c in a)if(m=a[c],f=n[c],a.hasOwnProperty(c)&&m!==f&&(m!=null||f!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:at(e,t,c,m,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&at(e,t,b,null,a,m);for(u in a)if(m=a[u],f=n[u],a.hasOwnProperty(u)&&m!==f&&(m!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:at(e,t,u,m,a,f)}return;default:if(Df(t)){for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!==void 0&&!a.hasOwnProperty(S)&&Yd(e,t,S,void 0,a,m);for(d in a)m=a[d],f=n[d],!a.hasOwnProperty(d)||m===f||m===void 0&&f===void 0||Yd(e,t,d,m,a,f);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v)&&at(e,t,v,null,a,m);for(h in a)m=a[h],f=n[h],!a.hasOwnProperty(h)||m===f||m==null&&f==null||at(e,t,h,m,a,f)}function mg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,s=i.initiatorType,l=i.duration;if(r&&l&&mg(s)){for(s=0,l=i.responseEnd,a+=1;a<n.length;a++){var c=n[a],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&mg(h)&&(c=c.responseEnd,s+=d*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(r+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Vd=null;function Wo(e){return e.nodeType===9?e:e.ownerDocument}function gg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=null;function Ax(){var e=window.event;return e&&e.type==="popstate"?e===Lu?!1:(Lu=e,!0):(Lu=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(e){return yg.resolve(null).then(e).catch(Mx)}:h0;function Mx(e){setTimeout(function(){throw e})}function hi(e){return e==="head"}function vg(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Jr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ks(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ks(n);for(var r=n.firstChild;r;){var s=r.nextSibling,l=r.nodeName;r[xl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&Ks(e.ownerDocument.body);n=i}while(n);Jr(t)}function pg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kd(n),Of(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function kx(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function Ux(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function m0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gn(e.nextSibling),e===null))return null;return e}function Xd(e){return e.data==="$?"||e.data==="$~"}function Jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qd=null;function bg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function _g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function g0(e,t,n){switch(t=Wo(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Of(e)}var Kn=new Map,wg=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=Xe.d;Xe.d={f:$x,r:Bx,D:Hx,C:Lx,L:qx,m:Yx,X:Vx,S:Ix,M:Gx};function $x(){var e=Ra.f(),t=Cc();return e||t}function Bx(e){var t=Wr(e);t!==null&&t.tag===5&&t.type==="form"?op(t):Ra.r(e)}var as=typeof document>"u"?null:document;function y0(e,t,n){var a=as;if(a&&typeof t=="string"&&t){var i=qn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),wg.has(i)||(wg.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Ft(t,"link",e),Gt(t),a.head.appendChild(t)))}}function Hx(e){Ra.D(e),y0("dns-prefetch",e,null)}function Lx(e,t){Ra.C(e,t),y0("preconnect",e,t)}function qx(e,t,n){Ra.L(e,t,n);var a=as;if(a&&e&&t){var i='link[rel="preload"][as="'+qn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+qn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+qn(n.imageSizes)+'"]')):i+='[href="'+qn(e)+'"]';var r=i;switch(t){case"style":r=Xr(e);break;case"script":r=is(e)}Kn.has(r)||(e=vt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Kn.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Nl(r))||t==="script"&&a.querySelector(Al(r))||(t=a.createElement("link"),Ft(t,"link",e),Gt(t),a.head.appendChild(t)))}}function Yx(e,t){Ra.m(e,t);var n=as;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+qn(a)+'"][href="'+qn(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=is(e)}if(!Kn.has(r)&&(e=vt({rel:"modulepreload",href:e},t),Kn.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Al(r)))return}a=n.createElement("link"),Ft(a,"link",e),Gt(a),n.head.appendChild(a)}}}function Ix(e,t,n){Ra.S(e,t,n);var a=as;if(a&&e){var i=Dr(a).hoistableStyles,r=Xr(e);t=t||"default";var s=i.get(r);if(!s){var l={loading:0,preload:null};if(s=a.querySelector(Nl(r)))l.loading=5;else{e=vt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Kn.get(r))&&fh(e,n);var c=s=a.createElement("link");Gt(c),Ft(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,To(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(r,s)}}}function Vx(e,t){Ra.X(e,t);var n=as;if(n&&e){var a=Dr(n).hoistableScripts,i=is(e),r=a.get(i);r||(r=n.querySelector(Al(i)),r||(e=vt({src:e,async:!0},t),(t=Kn.get(i))&&hh(e,t),r=n.createElement("script"),Gt(r),Ft(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Gx(e,t){Ra.M(e,t);var n=as;if(n&&e){var a=Dr(n).hoistableScripts,i=is(e),r=a.get(i);r||(r=n.querySelector(Al(i)),r||(e=vt({src:e,async:!0,type:"module"},t),(t=Kn.get(i))&&hh(e,t),r=n.createElement("script"),Gt(r),Ft(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Sg(e,t,n,a){var i=(i=Wa.current)?ec(i):null;if(!i)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xr(n.href),n=Dr(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xr(n.href);var r=Dr(i).hoistableStyles,s=r.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=i.querySelector(Nl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),Kn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kn.set(e,n),r||Kx(i,e,n,s.state))),t&&a===null)throw Error($(528,""));return s}if(t&&a!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(n),n=Dr(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Xr(e){return'href="'+qn(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function v0(e){return vt({},e,{"data-precedence":e.precedence,precedence:null})}function Kx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ft(t,"link",n),Gt(t),e.head.appendChild(t))}function is(e){return'[src="'+qn(e)+'"]'}function Al(e){return"script[async]"+e}function xg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+qn(n.href)+'"]');if(a)return t.instance=a,Gt(a),a;var i=vt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Gt(a),Ft(a,"style",i),To(a,n.precedence,e),t.instance=a;case"stylesheet":i=Xr(n.href);var r=e.querySelector(Nl(i));if(r)return t.state.loading|=4,t.instance=r,Gt(r),r;a=v0(n),(i=Kn.get(i))&&fh(a,i),r=(e.ownerDocument||e).createElement("link"),Gt(r);var s=r;return s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Ft(r,"link",a),t.state.loading|=4,To(r,n.precedence,e),t.instance=r;case"script":return r=is(n.src),(i=e.querySelector(Al(r)))?(t.instance=i,Gt(i),i):(a=n,(i=Kn.get(r))&&(a=vt({},n),hh(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Gt(i),Ft(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,To(a,n.precedence,e));return t.instance}function To(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,s=0;s<a.length;s++){var l=a[s];if(l.dataset.precedence===t)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jo=null;function Eg(e,t,n){if(jo===null){var a=new Map,i=jo=new Map;i.set(n,a)}else i=jo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[xl]||r[Qt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var l=a.get(s);l?l.push(r):a.set(s,[r])}}return a}function Tg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Jx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Xr(a.href),r=t.querySelector(Nl(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=tc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Gt(r);return}r=t.ownerDocument||t,a=v0(a),(i=Kn.get(i))&&fh(a,i),r=r.createElement("link"),Gt(r);var s=r;s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Ft(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=tc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var qu=0;function Qx(e,t){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&qu===0&&(qu=62500*Nx());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>qu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function Oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,t.forEach(Px,e),nc=null,tc.call(e))}function Px(e,t){if(!(t.state.loading&4)){var n=nc.get(e);if(n)var a=n.get(null);else{n=new Map,nc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var s=i[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),r=n.get(s)||a,r===a&&n.set(null,i),n.set(s,i),this.count++,a=tc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ul={$$typeof:wa,Provider:null,Consumer:null,_currentValue:ki,_currentValue2:ki,_threadCount:0};function Zx(e,t,n,a,i,r,s,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.hiddenUpdates=uu(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function b0(e,t,n,a,i,r,s,l,c,u,d,h){return e=new Zx(e,t,n,s,c,u,d,h,l),t=1,r===!0&&(t|=24),r=xn(3,null,null,t),e.current=r,r.stateNode=e,t=Hf(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Yf(r),e}function _0(e){return e?(e=Er,e):Er}function w0(e,t,n,a,i,r){i=_0(i),a.context===null?a.context=i:a.pendingContext=i,a=ti(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ni(e,a,t),n!==null&&(gn(n,e,t),Bs(n,e,t))}function jg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mh(e,t){jg(e,t),(e=e.alternate)&&jg(e,t)}function S0(e){if(e.tag===13||e.tag===31){var t=Pi(e,67108864);t!==null&&gn(t,e,67108864),mh(e,67108864)}}function Og(e){if(e.tag===13||e.tag===31){var t=An();t=Tf(t);var n=Pi(e,t);n!==null&&gn(n,e,t),mh(e,t)}}var ac=!0;function Fx(e,t,n,a){var i=ve.T;ve.T=null;var r=Xe.p;try{Xe.p=2,gh(e,t,n,a)}finally{Xe.p=r,ve.T=i}}function Wx(e,t,n,a){var i=ve.T;ve.T=null;var r=Xe.p;try{Xe.p=8,gh(e,t,n,a)}finally{Xe.p=r,ve.T=i}}function gh(e,t,n,a){if(ac){var i=Pd(a);if(i===null)Hu(e,t,a,ic,n),Dg(e,a);else if(t1(i,e,t,n,a))a.stopPropagation();else if(Dg(e,a),t&4&&-1<e1.indexOf(e)){for(;i!==null;){var r=Wr(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Ei(r.pendingLanes);if(s!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var c=1<<31-Nn(s);l.entanglements[1]|=c,s&=~c}ua(r),!(Ke&6)&&(Xo=On()+500,Dl(0))}}break;case 31:case 13:l=Pi(r,2),l!==null&&gn(l,r,2),Cc(),mh(r,2)}if(r=Pd(a),r===null&&Hu(e,t,a,ic,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Hu(e,t,a,null,n)}}function Pd(e){return e=Nf(e),yh(e)}var ic=null;function yh(e){if(ic=null,e=pr(e),e!==null){var t=bl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Yy(t),e!==null)return e;e=null}else if(n===31){if(e=Iy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ic=e,null}function x0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hw()){case Xy:return 2;case Jy:return 8;case Mo:case Lw:return 32;case Qy:return 268435456;default:return 32}default:return 32}}var Zd=!1,ri=null,si=null,li=null,dl=new Map,fl=new Map,Ka=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(t.pointerId)}}function js(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Wr(t),t!==null&&S0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function t1(e,t,n,a,i){switch(t){case"focusin":return ri=js(ri,e,t,n,a,i),!0;case"dragenter":return si=js(si,e,t,n,a,i),!0;case"mouseover":return li=js(li,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return dl.set(r,js(dl.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,fl.set(r,js(fl.get(r)||null,e,t,n,a,i)),!0}return!1}function E0(e){var t=pr(e.target);if(t!==null){var n=bl(t);if(n!==null){if(t=n.tag,t===13){if(t=Yy(n),t!==null){e.blockedOn=t,fm(e.priority,function(){Og(n)});return}}else if(t===31){if(t=Iy(n),t!==null){e.blockedOn=t,fm(e.priority,function(){Og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pd(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);gd=a,n.target.dispatchEvent(a),gd=null}else return t=Wr(n),t!==null&&S0(t),e.blockedOn=n,!1;t.shift()}return!0}function Ng(e,t,n){Do(e)&&n.delete(t)}function n1(){Zd=!1,ri!==null&&Do(ri)&&(ri=null),si!==null&&Do(si)&&(si=null),li!==null&&Do(li)&&(li=null),dl.forEach(Ng),fl.forEach(Ng)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,n1)))}var eo=null;function Ag(e){eo!==e&&(eo=e,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,function(){eo===e&&(eo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(yh(a||n)===null)continue;break}var r=Wr(n);r!==null&&(e.splice(t,3),t-=3,Cd(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Jr(e){function t(c){return Wl(c,e)}ri!==null&&Wl(ri,e),si!==null&&Wl(si,e),li!==null&&Wl(li,e),dl.forEach(t),fl.forEach(t);for(var n=0;n<Ka.length;n++){var a=Ka[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)E0(n),n.blockedOn===null&&Ka.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],s=i[yn]||null;if(typeof r=="function")s||Ag(n);else if(s){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,s=r[yn]||null)l=s.formAction;else if(yh(i)!==null)continue}else l=s.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Ag(n)}}}function T0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vh(e){this._internalRoot=e}kc.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,a=An();w0(n,a,e,t,null,null)};kc.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;w0(e.current,2,null,e,null,null),Cc(),t[Fr]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ev();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ka.length&&t!==0&&t<Ka[n].priority;n++);Ka.splice(n,0,e),n===0&&E0(e)}};var Cg=Ly.version;if(Cg!=="19.2.0")throw Error($(527,Cg,"19.2.0"));Xe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Rw(t),e=e!==null?Vy(e):null,e=e===null?null:e.stateNode,e};var a1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ve,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{_l=to.inject(a1),Dn=to}catch{}}vc.createRoot=function(e,t){if(!qy(e))throw Error($(299));var n=!1,a="",i=yp,r=vp,s=pp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=b0(e,1,!1,null,null,n,a,null,i,r,s,T0),e[Fr]=t.current,dh(e),new vh(t)};vc.hydrateRoot=function(e,t,n){if(!qy(e))throw Error($(299));var a=!1,i="",r=yp,s=vp,l=pp,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=b0(e,1,!0,t,n??null,a,i,c,r,s,l,T0),t.context=_0(null),n=t.current,a=An(),a=Tf(a),i=ti(a),i.callback=null,ni(n,i,a),n=a,t.current.lanes=n,Sl(t,n),ua(t),e[Fr]=t.current,dh(e),new kc(t)};vc.version="19.2.0";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(e){console.error(e)}}j0(),My.exports=vc;var i1=My.exports,Fd=function(e,t){return Fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Fd(e,t)};function O0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rc=function(){return rc=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)};function rs(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function D0(e,t,n,a){var i=arguments.length,r=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function N0(e,t){return function(n,a){t(n,a,e)}}function A0(e,t,n,a,i,r){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,f=n.length-1;f>=0;f--){var p={};for(var b in a)p[b]=b==="access"?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");r.push(s(v||null))};var S=(0,n[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=s(S.get))&&(d.get=h),(h=s(S.set))&&(d.set=h),(h=s(S.init))&&i.unshift(h)}else(h=s(S))&&(l==="field"?i.unshift(h):d[c]=h)}u&&Object.defineProperty(u,a.name,d),m=!0}function C0(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function R0(e){return typeof e=="symbol"?e:"".concat(e)}function M0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function k0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ie(e,t,n,a){function i(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(d){try{u(a.next(d))}catch(h){s(h)}}function c(d){try{u(a.throw(d))}catch(h){s(h)}}function u(d){d.done?r(d.value):i(d.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}function U0(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,i,r,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return c([u,d])}}function c(u){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(r=u[0]&2?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{a=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Uc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function z0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Uc(t,e,n)}function sc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ph(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,r=[],s;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)r.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return r}function $0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ph(arguments[t]));return e}function B0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],s=0,l=r.length;s<l;s++,i++)a[i]=r[s];return a}function H0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,r;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Qr(e){return this instanceof Qr?(this.v=e,this):new Qr(e)}function L0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,h)}}function l(f,p){a[f]&&(i[f]=function(b){return new Promise(function(S,v){r.push([f,b,S,v])>1||c(f,b)})},p&&(i[f]=p(i[f])))}function c(f,p){try{u(a[f](p))}catch(b){m(r[0][3],b)}}function u(f){f.value instanceof Qr?Promise.resolve(f.value.v).then(d,h):m(r[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function m(f,p){f(p),r.shift(),r.length&&c(r[0][0],r[0][1])}}function q0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,r){t[i]=e[i]?function(s){return(n=!n)?{value:Qr(e[i](s)),done:!1}:r?r(s):s}:r}}function Y0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sc=="function"?sc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(r){n[r]=e[r]&&function(s){return new Promise(function(l,c){s=e[r](s),i(l,c,s.done,s.value)})}}function i(r,s,l,c){Promise.resolve(c).then(function(u){r({value:u,done:l})},s)}}function I0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var r1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Wd=function(e){return Wd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Wd(e)};function V0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Wd(e),a=0;a<n.length;a++)n[a]!=="default"&&Uc(t,e,n[a]);return r1(t,e),t}function G0(e){return e&&e.__esModule?e:{default:e}}function K0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function X0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function J0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Q0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var s1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function P0(e){function t(r){e.error=e.hasError?new s1(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(r).then(i,function(s){return t(s),i()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Z0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,r,s){return a?t?".jsx":".js":i&&(!r||!s)?n:i+r+"."+s.toLowerCase()+"js"}):e}const l1={__extends:O0,__assign:rc,__rest:rs,__decorate:D0,__param:N0,__esDecorate:A0,__runInitializers:C0,__propKey:R0,__setFunctionName:M0,__metadata:k0,__awaiter:ie,__generator:U0,__createBinding:Uc,__exportStar:z0,__values:sc,__read:ph,__spread:$0,__spreadArrays:B0,__spreadArray:H0,__await:Qr,__asyncGenerator:L0,__asyncDelegator:q0,__asyncValues:Y0,__makeTemplateObject:I0,__importStar:V0,__importDefault:G0,__classPrivateFieldGet:K0,__classPrivateFieldSet:X0,__classPrivateFieldIn:J0,__addDisposableResource:Q0,__disposeResources:P0,__rewriteRelativeImportExtension:Z0},o1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q0,get __assign(){return rc},__asyncDelegator:q0,__asyncGenerator:L0,__asyncValues:Y0,__await:Qr,__awaiter:ie,__classPrivateFieldGet:K0,__classPrivateFieldIn:J0,__classPrivateFieldSet:X0,__createBinding:Uc,__decorate:D0,__disposeResources:P0,__esDecorate:A0,__exportStar:z0,__extends:O0,__generator:U0,__importDefault:G0,__importStar:V0,__makeTemplateObject:I0,__metadata:k0,__param:N0,__propKey:R0,__read:ph,__rest:rs,__rewriteRelativeImportExtension:Z0,__runInitializers:C0,__setFunctionName:M0,__spread:$0,__spreadArray:H0,__spreadArrays:B0,__values:sc,default:l1},Symbol.toStringTag,{value:"Module"})),c1="modulepreload",u1=function(e){return"/todo-note/"+e},Rg={},ss=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=u1(c),c in Rg)return;Rg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":c1,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},d1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Fi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class bh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Mg extends bh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kg extends bh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ug extends bh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ef;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ef||(ef={}));class f1{constructor(t,{headers:n={},customFetch:a,region:i=ef.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=d1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ie(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:r,method:s,body:l,signal:c}=a;let u={},{region:d}=a;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const f=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:m,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new Mg(v)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new kg(f);if(!f.ok)throw new Ug(f);let b=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield f.json():b==="application/octet-stream"||b==="application/pdf"?S=yield f.blob():b==="text/event-stream"?S=f:b==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new Mg(r)}:{data:null,error:r,response:r instanceof Ug||r instanceof kg?r.context:void 0}}})}}var an={};const ls=xy(o1);var no={},ao={},io={},ro={},so={},h1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=h1();const m1=Pr.fetch,F0=Pr.fetch.bind(Pr),W0=Pr.Headers,g1=Pr.Request,y1=Pr.Response,Fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:W0,Request:g1,Response:y1,default:F0,fetch:m1},Symbol.toStringTag,{value:"Module"})),v1=xy(Fi);var lo={},zg;function eb(){if(zg)return lo;zg=1,Object.defineProperty(lo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return lo.default=e,lo}var $g;function tb(){if($g)return so;$g=1,Object.defineProperty(so,"__esModule",{value:!0});const e=ls,t=e.__importDefault(v1),n=e.__importDefault(eb());class a{constructor(r){var s,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(s=r.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=r.signal,this.isMaybeSingle=(l=r.isMaybeSingle)!==null&&l!==void 0?l:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,s){return this.headers=new Headers(this.headers),this.headers.set(r,s),this}then(r,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,m,f;let p=null,b=null,S=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=T:b=JSON.parse(T))}const w=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,v=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await u.text();try{p=JSON.parse(w),Array.isArray(p)&&u.status===404&&(b=[],p=null,v=200,g="OK")}catch{u.status===404&&w===""?(v=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:b,count:S,status:v,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(r,s)}returns(){return this}overrideTypes(){return this}}return so.default=a,so}var Bg;function nb(){if(Bg)return ro;Bg=1,Object.defineProperty(ro,"__esModule",{value:!0});const t=ls.__importDefault(tb());class n extends t.default{select(i){let r=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:s=r}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,r,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[i?"analyze":null,r?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ro.default=n,ro}var Hg;function _h(){if(Hg)return io;Hg=1,Object.defineProperty(io,"__esModule",{value:!0});const t=ls.__importDefault(nb()),n=new RegExp("[,()]");class a extends t.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const l=Array.from(new Set(s)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(r,`in.(${l})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(r,s,l){return this.url.searchParams.append(r,`not.${s}.${l}`),this}or(r,{foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${r})`),this}filter(r,s,l){return this.url.searchParams.append(r,`${s}.${l}`),this}}return io.default=a,io}var Lg;function ab(){if(Lg)return ao;Lg=1,Object.defineProperty(ao,"__esModule",{value:!0});const t=ls.__importDefault(_h());class n{constructor(i,{headers:r={},schema:s,fetch:l}){this.url=i,this.headers=new Headers(r),this.schema=s,this.fetch=l}select(i,r){const{head:s=!1,count:l}=r??{},c=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:s=!0}={}){var l;const c="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:r}={}){var s;const l="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var r;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return ao.default=n,ao}var qg;function p1(){if(qg)return no;qg=1,Object.defineProperty(no,"__esModule",{value:!0});const e=ls,t=e.__importDefault(ab()),n=e.__importDefault(_h());class a{constructor(r,{headers:s={},schema:l,fetch:c}={}){this.url=r,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(r){const s=new URL(`${this.url}/${r}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new a(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${r}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(s).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{m.searchParams.append(b,S)})):(h="POST",f=s);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:p,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return no.default=a,no}Object.defineProperty(an,"__esModule",{value:!0});var ib=an.PostgrestError=mb=an.PostgrestBuilder=fb=an.PostgrestTransformBuilder=ub=an.PostgrestFilterBuilder=ob=an.PostgrestQueryBuilder=sb=an.PostgrestClient=void 0;const os=ls,rb=os.__importDefault(p1());var sb=an.PostgrestClient=rb.default;const lb=os.__importDefault(ab());var ob=an.PostgrestQueryBuilder=lb.default;const cb=os.__importDefault(_h());var ub=an.PostgrestFilterBuilder=cb.default;const db=os.__importDefault(nb());var fb=an.PostgrestTransformBuilder=db.default;const hb=os.__importDefault(tb());var mb=an.PostgrestBuilder=hb.default;const gb=os.__importDefault(eb());ib=an.PostgrestError=gb.default;var yb=an.default={PostgrestClient:rb.default,PostgrestQueryBuilder:lb.default,PostgrestFilterBuilder:cb.default,PostgrestTransformBuilder:db.default,PostgrestBuilder:hb.default,PostgrestError:gb.default};const b1=ow({__proto__:null,get PostgrestBuilder(){return mb},get PostgrestClient(){return sb},get PostgrestError(){return ib},get PostgrestFilterBuilder(){return ub},get PostgrestQueryBuilder(){return ob},get PostgrestTransformBuilder(){return fb},default:yb},[an]),{PostgrestClient:_1,PostgrestQueryBuilder:aD,PostgrestFilterBuilder:iD,PostgrestTransformBuilder:rD,PostgrestBuilder:sD,PostgrestError:lD}=yb||b1;class w1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const S1="2.78.0",x1=`realtime-js/${S1}`,E1="1.0.0",tf=1e4,T1=1e3,j1=100;var Xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xs||(Xs={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var nf;(function(e){e.websocket="websocket"})(nf||(nf={}));var Di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Di||(Di={}));class O1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),r=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=a.decode(t.slice(s,s+i));s=s+i;const c=a.decode(t.slice(s,s+r));s=s+r;const u=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class vb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const Yg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=D1(s,e,t,i),r),{}):{}},D1=(e,t,n,a)=>{const i=t.find(l=>l.name===e),r=i==null?void 0:i.type,s=n[e];return r&&!a.includes(r)?pb(r,s):af(s)},pb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return R1(t,n)}switch(e){case ut.bool:return N1(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return A1(t);case ut.json:case ut.jsonb:return C1(t);case ut.timestamp:return M1(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return af(t);default:return af(t)}},af=e=>e,N1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},C1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},R1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch{r=s?s.split(","):[]}return r.map(l=>pb(t,l))}return e},M1=e=>typeof e=="string"?e.replace(" ","T"):e,bb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yu{constructor(t,n,a={},i=tf){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ig;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ig||(Ig={}));class Js{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Js.syncState(this.state,i,r,s),this.pendingDiffs.forEach(c=>{this.state=Js.syncDiff(this.state,c,r,s)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Js.syncDiff(this.state,i,r,s),l())}),this.onJoin((i,r,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:s})}),this.onLeave((i,r,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const r=this.cloneDeep(t),s=this.transformState(n),l={},c={};return this.map(r,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const h=r[u];if(h){const m=d.map(S=>S.presence_ref),f=h.map(S=>S.presence_ref),p=d.filter(S=>f.indexOf(S.presence_ref)<0),b=h.filter(S=>m.indexOf(S.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(r,{joins:l,leaves:c},a,i)}static syncDiff(t,n,a,i){const{joins:r,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(r,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}a(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vg||(Vg={}));var Qs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qs||(Qs={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class wh{constructor(t,n={config:{}},a){var i,r;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,ea.join,this.params,this.timeout),this.rejoinTimer=new vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Js(this),this.broadcastEndpointURL=bb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Qs.PRESENCE]&&this.bindings[Qs.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},m={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(pa.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t==null||t(pa.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<S;g++){const y=b[g],{filter:{event:w,schema:x,table:T,filter:E}}=y,j=f&&f[g];if(j&&j.event===w&&j.schema===x&&j.table===T&&j.filter===E)v.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Ht.errored,t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(pa.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ht.errored,t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Ht.joined&&t===Qs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var s,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Yu(this,ea.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,r=setTimeout(()=>i.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),s}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yu(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,r;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ea;if(a&&[l,c,u,d].indexOf(s)>=0&&a!==this._joinRef())return;let m=this._onMessage(s,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,b,S;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((S=(b=f.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(f=>f.callback(m,a)):(r=this.bindings[s])===null||r===void 0||r.filter(f=>{var p,b,S,v,g,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const w=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:b,table:S,commit_timestamp:v,type:g,errors:y}=p;m=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(p))}f.callback(m,a)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===a&&wh.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yg(t.columns,t.old_record)),n}}const Iu=()=>{},oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k1=[1e3,2e3,5e3,1e4],U1=1e4,z1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tf,this.transport=null,this.heartbeatIntervalMs=oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iu,this.ref=0,this.reconnectTimer=null,this.logger=Iu,this.conn=null,this.sendBuffer=[],this.serializer=new O1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...s)=>ss(async()=>{const{default:l}=await Promise.resolve().then(()=>Fi);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...s)=>r(...s)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${nf.websocket}`,this.httpEndpoint=bb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:E1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Xs.connecting:return Di.Connecting;case Xs.open:return Di.Open;case Xs.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===a);if(i)return i;{const r=new wh(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:a,payload:i,ref:r}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${a} (${r})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:r,ref:s}=n,l=s?`(${s})`:"",c=r.status||"";this.log("receive",`${c} ${a} ${i} ${l}`.trim(),r),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,r,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([z1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:x1};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new vb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,r,s,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:tf,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:oo.HEARTBEAT_INTERVAL,this.worker=(r=t==null?void 0:t.worker)!==null&&r!==void 0?r:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Iu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>k1[h-1]||U1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Sh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class B1 extends Sh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rf extends Sh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const xh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Fi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},H1=()=>ie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>Fi),void 0)).Response:Response}),sf=e=>{if(Array.isArray(e))return e.map(n=>sf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=sf(a)}),t},L1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},q1=(e,t,n)=>ie(void 0,void 0,void 0,function*(){const a=yield H1();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const r=e.status||500,s=(i==null?void 0:i.statusCode)||r+"";t(new B1(Vu(i),r,s))}).catch(i=>{t(new rf(Vu(i),i))}):t(new rf(Vu(e),e))}),Y1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(L1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Cl(e,t,n,a,i,r){return ie(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,Y1(t,a,i,r)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>q1(c,l,a))})})}function hl(e,t,n,a){return ie(this,void 0,void 0,function*(){return Cl(e,"GET",t,n,a)})}function Fn(e,t,n,a,i){return ie(this,void 0,void 0,function*(){return Cl(e,"POST",t,a,i,n)})}function lf(e,t,n,a,i){return ie(this,void 0,void 0,function*(){return Cl(e,"PUT",t,a,i,n)})}function I1(e,t,n,a){return ie(this,void 0,void 0,function*(){return Cl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Eh(e,t,n,a,i){return ie(this,void 0,void 0,function*(){return Cl(e,"DELETE",t,a,i,n)})}class V1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_t(t))return{data:null,error:t};throw t}})}}var _b;class G1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[_b]="BlobDownloadBuilder",this.promise=null}asStream(){return new V1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_t(t))return{data:null,error:t};throw t}})}}_b=Symbol.toStringTag;const K1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X1{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=xh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return ie(this,void 0,void 0,function*(){try{let r;const s=Object.assign(Object.assign({},Gg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&a instanceof Blob?(r=new FormData,r.append("cacheControl",s.cacheControl),c&&r.append("metadata",this.encodeMetadata(c)),r.append("",a)):typeof FormData<"u"&&a instanceof FormData?(r=a,r.append("cacheControl",s.cacheControl),c&&r.append("metadata",this.encodeMetadata(c))):(r=a,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?lf:Fn)(this.fetch,`${this.url}/object/${d}`,r,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}upload(t,n,a){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return ie(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),s=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Gg.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl)):(c=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield lf(this.fetch,l.toString(),c,{headers:d});return{data:{path:r,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_t(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ie(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield Fn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),s=new URL(this.url+r.url),l=s.searchParams.get("token");if(!l)throw new Sh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}update(t,n,a){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return ie(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}copy(t,n,a){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield Fn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${s}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return ie(this,void 0,void 0,function*(){try{const i=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=r?`?${r}`:"",l=this._getFinalPath(t),c=()=>hl(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new G1(c,this.shouldThrowOnError)}info(t){return ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield hl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}exists(t){return ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield I1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a)&&a instanceof rf){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}list(t,n,a){return ie(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},K1),n),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}listV2(t,n){return ie(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const wb="2.78.0",Sb={"X-Client-Info":`storage-js/${wb}`};class J1{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const r=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield hl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}createBucket(t){return ie(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ie(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Q1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield hl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}}const Th={"X-Client-Info":`storage-js/${wb}`,"Content-Type":"application/json"};class xb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gu extends xb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P1 extends xb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Kg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kg||(Kg={}));const jh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Fi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Z1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F1=(e,t,n)=>ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Gu(Xg(s),i,l))}).catch(()=>{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Gu(l,i,s))});else{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Gu(l,i,s))}}else t(new P1(Xg(e),e))}),W1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(Z1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function eE(e,t,n,a,i,r){return ie(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,W1(t,a,i,r)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>F1(c,l,a))})})}function Tn(e,t,n,a,i){return ie(this,void 0,void 0,function*(){return eE(e,"POST",t,a,i,n)})}class tE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Th),n),this.fetch=jh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ie(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}listIndexes(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}}class nE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Th),n),this.fetch=jh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}queryVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class aE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Th),n),this.fetch=jh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listBuckets(){return ie(this,arguments,void 0,function*(t={}){try{return{data:yield Tn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class iE extends aE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new rE(this.url,this.headers,t,this.fetch)}}class rE extends tE{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new sE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class sE extends nE{constructor(t,n,a,i,r){super(t,n,r),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lE extends J1{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new X1(this.url,this.headers,t,this.fetch)}get vectors(){return new iE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Q1(this.url+"/iceberg",this.headers,this.fetch)}}const oE="2.78.0";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const cE={"X-Client-Info":`supabase-js-${Rs}/${oE}`},uE={headers:cE},dE={schema:"public"},fE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hE={},mE=e=>{let t;return e?t=e:typeof fetch>"u"?t=F0:t=fetch,(...n)=>t(...n)},gE=()=>typeof Headers>"u"?W0:Headers,yE=(e,t,n)=>{const a=mE(n),i=gE();return async(r,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(r,Object.assign(Object.assign({},s),{headers:u}))}};function vE(e){return e.endsWith("/")?e:e+"/"}function pE(e,t){var n,a;const{db:i,auth:r,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function bE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Eb="2.78.0",hr=30*1e3,of=3,Ku=of*hr,_E="http://localhost:9999",wE="supabase.auth.token",SE={"X-Client-Info":`gotrue-js/${Eb}`},cf="X-Supabase-Api-Version",Tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EE=10*60*1e3;class ml extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TE extends ml{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function jE(e){return ce(e)&&e.name==="AuthApiError"}class Ni extends ml{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mi extends ml{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Pn extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OE(e){return ce(e)&&e.name==="AuthSessionMissingError"}class rr extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class co extends mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uo extends mi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DE(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jg extends mi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uf extends mi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xu(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class Qg extends mi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class df extends mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pg=` 	
\r=`.split(""),NE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pg.length;t+=1)e[Pg[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function Zg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(lc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(lc[a]),t.queuedBits-=6}}function jb(e,t,n){const a=NE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fg(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=s=>{RE(s,a,n)};for(let s=0;s<e.length;s+=1)jb(e.charCodeAt(s),i,r);return t.join("")}function AE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}AE(a,t)}}function RE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ur(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)jb(e.charCodeAt(i),n,a);return new Uint8Array(t)}function ME(e){const t=[];return CE(e,n=>t.push(n)),new Uint8Array(t)}function Mi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>Zg(i,n,a)),Zg(null,n,a),t.join("")}function kE(e){return Math.round(Date.now()/1e3)+e}function UE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",wi={tested:!1,writable:!1},Ob=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wi.tested)return wi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wi.tested=!0,wi.writable=!0}catch{wi.tested=!0,wi.writable=!1}return wi.writable};function zE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const Db=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Fi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},$E=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Si=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ha=async(e,t)=>{await e.removeItem(t)};class zc{constructor(){this.promise=new zc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zc.promiseConstructor=Promise;function Ju(e){const t=e.split(".");if(t.length!==3)throw new df("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!xE.test(t[a]))throw new df("JWT not in base64url format");return{header:JSON.parse(Fg(t[0])),payload:JSON.parse(Fg(t[1])),signature:Ur(t[2]),raw:{header:t[0],payload:t[1]}}}async function BE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HE(e,t){return new Promise((a,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const s=await e(r);if(!t(r,null,s)){a(s);return}}catch(s){if(!t(r,s)){i(s);return}}})()})}function LE(e){return("0"+e.toString(16)).substr(-2)}function qE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,LE).join("")}async function YE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function IE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await YE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(e,t,n=!1){const a=qE();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await mr(e,`${t}-code-verifier`,i);const r=await IE(a);return[r,a===r?"plain":"s256"]}const VE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GE(e){const t=e.headers.get(cf);if(!t||!t.match(VE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lr(e){if(!JE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QE(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function Wg(e){return JSON.parse(JSON.stringify(e))}const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PE=[502,503,504];async function ey(e){var t;if(!$E(e))throw new uf(Oi(e),0);if(PE.includes(e.status))throw new uf(Oi(e),e.status);let n;try{n=await e.json()}catch(r){throw new Ni(Oi(r),r)}let a;const i=GE(e);if(i&&i.getTime()>=Tb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Qg(Oi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0))throw new Qg(Oi(n),e.status,n.weak_password.reasons);throw new TE(Oi(n),e.status||500,a)}const ZE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function ye(e,t,n,a){var i;const r=Object.assign({},a==null?void 0:a.headers);r[cf]||(r[cf]=Tb["2024-01-01"].name),a!=null&&a.jwt&&(r.Authorization=`Bearer ${a.jwt}`);const s=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await FE(e,t,n+l,{headers:r,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function FE(e,t,n,a,i,r){const s=ZE(t,a,i,r);let l;try{l=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new uf(Oi(c),0)}if(l.ok||await ey(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await ey(c)}}function Zn(e){var t;let n=null;tT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function ty(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WE(e){return{data:e,error:null}}function eT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r}=e,s=rs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function ny(e){return e}function tT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pu=["global","local","others"];class nT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Db(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Pu[0]){if(Pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xa})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=rs(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xa})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,r,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:ny});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);u[`${S}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){lr(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xa})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){lr(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xa})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){lr(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xa})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){lr(t.userId);try{const{data:n,error:a}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){lr(t.userId),lr(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,r,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:ny});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);u[`${S}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function ay(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const or={debug:!!(globalThis&&Ob()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aT extends Nb{}async function iT(e,t,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ab(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sT(e){return parseInt(e,16)}function lT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function oT(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:r=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Ab(e.address),p=d?`${d}://${a}`:a,b=e.statement?`${e.statement}
`:"",S=`${p} wants you to sign in with your Ethereum account:
${f}

${b}`;let v=`URI: ${h}
Version: ${m}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${r.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${S}
${v}`}class Ct extends Error{constructor({message:t,code:n,cause:a,name:i}){var r;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(r=i??(a instanceof Error?a.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class oc extends Ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function cT({error:e,options:t}){var n,a,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=r.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Cb(s)){if(r.rp.id!==s)return new Ct({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Cb(a)){if(n.rpId!==a)return new Ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fT=new dT;function hT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=rs(e,["challenge","user","excludeCredentials"]),r=Ur(t).buffer,s=Object.assign(Object.assign({},n),{id:Ur(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:r,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ur(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function mT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=rs(e,["challenge","allowCredentials"]),i=Ur(t).buffer,r=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];r.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Ur(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return r}function gT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(i.authenticatorData)),clientDataJSON:Mi(new Uint8Array(i.clientDataJSON)),signature:Mi(new Uint8Array(i.signature)),userHandle:i.userHandle?Mi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Cb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function iy(){var e,t;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc("Browser returned unexpected credential type",t)}:{data:null,error:new oc("Empty credential response",t)}}catch(t){return{data:null,error:cT({error:t,options:e})}}}async function pT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc("Browser returned unexpected credential type",t)}:{data:null,error:new oc("Empty credential response",t)}}catch(t){return{data:null,error:uT({error:t,options:e})}}}const bT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_T={userVerification:"preferred",hints:["security-key"]};function cc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const r in i){const s=i[r];if(s!==void 0)if(Array.isArray(s))a[r]=s;else if(n(s))a[r]=s;else if(t(s)){const l=a[r];t(l)?a[r]=cc(l,s):a[r]=cc(s)}else a[r]=s}return a}function wT(e,t){return cc(bT,e,t||{})}function ST(e,t){return cc(_T,e,t||{})}class xT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},r){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const c=i??fT.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=wT(s.webauthn.credential_options.publicKey,r==null?void 0:r.create),{data:d,error:h}=await vT({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=ST(s.webauthn.credential_options.publicKey,r==null?void 0:r.request),{data:d,error:h}=await pT(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new Ni("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!n)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!iy())return{data:null,error:new Ni("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:r});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:a,credential_response:c.credential_response}})}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new Ni("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!n)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!iy())return{data:null,error:new Ni("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:r});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new Ni("Unexpected error in register",s)}}}}rT();const ET={url:_E,storageKey:wE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ry(e,t,n){return await n()}const cr={};class gl{get jwks(){var t,n;return(n=(t=cr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=cr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gl.nextInstanceID,gl.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ET),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Db(i.fetch),this.lock=i.lock||ry,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iT:this.lock=ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ob()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ay(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ay(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=zE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),tn()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,a);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),DE(r)){const c=(t=r.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new Ni("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const r=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zn}),{data:s,error:l}=r;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,a,i;try{let r;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await sr(this.storage,this.storageKey)),r=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:Zn})}else if("phone"in t){const{phone:d,password:h,options:m}=t;r=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Zn})}else throw new co("You must provide either an email or phone number and a password");const{data:s,error:l}=r;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:s,options:l}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ty})}else if("phone"in t){const{phone:r,password:s,options:l}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ty})}else throw new co("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new rr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,r,s,l,c,u,d,h,m;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:b,wallet:S,statement:v,options:g}=t;let y;if(tn())if(typeof S=="object")y=S;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),x=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Ab(x[0]);let E=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const A=await y.request({method:"eth_chainId"});E=sT(A)}const j={domain:w.host,address:T,statement:v,uri:w.href,version:"1",chainId:E,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=oT(j),p=await y.request({method:"personal_sign",params:[lT(f),T]})}try{const{data:b,error:S}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Zn});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new rr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(ce(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,a,i,r,s,l,c,u,d,h,m,f;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:S,wallet:v,statement:g,options:y}=t;let w;if(tn())if(typeof v=="object")w=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))w=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const T=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:S,error:v}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Mi(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Zn});if(v)throw v;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new rr}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:v})}catch(S){if(ce(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:r,error:s}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Zn});if(await Ha(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new rr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:s})}catch(r){if(ce(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:r,nonce:s}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:r,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,r,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sr(this.storage,this.storageKey));const{error:h}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new co("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Zn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let r=null,s=null;return this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:s}),headers:this.headers,xform:WE})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Pn;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:r}=t,{error:s}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:a,type:i,options:r}=t,{data:s,error:l}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new co("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ku:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await Si(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Qu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=QE(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xa}):await this._useSession(async n=>{var a,i,r;const{data:s,error:l}=n;if(l)throw l;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Xa})})}catch(n){if(ce(n))return OE(n)&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:r}=a;if(r)throw r;if(!i.session)throw new Pn;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await sr(this.storage,this.storageKey));const{data:u,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Xa});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pn;const n=Date.now()/1e3;let a=n,i=!0,r=null;const{payload:s}=Ju(t.access_token);if(s.exp&&(a=s.exp,i=a<=n),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;r={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Pn;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tn())throw new uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:r,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!r||!l||!s||!u)throw new uo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:b,error:S}=await this._getUser(r);if(S)throw S;const v={provider_token:a,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:m,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(ce(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{error:r};const s=(a=i.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(jE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=UE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:r},error:s}=n;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await sr(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async r=>{var s,l,c,u,d;const{data:h,error:m}=r;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return tn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ce(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,h=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=r==null?void 0:r.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zn}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new rr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:f})}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)throw s;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await HE(async i=>(i>0&&await BE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(i,r)=>{const s=200*Math.pow(2,i);return r&&Xu(r)&&Date.now()+s-a<hr})}catch(a){if(this._debug(n,"error",a),ce(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),tn()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Si(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await mr(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Qu()}else if(i&&!i.user&&!i.user){const s=await Si(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ha(this.storage,this.storageKey+"-user"),await mr(this.storage,this.storageKey,i)):i.user=Qu()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ku;if(this._debug(a,`session has${r?"":" not"} expired with margin of ${Ku}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Xu(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zc;const{data:r,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!r.session)throw new Pn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={data:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(i,"error",r),ce(r)){const s={data:null,error:r};return Xu(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){r.push(c)}});if(await Promise.all(s),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await mr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=Wg(i);await mr(this.storage,this.storageKey,r)}else{const i=Wg(n);await mr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ha(this.storage,this.storageKey),await Ha(this.storage,this.storageKey+"-code-verifier"),await Ha(this.storage,this.storageKey+"-user"),this.userStorage&&await Ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hr}ms, refresh threshold is ${of} ticks`),i<=of&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Nb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[r,s]=await sr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const r=new URLSearchParams(a.queryParams);i.push(r.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;return r?{data:null,error:r}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{data:null,error:r};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gT(t.webauthn.credential_response):yT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{data:null,error:r};const s=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Ju(a.access_token);let s=null;r.aal&&(s=r.aal);let l=s;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=r.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:r=>({data:r,error:null})}):{data:null,error:new Pn}})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return{data:null,error:r};if(!i)return{data:null,error:new Pn};const s=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return{data:null,error:r};if(!i)return{data:null,error:new Pn};const s=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+EE>i)return a;const{data:r,error:s}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,a=r.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};a=f.session.access_token}const{header:i,payload:r,signature:s,raw:{header:l,payload:c}}=Ju(a);n!=null&&n.allowExpired||KE(r.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:r,header:i,signature:s},error:null}}const d=XE(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,ME(`${l}.${c}`)))throw new df("Invalid JWT signature");return{data:{claims:r,header:i,signature:s},error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}}}gl.nextInstanceID=0;const TT=gl;class jT extends TT{constructor(t){super(t)}}class OT{constructor(t,n,a){var i,r,s;this.supabaseUrl=t,this.supabaseKey=n;const l=bE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:dE,realtime:hE,auth:Object.assign(Object.assign({},fE),{storageKey:c}),global:uE},d=pE(a??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=yE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _1(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new lE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new f1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,storageKey:s,flowType:l,lock:c,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DT=(e,t,n)=>new OT(e,t,n);function NT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AT="https://vqpubtahhvtkftafdlrp.supabase.co",CT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",de=DT(AT,CT);function RT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const $c=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Oh(e){return"nodeType"in e}function ln(e){var t,n;return e?cs(e)?e:Oh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Dh(e){const{Document:t}=ln(e);return e instanceof t}function Rl(e){return cs(e)?!1:e instanceof ln(e).HTMLElement}function Rb(e){return e instanceof ln(e).SVGElement}function us(e){return e?cs(e)?e.document:Oh(e)?Dh(e)?e:Rl(e)||Rb(e)?e.ownerDocument:document:document:document}const ta=$c?_.useLayoutEffect:_.useEffect;function Bc(e){const t=_.useRef(e);return ta(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function MT(){const e=_.useRef(null),t=_.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yl(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return ta(()=>{n.current!==e&&(n.current=e)},t),n}function Ml(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function uc(e){const t=Bc(e),n=_.useRef(null),a=_.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function dc(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Zu={};function kl(e,t){return _.useMemo(()=>{if(t)return t;const n=Zu[e]==null?0:Zu[e]+1;return Zu[e]=n,e+"-"+n},[e,t])}function Mb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((r,s)=>{const l=Object.entries(s);for(const[c,u]of l){const d=r[c];d!=null&&(r[c]=d+e*u)}return r},{...t})}}const zr=Mb(1),vl=Mb(-1);function kT(e){return"clientX"in e&&"clientY"in e}function Hc(e){if(!e)return!1;const{KeyboardEvent:t}=ln(e.target);return t&&e instanceof t}function UT(e){if(!e)return!1;const{TouchEvent:t}=ln(e.target);return t&&e instanceof t}function fc(e){if(UT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return kT(e)?{x:e.clientX,y:e.clientY}:null}const Gi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Gi.Translate.toString(e),Gi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),sy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zT(e){return e.matches(sy)?e:e.querySelector(sy)}const $T={display:"none"};function BT(e){let{id:t,value:n}=e;return gt.createElement("div",{id:t,style:$T},n)}function HT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gt.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function LT(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const kb=_.createContext(null);function qT(e){const t=_.useContext(kb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function YT(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:i,event:r}=a;e.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,r)})},[e]),t]}const IT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},VT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function GT(e){let{announcements:t=VT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=IT}=e;const{announce:r,announcement:s}=LT(),l=kl("DndLiveRegion"),[c,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),qT(_.useMemo(()=>({onDragStart(h){let{active:m}=h;r(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:f}=h;t.onDragMove&&r(t.onDragMove({active:m,over:f}))},onDragOver(h){let{active:m,over:f}=h;r(t.onDragOver({active:m,over:f}))},onDragEnd(h){let{active:m,over:f}=h;r(t.onDragEnd({active:m,over:f}))},onDragCancel(h){let{active:m,over:f}=h;r(t.onDragCancel({active:m,over:f}))}}),[r,t])),!c)return null;const d=gt.createElement(gt.Fragment,null,gt.createElement(BT,{id:a,value:i.draggable}),gt.createElement(HT,{id:l,announcement:s}));return n?Ri.createPortal(d,n):d}var Lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Lt||(Lt={}));function hc(){}function $r(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Nh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const na=Object.freeze({x:0,y:0});function Ub(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function KT(e,t){const n=fc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function zb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function XT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function ly(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function $b(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function oy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Ah=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=oy(t,t.left,t.top),r=[];for(const s of a){const{id:l}=s,c=n.get(l);if(c){const u=Ub(oy(c),i);r.push({id:l,data:{droppableContainer:s,value:u}})}}return r.sort(zb)},JT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=ly(t),r=[];for(const s of a){const{id:l}=s,c=n.get(l);if(c){const u=ly(c),d=i.reduce((m,f,p)=>m+Ub(u[p],f),0),h=Number((d/4).toFixed(4));r.push({id:l,data:{droppableContainer:s,value:h}})}}return r.sort(zb)};function QT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),r=Math.min(t.top+t.height,e.top+e.height),s=i-a,l=r-n;if(a<i&&n<r){const c=t.width*t.height,u=e.width*e.height,d=s*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const PT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const r of a){const{id:s}=r,l=n.get(s);if(l){const c=QT(l,t);c>0&&i.push({id:s,data:{droppableContainer:r,value:c}})}}return i.sort(XT)};function ZT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Bb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:na}function FT(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return i.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const WT=FT(1);function Hb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ej(e,t,n){const a=Hb(t);if(!a)return e;const{scaleX:i,scaleY:r,x:s,y:l}=a,c=e.left-s-(1-i)*parseFloat(n),u=e.top-l-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,h=r?e.height/r:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const tj={ignoreTransform:!1};function ds(e,t){t===void 0&&(t=tj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=ln(e).getComputedStyle(e);u&&(n=ej(n,u,d))}const{top:a,left:i,width:r,height:s,bottom:l,right:c}=n;return{top:a,left:i,width:r,height:s,bottom:l,right:c}}function cy(e){return ds(e,{ignoreTransform:!0})}function nj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function aj(e,t){return t===void 0&&(t=ln(e).getComputedStyle(e)),t.position==="fixed"}function ij(e,t){t===void 0&&(t=ln(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const r=t[i];return typeof r=="string"?n.test(r):!1})}function Lc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(Dh(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Rl(i)||Rb(i)||n.includes(i))return n;const r=ln(e).getComputedStyle(i);return i!==e&&ij(i,r)&&n.push(i),aj(i,r)?n:a(i.parentNode)}return e?a(e):n}function Lb(e){const[t]=Lc(e,1);return t??null}function Fu(e){return!$c||!e?null:cs(e)?e:Oh(e)?Dh(e)||e===us(e).scrollingElement?window:Rl(e)?e:null:null}function qb(e){return cs(e)?e.scrollX:e.scrollLeft}function Yb(e){return cs(e)?e.scrollY:e.scrollTop}function ff(e){return{x:qb(e),y:Yb(e)}}var Vt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Vt||(Vt={}));function Ib(e){return!$c||!e?!1:e===document.scrollingElement}function Vb(e){const t={x:0,y:0},n=Ib(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,r=e.scrollLeft<=t.x,s=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:r,isBottom:s,isRight:l,maxScroll:a,minScroll:t}}const rj={x:.2,y:.2};function sj(e,t,n,a,i){let{top:r,left:s,right:l,bottom:c}=n;a===void 0&&(a=10),i===void 0&&(i=rj);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=Vb(e),f={x:0,y:0},p={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!u&&r<=t.top+b.height?(f.y=Vt.Backward,p.y=a*Math.abs((t.top+b.height-r)/b.height)):!d&&c>=t.bottom-b.height&&(f.y=Vt.Forward,p.y=a*Math.abs((t.bottom-b.height-c)/b.height)),!m&&l>=t.right-b.width?(f.x=Vt.Forward,p.x=a*Math.abs((t.right-b.width-l)/b.width)):!h&&s<=t.left+b.width&&(f.x=Vt.Backward,p.x=a*Math.abs((t.left+b.width-s)/b.width)),{direction:f,speed:p}}function lj(e){if(e===document.scrollingElement){const{innerWidth:r,innerHeight:s}=window;return{top:0,left:0,right:r,bottom:s,width:r,height:s}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Gb(e){return e.reduce((t,n)=>zr(t,ff(n)),na)}function oj(e){return e.reduce((t,n)=>t+qb(n),0)}function cj(e){return e.reduce((t,n)=>t+Yb(n),0)}function Kb(e,t){if(t===void 0&&(t=ds),!e)return;const{top:n,left:a,bottom:i,right:r}=t(e);Lb(e)&&(i<=0||r<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const uj=[["x",["left","right"],oj],["y",["top","bottom"],cj]];class Ch{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Lc(n),i=Gb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[r,s,l]of uj)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=l(a),d=i[r]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ps{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function dj(e){const{EventTarget:t}=ln(e);return e instanceof t?e:us(e)}function Wu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var $n;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($n||($n={}));function uy(e){e.preventDefault()}function fj(e){e.stopPropagation()}var $e;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($e||($e={}));const Xb={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},hj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $e.Right:return{...n,x:n.x+25};case $e.Left:return{...n,x:n.x-25};case $e.Down:return{...n,y:n.y+25};case $e.Up:return{...n,y:n.y-25}}};class qc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ps(us(n)),this.windowListeners=new Ps(ln(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Kb(a),n(na)}handleKeyDown(t){if(Hc(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:r=Xb,coordinateGetter:s=hj,scrollBehavior:l="smooth"}=i,{code:c}=t;if(r.end.includes(c)){this.handleEnd(t);return}if(r.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=a.current,d=u?{x:u.left,y:u.top}:na;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(t,{active:n,context:a.current,currentCoordinates:d});if(h){const m=vl(h,d),f={x:0,y:0},{scrollableAncestors:p}=a.current;for(const b of p){const S=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:w,maxScroll:x,minScroll:T}=Vb(b),E=lj(b),j={x:Math.min(S===$e.Right?E.right-E.width/2:E.right,Math.max(S===$e.Right?E.left:E.left+E.width/2,h.x)),y:Math.min(S===$e.Down?E.bottom-E.height/2:E.bottom,Math.max(S===$e.Down?E.top:E.top+E.height/2,h.y))},A=S===$e.Right&&!g||S===$e.Left&&!y,N=S===$e.Down&&!w||S===$e.Up&&!v;if(A&&j.x!==h.x){const R=b.scrollLeft+m.x,H=S===$e.Right&&R<=x.x||S===$e.Left&&R>=T.x;if(H&&!m.y){b.scrollTo({left:R,behavior:l});return}H?f.x=b.scrollLeft-R:f.x=S===$e.Right?b.scrollLeft-x.x:b.scrollLeft-T.x,f.x&&b.scrollBy({left:-f.x,behavior:l});break}else if(N&&j.y!==h.y){const R=b.scrollTop+m.y,H=S===$e.Down&&R<=x.y||S===$e.Up&&R>=T.y;if(H&&!m.x){b.scrollTo({top:R,behavior:l});return}H?f.y=b.scrollTop-R:f.y=S===$e.Down?b.scrollTop-x.y:b.scrollTop-T.y,f.y&&b.scrollBy({top:-f.y,behavior:l});break}}this.handleMove(t,zr(vl(h,this.referenceCoordinates),f))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Xb,onActivation:i}=t,{active:r}=n;const{code:s}=e.nativeEvent;if(a.start.includes(s)){const l=r.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function dy(e){return!!(e&&"distance"in e)}function fy(e){return!!(e&&"delay"in e)}class Rh{constructor(t,n,a){var i;a===void 0&&(a=dj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:r}=t,{target:s}=r;this.props=t,this.events=n,this.document=us(s),this.documentListeners=new Ps(this.document),this.listeners=new Ps(a),this.windowListeners=new Ps(ln(s)),this.initialCoordinates=(i=fc(r))!=null?i:na,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,uy),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,uy),this.documentListeners.add($n.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add($n.Click,fj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:r}=this,{onMove:s,options:{activationConstraint:l}}=r;if(!i)return;const c=(n=fc(t))!=null?n:na,u=vl(i,c);if(!a&&l){if(dy(l)){if(l.tolerance!=null&&Wu(u,l.tolerance))return this.handleCancel();if(Wu(u,l.distance))return this.handleStart()}if(fy(l)&&Wu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const mj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ul extends Rh{constructor(t){const{event:n}=t,a=us(n.target);super(t,mj,a)}}Ul.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const gj={move:{name:"mousemove"},end:{name:"mouseup"}};var hf;(function(e){e[e.RightClick=2]="RightClick"})(hf||(hf={}));class yj extends Rh{constructor(t){super(t,gj,us(t.event.target))}}yj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===hf.RightClick?!1:(a==null||a({event:n}),!0)}}];const ed={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jb extends Rh{constructor(t){super(t,ed)}static setup(){return window.addEventListener(ed.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ed.move.name,t)};function t(){}}}Jb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Zs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zs||(Zs={}));var mc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mc||(mc={}));function vj(e){let{acceleration:t,activator:n=Zs.Pointer,canScroll:a,draggingRect:i,enabled:r,interval:s=5,order:l=mc.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=e;const f=bj({delta:h,disabled:!r}),[p,b]=MT(),S=_.useRef({x:0,y:0}),v=_.useRef({x:0,y:0}),g=_.useMemo(()=>{switch(n){case Zs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Zs.DraggableRect:return i}},[n,i,c]),y=_.useRef(null),w=_.useCallback(()=>{const T=y.current;if(!T)return;const E=S.current.x*v.current.x,j=S.current.y*v.current.y;T.scrollBy(E,j)},[]),x=_.useMemo(()=>l===mc.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!r||!u.length||!g){b();return}for(const T of x){if((a==null?void 0:a(T))===!1)continue;const E=u.indexOf(T),j=d[E];if(!j)continue;const{direction:A,speed:N}=sj(T,j,g,t,m);for(const R of["x","y"])f[R][A[R]]||(N[R]=0,A[R]=0);if(N.x>0||N.y>0){b(),y.current=T,p(w,s),S.current=N,v.current=A;return}}S.current={x:0,y:0},v.current={x:0,y:0},b()},[t,w,a,b,r,s,JSON.stringify(g),JSON.stringify(f),p,u,x,d,JSON.stringify(m)])}const pj={x:{[Vt.Backward]:!1,[Vt.Forward]:!1},y:{[Vt.Backward]:!1,[Vt.Forward]:!1}};function bj(e){let{delta:t,disabled:n}=e;const a=dc(t);return Ml(i=>{if(n||!a||!i)return pj;const r={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Vt.Backward]:i.x[Vt.Backward]||r.x===-1,[Vt.Forward]:i.x[Vt.Forward]||r.x===1},y:{[Vt.Backward]:i.y[Vt.Backward]||r.y===-1,[Vt.Forward]:i.y[Vt.Forward]||r.y===1}}},[n,t,a])}function _j(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Ml(i=>{var r;return t==null?null:(r=a??i)!=null?r:null},[a,t])}function wj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,r=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,a)}));return[...n,...r]},[]),[e,t])}var Ki;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ki||(Ki={}));var mf;(function(e){e.Optimized="optimized"})(mf||(mf={}));const hy=new Map;function Sj(e,t){let{dragging:n,dependencies:a,config:i}=t;const[r,s]=_.useState(null),{frequency:l,measure:c,strategy:u}=i,d=_.useRef(e),h=S(),m=yl(h),f=_.useCallback(function(v){v===void 0&&(v=[]),!m.current&&s(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[m]),p=_.useRef(null),b=Ml(v=>{if(h&&!n)return hy;if(!v||v===hy||d.current!==e||r!=null){const g=new Map;for(let y of e){if(!y)continue;if(r&&r.length>0&&!r.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const w=y.node.current,x=w?new Ch(c(w),w):null;y.rect.current=x,x&&g.set(y.id,x)}return g}return v},[e,r,n,h,c]);return _.useEffect(()=>{d.current=e},[e]),_.useEffect(()=>{h||f()},[n,h]),_.useEffect(()=>{r&&r.length>0&&s(null)},[JSON.stringify(r)]),_.useEffect(()=>{h||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{f(),p.current=null},l))},[l,h,f,...a]),{droppableRects:b,measureDroppableContainers:f,measuringScheduled:r!=null};function S(){switch(u){case Ki.Always:return!1;case Ki.BeforeDragging:return n;default:return!n}}}function Mh(e,t){return Ml(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function xj(e,t){return Mh(e,t)}function Ej(e){let{callback:t,disabled:n}=e;const a=Bc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:r}=window;return new r(a)},[a,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yc(e){let{callback:t,disabled:n}=e;const a=Bc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:r}=window;return new r(a)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Tj(e){return new Ch(ds(e),e)}function my(e,t,n){t===void 0&&(t=Tj);const[a,i]=_.useState(null);function r(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=Ej({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){r();break}}}}),l=Yc({callback:r});return ta(()=>{r(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),a}function jj(e){const t=Mh(e);return Bb(e,t)}const gy=[];function Oj(e){const t=_.useRef(e),n=Ml(a=>e?a&&a!==gy&&e&&t.current&&e.parentNode===t.current.parentNode?a:Lc(e):gy,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function Dj(e){const[t,n]=_.useState(null),a=_.useRef(e),i=_.useCallback(r=>{const s=Fu(r.target);s&&n(l=>l?(l.set(s,ff(s)),new Map(l)):null)},[]);return _.useEffect(()=>{const r=a.current;if(e!==r){s(r);const l=e.map(c=>{const u=Fu(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,ff(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),a.current=e}return()=>{s(e),s(r)};function s(l){l.forEach(c=>{const u=Fu(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((r,s)=>zr(r,s),na):Gb(e):na,[e,t])}function yy(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==na;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?vl(e,n.current):na}function Nj(e){_.useEffect(()=>{if(!$c)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Aj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:r}=a;return n[i]=s=>{r(s,t)},n},{}),[e,t])}function Qb(e){return _.useMemo(()=>e?nj(e):null,[e])}const vy=[];function Cj(e,t){t===void 0&&(t=ds);const[n]=e,a=Qb(n?ln(n):null),[i,r]=_.useState(vy);function s(){r(()=>e.length?e.map(c=>Ib(c)?a:new Ch(t(c),c)):vy)}const l=Yc({callback:s});return ta(()=>{l==null||l.disconnect(),s(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function Pb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rl(t)?t:e}function Rj(e){let{measure:t}=e;const[n,a]=_.useState(null),i=_.useCallback(u=>{for(const{target:d}of u)if(Rl(d)){a(h=>{const m=t(d);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),r=Yc({callback:i}),s=_.useCallback(u=>{const d=Pb(u);r==null||r.disconnect(),d&&(r==null||r.observe(d)),a(d?t(d):null)},[t,r]),[l,c]=uc(s);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const Mj=[{sensor:Ul,options:{}},{sensor:qc,options:{}}],kj={current:{}},No={draggable:{measure:cy},droppable:{measure:cy,strategy:Ki.WhileDragging,frequency:mf.Optimized},dragOverlay:{measure:ds}};class Fs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const Uj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:No,measureDroppableContainers:hc,windowRect:null,measuringScheduled:!1},Zb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hc,draggableNodes:new Map,over:null,measureDroppableContainers:hc},zl=_.createContext(Zb),Fb=_.createContext(Uj);function zj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fs}}}function $j(e,t){switch(t.type){case Lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Lt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Lt.DragEnd:case Lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Lt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Fs(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Lt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const s=new Fs(e.droppable.containers);return s.set(n,{...r,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case Lt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Fs(e.droppable.containers);return r.delete(n),{...e,droppable:{...e.droppable,containers:r}}}default:return e}}function Bj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=_.useContext(zl),r=dc(a),s=dc(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&r&&s!=null){if(!Hc(r)||document.activeElement===r.target)return;const l=i.get(s);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=zT(d);if(h){h.focus();break}}})}},[a,t,i,s,r]),null}function Wb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,r)=>r({transform:i,...a}),n):n}function Hj(e){return _.useMemo(()=>({draggable:{...No.draggable,...e==null?void 0:e.draggable},droppable:{...No.droppable,...e==null?void 0:e.droppable},dragOverlay:{...No.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Lj(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const r=_.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;ta(()=>{if(!s&&!l||!t){r.current=!1;return}if(r.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=Bb(d,a);if(s||(h.x=0),l||(h.y=0),r.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Lb(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,s,l,a,n])}const Ic=_.createContext({...na,scaleX:1,scaleY:1});var Ya;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ya||(Ya={}));const kh=_.memo(function(t){var n,a,i,r;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=Mj,collisionDetection:h=PT,measuring:m,modifiers:f,...p}=t;const b=_.useReducer($j,void 0,zj),[S,v]=b,[g,y]=YT(),[w,x]=_.useState(Ya.Uninitialized),T=w===Ya.Initialized,{draggable:{active:E,nodes:j,translate:A},droppable:{containers:N}}=S,R=E!=null?j.get(E):null,H=_.useRef({initial:null,translated:null}),q=_.useMemo(()=>{var _e;return E!=null?{id:E,data:(_e=R==null?void 0:R.data)!=null?_e:kj,rect:H}:null},[E,R]),P=_.useRef(null),[te,C]=_.useState(null),[Y,F]=_.useState(null),oe=yl(p,Object.values(p)),be=kl("DndDescribedBy",s),wt=_.useMemo(()=>N.getEnabled(),[N]),ke=Hj(m),{droppableRects:et,measureDroppableContainers:Ue,measuringScheduled:ot}=Sj(wt,{dragging:T,dependencies:[A.x,A.y],config:ke.droppable}),rt=_j(j,E),W=_.useMemo(()=>Y?fc(Y):null,[Y]),U=je(),L=xj(rt,ke.draggable.measure);Lj({activeNode:E!=null?j.get(E):null,config:U.layoutShiftCompensation,initialRect:L,measure:ke.draggable.measure});const O=my(rt,ke.draggable.measure,L),B=my(rt?rt.parentElement:null),M=_.useRef({activatorEvent:null,active:null,activeNode:rt,collisionRect:null,collisions:null,droppableRects:et,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),V=N.getNodeFor((n=M.current.over)==null?void 0:n.id),k=Rj({measure:ke.dragOverlay.measure}),Z=(a=k.nodeRef.current)!=null?a:rt,se=T?(i=k.rect)!=null?i:O:null,Se=!!(k.nodeRef.current&&k.rect),pe=jj(Se?null:O),fe=Qb(Z?ln(Z):null),Ne=Oj(T?V??rt:null),Le=Cj(Ne),Ge=Wb(f,{transform:{x:A.x-pe.x,y:A.y-pe.y,scaleX:1,scaleY:1},activatorEvent:Y,active:q,activeNodeRect:O,containerNodeRect:B,draggingNodeRect:se,over:M.current.over,overlayNodeRect:k.rect,scrollableAncestors:Ne,scrollableAncestorRects:Le,windowRect:fe}),At=W?zr(W,A):null,zt=Dj(Ne),Ma=yy(zt),Xn=yy(zt,[O]),pn=zr(Ge,Ma),Jn=se?WT(se,Ge):null,Mn=q&&Jn?h({active:q,collisionRect:Jn,droppableRects:et,droppableContainers:wt,pointerCoordinates:At}):null,ka=$b(Mn,"id"),[Tt,Ua]=_.useState(null),on=Se?Ge:zr(Ge,Xn),Wi=ZT(on,(r=Tt==null?void 0:Tt.rect)!=null?r:null,O),jt=_.useRef(null),X=_.useCallback((_e,we)=>{let{sensor:xe,options:ge}=we;if(P.current==null)return;const Ve=j.get(P.current);if(!Ve)return;const Pe=_e.nativeEvent,Je=new xe({active:P.current,activeNode:Ve,event:Pe,options:ge,context:M,onAbort(Qe){if(!j.get(Qe))return;const{onDragAbort:ft}=oe.current,le={id:Qe};ft==null||ft(le),g({type:"onDragAbort",event:le})},onPending(Qe,Ot,ft,le){if(!j.get(Qe))return;const{onDragPending:cn}=oe.current,kn={id:Qe,constraint:Ot,initialCoordinates:ft,offset:le};cn==null||cn(kn),g({type:"onDragPending",event:kn})},onStart(Qe){const Ot=P.current;if(Ot==null)return;const ft=j.get(Ot);if(!ft)return;const{onDragStart:le}=oe.current,St={activatorEvent:Pe,active:{id:Ot,data:ft.data,rect:H}};Ri.unstable_batchedUpdates(()=>{le==null||le(St),x(Ya.Initializing),v({type:Lt.DragStart,initialCoordinates:Qe,active:Ot}),g({type:"onDragStart",event:St}),C(jt.current),F(Pe)})},onMove(Qe){v({type:Lt.DragMove,coordinates:Qe})},onEnd:Xt(Lt.DragEnd),onCancel:Xt(Lt.DragCancel)});jt.current=Je;function Xt(Qe){return async function(){const{active:ft,collisions:le,over:St,scrollAdjustedTranslate:cn}=M.current;let kn=null;if(ft&&cn){const{cancelDrop:ia}=oe.current;kn={activatorEvent:Pe,active:ft,collisions:le,delta:cn,over:St},Qe===Lt.DragEnd&&typeof ia=="function"&&await Promise.resolve(ia(kn))&&(Qe=Lt.DragCancel)}P.current=null,Ri.unstable_batchedUpdates(()=>{v({type:Qe}),x(Ya.Uninitialized),Ua(null),C(null),F(null),jt.current=null;const ia=Qe===Lt.DragEnd?"onDragEnd":"onDragCancel";if(kn){const gi=oe.current[ia];gi==null||gi(kn),g({type:ia,event:kn})}})}}},[j]),G=_.useCallback((_e,we)=>(xe,ge)=>{const Ve=xe.nativeEvent,Pe=j.get(ge);if(P.current!==null||!Pe||Ve.dndKit||Ve.defaultPrevented)return;const Je={active:Pe};_e(xe,we.options,Je)===!0&&(Ve.dndKit={capturedBy:we.sensor},P.current=ge,X(xe,we))},[j,X]),ee=wj(d,G);Nj(d),ta(()=>{O&&w===Ya.Initializing&&x(Ya.Initialized)},[O,w]),_.useEffect(()=>{const{onDragMove:_e}=oe.current,{active:we,activatorEvent:xe,collisions:ge,over:Ve}=M.current;if(!we||!xe)return;const Pe={active:we,activatorEvent:xe,collisions:ge,delta:{x:pn.x,y:pn.y},over:Ve};Ri.unstable_batchedUpdates(()=>{_e==null||_e(Pe),g({type:"onDragMove",event:Pe})})},[pn.x,pn.y]),_.useEffect(()=>{const{active:_e,activatorEvent:we,collisions:xe,droppableContainers:ge,scrollAdjustedTranslate:Ve}=M.current;if(!_e||P.current==null||!we||!Ve)return;const{onDragOver:Pe}=oe.current,Je=ge.get(ka),Xt=Je&&Je.rect.current?{id:Je.id,rect:Je.rect.current,data:Je.data,disabled:Je.disabled}:null,Qe={active:_e,activatorEvent:we,collisions:xe,delta:{x:Ve.x,y:Ve.y},over:Xt};Ri.unstable_batchedUpdates(()=>{Ua(Xt),Pe==null||Pe(Qe),g({type:"onDragOver",event:Qe})})},[ka]),ta(()=>{M.current={activatorEvent:Y,active:q,activeNode:rt,collisionRect:Jn,collisions:Mn,droppableRects:et,draggableNodes:j,draggingNode:Z,draggingNodeRect:se,droppableContainers:N,over:Tt,scrollableAncestors:Ne,scrollAdjustedTranslate:pn},H.current={initial:se,translated:Jn}},[q,rt,Mn,Jn,j,Z,se,et,N,Tt,Ne,pn]),vj({...U,delta:A,draggingRect:Jn,pointerCoordinates:At,scrollableAncestors:Ne,scrollableAncestorRects:Le});const he=_.useMemo(()=>({active:q,activeNode:rt,activeNodeRect:O,activatorEvent:Y,collisions:Mn,containerNodeRect:B,dragOverlay:k,draggableNodes:j,droppableContainers:N,droppableRects:et,over:Tt,measureDroppableContainers:Ue,scrollableAncestors:Ne,scrollableAncestorRects:Le,measuringConfiguration:ke,measuringScheduled:ot,windowRect:fe}),[q,rt,O,Y,Mn,B,k,j,N,et,Tt,Ue,Ne,Le,ke,ot,fe]),ue=_.useMemo(()=>({activatorEvent:Y,activators:ee,active:q,activeNodeRect:O,ariaDescribedById:{draggable:be},dispatch:v,draggableNodes:j,over:Tt,measureDroppableContainers:Ue}),[Y,ee,q,O,v,be,j,Tt,Ue]);return gt.createElement(kb.Provider,{value:y},gt.createElement(zl.Provider,{value:ue},gt.createElement(Fb.Provider,{value:he},gt.createElement(Ic.Provider,{value:Wi},u)),gt.createElement(Bj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),gt.createElement(GT,{...l,hiddenTextDescribedById:be}));function je(){const _e=(te==null?void 0:te.autoScrollEnabled)===!1,we=typeof c=="object"?c.enabled===!1:c===!1,xe=T&&!_e&&!we;return typeof c=="object"?{...c,enabled:xe}:{enabled:xe}}}),qj=_.createContext(null),py="button",Yj="Draggable";function Ij(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const r=kl(Yj),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=_.useContext(zl),{role:f=py,roleDescription:p="draggable",tabIndex:b=0}=i??{},S=(c==null?void 0:c.id)===t,v=_.useContext(S?Ic:qj),[g,y]=uc(),[w,x]=uc(),T=Aj(s,t),E=yl(n);ta(()=>(h.set(t,{id:t,key:r,node:g,activatorNode:w,data:E}),()=>{const A=h.get(t);A&&A.key===r&&h.delete(t)}),[h,t]);const j=_.useMemo(()=>({role:f,tabIndex:b,"aria-disabled":a,"aria-pressed":S&&f===py?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[a,f,b,S,p,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:j,isDragging:S,listeners:a?void 0:T,node:g,over:m,setNodeRef:y,setActivatorNodeRef:x,transform:v}}function e_(){return _.useContext(Fb)}const Vj="Droppable",Gj={timeout:25};function Kj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const r=kl(Vj),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=_.useContext(zl),d=_.useRef({disabled:n}),h=_.useRef(!1),m=_.useRef(null),f=_.useRef(null),{disabled:p,updateMeasurementsFor:b,timeout:S}={...Gj,...i},v=yl(b??a),g=_.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),f.current=null},S)},[S]),y=Yc({callback:g,disabled:p||!s}),w=_.useCallback((j,A)=>{y&&(A&&(y.unobserve(A),h.current=!1),j&&y.observe(j))},[y]),[x,T]=uc(w),E=yl(t);return _.useEffect(()=>{!y||!x.current||(y.disconnect(),h.current=!1,y.observe(x.current))},[x,y]),_.useEffect(()=>(l({type:Lt.RegisterDroppable,element:{id:a,key:r,disabled:n,node:x,rect:m,data:E}}),()=>l({type:Lt.UnregisterDroppable,key:r,id:a})),[a]),_.useEffect(()=>{n!==d.current.disabled&&(l({type:Lt.SetDroppableDisabled,id:a,key:r,disabled:n}),d.current.disabled=n)},[a,r,n,l]),{active:s,rect:m,isOver:(c==null?void 0:c.id)===a,node:x,over:c,setNodeRef:T}}function Xj(e){let{animation:t,children:n}=e;const[a,i]=_.useState(null),[r,s]=_.useState(null),l=dc(n);return!n&&!a&&l&&i(l),ta(()=>{if(!r)return;const c=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,r)).then(()=>{i(null)})},[t,a,r]),gt.createElement(gt.Fragment,null,n,a?_.cloneElement(a,{ref:s}):null)}const Jj={x:0,y:0,scaleX:1,scaleY:1};function Qj(e){let{children:t}=e;return gt.createElement(zl.Provider,{value:Zb},gt.createElement(Ic.Provider,{value:Jj},t))}const Pj={position:"fixed",touchAction:"none"},Zj=e=>Hc(e)?"transform 250ms ease":void 0,Fj=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:r,className:s,rect:l,style:c,transform:u,transition:d=Zj}=e;if(!l)return null;const h=i?u:{...u,scaleX:1,scaleY:1},m={...Pj,width:l.width,height:l.height,top:l.top,left:l.left,transform:Gi.Transform.toString(h),transformOrigin:i&&a?KT(a,l):void 0,transition:typeof d=="function"?d(a):d,...c};return gt.createElement(n,{className:s,style:m,ref:t},r)}),Wj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:r,className:s}=e;if(r!=null&&r.active)for(const[l,c]of Object.entries(r.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(r!=null&&r.dragOverlay)for(const[l,c]of Object.entries(r.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&a.node.classList.add(s.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},eO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Gi.Transform.toString(t)},{transform:Gi.Transform.toString(n)}]},tO={duration:250,easing:"ease",keyframes:eO,sideEffects:Wj({styles:{active:{opacity:"0"}}})};function nO(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Bc((r,s)=>{if(t===null)return;const l=n.get(r);if(!l)return;const c=l.node.current;if(!c)return;const u=Pb(s);if(!u)return;const{transform:d}=ln(s).getComputedStyle(s),h=Hb(d);if(!h)return;const m=typeof t=="function"?t:aO(t);return Kb(c,i.draggable.measure),m({active:{id:r,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:i,transform:h})})}function aO(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...tO,...e};return r=>{let{active:s,dragOverlay:l,transform:c,...u}=r;if(!t)return;const d={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},h={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...h},f=i({...u,active:s,dragOverlay:l,transform:{initial:c,final:m}}),[p]=f,b=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(b))return;const S=a==null?void 0:a({active:s,dragOverlay:l,...u}),v=l.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{S==null||S(),g()}})}}let by=0;function iO(e){return _.useMemo(()=>{if(e!=null)return by++,by},[e])}const Uh=gt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:r,modifiers:s,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:f,draggableNodes:p,droppableContainers:b,dragOverlay:S,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:x}=e_(),T=_.useContext(Ic),E=iO(h==null?void 0:h.id),j=Wb(s,{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:f,draggingNodeRect:S.rect,over:v,overlayNodeRect:S.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:T,windowRect:x}),A=Mh(m),N=nO({config:a,draggableNodes:p,droppableContainers:b,measuringConfiguration:g}),R=A?S.setRef:void 0;return gt.createElement(Qj,null,gt.createElement(Xj,{animation:N},h&&E?gt.createElement(Fj,{key:E,id:h.id,ref:R,as:l,activatorEvent:d,adjustScale:t,className:c,transition:r,rect:A,style:{zIndex:u,...i},transform:j},n):null))});function pl(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function rO(e,t){return e.reduce((n,a,i)=>{const r=t.get(a);return r&&(n[i]=r),n},Array(e.length))}function fo(e){return e!==null&&e>=0}function sO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lO(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const t_=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const r=pl(t,a,n),s=t[i],l=r[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},ho={scaleX:1,scaleY:1},Ai=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:r,overIndex:s}=e;const l=(t=r[n])!=null?t:a;if(!l)return null;if(i===n){const u=r[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...ho}:null}const c=oO(r,i,n);return i>n&&i<=s?{x:0,y:-l.height-c,...ho}:i<n&&i>=s?{x:0,y:l.height+c,...ho}:{x:0,y:0,...ho}};function oO(e,t,n){const a=e[t],i=e[t-1],r=e[t+1];return a?n<t?i?a.top-(i.top+i.height):r?r.top-(a.top+a.height):0:r?r.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const n_="Sortable",a_=gt.createContext({activeIndex:-1,containerId:n_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:t_,disabled:{draggable:!1,droppable:!1}});function Ci(e){let{children:t,id:n,items:a,strategy:i=t_,disabled:r=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=e_(),h=kl(n_,n),m=l.rect!==null,f=_.useMemo(()=>a.map(T=>typeof T=="object"&&"id"in T?T.id:T),[a]),p=s!=null,b=s?f.indexOf(s.id):-1,S=u?f.indexOf(u.id):-1,v=_.useRef(f),g=!sO(f,v.current),y=S!==-1&&b===-1||g,w=lO(r);ta(()=>{g&&p&&d(f)},[g,f,p,d]),_.useEffect(()=>{v.current=f},[f]);const x=_.useMemo(()=>({activeIndex:b,containerId:h,disabled:w,disableTransforms:y,items:f,overIndex:S,useDragOverlay:m,sortedRects:rO(f,c),strategy:i}),[b,h,w.draggable,w.droppable,y,f,S,c,m,i]);return gt.createElement(a_.Provider,{value:x},t)}const cO=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return pl(n,a,i).indexOf(t)},uO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:r,newIndex:s,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!a||l!==r&&i===s?!1:n?!0:s!==i&&t===c},dO={duration:200,easing:"ease"},i_="transform",fO=Gi.Transition.toString({property:i_,duration:0,easing:"linear"}),hO={roleDescription:"sortable"};function mO(e){let{disabled:t,index:n,node:a,rect:i}=e;const[r,s]=_.useState(null),l=_.useRef(n);return ta(()=>{if(!t&&n!==l.current&&a.current){const c=i.current;if(c){const u=ds(a.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==l.current&&(l.current=n)},[t,n,a,i]),_.useEffect(()=>{r&&s(null)},[r]),r}function zh(e){let{animateLayoutChanges:t=uO,attributes:n,disabled:a,data:i,getNewIndex:r=cO,id:s,strategy:l,resizeObserverConfig:c,transition:u=dO}=e;const{items:d,containerId:h,activeIndex:m,disabled:f,disableTransforms:p,sortedRects:b,overIndex:S,useDragOverlay:v,strategy:g}=_.useContext(a_),y=gO(a,f),w=d.indexOf(s),x=_.useMemo(()=>({sortable:{containerId:h,index:w,items:d},...i}),[h,i,w,d]),T=_.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:A,setNodeRef:N}=Kj({id:s,data:x,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:R,activatorEvent:H,activeNodeRect:q,attributes:P,setNodeRef:te,listeners:C,isDragging:Y,over:F,setActivatorNodeRef:oe,transform:be}=Ij({id:s,data:x,attributes:{...hO,...n},disabled:y.draggable}),wt=RT(N,te),ke=!!R,et=ke&&!p&&fo(m)&&fo(S),Ue=!v&&Y,ot=Ue&&et?be:null,W=et?ot??(l??g)({rects:b,activeNodeRect:q,activeIndex:m,overIndex:S,index:w}):null,U=fo(m)&&fo(S)?r({id:s,items:d,activeIndex:m,overIndex:S}):w,L=R==null?void 0:R.id,O=_.useRef({activeId:L,items:d,newIndex:U,containerId:h}),B=d!==O.current.items,M=t({active:R,containerId:h,isDragging:Y,isSorting:ke,id:s,index:w,items:d,newIndex:O.current.newIndex,previousItems:O.current.items,previousContainerId:O.current.containerId,transition:u,wasDragging:O.current.activeId!=null}),V=mO({disabled:!M,index:w,node:j,rect:E});return _.useEffect(()=>{ke&&O.current.newIndex!==U&&(O.current.newIndex=U),h!==O.current.containerId&&(O.current.containerId=h),d!==O.current.items&&(O.current.items=d)},[ke,U,h,d]),_.useEffect(()=>{if(L===O.current.activeId)return;if(L!=null&&O.current.activeId==null){O.current.activeId=L;return}const Z=setTimeout(()=>{O.current.activeId=L},50);return()=>clearTimeout(Z)},[L]),{active:R,activeIndex:m,attributes:P,data:x,rect:E,index:w,newIndex:U,items:d,isOver:A,isSorting:ke,isDragging:Y,listeners:C,node:j,overIndex:S,over:F,setNodeRef:wt,setActivatorNodeRef:oe,setDroppableNodeRef:N,setDraggableNodeRef:te,transform:V??W,transition:k()};function k(){if(V||B&&O.current.newIndex===w)return fO;if(!(Ue&&!Hc(H)||!u)&&(ke||M))return Gi.Transition.toString({...u,property:i_})}}function gO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function gc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const yO=[$e.Down,$e.Right,$e.Up,$e.Left],r_=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:r,over:s,scrollableAncestors:l}}=t;if(yO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const c=[];r.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=i.get(h.id);if(m)switch(e.code){case $e.Down:a.top<m.top&&c.push(h);break;case $e.Up:a.top>m.top&&c.push(h);break;case $e.Left:a.left>m.left&&c.push(h);break;case $e.Right:a.left<m.left&&c.push(h);break}});const u=JT({collisionRect:a,droppableRects:i,droppableContainers:c});let d=$b(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const h=r.get(n.id),m=r.get(d),f=m?i.get(m.id):null,p=m==null?void 0:m.node.current;if(p&&f&&h&&m){const S=Lc(p).some((T,E)=>l[E]!==T),v=s_(h,m),g=vO(h,m),y=S||!v?{x:0,y:0}:{x:g?a.width-f.width:0,y:g?a.height-f.height:0},w={x:f.left,y:f.top};return y.x&&y.y?w:vl(w,y)}}}};function s_(e,t){return!gc(e)||!gc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function vO(e,t){return!gc(e)||!gc(t)||!s_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Hi=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],pO="09",bO="00",Be=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Un=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${r})`},ya=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),c=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${c}) ${r}:${s}`},_O=e=>{const t=new Date;return Be(e)===Be(t)},wO=()=>{const[e,t]=_.useState(null),[n,a]=_.useState(!0);return _.useEffect(()=>{de.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:s}}=de.auth.onAuthStateChange((l,c)=>{t(c)});return()=>s.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:s}=await de.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(s)throw s}catch(s){alert(" : "+s.message)}},handleLogout:async()=>{try{const{error:s}=await de.auth.signOut();if(s)throw s}catch(s){alert(" : "+s.message)}}}};function $h({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),i=_.useRef(e),r=_.useRef(!1),[s,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:pO),[c,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:bO);_.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,y]=e.split(":");i.current=e,l(g),u(y)}},[e]),_.useEffect(()=>{if(!r.current){r.current=!0;return}const g=`${s}:${c}`;i.current=g,t&&t(g)},[s,c]);const d=(g,y,w)=>{if(!g.current)return;const x=g.current.scrollTop,E=Math.round(x/40),j=String(E).padStart(2,"0");y(j)},h=(g,y)=>{if(!g.current)return;const w=40,x=parseInt(y,10);g.current.scrollTop=x*w};_.useEffect(()=>{h(n,s)},[]),_.useEffect(()=>{h(a,c)},[]);const m=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),f=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),p=()=>{const g=(parseInt(s,10)+1)%24,y=String(g).padStart(2,"0");l(y),h(n,y)},b=()=>{const g=(parseInt(s,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),h(n,y)},S=()=>{const g=(parseInt(c,10)+1)%60,y=String(g).padStart(2,"0");u(y),h(a,y)},v=()=>{const g=(parseInt(c,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),h(a,y)};return o.jsxs("div",{className:"apple-time-picker",children:[o.jsxs("div",{className:"picker-arrows-top",children:[o.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:S,children:""})]}),o.jsxs("div",{className:"picker-container",children:[o.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[o.jsx("div",{className:"picker-spacer"}),m.map(g=>o.jsx("div",{className:`picker-item ${g===s?"selected":""}`,onClick:()=>{l(g),h(n,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]}),o.jsx("div",{className:"picker-separator",children:":"}),o.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,u),children:[o.jsx("div",{className:"picker-spacer"}),f.map(g=>o.jsx("div",{className:`picker-item ${g===c?"selected":""}`,onClick:()=>{u(g),h(a,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]})]}),o.jsxs("div",{className:"picker-arrows-bottom",children:[o.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),o.jsx("div",{className:"picker-selection-indicator"})]})}function _y({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return o.jsxs("div",{className:a,children:[o.jsx("span",{children:e}),t&&o.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function Bh({title:e,editable:t=!1,onTitleChange:n,showArrows:a=!1,onMoveLeft:i,onMoveRight:r,isFirst:s=!1,isLast:l=!1,showHideButton:c=!1,onHide:u,showDeleteButton:d=!1,onDelete:h,customActions:m,settingsMenuItems:f=[]}){var E,j;const[p,b]=_.useState(!1),[S,v]=_.useState(e),[g,y]=_.useState(!1),w=_.useRef(null),x=()=>{S.trim()&&S!==e&&(n==null||n(S.trim())),b(!1)},T=()=>{v(e),b(!1)};return _.useEffect(()=>{const A=N=>{if(g&&w.current&&!w.current.contains(N.target)){const R=document.querySelector(".section-settings-dropdown");R&&!R.contains(N.target)&&y(!1)}};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[g]),o.jsxs("div",{className:"section-header",children:[o.jsx("div",{className:"section-title-container",children:p?o.jsx("div",{className:"section-title-edit-wrapper",children:o.jsx("input",{type:"text",value:S,onChange:A=>v(A.target.value),onBlur:x,onKeyDown:A=>{A.key==="Enter"?x():A.key==="Escape"&&T()},className:"section-title-input",autoFocus:!0})}):o.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&b(!0),children:e})}),o.jsxs("div",{className:"section-actions",children:[a&&o.jsxs("div",{className:"section-arrow-buttons",children:[o.jsx("button",{className:"section-arrow-button",onClick:i,disabled:s,title:" ",children:""}),o.jsx("button",{className:"section-arrow-button",onClick:r,disabled:l,title:" ",children:""})]}),m,f.length>0&&o.jsxs("div",{style:{position:"relative"},children:[o.jsx("button",{ref:w,className:"section-action-button settings-button",onClick:()=>y(!g),title:"",children:""}),g&&Hy.createPortal(o.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((E=w.current)==null?void 0:E.getBoundingClientRect().bottom)+5}px`,left:`${(j=w.current)==null?void 0:j.getBoundingClientRect().left}px`},children:f.map((A,N)=>o.jsxs("button",{className:"settings-menu-item",onClick:()=>{A.onClick(),y(!1)},children:[o.jsx("span",{children:A.icon}),o.jsx("span",{children:A.label})]},N))}),document.body)]})]})]})}function SO({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,isReorderMode:r,setIsReorderMode:s,onOpenTrash:l,onOpenRoutine:c,onOpenMemo:u,onScrollToKeyThoughts:d,onOpenGanttChart:h,onOpenEncouragementModal:m,onOpenDummyModal:f,onOpenAddSection:p,onOpenHiddenSections:b,onLogout:S}){var v,g;return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),o.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[o.jsxs("div",{className:"sidebar-header",children:[o.jsx("h2",{children:""}),o.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&o.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((v=n.user.user_metadata)==null?void 0:v.avatar_url)&&o.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((g=n.user.user_metadata)==null?void 0:g.full_name)||n.user.email}),o.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),o.jsxs("div",{className:"sidebar-content",children:[o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const y=a==="vertical"?"horizontal":"vertical";i(y),localStorage.setItem("viewMode",y),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),o.jsx("span",{children:a==="vertical"?" ":" "})]}),o.jsxs("button",{className:`sidebar-menu-item ${r?"active":""}`,onClick:()=>{s(!r),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:r?"  ":" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{p(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{b(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{c(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{h(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{m(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{f(),t(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&S()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]})]})]})]})}function xO({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return o.jsxs("div",{className:"date-nav-section",children:[o.jsxs("div",{className:"date-display-wrapper",children:[o.jsx("span",{className:"date-display",children:Un(e)}),o.jsx("input",{type:"date",value:Be(e),onChange:t,className:"date-picker-input"})]}),o.jsx("button",{onClick:n,className:"date-nav-button",children:""}),o.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function EO({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:r,onNextDay:s,showEncouragementEmoji:l,currentEncouragementMessage:c,onEncouragementClick:u,isReorderMode:d,setIsReorderMode:h}){return o.jsx("div",{className:"header-fixed",children:o.jsxs("div",{className:"settings-bar",children:[o.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),o.jsx(xO,{selectedDate:n,onDateChange:i,onPrevDay:r,onNextDay:s}),o.jsx("div",{className:"encouragement-section",children:_O(n)?o.jsx("div",{className:"encouragement-message",onClick:u,title:"    !",children:l?o.jsx("span",{className:"encouragement-emoji",children:"  "}):c||"!"}):o.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),o.jsx("button",{className:`section-reorder-toggle ${d?"active":""}`,onClick:()=>h(!d),title:d?"  ":" ",children:""}),d&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[o.jsx("span",{children:"    "}),o.jsx("button",{onClick:()=>h(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function TO({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:o.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const i=a.touches[0];a.currentTarget.dataset.touchStartX=i.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const i=parseFloat(a.currentTarget.dataset.touchStartX||"0"),r=parseInt(a.currentTarget.dataset.touchStartTime||"0"),s=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,c=Date.now()-r;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,s&&c<500){const u=i-l,d=n.current;if(!d)return;const h=d.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>o.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const i=n.current;if(!i)return;const r=i.querySelectorAll(".section-block");r[a]&&r[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function td({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:r,placeholder:s,children:l,editable:c=!1,onTitleChange:u,showArrows:d=!1,onMoveLeft:h,onMoveRight:m,isFirst:f,isLast:p,settingsMenuItems:b=[],headerActions:S}){return o.jsxs("div",{className:t,children:[o.jsx(Bh,{title:e,editable:c,onTitleChange:u,showArrows:d,onMoveLeft:h,onMoveRight:m,isFirst:f,isLast:p,settingsMenuItems:b,customActions:S}),o.jsxs("div",{className:"section-input",children:[o.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onKeyDown:v=>{v.key==="Enter"&&i()},placeholder:s,className:"todo-input",disabled:r}),o.jsx("button",{onClick:i,className:"add-button",disabled:r,children:""})]}),l]})}function gr({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:r,formatDateOnly:s,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:d,level:h=0,onCreateRoutine:m,routines:f,onShowRoutineHistory:p,onOpenRoutineSetupModal:b,onOpenHistoryModal:S,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:w,activeId:x,overId:T}){const[E,j]=_.useState(!1),[A,N]=_.useState(!1),[R,H]=_.useState(e.text),[q,P]=_.useState(!1),[te,C]=_.useState(!1),[Y,F]=_.useState(!1),[oe,be]=_.useState(""),[wt,ke]=_.useState(!1),[et,Ue]=_.useState([]),[ot,rt]=_.useState(!1),[W,U]=_.useState(!1),[L,O]=_.useState([]),[B,M]=_.useState([]),[V,k]=_.useState([]),[Z,se]=_.useState(null),[Se,pe]=_.useState(!1),[fe,Ne]=_.useState(null),[Le,Ge]=_.useState(!1),[At,zt]=_.useState([]),[Ma,Xn]=_.useState(""),[pn,Jn]=_.useState({}),[Mn,ka]=_.useState(!1),[Tt,Ua]=_.useState(null),[on,Wi]=_.useState([]),jt=e.routine_id?f.find(z=>z.id===e.routine_id):null,[X,G]=_.useState(0),[ee,he]=_.useState(0),[ue,je]=_.useState(0),[_e,we]=_.useState(!1),[xe,ge]=_.useState(!1),{attributes:Ve,listeners:Pe,setNodeRef:Je,transform:Xt,transition:Qe,isDragging:Ot}=zh({id:e.id}),ft=e.id===x,le=e.id===T&&x&&x!==T,St={cursor:"grab",opacity:ft?.4:1},cn=e.text.length>30,kn=()=>{N(!0),H(e.text)},ia=async()=>{R.trim()&&R!==e.text&&await i(e.id,R.trim()),N(!1)},gi=async z=>{z.key==="Enter"?(z.preventDefault(),await ia()):z.key==="Escape"&&(N(!1),H(e.text))},Vc=z=>{zt(Q=>Q.includes(z)?Q.filter(ze=>ze!==z):[...Q,z])},Gc=z=>["sun","mon","tue","wed","thu","fri","sat"][z],$l=async z=>{try{const Q=typeof v=="string"?v:Be(v),qe=[...z.hidden_dates||[],Q],Ee=z.routine_id!==null&&z.routine_id!==void 0;let Ye={hidden_dates:qe};Ee||(Ye.deleted=!0,Ye.deleted_date=new Date().toISOString());const{error:Ze}=await de.from("todos").update(Ye).eq("id",z.id);if(Ze)throw Ze;y&&y(z.id);const ct=z.routine_id!==null&&z.routine_id!==void 0;w(ct?"  ":"   ",{type:"hideOnDate",todoId:z.id,hiddenDate:Q,wasDeleted:!Ee})}catch(Q){console.error("  :",Q.message),alert("   .")}},fs=async z=>{try{const{error:Q}=await de.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(Q)throw Q;y&&y(z.id)}catch(Q){console.error(" :",Q.message),alert(" .")}},Kc=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:Q}=await de.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(Q)throw Q;const ze=typeof v=="string"?v:Be(v),Ee=[...z.hidden_dates||[],ze],{error:Ye}=await de.from("todos").update({hidden_dates:Ee}).eq("id",z.id);if(Ye)throw Ye;y&&y(z.id),w("   ",{type:"stopRoutineFromToday",todoId:z.id,routineId:z.routine_id,hiddenDate:ze})}catch(Q){console.error("  :",Q.message),alert("   .")}},Xc=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:Q}=await de.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(Q)throw Q;const{error:ze}=await de.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(ze)throw ze;y&&y(z.id),w("   ",{type:"deleteRoutineCompletely",todoId:z.id,routineId:z.routine_id})}catch(Q){console.error("   :",Q.message),alert("   .")}};_.useEffect(()=>{fe==="history"&&!pn[e.id]&&!Mn&&(async()=>{ka(!0);try{const{data:Q,error:ze}=await de.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(ze)throw ze;Jn(qe=>({...qe,[e.id]:Q||[]}))}catch(Q){console.error("Error fetching history:",Q)}finally{ka(!1)}})()},[fe,e.id,pn,Mn]),_.useEffect(()=>{fe==="routine-stats"&&jt&&(!Tt||Tt.id!==jt.id)&&(async()=>{try{const{data:Q,error:ze}=await de.from("todos").select("*").eq("routine_id",jt.id).eq("deleted",!1).maybeSingle();if(ze)throw ze;if(Q&&Q.visible_dates){const qe=Q.visible_dates.sort().map(Ee=>{var Ye;return{id:`${Q.id}-${Ee}`,date:Ee,text:Q.text,completed:((Ye=Q.completed_dates)==null?void 0:Ye.includes(Ee))||!1}});Wi(qe),Ua(jt)}}catch(Q){console.error("Error fetching routine history:",Q)}})()},[fe,jt,Tt]);const yi=z=>{if(A||Ot)return;const Q=z.type.includes("touch")?z.touches[0].clientX:z.clientX,ze=z.type.includes("touch")?z.touches[0].clientY:z.clientY;he(Q),je(ze),we(!1),ge(!0)},vi=z=>{if(A||Ot||!xe)return;const Q=z.type.includes("touch")?z.touches[0].clientX:z.clientX,ze=z.type.includes("touch")?z.touches[0].clientY:z.clientY,qe=ee-Q,Ee=Math.abs(ue-ze);if(!_e){const Ye=Math.abs(qe)+Ee;if(Ye>10){if(Math.abs(qe)>Ye*.8)we(!0),z.type.includes("touch")&&z.preventDefault();else if(Ee>Math.abs(qe)){ge(!1);return}}}if(_e){if(z.type.includes("touch")&&z.preventDefault(),qe>0&&qe<=100)G(qe);else if(qe<0&&X>0){const Ye=X+qe;G(Math.max(0,Ye)),he(Q)}}},za=()=>{ge(!1),_e&&(we(!1),G(X>40?80:0))},Jc=()=>{a(e.id)},Qc=z=>{M(Q=>Q.includes(z)?Q.filter(ze=>ze!==z):[...Q,z])};return o.jsxs("div",{ref:Je,style:{...St,borderTop:le?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:`todo-item-container ${l?"focused":""}`,children:[o.jsxs("span",{className:"todo-number",onClick:()=>c(e.id),children:[l&&o.jsx("span",{className:"focus-icon",children:""}),t+1]}),o.jsxs("div",{className:"todo-item-wrapper",children:[o.jsx("div",{className:"swipe-background",children:o.jsx("button",{onClick:Jc,className:"swipe-delete-button",title:"",children:""})}),o.jsxs("div",{...Ve,...Pe,className:`todo-item ${e.completed?"completed":""} ${E?"expanded":""} ${Ot?"drag-mode":""}`,style:{transform:`translateX(-${X}px)`,transition:_e||Ot?"none":"transform 0.3s ease"},onMouseDown:yi,onMouseMove:vi,onMouseUp:za,onMouseLeave:za,onTouchStart:yi,onTouchMove:vi,onTouchEnd:za,onContextMenu:z=>z.preventDefault(),children:[o.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),o.jsx("div",{className:"todo-content",onClick:()=>!A&&cn&&j(!E),onDoubleClick:kn,style:{cursor:A?"text":cn?"pointer":"default"},children:A?o.jsx("input",{type:"text",value:R,onChange:z=>H(z.target.value),onBlur:ia,onKeyDown:gi,className:"todo-edit-input",autoFocus:!0}):o.jsx("span",{className:`todo-text ${E?"expanded":""}`,children:e.text})}),(()=>{const z=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,Q=e.routine_id&&jt,ze=g||e.is_pending_routine;return(d.length>0||z||Q||ze)&&o.jsxs("div",{className:"todo-badges",children:[z&&(()=>{const qe=new Date(e.completed_at).toISOString().split("T")[0],Ee=new Date(e.completed_at).getDate();return o.jsxs("span",{className:"completed-date-badge",title:`${qe} `,children:[Ee,""]})})(),Q&&(()=>{const qe=v||e.date,Ee=new Date(qe+"T00:00:00"),Ye=Ee.getMonth()+1,Ze=Ee.getDate(),bn=["","","","","","",""][Ee.getDay()],pi=`${Ye}/${Ze}(${bn})`;return o.jsxs("span",{className:"routine-date-badge",title:`${jt.text} `,children:["for ",pi]})})(),ze&&o.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&o.jsx("span",{className:"todo-badge clickable",title:" ",onClick:qe=>{qe.stopPropagation(),te?(P(!1),C(!1),F(!1)):(P(!0),C(!0),F(!1),ke(!1),U(!1))},children:""})]})})(),!A&&!e.parent_id&&o.jsx("button",{className:"todo-more-button",onClick:z=>{z.stopPropagation(),pe(!0),Ne(null),Ge(!1),zt([]),Xn("")},title:"",children:""}),te&&!e.parent_id&&o.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((z,Q)=>o.jsx(gr,{todo:z,index:Q,onToggle:n,onDelete:a,onEdit:i,formatDate:r,formatDateOnly:s,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:[],level:h+1,routines:f,onShowRoutineHistory:p,showSuccessMessage:w,onOpenRoutineSetupModal:b,onOpenHistoryModal:S,currentPageDate:v},z.id)),Y&&o.jsxs("div",{className:"subtodo-input-section",children:[o.jsx("input",{type:"text",value:oe,onChange:z=>be(z.target.value),onKeyDown:z=>{z.key==="Enter"&&oe.trim()&&(u(e.id,oe.trim()),be(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),o.jsx("button",{onClick:()=>{oe.trim()&&(u(e.id,oe.trim()),be(""))},className:"subtodo-add-button",children:""}),o.jsx("button",{onClick:()=>{be("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),Se&&Hy.createPortal(o.jsx("div",{className:"modal-overlay",onClick:()=>pe(!1),children:o.jsxs("div",{className:"actions-modal-content",onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"actions-modal-header",children:[o.jsx("h3",{children:" "}),o.jsx("button",{onClick:()=>pe(!1),className:"modal-close-button",children:""})]}),o.jsx("div",{className:"todo-edit-section",children:o.jsx("textarea",{value:R,onChange:z=>H(z.target.value),onBlur:()=>{R.trim()!==""&&R!==e.text?i(e.id,R):R.trim()===""&&H(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),o.jsxs("div",{className:"actions-modal-body",children:[o.jsxs("div",{className:"actions-menu",children:[o.jsxs("button",{className:`action-menu-item ${fe==="nanotodo"?"active":""}`,onClick:()=>Ne("nanotodo"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${fe==="routine"?"active":""}`,onClick:()=>{Ne("routine");const z=f.find(Q=>Q.id===e.routine_id);z?(zt(z.days||[]),Xn(z.time_slot||""),Ge(!1)):(zt([]),Xn(""),Ge(!0))},children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${fe==="history"?"active":""}`,onClick:()=>Ne("history"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),e.routine_id&&jt&&o.jsxs("button",{className:`action-menu-item ${fe==="routine-stats"?"active":""}`,onClick:()=>Ne("routine-stats"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item delete ${fe==="delete"?"active":""}`,onClick:()=>Ne("delete"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]})]}),o.jsxs("div",{className:"actions-detail",children:[!fe&&o.jsx("div",{className:"actions-detail-empty",children:o.jsx("p",{children:"  "})}),fe==="nanotodo"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsxs("div",{className:"nanotodo-section-in-modal",children:[d&&d.length>0&&o.jsx("div",{className:"subtodo-list-in-modal",children:d.map(z=>o.jsxs("div",{className:"subtodo-item-in-modal",children:[o.jsx("input",{type:"checkbox",checked:z.completed,onChange:()=>n(z.id),className:"subtodo-checkbox-modal"}),o.jsx("span",{className:`subtodo-text-modal ${z.completed?"completed":""}`,children:z.text}),o.jsx("button",{onClick:()=>a(z.id),className:"subtodo-delete-modal",title:"",children:""})]},z.id))}),o.jsxs("div",{className:"subtodo-input-section-modal",children:[o.jsx("input",{type:"text",value:oe,onChange:z=>be(z.target.value),onKeyDown:z=>{z.key==="Enter"&&oe.trim()&&(u(e.id,oe.trim()),be(""))},placeholder:" ...",className:"subtodo-input-modal"}),o.jsx("button",{onClick:()=>{oe.trim()&&(u(e.id,oe.trim()),be(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),fe==="routine"&&(()=>{const z=f.find(Q=>Q.id===e.routine_id);return o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{className:"routine-setup-inline",children:z&&!Le?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Hi.filter(Q=>z.days.includes(Q.key)).map(Q=>o.jsx("span",{className:"routine-day-badge",children:Q.label},Q.key))}),z.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",z.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:Q=>{Q.stopPropagation(),z&&(zt(z.days),Xn(z.time_slot||""),Ge(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async Q=>{Q.stopPropagation(),z&&e&&(await m(e.id,e.text,[],null,!0),pe(!1))},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:Le?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Hi.map(Q=>o.jsx("button",{onClick:ze=>{ze.stopPropagation(),Vc(Q.key)},className:`day-button-inline ${At.includes(Q.key)?"selected":""}`,children:Q.label},Q.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx($h,{value:Ma,onChange:Q=>Xn(Q)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async Q=>{Q.stopPropagation(),e&&(Le&&z?await m(e.id,e.text,At,z.id,!1,Ma):await m(e.id,e.text,At,null,!1,Ma),Ge(!1),pe(!1))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:Q=>{Q.stopPropagation(),Ge(!1),zt([]),Xn("")},className:"routine-cancel-button",children:""})]})]})})]})})(),fe==="history"&&(()=>{const z=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],Q=z[0],ze=z.map(Ee=>({id:`${e.id}-${Ee}`,date:Ee})),qe=pn[e.id]||[];return Mn?o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:r(e.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:s(Q?new Date(Q+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),ze.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:ze.map((Ee,Ye)=>{const Ze=Ee.date===e.date,ct=s(new Date(Ee.date+"T00:00:00"));return o.jsxs("span",{children:[Ye>0&&"  ",o.jsxs("span",{style:Ze?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ct.split("(")[0],Ze?"()":""]})]},Ee.id)})})]}),(()=>{const Ee=new Date(e.created_at).toISOString().split("T")[0],Ye=e.date;return Ee!==Ye&&ze.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),qe.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",qe.length,")"]}),qe.map(Ee=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[r(Ee.changed_at),Ee.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(Ee.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:Ye=>{Ye.stopPropagation(),Qc(Ee.id)},children:B.includes(Ee.id)?"":""})]}),B.includes(Ee.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:Ee.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:Ee.new_text})]})]})]},Ee.id))]})]})]})})(),fe==="routine-stats"&&jt&&(()=>{if(!Tt||Tt.id!==jt.id||on.length===0)return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",jt.text," "]}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Tt||Tt.id!==jt.id?" ...":" ."})]});const z=on[0],Q=new Date(z.date),ze=new Date,qe={};on.forEach(Ze=>{qe[Ze.date]=Ze.completed});const Ee=[];let Ye=new Date(Q);for(;Ye<=ze;){const Ze=Ye.getFullYear(),ct=Ye.getMonth(),bn=`${Ze}-${ct+1}`;Ee.find(gs=>gs.key===bn)||Ee.push({key:bn,year:Ze,month:ct,days:[]});const pi=Ee.find(gs=>gs.key===bn),da=Be(Ye),hs=Ye.getDay(),ms=Gc(hs),Pc=jt.days.includes(ms);pi.days.push({date:new Date(Ye),dateStr:da,day:Ye.getDate(),dayOfWeek:hs,isCompleted:qe[da]===!0,isRoutineDay:Pc,hasTodo:qe[da]!==void 0}),Ye.setDate(Ye.getDate()+1)}return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",jt.text," "]}),o.jsxs("div",{className:"routine-history-content",children:[o.jsx("div",{className:"routine-history-calendar",children:Ee.map(Ze=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[Ze.year," ",Ze.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),Ze.days.length>0&&Array(Ze.days[0].dayOfWeek).fill(null).map((ct,bn)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${bn}`)),Ze.days.map((ct,bn)=>{if(bn>0&&ct.day===1){const da=6-Ze.days[bn-1].dayOfWeek;return o.jsxs(gt.Fragment,{children:[Array(da).fill(null).map((hs,ms)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${bn}-${ms}`)),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]},ct.dateStr)}return o.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,title:`${ct.dateStr}${ct.isRoutineDay?"":" (  )"}${ct.isCompleted?" - ":ct.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},ct.dateStr)})]})]},Ze.key))}),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[on.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[on.filter(Ze=>Ze.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[on.filter(Ze=>!Ze.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[on.length>0?Math.round(on.filter(Ze=>Ze.completed).length/on.length*100):0,"%"]})]})]})]})]})})(),fe==="delete"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:e.text})}),(()=>{var qe;const z=((qe=e.visible_dates)==null?void 0:qe.length)>0?e.visible_dates:[e.date||e.created_date],Q=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await $l(e),pe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Kc(e),pe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Xc(e),pe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):z.length>1||Q?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await $l(e),pe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await fs(e),pe(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsx("div",{className:"delete-options-simple",children:o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await fs(e),pe(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})}),document.body)]})}function jO({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:r,onToggleDay:s,selectedTimeSlot:l,setSelectedTimeSlot:c,onAddRoutine:u,routines:d,editingRoutineId:h,editingRoutineText:m,setEditingRoutineText:f,editingRoutineDays:p,onToggleEditDay:b,onStartEdit:S,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:w}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content routine-modal",onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),o.jsx("div",{className:"day-selector",children:Hi.map(x=>o.jsx("button",{onClick:()=>s(x.key),className:`day-button ${r.includes(x.key)?"selected":""}`,disabled:i,children:x.label},x.key))}),o.jsxs("div",{className:"time-slot-selector",children:[o.jsx("label",{className:"time-slot-label",children:"  ()"}),o.jsx($h,{value:l,onChange:x=>c(x)})]}),o.jsx("button",{onClick:u,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),o.jsx("div",{className:"routine-list",children:d.length===0?o.jsx("p",{className:"empty-message",children:"  ."}):d.map(x=>o.jsx("div",{className:"routine-item",children:h===x.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-edit-content",children:[o.jsx("input",{type:"text",value:m,onChange:T=>f(T.target.value),className:"routine-edit-input",placeholder:" "}),o.jsx("div",{className:"day-selector-inline",children:Hi.map(T=>o.jsx("button",{onClick:()=>b(T.key),className:`day-button-inline ${p.includes(T.key)?"selected":""}`,children:T.label},T.key))})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:v,className:"routine-save-button",disabled:m.trim()===""||p.length===0,children:""}),o.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsx("span",{className:"routine-text",children:x.text}),o.jsxs("div",{className:"routine-meta",children:[o.jsx("div",{className:"routine-days",children:Hi.filter(T=>x.days.includes(T.key)).map(T=>o.jsx("span",{className:"routine-day-badge",children:T.label},T.key))}),x.time_slot&&o.jsx("span",{className:"routine-time-slot",children:x.time_slot})]})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:()=>w(x),className:"routine-history-button",title:" ",children:""}),o.jsx("button",{onClick:()=>S(x),className:"routine-edit-button",title:"",children:""}),o.jsx("button",{onClick:()=>y(x.id),className:"routine-delete-button",title:"",children:""})]})]})},x.id))})]})}):null}const OO=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function DO({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h2",{children:[" ",n.text," "]}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return o.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],r=new Date(i.date),s=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const c=[];let u=new Date(r);for(;u<=s;){const d=u.getFullYear(),h=u.getMonth(),m=`${d}-${h+1}`;c.find(g=>g.key===m)||c.push({key:m,year:d,month:h,days:[]});const f=c.find(g=>g.key===m),p=Be(u),b=u.getDay(),S=OO(b),v=n.days.includes(S);f.days.push({date:new Date(u),dateStr:p,day:u.getDate(),dayOfWeek:b,isCompleted:l[p]===!0,isRoutineDay:v,hasTodo:l[p]!==void 0}),u.setDate(u.getDate()+1)}return o.jsx("div",{className:"routine-history-calendar",children:c.map(d=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((h,m)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${m}`)),d.days.map((h,m)=>{if(m>0&&h.day===1){const p=6-d.days[m-1].dayOfWeek;return o.jsxs(o.Fragment,{children:[Array(p).fill(null).map((b,S)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${m}-${S}`)),o.jsx("div",{className:"history-day-header",children:""},h.dateStr),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${h.isCompleted?"completed":""} ${h.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:h.day}),h.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]})}return o.jsxs("div",{className:`history-day-cell ${h.isCompleted?"completed":""} ${h.isRoutineDay?"":"not-routine-day"}`,title:`${h.dateStr}${h.isRoutineDay?"":" (  )"}${h.isCompleted?" - ":h.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:h.day}),h.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},h.dateStr)})]})]},d.key))})})(),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function NO({title:e,className:t,content:n,setContent:a,isEditing:i,isSaving:r,textareaRef:s,onStartEdit:l,onSave:c,onCancel:u,onKeyDown:d,placeholder:h,emptyMessage:m,showArrows:f=!1,onMoveLeft:p,onMoveRight:b,isFirst:S,isLast:v,settingsMenuItems:g=[],children:y}){return o.jsxs("div",{className:t,children:[o.jsx(Bh,{title:e,showArrows:f,onMoveLeft:p,onMoveRight:b,isFirst:S,isLast:v,settingsMenuItems:g,customActions:o.jsxs(o.Fragment,{children:[!i&&o.jsx("button",{onClick:l,className:"section-action-button",title:" ",children:" "}),i&&o.jsxs("div",{className:"memo-edit-actions",children:[o.jsx("button",{onClick:c,className:"memo-save-button",disabled:r,children:" "}),o.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:r,children:" "})]})]})}),i?o.jsx("textarea",{ref:s,value:n,onChange:w=>a(w.target.value),onKeyDown:d,className:"memo-textarea",placeholder:h}):o.jsx("div",{className:"memo-preview",onClick:l,children:n?o.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((w,x)=>o.jsx("div",{className:"memo-preview-line",children:w||""},x))}):o.jsx("div",{className:"memo-empty",children:m})}),y]})}function l_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,parentBlock:r,rootSetBlocks:s,draggingChildIds:l=[],activeId:c,overId:u}){const{attributes:d,listeners:h,setNodeRef:m,transform:f,transition:p,isDragging:b}=zh({id:e.id}),S=e.id===c,v=e.id===u&&c&&c!==u,g={cursor:"grab",opacity:S?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return o.jsx("div",{ref:m,style:g,children:o.jsx(o_,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:{...d,...h},parentBlock:r,rootSetBlocks:s,draggingChildIds:l,activeId:c,overId:u})})}function o_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:r,parentBlock:s,rootSetBlocks:l,draggingChildIds:c=[],activeId:u,overId:d}){const h=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const x=h.current.value.length;h.current.setSelectionRange(x,x)}},[a,e.id]),_.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const f=(x,T,E)=>x.map(j=>{if(j.id===T){const A=E(j);return{...A,children:Array.isArray(A.children)?A.children:[]}}return Array.isArray(j.children)&&j.children.length>0?{...j,children:f(j.children,T,E)}:j}),p=x=>{n(T=>f(T,e.id,E=>({...E,content:x})))},b=x=>{n(T=>f(T,e.id,E=>({...E,children:typeof x=="function"?x(E.children):x})))},S=()=>{n(x=>f(x,e.id,T=>{const E=!T.isOpen;if(E&&(!Array.isArray(T.children)||T.children.length===0)){const j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...T,isOpen:E,children:[j]}}return{...T,isOpen:E,children:Array.isArray(T.children)?T.children:[]}}))},v=()=>{const x=t.findIndex(E=>E.id===e.id);if(x<=0)return;const T=t[x-1];n(E=>{const j=[...E];j.splice(x,1);const A={...T,children:[...Array.isArray(T.children)?T.children:[],e],isOpen:!0};return j[x-1]=A,j})},g=()=>{!s||!l||l(x=>{const T=(A,N,R)=>{const H=[];for(let q=0;q<A.length;q++){const P=A[q];if(P.id===N){const te=P.children.filter(Y=>Y.id!==R.id),C={...P,children:te};H.push(C),H.push(R)}else if(Array.isArray(P.children)&&P.children.length>0){const te=T(P.children,N,R);te!==P.children?H.push({...P,children:te}):H.push(P)}else H.push(P)}return H},E=A=>A.map(N=>{const R=Array.isArray(N.children)&&N.children.length>0;return!R&&N.isOpen?{...N,isOpen:!1}:R?{...N,children:E(N.children)}:N}),j=T(x,s.id,e);return E(j)})},y=x=>{const T=[],E=j=>{for(const A of j)T.push(A),A.isOpen&&Array.isArray(A.children)&&A.children.length>0&&E(A.children)};return E(x),T},w=x=>{if(x.key==="Enter"){if(x.shiftKey)return;{if(m.current){x.preventDefault(),x.stopPropagation();return}x.preventDefault(),x.stopPropagation(),m.current=!0;const T=x.target.selectionStart,E={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};T===0?(n(j=>{const A=j.findIndex(R=>R.id===e.id);if(A===-1)return j;const N=[...j];return N.splice(A,0,E),N}),setTimeout(()=>{i(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(j=>{const A=j.findIndex(R=>R.id===e.id);if(A===-1)return j;const N=[...j];return N.splice(A+1,0,E),N}),setTimeout(()=>{i(E.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(x.key==="Tab"&&x.shiftKey)x.preventDefault(),x.stopPropagation(),s&&l&&g();else if(x.key==="Tab"&&!x.shiftKey)x.preventDefault(),x.stopPropagation(),v();else if(x.key==="Backspace"){const T=x.target.selectionStart;if(e.content===""||T===0){const N=(()=>{if(l){let q=[];return l(P=>(q=P,P)),q}return t})(),R=y(N),H=R.findIndex(q=>q.id===e.id);if(H>0){x.preventDefault(),x.stopPropagation();const q=R[H-1],P=(C,Y)=>C.filter(F=>F.id!==Y).map(F=>Array.isArray(F.children)&&F.children.length>0?{...F,children:P(F.children,Y)}:F),te=C=>C.map(Y=>{const F=Array.isArray(Y.children)&&Y.children.length>0;return!F&&Y.isOpen?{...Y,isOpen:!1}:F?{...Y,children:te(Y.children)}:Y});l?l(C=>{const Y=P(C,e.id);return te(Y)}):n(C=>{const Y=P(C,e.id);return te(Y)}),setTimeout(()=>{i(q.id)},0)}}}else if(x.key==="ArrowUp"&&!x.shiftKey){x.preventDefault(),x.stopPropagation();const E=(()=>{if(l){let N=[];return l(R=>(N=R,R)),N}return t})(),j=y(E),A=j.findIndex(N=>N.id===e.id);A>0&&i(j[A-1].id)}else if(x.key==="ArrowDown"&&!x.shiftKey){x.preventDefault(),x.stopPropagation();const E=(()=>{if(l){let N=[];return l(R=>(N=R,R)),N}return t})(),j=y(E),A=j.findIndex(N=>N.id===e.id);A<j.length-1&&i(j[A+1].id)}};return o.jsxs("div",{className:"notion-block",children:[r&&o.jsx("div",{className:"notion-drag-handle",...r,title:" ",children:""}),o.jsx("div",{className:"notion-block-controls",children:o.jsx("button",{className:"block-type-button",onClick:S,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),o.jsx("div",{className:"notion-block-content",children:o.jsx("textarea",{ref:h,value:e.content,onChange:x=>p(x.target.value),onKeyDown:w,onFocus:()=>i(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&o.jsx("div",{className:"notion-block-children",children:e.children.map(x=>o.jsx(l_,{block:x,blocks:e.children,setBlocks:b,focusedBlockId:a,setFocusedBlockId:i,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:c,activeId:u,overId:d},x.id))})]})}function AO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:i,onOpenViewer:r,showArrows:s=!1,onMoveLeft:l,onMoveRight:c,isFirst:u,isLast:d,settingsMenuItems:h=[]}){const[m,f]=_.useState(null),[p,b]=_.useState(null),S=Nh($r(Ul,{activationConstraint:{distance:3}}),$r(qc,{coordinateGetter:r_})),v=H=>H.map(q=>{const P=Array.isArray(q.children)&&q.children.length>0;return!P&&q.isOpen?{...q,isOpen:!1}:P?{...q,children:v(q.children)}:q});_.useEffect(()=>{const H=v(e);JSON.stringify(H)!==JSON.stringify(e)&&t(H)},[e]);const g=H=>{const q=[],P=te=>{for(const C of te)q.push(C),C.isOpen&&Array.isArray(C.children)&&C.children.length>0&&P(C.children)};return P(H),q},y=H=>{const q=[],P=te=>{if(Array.isArray(te.children)&&te.children.length>0)for(const C of te.children)q.push(C.id),P(C)};return P(H),q},w=H=>{const{active:q}=H,te=g(e).find(C=>C.id===q.id);f(te)},x=H=>{const{over:q}=H;b((q==null?void 0:q.id)||null)},T=gt.useMemo(()=>m?y(m):[],[m]),E=H=>{const{active:q,over:P}=H;if(f(null),b(null),!P||q.id===P.id)return;const te=g(e),C=te.find(U=>U.id===q.id),Y=te.find(U=>U.id===P.id);if(!C||!Y||y(C).includes(P.id))return;const oe=JSON.parse(JSON.stringify(C)),be=(U,L)=>U.filter(O=>O.id!==L).map(O=>({...O,children:Array.isArray(O.children)?be(O.children,L):[]})),wt=(U,L,O)=>{let B=!1;const M=[];for(const V of U)if(M.push(V),V.id===L&&(M.push(O),B=!0),Array.isArray(V.children)&&V.children.length>0){const{newChildren:k,wasInserted:Z}=ke(V.children,L,O);Z&&(M[M.length-1]={...V,children:k},B=!0)}return{newTree:M,inserted:B}},ke=(U,L,O)=>{let B=!1;const M=[];for(const V of U)if(M.push(V),V.id===L&&(M.push(O),B=!0),Array.isArray(V.children)&&V.children.length>0){const{newChildren:k,wasInserted:Z}=ke(V.children,L,O);Z&&(M[M.length-1]={...V,children:k},B=!0)}return{newChildren:M,wasInserted:B}};let et=be(e,C.id);const Ue=et.length>0&&et[0].id===Y.id;let ot,rt=!1;if(Ue)ot=[oe,...et],rt=!0;else{const U=wt(et,Y.id,oe);ot=U.newTree,rt=U.inserted}if(!rt){console.warn("Failed to insert block, keeping original state");return}const W=v(ot);t(W)},j=g(e).filter(H=>!T.includes(H.id)).map(H=>H.id),A=H=>{const q=P=>P.map(te=>({...te,isOpen:H,children:Array.isArray(te.children)?q(te.children):[]}));t(q(e))},N=H=>{for(const q of H)if(!q.isOpen&&Array.isArray(q.children)&&q.children.length>0||Array.isArray(q.children)&&q.children.length>0&&!N(q.children))return!1;return!0},R=N(e);return o.jsxs("div",{className:"key-thoughts-section section-block",children:[o.jsx(Bh,{title:"  ",showArrows:s,onMoveLeft:l,onMoveRight:c,isFirst:u,isLast:d,settingsMenuItems:h,customActions:o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"section-action-button",onClick:()=>r&&r(),title:"  ",children:" "}),o.jsx("button",{className:"section-action-button",onClick:()=>i&&i(),title:"  ",children:" "}),o.jsx("button",{className:"section-action-button",onClick:()=>A(!R),title:R?" ":" ",children:R?" ":" "})]})}),o.jsx("div",{className:"key-thoughts-content notion-editor",children:o.jsxs(kh,{sensors:S,collisionDetection:Ah,onDragStart:w,onDragOver:x,onDragEnd:E,measuring:{droppable:{strategy:Ki.Always}},children:[o.jsx(Ci,{items:j,strategy:Ai,children:e.map(H=>o.jsx(l_,{block:H,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:T,activeId:m==null?void 0:m.id,overId:p},H.id))}),o.jsx(Uh,{children:m?o.jsx("div",{className:"drag-overlay-block",children:o.jsx(o_,{block:m,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function CO({block:e,depth:t,isSelected:n,isCurrent:a,isOver:i,dropPosition:r,activeId:s,hasChildren:l,text:c,onClick:u,showBottomLine:d,isEditing:h,editingText:m,onDoubleClick:f,onEditChange:p,onSaveEdit:b,onCancelEdit:S,onAddChildBlock:v,onDeleteBlock:g,onToggleTodo:y,onToggleMemo:w}){const{attributes:x,listeners:T,setNodeRef:E}=zh({id:e.id}),j=_.useRef(null),A=_.useRef(!1);_.useEffect(()=>{h&&j.current&&(j.current.style.height="auto",j.current.style.height=j.current.scrollHeight+"px")},[h,m]);const N=e.id===s,R=i&&r==="top"&&s&&s!==e.id,H=i&&r==="bottom"&&s&&s!==e.id||d,q=i&&r==="center"&&s&&s!==e.id,P={cursor:h?"text":"grab",opacity:N?.4:1},te=h?{}:{...x,...T};return o.jsxs("div",{ref:E,style:P,"data-block-id":e.id,"data-drop-zone":i?r:"",className:`viewer-block ${n?"selected":""} ${a?"current-selected":""} ${l?"has-children":""} ${R?"show-drop-line-top":""} ${H?"show-drop-line-bottom":""} ${q?"show-as-child-target":""} ${h?"editing":""}`,onClick:h?void 0:u,onDoubleClick:h?void 0:f,...te,children:[o.jsx("div",{className:"block-content-area",children:h?o.jsx("textarea",{ref:j,className:"block-edit-input",value:m,onChange:C=>p(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),C.stopPropagation(),A.current=!0,b(),j.current&&j.current.blur()):C.key==="Escape"&&(C.preventDefault(),C.stopPropagation(),A.current=!0,S(),j.current&&j.current.blur())},onBlur:()=>{A.current||b(),A.current=!1},autoFocus:!0,rows:1}):o.jsx("div",{className:"block-text",children:c||" "})}),o.jsx("div",{className:"block-actions-area",children:h?o.jsxs("div",{className:"block-edit-buttons",children:[o.jsx("button",{className:`todo-button ${e.isTodo?"active":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),y(e.id)},title:"TODO  ",children:e.isTodo?"":""}),o.jsx("button",{className:`memo-button ${e.memo?"has-memo":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),w(e.id)},title:"",children:""}),o.jsx("button",{className:"add-child-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),b(),v(e.id)},title:"  ",children:""}),o.jsx("button",{className:"delete-block-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),window.confirm("  ?")&&g(e.id)},title:" ",children:""})]}):l&&o.jsx("div",{className:"block-arrow",children:n?"":""})})]})}function RO({blocks:e=[],setBlocks:t,onSave:n,onClose:a}){const[i,r]=_.useState(!0),[s,l]=_.useState([]),[c,u]=_.useState(null),[d,h]=_.useState(null),[m,f]=_.useState(null),[p,b]=_.useState(null),[S,v]=_.useState(""),g=_.useRef({x:0,y:0}),y=_.useRef(null),w=_.useRef(null),x=Nh($r(Ul,{activationConstraint:{delay:500,tolerance:8}}));_.useEffect(()=>{if(s.length===0)return;const W=s.length-1,U=s[W];U&&setTimeout(()=>{let L=null;if(U==="ADD_BUTTON"){const O=document.querySelectorAll(".viewer-column");O[W]&&(L=O[W].querySelector(".add-block-button"))}else L=document.querySelector(`[data-block-id="${U}"]`);L&&L.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},50)},[s]),_.useEffect(()=>{const W=U=>{if(p)return;const L=s.length>0?s.length-1:0,O=s[L],B=O==="ADD_BUTTON",M=E(L),V=M.findIndex(k=>k.id===O);switch(U.key){case"Enter":{if(U.preventDefault(),B)C(L);else if(O){const k=T(e,O);k&&(b(O),v(ot(k)))}break}case"ArrowUp":{if(U.preventDefault(),B){if(M.length>0){const k=M[M.length-1].id,Z=s.slice(0,L);Z[L]=k,l(Z)}}else if(V>0){const k=M[V-1].id,Z=s.slice(0,L);Z[L]=k,l(Z)}break}case"ArrowDown":{if(U.preventDefault(),V===M.length-1){const k=s.slice(0,L);k[L]="ADD_BUTTON",l(k)}else if(V<M.length-1&&!B){const k=M[V+1].id,Z=s.slice(0,L);Z[L]=k,l(Z)}break}case"ArrowLeft":{U.preventDefault(),s.length>0&&l(s.slice(0,-1));break}case"ArrowRight":{if(U.preventDefault(),O&&O!=="ADD_BUTTON"){const k=T(e,O);if(k)if(k.children&&k.children.length>0){const Z=[...s,k.children[0].id];l(Z)}else{const Z=[...s,"ADD_BUTTON"];l(Z)}}else M.length>0&&l([M[0].id]);break}case"Tab":{if(U.preventDefault(),O&&O!=="ADD_BUTTON"){const k=T(e,O);if(k)if(k.children&&k.children.length>0){const Z=[...s,k.children[0].id];l(Z)}else{const Z=[...s,"ADD_BUTTON"];l(Z)}}else M.length>0&&l([M[0].id]);break}}U.key==="Tab"&&U.shiftKey&&(U.preventDefault(),s.length>0&&l(s.slice(0,-1)))};return window.addEventListener("keydown",W),()=>{window.removeEventListener("keydown",W)}},[s,p,e]);const T=(W,U)=>{for(const L of W){if(L.id===U)return L;if(L.children){const O=T(L.children,U);if(O)return O}}return null},E=W=>{if(W===0)return e||[];let U=e;for(let L=0;L<W;L++){const O=s[L];if(!O)return[];const B=U.find(M=>M.id===O);if(!B||!B.children||B.children.length===0)return[];U=B.children}return U},j=(W,U,L)=>{if(p||c)return;const O=s.slice(0,W);O[W]=U,l(O)},A=(W,U)=>{U.stopPropagation();const L=T(e,W);L&&(b(W),v(ot(L)))},N=()=>{if(!p||!t)return;const W=JSON.parse(JSON.stringify(e)),U=(L,O,B)=>{for(let M=0;M<L.length;M++){if(L[M].id===O)return Array.isArray(L[M].content)?L[M].content=[{text:B}]:L[M].content=B,!0;if(L[M].children&&U(L[M].children,O,B))return!0}return!1};U(W,p,S),t(W),b(null),v(""),n&&setTimeout(()=>{n()},100)},R=()=>{b(null),v("")},H=W=>{if(!t)return;const U=JSON.parse(JSON.stringify(e)),L=(B,M)=>{for(let V=0;V<B.length;V++){if(B[V].id===M){const k=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Z={id:k,content:"",children:[]};return B[V].children||(B[V].children=[]),B[V].children.push(Z),k}if(B[V].children){const k=L(B[V].children,M);if(k)return k}}return null};if(L(U,W)){t(U),b(null),v("");const B=Y(U,W);if(B!==-1){const M=s.slice(0,B);M[B]=W,l(M)}n&&setTimeout(()=>{n()},100)}},q=W=>{if(!t)return;const U=JSON.parse(JSON.stringify(e)),L=(O,B)=>{for(let M=0;M<O.length;M++){if(O[M].id===B)return O.splice(M,1),!0;if(O[M].children&&L(O[M].children,B))return!0}return!1};if(L(U,W)){t(U),b(null),v("");const O=s.filter(B=>B!==W);l(O),n&&setTimeout(()=>{n()},100)}},P=W=>{if(!t)return;const U=JSON.parse(JSON.stringify(e)),L=(O,B)=>{for(let M=0;M<O.length;M++){if(O[M].id===B)return O[M].isTodo=!O[M].isTodo,O[M].isTodo||(O[M].isCompleted=!1),!0;if(O[M].children&&L(O[M].children,B))return!0}return!1};L(U,W)&&(t(U),n&&setTimeout(()=>{n()},100))},te=W=>{if(!t)return;const U=T(e,W);if(!U)return;const L=U.memo||"",O=prompt(" :",L);if(O===null)return;const B=JSON.parse(JSON.stringify(e)),M=(V,k,Z)=>{for(let se=0;se<V.length;se++){if(V[se].id===k)return V[se].memo=Z,!0;if(V[se].children&&M(V[se].children,k,Z))return!0}return!1};M(B,W,O)&&(t(B),n&&setTimeout(()=>{n()},100))},C=W=>{if(!t)return;const U=JSON.parse(JSON.stringify(e)),L=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,O={id:L,content:"",children:[]};if(W===0)U.push(O);else{const B=s[W-1];if(!B)return;const M=V=>{for(let k=0;k<V.length;k++){if(V[k].id===B)return V[k].children||(V[k].children=[]),V[k].children.push(O),!0;if(V[k].children&&M(V[k].children))return!0}return!1};M(U)}t(U),setTimeout(()=>{b(L),v("")},50),n&&setTimeout(()=>{n()},100)},Y=(W,U,L=0)=>{for(const O of W){if(O.id===U)return L;if(O.children){const B=Y(O.children,U,L+1);if(B!==-1)return B}}return-1},F=(W,U)=>{if(!W||U===0)return null;const L=document.querySelector(`[data-block-id="${W}"]`);if(!L)return"top";const O=L.getBoundingClientRect(),M=(U-O.top)/O.height;let V;if(M<0?V="top":M>1?V="bottom":M<.25?V="top":M>.75?V="bottom":V="center",V==="center"&&T(e,W)){const Z=Y(e,W);if(Z!==-1){const se=s.slice(0,Z);se[Z]=W,JSON.stringify(se)!==JSON.stringify(s)&&l(se)}}return V},oe=(W,U,L)=>{if(!t)return;const O=JSON.parse(JSON.stringify(e));let B=null;const M=(k,Z)=>{for(let se=0;se<k.length;se++){if(k[se].id===Z)return B=k.splice(se,1)[0],!0;if(k[se].children&&M(k[se].children,Z))return!0}return!1};if(M(O,W),!B)return;const V=(k,Z,se,Se)=>{for(let pe=0;pe<k.length;pe++){if(k[pe].id===Z){const fe=Se==="bottom"?pe+1:pe;return k.splice(fe,0,se),!0}if(k[pe].children&&V(k[pe].children,Z,se,Se))return!0}return!1};V(O,U,B,L)&&t(O)},be=(W,U)=>{if(!t)return;const L=JSON.parse(JSON.stringify(e));let O=null;const B=(k,Z)=>{for(let se=0;se<k.length;se++){if(k[se].id===Z)return O=k.splice(se,1)[0],!0;if(k[se].children&&B(k[se].children,Z))return!0}return!1};if(B(L,W),!O)return;const M=(k,Z,se)=>{for(let Se=0;Se<k.length;Se++){if(k[Se].id===Z)return k[Se].children||(k[Se].children=[]),k[Se].children.push(se),!0;if(k[Se].children&&M(k[Se].children,Z,se))return!0}return!1};if(!M(L,U,O))return;if(t(L),T(L,U)){const k=(se,Se,pe=0)=>{for(const fe of se){if(fe.id===Se)return pe;if(fe.children){const Ne=k(fe.children,Se,pe+1);if(Ne!==-1)return Ne}}return-1},Z=k(L,U);if(Z!==-1){const se=s.slice(0,Z);se[Z]=U,l(se)}}},wt=W=>{const{active:U,activatorEvent:L}=W,O=T(e,U.id);u(O),w.current=U.id,document.body.classList.add("dragging"),L&&L.clientY!==void 0&&(g.current={x:L.clientX||0,y:L.clientY});const B=V=>{g.current={x:V.clientX,y:V.clientY};const k=y.current||w.current;if(k){const Z=F(k,V.clientY);Z&&f(Z)}},M=V=>{if(V.touches[0]){g.current={x:V.touches[0].clientX,y:V.touches[0].clientY};const k=y.current||w.current;if(k){const Z=F(k,V.touches[0].clientY);Z&&f(Z)}}};window.addEventListener("mousemove",B),window.addEventListener("touchmove",M),window._dragMoveCleanup=()=>{window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",M)}},ke=W=>{const{over:U}=W;if(!U){h(null),f(null),y.current=null;return}y.current=U.id,h(U.id);const L=g.current.y,O=F(U.id,L);O&&f(O)},et=async W=>{const{active:U,over:L}=W;let O=!1;L&&U.id!==L.id&&(m==="center"?(be(U.id,L.id),O=!0):(oe(U.id,L.id,m),O=!0)),u(null),h(null),f(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null),O&&n&&setTimeout(()=>{n()},100)},Ue=()=>{u(null),h(null),f(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null)},ot=W=>typeof W.content=="string"?W.content:Array.isArray(W.content)?W.content.map(U=>U.text||"").join(""):"",rt=Math.min(s.length+1,10);return o.jsx(kh,{sensors:x,collisionDetection:Ah,onDragStart:wt,onDragOver:ke,onDragEnd:et,onDragCancel:Ue,children:o.jsxs("div",{className:`key-thoughts-viewer-page ${i?"dark-mode":""}`,children:[o.jsxs("header",{className:"viewer-header",children:[o.jsx("button",{className:"viewer-close-button",onClick:a,"aria-label":" ",children:""}),o.jsx("h2",{className:"viewer-title",children:" "}),o.jsx("button",{className:"dark-mode-toggle",onClick:()=>r(!i),"aria-label":i?"  ":"  ",children:i?"Light":"Dark"})]}),o.jsx("main",{className:"viewer-content",children:o.jsx("div",{className:"columns-container",children:Array.from({length:rt}).map((W,U)=>{const L=E(U),O=s[U];if(L.length===0&&U>0&&!s[U-1])return null;const B=L.map(k=>k.id),M=d?Y(e,d):-1,V=M!==-1&&M+1===U&&m==="center"&&c;return o.jsxs("div",{className:"viewer-column",children:[o.jsx("div",{className:"column-header",children:U===0?"A":U===1?"B":U===2?"C":String.fromCharCode(65+U)}),o.jsx(Ci,{items:B,strategy:Ai,children:o.jsxs("div",{className:"column-blocks",children:[L.length===0&&V?o.jsx("div",{className:"empty-column-drop-line"}):L.map((k,Z)=>{const se=k.id===O,Se=k.id===d,pe=k.children&&k.children.length>0,fe=ot(k),Le=Z===L.length-1&&V,Ge=s.length>0&&s[s.length-1]===k.id;return o.jsx(CO,{block:k,depth:U,isSelected:se,isCurrent:Ge,isOver:Se,dropPosition:m,activeId:c==null?void 0:c.id,hasChildren:pe,text:fe,onClick:()=>j(U,k.id),showBottomLine:Le,isEditing:p===k.id,editingText:S,onDoubleClick:At=>A(k.id,At),onEditChange:v,onSaveEdit:N,onCancelEdit:R,onAddChildBlock:H,onDeleteBlock:q,onToggleTodo:P,onToggleMemo:te},k.id)}),(U===0||s[U-1]!=="ADD_BUTTON")&&o.jsx("button",{className:`add-block-button ${O==="ADD_BUTTON"?"selected":""}`,onClick:()=>C(U),children:"+  "})]})})]},U)})})}),o.jsx(Uh,{children:c?o.jsxs("div",{className:"viewer-block dragging-overlay",children:[o.jsx("div",{className:"block-content-area",children:o.jsx("div",{className:"block-text",children:ot(c)||" "})}),o.jsx("div",{className:"block-actions-area",children:c.children&&c.children.length>0&&o.jsx("div",{className:"block-arrow",children:""})})]}):null})]})})}function MO({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:i,onPermanentDelete:r,formatDate:s}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:" "}),o.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&o.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),o.jsx("div",{className:"trash-list",children:n.length===0?o.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const c=l.visible_dates||(l.date?[l.date]:[]),u=c.length>1||l.original_todo_id,d=l.original_todo_id!==null&&l.original_todo_id!==void 0,h=l.hidden_dates&&l.hidden_dates.length>0;let m="  ";return d?m="   ( )":h?m="  ":l.deleted===!0&&(m=c.length>1?"  ":""),o.jsxs("div",{className:"trash-item",children:[o.jsxs("div",{className:"trash-item-content",children:[o.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),o.jsxs("div",{className:"trash-metadata",children:[o.jsxs("span",{className:"trash-date",children:[": ",s(l.created_at)]}),l.deleted_date&&o.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),o.jsx("span",{className:`trash-delete-type ${d?"old-style":h?"partial":"complete"}`,children:m})]}),u&&o.jsxs("div",{className:"trash-carryover-info",children:[o.jsx("div",{className:"carryover-label",children:"  :"}),o.jsx("div",{className:"carryover-dates",children:c.length>0?c.map((f,p)=>o.jsx("span",{className:"carryover-date-badge",children:f},p)):l.original_todo_id?o.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),h&&o.jsxs("div",{className:"hidden-dates-info",children:[o.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((f,p)=>o.jsx("span",{className:"hidden-date-badge",children:f},p))]})]})]}),o.jsxs("div",{className:"trash-actions",children:[o.jsx("button",{onClick:()=>i(l.id),className:"restore-button",title:"",children:""}),o.jsx("button",{onClick:()=>r(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function kO({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:i,onDeleteDummySession:r,onDeleteAllDummies:s,formatDate:l}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content routine-modal",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),o.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),o.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),o.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[o.jsx("h3",{children:"  "}),i.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):o.jsxs(o.Fragment,{children:[i.map((c,u)=>o.jsxs("div",{className:"routine-item",children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",c.sessionId]}),o.jsxs("div",{className:"routine-days",children:[o.jsxs("span",{className:"routine-day-badge",children:[" ",c.count,""]}),c.historyCount>0&&o.jsxs("span",{className:"routine-day-badge",children:[" ",c.historyCount,""]}),o.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(c.createdAt)})]})]}),o.jsx("div",{className:"routine-item-actions",children:o.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&r(c.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},c.sessionId)),o.jsx("button",{onClick:()=>{window.confirm("   ?")&&s()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function UO({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:r}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content gantt-modal",onClick:s=>s.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  -  "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"gantt-filter",children:o.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(s=>o.jsx("button",{className:`period-button ${a===s.value?"active":""}`,onClick:()=>i(s.value),children:s.label},s.value))})}),o.jsx("div",{className:"gantt-content",children:n.length===0?o.jsx("p",{className:"empty-message",children:" ."}):o.jsx("div",{className:"gantt-chart",children:(()=>{const s=n.flatMap(h=>h.dates),l=[...new Set(s)].sort((h,m)=>new Date(h)-new Date(m));if(l.length===0)return o.jsx("p",{className:"empty-message",children:"  ."});const c=new Date(l[0]),u=new Date(l[l.length-1]),d=[];for(let h=new Date(c);h<=u;h.setDate(h.getDate()+1))d.push(new Date(h).toISOString().split("T")[0]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"gantt-header",children:[o.jsx("div",{className:"gantt-task-column",children:" "}),o.jsx("div",{className:"gantt-timeline",children:d.map(h=>o.jsx("div",{className:"gantt-date-cell",children:r(new Date(h+"T00:00:00")).split("(")[0]},h))})]}),n.map((h,m)=>{const f=new Set(h.dates);return o.jsxs("div",{className:"gantt-row",children:[o.jsx("div",{className:"gantt-task-column",title:h.text,children:o.jsx("span",{className:h.completed?"completed-task":"",children:h.text})}),o.jsx("div",{className:"gantt-timeline",children:d.map(p=>{if(!f.has(p))return o.jsx("div",{className:"gantt-date-cell"},p);const S=p===h.startDate,v=p===h.completedDate;let g="gantt-date-cell has-task";return S?g+=" start-date":v?g+=" completed-date":g+=" middle-date",o.jsx("div",{className:g,children:v?o.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},h.originalId)})]})})()})})]})}):null}function zO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:r,editingEncouragementId:s,editingEncouragementText:l,setEditingEncouragementId:c,setEditingEncouragementText:u,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:h}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content encouragement-modal",onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"encouragement-add-section",children:[o.jsx("input",{type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async m=>{m.key==="Enter"&&a.trim()!==""&&(await r(a.trim()),i(""))}}),o.jsx("button",{onClick:async()=>{a.trim()!==""&&(await r(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),o.jsx("div",{className:"encouragement-list",children:n.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):n.map((m,f)=>o.jsx("div",{className:"encouragement-item",children:s===f?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"encouragement-edit-input",placeholder:" "}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(f,l.trim()),c(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),o.jsx("button",{onClick:()=>{c(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"encouragement-text",children:m}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:()=>{c(f),u(m)},className:"encouragement-edit-button",title:"",children:""}),o.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await h(f)},className:"encouragement-delete-button",title:"",children:""})]})]})},f))})]})}):null}function $O({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"    "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?o.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(i=>o.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(i.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.description&&o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i.description})]}),o.jsx("button",{onClick:()=>a(i.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(i.content)?i.content.map((r,s)=>o.jsxs("div",{style:{marginBottom:"4px"},children:[r.type==="toggle"?" ":"",r.content||"( )"]},s)):"( )"})]},i.id))})})]})}):null}function BO({isOpen:e,onClose:t,onAddSection:n}){const[a,i]=_.useState(""),[r,s]=_.useState(""),l=["","","","","","","","","","","",""],c=u=>{u.preventDefault(),a.trim()&&(n({name:a.trim(),icon:r}),i(""),s(""),t())};return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content add-section-modal",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),o.jsxs("form",{onSubmit:c,className:"add-section-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:" "}),o.jsx("input",{type:"text",value:a,onChange:u=>i(u.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:" "}),o.jsx("div",{className:"emoji-grid",children:l.map(u=>o.jsx("button",{type:"button",className:`emoji-button ${r===u?"selected":""}`,onClick:()=>s(u),children:u},u))}),o.jsx("div",{className:"custom-emoji-input",children:o.jsx("input",{type:"text",value:r,onChange:u=>{const d=Array.from(u.target.value);s(d.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:""}),o.jsxs("div",{className:"section-preview",children:[r," ",a||" "]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),o.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function HO({show:e,onClose:t,hiddenSections:n,sectionOrder:a,sectionTitles:i,customSections:r,onShowSection:s}){if(!e)return null;const l=c=>{if(i[c])return i[c];const u=r.find(d=>d.id===c);return u?`${u.icon} ${u.name}`:c};return n.length===0?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{className:"empty-message",children:"  ."})})]})}):o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsx("div",{className:"hidden-sections-list",children:n.map(c=>o.jsxs("div",{className:"hidden-section-item",children:[o.jsx("span",{className:"hidden-section-title",children:l(c)}),o.jsx("button",{className:"show-section-button",onClick:()=>{s(c)},title:" ",children:" "})]},c))})})]})})}function LO({authLoading:e,session:t,handleGoogleLogin:n}){return e?o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),o.jsx("div",{children:" ..."})]})}):t?null:o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[o.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),o.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),o.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[o.jsx("span",{children:""}),"Google "]})]})})}function qO(e){const[t,n]=_.useState(["memo","routine","normal","key-thoughts"]),[a,i]=_.useState(!1),r=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{const{data:m,error:f}=await de.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(f){console.error("   :",f.message);return}if(m&&m.setting_value){const p=JSON.parse(m.setting_value);n(p)}}catch(m){console.error("   :",m.message)}},s=async h=>{var m;if((m=e==null?void 0:e.user)!=null&&m.id)try{const{data:f,error:p}=await de.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(p){console.error("   :",p.message);return}f?await de.from("user_settings").update({setting_value:JSON.stringify(h),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await de.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(h),user_id:e.user.id}])}catch(f){console.error("   :",f.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:r,saveSectionOrder:s,moveSectionLeft:h=>{n(m=>{const f=m.indexOf(h);if(f<=0)return m;const p=[...m];return[p[f-1],p[f]]=[p[f],p[f-1]],s(p),p})},moveSectionRight:h=>{n(m=>{const f=m.indexOf(h);if(f===-1||f>=m.length-1)return m;const p=[...m];return[p[f],p[f+1]]=[p[f+1],p[f]],s(p),p})},handleSectionDragEnd:h=>{const{active:m,over:f}=h;a&&t.includes(m.id)&&f&&m.id!==(f==null?void 0:f.id)&&n(p=>{const b=p.indexOf(m.id),S=p.indexOf(f.id),v=pl(p,b,S);return s(v),v})},handleSectionsContainerDoubleClick:h=>{a&&h.target===h.currentTarget&&i(!1)}}}function YO(e){const[t,n]=_.useState(""),[a,i]=_.useState(!1),[r,s]=_.useState(!1),[l,c]=_.useState(""),u=_.useRef(null),d=async()=>{try{const{data:b,error:S}=await de.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(S)throw S;const v=b&&b.length>0?b[0].content:"";n(v),c(v)}catch(b){console.error("   :",b.message),n(""),c("")}},h=()=>{i(!0),c(t),setTimeout(()=>{u.current&&u.current.focus()},0)},m=async()=>{var b;if(!r)try{s(!0);const{data:S}=await de.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);S&&S.length>0?await de.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",S[0].id):await de.from("spec_memos").insert([{content:t,user_id:(b=e==null?void 0:e.user)==null?void 0:b.id}]),c(t),i(!1)}catch(S){console.error("  :",S.message),alert("  .")}finally{s(!1)}},f=()=>{n(l),i(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:i,isSavingMemo:r,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:d,handleStartEditMemoInline:h,handleSaveMemoInline:m,handleCancelEditMemoInline:f,handleMemoKeyDown:b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),m()),b.key==="Escape"&&(b.preventDefault(),f())}}}function IO(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;e.forEach(i=>{t.set(i.block_id,{id:i.block_id,type:i.type||"toggle",content:i.content||"",isOpen:i.is_open!==void 0?i.is_open:!0,isTodo:i.is_todo||!1,isCompleted:i.is_completed||!1,memo:i.memo||"",children:[],_dbId:i.id,_parentId:i.parent_id,_position:i.position,_depth:i.depth,_createdAt:i.created_at,_updatedAt:i.updated_at})});const n=[];e.forEach(i=>{const r=t.get(i.block_id);if(i.parent_id===null||i.parent_id===void 0)n.push(r);else{const s=t.get(i.parent_id);s?s.children.push(r):(console.warn(`Parent not found for block ${i.block_id}, moving to root`),n.push(r))}});const a=i=>{i.sort((r,s)=>(r._position||0)-(s._position||0)),i.forEach(r=>{r.children.length>0&&a(r.children)})};return a(n),n}function gf(e,t=null,n=0){if(!Array.isArray(e))return[];let a=[];return e.forEach((i,r)=>{const{children:s,_dbId:l,_parentId:c,_position:u,_depth:d,_createdAt:h,_updatedAt:m,...f}=i,p={block_id:f.id||i.id,content:f.content||"",type:f.type||"toggle",parent_id:t,position:r,depth:n,is_open:f.isOpen!==void 0?f.isOpen:!0,is_todo:f.isTodo||!1,is_completed:f.isCompleted||!1,memo:f.memo||""};if(a.push(p),s&&s.length>0){const b=gf(s,f.id||i.id,n+1);a=a.concat(b)}}),a}function wy(){return`${Date.now()}.${Math.random().toString(36).substring(2,9)}`}function yf(e){return Array.isArray(e)?e.map(t=>({...t,children:Array.isArray(t.children)?yf(t.children):[]})):[]}function VO(e){const[t,n]=_.useState([{id:wy(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,i]=_.useState(!1),[r,s]=_.useState(!1),l=_.useRef(null),c=_.useRef(null),[u,d]=_.useState(null),[h,m]=_.useState([]),[f,p]=_.useState(!1),b=async()=>{var N;if((N=e==null?void 0:e.user)!=null&&N.id){i(!0);try{const{data:R,error:H}=await de.from("key_thought_blocks").select("*").eq("user_id",e.user.id).order("position",{ascending:!0});if(H){console.error("  :",H.message);return}if(R&&R.length>0){const q=IO(R);n(q),l.current=JSON.parse(JSON.stringify(q))}}catch(R){console.error("  :",R.message)}finally{i(!1)}}},S=async N=>{var R;if(!((R=e==null?void 0:e.user)!=null&&R.id))return null;try{const H=N.id||wy(),{data:q,error:P}=await de.from("key_thought_blocks").insert([{user_id:e.user.id,block_id:H,content:N.content||"",type:N.type||"toggle",parent_id:N.parent_id||null,position:N.position||0,depth:N.depth||0,is_open:N.isOpen!==void 0?N.isOpen:!0}]).select().single();return P?(console.error("  :",P.message),null):q}catch(H){return console.error("  :",H.message),null}},v=async(N,R)=>{var H;if(!((H=e==null?void 0:e.user)!=null&&H.id))return!1;try{const q={};R.content!==void 0&&(q.content=R.content),R.type!==void 0&&(q.type=R.type),R.isOpen!==void 0&&(q.is_open=R.isOpen),R.position!==void 0&&(q.position=R.position),R.parent_id!==void 0&&(q.parent_id=R.parent_id),R.depth!==void 0&&(q.depth=R.depth),q.updated_at=new Date().toISOString();const{error:P}=await de.from("key_thought_blocks").update(q).eq("user_id",e.user.id).eq("block_id",N);return P?(console.error("  :",P.message),!1):!0}catch(q){return console.error("  :",q.message),!1}},g=async N=>{var R;if(!((R=e==null?void 0:e.user)!=null&&R.id))return!1;try{const{error:H}=await de.from("key_thought_blocks").delete().eq("user_id",e.user.id).eq("block_id",N);return H?(console.error("  :",H.message),!1):!0}catch(H){return console.error("  :",H.message),!1}},y=async(N,R,H,q)=>{var P;if(!((P=e==null?void 0:e.user)!=null&&P.id))return!1;try{const{error:te}=await de.from("key_thought_blocks").update({parent_id:R,position:H,depth:q,updated_at:new Date().toISOString()}).eq("user_id",e.user.id).eq("block_id",N);return te?(console.error("  :",te.message),!1):!0}catch(te){return console.error("  :",te.message),!1}},w=async()=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id))return!1;s(!0);try{await de.from("key_thought_blocks").delete().eq("user_id",e.user.id);const R=gf(t);if(R.length>0){const{error:H}=await de.from("key_thought_blocks").insert(R.map(q=>({...q,user_id:e.user.id})));if(H)return console.error("  :",H.message),!1}return await T(t),l.current=JSON.parse(JSON.stringify(t)),!0}catch(R){return console.error("  :",R.message),!1}finally{s(!1)}},x=(N,R)=>{if(!N||N.length===0||N.length!==R.length)return!0;const H=(q,P)=>{for(let te=0;te<q.length;te++){const C=q[te],Y=P[te];if(C.type!==Y.type)return!0;const F=C.children?C.children.length:0,oe=Y.children?Y.children.length:0;if(F!==oe)return!0;const be=C.content||"",wt=Y.content||"";if(Math.abs(be.length-wt.length)>=20||oe>0&&H(C.children,Y.children))return!0}return!1};return H(N,R)},T=async N=>{var R;if((R=e==null?void 0:e.user)!=null&&R.id)try{if(!x(l.current,N))return;const{error:H}=await de.from("key_thoughts_history").insert([{content:N,description:" ",user_id:e.user.id}]);H&&console.error("   :",H.message)}catch(H){console.error("   :",H.message)}},E=async()=>{try{const N=new Date().toDateString();if(c.current===N)return;const R=new Date;R.setDate(R.getDate()-30);const{error:H}=await de.from("key_thoughts_history").delete().lt("created_at",R.toISOString());H?console.error("   :",H.message):(c.current=N,console.log("   "))}catch(N){console.error("   :",N.message)}},j=async()=>{try{const{data:N,error:R}=await de.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(R){console.error("   :",R.message);return}m(N||[])}catch(N){console.error("   :",N.message)}};return{blocks:t,setBlocks:n,loading:a,isSaving:r,setIsSaving:s,lastSavedBlocksRef:l,focusedBlockId:u,setFocusedBlockId:d,keyThoughtsHistory:h,setKeyThoughtsHistory:m,showKeyThoughtsHistory:f,setShowKeyThoughtsHistory:p,fetchBlocks:b,createBlock:S,updateBlock:v,deleteBlock:g,moveBlock:y,saveAllBlocks:w,fetchKeyThoughtsHistory:j,restoreKeyThoughtsVersion:async N=>{try{const R=h.find(P=>P.id===N);if(!R){alert("    .");return}if(!window.confirm(`  ?
    .`))return;x(l.current,t)&&await de.from("key_thoughts_history").insert([{content:t,description:"   ",user_id:e.user.id}]);const H=yf(R.content);n(H),await de.from("key_thought_blocks").delete().eq("user_id",e.user.id);const q=gf(H);q.length>0&&await de.from("key_thought_blocks").insert(q.map(P=>({...P,user_id:e.user.id}))),await de.from("key_thoughts_history").insert([{content:H,description:`  (${new Date(R.created_at).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})`,user_id:e.user.id}]),l.current=JSON.parse(JSON.stringify(H)),alert("  !"),p(!1),await j()}catch(R){console.error("  :",R.message),alert("    : "+R.message)}},cleanupOldHistory:E,normalizeBlocks:yf}}const GO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],KO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:r})=>{const[s,l]=_.useState([]),[c,u]=_.useState(""),[d,h]=_.useState([]),[m,f]=_.useState(""),[p,b]=_.useState(!1),[S,v]=_.useState(!1),[g,y]=_.useState(null),[w,x]=_.useState(""),[T,E]=_.useState([]),[j,A]=_.useState(!1),[N,R]=_.useState(null),[H,q]=_.useState([]),P=_.useRef(new Set),te=async()=>{var O;if((O=e==null?void 0:e.user)!=null&&O.id)try{const{data:B,error:M}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(M)throw M;l(B||[])}catch(B){console.error("  :",B.message)}},C=async()=>{var O;if(!(c.trim()===""||p))try{b(!0);const B={text:c,days:d,start_date:Be(n),user_id:(O=e==null?void 0:e.user)==null?void 0:O.id};m&&(B.time_slot=m);const{data:M,error:V}=await t.from("routines").insert([B]).select();if(V)throw V;l([M[0],...s]),u(""),h([]),f("")}catch(B){console.error("  :",B.message)}finally{b(!1)}},Y=async(O,B,M,V=null,k=!1,Z="",se=null)=>{var Se;try{if(k){const{error:pe}=await t.from("todos").update({routine_id:null}).eq("id",O);if(pe)throw pe;a(fe=>fe.map(Ne=>Ne.id===O?{...Ne,routine_id:null}:Ne));return}if(V){const{error:pe}=await t.from("routines").update({days:M,time_slot:Z}).eq("id",V);if(pe)throw pe;const{error:fe}=await t.from("todos").update({is_pending_routine:M.length===0}).eq("id",O);if(fe)throw fe;l(Ne=>Ne.map(Le=>Le.id===V?{...Le,days:M,time_slot:Z}:Le)),a(Ne=>Ne.map(Le=>Le.id===O?{...Le,is_pending_routine:M.length===0}:Le))}else{const pe={text:B,days:M,time_slot:Z,start_date:se||Be(n),user_id:(Se=e==null?void 0:e.user)==null?void 0:Se.id},{data:fe,error:Ne}=await t.from("routines").insert([pe]).select();if(Ne)throw Ne;const{error:Le}=await t.from("todos").update({routine_id:fe[0].id,is_pending_routine:M.length===0}).eq("id",O);if(Le)throw Le;a(Ge=>Ge.map(At=>At.id===O?{...At,routine_id:fe[0].id,is_pending_routine:M.length===0}:At)),l(Ge=>[fe[0],...Ge])}}catch(pe){console.error("  :",pe.message)}},F=O=>{y(O.id),x(O.text),E(O.days)},oe=()=>{y(null),x(""),E([])},be=async()=>{if(!(!g||w.trim()===""||T.length===0))try{const{error:O}=await t.from("routines").update({text:w.trim(),days:T}).eq("id",g);if(O)throw O;l(s.map(B=>B.id===g?{...B,text:w.trim(),days:T}:B)),oe()}catch(O){console.error("  :",O.message)}},wt=O=>{E(B=>B.includes(O)?B.filter(M=>M!==O):[...B,O])},ke=async O=>{const B=s.find(k=>k.id===O),M=B?B.text:" ";if(window.confirm(`  "${M}"() ?

    ,     .
(   )`))try{const{error:k}=await t.from("routines").update({deleted:!0}).eq("id",O);if(k)throw k;const{error:Z}=await t.from("todos").update({routine_id:null}).eq("routine_id",O);Z&&console.error("  ID  :",Z.message),l(s.filter(se=>se.id!==O)),a(se=>se.map(Se=>Se.routine_id===O?{...Se,routine_id:null}:Se))}catch(k){console.error("  :",k.message)}},et=async O=>{var B;if(!P.current.has(O))try{P.current.add(O);const M=new Date(O),V=GO(M.getDay()),{data:k,error:Z}=await t.from("routines").select("*").eq("deleted",!1);if(Z)throw Z;const se=k.filter(Se=>{const pe=Se.days||[],fe=pe.length===0||pe.includes(V);if(Se.start_date){const Ne=new Date(Se.start_date),Le=M>=Ne;return fe&&Le}return fe});if(se.length===0)return;for(const Se of se){const pe=Se.text,{data:fe,error:Ne}=await t.from("todos").select("*").eq("routine_id",Se.id).eq("deleted",!1);if(Ne)throw Ne;if(fe&&fe.length>1){console.warn(` ${Se.id}    (${fe.length}).     .`);for(let Ge=1;Ge<fe.length;Ge++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",fe[Ge].id)}const Le=fe&&fe.length>0?fe[0]:null;if(Le){const Ge=Le.visible_dates||[];if(Ge.includes(O))continue;const At=[...Ge,O].sort(),{error:zt}=await t.from("todos").update({visible_dates:At}).eq("id",Le.id);zt&&console.error("    :",zt.message)}else{const{error:Ge}=await t.from("todos").insert([{text:pe,completed:!1,date:O,visible_dates:[O],hidden_dates:[],order_index:0,routine_id:Se.id,user_id:(B=e==null?void 0:e.user)==null?void 0:B.id}]);Ge&&console.error("   :",Ge.message)}}}catch(M){console.error("   :",M.message)}finally{setTimeout(()=>{P.current.delete(O)},1e3)}},Ue=async()=>{const B=Be(new Date);await et(B)},ot=async O=>{try{const{data:B,error:M}=await t.from("todos").select("*").eq("routine_id",O.id).eq("deleted",!1);if(M)throw M;const V=B&&B.length>0?B[0]:null;if(V&&V.visible_dates){const k=V.visible_dates.sort().map(Z=>({id:`${V.id}-${Z}`,date:Z,text:V.text,completed:V.completed,routine_id:V.routine_id}));q(k)}else q([]);R(O),A(!0)}catch(B){console.error("   :",B.message),alert("   : "+B.message)}},rt=()=>{A(!1),R(null),q([])},W=()=>{v(!0),te()},U=()=>{v(!1),u(""),h([])},L=O=>{h(B=>B.includes(O)?B.filter(M=>M!==O):[...B,O])};return _.useEffect(()=>{e&&te()},[e]),{routines:s,setRoutines:l,routineInput:c,selectedDays:d,selectedTimeSlot:m,isAddingRoutine:p,showRoutineModal:S,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:T,showRoutineHistory:j,selectedRoutineForHistory:N,routineHistoryData:H,routineCreationInProgress:P,setRoutineInput:u,setSelectedTimeSlot:f,fetchRoutines:te,handleAddRoutine:C,handleDeleteRoutine:ke,handleStartEditRoutine:F,handleSaveEditRoutine:be,handleCancelEditRoutine:oe,handleToggleEditDay:wt,handleCreateRoutineFromTodo:Y,createRoutineTodosForDate:et,createRoutineTodos:Ue,fetchRoutineHistory:ot,handleCloseRoutineHistory:rt,handleOpenRoutine:W,handleCloseRoutine:U,handleToggleDay:L}},XO=(e,t,n,a,i,r,s,l,c)=>{const[u,d]=_.useState(""),[h,m]=_.useState(""),[f,p]=_.useState(""),[b,S]=_.useState(!0),[v,g]=_.useState(!1),[y,w]=_.useState(!1),[x,T]=_.useState(null),[E,j]=_.useState(!1),[A,N]=_.useState(!1),[R,H]=_.useState(""),[q,P]=_.useState(null),[te,C]=_.useState(!1),[Y,F]=_.useState([]),[oe,be]=_.useState(null),[wt,ke]=_.useState(!1),[et,Ue]=_.useState(null),[ot,rt]=_.useState(null),[W,U]=_.useState(null),L=_.useRef(new Set),O=_.useRef(new Set),B=X=>["sun","mon","tue","wed","thu","fri","sat"][X],M=async X=>{var G;if(!L.current.has(X))try{L.current.add(X);const ee=new Date(X),he=B(ee.getDay()),{data:ue,error:je}=await t.from("routines").select("*").eq("deleted",!1);if(je)throw je;const _e=ue.filter(we=>{const xe=we.days||[],ge=xe.length===0||xe.includes(he);if(we.start_date){const Ve=new Date(we.start_date),Pe=ee>=Ve;return ge&&Pe}return ge});if(_e.length===0)return;for(const we of _e){const xe=we.text,{data:ge,error:Ve}=await t.from("todos").select("*").eq("routine_id",we.id).eq("deleted",!1);if(Ve)throw Ve;if(ge&&ge.length>1){console.warn(` ${we.id}    (${ge.length}).     .`);for(let Je=1;Je<ge.length;Je++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",ge[Je].id)}const Pe=ge&&ge.length>0?ge[0]:null;if(Pe){const Je=Pe.visible_dates||[];if(Je.includes(X))continue;const Xt=[...Je,X].sort(),{error:Qe}=await t.from("todos").update({visible_dates:Xt}).eq("id",Pe.id);Qe&&console.error("    :",Qe.message)}else{const{error:Je}=await t.from("todos").insert([{text:xe,completed:!1,date:X,visible_dates:[X],hidden_dates:[],order_index:0,routine_id:we.id,user_id:(G=e==null?void 0:e.user)==null?void 0:G.id}]);Je&&console.error("   :",Je.message)}}}catch(ee){console.error("   :",ee.message)}finally{setTimeout(()=>{L.current.delete(X)},1e3)}},V=async()=>{var X;if(!((X=e==null?void 0:e.user)!=null&&X.id)){S(!1);return}try{S(!0);const G=Be(n);await M(G);const{data:ee,error:he}=await t.from("todos").select("*").eq("deleted",!1);if(he)throw he;const ue=(ee||[]).filter(je=>je.hidden_dates&&Array.isArray(je.hidden_dates)&&je.hidden_dates.includes(G)?!1:je.visible_dates&&Array.isArray(je.visible_dates)&&je.visible_dates.length>0?je.visible_dates.includes(G):je.date===G);i(ue)}catch(G){console.error("   :",G.message)}finally{S(!1)}},k=async()=>{try{const{data:X,error:G}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(G)throw G;F(X||[])}catch(X){console.error("  :",X.message)}},Z=async()=>{var X;if(!(u.trim()===""||y))try{w(!0);const G=a.length>0?Math.max(...a.map(je=>je.order_index))+1:1,ee=Be(n),{data:he,error:ue}=await t.from("todos").insert([{text:u,completed:!1,order_index:G,date:ee,visible_dates:[ee],hidden_dates:[],user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]).select();if(ue)throw ue;i([...a,he[0]]),d("")}catch(G){console.error("   :",G.message)}finally{w(!1)}},se=async()=>{var X,G;if(!(h.trim()===""||y))try{w(!0);const ee=Be(n),{data:he,error:ue}=await t.from("routines").insert([{text:h,days:[],start_date:ee,user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]).select();if(ue)throw ue;const je=he[0],_e=a.filter(Ve=>!Ve.parent_id&&Ve.is_pending_routine),we=_e.length>0?Math.max(..._e.map(Ve=>Ve.order_index))+1:1,{data:xe,error:ge}=await t.from("todos").insert([{text:h,completed:!1,order_index:we,date:ee,visible_dates:[ee],hidden_dates:[],routine_id:je.id,is_pending_routine:!0,user_id:(G=e==null?void 0:e.user)==null?void 0:G.id}]).select();if(ge)throw ge;s([je,...r]),i([...a,xe[0]]),m("")}catch(ee){console.error("   :",ee.message)}finally{w(!1)}},Se=async()=>{var X;if(!(f.trim()===""||y))try{w(!0);const G=a.filter(_e=>!_e.parent_id&&_e.routine_id===null),ee=G.length>0?Math.max(...G.map(_e=>_e.order_index))+1:1,he=Be(n),{data:ue,error:je}=await t.from("todos").insert([{text:f,completed:!1,order_index:ee,date:he,visible_dates:[he],hidden_dates:[],user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]).select();if(je)throw je;i([...a,ue[0]]),p("")}catch(G){console.error("   :",G.message)}finally{w(!1)}},pe=async X=>{const G=a.find(ee=>ee.id===X);if(G)try{const ee=!G.completed,he=ee?new Date().toISOString():null,{error:ue}=await t.from("todos").update({completed:ee,completed_at:he}).eq("id",X);if(ue)throw ue;i(a.map(je=>je.id===X?{...je,completed:ee,completed_at:he}:je))}catch(ee){console.error("   :",ee.message)}},fe=X=>{i(a.filter(G=>G.id!==X))},Ne=async X=>{var ue;const G=a.find(je=>je.id===X);if(!G)return;const ee=((ue=G.visible_dates)==null?void 0:ue.length)>0?G.visible_dates:[G.date||G.created_date],he=G.original_todo_id!==null&&G.original_todo_id!==void 0;ee.length>1||he?(Ue(G),ke(!0)):await Le(X)},Le=async X=>{try{const G=a.find(ue=>ue.id===X);if(!G)return;T(G);const ee=Be(n),{error:he}=await t.from("todos").update({deleted:!0,deleted_date:ee}).eq("id",X);if(he)throw he;i(a.filter(ue=>ue.id!==X)),j(!0),setTimeout(()=>{j(!1),T(null)},5e3)}catch(G){console.error("   :",G.message)}};return{inputValue:u,setInputValue:d,routineInputValue:h,setRoutineInputValue:m,normalInputValue:f,setNormalInputValue:p,loading:b,isDraggingAny:v,isAdding:y,deletedTodo:x,showUndoToast:E,showSuccessToast:A,successToastMessage:R,lastDeleteAction:q,showTrashModal:te,trashedItems:Y,focusedTodoId:oe,setFocusedTodoId:be,selectedTodoForModal:l,showDeleteConfirmModal:wt,setShowDeleteConfirmModal:ke,todoToDelete:et,setTodoToDelete:Ue,activeTodoId:ot,overId:W,fetchTodos:V,handleAddTodo:Z,handleAddRoutineTodo:se,handleAddNormalTodo:Se,handleToggleTodo:pe,handleDeleteTodo:Ne,executeSimpleDelete:Le,hideOnThisDateOnly:async X=>{try{const G=Be(n),he=[...X.hidden_dates||[],G],{error:ue}=await t.from("todos").update({hidden_dates:he}).eq("id",X.id);if(ue)throw ue;i(a.filter(je=>je.id!==X.id)),ke(!1),Ue(null)}catch(G){console.error(" :",G.message)}},deleteCompletely:async X=>{try{const G=Be(n),{error:ee}=await t.from("todos").update({deleted:!0,deleted_date:G}).eq("id",X.id);if(ee)throw ee;i(a.filter(he=>he.id!==X.id)),ke(!1),Ue(null)}catch(G){console.error(" :",G.message)}},handleUndoDelete:async()=>{if(x)try{const{error:X}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",x.id);if(X)throw X;i(G=>{const ee={...x,deleted:!1,deleted_date:null};return[...G,ee].sort((ue,je)=>ue.order_index-je.order_index)}),j(!1),T(null)}catch(X){console.error("  :",X.message)}},handleRestoreFromTrash:async X=>{if(window.confirm(`  ?

      .`))try{const{error:ee}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",X);if(ee)throw ee;F(Y.filter(he=>he.id!==X)),alert(" !")}catch(ee){console.error(" :",ee.message),alert("  : "+ee.message)}},handlePermanentDelete:async X=>{if(window.confirm(`     ?

    .`))try{const{error:ee}=await t.from("todos").delete().eq("id",X);if(ee)throw ee;F(Y.filter(he=>he.id!==X)),alert("  .")}catch(ee){console.error("  :",ee.message),alert("   : "+ee.message)}},handleEditTodo:async(X,G)=>{var ee,he;try{let ue=null;O.current.add(X);const je=new Date().toISOString();if(i(xe=>(ue=xe.find(ge=>ge.id===X),!ue||ue.text===G?(O.current.delete(X),xe):xe.map(ge=>ge.id===X?{...ge,text:G,updated_at:je}:ge))),!ue||ue.text===G)return;const{error:_e}=await t.from("todo_history").insert([{todo_id:X,previous_text:ue.text,new_text:G,changed_on_date:ue.date,user_id:(ee=e==null?void 0:e.user)==null?void 0:ee.id}]);if(_e&&console.error("  :",_e.message),ue.original_todo_id){const{data:xe,error:ge}=await t.from("todos").select("text, date").eq("id",ue.original_todo_id).single();!ge&&xe&&await t.from("todo_history").insert([{todo_id:ue.original_todo_id,previous_text:ue.text,new_text:G,changed_on_date:ue.date,user_id:(he=e==null?void 0:e.user)==null?void 0:he.id}])}const{error:we}=await t.from("todos").update({text:G}).eq("id",X);we?(console.error("   :",we.message),i(xe=>xe.map(ge=>ge.id===X?ue:ge)),O.current.delete(X)):setTimeout(()=>{O.current.delete(X)},5e3)}catch(ue){console.error("   :",ue.message),O.current.delete(X)}},handleAddSubTodo:async(X,G)=>{var ee;if(!(!G||G.trim()===""))try{const ue=a.filter(xe=>xe.parent_id===X).length+1,je=Be(n),{data:_e,error:we}=await t.from("todos").insert([{text:G.trim(),completed:!1,order_index:ue,date:je,parent_id:X,user_id:(ee=e==null?void 0:e.user)==null?void 0:ee.id}]).select();if(we)throw we;i([...a,_e[0]])}catch(he){console.error("    :",he.message)}},handleDragEnd:async X=>{g(!1),rt(null),U(null);const{active:G,over:ee}=X;if(console.log("=== DRAG END DEBUG ==="),console.log("Active ID:",G.id),console.log("Over ID:",ee==null?void 0:ee.id),!ee||G.id===ee.id){console.log("Drag cancelled or same position");return}const he=a.find(le=>le.id===G.id),ue=a.find(le=>le.id===ee.id);if(console.log("Active Todo:",he),console.log("Over Todo:",ue),!he||!ue)return;const je=he.section_id||null,_e=he.routine_id||null,we=ue.section_id||null,xe=ue.routine_id||null;console.log("Active Section/Routine:",je,_e),console.log("Over Section/Routine:",we,xe);const ge=je!==we||_e!==xe;console.log("Is Cross-Section Move:",ge);const Ve=we,Pe=xe,Je=a.filter(le=>(le.section_id||null)===Ve&&(le.routine_id||null)===Pe&&!le.parent_id).sort((le,St)=>le.order_index-St.order_index);console.log("Section Todos (detailed):"),Je.forEach((le,St)=>{console.log(`  [${St}] id:${le.id}, order_index:${le.order_index}, text:"${le.text.substring(0,20)}"`)});const Xt=Je.findIndex(le=>le.id===G.id),Qe=Je.findIndex(le=>le.id===ee.id);console.log("Old Index in Section:",Xt),console.log("New Index in Section:",Qe);let Ot=[...Je];ge?Ot.splice(Qe,0,{...he,section_id:Ve,routine_id:Pe}):Ot=pl(Je,Xt,Qe),console.log("New Section Todos:",Ot.map(le=>({id:le.id,text:le.text,order:le.order_index})));let ft=a.map(le=>le.id===G.id?{...le,section_id:Ve,routine_id:Pe}:le);if(ge){ft=ft.filter(St=>St.id!==G.id);const le=ft.findIndex(St=>St.id===ee.id);ft.splice(le,0,{...he,section_id:Ve,routine_id:Pe})}else{const le=ft.findIndex(cn=>cn.id===G.id),St=ft.findIndex(cn=>cn.id===ee.id);ft=pl(ft,le,St)}console.log("New Todos (full):",ft.map(le=>({id:le.id,text:le.text,section:le.section_id,routine:le.routine_id}))),i(ft);try{ge&&await t.from("todos").update({section_id:Ve,routine_id:Pe}).eq("id",G.id);for(let le=0;le<Ot.length;le++)await t.from("todos").update({order_index:le+1}).eq("id",Ot[le].id)}catch(le){console.error("  :",le.message)}},fetchTrash:k,handleEmptyTrash:async()=>{if(!(Y.length===0||!window.confirm(`   ?

${Y.length}   .
    .`)))try{const G=Y.map(he=>he.id),{error:ee}=await t.from("todos").delete().in("id",G);if(ee)throw ee;F([]),alert(` ${G.length}   .`)}catch(G){console.error("  :",G.message),alert("   : "+G.message)}},handleRemoveTodoFromUI:fe,handleOpenTrash:()=>{C(!0),k()},handleCloseTrash:()=>{C(!1)},handleDragStart:X=>{const{active:G}=X;g(!0),rt(G.id)},handleDragOver:X=>{const{over:G}=X;U((G==null?void 0:G.id)||null)},handleDragCancel:()=>{g(!1),rt(null),U(null)}}},JO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,r]=_.useState(!1),[s,l]=_.useState({}),[c,u]=_.useState([]);return{showTodoHistoryModal:i,todoHistory:s,expandedHistoryIds:c,handleOpenTodoHistoryModal:async f=>{a(f);try{const{data:p,error:b}=await t.from("todo_history").select("*").eq("todo_id",f.id).order("changed_at",{ascending:!1});if(b)throw b;l(S=>({...S,[f.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}r(!0)},handleCloseTodoHistoryModal:()=>{r(!1),a(null),u([])},toggleHistoryDetail:f=>{u(p=>p.includes(f)?p.filter(b=>b!==f):[...p,f])}}},QO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=_.useState(!1),[r,s]=_.useState([]),[l,c]=_.useState(!1),[u,d]=_.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:r,setRoutineDaysForModal:s,isEditingRoutineInModal:l,setIsEditingRoutineInModal:c,routineTimeSlotForModal:u,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:f=>{t(f);const p=n.find(b=>b.id===f.routine_id);p?(s(p.days||[]),d(p.time_slot||""),c(!1)):(s([]),d(""),c(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),s([]),d(""),c(!1)}}},PO=({session:e,supabase:t,selectedDate:n})=>{const a=_.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async s=>{if(!a.current)try{a.current=!0;const{data:l,error:c}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(c)throw c;if(!l||l.length===0)return;const u=l.filter(d=>(d.hidden_dates||[]).includes(s)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(s)?!1:d.visible_dates.some(f=>f<s):!!(d.date&&d.date<s));if(u.length===0)return;for(const d of u){let h=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?h=[...d.visible_dates,s]:h=d.date?[d.date,s]:[s];const{error:m}=await t.from("todos").update({visible_dates:h}).eq("id",d.id);m&&console.error(` ${d.id}  :`,m.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const s=new Date,l=Be(s),{data:c,error:u}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(u)throw u;if(!c||c.length===0)return;const d=new Date(c[0].date+"T00:00:00");let h=new Date(d);const m=new Date(s);m.setDate(m.getDate()-1);let f=0;for(;h<=m;){const p=Be(h),b=new Date(h);b.setDate(b.getDate()+1);const S=Be(b),{data:v,error:g}=await t.from("todos").select("*").eq("date",p).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(v&&v.length>0){const{data:y,error:w}=await t.from("todos").select("*").eq("date",S).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const x=new Set;y==null||y.forEach(E=>{E.original_todo_id!==null&&x.add(E.original_todo_id)});const T=v.filter(E=>{const j=E.original_todo_id||E.id;return!x.has(j)});if(T.length>0){const E=T.map(te=>te.original_todo_id||te.id).filter((te,C,Y)=>Y.indexOf(te)===C),{data:j,error:A}=await t.from("todos").select("id, created_at").in("id",E);if(A)throw A;const N={};j==null||j.forEach(te=>{N[te.id]=te.created_at});const H=(y?y.length:0)+1,q=T.map((te,C)=>{const Y=te.original_todo_id||te.id;return{text:te.text,completed:!1,date:S,created_at:N[Y]||te.created_at,order_index:H+C,original_todo_id:Y,parent_id:null,routine_id:null}}),{error:P}=await t.from("todos").insert(q);if(P)throw P;f+=T.length}}h.setDate(h.getDate()+1)}f>0}catch(s){console.error("    :",s.message)}finally{a.current=!1}}}};function ZO(e,t,n){const[a,i]=_.useState([]),[r,s]=_.useState(!1),[l,c]=_.useState(!1);return{dummySessions:a,showDummyModal:r,setShowDummyModal:s,showDummySQL:l,setShowDummySQL:c,handleCreateDummyData:async()=>{try{const f=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),b=[],S=[],v="2025-11-14";b.push({text:`[${f}] : 14--`,date:v,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${f}] : 14-14`,date:v,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${f}] : 14-15`,date:v,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${f}] : 14-16`,date:v,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const g="2025-11-15";b.push({text:`[${f}] : 15--`,date:g,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${f}] : 15-15`,date:g,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${f}] : 15-16`,date:g,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const y="2025-11-16";b.push({text:`[${f}] : 16-`,date:y,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${f}] : 16-16`,date:y,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),b.push({text:`[${f}] : 14-15-`,date:g,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${f}] : 14-15-15`,date:g,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),b.push({text:`[${f}] : 15-16-`,date:y,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${f}] : 15-16-16`,date:y,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${f}] : 14-16-`,date:y,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${f}] : 14-16-16`,date:y,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const w="2025-11-17";b.push({text:`[${f}] : 16-17-`,date:w,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${f}] : 15-17-`,date:w,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${f}] : 14-17-`,date:w,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const x="2025-11-18";b.push({text:`[${f}] : 16-18-`,date:x,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${f}] : 15-18-`,date:x,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:T,error:E}=await t.from("todos").insert(b).select();if(E)throw E;const j=T.find(N=>N.text.includes("14--"));j&&S.push({todo_id:j.id,previous_text:`[${f}] : 14--1`,new_text:`[${f}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:g},{todo_id:j.id,previous_text:`[${f}] : 14--2`,new_text:`[${f}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:y});const A=T.find(N=>N.text.includes("15--"));if(A&&S.push({todo_id:A.id,previous_text:`[${f}] : 15--1`,new_text:`[${f}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:y}),S.length>0){const{error:N}=await t.from("todo_history").insert(S);N&&console.error("  :",N.message)}i(N=>[...N,{sessionId:f,createdAt:new Date().toISOString(),count:b.length,historyCount:S.length}]),alert(`    !
: ${b.length}
: ${S.length}
 ID: ${f}`),n()}catch(f){console.error("   :",f.message),alert("    : "+f.message)}},handleDeleteDummySession:async f=>{if(window.confirm(`   "${f}"   ?

      ,     .`))try{const{data:b,error:S}=await t.from("todos").select("id").like("text",`[${f}]%`);if(S)throw S;if(b&&b.length>0){const g=b.map(w=>w.id),{error:y}=await t.from("todo_history").delete().in("todo_id",g);y&&console.error("  :",y.message)}const{error:v}=await t.from("todos").delete().like("text",`[${f}]%`);if(v)throw v;i(g=>g.filter(y=>y.sessionId!==f)),alert(`  ${f}  !`),n()}catch(b){console.error("   :",b.message),alert("    : "+b.message)}},handleDeleteAllDummies:async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:b}=await t.from("todos").select("id").like("text","[DUMMY-%");if(b)throw b;if(p&&p.length>0){const v=p.map(y=>y.id),{error:g}=await t.from("todo_history").delete().in("todo_id",v);g&&console.error("  :",g.message)}const{error:S}=await t.from("todos").delete().like("text","[DUMMY-%");if(S)throw S;i([]),alert("     !"),n()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},handleRemoveDuplicates:async()=>{try{const{data:f,error:p}=await t.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!f||f.length===0){alert(" .");return}const b={};f.forEach(E=>{b[E.text]||(b[E.text]=[]),b[E.text].push(E)});const S=Object.entries(b).filter(([E,j])=>j.length>1);if(S.length===0){alert("  .");return}let v=`  :

`,g=[];if(S.forEach(([E,j])=>{v+=`"${E}" - ${j.length}
`;const A=j.slice(1);g.push(...A),A.forEach(H=>{const q=new Date(H.created_at).toLocaleString("ko-KR");v+=`    : ${q}
`});const N=j[0],R=new Date(N.created_at).toLocaleString("ko-KR");v+=`   : ${R}

`}),v+=`
 ${g.length}   .`,!window.confirm(v+`

     ,     .

?`))return;const w=g.map(E=>E.id),{error:x}=await t.from("todo_history").delete().in("todo_id",w);x&&console.error("  :",x.message);const{error:T}=await t.from("todos").delete().in("id",w);if(T)throw T;alert(` ${g.length}   .`),n()}catch(f){console.error("   :",f.message),alert("    : "+f.message)}}}}function FO(e,t){const[n,a]=_.useState([]),[i,r]=_.useState(!1),[s,l]=_.useState(""),[c,u]=_.useState(null),[d,h]=_.useState(""),[m,f]=_.useState(!1),[p,b]=_.useState(""),S=()=>{if(n.length===0)return"";const T=Math.floor(Math.random()*n.length);return n[T]},v=()=>{let T=0;f(!0),setTimeout(()=>{let E=S();for(;E===p&&n.length>1&&T<10;)E=S(),T++;f(!1),b(E)},300)},g=async()=>{try{const{data:T,error:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(E)throw E;if(T&&T.length>0){const j=T.map(A=>A.message);a(j),p||b(j[0])}}catch(T){console.error("   :",T.message)}},y=async T=>{var E;try{const{data:j}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),A=j&&j.length>0?j[0].order_index:0,{error:N}=await t.from("encouragement_messages").insert([{message:T,order_index:A+1,user_id:(E=e==null?void 0:e.user)==null?void 0:E.id}]);if(N)throw N;await g()}catch(j){console.error("   :",j.message),alert("   .")}},w=async(T,E)=>{try{const{data:j}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!j||T>=j.length)throw new Error("   .");const A=j[T],{error:N}=await t.from("encouragement_messages").update({message:E}).eq("id",A.id);if(N)throw N;await g()}catch(j){console.error("   :",j.message),alert("   .")}},x=async T=>{try{const{data:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!E||T>=E.length)throw new Error("   .");const j=E[T],{error:A}=await t.from("encouragement_messages").delete().eq("id",j.id);if(A)throw A;await g()}catch(E){console.error("   :",E.message),alert("   .")}};return _.useEffect(()=>{n.length>0&&!p&&b(S())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:r,newEncouragementMessage:s,setNewEncouragementMessage:l,editingEncouragementId:c,setEditingEncouragementId:u,editingEncouragementText:d,setEditingEncouragementText:h,showEncouragementEmoji:m,currentEncouragementMessage:p,handleEncouragementClick:v,fetchEncouragementMessages:g,addEncouragementMessage:y,updateEncouragementMessage:w,deleteEncouragementMessage:x}}function WO(e){const[t,n]=_.useState(!1),[a,i]=_.useState([]),[r,s]=_.useState("1week"),l=async()=>{try{const d=new Date,h=Be(d);let m=null;if(r!=="all")switch(m=new Date(d),r){case"1week":m.setDate(d.getDate()-7);break;case"2weeks":m.setDate(d.getDate()-14);break;case"1month":m.setMonth(d.getMonth()-1);break;case"3months":m.setMonth(d.getMonth()-3);break;case"6months":m.setMonth(d.getMonth()-6);break}let f=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});m&&(f=f.gte("date",Be(m)));const{data:p,error:b}=await f;if(b)throw b;const S={};for(const g of p||[]){const y=g.original_todo_id||g.id;S[y]||(S[y]=[]),S[y].push(g)}const v=Object.entries(S).map(([g,y])=>{const w=y.sort((A,N)=>new Date(A.date)-new Date(N.date)),x=w[0],T=w.map(A=>A.date);let E=null;for(const A of w)if(A.completed&&A.completed_at){const N=new Date(A.completed_at);E=Be(N);break}const j=w.find(A=>A.date===h);return{text:x.text,originalId:parseInt(g),createdAt:x.created_at,startDate:T[0],endDate:T[T.length-1],dates:T,completed:(j==null?void 0:j.completed)||!1,completedDate:E}}).sort((g,y)=>new Date(g.createdAt)-new Date(y.createdAt));i(v)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:r,setGanttPeriod:s,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function eD(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=wO(),[i,r]=_.useState(new Date),[s,l]=_.useState(!1),[c,u]=_.useState("home"),d=_.useRef(new Set),h=Nh($r(Ul,{activationConstraint:{distance:3}}),$r(Jb,{activationConstraint:{delay:100,tolerance:5}}),$r(qc,{coordinateGetter:r_})),[m,f]=_.useState([]),[p,b]=_.useState(null),{showTodoHistoryModal:S,todoHistory:v,expandedHistoryIds:g,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:w,toggleHistoryDetail:x}=JO({session:e,supabase:de,selectedTodoForModal:p,setSelectedTodoForModal:b}),{showRoutineModal:T,routines:E,setRoutines:j,routineInput:A,setRoutineInput:N,selectedDays:R,selectedTimeSlot:H,setSelectedTimeSlot:q,isAddingRoutine:P,editingRoutineId:te,editingRoutineText:C,setEditingRoutineText:Y,showRoutineHistory:F,selectedRoutineForHistory:oe,routineHistoryData:be,editingRoutineDays:wt,fetchRoutines:ke,handleAddRoutine:et,handleCreateRoutineFromTodo:Ue,handleStartEditRoutine:ot,handleCancelEditRoutine:rt,handleSaveEditRoutine:W,handleToggleEditDay:U,handleDeleteRoutine:L,fetchRoutineHistory:O,handleCloseRoutineHistory:B,handleOpenRoutine:M,handleCloseRoutine:V,handleToggleDay:k,createRoutineTodos:Z}=KO({session:e,supabase:de,selectedDate:i,setTodos:f,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:se,routineDaysForModal:Se,setRoutineDaysForModal:pe,isEditingRoutineInModal:fe,setIsEditingRoutineInModal:Ne,routineTimeSlotForModal:Le,setRoutineTimeSlotForModal:Ge,handleOpenTodoRoutineSetupModal:At,handleCloseTodoRoutineSetupModal:zt}=QO({selectedTodoForModal:p,setSelectedTodoForModal:b,routines:E}),{carryOverIncompleteTodos:Ma}=PO({session:e,supabase:de,selectedDate:i}),{routineInputValue:Xn,setRoutineInputValue:pn,normalInputValue:Jn,setNormalInputValue:Mn,loading:ka,isDraggingAny:Tt,isAdding:Ua,showUndoToast:on,showSuccessToast:Wi,successToastMessage:jt,lastDeleteAction:X,showTrashModal:G,trashedItems:ee,focusedTodoId:he,setFocusedTodoId:ue,showDeleteConfirmModal:je,setShowDeleteConfirmModal:_e,todoToDelete:we,activeTodoId:xe,overId:ge,fetchTodos:Ve,handleAddRoutineTodo:Pe,handleAddNormalTodo:Je,handleToggleTodo:Xt,handleDeleteTodo:Qe,handleRestoreFromTrash:Ot,handlePermanentDelete:ft,handleAddSubTodo:le,handleEditTodo:St,handleDragStart:cn,handleDragOver:kn,handleDragCancel:ia,handleDragEnd:gi,handleOpenTrash:Vc,handleCloseTrash:Gc,handleEmptyTrash:$l,handleUndoDelete:fs,hideOnThisDateOnly:Kc,deleteCompletely:Xc,handleRemoveTodoFromUI:yi}=XO(e,de,i,m,f,E,j,p),vi=D=>{ue(D)},za=D=>{console.log("Success:",D)},Jc=()=>{fs()},Qc=()=>{const D=document.querySelector(".memo-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},{showGanttChart:z,ganttData:Q,ganttPeriod:ze,setGanttPeriod:qe,handleOpenGanttChart:Ee,handleCloseGanttChart:Ye,fetchGanttData:Ze}=WO(de),{dummySessions:ct,showDummyModal:bn,setShowDummyModal:pi,showDummySQL:da,setShowDummySQL:hs,handleCreateDummyData:ms,handleDeleteDummySession:Pc,handleDeleteAllDummies:gs,handleRemoveDuplicates:c_}=ZO(e,de,Ve),[tD,nD]=_.useState(!1),{memoContent:u_,setMemoContent:d_,isSavingMemo:f_,isEditingMemoInline:Zc,memoTextareaRef:h_,fetchMemoContent:m_,handleStartEditMemoInline:g_,handleSaveMemoInline:y_,handleCancelEditMemoInline:v_,handleMemoKeyDown:p_}=YO(e),{blocks:Hh,setBlocks:Lh,focusedBlockId:b_,setFocusedBlockId:__,keyThoughtsHistory:w_,showKeyThoughtsHistory:S_,setShowKeyThoughtsHistory:qh,fetchBlocks:x_,saveAllBlocks:E_,fetchKeyThoughtsHistory:T_,restoreKeyThoughtsVersion:j_}=VO(e),{encouragementMessages:O_,showEncouragementModal:D_,setShowEncouragementModal:Yh,newEncouragementMessage:N_,setNewEncouragementMessage:A_,editingEncouragementId:C_,setEditingEncouragementId:R_,editingEncouragementText:M_,setEditingEncouragementText:k_,showEncouragementEmoji:U_,currentEncouragementMessage:z_,handleEncouragementClick:$_,fetchEncouragementMessages:B_,addEncouragementMessage:H_,updateEncouragementMessage:L_,deleteEncouragementMessage:q_}=FO(e,de),[$a,Y_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Fc,Ih]=_.useState({normal:"  ",routine:"  ",memo:" ","key-thoughts":"  "}),[er,Bl]=_.useState([]),[I_,Vh]=_.useState(!1),[Gh,Kh]=_.useState(!1),[Xh,Jh]=_.useState({}),V_=qO(e),{sectionOrder:ys,setSectionOrder:Qh,isReorderMode:Ph,setIsReorderMode:Zh,fetchSectionOrder:G_,saveSectionOrder:Fh,moveSectionLeft:vs,moveSectionRight:ps}=V_,tr=_.useRef(null),[K_,X_]=_.useState(0),Wc=_.useRef(null),[bs,eu]=_.useState([]),[J_,Wh]=_.useState(!1),em=D=>{try{localStorage.setItem("hiddenSections",JSON.stringify(D))}catch(K){console.error("   :",K)}},Q_=()=>{try{const D=localStorage.getItem("hiddenSections");D&&eu(JSON.parse(D))}catch(D){console.error("   :",D)}},tu=D=>{const K=[...bs,D];eu(K),em(K)},P_=D=>{const K=bs.filter(J=>J!==D);eu(K),em(K)},Z_=()=>{const D=new Date(i);D.setDate(D.getDate()-1),r(D)},F_=()=>{const D=new Date(i);D.setDate(D.getDate()+1),r(D)},W_=D=>{const K=new Date(D.target.value+"T00:00:00");r(K)},ew=async()=>{var D;if((D=e==null?void 0:e.user)!=null&&D.id)try{const{data:K,error:J}=await de.from("user_settings").select("setting_value").eq("setting_key","section_titles").maybeSingle();if(J){console.error("   :",J.message);return}if(K&&K.setting_value){const ae=JSON.parse(K.setting_value);Ih(I=>({...I,...ae}))}}catch(K){console.error("   :",K.message)}},tw=async(D,K)=>{var ae;if(!((ae=e==null?void 0:e.user)!=null&&ae.id))return;const J={...Fc,[D]:K};Ih(J);try{const{data:I,error:ne}=await de.from("user_settings").select("id").eq("setting_key","section_titles").maybeSingle();if(ne){console.error("   :",ne.message);return}I?await de.from("user_settings").update({setting_value:JSON.stringify(J),updated_at:new Date().toISOString()}).eq("setting_key","section_titles"):await de.from("user_settings").insert([{setting_key:"section_titles",setting_value:JSON.stringify(J),user_id:e.user.id}])}catch(I){console.error("   :",I.message)}},nw=async()=>{var D;if((D=e==null?void 0:e.user)!=null&&D.id)try{const{data:K,error:J}=await de.from("user_settings").select("setting_value").eq("setting_key","custom_sections").maybeSingle();if(J){console.error("    :",J.message);return}if(K&&K.setting_value){const ae=JSON.parse(K.setting_value);Bl(ae)}}catch(K){console.error("    :",K.message)}},nu=async D=>{var K;if((K=e==null?void 0:e.user)!=null&&K.id)try{const{data:J,error:ae}=await de.from("user_settings").select("id").eq("setting_key","custom_sections").maybeSingle();if(ae){console.error("    :",ae.message);return}J?await de.from("user_settings").update({setting_value:JSON.stringify(D),updated_at:new Date().toISOString()}).eq("setting_key","custom_sections"):await de.from("user_settings").insert([{setting_key:"custom_sections",setting_value:JSON.stringify(D),user_id:e.user.id}])}catch(J){console.error("    :",J.message)}},aw=({name:D,icon:K})=>{const J={id:`custom-${Date.now()}`,name:D,icon:K},ae=[...er,J];Bl(ae),nu(ae);const I=[...ys,J.id];Qh(I),Fh(I)},iw=async D=>{const K=Xh[D]||"";if(!(!K.trim()||Gh)){if(!e){alert(" ");return}Kh(!0);try{const J=m.filter(tt=>!tt.parent_id&&tt.section_id===D),ae=J.length>0?Math.max(...J.map(tt=>tt.order_index))+1:1,I=Be(i),ne={text:K.trim(),completed:!1,order_index:ae,date:I,visible_dates:[I],hidden_dates:[],user_id:e.user.id,section_id:D},{data:st,error:Ae}=await de.from("todos").insert([ne]).select();if(Ae)throw Ae;st&&st.length>0&&(f(tt=>[...tt,st[0]]),Jh(tt=>({...tt,[D]:""})))}catch(J){console.error("  :",J.message)}finally{Kh(!1)}}},rw=async D=>{if(!confirm("  ?      ."))return;try{const{error:ae}=await de.from("todos").delete().eq("section_id",D);if(ae){console.error("   :",ae.message);return}}catch(ae){console.error("   :",ae.message);return}const K=er.filter(ae=>ae.id!==D);Bl(K),nu(K);const J=ys.filter(ae=>ae!==D);Qh(J),Fh(J),f(ae=>ae.filter(I=>I.section_id!==D))},sw=async(D,K)=>{try{const J=Be(D),ae=Be(K),{data:I,error:ne}=await de.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(ne)throw ne;const st=(I||[]).filter(Ae=>Ae.hidden_dates&&Array.isArray(Ae.hidden_dates)&&Ae.hidden_dates.includes(J)?!1:Ae.visible_dates&&Array.isArray(Ae.visible_dates)&&Ae.visible_dates.length>0?Ae.visible_dates.includes(J):Ae.date===J);if(st.length===0)return;for(const Ae of st){let tt=Ae.visible_dates||[Ae.date];if(tt.includes(ae))continue;const pt=[...tt,ae].sort(),{error:Wt}=await de.from("todos").update({visible_dates:pt}).eq("id",Ae.id);Wt&&console.error(` ${Ae.id}  :`,Wt.message)}}catch(J){console.error("   :",J.message)}};_.useEffect(()=>{let D=null;const K=()=>{document.body.classList.add("is-scrolling"),D&&clearTimeout(D),D=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",K),()=>{window.removeEventListener("scroll",K),D&&clearTimeout(D)}},[]),_.useEffect(()=>{e&&(B_(),m_(),x_(),ke(),G_(),ew(),nw(),Q_())},[e]),_.useEffect(()=>{if(!tr.current)return;const D=tr.current,K=$a==="horizontal";let J=!1,ae=0,I=0,ne=0;const st=me=>me.type.includes("touch")?K?me.touches[0].pageX:me.touches[0].pageY:K?me.pageX:me.pageY,Ae=me=>{me.target.closest(".section-block")||(J=!0,ae=st(me),I=K?D.scrollLeft:D.scrollTop,D.style.transition="none",D.style.transform=K?"translateX(0)":"translateY(0)",ne=0)},tt=()=>{J&&ne!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=K?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",ne=0},300)),J=!1},pt=()=>{ne!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=K?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",ne=0},300)),J=!1},Wt=me=>{if(!J)return;me.preventDefault();const re=(st(me)-ae)*1.5,Ie=I-re,nt=K?D.scrollWidth-D.clientWidth:D.scrollHeight-D.clientHeight;if(Ie<0){const Bt=-Ie;ne=Math.min(Bt*.3,100),K?(D.scrollLeft=0,D.style.transform=`translateX(${ne}px)`):(D.scrollTop=0,D.style.transform=`translateY(${ne}px)`)}else if(Ie>nt){const Bt=Ie-nt;ne=-Math.min(Bt*.3,100),K?(D.scrollLeft=nt,D.style.transform=`translateX(${ne}px)`):(D.scrollTop=nt,D.style.transform=`translateY(${ne}px)`)}else ne=0,D.style.transform=K?"translateX(0)":"translateY(0)",K?D.scrollLeft=Ie:D.scrollTop=Ie},De=me=>{K&&me.target.closest(".section-block")&&me.deltaX!==0&&me.preventDefault()};return D.addEventListener("mousedown",Ae),document.addEventListener("mouseup",pt),document.addEventListener("mouseleave",tt),D.addEventListener("mousemove",Wt),D.addEventListener("touchstart",Ae,{passive:!0}),D.addEventListener("touchmove",Wt,{passive:!1}),D.addEventListener("touchend",pt),D.addEventListener("touchcancel",pt),D.addEventListener("wheel",De,{passive:!1}),()=>{D.removeEventListener("mousedown",Ae),document.removeEventListener("mouseup",pt),document.removeEventListener("mouseleave",tt),D.removeEventListener("mousemove",Wt),D.removeEventListener("touchstart",Ae),D.removeEventListener("touchmove",Wt),D.removeEventListener("touchend",pt),D.removeEventListener("touchcancel",pt),D.removeEventListener("wheel",De)}},[$a,m,E]),_.useEffect(()=>{if($a!=="horizontal"||!tr.current)return;const D=tr.current,K=()=>{const J=D.querySelectorAll(".section-block");if(J.length===0)return;const ae=D.getBoundingClientRect(),I=ae.left+ae.width/2;let ne=0,st=1/0;J.forEach((Ae,tt)=>{const pt=Ae.getBoundingClientRect(),Wt=pt.left+pt.width/2,De=Math.abs(Wt-I);De<st&&(st=De,ne=tt)}),X_(ne)};return D.addEventListener("scroll",K),K(),()=>D.removeEventListener("scroll",K)},[$a,m,E]),_.useEffect(()=>{if(!Wc.current)return;const D=Wc.current;let K=!1,J=0,ae=0,I=0;const ne=pt=>{pt.target.closest(".section-block")||(K=!0,J=pt.pageY,ae=D.scrollTop,D.style.transition="none",D.style.transform="translateY(0)",I=0)},st=()=>{K&&I!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",I=0},300)),K=!1},Ae=()=>{I!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",I=0},300)),K=!1},tt=pt=>{if(!K)return;pt.preventDefault();const De=(pt.pageY-J)*1.5,me=ae-De,$t=D.scrollHeight-D.clientHeight;if(me<0){const re=-me;I=Math.min(re*.3,100),D.scrollTop=0,D.style.transform=`translateY(${I}px)`}else if(me>$t){const re=me-$t;I=-Math.min(re*.3,100),D.scrollTop=$t,D.style.transform=`translateY(${I}px)`}else I=0,D.style.transform="translateY(0)",D.scrollTop=me};return D.addEventListener("mousedown",ne),document.addEventListener("mouseup",Ae),document.addEventListener("mouseleave",st),D.addEventListener("mousemove",tt),()=>{D.removeEventListener("mousedown",ne),document.removeEventListener("mouseup",Ae),document.removeEventListener("mouseleave",st),D.removeEventListener("mousemove",tt)}},[m,E]),_.useEffect(()=>{z&&Ze()},[ze]),_.useEffect(()=>{const D=async()=>{const J=new Date,ae=new Date(J);ae.setHours(24,0,0,0);const I=ae.getTime()-J.getTime();return setTimeout(async()=>{const st=new Date(J),Ae=new Date(J);Ae.setDate(Ae.getDate()+1),await sw(st,Ae),await Z(),r(new Date),D()},I)},K=D();return()=>clearTimeout(K)},[]),_.useEffect(()=>{(async()=>{var Ae;const ae=Be(i),ne=Be(new Date);ae===ne&&((Ae=e==null?void 0:e.user)!=null&&Ae.id)&&await Ma(ae),await Ve()})();const K=Be(i),J=de.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${K}`},ae=>{ae.eventType==="INSERT"?f(I=>I.some(ne=>ne.id===ae.new.id)?I:[...I,ae.new]):ae.eventType==="UPDATE"?f(I=>d.current.has(ae.new.id)?I:I.map(ne=>ne.id===ae.new.id?ae.new:ne)):ae.eventType==="DELETE"&&f(I=>I.filter(ne=>ne.id!==ae.old.id))}).subscribe(ae=>{});return()=>{de.removeChannel(J)}},[i,e]),_.useEffect(()=>{if(Tt){const D=window.scrollY,K=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${D}px`,document.body.style.left="0",document.body.style.right="0",K>0&&(document.body.style.paddingRight=`${K}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,D)}}},[Tt]);const tm=LO({authLoading:t,session:e,handleGoogleLogin:n});return tm||(c==="keyThoughtsViewer"?o.jsx(RO,{blocks:Hh,setBlocks:Lh,onSave:E_,onClose:()=>u("home")}):o.jsxs("div",{className:`app ${Tt?"dragging-active":""}`,children:[o.jsx(SO,{showSidebar:s,setShowSidebar:l,session:e,viewMode:$a,setViewMode:Y_,isReorderMode:Ph,setIsReorderMode:Zh,onOpenTrash:Vc,onOpenRoutine:M,onOpenMemo:Qc,onScrollToKeyThoughts:()=>{const D=document.querySelector(".key-thoughts-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:Ee,onOpenEncouragementModal:()=>Yh(!0),onOpenDummyModal:()=>pi(!0),onOpenAddSection:()=>Vh(!0),onOpenHiddenSections:()=>Wh(!0),onLogout:a}),o.jsxs("div",{className:`container ${$a==="horizontal"?"container-wide":""}`,children:[o.jsx(EO,{showSidebar:s,setShowSidebar:l,selectedDate:i,onDateChange:W_,onPrevDay:Z_,onNextDay:F_,showEncouragementEmoji:U_,currentEncouragementMessage:z_,onEncouragementClick:$_,isReorderMode:Ph,setIsReorderMode:Zh,setSelectedDate:r}),o.jsxs("div",{className:"content-scrollable",ref:Wc,children:[o.jsxs(kh,{sensors:h,collisionDetection:Ah,onDragStart:cn,onDragOver:kn,onDragEnd:gi,onDragCancel:ia,measuring:{droppable:{strategy:Ki.Always}},children:[o.jsx("div",{className:"todo-list",children:ka?o.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const D=m.filter(I=>!I.parent_id&&I.routine_id!==null&&!I.is_pending_routine).sort((I,ne)=>I.order_index-ne.order_index),K=m.filter(I=>!I.parent_id&&I.is_pending_routine).sort((I,ne)=>I.order_index-ne.order_index),J=m.filter(I=>!I.parent_id&&I.routine_id===null&&!I.is_pending_routine&&!I.section_id).sort((I,ne)=>I.order_index-ne.order_index),ae=[...D.map(I=>I.id),...K.map(I=>I.id),...J.map(I=>I.id),...er.flatMap(I=>m.filter(ne=>!ne.parent_id&&ne.section_id===I.id).map(ne=>ne.id))];return o.jsx(Ci,{items:ae,strategy:Ai,children:o.jsx("div",{ref:tr,className:`sections-container ${$a==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:ys.filter(I=>!bs.includes(I)).map((I,ne)=>{const st=ys.filter(De=>!bs.includes(De)),Ae=st.indexOf(I),tt=Ae===0,pt=Ae===st.length-1,Wt=[{icon:"",label:"",onClick:()=>tu(I)}];if(I==="memo")return o.jsx("div",{children:o.jsxs(NO,{title:"  ",className:"memo-section section-block",content:u_,setContent:d_,isEditing:Zc,isSaving:f_,textareaRef:h_,onStartEdit:g_,onSave:y_,onCancel:v_,onKeyDown:p_,placeholder:" ...",emptyMessage:" ",showArrows:!0,onMoveLeft:()=>vs(I),onMoveRight:()=>ps(I),isFirst:tt,isLast:pt,settingsMenuItems:Wt,children:[!Zc&&o.jsx("div",{style:{marginTop:"1rem"},children:o.jsxs("button",{onClick:()=>hs(!da),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:De=>{De.currentTarget.style.background="rgba(255, 255, 255, 0.1)",De.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:De=>{De.currentTarget.style.background="rgba(255, 255, 255, 0.05)",De.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[o.jsx("span",{children:" SQL  "}),o.jsx("span",{children:da?"":""})]})}),da&&!Zc&&o.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const De=new Date,me=Hl=>{const bi=new Date(De);return bi.setDate(bi.getDate()+Hl),bi.toISOString().split("T")[0]},$t=Hl=>{const bi=new Date(De);return bi.setDate(bi.getDate()+Hl),bi.getDate()},re=Date.now(),Ie=$t(-2),nt=$t(-1),Bt=$t(0),au=$t(1),nm=$t(2),_n=me(-2),un=me(-1),en=me(0),iu=me(1),am=me(2),lw=`--         (${en} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${Ie}--', '${_n}', false, '${_n}T09:00:00+09:00', 1001),
  ('[DUMMY-${re}] : ${Ie}-${Ie}', '${_n}', true, '${_n}T09:10:00+09:00', 1002),
  ('[DUMMY-${re}] : ${Ie}-${nt}', '${_n}', true, '${_n}T09:20:00+09:00', 1003),
  ('[DUMMY-${re}] : ${Ie}-${Bt}', '${_n}', true, '${_n}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${nt}--', '${un}', false, '${un}T10:00:00+09:00', 1005),
  ('[DUMMY-${re}] : ${nt}-${nt}', '${un}', true, '${un}T10:10:00+09:00', 1006),
  ('[DUMMY-${re}] : ${nt}-${Bt}', '${un}', true, '${un}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${Bt}-', '${en}', false, '${en}T11:00:00+09:00', 1008),
  ('[DUMMY-${re}] : ${Bt}-${Bt}', '${en}', true, '${en}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${Ie}-${nt}-', '${un}', false, '${_n}T14:00:00+09:00', 1010),
  ('[DUMMY-${re}] : ${Ie}-${nt}-${nt}', '${un}', true, '${_n}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${nt}-${Bt}-', '${en}', false, '${un}T15:00:00+09:00', 1012),
  ('[DUMMY-${re}] : ${nt}-${Bt}-${Bt}', '${en}', true, '${un}T15:10:00+09:00', 1013),
  ('[DUMMY-${re}] : ${Ie}-${Bt}-', '${en}', false, '${_n}T15:00:00+09:00', 1014),
  ('[DUMMY-${re}] : ${Ie}-${Bt}-${Bt}', '${en}', true, '${_n}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${Bt}-${au}-', '${iu}', false, '${en}T16:00:00+09:00', 1016),
  ('[DUMMY-${re}] : ${nt}-${au}-', '${iu}', false, '${un}T16:00:00+09:00', 1017),
  ('[DUMMY-${re}] : ${Ie}-${au}-', '${iu}', false, '${_n}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${re}] : ${Bt}-${nm}-', '${am}', false, '${en}T17:00:00+09:00', 1019),
  ('[DUMMY-${re}] : ${nt}-${nm}-', '${am}', false, '${un}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${re}] : ${Ie}--1', '[DUMMY-${re}] : ${Ie}--2', '${un}T12:00:00+09:00', '${un}'
FROM todos WHERE text = '[DUMMY-${re}] : ${Ie}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${re}] : ${Ie}--2', '[DUMMY-${re}] : ${Ie}--', '${en}T12:00:00+09:00', '${en}'
FROM todos WHERE text = '[DUMMY-${re}] : ${Ie}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${re}] : ${nt}--1', '[DUMMY-${re}] : ${nt}--', '${en}T13:00:00+09:00', '${en}'
FROM todos WHERE text = '[DUMMY-${re}] : ${nt}--' LIMIT 1;`,nr=document.createElement("textarea");nr.value=lw,nr.style.position="fixed",nr.style.opacity="0",document.body.appendChild(nr),nr.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(nr)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const De=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,me=document.createElement("textarea");me.value=De,me.style.position="fixed",me.style.opacity="0",document.body.appendChild(me),me.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(me)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo");if(I==="routine")return o.jsx("div",{children:o.jsxs(td,{title:" ",className:"routine-section section-block",inputValue:Xn,setInputValue:pn,onAddTodo:Pe,isAdding:Ua,placeholder:"   ...",showArrows:!0,onMoveLeft:()=>vs(I),onMoveRight:()=>ps(I),isFirst:tt,isLast:pt,settingsMenuItems:Wt,children:[D.length>0&&o.jsx(Ci,{items:D.map(De=>De.id),strategy:Ai,children:D.map((De,me)=>{const $t=m.filter(re=>re.parent_id===De.id);return o.jsx(gr,{todo:De,index:me,onToggle:Xt,onDelete:Qe,onEdit:St,formatDate:ya,formatDateOnly:Un,isFocused:he===De.id,onFocus:vi,onAddSubTodo:le,subtodos:$t,level:0,onCreateRoutine:Ue,routines:E,onShowRoutineHistory:O,onOpenRoutineSetupModal:At,onOpenHistoryModal:y,currentPageDate:Be(i),onRemoveFromUI:yi,showSuccessMessage:za,activeId:xe,overId:ge},De.id)})}),D.length>0&&K.length>0&&o.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:o.jsx("div",{className:"separator-line"})}),K.length>0&&o.jsx(Ci,{items:K.map(De=>De.id),strategy:Ai,children:K.map((De,me)=>{const $t=m.filter(re=>re.parent_id===De.id);return o.jsx(gr,{todo:De,index:me,onToggle:Xt,onDelete:Qe,onEdit:St,formatDate:ya,formatDateOnly:Un,isFocused:he===De.id,onFocus:vi,onAddSubTodo:le,subtodos:$t,level:0,onCreateRoutine:Ue,routines:E,onShowRoutineHistory:O,onOpenRoutineSetupModal:At,onOpenHistoryModal:y,currentPageDate:Be(i),isPendingRoutine:!0,onRemoveFromUI:yi,showSuccessMessage:za,activeId:xe,overId:ge},De.id)})})]})},"routine");if(I==="normal"){const De=[{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&tu("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return o.jsx("div",{children:o.jsx(td,{title:Fc.normal,className:"normal-section section-block",inputValue:Jn,setInputValue:Mn,onAddTodo:Je,isAdding:Ua,placeholder:"   ...",editable:!0,onTitleChange:me=>tw("normal",me),showArrows:!0,onMoveLeft:()=>vs(I),onMoveRight:()=>ps(I),isFirst:tt,isLast:pt,settingsMenuItems:De,children:J.length>0&&o.jsx(Ci,{items:J.map(me=>me.id),strategy:Ai,children:J.map((me,$t)=>{const re=m.filter(nt=>nt.parent_id===me.id),Ie=Be(i);return o.jsx(gr,{todo:me,index:$t,onToggle:Xt,onDelete:Qe,onEdit:St,formatDate:ya,formatDateOnly:Un,isFocused:he===me.id,onFocus:vi,onAddSubTodo:le,subtodos:re,level:0,onCreateRoutine:Ue,routines:E,onShowRoutineHistory:O,onOpenRoutineSetupModal:At,onOpenHistoryModal:y,currentPageDate:Ie,onRemoveFromUI:yi,showSuccessMessage:za,activeId:xe,overId:ge},me.id)})})})},"normal")}else{if(I==="key-thoughts")return o.jsx("div",{children:o.jsx(AO,{blocks:Hh,setBlocks:Lh,focusedBlockId:b_,setFocusedBlockId:__,onOpenViewer:()=>u("keyThoughtsViewer"),onShowHistory:()=>{T_(),qh(!0)},showArrows:!0,onMoveLeft:()=>vs(I),onMoveRight:()=>ps(I),isFirst:tt,isLast:pt,settingsMenuItems:Wt})},"key-thoughts");{const De=er.find(re=>re.id===I);if(!De)return null;const me=m.filter(re=>!re.parent_id&&re.section_id===I).sort((re,Ie)=>re.order_index-Ie.order_index),$t=[{icon:"",label:"",onClick:()=>tu(I)},{icon:"",label:"",onClick:()=>rw(I)}];return o.jsx("div",{children:o.jsx(td,{title:`${De.icon} ${De.name}`,className:"custom-section section-block",inputValue:Xh[I]||"",setInputValue:re=>Jh(Ie=>({...Ie,[I]:re})),onAddTodo:()=>iw(I),isAdding:Gh,placeholder:`${De.name}   ...`,editable:!0,onTitleChange:re=>{const Ie=er.map(nt=>nt.id===I?{...nt,name:re}:nt);Bl(Ie),nu(Ie)},showArrows:!0,onMoveLeft:()=>vs(I),onMoveRight:()=>ps(I),isFirst:tt,isLast:pt,settingsMenuItems:$t,children:me.length>0&&o.jsx(Ci,{items:me.map(re=>re.id),strategy:Ai,children:me.map((re,Ie)=>{const nt=m.filter(Bt=>Bt.parent_id===re.id);return o.jsx(gr,{todo:re,index:Ie,onToggle:Xt,onDelete:Qe,onEdit:St,formatDate:ya,formatDateOnly:Un,isFocused:he===re.id,onFocus:vi,onAddSubTodo:le,subtodos:nt,level:0,onCreateRoutine:Ue,routines:E,onShowRoutineHistory:O,onOpenRoutineSetupModal:At,onOpenHistoryModal:y,currentPageDate:Be(i),onRemoveFromUI:yi,showSuccessMessage:za,activeId:xe,overId:ge},re.id)})})})},I)}}})})})})()}),o.jsx(Uh,{children:xe?(()=>{const D=m.find(J=>J.id===xe);if(!D)return null;const K=m.filter(J=>J.parent_id===D.id);return o.jsx("div",{className:"drag-overlay-todo",children:o.jsx(gr,{todo:D,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:ya,formatDateOnly:Un,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:K,level:0,onCreateRoutine:()=>{},routines:E,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:Be(i),onRemoveFromUI:()=>{},showSuccessMessage:()=>{}})})})():null})]}),o.jsx(TO,{viewMode:$a,currentSectionIndex:K_,sectionsContainerRef:tr})]}),on&&o.jsx(_y,{message:"",onUndo:fs}),Wi&&o.jsx(_y,{message:jt,onUndo:X?Jc:null,variant:"success"}),je&&we&&o.jsx("div",{className:"modal-overlay",onClick:()=>_e(!1),children:o.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:D=>D.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>_e(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"delete-confirm-content",children:[o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:we.text})}),o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Kc(we),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>Xc(we),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),S&&p&&(()=>{const D=p,K=D.visible_dates&&D.visible_dates.length>0?D.visible_dates:[D.date],J=K[0],ae=K.map(ne=>({id:`${D.id}-${ne}`,date:ne})),I=v[D.id]||[];return o.jsx("div",{className:"modal-overlay",onClick:w,children:o.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:w,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:ya(D.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Un(J?new Date(J+"T00:00:00"):new Date(D.date+"T00:00:00"))})]}),ae.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:ae.map((ne,st)=>{const Ae=ne.date===D.date,tt=Un(new Date(ne.date+"T00:00:00"));return o.jsxs("span",{children:[st>0&&"  ",o.jsxs("span",{style:Ae?{fontWeight:"bold",color:"#4CAF50"}:{},children:[tt.split("(")[0],Ae?"()":""]})]},ne.id)})})]}),(()=>{const ne=new Date(D.created_at).toISOString().split("T")[0],st=D.date;return ne!==st&&ae.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Un(new Date(D.date+"T00:00:00"))})]}):null})(),I.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",I.length,")"]}),I.map(ne=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[ya(ne.changed_at),ne.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",Un(new Date(ne.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:st=>{st.stopPropagation(),x(ne.id)},children:g.includes(ne.id)?"":""})]}),g.includes(ne.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:ne.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:ne.new_text})]})]})]},ne.id))]})]})})]})})})(),se&&p&&(()=>{const D=p,K=E.find(J=>J.id===D.routine_id);return o.jsx("div",{className:"modal-overlay",onClick:zt,children:o.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:zt,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsx("div",{className:"routine-setup-inline",children:K&&!fe?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Hi.filter(J=>K.days.includes(J.key)).map(J=>o.jsx("span",{className:"routine-day-badge",children:J.label},J.key))}),K.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",K.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:J=>{J.stopPropagation(),K&&(pe(K.days),Ge(K.time_slot||""),Ne(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async J=>{J.stopPropagation(),K&&D&&(await Ue(D.id,D.text,[],null,!0),zt())},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:fe?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Hi.map(J=>o.jsx("button",{onClick:ae=>{ae.stopPropagation(),handleToggleRoutineDayInModal(J.key)},className:`day-button-inline ${Se.includes(J.key)?"selected":""}`,children:J.label},J.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx($h,{value:Le,onChange:J=>Ge(J)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async J=>{J.stopPropagation(),D&&(fe&&K?await Ue(D.id,D.text,Se,K.id,!1,Le):await Ue(D.id,D.text,Se,null,!1,Le),zt())},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:J=>{J.stopPropagation(),zt()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),o.jsx(jO,{showRoutineModal:T,onClose:V,routineInput:A,setRoutineInput:N,isAddingRoutine:P,selectedDays:R,onToggleDay:k,selectedTimeSlot:H,setSelectedTimeSlot:q,onAddRoutine:et,routines:E,editingRoutineId:te,editingRoutineText:C,setEditingRoutineText:Y,editingRoutineDays:wt,onToggleEditDay:U,onStartEdit:ot,onSaveEdit:W,onCancelEdit:rt,onDelete:L,onShowHistory:O}),o.jsx(DO,{showRoutineHistory:F,onClose:B,selectedRoutine:oe,routineHistoryData:be}),o.jsx(MO,{showTrashModal:G,onClose:Gc,trashedItems:ee,onEmptyTrash:$l,onRestoreFromTrash:Ot,onPermanentDelete:ft,formatDate:ya}),o.jsx(kO,{showDummyModal:bn,onClose:()=>pi(!1),onCreateDummyData:ms,onRemoveDuplicates:c_,dummySessions:ct,onDeleteDummySession:Pc,onDeleteAllDummies:gs,formatDate:ya}),o.jsx(UO,{showGanttChart:z,onClose:Ye,ganttData:Q,ganttPeriod:ze,setGanttPeriod:qe,formatDateOnly:Un}),o.jsx(zO,{showEncouragementModal:D_,onClose:()=>Yh(!1),encouragementMessages:O_,newEncouragementMessage:N_,setNewEncouragementMessage:A_,onAddEncouragementMessage:H_,editingEncouragementId:C_,editingEncouragementText:M_,setEditingEncouragementId:R_,setEditingEncouragementText:k_,onUpdateEncouragementMessage:L_,onDeleteEncouragementMessage:q_}),o.jsx(BO,{isOpen:I_,onClose:()=>Vh(!1),onAddSection:aw}),o.jsx(HO,{show:J_,onClose:()=>Wh(!1),hiddenSections:bs,sectionOrder:ys,sectionTitles:Fc,customSections:er,onShowSection:P_}),o.jsx($O,{showKeyThoughtsHistory:S_,onClose:()=>qh(!1),keyThoughtsHistory:w_,onRestoreVersion:j_})]})]}))}i1.createRoot(document.getElementById("root")).render(o.jsx(_.StrictMode,{children:o.jsx(eD,{})}));
