function C_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Gg={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=Symbol.for("react.transitional.element"),R_=Symbol.for("react.fragment");function Kg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:D_,type:e,key:a,ref:t!==void 0?t:null,props:n}}Po.Fragment=R_;Po.jsx=Kg;Po.jsxs=Kg;Gg.exports=Po;var u=Gg.exports,Xg={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.transitional.element"),M_=Symbol.for("react.portal"),k_=Symbol.for("react.fragment"),U_=Symbol.for("react.strict_mode"),z_=Symbol.for("react.profiler"),L_=Symbol.for("react.consumer"),B_=Symbol.for("react.context"),H_=Symbol.for("react.forward_ref"),q_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),Qg=Symbol.for("react.lazy"),V_=Symbol.for("react.activity"),Eh=Symbol.iterator;function I_(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var Jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zg=Object.assign,Pg={};function Ms(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Jg}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fg(){}Fg.prototype=Ms.prototype;function Yd(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Jg}var Gd=Yd.prototype=new Fg;Gd.constructor=Yd;Zg(Gd,Ms.prototype);Gd.isPureReactComponent=!0;var Th=Array.isArray;function Du(){}var Pe={H:null,A:null,T:null,S:null},Wg=Object.prototype.hasOwnProperty;function Kd(e,t,n){var a=n.ref;return{$$typeof:Id,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Y_(e,t){return Kd(e.type,t,e.props)}function Xd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Id}function G_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jh=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G_(""+e.key):t.toString(36)}function K_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Du,Du):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ki(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Id:case M_:r=!0;break;case Qg:return r=e._init,Ki(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Rc(e,0):a,Th(i)?(n="",r!=null&&(n=r.replace(jh,"$&/")+"/"),Ki(i,t,n,"",function(c){return c})):i!=null&&(Xd(i)&&(i=Y_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(jh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(Th(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Rc(a,o),r+=Ki(a,t,n,s,i);else if(o=I_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Rc(a,o++),r+=Ki(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return Ki(K_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function _l(e,t,n){if(e==null)return e;var a=[],i=0;return Ki(e,a,"","",function(s){return t.call(n,s,i++)}),a}function X_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Q_={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Xd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Activity=V_;he.Children=Q_;he.Component=Ms;he.Fragment=k_;he.Profiler=z_;he.PureComponent=Yd;he.StrictMode=U_;he.Suspense=q_;he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;he.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};he.cache=function(e){return function(){return e.apply(null,arguments)}};he.cacheSignal=function(){return null};he.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Zg({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!Wg.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return Kd(e.type,i,a)};he.createContext=function(e){return e={$$typeof:B_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:L_,_context:e},e};he.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Wg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return Kd(e,s,i)};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:H_,render:e}};he.isValidElement=Xd;he.lazy=function(e){return{$$typeof:Qg,_payload:{_status:-1,_result:e},_init:X_}};he.memo=function(e,t){return{$$typeof:$_,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Pe.T,n={};Pe.T=n;try{var a=e(),i=Pe.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Du,Oh)}catch(s){Oh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Pe.T=t}};he.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};he.use=function(e){return Pe.H.use(e)};he.useActionState=function(e,t,n){return Pe.H.useActionState(e,t,n)};he.useCallback=function(e,t){return Pe.H.useCallback(e,t)};he.useContext=function(e){return Pe.H.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};he.useEffect=function(e,t){return Pe.H.useEffect(e,t)};he.useEffectEvent=function(e){return Pe.H.useEffectEvent(e)};he.useId=function(){return Pe.H.useId()};he.useImperativeHandle=function(e,t,n){return Pe.H.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Pe.H.useMemo(e,t)};he.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};he.useReducer=function(e,t,n){return Pe.H.useReducer(e,t,n)};he.useRef=function(e){return Pe.H.useRef(e)};he.useState=function(e){return Pe.H.useState(e)};he.useSyncExternalStore=function(e,t,n){return Pe.H.useSyncExternalStore(e,t,n)};he.useTransition=function(){return Pe.H.useTransition()};he.version="19.2.0";Xg.exports=he;var _=Xg.exports;const rt=Ig(_);var ev={exports:{}},Fo={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var Y=D.length;D.push(L);e:for(;0<Y;){var de=Y-1>>>1,X=D[de];if(0<i(X,L))D[de]=L,D[Y]=X,Y=de;else break e}}function n(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var L=D[0],Y=D.pop();if(Y!==L){D[0]=Y;e:for(var de=0,X=D.length,nt=X>>>1;de<nt;){var Oe=2*(de+1)-1,Ye=D[Oe],B=Oe+1,ae=D[B];if(0>i(Ye,Y))B<X&&0>i(ae,Ye)?(D[de]=ae,D[B]=Y,de=B):(D[de]=Ye,D[Oe]=Y,de=Oe);else if(B<X&&0>i(ae,Y))D[de]=ae,D[B]=Y,de=B;else break e}}return L}function i(D,L){var Y=D.sortIndex-L.sortIndex;return Y!==0?Y:D.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],f=1,d=null,h=3,m=!1,p=!1,b=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(D){for(var L=n(c);L!==null;){if(L.callback===null)a(c);else if(L.startTime<=D)a(c),L.sortIndex=L.expirationTime,t(o,L);else break;L=n(c)}}function x(D){if(b=!1,w(D),!p)if(n(o)!==null)p=!0,T||(T=!0,ge());else{var L=n(c);L!==null&&K(x,L.startTime-D)}}var T=!1,E=-1,j=5,A=-1;function k(){return S?!0:!(e.unstable_now()-A<j)}function W(){if(S=!1,T){var D=e.unstable_now();A=D;var L=!0;try{e:{p=!1,b&&(b=!1,g(E),E=-1),m=!0;var Y=h;try{t:{for(w(D),d=n(o);d!==null&&!(d.expirationTime>D&&k());){var de=d.callback;if(typeof de=="function"){d.callback=null,h=d.priorityLevel;var X=de(d.expirationTime<=D);if(D=e.unstable_now(),typeof X=="function"){d.callback=X,w(D),L=!0;break t}d===n(o)&&a(o),w(D)}else a(o);d=n(o)}if(d!==null)L=!0;else{var nt=n(c);nt!==null&&K(x,nt.startTime-D),L=!1}}break e}finally{d=null,h=Y,m=!1}L=void 0}}finally{L?ge():T=!1}}}var ge;if(typeof v=="function")ge=function(){v(W)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,we=_e.port2;_e.port1.onmessage=W,ge=function(){we.postMessage(null)}}else ge=function(){y(W,0)};function K(D,L){E=y(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var Y=h;h=L;try{return D()}finally{h=Y}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=h;h=D;try{return L()}finally{h=Y}},e.unstable_scheduleCallback=function(D,L,Y){var de=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,D={id:f++,callback:L,priorityLevel:D,startTime:Y,expirationTime:X,sortIndex:-1},Y>de?(D.sortIndex=Y,t(c,D),n(o)===null&&D===n(c)&&(b?(g(E),E=-1):b=!0,K(x,Y-de))):(D.sortIndex=X,t(o,D),p||m||(p=!0,T||(T=!0,ge()))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var L=h;return function(){var Y=h;h=L;try{return D.apply(this,arguments)}finally{h=Y}}}})(nv);tv.exports=nv;var J_=tv.exports,av={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=_;function iv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sa(){}var Qt={d:{f:Sa,r:function(){throw Error(iv(522))},D:Sa,C:Sa,L:Sa,m:Sa,X:Sa,S:Sa,M:Sa},p:0,findDOMNode:null},P_=Symbol.for("react.portal");function F_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var ur=Z_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(iv(299));return F_(e,t,null,n)};Jt.flushSync=function(e){var t=ur.T,n=Qt.p;try{if(ur.T=null,Qt.p=2,e)return e()}finally{ur.T=t,Qt.p=n,Qt.d.f()}};Jt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qt.d.C(e,t))};Jt.prefetchDNS=function(e){typeof e=="string"&&Qt.d.D(e)};Jt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Wo(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&Qt.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Jt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Wo(t.as,t.crossOrigin);Qt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qt.d.M(e)};Jt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Wo(n,t.crossOrigin);Qt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Jt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Wo(t.as,t.crossOrigin);Qt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qt.d.m(e)};Jt.requestFormReset=function(e){Qt.d.r(e)};Jt.unstable_batchedUpdates=function(e,t){return e(t)};Jt.useFormState=function(e,t,n){return ur.H.useFormState(e,t,n)};Jt.useFormStatus=function(){return ur.H.useHostTransitionStatus()};Jt.version="19.2.0";function sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sv)}catch(e){console.error(e)}}sv(),av.exports=Jt;var gi=av.exports;const rv=Ig(gi);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=J_,lv=_,W_=gi;function C(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(Jr(e)!==e)throw Error(C(188))}function ew(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ah(i),e;if(s===a)return Ah(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(C(189))}}if(n.alternate!==a)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function dv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=dv(e),t!==null)return t;e=e.sibling}return null}var Fe=Object.assign,tw=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),ir=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),hv=Symbol.for("react.consumer"),oa=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),Uu=Symbol.for("react.activity"),nw=Symbol.for("react.memo_cache_sentinel"),Nh=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var aw=Symbol.for("react.client.reference");function zu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===aw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case Ru:return"Profiler";case fv:return"StrictMode";case Mu:return"Suspense";case ku:return"SuspenseList";case Uu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ir:return"Portal";case oa:return e.displayName||"Context";case hv:return(e._context.displayName||"Context")+".Consumer";case Qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case Ea:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}var sr=Array.isArray,oe=lv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze=W_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yi={pending:!1,data:null,method:null,action:null},Lu=[],Wi=-1;function Pn(e){return{current:e}}function Rt(e){0>Wi||(e.current=Lu[Wi],Lu[Wi]=null,Wi--)}function Qe(e,t){Wi++,Lu[Wi]=e.current,e.current=t}var Zn=Pn(null),Cr=Pn(null),qa=Pn(null),co=Pn(null);function uo(e,t){switch(Qe(qa,t),Qe(Cr,e),Qe(Zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Um(t),e=Mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Rt(Zn),Qe(Zn,e)}function bs(){Rt(Zn),Rt(Cr),Rt(qa)}function Bu(e){e.memoizedState!==null&&Qe(co,e);var t=Zn.current,n=Mp(t,e.type);t!==n&&(Qe(Cr,e),Qe(Zn,n))}function fo(e){Cr.current===e&&(Rt(Zn),Rt(Cr)),co.current===e&&(Rt(co),$r._currentValue=yi)}var Mc,Ch;function li(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||"",Ch=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mc+e+Ch}var kc=!1;function Uc(e,t){if(!e||kc)return"";kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==c[i]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=i);break}}}finally{kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?li(n):""}function iw(e,t){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==t&&t!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Uc(e.type,!1);case 11:return Uc(e.type.render,!1);case 1:return Uc(e.type,!0);case 31:return li("Activity");default:return""}}function Dh(e){try{var t="",n=null;do t+=iw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Hu=Object.prototype.hasOwnProperty,Zd=xt.unstable_scheduleCallback,zc=xt.unstable_cancelCallback,sw=xt.unstable_shouldYield,rw=xt.unstable_requestPaint,mn=xt.unstable_now,lw=xt.unstable_getCurrentPriorityLevel,mv=xt.unstable_ImmediatePriority,gv=xt.unstable_UserBlockingPriority,ho=xt.unstable_NormalPriority,ow=xt.unstable_LowPriority,vv=xt.unstable_IdlePriority,cw=xt.log,uw=xt.unstable_setDisableYieldValue,Zr=null,gn=null;function ka(e){if(typeof cw=="function"&&uw(e),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Zr,e)}catch{}}var vn=Math.clz32?Math.clz32:hw,dw=Math.log,fw=Math.LN2;function hw(e){return e>>>=0,e===0?32:31-(dw(e)/fw|0)|0}var Sl=256,xl=262144,El=4194304;function oi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ec(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=oi(a):(r&=l,r!==0?i=oi(r):n||(n=l&~e,n!==0&&(i=oi(n))))):(l=a&~s,l!==0?i=oi(l):r!==0?i=oi(r):n||(n=a&~e,n!==0&&(i=oi(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function Pr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yv(){var e=El;return El<<=1,!(El&62914560)&&(El=4194304),e}function Lc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-vn(n),d=1<<f;l[f]=0,o[f]=-1;var h=c[f];if(h!==null)for(c[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}n&=~d}a!==0&&pv(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function pv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-vn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function bv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-vn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function _v(e,t){var n=t&-t;return n=n&42?1:Pd(n),n&(e.suspendedLanes|t)?0:n}function Pd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function wv(){var e=ze.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function Rh(e,t){var n=ze.p;try{return ze.p=e,t()}finally{ze.p=n}}var ei=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ei,sn="__reactProps$"+ei,ks="__reactContainer$"+ei,qu="__reactEvents$"+ei,vw="__reactListeners$"+ei,yw="__reactHandles$"+ei,Mh="__reactResources$"+ei,Wr="__reactMarker$"+ei;function Wd(e){delete e[Lt],delete e[sn],delete e[qu],delete e[vw],delete e[yw]}function es(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ks]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qm(e);e!==null;){if(n=e[Lt])return n;e=qm(e)}return t}e=n,n=e.parentNode}return null}function Us(e){if(e=e[Lt]||e[ks]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(C(33))}function us(e){var t=e[Mh];return t||(t=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Dt(e){e[Wr]=!0}var Sv=new Set,xv={};function Oi(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(xv[e]=t,e=0;e<t.length;e++)Sv.add(t[e])}var pw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kh={},Uh={};function bw(e){return Hu.call(Uh,e)?!0:Hu.call(kh,e)?!1:pw.test(e)?Uh[e]=!0:(kh[e]=!0,!1)}function Xl(e,t,n){if(bw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Tl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ev(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _w(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $u(e){if(!e._valueTracker){var t=Ev(e)?"checked":"value";e._valueTracker=_w(e,t,""+e[t])}}function Tv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ev(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ww=/[\n"\\]/g;function Cn(e){return e.replace(ww,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vu(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+On(t)):e.value!==""+On(t)&&(e.value=""+On(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Iu(e,r,On(t)):n!=null?Iu(e,r,On(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+On(l):e.removeAttribute("name")}function jv(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){$u(e);return}n=n!=null?""+On(n):"",t=t!=null?""+On(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),$u(e)}function Iu(e,t,n){t==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ds(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ov(e,t,n){if(t!=null&&(t=""+On(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+On(n):""}function Av(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(C(92));if(sr(a)){if(1<a.length)throw Error(C(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=On(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),$u(e)}function ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zh(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Sw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nv(e,t,n){if(t!=null&&typeof t!="object")throw Error(C(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&zh(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&zh(e,s,t[s])}function ef(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ew=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(e){return Ew.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ca(){}var Yu=null;function tf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,fs=null;function Lh(e){var t=Us(e);if(t&&(e=t.stateNode)){var n=e[sn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[sn]||null;if(!i)throw Error(C(90));Vu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Tv(a)}break e;case"textarea":Ov(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ds(e,!!n.multiple,t,!1)}}}var Bc=!1;function Cv(e,t,n){if(Bc)return e(t,n);Bc=!0;try{var a=e(t);return a}finally{if(Bc=!1,(ts!==null||fs!==null)&&(fc(),ts&&(t=ts,e=fs,fs=ts=null,Lh(t),e)))for(t=0;t<e.length;t++)Lh(e[t])}}function Dr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[sn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(ma)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Gu=!1}var Ua=null,nf=null,Jl=null;function Dv(){if(Jl)return Jl;var e,t=nf,n=t.length,a,i="value"in Ua?Ua.value:Ua.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return Jl=i.slice(e,1<a?1-a:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jl(){return!0}function Bh(){return!1}function rn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jl:Bh,this.isPropagationStopped=Bh,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=rn(Ai),el=Fe({},Ai,{view:0,detail:0}),Tw=rn(el),Hc,qc,Ps,nc=Fe({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ps&&(Ps&&e.type==="mousemove"?(Hc=e.screenX-Ps.screenX,qc=e.screenY-Ps.screenY):qc=Hc=0,Ps=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),Hh=rn(nc),jw=Fe({},nc,{dataTransfer:0}),Ow=rn(jw),Aw=Fe({},el,{relatedTarget:0}),$c=rn(Aw),Nw=Fe({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Cw=rn(Nw),Dw=Fe({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rw=rn(Dw),Mw=Fe({},Ai,{data:0}),qh=rn(Mw),kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zw[e])?!!t[e]:!1}function af(){return Lw}var Bw=Fe({},el,{key:function(e){if(e.key){var t=kw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hw=rn(Bw),qw=Fe({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=rn(qw),$w=Fe({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),Vw=rn($w),Iw=Fe({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=rn(Iw),Gw=Fe({},nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kw=rn(Gw),Xw=Fe({},Ai,{newState:0,oldState:0}),Qw=rn(Xw),Jw=[9,13,27,32],sf=ma&&"CompositionEvent"in window,dr=null;ma&&"documentMode"in document&&(dr=document.documentMode);var Zw=ma&&"TextEvent"in window&&!dr,Rv=ma&&(!sf||dr&&8<dr&&11>=dr),Vh=" ",Ih=!1;function Mv(e,t){switch(e){case"keyup":return Jw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function Pw(e,t){switch(e){case"compositionend":return kv(t);case"keypress":return t.which!==32?null:(Ih=!0,Vh);case"textInput":return e=t.data,e===Vh&&Ih?null:e;default:return null}}function Fw(e,t){if(ns)return e==="compositionend"||!sf&&Mv(e,t)?(e=Dv(),Jl=nf=Ua=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rv&&t.locale!=="ko"?null:t.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ww[e.type]:t==="textarea"}function Uv(e,t,n,a){ts?fs?fs.push(a):fs=[a]:ts=a,t=Ro(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var fr=null,Rr=null;function eS(e){Cp(e,0)}function ac(e){var t=rr(e);if(Tv(t))return e}function Gh(e,t){if(e==="change")return t}var zv=!1;if(ma){var Vc;if(ma){var Ic="oninput"in document;if(!Ic){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Ic=typeof Kh.oninput=="function"}Vc=Ic}else Vc=!1;zv=Vc&&(!document.documentMode||9<document.documentMode)}function Xh(){fr&&(fr.detachEvent("onpropertychange",Lv),Rr=fr=null)}function Lv(e){if(e.propertyName==="value"&&ac(Rr)){var t=[];Uv(t,Rr,e,tf(e)),Cv(eS,t)}}function tS(e,t,n){e==="focusin"?(Xh(),fr=t,Rr=n,fr.attachEvent("onpropertychange",Lv)):e==="focusout"&&Xh()}function nS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Rr)}function aS(e,t){if(e==="click")return ac(t)}function iS(e,t){if(e==="input"||e==="change")return ac(t)}function sS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:sS;function Mr(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Hu.call(t,i)||!pn(e[i],t[i]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var n=Qh(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qh(n)}}function Bv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mo(e.document)}return t}function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var rS=ma&&"documentMode"in document&&11>=document.documentMode,as=null,Ku=null,hr=null,Xu=!1;function Zh(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xu||as==null||as!==mo(a)||(a=as,"selectionStart"in a&&rf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),hr&&Mr(hr,a)||(hr=a,a=Ro(Ku,"onSelect"),0<a.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=as)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},Yc={},qv={};ma&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Ni(e){if(Yc[e])return Yc[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qv)return Yc[e]=t[n];return e}var $v=Ni("animationend"),Vv=Ni("animationiteration"),Iv=Ni("animationstart"),lS=Ni("transitionrun"),oS=Ni("transitionstart"),cS=Ni("transitioncancel"),Yv=Ni("transitionend"),Gv=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Yn(e,t){Gv.set(e,t),Oi(t,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],ss=0,lf=0;function ic(){for(var e=ss,t=lf=ss=0;t<e;){var n=Tn[t];Tn[t++]=null;var a=Tn[t];Tn[t++]=null;var i=Tn[t];Tn[t++]=null;var s=Tn[t];if(Tn[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Kv(n,i,s)}}function sc(e,t,n,a){Tn[ss++]=e,Tn[ss++]=t,Tn[ss++]=n,Tn[ss++]=a,lf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function of(e,t,n,a){return sc(e,t,n,a),vo(e)}function Ci(e,t){return sc(e,null,null,t),vo(e)}function Kv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-vn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function vo(e){if(50<Sr)throw Sr=0,gd=null,Error(C(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rs={};function uS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,a){return new uS(e,t,n,a)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Pl(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")cf(e)&&(r=1);else if(typeof e=="string")r=gx(e,n,Zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Uu:return e=un(31,n,t,i),e.elementType=Uu,e.lanes=s,e;case Fi:return pi(n.children,i,s,t);case fv:r=8,i|=24;break;case Ru:return e=un(12,n,t,i|2),e.elementType=Ru,e.lanes=s,e;case Mu:return e=un(13,n,t,i),e.elementType=Mu,e.lanes=s,e;case ku:return e=un(19,n,t,i),e.elementType=ku,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oa:r=10;break e;case hv:r=9;break e;case Qd:r=11;break e;case Jd:r=14;break e;case Ea:r=16,a=null;break e}r=29,n=Error(C(130,e===null?"null":typeof e,"")),a=null}return t=un(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function pi(e,t,n,a){return e=un(7,e,a,t),e.lanes=n,e}function Gc(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function Qv(e){var t=un(18,null,null,0);return t.stateNode=e,t}function Kc(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ph=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=Ph.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Dh(t)},Ph.set(e,t),t)}return{value:e,source:t,stack:Dh(t)}}var ls=[],os=0,yo=null,kr=0,An=[],Nn=0,Ja=null,Xn=1,Qn="";function ra(e,t){ls[os++]=kr,ls[os++]=yo,yo=e,kr=t}function Jv(e,t,n){An[Nn++]=Xn,An[Nn++]=Qn,An[Nn++]=Ja,Ja=e;var a=Xn;e=Qn;var i=32-vn(a)-1;a&=~(1<<i),n+=1;var s=32-vn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,Xn=1<<32-vn(t)+i|n<<i|a,Qn=s+e}else Xn=1<<s|n<<i|a,Qn=e}function uf(e){e.return!==null&&(ra(e,1),Jv(e,1,0))}function df(e){for(;e===yo;)yo=ls[--os],ls[os]=null,kr=ls[--os],ls[os]=null;for(;e===Ja;)Ja=An[--Nn],An[Nn]=null,Qn=An[--Nn],An[Nn]=null,Xn=An[--Nn],An[Nn]=null}function Zv(e,t){An[Nn++]=Xn,An[Nn++]=Qn,An[Nn++]=Ja,Xn=t.id,Qn=t.overflow,Ja=e}var Bt=null,Ze=null,Me=!1,$a=null,Rn=!1,Ju=Error(C(519));function Za(e){var t=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ur(Dn(t,e)),Ju}function Fh(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Lt]=e,t[sn]=a,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Hr.length;n++)Te(Hr[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),jv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Av(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Rp(t.textContent,n)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=ca),t=!0):t=!1,t||Za(e,!0)}function Wh(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Bt=Bt.return}}function Bi(e){if(e!==Bt)return!1;if(!Me)return Wh(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_d(e.type,e.memoizedProps)),n=!n),n&&Ze&&Za(e),Wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));Ze=Hm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));Ze=Hm(e)}else t===27?(t=Ze,ti(e.type)?(e=Ed,Ed=null,Ze=e):Ze=t):Ze=Bt?kn(e.stateNode.nextSibling):null;return!0}function Si(){Ze=Bt=null,Me=!1}function Xc(){var e=$a;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),$a=null),e}function Ur(e){$a===null?$a=[e]:$a.push(e)}var Zu=Pn(null),Di=null,ua=null;function Na(e,t,n){Qe(Zu,t._currentValue),t._currentValue=n}function fa(e){e._currentValue=Zu.current,Rt(Zu)}function Pu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Fu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pu(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(C(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),Pu(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function zs(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(C(387));if(r=r.memoizedProps,r!==null){var l=i.type;pn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===co.current){if(r=i.alternate,r===null)throw Error(C(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($r):e=[$r])}i=i.return}e!==null&&Fu(t,e,n,a),t.flags|=262144}function po(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xi(e){Di=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Pv(Di,e)}function Ol(e,t){return Di===null&&xi(e),Pv(e,t)}function Pv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ua===null){if(e===null)throw Error(C(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return n}var dS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},fS=xt.unstable_scheduleCallback,hS=xt.unstable_NormalPriority,yt={$$typeof:oa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new dS,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&fS(hS,function(){e.controller.abort()})}var mr=null,Wu=0,Ss=0,hs=null;function mS(e,t){if(mr===null){var n=mr=[];Wu=0,Ss=Lf(),hs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Wu++,t.then(em,em),t}function em(){if(--Wu===0&&mr!==null){hs!==null&&(hs.status="fulfilled");var e=mr;mr=null,Ss=0,hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var tm=oe.S;oe.S=function(e,t){dp=mn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&mS(e,t),tm!==null&&tm(e,t)};var bi=Pn(null);function hf(){var e=bi.current;return e!==null?e:Ie.pooledCache}function Fl(e,t){t===null?Qe(bi,bi.current):Qe(bi,t.pool)}function Fv(){var e=hf();return e===null?null:{parent:yt._currentValue,pool:e}}var Ls=Error(C(460)),mf=Error(C(474)),rc=Error(C(542)),bo={then:function(){}};function nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ca,ca),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e;default:if(typeof t.status=="string")t.then(ca,ca);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(C(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e}throw _i=t,Ls}}function ci(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_i=n,Ls):n}}var _i=null;function am(){if(_i===null)throw Error(C(459));var e=_i;return _i=null,e}function im(e){if(e===Ls||e===rc)throw Error(C(483))}var ms=null,zr=0;function Al(e){var t=zr;return zr+=1,ms===null&&(ms=[]),Wv(ms,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nl(e,t){throw t.$$typeof===tw?Error(C(525)):(e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ey(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=da(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,g,v,w){return g===null||g.tag!==6?(g=Gc(v,y.mode,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function o(y,g,v,w){var x=v.type;return x===Fi?f(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ea&&ci(x)===g.type)?(g=i(g,v.props),Fs(g,v),g.return=y,g):(g=Pl(v.type,v.key,v.props,null,y.mode,w),Fs(g,v),g.return=y,g)}function c(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Kc(v,y.mode,w),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function f(y,g,v,w,x){return g===null||g.tag!==7?(g=pi(v,y.mode,w,x),g.return=y,g):(g=i(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Gc(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wl:return v=Pl(g.type,g.key,g.props,null,y.mode,v),Fs(v,g),v.return=y,v;case ir:return g=Kc(g,y.mode,v),g.return=y,g;case Ea:return g=ci(g),d(y,g,v)}if(sr(g)||Js(g))return g=pi(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return d(y,Al(g),v);if(g.$$typeof===oa)return d(y,Ol(y,g),v);Nl(y,g)}return null}function h(y,g,v,w){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:l(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return v.key===x?o(y,g,v,w):null;case ir:return v.key===x?c(y,g,v,w):null;case Ea:return v=ci(v),h(y,g,v,w)}if(sr(v)||Js(v))return x!==null?null:f(y,g,v,w,null);if(typeof v.then=="function")return h(y,g,Al(v),w);if(v.$$typeof===oa)return h(y,g,Ol(y,v),w);Nl(y,v)}return null}function m(y,g,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(v)||null,l(g,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return y=y.get(w.key===null?v:w.key)||null,o(g,y,w,x);case ir:return y=y.get(w.key===null?v:w.key)||null,c(g,y,w,x);case Ea:return w=ci(w),m(y,g,v,w,x)}if(sr(w)||Js(w))return y=y.get(v)||null,f(g,y,w,x,null);if(typeof w.then=="function")return m(y,g,v,Al(w),x);if(w.$$typeof===oa)return m(y,g,v,Ol(g,w),x);Nl(g,w)}return null}function p(y,g,v,w){for(var x=null,T=null,E=g,j=g=0,A=null;E!==null&&j<v.length;j++){E.index>j?(A=E,E=null):A=E.sibling;var k=h(y,E,v[j],w);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(y,E),g=s(k,g,j),T===null?x=k:T.sibling=k,T=k,E=A}if(j===v.length)return n(y,E),Me&&ra(y,j),x;if(E===null){for(;j<v.length;j++)E=d(y,v[j],w),E!==null&&(g=s(E,g,j),T===null?x=E:T.sibling=E,T=E);return Me&&ra(y,j),x}for(E=a(E);j<v.length;j++)A=m(E,y,j,v[j],w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?j:A.key),g=s(A,g,j),T===null?x=A:T.sibling=A,T=A);return e&&E.forEach(function(W){return t(y,W)}),Me&&ra(y,j),x}function b(y,g,v,w){if(v==null)throw Error(C(151));for(var x=null,T=null,E=g,j=g=0,A=null,k=v.next();E!==null&&!k.done;j++,k=v.next()){E.index>j?(A=E,E=null):A=E.sibling;var W=h(y,E,k.value,w);if(W===null){E===null&&(E=A);break}e&&E&&W.alternate===null&&t(y,E),g=s(W,g,j),T===null?x=W:T.sibling=W,T=W,E=A}if(k.done)return n(y,E),Me&&ra(y,j),x;if(E===null){for(;!k.done;j++,k=v.next())k=d(y,k.value,w),k!==null&&(g=s(k,g,j),T===null?x=k:T.sibling=k,T=k);return Me&&ra(y,j),x}for(E=a(E);!k.done;j++,k=v.next())k=m(E,y,j,k.value,w),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),g=s(k,g,j),T===null?x=k:T.sibling=k,T=k);return e&&E.forEach(function(ge){return t(y,ge)}),Me&&ra(y,j),x}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===Fi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:e:{for(var x=v.key;g!==null;){if(g.key===x){if(x=v.type,x===Fi){if(g.tag===7){n(y,g.sibling),w=i(g,v.props.children),w.return=y,y=w;break e}}else if(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ea&&ci(x)===g.type){n(y,g.sibling),w=i(g,v.props),Fs(w,v),w.return=y,y=w;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===Fi?(w=pi(v.props.children,y.mode,w,v.key),w.return=y,y=w):(w=Pl(v.type,v.key,v.props,null,y.mode,w),Fs(w,v),w.return=y,y=w)}return r(y);case ir:e:{for(x=v.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),w=i(g,v.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else t(y,g);g=g.sibling}w=Kc(v,y.mode,w),w.return=y,y=w}return r(y);case Ea:return v=ci(v),S(y,g,v,w)}if(sr(v))return p(y,g,v,w);if(Js(v)){if(x=Js(v),typeof x!="function")throw Error(C(150));return v=x.call(v),b(y,g,v,w)}if(typeof v.then=="function")return S(y,g,Al(v),w);if(v.$$typeof===oa)return S(y,g,Ol(y,v),w);Nl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),w=i(g,v),w.return=y,y=w):(n(y,g),w=Gc(v,y.mode,w),w.return=y,y=w),r(y)):n(y,g)}return function(y,g,v,w){try{zr=0;var x=S(y,g,v,w);return ms=null,x}catch(E){if(E===Ls||E===rc)throw E;var T=un(29,E,null,y.mode);return T.lanes=w,T.return=y,T}finally{}}}var Ei=ey(!0),ty=ey(!1),Ta=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ue&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=vo(e),Kv(e,null,n),t}return sc(e,a,t,n),vo(e)}function gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,bv(e,n)}}function Qc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var td=!1;function vr(){if(td){var e=hs;if(e!==null)throw e}}function yr(e,t,n,a){td=!1;var i=e.updateQueue;Ta=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?s=c:r.next=c,r=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;r=0,f=c=o=null,l=s;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(De&h)===h:(a&h)===h){h!==0&&h===Ss&&(td=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,b=l;h=t;var S=n;switch(b.tag){case 1:if(p=b.payload,typeof p=="function"){d=p.call(S,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(S,d,h):p,h==null)break e;d=Fe({},d,h);break e;case 2:Ta=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=m,o=d):f=f.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);f===null&&(o=d),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=f,s===null&&(i.shared.lanes=0),Fa|=r,e.lanes=r,e.memoizedState=d}}function ny(e,t){if(typeof e!="function")throw Error(C(191,e));e.call(t)}function ay(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ny(n[e],t)}var xs=Pn(null),_o=Pn(0);function sm(e,t){e=pa,Qe(_o,e),Qe(xs,t),pa=e|t.baseLanes}function nd(){Qe(_o,pa),Qe(xs,xs.current)}function vf(){pa=_o.current,Rt(xs),Rt(_o)}var bn=Pn(null),Mn=null;function Ca(e){var t=e.alternate;Qe(dt,dt.current&1),Qe(bn,e),Mn===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(Mn=e)}function ad(e){Qe(dt,dt.current),Qe(bn,e),Mn===null&&(Mn=e)}function iy(e){e.tag===22?(Qe(dt,dt.current),Qe(bn,e),Mn===null&&(Mn=e)):Da()}function Da(){Qe(dt,dt.current),Qe(bn,bn.current)}function cn(e){Rt(bn),Mn===e&&(Mn=null),Rt(dt)}var dt=Pn(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Sd(n)||xd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,me=null,Ve=null,gt=null,So=!1,gs=!1,Ti=!1,xo=0,Lr=0,vs=null,vS=0;function ot(){throw Error(C(321))}function yf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function pf(e,t,n,a,i,s){return ga=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oe.H=e===null||e.memoizedState===null?Uy:Nf,Ti=!1,s=n(a,i),Ti=!1,gs&&(s=ry(t,n,a,i)),sy(e),s}function sy(e){oe.H=Br;var t=Ve!==null&&Ve.next!==null;if(ga=0,gt=Ve=me=null,So=!1,Lr=0,vs=null,t)throw Error(C(300));e===null||pt||(e=e.dependencies,e!==null&&po(e)&&(pt=!0))}function ry(e,t,n,a){me=e;var i=0;do{if(gs&&(vs=null),Lr=0,gs=!1,25<=i)throw Error(C(301));if(i+=1,gt=Ve=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}oe.H=zy,s=t(n,a)}while(gs);return s}function yS(){var e=oe.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(me.flags|=1024),t}function bf(){var e=xo!==0;return xo=0,e}function _f(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wf(e){if(So){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}So=!1}ga=0,gt=Ve=me=null,gs=!1,Lr=xo=0,vs=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?me.memoizedState=gt=e:gt=gt.next=e,gt}function ft(){if(Ve===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=gt===null?me.memoizedState:gt.next;if(t!==null)gt=t,Ve=e;else{if(e===null)throw me.alternate===null?Error(C(467)):Error(C(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},gt===null?me.memoizedState=gt=e:gt=gt.next=e}return gt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=Lr;return Lr+=1,vs===null&&(vs=[]),e=Wv(vs,e,t),t=me,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,oe.H=t===null||t.memoizedState===null?Uy:Nf),e}function oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===oa)return Ht(e)}throw Error(C(438,String(e)))}function Sf(e){var t=null,n=me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=lc(),me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=nw;return t.index++,n}function va(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=ft();return xf(t,Ve,e)}function xf(e,t,n){var a=e.queue;if(a===null)throw Error(C(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,c=t,f=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(De&d)===d:(ga&d)===d){var h=c.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ss&&(f=!0);else if((ga&h)===h){c=c.next,h===Ss&&(f=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=d,r=s):o=o.next=d,me.lanes|=h,Fa|=h;d=c.action,Ti&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=h,r=s):o=o.next=h,me.lanes|=d,Fa|=d;c=c.next}while(c!==null&&c!==t);if(o===null?r=s:o.next=l,!pn(s,e.memoizedState)&&(pt=!0,f&&(n=hs,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Jc(e){var t=ft(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);pn(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ly(e,t,n){var a=me,i=ft(),s=Me;if(s){if(n===void 0)throw Error(C(407));n=n()}else n=t();var r=!pn((Ve||i).memoizedState,n);if(r&&(i.memoizedState=n,pt=!0),i=i.queue,Ef(uy.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||gt!==null&&gt.memoizedState.tag&1){if(a.flags|=2048,Es(9,{destroy:void 0},cy.bind(null,a,i,n,t),null),Ie===null)throw Error(C(349));s||ga&127||oy(a,t,n)}return n}function oy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t=lc(),me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cy(e,t,n,a){t.value=n,t.getSnapshot=a,dy(t)&&fy(e)}function uy(e,t,n){return n(function(){dy(t)&&fy(e)})}function dy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function fy(e){var t=Ci(e,2);t!==null&&an(t,e,2)}function id(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),Ti){ka(!0);try{n()}finally{ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function hy(e,t,n,a){return e.baseState=n,xf(e,Ve,typeof a=="function"?a:va)}function pS(e,t,n,a,i){if(uc(e))throw Error(C(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};oe.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,my(t,s)):(s.next=n.next,t.pending=n.next=s)}}function my(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=oe.T,r={};oe.T=r;try{var l=n(i,a),o=oe.S;o!==null&&o(r,l),rm(e,t,l)}catch(c){sd(e,t,c)}finally{s!==null&&r.types!==null&&(s.types=r.types),oe.T=s}}else try{s=n(i,a),rm(e,t,s)}catch(c){sd(e,t,c)}}function rm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){lm(e,t,a)},function(a){return sd(e,t,a)}):lm(e,t,n)}function lm(e,t,n){t.status="fulfilled",t.value=n,gy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,my(e,n)))}function sd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,gy(t),t=t.next;while(t!==a)}e.action=null}function gy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vy(e,t){return t}function om(e,t){if(Me){var n=Ie.formState;if(n!==null){e:{var a=me;if(Me){if(Ze){t:{for(var i=Ze,s=Rn;i.nodeType!==8;){if(!s){i=null;break t}if(i=kn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Ze=kn(i.nextSibling),a=i.data==="F!";break e}}Za(a)}a=!1}a&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:t},n.queue=a,n=Ry.bind(null,me,a),a.dispatch=n,a=id(!1),s=Af.bind(null,me,!1,a.queue),a=Kt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=pS.bind(null,me,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function cm(e){var t=ft();return yy(t,Ve,e)}function yy(e,t,n){if(t=xf(e,t,vy)[0],e=Wl(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=nl(t)}catch(r){throw r===Ls?rc:r}else a=t;t=ft();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(me.flags|=2048,Es(9,{destroy:void 0},bS.bind(null,i,n),null)),[a,s,e]}function bS(e,t){e.action=t}function um(e){var t=ft(),n=Ve;if(n!==null)return yy(t,n,e);ft(),t=t.memoizedState,n=ft();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Es(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=me.updateQueue,t===null&&(t=lc(),me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function py(){return ft().memoizedState}function eo(e,t,n,a){var i=Kt();me.flags|=e,i.memoizedState=Es(1|t,{destroy:void 0},n,a===void 0?null:a)}function cc(e,t,n,a){var i=ft();a=a===void 0?null:a;var s=i.memoizedState.inst;Ve!==null&&a!==null&&yf(a,Ve.memoizedState.deps)?i.memoizedState=Es(t,s,n,a):(me.flags|=e,i.memoizedState=Es(1|t,s,n,a))}function dm(e,t){eo(8390656,8,e,t)}function Ef(e,t){cc(2048,8,e,t)}function _S(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=lc(),me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function by(e){var t=ft().memoizedState;return _S({ref:t,nextImpl:e}),function(){if(Ue&2)throw Error(C(440));return t.impl.apply(void 0,arguments)}}function _y(e,t){return cc(4,2,e,t)}function wy(e,t){return cc(4,4,e,t)}function Sy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xy(e,t,n){n=n!=null?n.concat([e]):null,cc(4,4,Sy.bind(null,t,e),n)}function Tf(){}function Ey(e,t){var n=ft();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&yf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ty(e,t){var n=ft();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&yf(t,a[1]))return a[0];if(a=e(),Ti){ka(!0);try{e()}finally{ka(!1)}}return n.memoizedState=[a,t],a}function jf(e,t,n){return n===void 0||ga&1073741824&&!(De&261930)?e.memoizedState=t:(e.memoizedState=n,e=hp(),me.lanes|=e,Fa|=e,n)}function jy(e,t,n,a){return pn(n,t)?n:xs.current!==null?(e=jf(e,n,a),pn(e,t)||(pt=!0),e):!(ga&42)||ga&1073741824&&!(De&261930)?(pt=!0,e.memoizedState=n):(e=hp(),me.lanes|=e,Fa|=e,t)}function Oy(e,t,n,a,i){var s=ze.p;ze.p=s!==0&&8>s?s:8;var r=oe.T,l={};oe.T=l,Af(e,!1,t,n);try{var o=i(),c=oe.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=gS(o,a);pr(e,t,f,yn(e))}else pr(e,t,a,yn(e))}catch(d){pr(e,t,{then:function(){},status:"rejected",reason:d},yn())}finally{ze.p=s,r!==null&&l.types!==null&&(r.types=l.types),oe.T=r}}function wS(){}function rd(e,t,n,a){if(e.tag!==5)throw Error(C(476));var i=Ay(e).queue;Oy(e,i,t,yi,n===null?wS:function(){return Ny(e),n(a)})}function Ay(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:yi,baseState:yi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:yi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ny(e){var t=Ay(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},yn())}function Of(){return Ht($r)}function Cy(){return ft().memoizedState}function Dy(){return ft().memoizedState}function SS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yn();e=Va(n);var a=Ia(t,e,n);a!==null&&(an(a,t,n),gr(a,t,n)),t={cache:ff()},e.payload=t;return}t=t.return}}function xS(e,t,n){var a=yn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uc(e)?My(t,n):(n=of(e,t,n,a),n!==null&&(an(n,e,a),ky(n,t,a)))}function Ry(e,t,n){var a=yn();pr(e,t,n,a)}function pr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(e))My(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,pn(l,r))return sc(e,t,i,0),Ie===null&&ic(),!1}catch{}finally{}if(n=of(e,t,i,a),n!==null)return an(n,e,a),ky(n,t,a),!0}return!1}function Af(e,t,n,a){if(a={lane:2,revertLane:Lf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(t)throw Error(C(479))}else t=of(e,n,a,2),t!==null&&an(t,e,2)}function uc(e){var t=e.alternate;return e===me||t!==null&&t===me}function My(e,t){gs=So=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ky(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,bv(e,n)}}var Br={readContext:Ht,use:oc,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Br.useEffectEvent=ot;var Uy={readContext:Ht,use:oc,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:dm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,eo(4194308,4,Sy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){eo(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var a=e();if(Ti){ka(!0);try{e()}finally{ka(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Kt();if(n!==void 0){var i=n(t);if(Ti){ka(!0);try{n(t)}finally{ka(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xS.bind(null,me,e),[a.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=id(e);var t=e.queue,n=Ry.bind(null,me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tf,useDeferredValue:function(e,t){var n=Kt();return jf(n,e,t)},useTransition:function(){var e=id(!1);return e=Oy.bind(null,me,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=me,i=Kt();if(Me){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Ie===null)throw Error(C(349));De&127||oy(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,dm(uy.bind(null,a,s,e),[e]),a.flags|=2048,Es(9,{destroy:void 0},cy.bind(null,a,s,n,t),null),n},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(Me){var n=Qn,a=Xn;n=(a&~(1<<32-vn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Of,useFormState:om,useActionState:om,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Af.bind(null,me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Sf,useCacheRefresh:function(){return Kt().memoizedState=SS.bind(null,me)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if(Ue&2)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},Nf={readContext:Ht,use:oc,useCallback:Ey,useContext:Ht,useEffect:Ef,useImperativeHandle:xy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Ty,useReducer:Wl,useRef:py,useState:function(){return Wl(va)},useDebugValue:Tf,useDeferredValue:function(e,t){var n=ft();return jy(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Wl(va)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:ly,useId:Cy,useHostTransitionStatus:Of,useFormState:cm,useActionState:cm,useOptimistic:function(e,t){var n=ft();return hy(n,Ve,e,t)},useMemoCache:Sf,useCacheRefresh:Dy};Nf.useEffectEvent=by;var zy={readContext:Ht,use:oc,useCallback:Ey,useContext:Ht,useEffect:Ef,useImperativeHandle:xy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Ty,useReducer:Jc,useRef:py,useState:function(){return Jc(va)},useDebugValue:Tf,useDeferredValue:function(e,t){var n=ft();return Ve===null?jf(n,e,t):jy(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Jc(va)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:ly,useId:Cy,useHostTransitionStatus:Of,useFormState:um,useActionState:um,useOptimistic:function(e,t){var n=ft();return Ve!==null?hy(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Dy};zy.useEffectEvent=by;function Zc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ld={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=yn(),i=Va(a);i.payload=t,n!=null&&(i.callback=n),t=Ia(e,i,a),t!==null&&(an(t,e,a),gr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=yn(),i=Va(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ia(e,i,a),t!==null&&(an(t,e,a),gr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),a=Va(n);a.tag=2,t!=null&&(a.callback=t),t=Ia(e,a,n),t!==null&&(an(t,e,n),gr(t,e,n))}};function fm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,a)||!Mr(i,s):!0}function hm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function ji(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Fe({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Ly(e){go(e)}function By(e){console.error(e)}function Hy(e){go(e)}function Eo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function mm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function od(e,t,n){return n=Va(n),n.tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function qy(e){return e=Va(e),e.tag=3,e}function $y(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){mm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){mm(t,n,a),typeof i!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function ES(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&zs(t,n,i,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return Mn===null?No():n.alternate===null&&ct===0&&(ct=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===bo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),lu(e,a,i)),!1;case 22:return n.flags|=65536,a===bo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),lu(e,a,i)),!1}throw Error(C(435,n.tag))}return lu(e,a,i),No(),!1}if(Me)return t=bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Ju&&(e=Error(C(422),{cause:a}),Ur(Dn(e,n)))):(a!==Ju&&(t=Error(C(423),{cause:a}),Ur(Dn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Dn(a,n),i=od(e.stateNode,a,i),Qc(e,i),ct!==4&&(ct=2)),!1;var s=Error(C(520),{cause:a});if(s=Dn(s,n),wr===null?wr=[s]:wr.push(s),ct!==4&&(ct=2),t===null)return!0;a=Dn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=od(n.stateNode,a,e),Qc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ya===null||!Ya.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qy(i),$y(i,e,n,a),Qc(n,i),!1}n=n.return}while(n!==null);return!1}var Cf=Error(C(461)),pt=!1;function zt(e,t,n,a){t.child=e===null?ty(t,null,n,a):Ei(t,e.child,n,a)}function gm(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return xi(t),a=pf(e,t,n,r,s,i),l=bf(),e!==null&&!pt?(_f(e,t,i),ya(e,t,i)):(Me&&l&&uf(t),t.flags|=1,zt(e,t,a,i),t.child)}function vm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!cf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Vy(e,t,s,a,i)):(e=Pl(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Df(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(r,a)&&e.ref===t.ref)return ya(e,t,i)}return t.flags|=1,e=da(s,a),e.ref=t.ref,e.return=t,t.child=e}function Vy(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Mr(s,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=s,Df(e,i))e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,ya(e,t,i)}return cd(e,t,n,a,i)}function Iy(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return ym(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,s!==null?s.cachePool:null),s!==null?sm(t,s):nd(),iy(t);else return a=t.lanes=536870912,ym(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Fl(t,s.cachePool),sm(t,s),Da(),t.memoizedState=null):(e!==null&&Fl(t,null),nd(),Da());return zt(e,t,i,n),t.child}function lr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ym(e,t,n,a,i){var s=hf();return s=s===null?null:{parent:yt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Fl(t,null),nd(),iy(t),e!==null&&zs(e,t,a,!0),t.childLanes=i,null}function to(e,t){return t=To({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pm(e,t,n){return Ei(t,e.child,null,n),e=to(t,t.pendingProps),e.flags|=2,cn(t),t.memoizedState=null,e}function TS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(a.mode==="hidden")return e=to(t,a),t.lanes=536870912,lr(null,e);if(ad(t),(e=Ze)?(e=Up(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=Qv(e),n.return=t,t.child=n,Bt=t,Ze=null)):e=null,e===null)throw Za(t);return t.lanes=536870912,null}return to(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(ad(t),i)if(t.flags&256)t.flags&=-257,t=pm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(C(558));else if(pt||zs(e,t,n,!1),i=(n&e.childLanes)!==0,pt||i){if(a=Ie,a!==null&&(r=_v(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Ci(e,r),an(a,e,r),Cf;No(),t=pm(e,t,n)}else e=s.treeContext,Ze=kn(r.nextSibling),Bt=t,Me=!0,$a=null,Rn=!1,e!==null&&Zv(t,e),t=to(t,a),t.flags|=4096;return t}return e=da(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function no(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cd(e,t,n,a,i){return xi(t),n=pf(e,t,n,a,void 0,i),a=bf(),e!==null&&!pt?(_f(e,t,i),ya(e,t,i)):(Me&&a&&uf(t),t.flags|=1,zt(e,t,n,i),t.child)}function bm(e,t,n,a,i,s){return xi(t),t.updateQueue=null,n=ry(t,a,n,i),sy(e),a=bf(),e!==null&&!pt?(_f(e,t,s),ya(e,t,s)):(Me&&a&&uf(t),t.flags|=1,zt(e,t,n,s),t.child)}function _m(e,t,n,a,i){if(xi(t),t.stateNode===null){var s=rs,r=n.contextType;typeof r=="object"&&r!==null&&(s=Ht(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ld,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},gf(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Ht(r):rs,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Zc(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&ld.enqueueReplaceState(s,s.state,null),yr(t,a,s,i),vr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=ji(n,l);s.props=o;var c=s.context,f=n.contextType;r=rs,typeof f=="object"&&f!==null&&(r=Ht(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==r)&&hm(t,s,a,r),Ta=!1;var h=t.memoizedState;s.state=h,yr(t,a,s,i),vr(),c=t.memoizedState,l||h!==c||Ta?(typeof d=="function"&&(Zc(t,n,d,a),c=t.memoizedState),(o=Ta||fm(t,n,o,a,h,c,r))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ed(e,t),r=t.memoizedProps,f=ji(n,r),s.props=f,d=t.pendingProps,h=s.context,c=n.contextType,o=rs,typeof c=="object"&&c!==null&&(o=Ht(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==d||h!==o)&&hm(t,s,a,o),Ta=!1,h=t.memoizedState,s.state=h,yr(t,a,s,i),vr();var m=t.memoizedState;r!==d||h!==m||Ta||e!==null&&e.dependencies!==null&&po(e.dependencies)?(typeof l=="function"&&(Zc(t,n,l,a),m=t.memoizedState),(f=Ta||fm(t,n,f,a,h,m,o)||e!==null&&e.dependencies!==null&&po(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=f):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,no(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):zt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ya(e,t,i),e}function wm(e,t,n,a){return Si(),t.flags|=256,zt(e,t,n,a),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:Fv()}}function Wc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Yy(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(i?Ca(t):Da(),(e=Ze)?(e=Up(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=Qv(e),n.return=t,t.child=n,Bt=t,Ze=null)):e=null,e===null)throw Za(t);return xd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Da(),i=t.mode,l=To({mode:"hidden",children:l},i),a=pi(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Fc(n),a.childLanes=Wc(e,r,n),t.memoizedState=Pc,lr(null,a)):(Ca(t),ud(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Ca(t),t.flags&=-257,t=eu(e,t,n)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),l=a.fallback,i=t.mode,a=To({mode:"visible",children:a.children},i),l=pi(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Ei(t,e.child,null,n),a=t.child,a.memoizedState=Fc(n),a.childLanes=Wc(e,r,n),t.memoizedState=Pc,t=lr(null,a));else if(Ca(t),xd(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,a=Error(C(419)),a.stack="",a.digest=r,Ur({value:a,source:null,stack:null}),t=eu(e,t,n)}else if(pt||zs(e,t,n,!1),r=(n&e.childLanes)!==0,pt||r){if(r=Ie,r!==null&&(a=_v(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ci(e,a),an(r,e,a),Cf;Sd(l)||No(),t=eu(e,t,n)}else Sd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ze=kn(l.nextSibling),Bt=t,Me=!0,$a=null,Rn=!1,e!==null&&Zv(t,e),t=ud(t,a.children),t.flags|=4096);return t}return i?(Da(),l=a.fallback,i=t.mode,o=e.child,c=o.sibling,a=da(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=da(c,l):(l=pi(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,lr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Fc(n):(i=l.cachePool,i!==null?(o=yt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Fv(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=Wc(e,r,n),t.memoizedState=Pc,lr(e.child,a)):(Ca(t),n=e.child,e=n.sibling,n=da(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ud(e,t){return t=To({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function To(e,t){return e=un(22,e,null,t),e.lanes=0,e}function eu(e,t,n){return Ei(t,e.child,null,n),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Pu(e.return,t,n)}function tu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Gy(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=dt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Qe(dt,r),zt(e,t,a,n),a=Me?kr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,n,t);else if(e.tag===19)Sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tu(t,!0,n,null,s,a);break;case"together":tu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ya(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,!(n&t.childLanes))if(e!==null){if(zs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=da(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=da(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Df(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&po(e)))}function jS(e,t,n){switch(t.tag){case 3:uo(t,t.stateNode.containerInfo),Na(t,yt,e.memoizedState.cache),Si();break;case 27:case 5:Bu(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 10:Na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ad(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ca(t),t.flags|=128,null):n&t.child.childLanes?Yy(e,t,n):(Ca(t),e=ya(e,t,n),e!==null?e.sibling:null);Ca(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(zs(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Gy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(dt,dt.current),a)break;return null;case 22:return t.lanes=0,Iy(e,t,n,t.pendingProps);case 24:Na(t,yt,e.memoizedState.cache)}return ya(e,t,n)}function Ky(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Df(e,n)&&!(t.flags&128))return pt=!1,jS(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Me&&t.flags&1048576&&Jv(t,kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ci(t.elementType),t.type=e,typeof e=="function")cf(e)?(a=ji(e,a),t.tag=1,t=_m(null,t,e,a,n)):(t.tag=0,t=cd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Qd){t.tag=11,t=gm(null,t,e,a,n);break e}else if(i===Jd){t.tag=14,t=vm(null,t,e,a,n);break e}}throw t=zu(e)||e,Error(C(306,t,""))}}return t;case 0:return cd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=ji(a,t.pendingProps),_m(e,t,a,i,n);case 3:e:{if(uo(t,t.stateNode.containerInfo),e===null)throw Error(C(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ed(e,t),yr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Na(t,yt,a),a!==s.cache&&Fu(t,[yt],n,!0),vr(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=wm(e,t,a,n);break e}else if(a!==i){i=Dn(Error(C(424)),t),Ur(i),t=wm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=kn(e.firstChild),Bt=t,Me=!0,$a=null,Rn=!0,n=ty(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Si(),a===i){t=ya(e,t,n);break e}zt(e,t,a,n)}t=t.child}return t;case 26:return no(e,t),e===null?(n=Vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,a=Mo(qa.current).createElement(n),a[Lt]=t,a[sn]=e,qt(a,n,e),Dt(a),t.stateNode=a):t.memoizedState=Vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bu(t),e===null&&Me&&(a=t.stateNode=zp(t.type,t.pendingProps,qa.current),Bt=t,Rn=!0,i=Ze,ti(t.type)?(Ed=i,Ze=kn(a.firstChild)):Ze=i),zt(e,t,t.pendingProps.children,n),no(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((i=a=Ze)&&(a=nx(a,t.type,t.pendingProps,Rn),a!==null?(t.stateNode=a,Bt=t,Ze=kn(a.firstChild),Rn=!1,i=!0):i=!1),i||Za(t)),Bu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,_d(i,s)?a=null:r!==null&&_d(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=pf(e,t,yS,null,null,n),$r._currentValue=i),no(e,t),zt(e,t,a,n),t.child;case 6:return e===null&&Me&&((e=n=Ze)&&(n=ax(n,t.pendingProps,Rn),n!==null?(t.stateNode=n,Bt=t,Ze=null,e=!0):e=!1),e||Za(t)),null;case 13:return Yy(e,t,n);case 4:return uo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ei(t,null,a,n):zt(e,t,a,n),t.child;case 11:return gm(e,t,t.type,t.pendingProps,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Na(t,t.type,a.value),zt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,xi(t),i=Ht(i),a=a(i),t.flags|=1,zt(e,t,a,n),t.child;case 14:return vm(e,t,t.type,t.pendingProps,n);case 15:return Vy(e,t,t.type,t.pendingProps,n);case 19:return Gy(e,t,n);case 31:return TS(e,t,n);case 22:return Iy(e,t,n,t.pendingProps);case 24:return xi(t),a=Ht(yt),e===null?(i=hf(),i===null&&(i=Ie,s=ff(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},gf(t),Na(t,yt,i)):(e.lanes&n&&(ed(e,t),yr(t,null,null,n),vr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Na(t,yt,a)):(a=s.cache,Na(t,yt,a),a!==i.cache&&Fu(t,[yt],n,!0))),zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(C(156,t.tag))}function ea(e){e.flags|=4}function nu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(vp())e.flags|=8192;else throw _i=bo,mf}else e.flags&=-16777217}function xm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Hp(t))if(vp())e.flags|=8192;else throw _i=bo,mf}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yv():536870912,e.lanes|=t,Ts|=t)}function Ws(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function OS(e,t,n){var a=t.pendingProps;switch(df(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fa(yt),bs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bi(t)?ea(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xc())),Je(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(ea(t),s!==null?(Je(t),xm(t,s)):(Je(t),nu(t,i,null,a,n))):s?s!==e.memoizedState?(ea(t),Je(t),xm(t,s)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ea(t),Je(t),nu(t,i,e,a,n)),null;case 27:if(fo(t),n=qa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return Je(t),null}e=Zn.current,Bi(t)?Fh(t):(e=zp(i,a,n),t.stateNode=e,ea(t))}return Je(t),null;case 5:if(fo(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return Je(t),null}if(s=Zn.current,Bi(t))Fh(t);else{var r=Mo(qa.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Lt]=t,s[sn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(qt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ea(t)}}return Je(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ea(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(C(166));if(e=qa.current,Bi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Bt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Lt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Rp(e.nodeValue,n)),e||Za(t,!0)}else e=Mo(e).createTextNode(a),e[Lt]=t,t.stateNode=e}return Je(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Bi(t),n!==null){if(e===null){if(!a)throw Error(C(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(557));e[Lt]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else n=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(cn(t),t):(cn(t),null);if(t.flags&128)throw Error(C(558))}return Je(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Bi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Lt]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else i=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(cn(t),t):(cn(t),null)}return cn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cl(t,t.updateQueue),Je(t),null);case 4:return bs(),e===null&&Bf(t.stateNode.containerInfo),Je(t),null;case 10:return fa(t.type),Je(t),null;case 19:if(Rt(dt),a=t.memoizedState,a===null)return Je(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Ws(a,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wo(e),s!==null){for(t.flags|=128,Ws(a,!1),e=s.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xv(n,e),n=n.sibling;return Qe(dt,dt.current&1|2),Me&&ra(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&mn()>Oo&&(t.flags|=128,i=!0,Ws(a,!1),t.lanes=4194304)}else{if(!i)if(e=wo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),Ws(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Me)return Je(t),null}else 2*mn()-a.renderingStartTime>Oo&&n!==536870912&&(t.flags|=128,i=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mn(),e.sibling=null,n=dt.current,Qe(dt,i?n&1|2:n&1),Me&&ra(t,a.treeForkCount),e):(Je(t),null);case 22:case 23:return cn(t),vf(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),n=t.updateQueue,n!==null&&Cl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Rt(bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fa(yt),Je(t),null;case 25:return null;case 30:return null}throw Error(C(156,t.tag))}function AS(e,t){switch(df(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(yt),bs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fo(t),null;case 31:if(t.memoizedState!==null){if(cn(t),t.alternate===null)throw Error(C(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(cn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(dt),null;case 4:return bs(),null;case 10:return fa(t.type),null;case 22:case 23:return cn(t),vf(),e!==null&&Rt(bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fa(yt),null;case 25:return null;default:return null}}function Xy(e,t){switch(df(t),t.tag){case 3:fa(yt),bs();break;case 26:case 27:case 5:fo(t);break;case 4:bs();break;case 31:t.memoizedState!==null&&cn(t);break;case 13:cn(t);break;case 19:Rt(dt);break;case 10:fa(t.type);break;case 22:case 23:cn(t),vf(),e!==null&&Rt(bi);break;case 24:fa(yt)}}function al(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){qe(t,t.return,l)}}function Pa(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(f){qe(i,o,f)}}}a=a.next}while(a!==s)}}catch(f){qe(t,t.return,f)}}function Qy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ay(t,n)}catch(a){qe(e,e.return,a)}}}function Jy(e,t,n){n.props=ji(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){qe(e,t,a)}}function br(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){qe(e,t,i)}}function Jn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){qe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){qe(e,t,i)}else n.current=null}function Zy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){qe(e,e.return,i)}}function au(e,t,n){try{var a=e.stateNode;ZS(a,e.type,n,t),a[sn]=t}catch(i){qe(e,e.return,i)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ti(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ti(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ca));else if(a!==4&&(a===27&&ti(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}function jo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ti(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(jo(e,t,n),e=e.sibling;e!==null;)jo(e,t,n),e=e.sibling}function Fy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qt(t,a,n),t[Lt]=e,t[sn]=n}catch(s){qe(e,e.return,s)}}var la=!1,vt=!1,su=!1,Em=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function NS(e,t){if(e=e.containerInfo,pd=Lo,e=Hv(e),rf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=r+i),d!==s||a!==0&&d.nodeType!==3||(o=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++c===i&&(l=r),h===s&&++f===a&&(o=r),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(bd={focusedElem:e,selectionRange:n},Lo=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var p=ji(n.type,i);e=a.getSnapshotBeforeUpdate(p,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){qe(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(C(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function Wy(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:na(e,n),a&4&&al(5,n);break;case 1:if(na(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){qe(n,n.return,r)}else{var i=ji(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){qe(n,n.return,r)}}a&64&&Qy(n),a&512&&br(n,n.return);break;case 3:if(na(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ay(e,t)}catch(r){qe(n,n.return,r)}}break;case 27:t===null&&a&4&&Fy(n);case 26:case 5:na(e,n),t===null&&a&4&&Zy(n),a&512&&br(n,n.return);break;case 12:na(e,n);break;case 31:na(e,n),a&4&&np(e,n);break;case 13:na(e,n),a&4&&ap(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=BS.bind(null,n),ix(e,n))));break;case 22:if(a=n.memoizedState!==null||la,!a){t=t!==null&&t.memoizedState!==null||vt,i=la;var s=vt;la=a,(vt=t)&&!s?ia(e,n,(n.subtreeFlags&8772)!==0):na(e,n),la=i,vt=s}break;case 30:break;default:na(e,n)}}function ep(e){var t=e.alternate;t!==null&&(e.alternate=null,ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,tn=!1;function ta(e,t,n){for(n=n.child;n!==null;)tp(e,t,n),n=n.sibling}function tp(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Zr,n)}catch{}switch(n.tag){case 26:vt||Jn(n,t),ta(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:vt||Jn(n,t);var a=tt,i=tn;ti(n.type)&&(tt=n.stateNode,tn=!1),ta(e,t,n),xr(n.stateNode),tt=a,tn=i;break;case 5:vt||Jn(n,t);case 6:if(a=tt,i=tn,tt=null,ta(e,t,n),tt=a,tn=i,tt!==null)if(tn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(n.stateNode)}catch(s){qe(n,t,s)}else try{tt.removeChild(n.stateNode)}catch(s){qe(n,t,s)}break;case 18:tt!==null&&(tn?(e=tt,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ns(e)):Lm(tt,n.stateNode));break;case 4:a=tt,i=tn,tt=n.stateNode.containerInfo,tn=!0,ta(e,t,n),tt=a,tn=i;break;case 0:case 11:case 14:case 15:Pa(2,n,t),vt||Pa(4,n,t),ta(e,t,n);break;case 1:vt||(Jn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Jy(n,t,a)),ta(e,t,n);break;case 21:ta(e,t,n);break;case 22:vt=(a=vt)||n.memoizedState!==null,ta(e,t,n),vt=a;break;default:ta(e,t,n)}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ns(e)}catch(n){qe(t,t.return,n)}}}function ap(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ns(e)}catch(n){qe(t,t.return,n)}}function CS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(C(435,e.tag))}}function Dl(e,t){var n=CS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=HS.bind(null,e,a);a.then(i,i)}})}function Wt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(ti(l.type)){tt=l.stateNode,tn=!1;break e}break;case 5:tt=l.stateNode,tn=!1;break e;case 3:case 4:tt=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(tt===null)throw Error(C(160));tp(s,r,i),tt=null,tn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}var qn=null;function ip(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),en(e),a&4&&(Pa(3,e,e.return),al(3,e),Pa(5,e,e.return));break;case 1:Wt(t,e),en(e),a&512&&(vt||n===null||Jn(n,n.return)),a&64&&la&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=qn;if(Wt(t,e),en(e),a&512&&(vt||n===null||Jn(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Wr]||s[Lt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),qt(s,a,n),s[Lt]=e,Dt(s),a=s;break e;case"link":var r=Ym("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),qt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Ym("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),qt(s,a,n),i.head.appendChild(s);break;default:throw Error(C(468,a))}s[Lt]=e,Dt(s),a=s}e.stateNode=a}else Gm(i,e.type,e.stateNode);else e.stateNode=Im(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Gm(i,e.type,e.stateNode):Im(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&au(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wt(t,e),en(e),a&512&&(vt||n===null||Jn(n,n.return)),n!==null&&a&4&&au(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wt(t,e),en(e),a&512&&(vt||n===null||Jn(n,n.return)),e.flags&32){i=e.stateNode;try{ws(i,"")}catch(p){qe(e,e.return,p)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,au(e,i,n!==null?n.memoizedProps:i)),a&1024&&(su=!0);break;case 6:if(Wt(t,e),en(e),a&4){if(e.stateNode===null)throw Error(C(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){qe(e,e.return,p)}}break;case 3:if(so=null,i=qn,qn=ko(t.containerInfo),Wt(t,e),qn=i,en(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(p){qe(e,e.return,p)}su&&(su=!1,sp(e));break;case 4:a=qn,qn=ko(e.stateNode.containerInfo),Wt(t,e),en(e),qn=a;break;case 12:Wt(t,e),en(e);break;case 31:Wt(t,e),en(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Dl(e,a)));break;case 13:Wt(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dc=mn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Dl(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=la,f=vt;if(la=c||i,vt=f||o,Wt(t,e),vt=f,la=c,en(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||la||vt||ui(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){qe(o,o.return,p)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(p){qe(o,o.return,p)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Bm(m,!0):Bm(o.stateNode,!1)}catch(p){qe(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Dl(e,n))));break;case 19:Wt(t,e),en(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Dl(e,a)));break;case 30:break;case 21:break;default:Wt(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Py(a)){n=a;break}a=a.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var i=n.stateNode,s=iu(e);jo(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(ws(r,""),n.flags&=-33);var l=iu(e);jo(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=iu(e);dd(e,c,o);break;default:throw Error(C(161))}}catch(f){qe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wy(e,t.alternate,t),t=t.sibling}function ui(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pa(4,t,t.return),ui(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Jy(t,t.return,n),ui(t);break;case 27:xr(t.stateNode);case 26:case 5:Jn(t,t.return),ui(t);break;case 22:t.memoizedState===null&&ui(t);break;case 30:ui(t);break;default:ui(t)}e=e.sibling}}function ia(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ia(i,s,n),al(4,s);break;case 1:if(ia(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){qe(a,a.return,c)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)ny(o[i],l)}catch(c){qe(a,a.return,c)}}n&&r&64&&Qy(s),br(s,s.return);break;case 27:Fy(s);case 26:case 5:ia(i,s,n),n&&a===null&&r&4&&Zy(s),br(s,s.return);break;case 12:ia(i,s,n);break;case 31:ia(i,s,n),n&&r&4&&np(i,s);break;case 13:ia(i,s,n),n&&r&4&&ap(i,s);break;case 22:s.memoizedState===null&&ia(i,s,n),br(s,s.return);break;case 30:break;default:ia(i,s,n)}t=t.sibling}}function Rf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&tl(n))}function Mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tl(e))}function zn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(e,t,n,a),t=t.sibling}function rp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:zn(e,t,n,a),i&2048&&al(9,t);break;case 1:zn(e,t,n,a);break;case 3:zn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tl(e)));break;case 12:if(i&2048){zn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){qe(t,t.return,o)}}else zn(e,t,n,a);break;case 31:zn(e,t,n,a);break;case 13:zn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?zn(e,t,n,a):_r(e,t):s._visibility&2?zn(e,t,n,a):(s._visibility|=2,Xi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Rf(r,t);break;case 24:zn(e,t,n,a),i&2048&&Mf(t.alternate,t);break;default:zn(e,t,n,a)}}function Xi(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(s,r,l,o,i),al(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?Xi(s,r,l,o,i):_r(s,r):(f._visibility|=2,Xi(s,r,l,o,i)),i&&c&2048&&Rf(r.alternate,r);break;case 24:Xi(s,r,l,o,i),i&&c&2048&&Mf(r.alternate,r);break;default:Xi(s,r,l,o,i)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:_r(n,a),i&2048&&Rf(a.alternate,a);break;case 24:_r(n,a),i&2048&&Mf(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var or=8192;function Hi(e,t,n){if(e.subtreeFlags&or)for(e=e.child;e!==null;)lp(e,t,n),e=e.sibling}function lp(e,t,n){switch(e.tag){case 26:Hi(e,t,n),e.flags&or&&e.memoizedState!==null&&vx(n,qn,e.memoizedState,e.memoizedProps);break;case 5:Hi(e,t,n);break;case 3:case 4:var a=qn;qn=ko(e.stateNode.containerInfo),Hi(e,t,n),qn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=or,or=16777216,Hi(e,t,n),or=a):Hi(e,t,n));break;default:Hi(e,t,n)}}function op(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function er(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Nt=a,up(a,e)}op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cp(e),e=e.sibling}function cp(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&Pa(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ao(e)):er(e);break;default:er(e)}}function ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Nt=a,up(a,e)}op(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pa(8,t,t.return),ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ao(t));break;default:ao(t)}e=e.sibling}}function up(e,t){for(;Nt!==null;){var n=Nt;switch(n.tag){case 0:case 11:case 15:Pa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:tl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Nt=a;else e:for(n=e;Nt!==null;){a=Nt;var i=a.sibling,s=a.return;if(ep(a),a===n){Nt=null;break e}if(i!==null){i.return=s,Nt=i;break e}Nt=s}}}var DS={getCacheForType:function(e){var t=Ht(yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ht(yt).controller.signal}},RS=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ie=null,je=null,De=0,Be=0,on=null,za=!1,Bs=!1,kf=!1,pa=0,ct=0,Fa=0,wi=0,Uf=0,hn=0,Ts=0,wr=null,nn=null,fd=!1,dc=0,dp=0,Oo=1/0,Ao=null,Ya=null,St=0,Ga=null,js=null,ha=0,hd=0,md=null,fp=null,Sr=0,gd=null;function yn(){return Ue&2&&De!==0?De&-De:oe.T!==null?Lf():wv()}function hp(){if(hn===0)if(!(De&536870912)||Me){var e=xl;xl<<=1,!(xl&3932160)&&(xl=262144),hn=e}else hn=536870912;return e=bn.current,e!==null&&(e.flags|=32),hn}function an(e,t,n){(e===Ie&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Os(e,0),La(e,De,hn,!1)),Fr(e,n),(!(Ue&2)||e!==Ie)&&(e===Ie&&(!(Ue&2)&&(wi|=n),ct===4&&La(e,De,hn,!1)),Fn(e))}function mp(e,t,n){if(Ue&6)throw Error(C(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Pr(e,t),i=a?US(e,t):ru(e,t,!0),s=a;do{if(i===0){Bs&&!a&&La(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!MS(n)){i=ru(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=wr;var o=l.current.memoizedState.isDehydrated;if(o&&(Os(l,r).flags|=256),r=ru(l,r,!1),r!==2){if(kf&&!o){l.errorRecoveryDisabledLanes|=s,wi|=s,i=4;break e}s=nn,nn=i,s!==null&&(nn===null?nn=s:nn.push.apply(nn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Os(e,0),La(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(C(345));case 4:if((t&4194048)!==t)break;case 6:La(a,t,hn,!za);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(C(329))}if((t&62914560)===t&&(i=dc+300-mn(),10<i)){if(La(a,t,hn,!za),ec(a,0,!0)!==0)break e;ha=t,a.timeoutHandle=kp(Tm.bind(null,a,n,nn,Ao,fd,t,hn,wi,Ts,za,s,"Throttled",-0,0),i);break e}Tm(a,n,nn,Ao,fd,t,hn,wi,Ts,za,s,null,-0,0)}}break}while(!0);Fn(e)}function Tm(e,t,n,a,i,s,r,l,o,c,f,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ca},lp(t,s,d);var p=(s&62914560)===s?dc-mn():(s&4194048)===s?dp-mn():0;if(p=yx(d,p),p!==null){ha=s,e.cancelPendingCommit=p(Om.bind(null,e,t,s,n,a,i,r,l,o,f,d,null,h,m)),La(e,s,r,!c);return}}Om(e,t,s,n,a,i,r,l,o)}function MS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!pn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t,n,a){t&=~Uf,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-vn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&pv(e,n,t)}function fc(){return Ue&6?!0:(il(0),!1)}function zf(){if(je!==null){if(Be===0)var e=je.return;else e=je,ua=Di=null,wf(e),ms=null,zr=0,e=je;for(;e!==null;)Xy(e.alternate,e),e=e.return;je=null}}function Os(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,WS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ha=0,zf(),Ie=e,je=n=da(e.current,null),De=t,Be=0,on=null,za=!1,Bs=Pr(e,t),kf=!1,Ts=hn=Uf=wi=Fa=ct=0,nn=wr=null,fd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-vn(a),s=1<<i;t|=e[i],a&=~s}return pa=t,ic(),n}function gp(e,t){me=null,oe.H=Br,t===Ls||t===rc?(t=am(),Be=3):t===mf?(t=am(),Be=4):Be=t===Cf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,je===null&&(ct=1,Eo(e,Dn(t,e.current)))}function vp(){var e=bn.current;return e===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||De&536870912?e===Mn:!1}function yp(){var e=oe.H;return oe.H=Br,e===null?Br:e}function pp(){var e=oe.A;return oe.A=DS,e}function No(){ct=4,za||(De&4194048)!==De&&bn.current!==null||(Bs=!0),!(Fa&134217727)&&!(wi&134217727)||Ie===null||La(Ie,De,hn,!1)}function ru(e,t,n){var a=Ue;Ue|=2;var i=yp(),s=pp();(Ie!==e||De!==t)&&(Ao=null,Os(e,t)),t=!1;var r=ct;e:do try{if(Be!==0&&je!==null){var l=je,o=on;switch(Be){case 8:zf(),r=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var c=Be;if(Be=0,on=null,cs(e,l,o,c),n&&Bs){r=0;break e}break;default:c=Be,Be=0,on=null,cs(e,l,o,c)}}kS(),r=ct;break}catch(f){gp(e,f)}while(!0);return t&&e.shellSuspendCounter++,ua=Di=null,Ue=a,oe.H=i,oe.A=s,je===null&&(Ie=null,De=0,ic()),r}function kS(){for(;je!==null;)bp(je)}function US(e,t){var n=Ue;Ue|=2;var a=yp(),i=pp();Ie!==e||De!==t?(Ao=null,Oo=mn()+500,Os(e,t)):Bs=Pr(e,t);e:do try{if(Be!==0&&je!==null){t=je;var s=on;t:switch(Be){case 1:Be=0,on=null,cs(e,t,s,1);break;case 2:case 9:if(nm(s)){Be=0,on=null,jm(t);break}t=function(){Be!==2&&Be!==9||Ie!==e||(Be=7),Fn(e)},s.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:nm(s)?(Be=0,on=null,jm(t)):(Be=0,on=null,cs(e,t,s,7));break;case 5:var r=null;switch(je.tag){case 26:r=je.memoizedState;case 5:case 27:var l=je;if(r?Hp(r):l.stateNode.complete){Be=0,on=null;var o=l.sibling;if(o!==null)je=o;else{var c=l.return;c!==null?(je=c,hc(c)):je=null}break t}}Be=0,on=null,cs(e,t,s,5);break;case 6:Be=0,on=null,cs(e,t,s,6);break;case 8:zf(),ct=6;break e;default:throw Error(C(462))}}zS();break}catch(f){gp(e,f)}while(!0);return ua=Di=null,oe.H=a,oe.A=i,Ue=n,je!==null?0:(Ie=null,De=0,ic(),ct)}function zS(){for(;je!==null&&!sw();)bp(je)}function bp(e){var t=Ky(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?hc(e):je=t}function jm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bm(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=bm(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:wf(t);default:Xy(n,t),t=je=Xv(t,pa),t=Ky(n,t,pa)}e.memoizedProps=e.pendingProps,t===null?hc(e):je=t}function cs(e,t,n,a){ua=Di=null,wf(t),ms=null,zr=0;var i=t.return;try{if(ES(e,i,t,n,De)){ct=1,Eo(e,Dn(n,e.current)),je=null;return}}catch(s){if(i!==null)throw je=i,s;ct=1,Eo(e,Dn(n,e.current)),je=null;return}t.flags&32768?(Me||a===1?e=!0:Bs||De&536870912?e=!1:(za=e=!0,(a===2||a===9||a===3||a===6)&&(a=bn.current,a!==null&&a.tag===13&&(a.flags|=16384))),_p(t,e)):hc(t)}function hc(e){var t=e;do{if(t.flags&32768){_p(t,za);return}e=t.return;var n=OS(t.alternate,t,pa);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ct===0&&(ct=5)}function _p(e,t){do{var n=AS(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);ct=6,je=null}function Om(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do mc();while(St!==0);if(Ue&6)throw Error(C(327));if(t!==null){if(t===e.current)throw Error(C(177));if(s=t.lanes|t.childLanes,s|=lf,gw(e,n,s,r,l,o),e===Ie&&(je=Ie=null,De=0),js=t,Ga=e,ha=n,hd=s,md=i,fp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qS(ho,function(){return Tp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=oe.T,oe.T=null,i=ze.p,ze.p=2,r=Ue,Ue|=4;try{NS(e,t,n)}finally{Ue=r,ze.p=i,oe.T=a}}St=1,wp(),Sp(),xp()}}function wp(){if(St===1){St=0;var e=Ga,t=js,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=oe.T,oe.T=null;var a=ze.p;ze.p=2;var i=Ue;Ue|=4;try{ip(t,e);var s=bd,r=Hv(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Bv(l.ownerDocument.documentElement,l)){if(o!==null&&rf(l)){var c=o.start,f=o.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=l.textContent.length,b=Math.min(o.start,p),S=o.end===void 0?b:Math.min(o.end,p);!m.extend&&b>S&&(r=S,S=b,b=r);var y=Jh(l,b),g=Jh(l,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=d.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),b>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(d=[],m=l;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Lo=!!pd,bd=pd=null}finally{Ue=i,ze.p=a,oe.T=n}}e.current=t,St=2}}function Sp(){if(St===2){St=0;var e=Ga,t=js,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=oe.T,oe.T=null;var a=ze.p;ze.p=2;var i=Ue;Ue|=4;try{Wy(e,t.alternate,t)}finally{Ue=i,ze.p=a,oe.T=n}}St=3}}function xp(){if(St===4||St===3){St=0,rw();var e=Ga,t=js,n=ha,a=fp;t.subtreeFlags&10256||t.flags&10256?St=5:(St=0,js=Ga=null,Ep(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ya=null),Fd(n),t=t.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Zr,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=oe.T,i=ze.p,ze.p=2,oe.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{oe.T=t,ze.p=i}}ha&3&&mc(),Fn(e),i=e.pendingLanes,n&261930&&i&42?e===gd?Sr++:(Sr=0,gd=e):Sr=0,il(0)}}function Ep(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,tl(t)))}function mc(){return wp(),Sp(),xp(),Tp()}function Tp(){if(St!==5)return!1;var e=Ga,t=hd;hd=0;var n=Fd(ha),a=oe.T,i=ze.p;try{ze.p=32>n?32:n,oe.T=null,n=md,md=null;var s=Ga,r=ha;if(St=0,js=Ga=null,ha=0,Ue&6)throw Error(C(331));var l=Ue;if(Ue|=4,cp(s.current),rp(s,s.current,r,n),Ue=l,il(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Zr,s)}catch{}return!0}finally{ze.p=i,oe.T=a,Ep(e,t)}}function Am(e,t,n){t=Dn(n,t),t=od(e.stateNode,t,2),e=Ia(e,t,2),e!==null&&(Fr(e,2),Fn(e))}function qe(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ya===null||!Ya.has(a))){e=Dn(n,e),n=qy(2),a=Ia(t,n,2),a!==null&&($y(n,a,t,e),Fr(a,2),Fn(a));break}}t=t.return}}function lu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new RS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(kf=!0,i.add(n),e=LS.bind(null,e,t,n),t.then(e,e))}function LS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(De&n)===n&&(ct===4||ct===3&&(De&62914560)===De&&300>mn()-dc?!(Ue&2)&&Os(e,0):Uf|=n,Ts===De&&(Ts=0)),Fn(e)}function jp(e,t){t===0&&(t=yv()),e=Ci(e,t),e!==null&&(Fr(e,t),Fn(e))}function BS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jp(e,n)}function HS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(C(314))}a!==null&&a.delete(t),jp(e,n)}function qS(e,t){return Zd(e,t)}var Co=null,Qi=null,vd=!1,Do=!1,ou=!1,Ba=0;function Fn(e){e!==Qi&&e.next===null&&(Qi===null?Co=Qi=e:Qi=Qi.next=e),Do=!0,vd||(vd=!0,VS())}function il(e,t){if(!ou&&Do){ou=!0;do for(var n=!1,a=Co;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-vn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Nm(a,s))}else s=De,s=ec(a,a===Ie?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Pr(a,s)||(n=!0,Nm(a,s));a=a.next}while(n);ou=!1}}function $S(){Op()}function Op(){Do=vd=!1;var e=0;Ba!==0&&FS()&&(e=Ba);for(var t=mn(),n=null,a=Co;a!==null;){var i=a.next,s=Ap(a,t);s===0?(a.next=null,n===null?Co=i:n.next=i,i===null&&(Qi=n)):(n=a,(e!==0||s&3)&&(Do=!0)),a=i}St!==0&&St!==5||il(e),Ba!==0&&(Ba=0)}function Ap(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-vn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=mw(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=Ie,n=De,n=ec(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&zc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Pr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&zc(a),Fd(n)){case 2:case 8:n=gv;break;case 32:n=ho;break;case 268435456:n=vv;break;default:n=ho}return a=Np.bind(null,e),n=Zd(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&zc(a),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(mc()&&e.callbackNode!==n)return null;var a=De;return a=ec(e,e===Ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(mp(e,a,t),Ap(e,mn()),e.callbackNode!=null&&e.callbackNode===n?Np.bind(null,e):null)}function Nm(e,t){if(mc())return null;mp(e,t,!0)}function VS(){ex(function(){Ue&6?Zd(mv,$S):Op()})}function Lf(){if(Ba===0){var e=Ss;e===0&&(e=Sl,Sl<<=1,!(Sl&261888)&&(Sl=256)),Ba=e}return Ba}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ql(""+e)}function Dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function IS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Cm((i[sn]||null).action),r=a.submitter;r&&(t=(t=r[sn]||null)?Cm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new tc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ba!==0){var o=r?Dm(i,r):new FormData(i);rd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?Dm(i,r):new FormData(i),rd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var cu=0;cu<Qu.length;cu++){var uu=Qu[cu],YS=uu.toLowerCase(),GS=uu[0].toUpperCase()+uu.slice(1);Yn(YS,"on"+GS)}Yn($v,"onAnimationEnd");Yn(Vv,"onAnimationIteration");Yn(Iv,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(lS,"onTransitionRun");Yn(oS,"onTransitionStart");Yn(cS,"onTransitionCancel");Yn(Yv,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function Cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(f){go(f)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(f){go(f)}i.currentTarget=null,s=o}}}}function Te(e,t){var n=t[qu];n===void 0&&(n=t[qu]=new Set);var a=e+"__bubble";n.has(a)||(Dp(t,e,2,!1),n.add(a))}function du(e,t,n){var a=0;t&&(a|=4),Dp(n,e,a,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Rl]){e[Rl]=!0,Sv.forEach(function(n){n!=="selectionchange"&&(KS.has(n)||du(n,!1,e),du(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,du("selectionchange",!1,t))}}function Dp(e,t,n,a){switch(Yp(t)){case 2:var i=_x;break;case 8:i=wx;break;default:i=Vf}n=i.bind(null,t,n,e),i=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=es(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Cv(function(){var c=s,f=tf(n),d=[];e:{var h=Gv.get(e);if(h!==void 0){var m=tc,p=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":m=Hw;break;case"focusin":p="focus",m=$c;break;case"focusout":p="blur",m=$c;break;case"beforeblur":case"afterblur":m=$c;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vw;break;case $v:case Vv:case Iv:m=Cw;break;case Yv:m=Yw;break;case"scroll":case"scrollend":m=Tw;break;case"wheel":m=Kw;break;case"copy":case"cut":case"paste":m=Rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$h;break;case"toggle":case"beforetoggle":m=Qw}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,v;g!==null;){var w=g;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||y===null||(w=Dr(g,y),w!=null&&b.push(qr(g,w,v))),S)break;g=g.return}0<b.length&&(h=new m(h,p,null,n,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Yu&&(p=n.relatedTarget||n.fromElement)&&(es(p)||p[ks]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?es(p):null,p!==null&&(S=Jr(p),b=p.tag,p!==S||b!==5&&b!==27&&b!==6)&&(p=null)):(m=null,p=c),m!==p)){if(b=Hh,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=$h,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?h:rr(m),v=p==null?h:rr(p),h=new b(w,g+"leave",m,n,f),h.target=S,h.relatedTarget=v,w=null,es(f)===c&&(b=new b(y,g+"enter",p,n,f),b.target=v,b.relatedTarget=S,w=b),S=w,m&&p)t:{for(b=XS,y=m,g=p,v=0,w=y;w;w=b(w))v++;w=0;for(var x=g;x;x=b(x))w++;for(;0<v-w;)y=b(y),v--;for(;0<w-v;)g=b(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate){b=y;break t}y=b(y),g=b(g)}b=null}else b=null;m!==null&&Rm(d,h,m,b,!1),p!==null&&S!==null&&Rm(d,S,p,b,!0)}}e:{if(h=c?rr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=Gh;else if(Yh(h))if(zv)T=iS;else{T=nS;var E=tS}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&ef(c.elementType)&&(T=Gh):T=aS;if(T&&(T=T(e,c))){Uv(d,T,n,f);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Iu(h,"number",h.value)}switch(E=c?rr(c):window,e){case"focusin":(Yh(E)||E.contentEditable==="true")&&(as=E,Ku=c,hr=null);break;case"focusout":hr=Ku=as=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Zh(d,n,f);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":Zh(d,n,f)}var j;if(sf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ns?Mv(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Rv&&n.locale!=="ko"&&(ns||A!=="onCompositionStart"?A==="onCompositionEnd"&&ns&&(j=Dv()):(Ua=f,nf="value"in Ua?Ua.value:Ua.textContent,ns=!0)),E=Ro(c,A),0<E.length&&(A=new qh(A,e,null,n,f),d.push({event:A,listeners:E}),j?A.data=j:(j=kv(n),j!==null&&(A.data=j)))),(j=Zw?Pw(e,n):Fw(e,n))&&(A=Ro(c,"onBeforeInput"),0<A.length&&(E=new qh("onBeforeInput","beforeinput",null,n,f),d.push({event:E,listeners:A}),E.data=j)),IS(d,e,c,n,f)}Cp(d,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ro(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Dr(e,n),i!=null&&a.unshift(qr(e,i,s)),i=Dr(e,t),i!=null&&a.push(qr(e,i,s))),e.tag===3)return a;e=e.return}return[]}function XS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rm(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Dr(n,s),c!=null&&r.unshift(qr(n,c,o))):i||(c=Dr(n,s),c!=null&&r.push(qr(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var QS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(QS,`
`).replace(JS,"")}function Rp(e,t){return t=Mm(t),Mm(e)===t}function $e(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ws(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ws(e,""+a);break;case"className":Tl(e,"class",a);break;case"tabIndex":Tl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,n,a);break;case"style":Nv(e,a,s);break;case"data":if(t!=="object"){Tl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ql(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",i.name,i,null),$e(e,t,"formEncType",i.formEncType,i,null),$e(e,t,"formMethod",i.formMethod,i,null),$e(e,t,"formTarget",i.formTarget,i,null)):($e(e,t,"encType",i.encType,i,null),$e(e,t,"method",i.method,i,null),$e(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ql(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ca);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ql(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Xl(e,"popover",a);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Xl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=xw.get(n)||n,Xl(e,n,a))}}function yd(e,t,n,a,i,s){switch(n){case"style":Nv(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ws(e,a):(typeof a=="number"||typeof a=="bigint")&&ws(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[sn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Xl(e,n,a)}}}function qt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:$e(e,t,s,r,n,null)}}i&&$e(e,t,"srcSet",n.srcSet,n,null),a&&$e(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var l=s=r=i=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":i=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(C(137,t));break;default:$e(e,t,a,f,n,null)}}jv(e,s,l,o,c,r,i,!1);return;case"select":Te("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:$e(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?ds(e,!!a,t,!1):n!=null&&ds(e,!!a,n,!0);return;case"textarea":Te("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(C(91));break;default:$e(e,t,r,l,n,null)}Av(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:$e(e,t,o,a,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<Hr.length;a++)Te(Hr[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:$e(e,t,c,a,n,null)}return;default:if(ef(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&yd(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&$e(e,t,l,a,n,null))}function ZS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,c=null,f=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(m)||$e(e,t,m,null,a,d)}}for(var h in a){var m=a[h];if(d=n[h],a.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":f=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(C(137,t));break;default:m!==d&&$e(e,t,h,m,a,d)}}Vu(e,r,l,o,c,f,s,i);return;case"select":m=r=l=h=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||$e(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&$e(e,t,i,s,a,o)}t=l,n=r,a=m,h!=null?ds(e,!!n,h,!1):!!a!=!!n&&(t!=null?ds(e,!!n,t,!0):ds(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:$e(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(C(91));break;default:i!==s&&$e(e,t,r,i,a,s)}Ov(e,h,m);return;case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&h!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:$e(e,t,p,null,a,h)}for(o in a)if(h=a[o],m=n[o],a.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:$e(e,t,o,h,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b)&&$e(e,t,b,null,a,h);for(c in a)if(h=a[c],m=n[c],a.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(C(137,t));break;default:$e(e,t,c,h,a,m)}return;default:if(ef(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!a.hasOwnProperty(S)&&yd(e,t,S,void 0,a,h);for(f in a)h=a[f],m=n[f],!a.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||yd(e,t,f,h,a,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&$e(e,t,y,null,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||h==null&&m==null||$e(e,t,d,h,a,m)}function km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&km(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>l)break;var f=o.transferSize,d=o.initiatorType;f&&km(d)&&(o=o.responseEnd,r+=f*(o<l?1:(l-c)/(o-c)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,bd=null;function Mo(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hu=null;function FS(){var e=window.event;return e&&e.type==="popstate"?e===hu?!1:(hu=e,!0):(hu=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(e){return zm.resolve(null).then(e).catch(tx)}:kp;function tx(e){setTimeout(function(){throw e})}function ti(e){return e==="head"}function Lm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ns(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")xr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[Wr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&xr(e.ownerDocument.body);n=i}while(n);Ns(t)}function Bm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function wd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wd(n),Wd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nx(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Wr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function ax(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function Up(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ix(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ed=null;function Hm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function zp(e,t,n){switch(t=Mo(n),e){case"html":if(e=t.documentElement,!e)throw Error(C(452));return e;case"head":if(e=t.head,!e)throw Error(C(453));return e;case"body":if(e=t.body,!e)throw Error(C(454));return e;default:throw Error(C(451))}}function xr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wd(e)}var Un=new Map,$m=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=ze.d;ze.d={f:sx,r:rx,D:lx,C:ox,L:cx,m:ux,X:fx,S:dx,M:hx};function sx(){var e=ba.f(),t=fc();return e||t}function rx(e){var t=Us(e);t!==null&&t.tag===5&&t.type==="form"?Ny(t):ba.r(e)}var Hs=typeof document>"u"?null:document;function Lp(e,t,n){var a=Hs;if(a&&typeof t=="string"&&t){var i=Cn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),$m.has(i)||($m.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),qt(t,"link",e),Dt(t),a.head.appendChild(t)))}}function lx(e){ba.D(e),Lp("dns-prefetch",e,null)}function ox(e,t){ba.C(e,t),Lp("preconnect",e,t)}function cx(e,t,n){ba.L(e,t,n);var a=Hs;if(a&&e&&t){var i='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Cn(n.imageSizes)+'"]')):i+='[href="'+Cn(e)+'"]';var s=i;switch(t){case"style":s=As(e);break;case"script":s=qs(e)}Un.has(s)||(e=Fe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Un.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(sl(s))||t==="script"&&a.querySelector(rl(s))||(t=a.createElement("link"),qt(t,"link",e),Dt(t),a.head.appendChild(t)))}}function ux(e,t){ba.m(e,t);var n=Hs;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Cn(a)+'"][href="'+Cn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=qs(e)}if(!Un.has(s)&&(e=Fe({rel:"modulepreload",href:e},t),Un.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rl(s)))return}a=n.createElement("link"),qt(a,"link",e),Dt(a),n.head.appendChild(a)}}}function dx(e,t,n){ba.S(e,t,n);var a=Hs;if(a&&e){var i=us(a).hoistableStyles,s=As(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(sl(s)))l.loading=5;else{e=Fe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Un.get(s))&&Hf(e,n);var o=r=a.createElement("link");Dt(o),qt(o,"link",e),o._p=new Promise(function(c,f){o.onload=c,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,io(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function fx(e,t){ba.X(e,t);var n=Hs;if(n&&e){var a=us(n).hoistableScripts,i=qs(e),s=a.get(i);s||(s=n.querySelector(rl(i)),s||(e=Fe({src:e,async:!0},t),(t=Un.get(i))&&qf(e,t),s=n.createElement("script"),Dt(s),qt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function hx(e,t){ba.M(e,t);var n=Hs;if(n&&e){var a=us(n).hoistableScripts,i=qs(e),s=a.get(i);s||(s=n.querySelector(rl(i)),s||(e=Fe({src:e,async:!0,type:"module"},t),(t=Un.get(i))&&qf(e,t),s=n.createElement("script"),Dt(s),qt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Vm(e,t,n,a){var i=(i=qa.current)?ko(i):null;if(!i)throw Error(C(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=As(n.href),n=us(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=As(n.href);var s=us(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(sl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Un.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Un.set(e,n),s||mx(i,e,n,r.state))),t&&a===null)throw Error(C(528,""));return r}if(t&&a!==null)throw Error(C(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qs(n),n=us(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,e))}}function As(e){return'href="'+Cn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Bp(e){return Fe({},e,{"data-precedence":e.precedence,precedence:null})}function mx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),qt(t,"link",n),Dt(t),e.head.appendChild(t))}function qs(e){return'[src="'+Cn(e)+'"]'}function rl(e){return"script[async]"+e}function Im(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(a)return t.instance=a,Dt(a),a;var i=Fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Dt(a),qt(a,"style",i),io(a,n.precedence,e),t.instance=a;case"stylesheet":i=As(n.href);var s=e.querySelector(sl(i));if(s)return t.state.loading|=4,t.instance=s,Dt(s),s;a=Bp(n),(i=Un.get(i))&&Hf(a,i),s=(e.ownerDocument||e).createElement("link"),Dt(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),qt(s,"link",a),t.state.loading|=4,io(s,n.precedence,e),t.instance=s;case"script":return s=qs(n.src),(i=e.querySelector(rl(s)))?(t.instance=i,Dt(i),i):(a=n,(i=Un.get(s))&&(a=Fe({},n),qf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Dt(i),qt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(C(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,io(a,n.precedence,e));return t.instance}function io(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function Ym(e,t,n){if(so===null){var a=new Map,i=so=new Map;i.set(n,a)}else i=so,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Wr]||s[Lt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Gm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function gx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function vx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=As(a.href),s=t.querySelector(sl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Dt(s);return}s=t.ownerDocument||t,a=Bp(a),(i=Un.get(i))&&Hf(a,i),s=s.createElement("link"),Dt(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),qt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Uo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mu=0;function yx(e,t){return e.stylesheets&&e.count===0&&ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&mu===0&&(mu=62500*PS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>mu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zo=null;function ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zo=new Map,t.forEach(px,e),zo=null,Uo.call(e))}function px(e,t){if(!(t.state.loading&4)){var n=zo.get(e);if(n)var a=n.get(null);else{n=new Map,zo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Uo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $r={$$typeof:oa,Provider:null,Consumer:null,_currentValue:yi,_currentValue2:yi,_threadCount:0};function bx(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.hiddenUpdates=Lc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function qp(e,t,n,a,i,s,r,l,o,c,f,d){return e=new bx(e,t,n,r,o,c,f,d,l),t=1,s===!0&&(t|=24),s=un(3,null,null,t),e.current=s,s.stateNode=e,t=ff(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},gf(s),e}function $p(e){return e?(e=rs,e):rs}function Vp(e,t,n,a,i,s){i=$p(i),a.context===null?a.context=i:a.pendingContext=i,a=Va(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Ia(e,a,t),n!==null&&(an(n,e,t),gr(n,e,t))}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $f(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Ip(e){if(e.tag===13||e.tag===31){var t=Ci(e,67108864);t!==null&&an(t,e,67108864),$f(e,67108864)}}function Xm(e){if(e.tag===13||e.tag===31){var t=yn();t=Pd(t);var n=Ci(e,t);n!==null&&an(n,e,t),$f(e,t)}}var Lo=!0;function _x(e,t,n,a){var i=oe.T;oe.T=null;var s=ze.p;try{ze.p=2,Vf(e,t,n,a)}finally{ze.p=s,oe.T=i}}function wx(e,t,n,a){var i=oe.T;oe.T=null;var s=ze.p;try{ze.p=8,Vf(e,t,n,a)}finally{ze.p=s,oe.T=i}}function Vf(e,t,n,a){if(Lo){var i=Td(a);if(i===null)fu(e,t,a,Bo,n),Qm(e,a);else if(xx(i,e,t,n,a))a.stopPropagation();else if(Qm(e,a),t&4&&-1<Sx.indexOf(e)){for(;i!==null;){var s=Us(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=oi(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-vn(r);l.entanglements[1]|=o,r&=~o}Fn(s),!(Ue&6)&&(Oo=mn()+500,il(0))}}break;case 31:case 13:l=Ci(s,2),l!==null&&an(l,s,2),fc(),$f(s,2)}if(s=Td(a),s===null&&fu(e,t,a,Bo,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else fu(e,t,a,null,n)}}function Td(e){return e=tf(e),If(e)}var Bo=null;function If(e){if(Bo=null,e=es(e),e!==null){var t=Jr(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=cv(t),e!==null)return e;e=null}else if(n===31){if(e=uv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bo=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lw()){case mv:return 2;case gv:return 8;case ho:case ow:return 32;case vv:return 268435456;default:return 32}default:return 32}}var jd=!1,Ka=null,Xa=null,Qa=null,Vr=new Map,Ir=new Map,Ra=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function tr(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Us(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xx(e,t,n,a,i){switch(t){case"focusin":return Ka=tr(Ka,e,t,n,a,i),!0;case"dragenter":return Xa=tr(Xa,e,t,n,a,i),!0;case"mouseover":return Qa=tr(Qa,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Vr.set(s,tr(Vr.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Ir.set(s,tr(Ir.get(s)||null,e,t,n,a,i)),!0}return!1}function Gp(e){var t=es(e.target);if(t!==null){var n=Jr(t);if(n!==null){if(t=n.tag,t===13){if(t=cv(n),t!==null){e.blockedOn=t,Rh(e.priority,function(){Xm(n)});return}}else if(t===31){if(t=uv(n),t!==null){e.blockedOn=t,Rh(e.priority,function(){Xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Td(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Yu=a,n.target.dispatchEvent(a),Yu=null}else return t=Us(n),t!==null&&Ip(t),e.blockedOn=n,!1;t.shift()}return!0}function Jm(e,t,n){lo(e)&&n.delete(t)}function Ex(){jd=!1,Ka!==null&&lo(Ka)&&(Ka=null),Xa!==null&&lo(Xa)&&(Xa=null),Qa!==null&&lo(Qa)&&(Qa=null),Vr.forEach(Jm),Ir.forEach(Jm)}function Ml(e,t){e.blockedOn===t&&(e.blockedOn=null,jd||(jd=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Ex)))}var kl=null;function Zm(e){kl!==e&&(kl=e,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,function(){kl===e&&(kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(If(a||n)===null)continue;break}var s=Us(n);s!==null&&(e.splice(t,3),t-=3,rd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ns(e){function t(o){return Ml(o,e)}Ka!==null&&Ml(Ka,e),Xa!==null&&Ml(Xa,e),Qa!==null&&Ml(Qa,e),Vr.forEach(t),Ir.forEach(t);for(var n=0;n<Ra.length;n++){var a=Ra[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ra.length&&(n=Ra[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&Ra.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[sn]||null;if(typeof s=="function")r||Zm(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[sn]||null)l=r.formAction;else if(If(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Zm(n)}}}function Kp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Yf(e){this._internalRoot=e}gc.prototype.render=Yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));var n=t.current,a=yn();Vp(n,a,e,t,null,null)};gc.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(e.current,2,null,e,null,null),fc(),t[ks]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ra.length&&t!==0&&t<Ra[n].priority;n++);Ra.splice(n,0,e),n===0&&Gp(e)}};var Pm=lv.version;if(Pm!=="19.2.0")throw Error(C(527,Pm,"19.2.0"));ze.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=ew(t),e=e!==null?dv(e):null,e=e===null?null:e.stateNode,e};var Tx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Zr=Ul.inject(Tx),gn=Ul}catch{}}Fo.createRoot=function(e,t){if(!ov(e))throw Error(C(299));var n=!1,a="",i=Ly,s=By,r=Hy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=qp(e,1,!1,null,null,n,a,null,i,s,r,Kp),e[ks]=t.current,Bf(e),new Yf(t)};Fo.hydrateRoot=function(e,t,n){if(!ov(e))throw Error(C(299));var a=!1,i="",s=Ly,r=By,l=Hy,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=qp(e,1,!0,t,n??null,a,i,o,s,r,l,Kp),t.context=$p(null),n=t.current,a=yn(),a=Pd(a),i=Va(a),i.callback=null,Ia(n,i,a),n=a,t.current.lanes=n,Fr(t,n),Fn(t),e[ks]=t.current,Bf(e),new gc(t)};Fo.version="19.2.0";function Xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xp)}catch(e){console.error(e)}}Xp(),ev.exports=Fo;var jx=ev.exports,Od=function(e,t){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Od(e,t)};function Qp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Od(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ho=function(){return Ho=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ho.apply(this,arguments)};function $s(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Jp(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Zp(e,t){return function(n,a){t(n,a,e)}}function Pp(e,t,n,a,i,s){function r(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?a.static?e:e.prototype:null,f=t||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),d,h=!1,m=n.length-1;m>=0;m--){var p={};for(var b in a)p[b]=b==="access"?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(y||null))};var S=(0,n[m])(l==="accessor"?{get:f.get,set:f.set}:f[o],p);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(d=r(S.get))&&(f.get=d),(d=r(S.set))&&(f.set=d),(d=r(S.init))&&i.unshift(d)}else(d=r(S))&&(l==="field"?i.unshift(d):f[o]=d)}c&&Object.defineProperty(c,a.name,f),h=!0}function Fp(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function Wp(e){return typeof e=="symbol"?e:"".concat(e)}function e0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function t0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Z(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(f){try{c(a.next(f))}catch(d){r(d)}}function o(f){try{c(a.throw(f))}catch(d){r(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,o)}c((a=a.apply(e,t||[])).next())})}function n0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(f){return o([c,f])}}function o(c){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(n=0)),n;)try{if(a=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var vc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function a0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&vc(t,e,n)}function qo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function i0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gf(arguments[t]));return e}function s0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function r0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function Cs(e){return this instanceof Cs?(this.v=e,this):new Cs(e)}function l0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(p){return Promise.resolve(p).then(m,d)}}function l(m,p){a[m]&&(i[m]=function(b){return new Promise(function(S,y){s.push([m,b,S,y])>1||o(m,b)})},p&&(i[m]=p(i[m])))}function o(m,p){try{c(a[m](p))}catch(b){h(s[0][3],b)}}function c(m){m.value instanceof Cs?Promise.resolve(m.value.v).then(f,d):h(s[0][2],m)}function f(m){o("next",m)}function d(m){o("throw",m)}function h(m,p){m(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}function o0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:Cs(e[i](r)),done:!1}:s?s(r):r}:s}}function c0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qo=="function"?qo(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},r)}}function u0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ox=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ad=function(e){return Ad=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Ad(e)};function d0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ad(e),a=0;a<n.length;a++)n[a]!=="default"&&vc(t,e,n[a]);return Ox(t,e),t}function f0(e){return e&&e.__esModule?e:{default:e}}function h0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function m0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function g0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function v0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var Ax=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function y0(e){function t(s){e.error=e.hasError?new Ax(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function p0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const Nx={__extends:Qp,__assign:Ho,__rest:$s,__decorate:Jp,__param:Zp,__esDecorate:Pp,__runInitializers:Fp,__propKey:Wp,__setFunctionName:e0,__metadata:t0,__awaiter:Z,__generator:n0,__createBinding:vc,__exportStar:a0,__values:qo,__read:Gf,__spread:i0,__spreadArrays:s0,__spreadArray:r0,__await:Cs,__asyncGenerator:l0,__asyncDelegator:o0,__asyncValues:c0,__makeTemplateObject:u0,__importStar:d0,__importDefault:f0,__classPrivateFieldGet:h0,__classPrivateFieldSet:m0,__classPrivateFieldIn:g0,__addDisposableResource:v0,__disposeResources:y0,__rewriteRelativeImportExtension:p0},Cx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:v0,get __assign(){return Ho},__asyncDelegator:o0,__asyncGenerator:l0,__asyncValues:c0,__await:Cs,__awaiter:Z,__classPrivateFieldGet:h0,__classPrivateFieldIn:g0,__classPrivateFieldSet:m0,__createBinding:vc,__decorate:Jp,__disposeResources:y0,__esDecorate:Pp,__exportStar:a0,__extends:Qp,__generator:n0,__importDefault:f0,__importStar:d0,__makeTemplateObject:u0,__metadata:t0,__param:Zp,__propKey:Wp,__read:Gf,__rest:$s,__rewriteRelativeImportExtension:p0,__runInitializers:Fp,__setFunctionName:e0,__spread:i0,__spreadArray:r0,__spreadArrays:s0,__values:qo,default:Nx},Symbol.toStringTag,{value:"Module"})),Dx="modulepreload",Rx=function(e){return"/todo-note/"+e},Fm={},Vs=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=Rx(o),o in Fm)return;Fm[o]=!0;const c=o.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Dx,c||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Mx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ri);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Kf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Wm extends Kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eg extends Kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tg extends Kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nd||(Nd={}));class kx{constructor(t,{headers:n={},customFetch:a,region:i=Nd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Mx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let c={},{region:f}=a;f||(f=this.region);const d=new URL(`${this.url}/${n}`);f&&f!=="any"&&(c["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(d.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:o}).catch(y=>{throw y.name==="AbortError"?y:new Wm(y)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new eg(m);if(!m.ok)throw new tg(m);let b=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield m.json():b==="application/octet-stream"||b==="application/pdf"?S=yield m.blob():b==="text/event-stream"?S=m:b==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Wm(s)}:{data:null,error:s,response:s instanceof tg||s instanceof eg?s.context:void 0}}})}}var Xt={};const Is=Yg(Cx);var zl={},Ll={},Bl={},Hl={},ql={},Ux=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ds=Ux();const zx=Ds.fetch,b0=Ds.fetch.bind(Ds),_0=Ds.Headers,Lx=Ds.Request,Bx=Ds.Response,Ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:_0,Request:Lx,Response:Bx,default:b0,fetch:zx},Symbol.toStringTag,{value:"Module"})),Hx=Yg(Ri);var $l={},ng;function w0(){if(ng)return $l;ng=1,Object.defineProperty($l,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $l.default=e,$l}var ag;function S0(){if(ag)return ql;ag=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=Is,t=e.__importDefault(Hx),n=e.__importDefault(w0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,d,h,m;let p=null,b=null,S=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const T=await c.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=T:b=JSON.parse(T))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,y=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await c.text();try{p=JSON.parse(w),Array.isArray(p)&&c.status===404&&(b=[],p=null,y=200,g="OK")}catch{c.status===404&&w===""?(y=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,y=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:b,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var f,d,h;return{error:{message:`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return ql.default=a,ql}var ig;function x0(){if(ig)return Hl;ig=1,Object.defineProperty(Hl,"__esModule",{value:!0});const t=Is.__importDefault(S0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const d=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Hl.default=n,Hl}var sg;function Xf(){if(sg)return Bl;sg=1,Object.defineProperty(Bl,"__esModule",{value:!0});const t=Is.__importDefault(x0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${f}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Bl.default=a,Bl}var rg;function E0(){if(rg)return Ll;rg=1,Object.defineProperty(Ll,"__esModule",{value:!0});const t=Is.__importDefault(Xf());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let c=!1;const f=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Ll.default=n,Ll}var lg;function qx(){if(lg)return zl;lg=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=Is,t=e.__importDefault(E0()),n=e.__importDefault(Xf());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:c}={}){var f;let d;const h=new URL(`${this.url}/rpc/${s}`);let m;l||o?(d=l?"HEAD":"GET",Object.entries(r).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{h.searchParams.append(b,S)})):(d="POST",m=r);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new n.default({method:d,url:h,headers:p,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return zl.default=a,zl}Object.defineProperty(Xt,"__esModule",{value:!0});var T0=Xt.PostgrestError=U0=Xt.PostgrestBuilder=M0=Xt.PostgrestTransformBuilder=D0=Xt.PostgrestFilterBuilder=N0=Xt.PostgrestQueryBuilder=O0=Xt.PostgrestClient=void 0;const Ys=Is,j0=Ys.__importDefault(qx());var O0=Xt.PostgrestClient=j0.default;const A0=Ys.__importDefault(E0());var N0=Xt.PostgrestQueryBuilder=A0.default;const C0=Ys.__importDefault(Xf());var D0=Xt.PostgrestFilterBuilder=C0.default;const R0=Ys.__importDefault(x0());var M0=Xt.PostgrestTransformBuilder=R0.default;const k0=Ys.__importDefault(S0());var U0=Xt.PostgrestBuilder=k0.default;const z0=Ys.__importDefault(w0());T0=Xt.PostgrestError=z0.default;var L0=Xt.default={PostgrestClient:j0.default,PostgrestQueryBuilder:A0.default,PostgrestFilterBuilder:C0.default,PostgrestTransformBuilder:R0.default,PostgrestBuilder:k0.default,PostgrestError:z0.default};const $x=C_({__proto__:null,get PostgrestBuilder(){return U0},get PostgrestClient(){return O0},get PostgrestError(){return T0},get PostgrestFilterBuilder(){return D0},get PostgrestQueryBuilder(){return N0},get PostgrestTransformBuilder(){return M0},default:L0},[Xt]),{PostgrestClient:Vx,PostgrestQueryBuilder:CO,PostgrestFilterBuilder:DO,PostgrestTransformBuilder:RO,PostgrestBuilder:MO,PostgrestError:kO}=L0||$x;class Ix{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Yx="2.78.0",Gx=`realtime-js/${Yx}`,Kx="1.0.0",Cd=1e4,Xx=1e3,Qx=100;var Er;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Er||(Er={}));var _t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_t||(_t={}));var $n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($n||($n={}));var Dd;(function(e){e.websocket="websocket"})(Dd||(Dd={}));var hi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hi||(hi={}));class Jx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const c=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class B0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xe||(Xe={}));const og=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=Zx(r,e,t,i),s),{}):{}},Zx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?H0(s,r):Rd(r)},H0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eE(t,n)}switch(e){case Xe.bool:return Px(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return Fx(t);case Xe.json:case Xe.jsonb:return Wx(t);case Xe.timestamp:return tE(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Rd(t);default:return Rd(t)}},Rd=e=>e,Px=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>H0(t,l))}return e},tE=e=>typeof e=="string"?e.replace(" ","T"):e,q0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gu{constructor(t,n,a={},i=Cd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cg||(cg={}));class Tr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Tr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Tr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(c,f)=>{r[c]||(o[c]=f)}),this.map(r,(c,f)=>{const d=s[c];if(d){const h=f.map(S=>S.presence_ref),m=d.map(S=>S.presence_ref),p=f.filter(S=>m.indexOf(S.presence_ref)<0),b=d.filter(S=>h.indexOf(S.presence_ref)<0);p.length>0&&(l[c]=p),b.length>0&&(o[c]=b)}else l[c]=f}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var c;const f=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),f.length>0){const d=t[l].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...h)}a(l,f,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const f=o.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ug;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ug||(ug={}));var jr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jr||(jr={}));var sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sa||(sa={}));class Qf{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,$n.join,this.params,this.timeout),this.rejoinTimer=new B0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Tr(this),this.broadcastEndpointURL=q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,c=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[jr.PRESENCE]&&this.bindings[jr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(sa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(sa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(sa.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,y=[];for(let g=0;g<S;g++){const v=b[g],{filter:{event:w,schema:x,table:T,filter:E}}=v,j=m&&m[g];if(j&&j.event===w&&j.schema===x&&j.table===T&&j.filter===E)y.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),this.state=_t.errored,t==null||t(sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(sa.SUBSCRIBED);return}}).receive("error",m=>{this.state=_t.errored,t==null||t(sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===_t.joined&&t===jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new gu(this,$n.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gu(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Qx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:f}=$n;if(a&&[l,o,c,f].indexOf(r)>=0&&a!==this._joinRef())return;let h=this._onMessage(r,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,b,S;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((S=(b=m.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(m=>m.callback(h,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var p,b,S,y,g,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,x=(p=m.filter)===null||p===void 0?void 0:p.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:b,table:S,commit_timestamp:y,type:g,errors:v}=p;h=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(p))}m.callback(h,a)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&Qf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($n.close,{},t)}_onError(t){this._on($n.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=og(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=og(t.columns,t.old_record)),n}}const vu=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nE=[1e3,2e3,5e3,1e4],aE=1e4,iE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sE{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cd,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vu,this.ref=0,this.reconnectTimer=null,this.logger=vu,this.conn=null,this.sendBuffer=[],this.serializer=new Jx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>Vs(async()=>{const{default:l}=await Promise.resolve().then(()=>Ri);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Dd.websocket}`,this.httpEndpoint=q0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ix.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return hi.Connecting;case Er.open:return hi.Open;case Er.closing:return hi.Closing;default:return hi.Closed}}isConnected(){return this.connectionState()===hi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new Qf(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($n.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([iE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Gx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push($n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new B0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,c,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Cd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Vl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:vu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>nE[d-1]||aE,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rE extends Jf{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Md extends Jf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Zf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ri);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},lE=()=>Z(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>Ri),void 0)).Response:Response}),kd=e=>{if(Array.isArray(e))return e.map(n=>kd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=kd(a)}),t},oE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},cE=(e,t,n)=>Z(void 0,void 0,void 0,function*(){const a=yield lE();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new rE(yu(i),s,r))}).catch(i=>{t(new Md(yu(i),i))}):t(new Md(yu(e),e))}),uE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(oE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ll(e,t,n,a,i,s){return Z(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,uE(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>cE(o,l,a))})})}function Yr(e,t,n,a){return Z(this,void 0,void 0,function*(){return ll(e,"GET",t,n,a)})}function Hn(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return ll(e,"POST",t,a,i,n)})}function Ud(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return ll(e,"PUT",t,a,i,n)})}function dE(e,t,n,a){return Z(this,void 0,void 0,function*(){return ll(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Pf(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return ll(e,"DELETE",t,a,i,n)})}class fE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var $0;class hE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[$0]="BlobDownloadBuilder",this.promise=null}asStream(){return new fE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}$0=Symbol.toStringTag;const mE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gE{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Zf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return Z(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},dg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),d=yield(t=="PUT"?Ud:Hn)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}upload(t,n,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return Z(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:dg.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",c.cacheControl)):(o=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield Ud(this.fetch,l.toString(),o,{headers:f});return{data:{path:s,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Hn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new Jf("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}update(t,n,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Z(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}copy(t,n,a){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return Z(this,void 0,void 0,function*(){try{const i=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>Yr(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new hE(o,this.shouldThrowOnError)}info(t){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield Yr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}exists(t){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield dE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a)&&a instanceof Md){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${c}`)}}}remove(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(t,n,a){return Z(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mE),n),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listV2(t,n){return Z(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const V0="2.78.0",I0={"X-Client-Info":`storage-js/${V0}`};class vE{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I0),n),this.fetch=Zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Yr(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(t){return Z(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class yE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I0),n),this.fetch=Zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Yr(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}const Ff={"X-Client-Info":`storage-js/${V0}`,"Content-Type":"application/json"};class Y0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class pu extends Y0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pE extends Y0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var fg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fg||(fg={}));const Wf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ri);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},bE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_E=(e,t,n)=>Z(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new pu(hg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new pu(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new pu(l,i,r))}}else t(new pE(hg(e),e))}),wE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(bE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function SE(e,t,n,a,i,s){return Z(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,wE(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>_E(o,l,a))})})}function fn(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return SE(e,"POST",t,a,i,n)})}class xE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}listIndexes(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Z(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}}class EE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}queryVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class TE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listBuckets(){return Z(this,arguments,void 0,function*(t={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class jE extends TE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new OE(this.url,this.headers,t,this.fetch)}}class OE extends xE{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new AE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class AE extends EE{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NE extends vE{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new gE(this.url,this.headers,t,this.fetch)}get vectors(){return new jE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yE(this.url+"/iceberg",this.headers,this.fetch)}}const CE="2.78.0";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const DE={"X-Client-Info":`supabase-js-${cr}/${CE}`},RE={headers:DE},ME={schema:"public"},kE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UE={},zE=e=>{let t;return e?t=e:typeof fetch>"u"?t=b0:t=fetch,(...n)=>t(...n)},LE=()=>typeof Headers>"u"?_0:Headers,BE=(e,t,n)=>{const a=zE(n),i=LE();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:c}))}};function HE(e){return e.endsWith("/")?e:e+"/"}function qE(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:c,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function $E(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G0="2.78.0",Ji=30*1e3,zd=3,bu=zd*Ji,VE="http://localhost:9999",IE="supabase.auth.token",YE={"X-Client-Info":`gotrue-js/${G0}`},Ld="X-Supabase-Api-Version",K0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KE=10*60*1e3;class Gr extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XE extends Gr{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function QE(e){return ee(e)&&e.name==="AuthApiError"}class mi extends Gr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ni extends Gr{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Ln extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JE(e){return ee(e)&&e.name==="AuthSessionMissingError"}class qi extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Il extends ni{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends ni{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZE(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class mg extends ni{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bd extends ni{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _u(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class gg extends ni{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Hd extends ni{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=` 	
\r=`.split(""),PE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vg.length;t+=1)e[vg[t].charCodeAt(0)]=-2;for(let t=0;t<$o.length;t+=1)e[$o[t].charCodeAt(0)]=t;return e})();function yg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n($o[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n($o[a]),t.queuedBits-=6}}function X0(e,t,n){const a=PE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{eT(r,a,n)};for(let r=0;r<e.length;r+=1)X0(e.charCodeAt(r),i,s);return t.join("")}function FE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}FE(a,t)}}function eT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ys(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)X0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function tT(e){const t=[];return WE(e,n=>t.push(n)),new Uint8Array(t)}function vi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>yg(i,n,a)),yg(null,n,a),t.join("")}function nT(e){return Math.round(Date.now()/1e3)+e}function aT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",si={tested:!1,writable:!1},Q0=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function iT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const J0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ri);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},sT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ri=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xa=async(e,t)=>{await e.removeItem(t)};class yc{constructor(){this.promise=new yc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yc.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Hd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!GE.test(t[a]))throw new Hd("JWT not in base64url format");return{header:JSON.parse(pg(t[0])),payload:JSON.parse(pg(t[1])),signature:ys(t[2]),raw:{header:t[0],payload:t[1]}}}async function rT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lT(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function oT(e){return("0"+e.toString(16)).substr(-2)}function cT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,oT).join("")}async function uT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,t,n=!1){const a=cT();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Zi(e,`${t}-code-verifier`,i);const s=await dT(a);return[s,a===s?"plain":"s256"]}const fT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hT(e){const t=e.headers.get(Ld);if(!t||!t.match(fT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vi(e){if(!vT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Su(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yT(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function bg(e){return JSON.parse(JSON.stringify(e))}const di=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pT=[502,503,504];async function _g(e){var t;if(!sT(e))throw new Bd(di(e),0);if(pT.includes(e.status))throw new Bd(di(e),e.status);let n;try{n=await e.json()}catch(s){throw new mi(di(s),s)}let a;const i=hT(e);if(i&&i.getTime()>=K0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gg(di(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new gg(di(n),e.status,n.weak_password.reasons);throw new XE(di(n),e.status||500,a)}const bT=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function le(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Ld]||(s[Ld]=K0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await _T(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function _T(e,t,n,a,i,s){const r=bT(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Bd(di(o),0)}if(l.ok||await _g(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await _g(o)}}function Bn(e){var t;let n=null;xT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nT(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function wg(e){const t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wT(e){return{data:e,error:null}}function ST(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=$s(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Sg(e){return e}function xT(e){return e.access_token&&e.refresh_token&&e.expires_in}const xu=["global","local","others"];class ET{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=J0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=xu[0]){if(xu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ee(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ma})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=$s(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ST,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ma})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sg});if(f.error)throw f.error;const d=await f.json(),h=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Vi(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ma})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Vi(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ma})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Vi(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ma})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Vi(t.userId);try{const{data:n,error:a}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Vi(t.userId),Vi(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},f=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sg});if(f.error)throw f.error;const d=await f.json(),h=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ee(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ee(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function xg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ii={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TT extends Z0{}async function jT(e,t,n){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ii.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function OT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function P0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AT(e){return parseInt(e,16)}function NT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function CT(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:c,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=P0(e.address),p=f?`${f}://${a}`:a,b=e.statement?`${e.statement}
`:"",S=`${p} wants you to sign in with your Ethereum account:
${m}

${b}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),o&&(y+=`
Request ID: ${o}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}y+=g}return`${S}
${y}`}class mt extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Vo extends mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function DT({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(F0(r)){if(s.rp.id!==r)return new mt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function RT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(F0(a)){if(n.rpId!==a)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kT=new MT;function UT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=$s(e,["challenge","user","excludeCredentials"]),s=ys(t).buffer,r=Object.assign(Object.assign({},n),{id:ys(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const c=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:ys(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function zT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=$s(e,["challenge","allowCredentials"]),i=ys(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:ys(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function LT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:vi(new Uint8Array(e.response.attestationObject)),clientDataJSON:vi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vi(new Uint8Array(i.authenticatorData)),clientDataJSON:vi(new Uint8Array(i.clientDataJSON)),signature:vi(new Uint8Array(i.signature)),userHandle:i.userHandle?vi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function F0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Eg(){var e,t;return!!(Gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",t)}:{data:null,error:new Vo("Empty credential response",t)}}catch(t){return{data:null,error:DT({error:t,options:e})}}}async function qT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",t)}:{data:null,error:new Vo("Empty credential response",t)}}catch(t){return{data:null,error:RT({error:t,options:e})}}}const $T={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VT={userVerification:"preferred",hints:["security-key"]};function Io(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=Io(l,r):a[s]=Io(r)}else a[s]=r}return a}function IT(e,t){return Io($T,e,t||{})}function YT(e,t){return Io(VT,e,t||{})}class GT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??kT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:c}=r.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(r.webauthn.type){case"create":{const c=IT(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:d}=await HT({publicKey:c,signal:o});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const c=YT(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:d}=await qT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:c,signal:o}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(r){return ee(r)?{data:null,error:r}:{data:null,error:new mi("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Gr("rpId is required for WebAuthn authentication")};try{if(!Eg())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return ee(r)?{data:null,error:r}:{data:null,error:new mi("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Gr("rpId is required for WebAuthn registration")};try{if(!Eg())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(r){return ee(r)?{data:null,error:r}:{data:null,error:new mi("Unexpected error in register",r)}}}}OT();const KT={url:VE,storageKey:IE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tg(e,t,n){return await n()}const Yi={};class Kr{get jwks(){var t,n;return(n=(t=Yi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kr.nextInstanceID,Kr.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ET({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J0(i.fetch),this.lock=i.lock||Tg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jT:this.lock=Tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=iT(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Gt()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ZE(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?{error:n}:{error:new mi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await $i(this.storage,this.storageKey)),s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Bn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bn})}else throw new Il("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wg})}else throw new Il("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new qi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,c,f,d,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:b,wallet:S,statement:y,options:g}=t;let v;if(Gt())if(typeof S=="object")v=S;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),x=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=P0(x[0]);let E=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const A=await v.request({method:"eth_chainId"});E=AT(A)}const j={domain:w.host,address:T,statement:y,uri:w.href,version:"1",chainId:E,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=g==null?void 0:g.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=CT(j),p=await v.request({method:"personal_sign",params:[NT(m),T]})}try{const{data:b,error:S}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bn});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new qi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(ee(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,a,i,s,r,l,o,c,f,d,h,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:S,wallet:y,statement:g,options:v}=t;let w;if(Gt())if(typeof y=="object")w=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))w=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const T=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(f=v==null?void 0:v.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:S,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:vi(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Bn});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new qi}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(ee(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ri(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Bn});if(await xa(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new qi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(ee(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bn}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new qi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await $i(this.storage,this.storageKey));const{error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:f}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Il("You must provide either an email or phone number.")}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Bn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await $i(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:wT})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Ln;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Il("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<bu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ri(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=Su()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=yT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ma}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ma})})}catch(n){if(ee(n))return JE(n)&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Ln;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await $i(this.storage,this.storageKey));const{data:c,error:f}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ma});if(f)throw f;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=wu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Gt())throw new Yl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!s||!l||!r||!c)throw new Yl("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;o&&(h=parseInt(o));const m=h-f;m*1e3<=Ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const p=h-d;f-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,f):f-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,f);const{data:b,error:S}=await this._getUser(s);if(S)throw S;const y={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:r,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(a){if(ee(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ri(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(QE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aT(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await $i(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,c,f;const{data:d,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Gt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ee(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:c,nonce:f}=t,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new qi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await lT(async i=>(i>0&&await rT(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&_u(s)&&Date.now()+r-a<Ji})}catch(a){if(this._debug(n,"error",a),ee(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Gt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ri(this.storage,this.storageKey);if(i&&this.userStorage){let r=await ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await Zi(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:Su()}else if(i&&!i.user&&!i.user){const r=await ri(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await xa(this.storage,this.storageKey+"-user"),await Zi(this.storage,this.storageKey,i)):i.user=Su()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bu;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${bu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),_u(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Ln;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ee(s)){const r={data:null,error:s};return _u(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Zi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=bg(i);await Zi(this.storage,this.storageKey,s)}else{const i=bg(n);await Zi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await xa(this.storage,this.storageKey),await xa(this.storage,this.storageKey+"-code-verifier"),await xa(this.storage,this.storageKey+"-user"),this.userStorage&&await xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ji);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/Ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ji}ms, refresh threshold is ${zd} ticks`),i<=zd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Z0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await $i(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LT(t.webauthn.credential_response):BT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:UT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Ln}})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Ln};const r=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(ee(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Ln};const r=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(ee(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+KE>i)return a;const{data:s,error:r}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=wu(a);n!=null&&n.allowExpired||mT(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const f=gT(i.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,r,tT(`${l}.${o}`)))throw new Hd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(ee(a))return{data:null,error:a};throw a}}}Kr.nextInstanceID=0;const XT=Kr;class QT extends XT{constructor(t){super(t)}}class JT{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=$E(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:ME,realtime:UE,auth:Object.assign(Object.assign({},kE),{storageKey:o}),global:RE},f=qE(a??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=BE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Vx(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new NE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new kx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:c},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZT=(e,t,n)=>new JT(e,t,n);function PT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FT="https://vqpubtahhvtkftafdlrp.supabase.co",WT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",He=ZT(FT,WT);function e1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const pc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function eh(e){return"nodeType"in e}function Zt(e){var t,n;return e?Gs(e)?e:eh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function th(e){const{Document:t}=Zt(e);return e instanceof t}function ol(e){return Gs(e)?!1:e instanceof Zt(e).HTMLElement}function W0(e){return e instanceof Zt(e).SVGElement}function Ks(e){return e?Gs(e)?e.document:eh(e)?th(e)?e:ol(e)||W0(e)?e.ownerDocument:document:document:document}const Vn=pc?_.useLayoutEffect:_.useEffect;function bc(e){const t=_.useRef(e);return Vn(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function t1(){const e=_.useRef(null),t=_.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Xr(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return Vn(()=>{n.current!==e&&(n.current=e)},t),n}function cl(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Yo(e){const t=bc(e),n=_.useRef(null),a=_.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function Go(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Eu={};function ul(e,t){return _.useMemo(()=>{if(t)return t;const n=Eu[e]==null?0:Eu[e]+1;return Eu[e]=n,e+"-"+n},[e,t])}function eb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,c]of l){const f=s[o];f!=null&&(s[o]=f+e*c)}return s},{...t})}}const ps=eb(1),Qr=eb(-1);function n1(e){return"clientX"in e&&"clientY"in e}function _c(e){if(!e)return!1;const{KeyboardEvent:t}=Zt(e.target);return t&&e instanceof t}function a1(e){if(!e)return!1;const{TouchEvent:t}=Zt(e.target);return t&&e instanceof t}function Ko(e){if(a1(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return n1(e)?{x:e.clientX,y:e.clientY}:null}const Wa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wa.Translate.toString(e),Wa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),jg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function i1(e){return e.matches(jg)?e:e.querySelector(jg)}const s1={display:"none"};function r1(e){let{id:t,value:n}=e;return rt.createElement("div",{id:t,style:s1},n)}function l1(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return rt.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function o1(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const tb=_.createContext(null);function c1(e){const t=_.useContext(tb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function u1(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const d1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},f1={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function h1(e){let{announcements:t=f1,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=d1}=e;const{announce:s,announcement:r}=o1(),l=ul("DndLiveRegion"),[o,c]=_.useState(!1);if(_.useEffect(()=>{c(!0)},[]),c1(_.useMemo(()=>({onDragStart(d){let{active:h}=d;s(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:m}=d;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(d){let{active:h,over:m}=d;s(t.onDragOver({active:h,over:m}))},onDragEnd(d){let{active:h,over:m}=d;s(t.onDragEnd({active:h,over:m}))},onDragCancel(d){let{active:h,over:m}=d;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!o)return null;const f=rt.createElement(rt.Fragment,null,rt.createElement(r1,{id:a,value:i.draggable}),rt.createElement(l1,{id:l,announcement:r}));return n?gi.createPortal(f,n):f}var wt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(wt||(wt={}));function Xo(){}function Tu(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function m1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const In=Object.freeze({x:0,y:0});function nb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g1(e,t){const n=Ko(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function ab(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function v1(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Og(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function ib(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ag(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const y1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ag(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=nb(Ag(o),i);s.push({id:l,data:{droppableContainer:r,value:c}})}}return s.sort(ab)},p1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Og(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=Og(o),f=i.reduce((h,m,p)=>h+nb(c[p],m),0),d=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:d}})}}return s.sort(ab)};function b1(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,c=e.width*e.height,f=r*l,d=f/(o+c-f);return Number(d.toFixed(4))}return 0}const _1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=b1(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(v1)};function w1(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function sb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:In}function S1(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const x1=S1(1);function rb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function E1(e,t,n){const a=rb(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:c,right:o+f,bottom:c+d,left:o}}const T1={ignoreTransform:!1};function Xs(e,t){t===void 0&&(t=T1);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:f}=Zt(e).getComputedStyle(e);c&&(n=E1(n,c,f))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function Ng(e){return Xs(e,{ignoreTransform:!0})}function j1(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function O1(e,t){return t===void 0&&(t=Zt(e).getComputedStyle(e)),t.position==="fixed"}function A1(e,t){t===void 0&&(t=Zt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function wc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(th(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ol(i)||W0(i)||n.includes(i))return n;const s=Zt(e).getComputedStyle(i);return i!==e&&A1(i,s)&&n.push(i),O1(i,s)?n:a(i.parentNode)}return e?a(e):n}function lb(e){const[t]=wc(e,1);return t??null}function ju(e){return!pc||!e?null:Gs(e)?e:eh(e)?th(e)||e===Ks(e).scrollingElement?window:ol(e)?e:null:null}function ob(e){return Gs(e)?e.scrollX:e.scrollLeft}function cb(e){return Gs(e)?e.scrollY:e.scrollTop}function qd(e){return{x:ob(e),y:cb(e)}}var Ct;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ct||(Ct={}));function ub(e){return!pc||!e?!1:e===document.scrollingElement}function db(e){const t={x:0,y:0},n=ub(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const N1={x:.2,y:.2};function C1(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=N1);const{isTop:c,isBottom:f,isLeft:d,isRight:h}=db(e),m={x:0,y:0},p={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+b.height?(m.y=Ct.Backward,p.y=a*Math.abs((t.top+b.height-s)/b.height)):!f&&o>=t.bottom-b.height&&(m.y=Ct.Forward,p.y=a*Math.abs((t.bottom-b.height-o)/b.height)),!h&&l>=t.right-b.width?(m.x=Ct.Forward,p.x=a*Math.abs((t.right-b.width-l)/b.width)):!d&&r<=t.left+b.width&&(m.x=Ct.Backward,p.x=a*Math.abs((t.left+b.width-r)/b.width)),{direction:m,speed:p}}function D1(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function fb(e){return e.reduce((t,n)=>ps(t,qd(n)),In)}function R1(e){return e.reduce((t,n)=>t+ob(n),0)}function M1(e){return e.reduce((t,n)=>t+cb(n),0)}function hb(e,t){if(t===void 0&&(t=Xs),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);lb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const k1=[["x",["left","right"],R1],["y",["top","bottom"],M1]];class nh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=wc(n),i=fb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of k1)for(const o of r)Object.defineProperty(this,o,{get:()=>{const c=l(a),f=i[s]-c;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Or{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function U1(e){const{EventTarget:t}=Zt(e);return e instanceof t?e:Ks(e)}function Ou(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var jn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jn||(jn={}));function Cg(e){e.preventDefault()}function z1(e){e.stopPropagation()}var Re;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Re||(Re={}));const mb={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},L1=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Re.Right:return{...n,x:n.x+25};case Re.Left:return{...n,x:n.x-25};case Re.Down:return{...n,y:n.y+25};case Re.Up:return{...n,y:n.y-25}}};class ah{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Or(Ks(n)),this.windowListeners=new Or(Zt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&hb(a),n(In)}handleKeyDown(t){if(_c(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=mb,coordinateGetter:r=L1,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:c}=a.current,f=c?{x:c.left,y:c.top}:In;this.referenceCoordinates||(this.referenceCoordinates=f);const d=r(t,{active:n,context:a.current,currentCoordinates:f});if(d){const h=Qr(d,f),m={x:0,y:0},{scrollableAncestors:p}=a.current;for(const b of p){const S=t.code,{isTop:y,isRight:g,isLeft:v,isBottom:w,maxScroll:x,minScroll:T}=db(b),E=D1(b),j={x:Math.min(S===Re.Right?E.right-E.width/2:E.right,Math.max(S===Re.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(S===Re.Down?E.bottom-E.height/2:E.bottom,Math.max(S===Re.Down?E.top:E.top+E.height/2,d.y))},A=S===Re.Right&&!g||S===Re.Left&&!v,k=S===Re.Down&&!w||S===Re.Up&&!y;if(A&&j.x!==d.x){const W=b.scrollLeft+h.x,ge=S===Re.Right&&W<=x.x||S===Re.Left&&W>=T.x;if(ge&&!h.y){b.scrollTo({left:W,behavior:l});return}ge?m.x=b.scrollLeft-W:m.x=S===Re.Right?b.scrollLeft-x.x:b.scrollLeft-T.x,m.x&&b.scrollBy({left:-m.x,behavior:l});break}else if(k&&j.y!==d.y){const W=b.scrollTop+h.y,ge=S===Re.Down&&W<=x.y||S===Re.Up&&W>=T.y;if(ge&&!h.x){b.scrollTo({top:W,behavior:l});return}ge?m.y=b.scrollTop-W:m.y=S===Re.Down?b.scrollTop-x.y:b.scrollTop-T.y,m.y&&b.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,ps(Qr(d,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ah.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=mb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Dg(e){return!!(e&&"distance"in e)}function Rg(e){return!!(e&&"delay"in e)}class ih{constructor(t,n,a){var i;a===void 0&&(a=U1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=Ks(r),this.documentListeners=new Or(this.document),this.listeners=new Or(a),this.windowListeners=new Or(Zt(r)),this.initialCoordinates=(i=Ko(s))!=null?i:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.DragStart,Cg),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),this.windowListeners.add(jn.ContextMenu,Cg),this.documentListeners.add(jn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Dg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(jn.Click,z1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=Ko(t))!=null?n:In,c=Qr(i,o);if(!a&&l){if(Dg(l)){if(l.tolerance!=null&&Ou(c,l.tolerance))return this.handleCancel();if(Ou(c,l.distance))return this.handleStart()}if(Rg(l)&&Ou(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const B1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sh extends ih{constructor(t){const{event:n}=t,a=Ks(n.target);super(t,B1,a)}}sh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const H1={move:{name:"mousemove"},end:{name:"mouseup"}};var $d;(function(e){e[e.RightClick=2]="RightClick"})($d||($d={}));class q1 extends ih{constructor(t){super(t,H1,Ks(t.event.target))}}q1.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===$d.RightClick?!1:(a==null||a({event:n}),!0)}}];const Au={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class gb extends ih{constructor(t){super(t,Au)}static setup(){return window.addEventListener(Au.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Au.move.name,t)};function t(){}}}gb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Ar;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ar||(Ar={}));var Qo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qo||(Qo={}));function $1(e){let{acceleration:t,activator:n=Ar.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=Qo.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:f,delta:d,threshold:h}=e;const m=I1({delta:d,disabled:!s}),[p,b]=t1(),S=_.useRef({x:0,y:0}),y=_.useRef({x:0,y:0}),g=_.useMemo(()=>{switch(n){case Ar.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Ar.DraggableRect:return i}},[n,i,o]),v=_.useRef(null),w=_.useCallback(()=>{const T=v.current;if(!T)return;const E=S.current.x*y.current.x,j=S.current.y*y.current.y;T.scrollBy(E,j)},[]),x=_.useMemo(()=>l===Qo.TreeOrder?[...c].reverse():c,[l,c]);_.useEffect(()=>{if(!s||!c.length||!g){b();return}for(const T of x){if((a==null?void 0:a(T))===!1)continue;const E=c.indexOf(T),j=f[E];if(!j)continue;const{direction:A,speed:k}=C1(T,j,g,t,h);for(const W of["x","y"])m[W][A[W]]||(k[W]=0,A[W]=0);if(k.x>0||k.y>0){b(),v.current=T,p(w,r),S.current=k,y.current=A;return}}S.current={x:0,y:0},y.current={x:0,y:0},b()},[t,w,a,b,s,r,JSON.stringify(g),JSON.stringify(m),p,c,x,f,JSON.stringify(h)])}const V1={x:{[Ct.Backward]:!1,[Ct.Forward]:!1},y:{[Ct.Backward]:!1,[Ct.Forward]:!1}};function I1(e){let{delta:t,disabled:n}=e;const a=Go(t);return cl(i=>{if(n||!a||!i)return V1;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ct.Backward]:i.x[Ct.Backward]||s.x===-1,[Ct.Forward]:i.x[Ct.Forward]||s.x===1},y:{[Ct.Backward]:i.y[Ct.Backward]||s.y===-1,[Ct.Forward]:i.y[Ct.Forward]||s.y===1}}},[n,t,a])}function Y1(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return cl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function G1(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Rs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Rs||(Rs={}));var Vd;(function(e){e.Optimized="optimized"})(Vd||(Vd={}));const Mg=new Map;function K1(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=_.useState(null),{frequency:l,measure:o,strategy:c}=i,f=_.useRef(e),d=S(),h=Xr(d),m=_.useCallback(function(y){y===void 0&&(y=[]),!h.current&&r(g=>g===null?y:g.concat(y.filter(v=>!g.includes(v))))},[h]),p=_.useRef(null),b=cl(y=>{if(d&&!n)return Mg;if(!y||y===Mg||f.current!==e||s!=null){const g=new Map;for(let v of e){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){g.set(v.id,v.rect.current);continue}const w=v.node.current,x=w?new nh(o(w),w):null;v.rect.current=x,x&&g.set(v.id,x)}return g}return y},[e,s,n,d,o]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{d||m()},[n,d]),_.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),_.useEffect(()=>{d||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,d,m,...a]),{droppableRects:b,measureDroppableContainers:m,measuringScheduled:s!=null};function S(){switch(c){case Rs.Always:return!1;case Rs.BeforeDragging:return n;default:return!n}}}function rh(e,t){return cl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function X1(e,t){return rh(e,t)}function Q1(e){let{callback:t,disabled:n}=e;const a=bc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Sc(e){let{callback:t,disabled:n}=e;const a=bc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function J1(e){return new nh(Xs(e),e)}function kg(e,t,n){t===void 0&&(t=J1);const[a,i]=_.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=o??n)!=null?c:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const r=Q1({callback(o){if(e)for(const c of o){const{type:f,target:d}=c;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Sc({callback:s});return Vn(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Z1(e){const t=rh(e);return sb(e,t)}const Ug=[];function P1(e){const t=_.useRef(e),n=cl(a=>e?a&&a!==Ug&&e&&t.current&&e.parentNode===t.current.parentNode?a:wc(e):Ug,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function F1(e){const[t,n]=_.useState(null),a=_.useRef(e),i=_.useCallback(s=>{const r=ju(s.target);r&&n(l=>l?(l.set(r,qd(r)),new Map(l)):null)},[]);return _.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const c=ju(o);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,qd(c)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const c=ju(o);c==null||c.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>ps(s,r),In):fb(e):In,[e,t])}function zg(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==In;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Qr(e,n.current):In}function W1(e){_.useEffect(()=>{if(!pc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ej(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function vb(e){return _.useMemo(()=>e?j1(e):null,[e])}const Lg=[];function tj(e,t){t===void 0&&(t=Xs);const[n]=e,a=vb(n?Zt(n):null),[i,s]=_.useState(Lg);function r(){s(()=>e.length?e.map(o=>ub(o)?a:new nh(t(o),o)):Lg)}const l=Sc({callback:r});return Vn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function yb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ol(t)?t:e}function nj(e){let{measure:t}=e;const[n,a]=_.useState(null),i=_.useCallback(c=>{for(const{target:f}of c)if(ol(f)){a(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),s=Sc({callback:i}),r=_.useCallback(c=>{const f=yb(c);s==null||s.disconnect(),f&&(s==null||s.observe(f)),a(f?t(f):null)},[t,s]),[l,o]=Yo(r);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const aj=[{sensor:sh,options:{}},{sensor:ah,options:{}}],ij={current:{}},oo={draggable:{measure:Ng},droppable:{measure:Ng,strategy:Rs.WhileDragging,frequency:Vd.Optimized},dragOverlay:{measure:Xs}};class Nr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const sj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:oo,measureDroppableContainers:Xo,windowRect:null,measuringScheduled:!1},pb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xo,draggableNodes:new Map,over:null,measureDroppableContainers:Xo},dl=_.createContext(pb),bb=_.createContext(sj);function rj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nr}}}function lj(e,t){switch(t.type){case wt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case wt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case wt.DragEnd:case wt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Nr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case wt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Nr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case wt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Nr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function oj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=_.useContext(dl),s=Go(a),r=Go(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!_c(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:c}=l;if(!o.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[o.current,c.current]){if(!f)continue;const d=i1(f);if(d){d.focus();break}}})}},[a,t,i,r,s]),null}function _b(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function cj(e){return _.useMemo(()=>({draggable:{...oo.draggable,...e==null?void 0:e.draggable},droppable:{...oo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...oo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function uj(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=_.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Vn(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const f=n(c),d=sb(f,a);if(r||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=lb(c);h&&h.scrollBy({top:d.y,left:d.x})}},[t,r,l,a,n])}const xc=_.createContext({...In,scaleX:1,scaleY:1});var ja;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ja||(ja={}));const dj=_.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:c,sensors:f=aj,collisionDetection:d=_1,measuring:h,modifiers:m,...p}=t;const b=_.useReducer(lj,void 0,rj),[S,y]=b,[g,v]=u1(),[w,x]=_.useState(ja.Uninitialized),T=w===ja.Initialized,{draggable:{active:E,nodes:j,translate:A},droppable:{containers:k}}=S,W=E!=null?j.get(E):null,ge=_.useRef({initial:null,translated:null}),_e=_.useMemo(()=>{var it;return E!=null?{id:E,data:(it=W==null?void 0:W.data)!=null?it:ij,rect:ge}:null},[E,W]),we=_.useRef(null),[K,D]=_.useState(null),[L,Y]=_.useState(null),de=Xr(p,Object.values(p)),X=ul("DndDescribedBy",r),nt=_.useMemo(()=>k.getEnabled(),[k]),Oe=cj(h),{droppableRects:Ye,measureDroppableContainers:B,measuringScheduled:ae}=K1(nt,{dragging:T,dependencies:[A.x,A.y],config:Oe.droppable}),ce=Y1(j,E),ve=_.useMemo(()=>L?Ko(L):null,[L]),ke=_a(),Se=X1(ce,Oe.draggable.measure);uj({activeNode:E!=null?j.get(E):null,config:ke.layoutShiftCompensation,initialRect:Se,measure:Oe.draggable.measure});const Q=kg(ce,Oe.draggable.measure,Se),Le=kg(ce?ce.parentElement:null),Ge=_.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:Ye,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Et=k.getNodeFor((n=Ge.current.over)==null?void 0:n.id),Ke=nj({measure:Oe.dragOverlay.measure}),Tt=(a=Ke.nodeRef.current)!=null?a:ce,jt=T?(i=Ke.rect)!=null?i:Q:null,P=!!(Ke.nodeRef.current&&Ke.rect),ie=Z1(P?null:Q),pe=vb(Tt?Zt(Tt):null),Ae=P1(T?Et??ce:null),Ot=tj(Ae),R=_b(m,{transform:{x:A.x-ie.x,y:A.y-ie.y,scaleX:1,scaleY:1},activatorEvent:L,active:_e,activeNodeRect:Q,containerNodeRect:Le,draggingNodeRect:jt,over:Ge.current.over,overlayNodeRect:Ke.rect,scrollableAncestors:Ae,scrollableAncestorRects:Ot,windowRect:pe}),H=ve?ps(ve,A):null,N=F1(Ae),q=zg(N),I=zg(N,[Q]),$=ps(R,q),V=jt?x1(jt,R):null,U=_e&&V?d({active:_e,collisionRect:V,droppableRects:Ye,droppableContainers:nt,pointerCoordinates:H}):null,te=ib(U,"id"),[J,be]=_.useState(null),G=P?R:ps(R,I),re=w1(G,(s=J==null?void 0:J.rect)!=null?s:null,Q),ye=_.useRef(null),at=_.useCallback((it,Mt)=>{let{sensor:kt,options:_n}=Mt;if(we.current==null)return;const $t=j.get(we.current);if(!$t)return;const lt=it.nativeEvent,Ut=new kt({active:we.current,activeNode:$t,event:lt,options:_n,context:Ge,onAbort(ut){if(!j.get(ut))return;const{onDragAbort:At}=de.current,Vt={id:ut};At==null||At(Vt),g({type:"onDragAbort",event:Vt})},onPending(ut,wn,At,Vt){if(!j.get(ut))return;const{onDragPending:xn}=de.current,En={id:ut,constraint:wn,initialCoordinates:At,offset:Vt};xn==null||xn(En),g({type:"onDragPending",event:En})},onStart(ut){const wn=we.current;if(wn==null)return;const At=j.get(wn);if(!At)return;const{onDragStart:Vt}=de.current,Sn={activatorEvent:lt,active:{id:wn,data:At.data,rect:ge}};gi.unstable_batchedUpdates(()=>{Vt==null||Vt(Sn),x(ja.Initializing),y({type:wt.DragStart,initialCoordinates:ut,active:wn}),g({type:"onDragStart",event:Sn}),D(ye.current),Y(lt)})},onMove(ut){y({type:wt.DragMove,coordinates:ut})},onEnd:Kn(wt.DragEnd),onCancel:Kn(wt.DragCancel)});ye.current=Ut;function Kn(ut){return async function(){const{active:At,collisions:Vt,over:Sn,scrollAdjustedTranslate:xn}=Ge.current;let En=null;if(At&&xn){const{cancelDrop:ai}=de.current;En={activatorEvent:lt,active:At,collisions:Vt,delta:xn,over:Sn},ut===wt.DragEnd&&typeof ai=="function"&&await Promise.resolve(ai(En))&&(ut=wt.DragCancel)}we.current=null,gi.unstable_batchedUpdates(()=>{y({type:ut}),x(ja.Uninitialized),be(null),D(null),Y(null),ye.current=null;const ai=ut===wt.DragEnd?"onDragEnd":"onDragCancel";if(En){const Qs=de.current[ai];Qs==null||Qs(En),g({type:ai,event:En})}})}}},[j]),Yt=_.useCallback((it,Mt)=>(kt,_n)=>{const $t=kt.nativeEvent,lt=j.get(_n);if(we.current!==null||!lt||$t.dndKit||$t.defaultPrevented)return;const Ut={active:lt};it(kt,Mt.options,Ut)===!0&&($t.dndKit={capturedBy:Mt.sensor},we.current=_n,at(kt,Mt))},[j,at]),Pt=G1(f,Yt);W1(f),Vn(()=>{Q&&w===ja.Initializing&&x(ja.Initialized)},[Q,w]),_.useEffect(()=>{const{onDragMove:it}=de.current,{active:Mt,activatorEvent:kt,collisions:_n,over:$t}=Ge.current;if(!Mt||!kt)return;const lt={active:Mt,activatorEvent:kt,collisions:_n,delta:{x:$.x,y:$.y},over:$t};gi.unstable_batchedUpdates(()=>{it==null||it(lt),g({type:"onDragMove",event:lt})})},[$.x,$.y]),_.useEffect(()=>{const{active:it,activatorEvent:Mt,collisions:kt,droppableContainers:_n,scrollAdjustedTranslate:$t}=Ge.current;if(!it||we.current==null||!Mt||!$t)return;const{onDragOver:lt}=de.current,Ut=_n.get(te),Kn=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,ut={active:it,activatorEvent:Mt,collisions:kt,delta:{x:$t.x,y:$t.y},over:Kn};gi.unstable_batchedUpdates(()=>{be(Kn),lt==null||lt(ut),g({type:"onDragOver",event:ut})})},[te]),Vn(()=>{Ge.current={activatorEvent:L,active:_e,activeNode:ce,collisionRect:V,collisions:U,droppableRects:Ye,draggableNodes:j,draggingNode:Tt,draggingNodeRect:jt,droppableContainers:k,over:J,scrollableAncestors:Ae,scrollAdjustedTranslate:$},ge.current={initial:jt,translated:V}},[_e,ce,U,V,j,Tt,jt,Ye,k,J,Ae,$]),$1({...ke,delta:A,draggingRect:V,pointerCoordinates:H,scrollableAncestors:Ae,scrollableAncestorRects:Ot});const Gn=_.useMemo(()=>({active:_e,activeNode:ce,activeNodeRect:Q,activatorEvent:L,collisions:U,containerNodeRect:Le,dragOverlay:Ke,draggableNodes:j,droppableContainers:k,droppableRects:Ye,over:J,measureDroppableContainers:B,scrollableAncestors:Ae,scrollableAncestorRects:Ot,measuringConfiguration:Oe,measuringScheduled:ae,windowRect:pe}),[_e,ce,Q,L,U,Le,Ke,j,k,Ye,J,B,Ae,Ot,Oe,ae,pe]),Mi=_.useMemo(()=>({activatorEvent:L,activators:Pt,active:_e,activeNodeRect:Q,ariaDescribedById:{draggable:X},dispatch:y,draggableNodes:j,over:J,measureDroppableContainers:B}),[L,Pt,_e,Q,y,X,j,J,B]);return rt.createElement(tb.Provider,{value:v},rt.createElement(dl.Provider,{value:Mi},rt.createElement(bb.Provider,{value:Gn},rt.createElement(xc.Provider,{value:re},c)),rt.createElement(oj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),rt.createElement(h1,{...l,hiddenTextDescribedById:X}));function _a(){const it=(K==null?void 0:K.autoScrollEnabled)===!1,Mt=typeof o=="object"?o.enabled===!1:o===!1,kt=T&&!it&&!Mt;return typeof o=="object"?{...o,enabled:kt}:{enabled:kt}}}),fj=_.createContext(null),Bg="button",hj="Draggable";function mj(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=ul(hj),{activators:r,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:f,draggableNodes:d,over:h}=_.useContext(dl),{role:m=Bg,roleDescription:p="draggable",tabIndex:b=0}=i??{},S=(o==null?void 0:o.id)===t,y=_.useContext(S?xc:fj),[g,v]=Yo(),[w,x]=Yo(),T=ej(r,t),E=Xr(n);Vn(()=>(d.set(t,{id:t,key:s,node:g,activatorNode:w,data:E}),()=>{const A=d.get(t);A&&A.key===s&&d.delete(t)}),[d,t]);const j=_.useMemo(()=>({role:m,tabIndex:b,"aria-disabled":a,"aria-pressed":S&&m===Bg?!0:void 0,"aria-roledescription":p,"aria-describedby":f.draggable}),[a,m,b,S,p,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:c,attributes:j,isDragging:S,listeners:a?void 0:T,node:g,over:h,setNodeRef:v,setActivatorNodeRef:x,transform:y}}function wb(){return _.useContext(bb)}const gj="Droppable",vj={timeout:25};function Sb(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=ul(gj),{active:r,dispatch:l,over:o,measureDroppableContainers:c}=_.useContext(dl),f=_.useRef({disabled:n}),d=_.useRef(!1),h=_.useRef(null),m=_.useRef(null),{disabled:p,updateMeasurementsFor:b,timeout:S}={...vj,...i},y=Xr(b??a),g=_.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),m.current=null},S)},[S]),v=Sc({callback:g,disabled:p||!r}),w=_.useCallback((j,A)=>{v&&(A&&(v.unobserve(A),d.current=!1),j&&v.observe(j))},[v]),[x,T]=Yo(w),E=Xr(t);return _.useEffect(()=>{!v||!x.current||(v.disconnect(),d.current=!1,v.observe(x.current))},[x,v]),_.useEffect(()=>(l({type:wt.RegisterDroppable,element:{id:a,key:s,disabled:n,node:x,rect:h,data:E}}),()=>l({type:wt.UnregisterDroppable,key:s,id:a})),[a]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:wt.SetDroppableDisabled,id:a,key:s,disabled:n}),f.current.disabled=n)},[a,s,n,l]),{active:r,rect:h,isOver:(o==null?void 0:o.id)===a,node:x,over:o,setNodeRef:T}}function yj(e){let{animation:t,children:n}=e;const[a,i]=_.useState(null),[s,r]=_.useState(null),l=Go(n);return!n&&!a&&l&&i(l),Vn(()=>{if(!s)return;const o=a==null?void 0:a.key,c=a==null?void 0:a.props.id;if(o==null||c==null){i(null);return}Promise.resolve(t(c,s)).then(()=>{i(null)})},[t,a,s]),rt.createElement(rt.Fragment,null,n,a?_.cloneElement(a,{ref:r}):null)}const pj={x:0,y:0,scaleX:1,scaleY:1};function bj(e){let{children:t}=e;return rt.createElement(dl.Provider,{value:pb},rt.createElement(xc.Provider,{value:pj},t))}const _j={position:"fixed",touchAction:"none"},wj=e=>_c(e)?"transform 250ms ease":void 0,Sj=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:c,transition:f=wj}=e;if(!l)return null;const d=i?c:{...c,scaleX:1,scaleY:1},h={..._j,width:l.width,height:l.height,top:l.top,left:l.left,transform:Wa.Transform.toString(d),transformOrigin:i&&a?g1(a,l):void 0,transition:typeof f=="function"?f(a):f,...o};return rt.createElement(n,{className:r,style:h,ref:t},s)}),xj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,c]of Object.entries(i))n.node.style.setProperty(o,c);r!=null&&r.active&&n.node.classList.remove(r.active)}},Ej=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Wa.Transform.toString(t)},{transform:Wa.Transform.toString(n)}]},Tj={duration:250,easing:"ease",keyframes:Ej,sideEffects:xj({styles:{active:{opacity:"0"}}})};function jj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return bc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const c=yb(r);if(!c)return;const{transform:f}=Zt(r).getComputedStyle(r),d=rb(f);if(!d)return;const h=typeof t=="function"?t:Oj(t);return hb(o,i.draggable.measure),h({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(c)},droppableContainers:a,measuringConfiguration:i,transform:d})})}function Oj(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...Tj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...c}=s;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},d={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},h={x:o.x-f.x,y:o.y-f.y,...d},m=i({...c,active:r,dragOverlay:l,transform:{initial:o,final:h}}),[p]=m,b=m[m.length-1];if(JSON.stringify(p)===JSON.stringify(b))return;const S=a==null?void 0:a({active:r,dragOverlay:l,...c}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{S==null||S(),g()}})}}let Hg=0;function Aj(e){return _.useMemo(()=>{if(e!=null)return Hg++,Hg},[e])}const Nj=rt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:c=999}=e;const{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:b,dragOverlay:S,over:y,measuringConfiguration:g,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:x}=wb(),T=_.useContext(xc),E=Aj(d==null?void 0:d.id),j=_b(r,{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:S.rect,over:y,overlayNodeRect:S.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:T,windowRect:x}),A=rh(h),k=jj({config:a,draggableNodes:p,droppableContainers:b,measuringConfiguration:g}),W=A?S.setRef:void 0;return rt.createElement(bj,null,rt.createElement(yj,{animation:k},d&&E?rt.createElement(Sj,{key:E,id:d.id,ref:W,as:l,activatorEvent:f,adjustScale:t,className:o,transition:s,rect:A,style:{zIndex:c,...i},transform:j},n):null))});function Ha(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function Cj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function Gl(e){return e!==null&&e>=0}function Dj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Rj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const xb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=Ha(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},Kl={scaleX:1,scaleY:1},nr=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const c=s[r];return c?{x:0,y:n<r?c.top+c.height-(l.top+l.height):c.top-l.top,...Kl}:null}const o=Mj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...Kl}:i<n&&i>=r?{x:0,y:l.height+o,...Kl}:{x:0,y:0,...Kl}};function Mj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Eb="Sortable",Tb=rt.createContext({activeIndex:-1,containerId:Eb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xb,disabled:{draggable:!1,droppable:!1}});function ar(e){let{children:t,id:n,items:a,strategy:i=xb,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:f}=wb(),d=ul(Eb,n),h=l.rect!==null,m=_.useMemo(()=>a.map(T=>typeof T=="object"&&"id"in T?T.id:T),[a]),p=r!=null,b=r?m.indexOf(r.id):-1,S=c?m.indexOf(c.id):-1,y=_.useRef(m),g=!Dj(m,y.current),v=S!==-1&&b===-1||g,w=Rj(s);Vn(()=>{g&&p&&f(m)},[g,m,p,f]),_.useEffect(()=>{y.current=m},[m]);const x=_.useMemo(()=>({activeIndex:b,containerId:d,disabled:w,disableTransforms:v,items:m,overIndex:S,useDragOverlay:h,sortedRects:Cj(m,o),strategy:i}),[b,d,w.draggable,w.droppable,v,m,S,o,h,i]);return rt.createElement(Tb.Provider,{value:x},t)}const kj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return Ha(n,a,i).indexOf(t)},Uj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:c}=e;return!c||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},zj={duration:200,easing:"ease"},jb="transform",Lj=Wa.Transition.toString({property:jb,duration:0,easing:"linear"}),Bj={roleDescription:"sortable"};function Hj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=_.useState(null),l=_.useRef(n);return Vn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const c=Xs(a.current,{ignoreTransform:!0}),f={x:o.left-c.left,y:o.top-c.top,scaleX:o.width/c.width,scaleY:o.height/c.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,i]),_.useEffect(()=>{s&&r(null)},[s]),s}function Ob(e){let{animateLayoutChanges:t=Uj,attributes:n,disabled:a,data:i,getNewIndex:s=kj,id:r,strategy:l,resizeObserverConfig:o,transition:c=zj}=e;const{items:f,containerId:d,activeIndex:h,disabled:m,disableTransforms:p,sortedRects:b,overIndex:S,useDragOverlay:y,strategy:g}=_.useContext(Tb),v=qj(a,m),w=f.indexOf(r),x=_.useMemo(()=>({sortable:{containerId:d,index:w,items:f},...i}),[d,i,w,f]),T=_.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:E,node:j,isOver:A,setNodeRef:k}=Sb({id:r,data:x,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...o}}),{active:W,activatorEvent:ge,activeNodeRect:_e,attributes:we,setNodeRef:K,listeners:D,isDragging:L,over:Y,setActivatorNodeRef:de,transform:X}=mj({id:r,data:x,attributes:{...Bj,...n},disabled:v.draggable}),nt=e1(k,K),Oe=!!W,Ye=Oe&&!p&&Gl(h)&&Gl(S),B=!y&&L,ae=B&&Ye?X:null,ve=Ye?ae??(l??g)({rects:b,activeNodeRect:_e,activeIndex:h,overIndex:S,index:w}):null,ke=Gl(h)&&Gl(S)?s({id:r,items:f,activeIndex:h,overIndex:S}):w,Se=W==null?void 0:W.id,Q=_.useRef({activeId:Se,items:f,newIndex:ke,containerId:d}),Le=f!==Q.current.items,Ge=t({active:W,containerId:d,isDragging:L,isSorting:Oe,id:r,index:w,items:f,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:c,wasDragging:Q.current.activeId!=null}),Et=Hj({disabled:!Ge,index:w,node:j,rect:E});return _.useEffect(()=>{Oe&&Q.current.newIndex!==ke&&(Q.current.newIndex=ke),d!==Q.current.containerId&&(Q.current.containerId=d),f!==Q.current.items&&(Q.current.items=f)},[Oe,ke,d,f]),_.useEffect(()=>{if(Se===Q.current.activeId)return;if(Se!=null&&Q.current.activeId==null){Q.current.activeId=Se;return}const Tt=setTimeout(()=>{Q.current.activeId=Se},50);return()=>clearTimeout(Tt)},[Se]),{active:W,activeIndex:h,attributes:we,data:x,rect:E,index:w,newIndex:ke,items:f,isOver:A,isSorting:Oe,isDragging:L,listeners:D,node:j,overIndex:S,over:Y,setNodeRef:nt,setActivatorNodeRef:de,setDroppableNodeRef:k,setDraggableNodeRef:K,transform:Et??ve,transition:Ke()};function Ke(){if(Et||Le&&Q.current.newIndex===w)return Lj;if(!(B&&!_c(ge)||!c)&&(Oe||Ge))return Wa.Transition.toString({...c,property:jb})}}function qj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Jo(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const $j=[Re.Down,Re.Right,Re.Up,Re.Left],Vj=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if($j.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=i.get(d.id);if(h)switch(e.code){case Re.Down:a.top<h.top&&o.push(d);break;case Re.Up:a.top>h.top&&o.push(d);break;case Re.Left:a.left>h.left&&o.push(d);break;case Re.Right:a.left<h.left&&o.push(d);break}});const c=p1({collisionRect:a,droppableRects:i,droppableContainers:o});let f=ib(c,"id");if(f===(r==null?void 0:r.id)&&c.length>1&&(f=c[1].id),f!=null){const d=s.get(n.id),h=s.get(f),m=h?i.get(h.id):null,p=h==null?void 0:h.node.current;if(p&&m&&d&&h){const S=wc(p).some((T,E)=>l[E]!==T),y=Ab(d,h),g=Ij(d,h),v=S||!y?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return v.x&&v.y?w:Qr(w,v)}}}};function Ab(e,t){return!Jo(e)||!Jo(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ij(e,t){return!Jo(e)||!Jo(t)||!Ab(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ce=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},fi=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},Gi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},Yj=e=>{const t=new Date;return Ce(e)===Ce(t)},Gj=()=>{const[e,t]=_.useState(null),[n,a]=_.useState(!0);return _.useEffect(()=>{He.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=He.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await He.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await He.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function Kj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenRoutine:s,onOpenGanttChart:r,onOpenEncouragementModal:l,onOpenAddSection:o,onOpenHiddenSections:c,onLogout:f}){var d,h;return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),u.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsx("h2",{children:""}),u.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&u.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((d=n.user.user_metadata)==null?void 0:d.avatar_url)&&u.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((h=n.user.user_metadata)==null?void 0:h.full_name)||n.user.email}),u.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),u.jsxs("div",{className:"sidebar-content",children:[u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const m=a==="vertical"?"horizontal":"vertical";i(m),localStorage.setItem("viewMode",m),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),u.jsx("span",{children:a==="vertical"?" ":" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{c(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&f()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:""})]})]})]})]})}function Xj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return u.jsxs("div",{className:"date-nav-section",children:[u.jsxs("div",{className:"date-display-wrapper",children:[u.jsx("span",{className:"date-display",children:fi(e)}),u.jsx("input",{type:"date",value:Ce(e),onChange:t,className:"date-picker-input"})]}),u.jsx("button",{onClick:n,className:"date-nav-button",children:""}),u.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Qj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:c,onQuickAdd:f,onOpenMemo:d}){const[h,m]=_.useState(""),[p,b]=_.useState(!1),S=async y=>{if(y.key==="Enter"&&!y.shiftKey&&h.trim()){y.preventDefault(),b(!0);try{await f(h.trim()),m("")}catch(g){console.error("Quick add error:",g)}finally{b(!1)}}};return u.jsx("div",{className:"header-fixed",children:u.jsxs("div",{className:"settings-bar",children:[u.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),u.jsx(Xj,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),u.jsx("div",{className:"encouragement-section",children:Yj(n)?u.jsx("div",{className:"encouragement-message",onClick:c,title:"    !",children:l?u.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):u.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),u.jsx("div",{className:"quick-input-wrapper",children:u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),onKeyDown:S,placeholder:" Quick   (Enter )",className:"quick-input",disabled:p})}),u.jsx("button",{className:"header-memo-button",onClick:d,title:" ",children:"  "})]})})}function Jj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n,visibleSectionCount:a=3}){return e!=="horizontal"?null:u.jsx("div",{className:"section-pagination-dots",onTouchStart:i=>{const s=i.touches[0];i.currentTarget.dataset.touchStartX=s.clientX,i.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:i=>{i.currentTarget.dataset.touchMoved="true"},onTouchEnd:i=>{const s=parseFloat(i.currentTarget.dataset.touchStartX||"0"),r=parseInt(i.currentTarget.dataset.touchStartTime||"0"),l=i.currentTarget.dataset.touchMoved==="true",o=i.changedTouches[0].clientX,c=Date.now()-r;if(delete i.currentTarget.dataset.touchStartX,delete i.currentTarget.dataset.touchStartTime,delete i.currentTarget.dataset.touchMoved,l&&c<500){const f=s-o,d=n.current;if(!d)return;const h=d.querySelectorAll(".section-block");Math.abs(f)>50&&(f>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):f<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:Array.from({length:a},(i,s)=>u.jsx("button",{className:`pagination-dot ${t===s?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll(".section-block");l[s]&&l[s].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},s))})}function Nb({title:e,editable:t=!1,onTitleChange:n,showHideButton:a=!1,onHide:i,showDeleteButton:s=!1,onDelete:r,customActions:l,settingsMenuItems:o=[]}){var g,v;const[c,f]=_.useState(!1),[d,h]=_.useState(e),[m,p]=_.useState(!1),b=_.useRef(null),S=()=>{d.trim()&&d!==e&&(n==null||n(d.trim())),f(!1)},y=()=>{h(e),f(!1)};return _.useEffect(()=>{const w=x=>{if(m&&b.current&&!b.current.contains(x.target)){const T=document.querySelector(".section-settings-dropdown");T&&!T.contains(x.target)&&p(!1)}};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[m]),u.jsxs("div",{className:"section-header",children:[u.jsx("div",{className:"section-title-container",children:c?u.jsx("div",{className:"section-title-edit-wrapper",children:u.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),onBlur:S,onKeyDown:w=>{w.key==="Enter"?S():w.key==="Escape"&&y()},className:"section-title-input",autoFocus:!0})}):u.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&f(!0),children:e})}),u.jsxs("div",{className:"section-actions",children:[l,o.length>0&&u.jsxs("div",{style:{position:"relative"},children:[u.jsx("button",{ref:b,className:"section-action-button settings-button",onClick:()=>p(!m),title:"",children:""}),m&&rv.createPortal(u.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((g=b.current)==null?void 0:g.getBoundingClientRect().bottom)+5}px`,left:`${(v=b.current)==null?void 0:v.getBoundingClientRect().left}px`},children:o.map((w,x)=>u.jsxs("button",{className:"settings-menu-item",onClick:()=>{w.onClick(),p(!1)},children:[u.jsx("span",{children:w.icon}),u.jsx("span",{children:w.label})]},x))}),document.body)]})]})]})}function Nu({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l,editable:o=!1,onTitleChange:c,settingsMenuItems:f=[],headerActions:d}){return u.jsxs("div",{className:t,children:[u.jsx(Nb,{title:e,editable:o,onTitleChange:c,settingsMenuItems:f,customActions:d}),u.jsxs("div",{className:"section-input",children:[u.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),onKeyDown:h=>{h.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),u.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}function Zj({todo:e,index:t,totalCount:n,hour:a,startHour:i,endHour:s,onToggle:r,onRemoveFromTimeline:l,onMoveUpInTimeline:o,onMoveDownInTimeline:c}){const[f,d]=_.useState(!1),{attributes:h,listeners:m,setNodeRef:p,transform:b,transition:S,isDragging:y}=Ob({id:`timeline-todo-${e.id}`,data:{type:"timeline-todo",todo:e}}),g={transform:Wa.Transform.toString(b),transition:S,opacity:y?.5:1},v=!(t===0&&a<=i),w=!(t===n-1&&a>=s);return _.useEffect(()=>{const x=T=>{f&&!T.target.closest(".timeline-todo-handle-wrapper")&&d(!1)};return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[f]),u.jsxs("div",{ref:p,style:g,className:`timeline-scheduled-todo ${y?"dragging":""}`,children:[u.jsxs("div",{className:"timeline-todo-handle-wrapper",children:[u.jsx("span",{className:"timeline-todo-handle",...h,...m,onClick:x=>{x.stopPropagation(),d(!f)},title:":   /  : "}),f&&u.jsxs("div",{className:"timeline-move-menu",children:[v&&u.jsxs("button",{className:"timeline-move-menu-item move-to-top",onClick:x=>{x.stopPropagation(),o(e.id),d(!1)},children:[u.jsx("span",{children:""})," "]}),w&&u.jsxs("button",{className:"timeline-move-menu-item move-to-bottom",onClick:x=>{x.stopPropagation(),c(e.id),d(!1)},children:[u.jsx("span",{children:""})," "]}),u.jsxs("button",{className:"timeline-move-menu-item remove",onClick:x=>{x.stopPropagation(),l(e.id),d(!1)},children:[u.jsx("span",{children:""})," "]})]})]}),u.jsxs("label",{className:"timeline-todo-checkbox",children:[u.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>r(e.id)}),u.jsx("span",{className:"timeline-checkbox-custom"})]}),u.jsx("span",{className:`timeline-todo-text ${e.completed?"completed":""}`,children:e.text})]})}function Pj({hour:e,startHour:t,endHour:n,scheduledTodos:a,onToggle:i,onRemoveFromTimeline:s,onMoveUpInTimeline:r,onMoveDownInTimeline:l}){const{isOver:o,setNodeRef:c}=Sb({id:`timeline-${e}`,data:{type:"timeline",hour:e}}),f=a.filter(d=>d.scheduled_time?parseInt(d.scheduled_time.split(":")[0],10)===e:!1).sort((d,h)=>{const m=parseInt(d.scheduled_time.split(":")[1],10),p=parseInt(h.scheduled_time.split(":")[1],10);return m-p});return u.jsxs("div",{ref:c,className:`timeline-hour-slot ${o?"timeline-drop-active":""}`,children:[u.jsx("div",{className:"timeline-hour-label",children:e===24?"00:00":`${e.toString().padStart(2,"0")}:00`}),u.jsx("div",{className:"timeline-hour-content",children:f.map((d,h)=>u.jsx(Zj,{todo:d,index:h,totalCount:f.length,hour:e,startHour:t,endHour:n,onToggle:i,onRemoveFromTimeline:s,onMoveUpInTimeline:r,onMoveDownInTimeline:l},d.id))})]})}function Fj({startHour:e=6,endHour:t=24,scheduledTodos:n=[],onToggle:a,onRemoveFromTimeline:i,onMoveUpInTimeline:s,onMoveDownInTimeline:r}){const[l,o]=_.useState(new Date),c=_.useRef(null),f=_.useRef(null);_.useEffect(()=>{const b=setInterval(()=>{o(new Date)},6e4);return()=>clearInterval(b)},[]),_.useEffect(()=>{if(f.current&&c.current){const b=c.current,S=f.current,y=b.clientHeight,g=S.offsetTop;b.scrollTop=g-y/2}},[]);const d=[];for(let b=e;b<=t;b++)d.push(b);const h=()=>{const b=l.getHours(),S=l.getMinutes(),y=b*60+S,g=e*60,v=t*60,w=v-g;return y<g?0:y>v?100:(y-g)/w*100},m=()=>{const b=l.getHours();return b>=e&&b<=t},p=()=>l.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1});return u.jsx("div",{className:"timeline-view",ref:c,children:u.jsxs("div",{className:"timeline-grid",children:[d.map(b=>u.jsx(Pj,{hour:b,startHour:e,endHour:t,scheduledTodos:n,onToggle:a,onRemoveFromTimeline:i,onMoveUpInTimeline:s,onMoveDownInTimeline:r},b)),m()&&u.jsxs("div",{ref:f,className:"timeline-current-time",style:{top:`${h()}%`},children:[u.jsx("div",{className:"timeline-current-time-dot"}),u.jsx("div",{className:"timeline-current-time-line"}),u.jsx("div",{className:"timeline-current-time-label",children:p()})]})]})})}function Wj({todoId:e,isFirst:t,isLast:n,onMoveUp:a,onMoveDown:i,onMoveToTop:s,onMoveToBottom:r,onDelete:l,onClose:o}){const c=f=>{f(),o()};return u.jsxs("div",{className:"move-menu",children:[!t&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"move-menu-item move-to-top",onClick:f=>{f.stopPropagation(),c(()=>s&&s(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""}),"  "]}),u.jsxs("button",{className:"move-menu-item",onClick:f=>{f.stopPropagation(),c(()=>a&&a(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]})]}),!n&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"move-menu-item",onClick:f=>{f.stopPropagation(),c(()=>i&&i(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]}),u.jsxs("button",{className:"move-menu-item move-to-bottom",onClick:f=>{f.stopPropagation(),c(()=>r&&r(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""}),"  "]})]}),u.jsxs("button",{className:"move-menu-item delete",onClick:f=>{f.stopPropagation(),window.confirm("  ?")&&l(e),o()},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]})]})}const Ec=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Cu={THIS_ONLY:"this-only",FROM_NOW:"from-now",ALL:"all"},eO="09",tO="00";function lh({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),i=_.useRef(e),s=_.useRef(!1),[r,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:eO),[o,c]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:tO);_.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,v]=e.split(":");i.current=e,l(g),c(v)}},[e]),_.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const f=(g,v,w)=>{if(!g.current)return;const x=g.current.scrollTop,E=Math.round(x/40),j=String(E).padStart(2,"0");v(j)},d=(g,v)=>{if(!g.current)return;const w=40,x=parseInt(v,10);g.current.scrollTop=x*w};_.useEffect(()=>{d(n,r)},[]),_.useEffect(()=>{d(a,o)},[]);const h=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),m=Array.from({length:60},(g,v)=>String(v).padStart(2,"0")),p=()=>{const g=(parseInt(r,10)+1)%24,v=String(g).padStart(2,"0");l(v),d(n,v)},b=()=>{const g=(parseInt(r,10)-1+24)%24,v=String(g).padStart(2,"0");l(v),d(n,v)},S=()=>{const g=(parseInt(o,10)+1)%60,v=String(g).padStart(2,"0");c(v),d(a,v)},y=()=>{const g=(parseInt(o,10)-1+60)%60,v=String(g).padStart(2,"0");c(v),d(a,v)};return u.jsxs("div",{className:"apple-time-picker",children:[u.jsxs("div",{className:"picker-arrows-top",children:[u.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:S,children:""})]}),u.jsxs("div",{className:"picker-container",children:[u.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[u.jsx("div",{className:"picker-spacer"}),h.map(g=>u.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),d(n,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]}),u.jsx("div",{className:"picker-separator",children:":"}),u.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,c),children:[u.jsx("div",{className:"picker-spacer"}),m.map(g=>u.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{c(g),d(a,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]})]}),u.jsxs("div",{className:"picker-arrows-bottom",children:[u.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:y,children:""})]}),u.jsx("div",{className:"picker-selection-indicator"})]})}function Zo({selectedDays:e=[],onToggle:t,disabled:n=!1,variant:a="default"}){const i=(l,o)=>{l.stopPropagation(),t(o)},s=a==="inline"?"day-selector-inline":"day-selector",r=a==="inline"?"day-button-inline":"day-button";return u.jsx("div",{className:s,children:Ec.map(l=>u.jsx("button",{onClick:o=>i(o,l.key),className:`${r} ${e.includes(l.key)?"selected":""}`,disabled:n,type:"button",children:l.label},l.key))})}const nO=[{value:"this-only",label:" ",description:" ",tooltip:"  ,  ,   "},{value:"from-now",label:"   ",description:" ",tooltip:"  ,  ,   "},{value:"all",label:" ",description:" ",tooltip:"  ,  ,   "}],aa={container:{display:"flex",flexDirection:"column",gap:"0.75rem"},option:e=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:e?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"}),radio:{width:"16px",height:"16px",cursor:"pointer"},labelContainer:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},labelRow:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},label:{fontWeight:"600"},description:{fontSize:"0.85rem",color:"#9ca3af"},helpButton:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},tooltip:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"}};function aO({selectedOption:e,onChange:t,name:n="delete-option"}){const[a,i]=_.useState(null);return u.jsx("div",{style:aa.container,children:nO.map(s=>u.jsxs("div",{style:aa.option(e===s.value),onClick:()=>t(s.value),children:[u.jsx("input",{type:"radio",name:n,value:s.value,checked:e===s.value,onChange:r=>t(r.target.value),style:aa.radio}),u.jsx("div",{style:aa.labelContainer,children:u.jsxs("div",{style:aa.labelRow,children:[u.jsx("span",{style:aa.label,children:s.label}),u.jsx("span",{style:aa.description,children:s.description})]})}),u.jsx("button",{onMouseEnter:()=>i(s.value),onMouseLeave:()=>i(null),onClick:r=>{r.stopPropagation(),i(a===s.value?null:s.value)},style:aa.helpButton,children:"?"}),a===s.value&&u.jsx("div",{style:aa.tooltip,children:s.tooltip})]},s.value))})}function iO({todo:e,isOpen:t,onClose:n,onEdit:a,onToggle:i,onDelete:s,onAddSubTodo:r,onCreateRoutine:l,subtodos:o,routines:c,formatDate:f,formatDateOnly:d}){const[h,m]=_.useState(e.text),[p,b]=_.useState(null),[S,y]=_.useState(""),[g,v]=_.useState("this-only"),[w,x]=_.useState(!1),[T,E]=_.useState([]),[j,A]=_.useState(""),[k,W]=_.useState([]),[ge,_e]=_.useState(!1),[we,K]=_.useState([]),[D,L]=_.useState([]),[Y,de]=_.useState(null),X=e.routine_id?c.find(B=>B.id===e.routine_id):null,nt=B=>["sun","mon","tue","wed","thu","fri","sat"][B],Oe=B=>{E(ae=>ae.includes(B)?ae.filter(ce=>ce!==B):[...ae,B])};_.useEffect(()=>{p==="history"&&k.length===0&&!ge&&(async()=>{_e(!0);try{const{data:ae,error:ce}=await He.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(ce)throw ce;W(ae||[])}catch(ae){console.error("Error fetching history:",ae)}finally{_e(!1)}})()},[p,e.id,k.length,ge]),_.useEffect(()=>{p==="routine-stats"&&X&&(!Y||Y.id!==X.id)&&(async()=>{try{const{data:ae,error:ce}=await He.from("todos").select("*").eq("routine_id",X.id).eq("deleted",!1).maybeSingle();if(ce)throw ce;if(ae&&ae.visible_dates){const ve=ae.visible_dates.sort().map(ke=>{var Se;return{id:`${ae.id}-${ke}`,date:ke,text:ae.text,completed:((Se=ae.completed_dates)==null?void 0:Se.includes(ke))||!1}});L(ve),de(X)}}catch(ae){console.error("Error fetching routine history:",ae)}})()},[p,X,Y]);const Ye=B=>{K(ae=>ae.includes(B)?ae.filter(ce=>ce!==B):[...ae,B])};return t?rv.createPortal(u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"actions-modal-content",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"actions-modal-header",children:[u.jsx("h3",{children:" "}),u.jsx("button",{onClick:n,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"todo-edit-section",children:u.jsx("textarea",{value:h,onChange:B=>m(B.target.value),onBlur:()=>{h.trim()!==""&&h!==e.text?a(e.id,h):h.trim()===""&&m(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),u.jsxs("div",{className:"actions-modal-body",children:[u.jsxs("div",{className:"actions-menu",children:[u.jsxs("button",{className:`action-menu-item ${p==="nanotodo"?"active":""}`,onClick:()=>b("nanotodo"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${p==="routine"?"active":""}`,onClick:()=>{b("routine"),X?(E(X.days||[]),A(X.time_slot||""),x(!1)):(E([]),A(""),x(!0))},children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${p==="history"?"active":""}`,onClick:()=>b("history"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),e.routine_id&&X&&u.jsxs("button",{className:`action-menu-item ${p==="routine-stats"?"active":""}`,onClick:()=>b("routine-stats"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item delete ${p==="delete"?"active":""}`,onClick:()=>b("delete"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]})]}),u.jsxs("div",{className:"actions-detail",children:[!p&&u.jsx("div",{className:"actions-detail-empty",children:u.jsx("p",{children:"  "})}),p==="nanotodo"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:" "}),u.jsxs("div",{className:"nanotodo-section-in-modal",children:[o&&o.length>0&&u.jsx("div",{className:"subtodo-list-in-modal",children:o.map(B=>u.jsxs("div",{className:"subtodo-item-in-modal",children:[u.jsx("input",{type:"checkbox",checked:B.completed,onChange:()=>i(B.id),className:"subtodo-checkbox-modal"}),u.jsx("span",{className:`subtodo-text-modal ${B.completed?"completed":""}`,children:B.text}),u.jsx("button",{onClick:()=>s(B.id),className:"subtodo-delete-modal",title:"",children:""})]},B.id))}),u.jsxs("div",{className:"subtodo-input-section-modal",children:[u.jsx("input",{type:"text",value:S,onChange:B=>y(B.target.value),onKeyDown:B=>{B.key==="Enter"&&S.trim()&&(r(e.id,S.trim()),y(""))},placeholder:" ...",className:"subtodo-input-modal"}),u.jsx("button",{onClick:()=>{S.trim()&&(r(e.id,S.trim()),y(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),p==="routine"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{className:"routine-setup-inline",children:X&&!w?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Ec.filter(B=>X.days.includes(B.key)).map(B=>u.jsx("span",{className:"routine-day-badge",children:B.label},B.key))}),X.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",X.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:B=>{B.stopPropagation(),E(X.days),A(X.time_slot||""),x(!0)},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async B=>{B.stopPropagation(),await l(e.id,e.text,[],null,!0),n()},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:w&&X?" :":"  :"}),u.jsx(Zo,{selectedDays:T,onToggle:Oe,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(lh,{value:j,onChange:B=>A(B)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async B=>{B.stopPropagation(),w&&X?await l(e.id,e.text,T,X.id,!1,j):await l(e.id,e.text,T,null,!1,j),x(!1),n()},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:B=>{B.stopPropagation(),x(!1),E([]),A("")},className:"routine-cancel-button",children:""})]})]})})]}),p==="history"&&(()=>{const B=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],ae=B[0],ce=B.map(ve=>({id:`${e.id}-${ve}`,date:ve}));return ge?u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:f(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:d(ae?new Date(ae+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),ce.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:ce.map((ve,ke)=>{const Se=ve.date===e.date,Q=d(new Date(ve.date+"T00:00:00"));return u.jsxs("span",{children:[ke>0&&"  ",u.jsxs("span",{style:Se?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Q.split("(")[0],Se?"()":""]})]},ve.id)})})]}),k.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",k.length,")"]}),k.map(ve=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[f(ve.changed_at),ve.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",d(new Date(ve.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:ke=>{ke.stopPropagation(),Ye(ve.id)},children:we.includes(ve.id)?"":""})]}),we.includes(ve.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ve.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ve.new_text})]})]})]},ve.id))]})]})]})})(),p==="routine-stats"&&X&&(()=>{if(!Y||Y.id!==X.id||D.length===0)return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",X.text," "]}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Y||Y.id!==X.id?" ...":" ."})]});const B=D[0],ae=new Date(B.date),ce=new Date,ve={};D.forEach(Q=>{ve[Q.date]=Q.completed});const ke=[];let Se=new Date(ae);for(;Se<=ce;){const Q=Se.getFullYear(),Le=Se.getMonth(),Ge=`${Q}-${Le+1}`;ke.find(ie=>ie.key===Ge)||ke.push({key:Ge,year:Q,month:Le,days:[]});const Et=ke.find(ie=>ie.key===Ge),Ke=Ce(Se),Tt=Se.getDay(),jt=nt(Tt),P=X.days.includes(jt);Et.days.push({date:new Date(Se),dateStr:Ke,day:Se.getDate(),dayOfWeek:Tt,isCompleted:ve[Ke]===!0,isRoutineDay:P,hasTodo:ve[Ke]!==void 0}),Se.setDate(Se.getDate()+1)}return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",X.text," "]}),u.jsxs("div",{className:"routine-history-content",children:[u.jsx("div",{className:"routine-history-calendar",children:ke.map(Q=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[Q.year," ",Q.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),Q.days.length>0&&Array(Q.days[0].dayOfWeek).fill(null).map((Le,Ge)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${Ge}`)),Q.days.map(Le=>u.jsxs("div",{className:`history-day-cell ${Le.isCompleted?"completed":""} ${Le.isRoutineDay?"":"not-routine-day"}`,title:`${Le.dateStr}${Le.isRoutineDay?"":" (  )"}${Le.isCompleted?" - ":Le.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:Le.day}),Le.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},Le.dateStr))]})]},Q.key))}),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[D.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[D.filter(Q=>Q.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[D.filter(Q=>!Q.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[D.length>0?Math.round(D.filter(Q=>Q.completed).length/D.length*100):0,"%"]})]})]})]})]})})(),p==="delete"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"   "}),u.jsxs("p",{style:{fontSize:"0.9rem",color:"#9ca3af",marginBottom:"1rem",lineHeight:"1.6"},children:["    .",u.jsx("br",{}),"    ."]}),u.jsx(aO,{selectedOption:g,onChange:v}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[u.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#9ca3af",cursor:"pointer",fontSize:"0.9rem"},children:""}),u.jsx("button",{onClick:async()=>{window.confirm(` ?

  5    .`)&&(await s(e.id,g),n())},style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"#ef4444",border:"none",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:""})]})]})]})]})]})}),document.body):null}function Pi({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:f,level:d=0,onCreateRoutine:h,routines:m,onShowRoutineHistory:p,onOpenRoutineSetupModal:b,onOpenHistoryModal:S,currentPageDate:y,isPendingRoutine:g=!1,onRemoveFromUI:v,showSuccessMessage:w,activeId:x,overId:T,hideNumber:E=!1,onMoveUp:j,onMoveDown:A,onMoveToTop:k,onMoveToBottom:W,isFirst:ge,isLast:_e}){const[we,K]=_.useState(!1),[D,L]=_.useState(!1),[Y,de]=_.useState(!1),[X,nt]=_.useState(e.text),[Oe,Ye]=_.useState(!1),[B,ae]=_.useState(!1),[ce,ve]=_.useState(""),[ke,Se]=_.useState(!1),Q=e.routine_id?m.find(N=>N.id===e.routine_id):null,{attributes:Le,listeners:Ge,setNodeRef:Et,transform:Ke,transition:Tt,isDragging:jt}=Ob({id:e.id}),P=e.id===x,ie=e.id===T&&x&&x!==T,pe={cursor:"grab",opacity:P?.4:1},Ae=e.text.length>30,Ot=()=>{de(!0),nt(e.text)},R=async()=>{X.trim()&&X!==e.text&&await i(e.id,X.trim()),de(!1)},H=async N=>{N.key==="Enter"&&!N.shiftKey?(N.preventDefault(),await R()):N.key==="Escape"&&(de(!1),nt(e.text))};return _.useEffect(()=>{const N=q=>{D&&!q.target.closest(".drag-handle-wrapper")&&L(!1)};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[D]),u.jsxs("div",{ref:Et,style:{...pe,borderTop:ie?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:"todo-item-container",children:[u.jsxs("div",{className:"drag-handle-wrapper",children:[u.jsx("span",{className:"drag-handle",...Le,...Ge,onClick:N=>{N.stopPropagation(),L(!D)},title:":   /  : "}),D&&u.jsx(Wj,{todoId:e.id,isFirst:ge,isLast:_e,onMoveUp:j,onMoveDown:A,onMoveToTop:k,onMoveToBottom:W,onDelete:a,onClose:()=>L(!1)})]}),!E&&u.jsx("span",{className:"todo-number",children:t+1}),u.jsx("div",{className:"todo-item-wrapper",children:u.jsxs("div",{className:`todo-item ${e.completed?"completed":""} ${we?"expanded":""} ${jt?"drag-mode":""}`,children:[u.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),u.jsx("div",{className:"todo-content",onClick:()=>!Y&&Ae&&K(!we),onDoubleClick:Ot,style:{cursor:Y?"text":Ae?"pointer":"default"},children:Y?u.jsx("textarea",{value:X,onChange:N=>nt(N.target.value),onBlur:R,onKeyDown:H,className:"todo-edit-input",autoFocus:!0,rows:1,style:{minHeight:"1.35em",resize:"vertical",overflow:"hidden"},onInput:N=>{N.target.style.height="auto",N.target.style.height=N.target.scrollHeight+"px"}}):u.jsx("span",{className:`todo-text ${we?"expanded":""}`,children:e.text})}),(()=>{const N=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,q=e.routine_id&&Q,I=g||e.is_pending_routine;return(f.length>0||N||q||I)&&u.jsxs("div",{className:"todo-badges",children:[N&&(()=>{const $=new Date(e.completed_at).toISOString().split("T")[0],V=new Date(e.completed_at).getDate();return u.jsxs("span",{className:"completed-date-badge",title:`${$} `,children:[V,""]})})(),q&&(()=>{const $=y||e.date,V=new Date($+"T00:00:00"),U=V.getMonth()+1,te=V.getDate(),be=["","","","","","",""][V.getDay()],G=`${U}/${te}(${be})`;return u.jsxs("span",{className:"routine-date-badge",title:`${Q.text} `,children:["for ",G]})})(),I&&u.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),f.length>0&&u.jsx("span",{className:"todo-badge clickable",title:" ",onClick:$=>{$.stopPropagation(),Oe?(Ye(!1),ae(!1)):(Ye(!0),ae(!1))},children:""})]})})(),!Y&&!e.parent_id&&u.jsx("button",{className:"todo-more-button",onClick:N=>{N.stopPropagation(),Se(!0)},title:"",children:""}),Oe&&!e.parent_id&&u.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((N,q)=>u.jsx(Pi,{todo:N,index:q,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:[],level:d+1,routines:m,onShowRoutineHistory:p,showSuccessMessage:w,onOpenRoutineSetupModal:b,onOpenHistoryModal:S,currentPageDate:y},N.id)),B&&u.jsxs("div",{className:"subtodo-input-section",children:[u.jsx("input",{type:"text",value:ce,onChange:N=>ve(N.target.value),onKeyDown:N=>{N.key==="Enter"&&ce.trim()&&(c(e.id,ce.trim()),ve(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),u.jsx("button",{onClick:()=>{ce.trim()&&(c(e.id,ce.trim()),ve(""))},className:"subtodo-add-button",children:""}),u.jsx("button",{onClick:()=>ve(""),className:"subtodo-cancel-button",children:""})]})]})]})}),u.jsx(iO,{todo:e,isOpen:ke,onClose:()=>Se(!1),onEdit:i,onToggle:n,onDelete:a,onAddSubTodo:c,onCreateRoutine:h,subtodos:f,routines:m,formatDate:s,formatDateOnly:r})]})}function qg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return u.jsxs("div",{className:a,children:[u.jsx("span",{children:e}),t&&u.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function $g({todo:e,onClose:t,onDeleteThisOnly:n,onDeleteFromNow:a,onDeleteAll:i}){const[s,r]=_.useState("this-only"),[l,o]=_.useState(null),c=()=>{s==="this-only"?n(e):s==="from-now"?a(e):s==="all"&&i(e),t()},f=[{id:"this-only",label:" ",subtitle:" ",tooltip:"  ,  ,   "},{id:"from-now",label:"   ",subtitle:" ",tooltip:"  ,  ,   "},{id:"all",label:" ",subtitle:" ",tooltip:"  ,  ,   "}];return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content delete-confirm-modal-v2",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"delete-confirm-content-v2",children:[u.jsxs("p",{className:"delete-info-text",children:["    .",u.jsx("br",{}),"    ."]}),u.jsx("div",{className:"delete-options-v2",children:f.map(d=>u.jsxs("div",{className:"delete-option-item",children:[u.jsxs("label",{className:"delete-option-label",children:[u.jsx("input",{type:"radio",name:"delete-option",value:d.id,checked:s===d.id,onChange:h=>r(h.target.value)}),u.jsxs("div",{className:"option-text",children:[u.jsx("span",{className:"option-main",children:d.label}),u.jsx("span",{className:"option-sub",children:d.subtitle})]})]}),u.jsx("button",{className:"option-help-btn",onMouseEnter:()=>o(d.id),onMouseLeave:()=>o(null),onClick:h=>{h.preventDefault(),o(l===d.id?null:d.id)},children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"8",y:"11.5",textAnchor:"middle",fontSize:"11",fill:"currentColor",fontWeight:"600",children:"?"})]})}),l===d.id&&u.jsx("div",{className:"option-tooltip",children:d.tooltip})]},d.id))}),u.jsxs("div",{className:"delete-modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:t,children:""}),u.jsx("button",{className:"btn-confirm",onClick:c,children:""})]})]})]})})}function sO({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:c,routines:f,editingRoutineId:d,editingRoutineText:h,setEditingRoutineText:m,editingRoutineDays:p,onToggleEditDay:b,onStartEdit:S,onSaveEdit:y,onCancelEdit:g,onDelete:v,onShowHistory:w}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-modal",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-add-section",children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),u.jsx(Zo,{selectedDays:s,onToggle:r,disabled:i}),u.jsxs("div",{className:"time-slot-selector",children:[u.jsx("label",{className:"time-slot-label",children:"  ()"}),u.jsx(lh,{value:l,onChange:x=>o(x)})]}),u.jsx("button",{onClick:c,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),u.jsx("div",{className:"routine-list",children:f.length===0?u.jsx("p",{className:"empty-message",children:"  ."}):f.map(x=>u.jsx("div",{className:"routine-item",children:d===x.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-edit-content",children:[u.jsx("input",{type:"text",value:h,onChange:T=>m(T.target.value),className:"routine-edit-input",placeholder:" "}),u.jsx(Zo,{selectedDays:p,onToggle:b,variant:"inline"})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:y,className:"routine-save-button",disabled:h.trim()===""||p.length===0,children:""}),u.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-item-content",children:[u.jsx("span",{className:"routine-text",children:x.text}),u.jsxs("div",{className:"routine-meta",children:[u.jsx("div",{className:"routine-days",children:Ec.filter(T=>x.days.includes(T.key)).map(T=>u.jsx("span",{className:"routine-day-badge",children:T.label},T.key))}),x.time_slot&&u.jsx("span",{className:"routine-time-slot",children:x.time_slot})]})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:()=>w(x),className:"routine-history-button",title:" ",children:""}),u.jsx("button",{onClick:()=>S(x),className:"routine-edit-button",title:"",children:""}),u.jsx("button",{onClick:()=>v(x.id),className:"routine-delete-button",title:"",children:""})]})]})},x.id))})]})}):null}const rO=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function lO({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[" ",n.text," "]}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return u.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(f=>{l[f.date]=f.completed});const o=[];let c=new Date(s);for(;c<=r;){const f=c.getFullYear(),d=c.getMonth(),h=`${f}-${d+1}`;o.find(g=>g.key===h)||o.push({key:h,year:f,month:d,days:[]});const m=o.find(g=>g.key===h),p=Ce(c),b=c.getDay(),S=rO(b),y=n.days.includes(S);m.days.push({date:new Date(c),dateStr:p,day:c.getDate(),dayOfWeek:b,isCompleted:l[p]===!0,isRoutineDay:y,hasTodo:l[p]!==void 0}),c.setDate(c.getDate()+1)}return u.jsx("div",{className:"routine-history-calendar",children:o.map(f=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[f.year," ",f.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),f.days.length>0&&Array(f.days[0].dayOfWeek).fill(null).map((d,h)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${h}`)),f.days.map((d,h)=>{if(h>0&&d.day===1){const p=6-f.days[h-1].dayOfWeek;return u.jsxs(u.Fragment,{children:[Array(p).fill(null).map((b,S)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${h}-${S}`)),u.jsx("div",{className:"history-day-header",children:""},d.dateStr),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]})}return u.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,title:`${d.dateStr}${d.isRoutineDay?"":" (  )"}${d.isCompleted?" - ":d.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},d.dateStr)})]})]},f.key))})})(),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function oO({show:e,onClose:t,content:n,setContent:a,isSaving:i,placeholder:s=" ..."}){const r=_.useRef(null);return _.useEffect(()=>{r.current&&e&&(r.current.style.height="auto",r.current.style.height=Math.min(r.current.scrollHeight,window.innerHeight*.6)+"px")},[n,e]),_.useEffect(()=>{e&&r.current&&r.current.focus()},[e]),_.useEffect(()=>{const l=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]),e?u.jsx("div",{className:"memo-modal-overlay",onClick:t,children:u.jsxs("div",{className:"memo-modal",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"memo-modal-header",children:[u.jsx("h3",{children:"  "}),u.jsxs("div",{className:"memo-modal-actions",children:[i&&u.jsx("span",{className:"memo-saving-indicator",children:" ..."}),u.jsx("button",{className:"memo-modal-close",onClick:t,children:""})]})]}),u.jsx("textarea",{ref:r,value:n,onChange:l=>a(l.target.value),className:"memo-modal-textarea",placeholder:s})]})}):null}function cO({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  -  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"gantt-filter",children:u.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>u.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),u.jsx("div",{className:"gantt-content",children:n.length===0?u.jsx("p",{className:"empty-message",children:" ."}):u.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(d=>d.dates),l=[...new Set(r)].sort((d,h)=>new Date(d)-new Date(h));if(l.length===0)return u.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),c=new Date(l[l.length-1]),f=[];for(let d=new Date(o);d<=c;d.setDate(d.getDate()+1))f.push(new Date(d).toISOString().split("T")[0]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"gantt-header",children:[u.jsx("div",{className:"gantt-task-column",children:" "}),u.jsx("div",{className:"gantt-timeline",children:f.map(d=>u.jsx("div",{className:"gantt-date-cell",children:s(new Date(d+"T00:00:00")).split("(")[0]},d))})]}),n.map((d,h)=>{const m=new Set(d.dates);return u.jsxs("div",{className:"gantt-row",children:[u.jsx("div",{className:"gantt-task-column",title:d.text,children:u.jsx("span",{className:d.completed?"completed-task":"",children:d.text})}),u.jsx("div",{className:"gantt-timeline",children:f.map(p=>{if(!m.has(p))return u.jsx("div",{className:"gantt-date-cell"},p);const S=p===d.startDate,y=p===d.completedDate;let g="gantt-date-cell has-task";return S?g+=" start-date":y?g+=" completed-date":g+=" middle-date",u.jsx("div",{className:g,children:y?u.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},d.originalId)})]})})()})})]})}):null}function uO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:c,onUpdateEncouragementMessage:f,onDeleteEncouragementMessage:d}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content encouragement-modal",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"encouragement-add-section",children:[u.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async h=>{h.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),u.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),u.jsx("div",{className:"encouragement-list",children:n.length===0?u.jsx("p",{className:"empty-message",children:"   ."}):n.map((h,m)=>u.jsx("div",{className:"encouragement-item",children:r===m?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),className:"encouragement-edit-input",placeholder:" "}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:async()=>{l.trim()!==""&&(await f(m,l.trim()),o(null),c(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),u.jsx("button",{onClick:()=>{o(null),c("")},className:"encouragement-cancel-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"encouragement-text",children:h}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:()=>{o(m),c(h)},className:"encouragement-edit-button",title:"",children:""}),u.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await d(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function dO({isOpen:e,onClose:t,onAddSection:n}){const[a,i]=_.useState(""),[s,r]=_.useState(""),l=["","","","","","","","","","","",""],o=c=>{c.preventDefault(),a.trim()&&(n({name:a.trim(),icon:s}),i(""),r(""),t())};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content add-section-modal",onClick:c=>c.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),u.jsxs("form",{onSubmit:o,className:"add-section-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("div",{className:"emoji-grid",children:l.map(c=>u.jsx("button",{type:"button",className:`emoji-button ${s===c?"selected":""}`,onClick:()=>r(c),children:c},c))}),u.jsx("div",{className:"custom-emoji-input",children:u.jsx("input",{type:"text",value:s,onChange:c=>{const f=Array.from(c.target.value);r(f.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("div",{className:"section-preview",children:[s," ",a||" "]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),u.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function fO({show:e,onClose:t,hiddenSections:n,sectionOrder:a,sectionTitles:i,customSections:s,onShowSection:r}){if(!e)return null;const l=o=>{if(i[o])return i[o];const c=s.find(f=>f.id===o);return c?`${c.icon} ${c.name}`:o};return n.length===0?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("p",{className:"empty-message",children:"  ."})})]})}):u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"hidden-sections-list",children:n.map(o=>u.jsxs("div",{className:"hidden-section-item",children:[u.jsx("span",{className:"hidden-section-title",children:l(o)}),u.jsx("button",{className:"show-section-button",onClick:()=>{r(o)},title:" ",children:" "})]},o))})})]})})}function hO({todo:e,todoHistory:t,expandedHistoryIds:n,toggleHistoryDetail:a,formatDate:i,formatDateOnly:s,onClose:r}){const l=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],o=l[0],c=l.map(d=>({id:`${e.id}-${d}`,date:d})),f=t[e.id]||[];return u.jsx("div",{className:"modal-overlay",onClick:r,children:u.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:r,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:i(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:s(o?new Date(o+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),c.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:c.map((d,h)=>{const m=d.date===e.date,p=s(new Date(d.date+"T00:00:00"));return u.jsxs("span",{children:[h>0&&"  ",u.jsxs("span",{style:m?{fontWeight:"bold",color:"#4CAF50"}:{},children:[p.split("(")[0],m?"()":""]})]},d.id)})})]}),(()=>{const d=new Date(e.created_at).toISOString().split("T")[0],h=e.date;return d!==h&&c.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),f.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",f.length,")"]}),f.map(d=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[i(d.changed_at),d.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(d.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:h=>{h.stopPropagation(),a(d.id)},children:n.includes(d.id)?"":""})]}),n.includes(d.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:d.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:d.new_text})]})]})]},d.id))]})]})})]})})}function mO({todo:e,routines:t,routineDaysForModal:n,isEditingRoutineInModal:a,routineTimeSlotForModal:i,onToggleDay:s,setRoutineTimeSlotForModal:r,setRoutineDaysForModal:l,setIsEditingRoutineInModal:o,handleCreateRoutineFromTodo:c,onClose:f}){const d=t.find(h=>h.id===e.routine_id);return u.jsx("div",{className:"modal-overlay",onClick:f,children:u.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:f,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"routine-setup-inline",children:d&&!a?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Ec.filter(h=>d.days.includes(h.key)).map(h=>u.jsx("span",{className:"routine-day-badge",children:h.label},h.key))}),d.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",d.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:h=>{h.stopPropagation(),l(d.days),r(d.time_slot||""),o(!0)},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async h=>{h.stopPropagation(),await c(e.id,e.text,[],null,!0),f()},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:a?" :":"  :"}),u.jsx(Zo,{selectedDays:n,onToggle:s,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(lh,{value:i,onChange:h=>r(h)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async h=>{h.stopPropagation(),a&&d?await c(e.id,e.text,n,d.id,!1,i):await c(e.id,e.text,n,null,!1,i),f()},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:h=>{h.stopPropagation(),f()},className:"routine-cancel-button",children:""})]})]})})})]})})}function gO({showUndoToast:e,showSuccessToast:t,successToastMessage:n,lastDeleteAction:a,handleUndoDelete:i,handleUndoRoutineDelete:s,showDeleteConfirmModal:r,todoToDelete:l,setShowDeleteConfirmModal:o,deleteThisOnly:c,deleteFromNow:f,deleteAll:d,showRoutineDeleteModal:h,routineToDelete:m,setShowRoutineDeleteModal:p,deleteRoutineThisOnly:b,deleteRoutineFromNow:S,deleteRoutineAll:y,showTodoHistoryModal:g,selectedTodoForModal:v,todoHistory:w,expandedHistoryIds:x,toggleHistoryDetail:T,handleCloseTodoHistoryModal:E,formatDate:j,formatDateOnly:A,showTodoRoutineSetupModal:k,routines:W,routineDaysForModal:ge,isEditingRoutineInModal:_e,routineTimeSlotForModal:we,handleToggleRoutineDayInModal:K,setRoutineTimeSlotForModal:D,setRoutineDaysForModal:L,setIsEditingRoutineInModal:Y,handleCreateRoutineFromTodo:de,handleCloseTodoRoutineSetupModal:X,showRoutineModal:nt,handleCloseRoutine:Oe,routineInput:Ye,setRoutineInput:B,isAddingRoutine:ae,selectedDays:ce,handleToggleDay:ve,selectedTimeSlot:ke,setSelectedTimeSlot:Se,handleAddRoutine:Q,editingRoutineId:Le,editingRoutineText:Ge,setEditingRoutineText:Et,editingRoutineDays:Ke,handleToggleEditDay:Tt,handleStartEditRoutine:jt,handleSaveEditRoutine:P,handleCancelEditRoutine:ie,handleDeleteRoutine:pe,fetchRoutineHistory:Ae,showRoutineHistory:Ot,handleCloseRoutineHistory:R,selectedRoutineForHistory:H,routineHistoryData:N,showMemoModal:q,setShowMemoModal:I,memoContent:$,setMemoContent:V,isSavingMemo:U,showGanttChart:te,handleCloseGanttChart:J,ganttData:be,ganttPeriod:G,setGanttPeriod:re,showEncouragementModal:ye,setShowEncouragementModal:at,encouragementMessages:Yt,newEncouragementMessage:Pt,setNewEncouragementMessage:Gn,addEncouragementMessage:Mi,editingEncouragementId:_a,editingEncouragementText:it,setEditingEncouragementId:Mt,setEditingEncouragementText:kt,updateEncouragementMessage:_n,deleteEncouragementMessage:$t,showAddSectionModal:lt,setShowAddSectionModal:Ut,handleAddSection:Kn,showHiddenSectionsModal:ut,setShowHiddenSectionsModal:wn,hiddenSections:At,sectionOrder:Vt,sectionTitles:Sn,customSections:xn,handleShowSection:En}){return u.jsxs(u.Fragment,{children:[e&&u.jsx(qg,{message:"",onUndo:i}),t&&u.jsx(qg,{message:n,onUndo:a?s:null,variant:"success"}),r&&l&&u.jsx($g,{todo:l,onClose:()=>o(!1),onDeleteThisOnly:c,onDeleteFromNow:f,onDeleteAll:d}),h&&m&&u.jsx($g,{todo:m,onClose:()=>p(!1),onDeleteThisOnly:b,onDeleteFromNow:S,onDeleteAll:y}),g&&v&&u.jsx(hO,{todo:v,todoHistory:w,expandedHistoryIds:x,toggleHistoryDetail:T,formatDate:j,formatDateOnly:A,onClose:E}),k&&v&&u.jsx(mO,{todo:v,routines:W,routineDaysForModal:ge,isEditingRoutineInModal:_e,routineTimeSlotForModal:we,onToggleDay:K,setRoutineTimeSlotForModal:D,setRoutineDaysForModal:L,setIsEditingRoutineInModal:Y,handleCreateRoutineFromTodo:de,onClose:X}),u.jsx(sO,{showRoutineModal:nt,onClose:Oe,routineInput:Ye,setRoutineInput:B,isAddingRoutine:ae,selectedDays:ce,onToggleDay:ve,selectedTimeSlot:ke,setSelectedTimeSlot:Se,onAddRoutine:Q,routines:W,editingRoutineId:Le,editingRoutineText:Ge,setEditingRoutineText:Et,editingRoutineDays:Ke,onToggleEditDay:Tt,onStartEdit:jt,onSaveEdit:P,onCancelEdit:ie,onDelete:pe,onShowHistory:Ae}),u.jsx(lO,{showRoutineHistory:Ot,onClose:R,selectedRoutine:H,routineHistoryData:N}),u.jsx(oO,{show:q,onClose:()=>I(!1),content:$,setContent:V,isSaving:U,placeholder:" ..."}),u.jsx(cO,{showGanttChart:te,onClose:J,ganttData:be,ganttPeriod:G,setGanttPeriod:re,formatDateOnly:A}),u.jsx(uO,{showEncouragementModal:ye,onClose:()=>at(!1),encouragementMessages:Yt,newEncouragementMessage:Pt,setNewEncouragementMessage:Gn,onAddEncouragementMessage:Mi,editingEncouragementId:_a,editingEncouragementText:it,setEditingEncouragementId:Mt,setEditingEncouragementText:kt,onUpdateEncouragementMessage:_n,onDeleteEncouragementMessage:$t}),u.jsx(dO,{isOpen:lt,onClose:()=>Ut(!1),onAddSection:Kn}),u.jsx(fO,{show:ut,onClose:()=>wn(!1),hiddenSections:At,sectionOrder:Vt,sectionTitles:Sn,customSections:xn,onShowSection:En})]})}function vO({authLoading:e,session:t,handleGoogleLogin:n}){return e?u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),u.jsx("div",{children:" ..."})]})}):t?null:u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[u.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),u.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),u.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[u.jsx("span",{children:""}),"Google "]})]})})}const Oa={async get(e,t=null){try{const{data:n,error:a}=await He.from("user_settings").select("setting_value").eq("setting_key",e).maybeSingle();return a?(console.error(`   [${e}]:`,a.message),t):n&&n.setting_value?JSON.parse(n.setting_value):t}catch(n){return console.error(`   [${e}]:`,n.message),t}},async set(e,t,n){if(!n)return console.warn(`   [${e}]:  ID `),!1;try{const{data:a,error:i}=await He.from("user_settings").select("id").eq("setting_key",e).maybeSingle();if(i)return console.error(`   [${e}]:`,i.message),!1;const s=JSON.stringify(t);if(a){const{error:r}=await He.from("user_settings").update({setting_value:s,updated_at:new Date().toISOString()}).eq("setting_key",e);if(r)return console.error(`   [${e}]:`,r.message),!1}else{const{error:r}=await He.from("user_settings").insert([{setting_key:e,setting_value:s,user_id:n}]);if(r)return console.error(`   [${e}]:`,r.message),!1}return!0}catch(a){return console.error(`   [${e}]:`,a.message),!1}},async remove(e){try{const{error:t}=await He.from("user_settings").delete().eq("setting_key",e);return t?(console.error(`   [${e}]:`,t.message),!1):!0}catch(t){return console.error(`   [${e}]:`,t.message),!1}}},Aa={SECTION_ORDER:"section_order",SECTION_TITLES:"section_titles",CUSTOM_SECTIONS:"custom_sections",HIDDEN_SECTIONS:"hidden_sections"},Vg=["timeline","routine","normal"];function yO(e){const[t,n]=_.useState(Vg),[a,i]=_.useState(!1),s=async()=>{var h;if(!((h=e==null?void 0:e.user)!=null&&h.id))return;const d=await Oa.get(Aa.SECTION_ORDER);if(d){const m=Vg.filter(p=>!d.includes(p));if(m.length>0){const p=[...m,...d];n(p),r(p)}else n(d)}},r=async d=>{var h;(h=e==null?void 0:e.user)!=null&&h.id&&await Oa.set(Aa.SECTION_ORDER,d,e.user.id)};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,saveSectionOrder:r,moveSectionLeft:d=>{n(h=>{const m=h.indexOf(d);if(m<=0)return h;const p=[...h];return[p[m-1],p[m]]=[p[m],p[m-1]],r(p),p})},moveSectionRight:d=>{n(h=>{const m=h.indexOf(d);if(m===-1||m>=h.length-1)return h;const p=[...h];return[p[m],p[m+1]]=[p[m+1],p[m]],r(p),p})},handleSectionDragEnd:d=>{const{active:h,over:m}=d;a&&t.includes(h.id)&&m&&h.id!==(m==null?void 0:m.id)&&n(p=>{const b=p.indexOf(h.id),S=p.indexOf(m.id),y=Ha(p,b,S);return r(y),y})},handleSectionsContainerDoubleClick:d=>{a&&d.target===d.currentTarget&&i(!1)}}}function pO(e){const[t,n]=_.useState(""),[a,i]=_.useState(!1),[s,r]=_.useState(""),l=_.useRef(null),o=_.useRef(null),c=async()=>{try{const{data:d,error:h}=await He.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(h)throw h;const m=d&&d.length>0?d[0].content:"";n(m),r(m)}catch(d){console.error("Error fetching memo:",d.message),n(""),r("")}},f=_.useCallback(async d=>{var h;if(d!==s)try{i(!0);const{data:m}=await He.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);m&&m.length>0?await He.from("spec_memos").update({content:d,updated_at:new Date().toISOString()}).eq("id",m[0].id):await He.from("spec_memos").insert([{content:d,user_id:(h=e==null?void 0:e.user)==null?void 0:h.id}]),r(d)}catch(m){console.error("Error saving memo:",m.message)}finally{i(!1)}},[e,s]);return _.useEffect(()=>{if(t!==s)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{f(t)},1e3),()=>{o.current&&clearTimeout(o.current)}},[t,f,s]),_.useEffect(()=>()=>{o.current&&clearTimeout(o.current),t!==s&&f(t)},[]),{memoContent:t,setMemoContent:n,isSavingMemo:a,memoTextareaRef:l,fetchMemoContent:c}}const Cb=({type:e,supabase:t,selectedDate:n,onDeleteSuccess:a})=>({deleteThisOnly:async l=>{try{const o=Ce(n),f=[...l.hidden_dates||[],o],d=e==="todo"?"todos":"routines",{error:h}=await t.from(d).update({hidden_dates:f}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Cu.THIS_ONLY),{success:!0}}catch(o){return console.error(`${e}   (THIS_ONLY):`,o.message),{success:!1,error:o}}},deleteFromNow:async l=>{try{const o=Ce(n),f=(l.visible_dates||[]).filter(m=>m<o),d=e==="todo"?"todos":"routines",{error:h}=await t.from(d).update({visible_dates:f,stop_carryover_from:o}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Cu.FROM_NOW),{success:!0}}catch(o){return console.error(`${e}   (FROM_NOW):`,o.message),{success:!1,error:o}}},deleteAll:async l=>{try{const o=Ce(n),c=e==="todo"?"todos":"routines",{error:f}=await t.from(c).update({deleted:!0,deleted_date:o}).eq("id",l.id);if(f)throw f;return e==="routine"&&await t.from("todos").update({routine_id:null}).eq("routine_id",l.id),a&&a(l.id,Cu.ALL),{success:!0}}catch(o){return console.error(`${e}   (ALL):`,o.message),{success:!1,error:o}}}}),bO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],_O=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=_.useState([]),[o,c]=_.useState(""),[f,d]=_.useState([]),[h,m]=_.useState(""),[p,b]=_.useState(!1),[S,y]=_.useState(!1),[g,v]=_.useState(null),[w,x]=_.useState(""),[T,E]=_.useState([]),[j,A]=_.useState(!1),[k,W]=_.useState(null),[ge,_e]=_.useState([]),[we,K]=_.useState(!1),[D,L]=_.useState(null),Y=_.useRef(new Set),{deleteThisOnly:de,deleteFromNow:X,deleteAll:nt}=Cb({type:"routine",supabase:t,selectedDate:n,onDeleteSuccess:(P,ie)=>{l(pe=>pe.filter(Ae=>Ae.id!==P)),i(" "),s(!0)}}),Oe=async()=>{var P;if((P=e==null?void 0:e.user)!=null&&P.id)try{const{data:ie,error:pe}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(pe)throw pe;l(ie||[])}catch(ie){console.error("  :",ie.message)}},Ye=async()=>{var P;if(!(o.trim()===""||p))try{b(!0);const ie={text:o,days:f,start_date:Ce(n),user_id:(P=e==null?void 0:e.user)==null?void 0:P.id};h&&(ie.time_slot=h);const{data:pe,error:Ae}=await t.from("routines").insert([ie]).select();if(Ae)throw Ae;l([pe[0],...r]),c(""),d([]),m("")}catch(ie){console.error("  :",ie.message)}finally{b(!1)}},B=async(P,ie,pe,Ae=null,Ot=!1,R="",H=null)=>{var N;try{if(Ot){const{error:q}=await t.from("todos").update({routine_id:null}).eq("id",P);if(q)throw q;a(I=>I.map($=>$.id===P?{...$,routine_id:null}:$));return}if(Ae){const{error:q}=await t.from("routines").update({days:pe,time_slot:R}).eq("id",Ae);if(q)throw q;const{error:I}=await t.from("todos").update({is_pending_routine:pe.length===0}).eq("id",P);if(I)throw I;l($=>$.map(V=>V.id===Ae?{...V,days:pe,time_slot:R}:V)),a($=>$.map(V=>V.id===P?{...V,is_pending_routine:pe.length===0}:V))}else{const q={text:ie,days:pe,time_slot:R,start_date:H||Ce(n),user_id:(N=e==null?void 0:e.user)==null?void 0:N.id},{data:I,error:$}=await t.from("routines").insert([q]).select();if($)throw $;const{error:V}=await t.from("todos").update({routine_id:I[0].id,is_pending_routine:pe.length===0}).eq("id",P);if(V)throw V;a(U=>U.map(te=>te.id===P?{...te,routine_id:I[0].id,is_pending_routine:pe.length===0}:te)),l(U=>[I[0],...U])}}catch(q){console.error("  :",q.message)}},ae=P=>{v(P.id),x(P.text),E(P.days)},ce=()=>{v(null),x(""),E([])},ve=async()=>{if(!(!g||w.trim()===""||T.length===0))try{const{error:P}=await t.from("routines").update({text:w.trim(),days:T}).eq("id",g);if(P)throw P;l(r.map(ie=>ie.id===g?{...ie,text:w.trim(),days:T}:ie)),ce()}catch(P){console.error("  :",P.message)}},ke=P=>{E(ie=>ie.includes(P)?ie.filter(pe=>pe!==P):[...ie,P])},Se=async P=>{const ie=r.find(pe=>pe.id===P);ie&&(L(ie),K(!0))},Q=async P=>{var ie;if(!Y.current.has(P))try{Y.current.add(P);const pe=new Date(P),Ae=bO(pe.getDay()),{data:Ot,error:R}=await t.from("routines").select("*").eq("deleted",!1);if(R)throw R;const H=Ot.filter(N=>{const q=N.days||[],I=q.length===0||q.includes(Ae);if(N.start_date){const $=new Date(N.start_date),V=pe>=$;return I&&V}return I});if(H.length===0)return;for(const N of H){const q=N.text,{data:I,error:$}=await t.from("todos").select("*").eq("routine_id",N.id).eq("deleted",!1);if($)throw $;if(I&&I.length>1){console.warn(` ${N.id}    (${I.length}).     .`);for(let U=1;U<I.length;U++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",I[U].id)}const V=I&&I.length>0?I[0]:null;if(V){const U=V.visible_dates||[],te=!N.days||N.days.length===0,J=te?"pending_routine":"routine";if(U.includes(P)){(V.is_pending_routine!==te||V.section_type!==J)&&await t.from("todos").update({is_pending_routine:te,section_type:J}).eq("id",V.id);continue}const be=[...U,P].sort(),{error:G}=await t.from("todos").update({visible_dates:be,is_pending_routine:te,section_type:te?"pending_routine":"routine"}).eq("id",V.id);G&&console.error("    :",G.message)}else{const U=!N.days||N.days.length===0,{error:te}=await t.from("todos").insert([{text:q,completed:!1,date:P,visible_dates:[P],hidden_dates:[],order_index:0,routine_id:N.id,is_pending_routine:U,section_type:U?"pending_routine":"routine",user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);te&&console.error("   :",te.message)}}}catch(pe){console.error("   :",pe.message)}finally{setTimeout(()=>{Y.current.delete(P)},1e3)}},Le=async()=>{const ie=Ce(new Date);await Q(ie)},Ge=async P=>{try{const{data:ie,error:pe}=await t.from("todos").select("*").eq("routine_id",P.id).eq("deleted",!1);if(pe)throw pe;const Ae=ie&&ie.length>0?ie[0]:null;if(Ae&&Ae.visible_dates){const Ot=Ae.visible_dates.sort().map(R=>({id:`${Ae.id}-${R}`,date:R,text:Ae.text,completed:Ae.completed,routine_id:Ae.routine_id}));_e(Ot)}else _e([]);W(P),A(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},Et=()=>{A(!1),W(null),_e([])},Ke=()=>{y(!0),Oe()},Tt=()=>{y(!1),c(""),d([])},jt=P=>{d(ie=>ie.includes(P)?ie.filter(pe=>pe!==P):[...ie,P])};return _.useEffect(()=>{e&&Oe()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:f,selectedTimeSlot:h,isAddingRoutine:p,showRoutineModal:S,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:T,showRoutineHistory:j,selectedRoutineForHistory:k,routineHistoryData:ge,routineCreationInProgress:Y,showDeleteConfirmModal:we,setShowDeleteConfirmModal:K,routineToDelete:D,setRoutineToDelete:L,setRoutineInput:c,setSelectedTimeSlot:m,fetchRoutines:Oe,handleAddRoutine:Ye,handleDeleteRoutine:Se,deleteThisOnly:de,deleteFromNow:X,deleteAll:nt,handleStartEditRoutine:ae,handleSaveEditRoutine:ve,handleCancelEditRoutine:ce,handleToggleEditDay:ke,handleCreateRoutineFromTodo:B,createRoutineTodosForDate:Q,createRoutineTodos:Le,fetchRoutineHistory:Ge,handleCloseRoutineHistory:Et,handleOpenRoutine:Ke,handleCloseRoutine:Tt,handleToggleDay:jt}};function wO(e,t,n){const a=(c,f)=>e.filter(d=>!(d.parent_id||d.section_type!==c||c==="custom"&&d.section_id!==f)).sort((d,h)=>d.order_index-h.order_index),i=async c=>{let f=[...e];c.forEach((d,h)=>{const m=f.findIndex(p=>p.id===d.id);m!==-1&&(f[m]={...f[m],order_index:h+1})}),t(f);try{for(let d=0;d<c.length;d++)await n.from("todos").update({order_index:d+1}).eq("id",c[d].id)}catch(d){console.error("  :",d.message),t(e)}};return{handleMoveUp:async(c,f,d)=>{if(!e.find(S=>S.id===c))return;const m=a(f,d),p=m.findIndex(S=>S.id===c);if(p<=0)return;const b=Ha(m,p,p-1);await i(b)},handleMoveDown:async(c,f,d)=>{if(!e.find(S=>S.id===c))return;const m=a(f,d),p=m.findIndex(S=>S.id===c);if(p>=m.length-1)return;const b=Ha(m,p,p+1);await i(b)},handleMoveToTop:async(c,f,d)=>{if(!e.find(S=>S.id===c))return;const m=a(f,d),p=m.findIndex(S=>S.id===c);if(p<=0)return;const b=Ha(m,p,0);await i(b)},handleMoveToBottom:async(c,f,d)=>{if(!e.find(S=>S.id===c))return;const m=a(f,d),p=m.findIndex(S=>S.id===c);if(p>=m.length-1)return;const b=Ha(m,p,m.length-1);await i(b)},updateTodoOrder:i}}function SO(e,t,n,a){const[i,s]=_.useState(!1),[r,l]=_.useState(null),[o,c]=_.useState(null);return{isDraggingAny:i,activeTodoId:r,overId:o,handleDragStart:p=>{const{active:b}=p;s(!0),l(b.id)},handleDragOver:p=>{const{over:b}=p;c((b==null?void 0:b.id)||null)},handleDragCancel:()=>{s(!1),l(null),c(null)},handleDragEnd:async p=>{s(!1),l(null),c(null);const{active:b,over:S}=p;if(!S)return;if(S.id&&String(S.id).startsWith("timeline-")){const K=parseInt(String(S.id).replace("timeline-",""),10),D=e.find(L=>L.id===b.id);D&&a&&a(D.id,K);return}if(b.id===S.id)return;const y=e.find(K=>K.id===b.id),g=e.find(K=>K.id===S.id);if(!y||!g)return;const v=y.section_type,w=y.section_id||null,x=g.section_type,T=g.section_id||null,E=v!==x||v==="custom"&&w!==T,j=x,A=T,k=e.filter(K=>!(K.parent_id||K.section_type!==j||j==="custom"&&K.section_id!==A)).sort((K,D)=>K.order_index-D.order_index),W=k.findIndex(K=>K.id===b.id),ge=k.findIndex(K=>K.id===S.id);let _e=[...k];E?_e.splice(ge,0,{...y,section_type:j,section_id:A,routine_id:j==="routine"||j==="pending_routine"?y.routine_id:null}):_e=Ha(k,W,ge);let we=[...e];if(_e.forEach((K,D)=>{const L=we.findIndex(Y=>Y.id===K.id);L!==-1&&(we[L]={...K,order_index:D+1})}),E){const K=we.findIndex(D=>D.id===b.id);K!==-1&&(we[K]={...we[K],section_type:j,section_id:A,routine_id:j==="routine"||j==="pending_routine"?we[K].routine_id:null})}t(we);try{if(E){const K={section_type:j,section_id:A};j!=="routine"&&j!=="pending_routine"&&(K.routine_id=null,K.is_pending_routine=!1),await n.from("todos").update(K).eq("id",b.id)}for(let K=0;K<_e.length;K++)await n.from("todos").update({order_index:K+1}).eq("id",_e[K].id)}catch(K){console.error("  :",K.message),t(e)}}}}const xO=(e,t,n,a,i,s,r,l,o)=>{const c=wO(a,i,t),f=async(R,H)=>{const N=a.filter($=>$.scheduled_time?parseInt($.scheduled_time.split(":")[0],10)===H:!1);let q=0;N.length>0&&(q=Math.max(...N.map(V=>parseInt(V.scheduled_time.split(":")[1],10)))+1);const I=`${H.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`;i($=>$.map(V=>V.id===R?{...V,scheduled_time:I}:V));try{await t.from("todos").update({scheduled_time:I}).eq("id",R)}catch($){console.error("  :",$.message)}},d=async R=>{i(H=>H.map(N=>N.id===R?{...N,scheduled_time:null}:N));try{await t.from("todos").update({scheduled_time:null}).eq("id",R)}catch(H){console.error("  :",H.message)}},h=async(R,H=6)=>{const N=a.find(U=>U.id===R);if(!(N!=null&&N.scheduled_time))return;const q=parseInt(N.scheduled_time.split(":")[0],10),I=parseInt(N.scheduled_time.split(":")[1],10),$=a.filter(U=>U.scheduled_time&&parseInt(U.scheduled_time.split(":")[0],10)===q).sort((U,te)=>{const J=parseInt(U.scheduled_time.split(":")[1],10),be=parseInt(te.scheduled_time.split(":")[1],10);return J-be}),V=$.findIndex(U=>U.id===R);if(V>0){const U=$[V-1],te=parseInt(U.scheduled_time.split(":")[1],10),J=`${q.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`,be=`${q.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`;i(G=>G.map(re=>re.id===R?{...re,scheduled_time:J}:re.id===U.id?{...re,scheduled_time:be}:re));try{await t.from("todos").update({scheduled_time:J}).eq("id",R),await t.from("todos").update({scheduled_time:be}).eq("id",U.id)}catch(G){console.error("   :",G.message)}}else{if(q<=H)return;const U=q-1,te=a.filter(G=>G.scheduled_time&&parseInt(G.scheduled_time.split(":")[0],10)===U);let J=0;te.length>0&&(J=Math.max(...te.map(re=>parseInt(re.scheduled_time.split(":")[1],10)))+1);const be=`${U.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;i(G=>G.map(re=>re.id===R?{...re,scheduled_time:be}:re));try{await t.from("todos").update({scheduled_time:be}).eq("id",R)}catch(G){console.error("   :",G.message)}}},m=async(R,H=24)=>{const N=a.find(U=>U.id===R);if(!(N!=null&&N.scheduled_time))return;const q=parseInt(N.scheduled_time.split(":")[0],10),I=parseInt(N.scheduled_time.split(":")[1],10),$=a.filter(U=>U.scheduled_time&&parseInt(U.scheduled_time.split(":")[0],10)===q).sort((U,te)=>{const J=parseInt(U.scheduled_time.split(":")[1],10),be=parseInt(te.scheduled_time.split(":")[1],10);return J-be}),V=$.findIndex(U=>U.id===R);if(V<$.length-1){const U=$[V+1],te=parseInt(U.scheduled_time.split(":")[1],10),J=`${q.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`,be=`${q.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`;i(G=>G.map(re=>re.id===R?{...re,scheduled_time:J}:re.id===U.id?{...re,scheduled_time:be}:re));try{await t.from("todos").update({scheduled_time:J}).eq("id",R),await t.from("todos").update({scheduled_time:be}).eq("id",U.id)}catch(G){console.error("   :",G.message)}}else{if(q>=H)return;const U=q+1,te=a.filter(G=>G.scheduled_time&&parseInt(G.scheduled_time.split(":")[0],10)===U);let J=0;if(te.length>0){const G=Math.min(...te.map(re=>parseInt(re.scheduled_time.split(":")[1],10)));if(J=G>0?G-1:0,J===0&&G===0){const re=te.map(ye=>({...ye,scheduled_time:`${U.toString().padStart(2,"0")}:${(parseInt(ye.scheduled_time.split(":")[1],10)+1).toString().padStart(2,"0")}`}));i(ye=>ye.map(at=>at.id===R?{...at,scheduled_time:`${U.toString().padStart(2,"0")}:00`}:re.find(Pt=>Pt.id===at.id)||at));try{await t.from("todos").update({scheduled_time:`${U.toString().padStart(2,"0")}:00`}).eq("id",R);for(const ye of re)await t.from("todos").update({scheduled_time:ye.scheduled_time}).eq("id",ye.id)}catch(ye){console.error("   :",ye.message)}return}}const be=`${U.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;i(G=>G.map(re=>re.id===R?{...re,scheduled_time:be}:re));try{await t.from("todos").update({scheduled_time:be}).eq("id",R)}catch(G){console.error("   :",G.message)}}},p=SO(a,i,t,f),[b,S]=_.useState(""),[y,g]=_.useState(""),[v,w]=_.useState(""),[x,T]=_.useState(!0),[E,j]=_.useState(!1),[A,k]=_.useState(null),[W,ge]=_.useState(!1),[_e,we]=_.useState(!1),[K,D]=_.useState(""),[L,Y]=_.useState(null),[de,X]=_.useState(null),[nt,Oe]=_.useState(!1),[Ye,B]=_.useState(null),ae=_.useRef(new Set),ce=_.useRef(new Set),{deleteThisOnly:ve,deleteFromNow:ke,deleteAll:Se}=Cb({type:"todo",supabase:t,selectedDate:n,onDeleteSuccess:(R,H)=>{const N=a.find(q=>q.id===R);N&&(k(N),Y({id:R,deleteType:H,item:N}),ge(!0),setTimeout(()=>{ge(!1),k(null),Y(null)},5e3)),i(q=>q.filter(I=>I.id!==R)),Oe(!1),B(null)}}),Q=R=>["sun","mon","tue","wed","thu","fri","sat"][R],Le=async R=>{var H;if(!ae.current.has(R))try{ae.current.add(R);const N=new Date(R),q=Q(N.getDay()),{data:I,error:$}=await t.from("routines").select("*").eq("deleted",!1);if($)throw $;const V=I.filter(U=>{const te=U.days||[],J=te.length===0||te.includes(q);if(U.start_date){const be=new Date(U.start_date),G=N>=be;return J&&G}return J});if(V.length===0)return;for(const U of V){const te=U.text,{data:J,error:be}=await t.from("todos").select("*").eq("routine_id",U.id).eq("deleted",!1);if(be)throw be;if(J&&J.length>1){console.warn(` ${U.id}    (${J.length}).     .`);for(let re=1;re<J.length;re++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",J[re].id)}const G=J&&J.length>0?J[0]:null;if(G){if((G.hidden_dates||[]).includes(R)||G.stop_carryover_from&&R>=G.stop_carryover_from)continue;const ye=!U.days||U.days.length===0,at=G.visible_dates||[],Yt=ye?"pending_routine":"routine";if(at.includes(R)){if(G.is_pending_routine!==ye||G.section_type!==Yt){const{error:_a}=await t.from("todos").update({is_pending_routine:ye,section_type:Yt}).eq("id",G.id);_a&&console.error(" :",_a)}continue}const Pt=[...at,R].sort(),{error:Gn}=await t.from("todos").update({visible_dates:Pt,is_pending_routine:ye,section_type:ye?"pending_routine":"routine"}).eq("id",G.id);Gn&&console.error("    :",Gn.message)}else{const re=!U.days||U.days.length===0,{error:ye}=await t.from("todos").insert([{text:te,completed:!1,date:R,visible_dates:[R],hidden_dates:[],order_index:0,routine_id:U.id,is_pending_routine:re,section_type:re?"pending_routine":"routine",user_id:(H=e==null?void 0:e.user)==null?void 0:H.id}]);ye&&console.error("   :",ye.message)}}}catch(N){console.error("   :",N.message)}finally{setTimeout(()=>{ae.current.delete(R)},1e3)}},Ge=async()=>{var R;if(!((R=e==null?void 0:e.user)!=null&&R.id)){T(!1);return}try{T(!0);const H=Ce(n);await Le(H);const{data:N,error:q}=await t.from("todos").select("*").eq("deleted",!1);if(q)throw q;const I=(N||[]).filter(G=>G.routine_id),$=[...new Set(I.map(G=>G.routine_id))];let V={};if($.length>0){const{data:G}=await t.from("routines").select("*").in("id",$);V=(G||[]).reduce((re,ye)=>(re[ye.id]=ye,re),{})}const U=new Date(H),te=Q(U.getDay()),J=(N||[]).filter(G=>{if(G.stop_carryover_from&&H>=G.stop_carryover_from||G.hidden_dates&&Array.isArray(G.hidden_dates)&&G.hidden_dates.includes(H))return!1;if(G.routine_id){const ye=V[G.routine_id];if(ye){const at=ye.days||[];if(at.length>0&&!at.includes(te))return!1}}return G.visible_dates&&Array.isArray(G.visible_dates)?G.visible_dates.includes(H):G.date===H}),be=J.filter(G=>G.routine_id);if(be.length>0){const G=[...new Set(be.map(ye=>ye.routine_id))],{data:re}=await t.from("routines").select("*").in("id",G);for(const ye of be){const at=re==null?void 0:re.find(Gn=>Gn.id===ye.routine_id);if(!at)continue;const Yt=!at.days||at.days.length===0,Pt=Yt?"pending_routine":"routine";(ye.section_type!==Pt||ye.is_pending_routine!==Yt)&&(await t.from("todos").update({section_type:Pt,is_pending_routine:Yt}).eq("id",ye.id),ye.section_type=Pt,ye.is_pending_routine=Yt)}}i(J)}catch(H){console.error("   :",H.message)}finally{T(!1)}},Et=async()=>{var R;if(!(b.trim()===""||E))try{j(!0);const H=a.filter(V=>!V.parent_id&&V.section_type==="normal"),N=H.length>0?Math.max(...H.map(V=>V.order_index))+1:1,q=Ce(n),{data:I,error:$}=await t.from("todos").insert([{text:b,completed:!1,order_index:N,date:q,visible_dates:[q],hidden_dates:[],section_type:"normal",user_id:(R=e==null?void 0:e.user)==null?void 0:R.id}]).select();if($)throw $;i([...a,I[0]]),S("")}catch(H){console.error("   :",H.message)}finally{j(!1)}},Ke=async()=>{var R,H;if(!(y.trim()===""||E))try{j(!0);const N=Ce(n),{data:q,error:I}=await t.from("routines").insert([{text:y,days:[],start_date:N,user_id:(R=e==null?void 0:e.user)==null?void 0:R.id}]).select();if(I)throw I;const $=q[0],V=a.filter(be=>!be.parent_id&&be.section_type==="pending_routine"),U=V.length>0?Math.max(...V.map(be=>be.order_index))+1:1,{data:te,error:J}=await t.from("todos").insert([{text:y,completed:!1,order_index:U,date:N,visible_dates:[N],hidden_dates:[],routine_id:$.id,is_pending_routine:!0,section_type:"pending_routine",user_id:(H=e==null?void 0:e.user)==null?void 0:H.id}]).select();if(J)throw J;r([$,...s]),i([...a,te[0]]),g("")}catch(N){console.error("   :",N.message)}finally{j(!1)}},Tt=async()=>{var R;if(!(v.trim()===""||E))try{j(!0);const H=a.filter(V=>!V.parent_id&&V.section_type==="normal"),N=H.length>0?Math.max(...H.map(V=>V.order_index))+1:1,q=Ce(n),{data:I,error:$}=await t.from("todos").insert([{text:v,completed:!1,order_index:N,date:q,visible_dates:[q],hidden_dates:[],section_type:"normal",user_id:(R=e==null?void 0:e.user)==null?void 0:R.id}]).select();if($)throw $;i([...a,I[0]]),w("")}catch(H){console.error("   :",H.message)}finally{j(!1)}},jt=async R=>{const H=a.find(N=>N.id===R);if(H)try{const N=!H.completed,q=N?new Date().toISOString():null,{error:I}=await t.from("todos").update({completed:N,completed_at:q}).eq("id",R);if(I)throw I;i(a.map($=>$.id===R?{...$,completed:N,completed_at:q}:$))}catch(N){console.error("   :",N.message)}},P=R=>{i(a.filter(H=>H.id!==R))},ie=async(R,H)=>{const N=a.find(q=>q.id===R);N&&(H?H==="this-only"?await ve(N):H==="from-now"?await ke(N):H==="all"&&await Se(N):(B(N),Oe(!0)))},pe=async()=>{if(!(!A||!L))try{const{deleteType:R}=L,H=Ce(n);if(R==="this-only"){const N=(A.hidden_dates||[]).filter(I=>I!==H),{error:q}=await t.from("todos").update({hidden_dates:N}).eq("id",A.id);if(q)throw q}else if(R==="from-now"){const{error:N}=await t.from("todos").update({visible_dates:A.visible_dates,stop_carryover_from:null}).eq("id",A.id);if(N)throw N}else if(R==="all"){const{error:N}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",A.id);if(N)throw N}i(N=>{const q={...A};return[...N,q].sort(($,V)=>$.order_index-V.order_index)}),ge(!1),k(null),Y(null)}catch(R){console.error("  :",R.message)}},Ae=async(R,H)=>{var N,q;try{let I=null;ce.current.add(R);const $=new Date().toISOString();if(i(te=>(I=te.find(J=>J.id===R),!I||I.text===H?(ce.current.delete(R),te):te.map(J=>J.id===R?{...J,text:H,updated_at:$}:J))),!I||I.text===H)return;const{error:V}=await t.from("todo_history").insert([{todo_id:R,previous_text:I.text,new_text:H,changed_on_date:I.date,user_id:(N=e==null?void 0:e.user)==null?void 0:N.id}]);if(V&&console.error("  :",V.message),I.original_todo_id){const{data:te,error:J}=await t.from("todos").select("text, date").eq("id",I.original_todo_id).single();!J&&te&&await t.from("todo_history").insert([{todo_id:I.original_todo_id,previous_text:I.text,new_text:H,changed_on_date:I.date,user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}])}const{error:U}=await t.from("todos").update({text:H}).eq("id",R);U?(console.error("   :",U.message),i(te=>te.map(J=>J.id===R?I:J)),ce.current.delete(R)):setTimeout(()=>{ce.current.delete(R)},5e3)}catch(I){console.error("   :",I.message),ce.current.delete(R)}},Ot=async(R,H)=>{var N;if(!(!H||H.trim()===""))try{const I=a.filter(te=>te.parent_id===R).length+1,$=Ce(n),{data:V,error:U}=await t.from("todos").insert([{text:H.trim(),completed:!1,order_index:I,date:$,parent_id:R,user_id:(N=e==null?void 0:e.user)==null?void 0:N.id}]).select();if(U)throw U;i([...a,V[0]])}catch(q){console.error("    :",q.message)}};return{inputValue:b,setInputValue:S,routineInputValue:y,setRoutineInputValue:g,normalInputValue:v,setNormalInputValue:w,loading:x,isAdding:E,deletedTodo:A,showUndoToast:W,showSuccessToast:_e,successToastMessage:K,lastDeleteAction:L,focusedTodoId:de,setFocusedTodoId:X,selectedTodoForModal:l,showDeleteConfirmModal:nt,setShowDeleteConfirmModal:Oe,todoToDelete:Ye,setTodoToDelete:B,isDraggingAny:p.isDraggingAny,activeTodoId:p.activeTodoId,overId:p.overId,fetchTodos:Ge,handleAddTodo:Et,handleAddRoutineTodo:Ke,handleAddNormalTodo:Tt,handleToggleTodo:jt,handleDeleteTodo:ie,deleteThisOnly:ve,deleteFromNow:ke,deleteAll:Se,handleUndoDelete:pe,handleEditTodo:Ae,handleAddSubTodo:Ot,handleRemoveTodoFromUI:P,handleDragStart:p.handleDragStart,handleDragOver:p.handleDragOver,handleDragCancel:p.handleDragCancel,handleDragEnd:p.handleDragEnd,handleMoveUp:c.handleMoveUp,handleMoveDown:c.handleMoveDown,handleMoveToTop:c.handleMoveToTop,handleMoveToBottom:c.handleMoveToBottom,handleRemoveFromTimeline:d,handleMoveUpInTimeline:h,handleMoveDownInTimeline:m}},EO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,s]=_.useState(!1),[r,l]=_.useState({}),[o,c]=_.useState([]);return{showTodoHistoryModal:i,todoHistory:r,expandedHistoryIds:o,handleOpenTodoHistoryModal:async m=>{a(m);try{const{data:p,error:b}=await t.from("todo_history").select("*").eq("todo_id",m.id).order("changed_at",{ascending:!1});if(b)throw b;l(S=>({...S,[m.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}s(!0)},handleCloseTodoHistoryModal:()=>{s(!1),a(null),c([])},toggleHistoryDetail:m=>{c(p=>p.includes(m)?p.filter(b=>b!==m):[...p,m])}}},TO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=_.useState(!1),[s,r]=_.useState([]),[l,o]=_.useState(!1),[c,f]=_.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:s,setRoutineDaysForModal:r,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:c,setRoutineTimeSlotForModal:f,handleOpenTodoRoutineSetupModal:p=>{t(p);const b=n.find(S=>S.id===p.routine_id);b?(r(b.days||[]),f(b.time_slot||""),o(!1)):(r([]),f(""),o(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),r([]),f(""),o(!1)},handleToggleRoutineDayInModal:p=>{r(b=>b.includes(p)?b.filter(S=>S!==p):[...b,p])}}},jO=({session:e,supabase:t,selectedDate:n})=>{const a=_.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async r=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const c=l.filter(f=>(f.hidden_dates||[]).includes(r)?!1:f.visible_dates&&Array.isArray(f.visible_dates)&&f.visible_dates.length>0?f.visible_dates.includes(r)?!1:f.visible_dates.some(m=>m<r):!!(f.date&&f.date<r));if(c.length===0)return;for(const f of c){let d=[];f.visible_dates&&Array.isArray(f.visible_dates)&&f.visible_dates.length>0?d=[...f.visible_dates,r]:d=f.date?[f.date,r]:[r];const{error:h}=await t.from("todos").update({visible_dates:d}).eq("id",f.id);h&&console.error(` ${f.id}  :`,h.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const r=new Date,l=Ce(r),{data:o,error:c}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(c)throw c;if(!o||o.length===0)return;const f=new Date(o[0].date+"T00:00:00");let d=new Date(f);const h=new Date(r);h.setDate(h.getDate()-1);let m=0;for(;d<=h;){const p=Ce(d),b=new Date(d);b.setDate(b.getDate()+1);const S=Ce(b),{data:y,error:g}=await t.from("todos").select("*").eq("date",p).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(y&&y.length>0){const{data:v,error:w}=await t.from("todos").select("*").eq("date",S).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const x=new Set;v==null||v.forEach(E=>{E.original_todo_id!==null&&x.add(E.original_todo_id)});const T=y.filter(E=>{if(E.stop_carryover_from&&p>=E.stop_carryover_from)return!1;const j=E.original_todo_id||E.id;return!x.has(j)});if(T.length>0){const E=T.map(K=>K.original_todo_id||K.id).filter((K,D,L)=>L.indexOf(K)===D),{data:j,error:A}=await t.from("todos").select("id, created_at").in("id",E);if(A)throw A;const k={};j==null||j.forEach(K=>{k[K.id]=K.created_at});const ge=(v?v.length:0)+1,_e=T.map((K,D)=>{const L=K.original_todo_id||K.id;return{text:K.text,completed:!1,date:S,created_at:k[L]||K.created_at,order_index:ge+D,original_todo_id:L,parent_id:null,routine_id:null}}),{error:we}=await t.from("todos").insert(_e);if(we)throw we;m+=T.length}}d.setDate(d.getDate()+1)}m>0}catch(r){console.error("    :",r.message)}finally{a.current=!1}}}};function OO(e,t){const[n,a]=_.useState([]),[i,s]=_.useState(!1),[r,l]=_.useState(""),[o,c]=_.useState(null),[f,d]=_.useState(""),[h,m]=_.useState(!1),[p,b]=_.useState(""),S=()=>{if(n.length===0)return"";const T=Math.floor(Math.random()*n.length);return n[T]},y=()=>{let T=0;m(!0),setTimeout(()=>{let E=S();for(;E===p&&n.length>1&&T<10;)E=S(),T++;m(!1),b(E)},300)},g=async()=>{try{const{data:T,error:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(E)throw E;if(T&&T.length>0){const j=T.map(A=>A.message);a(j),p||b(j[0])}}catch(T){console.error("   :",T.message)}},v=async T=>{var E;try{const{data:j}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),A=j&&j.length>0?j[0].order_index:0,{error:k}=await t.from("encouragement_messages").insert([{message:T,order_index:A+1,user_id:(E=e==null?void 0:e.user)==null?void 0:E.id}]);if(k)throw k;await g()}catch(j){console.error("   :",j.message),alert("   .")}},w=async(T,E)=>{try{const{data:j}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!j||T>=j.length)throw new Error("   .");const A=j[T],{error:k}=await t.from("encouragement_messages").update({message:E}).eq("id",A.id);if(k)throw k;await g()}catch(j){console.error("   :",j.message),alert("   .")}},x=async T=>{try{const{data:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!E||T>=E.length)throw new Error("   .");const j=E[T],{error:A}=await t.from("encouragement_messages").delete().eq("id",j.id);if(A)throw A;await g()}catch(E){console.error("   :",E.message),alert("   .")}};return _.useEffect(()=>{n.length>0&&!p&&b(S())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:s,newEncouragementMessage:r,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:c,editingEncouragementText:f,setEditingEncouragementText:d,showEncouragementEmoji:h,currentEncouragementMessage:p,handleEncouragementClick:y,fetchEncouragementMessages:g,addEncouragementMessage:v,updateEncouragementMessage:w,deleteEncouragementMessage:x}}function AO(e){const[t,n]=_.useState(!1),[a,i]=_.useState([]),[s,r]=_.useState("1week"),l=async()=>{try{const f=new Date,d=Ce(f);let h=null;if(s!=="all")switch(h=new Date(f),s){case"1week":h.setDate(f.getDate()-7);break;case"2weeks":h.setDate(f.getDate()-14);break;case"1month":h.setMonth(f.getMonth()-1);break;case"3months":h.setMonth(f.getMonth()-3);break;case"6months":h.setMonth(f.getMonth()-6);break}let m=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});h&&(m=m.gte("date",Ce(h)));const{data:p,error:b}=await m;if(b)throw b;const S={};for(const g of p||[]){const v=g.original_todo_id||g.id;S[v]||(S[v]=[]),S[v].push(g)}const y=Object.entries(S).map(([g,v])=>{const w=v.sort((A,k)=>new Date(A.date)-new Date(k.date)),x=w[0],T=w.map(A=>A.date);let E=null;for(const A of w)if(A.completed&&A.completed_at){const k=new Date(A.completed_at);E=Ce(k);break}const j=w.find(A=>A.date===d);return{text:x.text,originalId:parseInt(g),createdAt:x.created_at,startDate:T[0],endDate:T[T.length-1],dates:T,completed:(j==null?void 0:j.completed)||!1,completedDate:E}}).sort((g,v)=>new Date(g.createdAt)-new Date(v.createdAt));i(y)}catch(f){console.error("   :",f.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:s,setGanttPeriod:r,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function NO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=Gj(),[i,s]=_.useState(new Date),[r,l]=_.useState(!1),o=_.useRef(new Set),c=m1(Tu(sh,{activationConstraint:{delay:120,tolerance:5}}),Tu(gb,{activationConstraint:{delay:120,tolerance:5}}),Tu(ah,{coordinateGetter:Vj})),[f,d]=_.useState([]),[h,m]=_.useState(null),{showTodoHistoryModal:p,todoHistory:b,expandedHistoryIds:S,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:g,toggleHistoryDetail:v}=EO({session:e,supabase:He,selectedTodoForModal:h,setSelectedTodoForModal:m}),{showRoutineModal:w,routines:x,setRoutines:T,routineInput:E,setRoutineInput:j,selectedDays:A,selectedTimeSlot:k,setSelectedTimeSlot:W,isAddingRoutine:ge,editingRoutineId:_e,editingRoutineText:we,setEditingRoutineText:K,showRoutineHistory:D,selectedRoutineForHistory:L,routineHistoryData:Y,editingRoutineDays:de,showDeleteConfirmModal:X,setShowDeleteConfirmModal:nt,routineToDelete:Oe,fetchRoutines:Ye,handleAddRoutine:B,handleCreateRoutineFromTodo:ae,handleStartEditRoutine:ce,handleCancelEditRoutine:ve,handleSaveEditRoutine:ke,handleToggleEditDay:Se,handleDeleteRoutine:Q,deleteThisOnly:Le,deleteFromNow:Ge,deleteAll:Et,fetchRoutineHistory:Ke,handleCloseRoutineHistory:Tt,handleOpenRoutine:jt,handleCloseRoutine:P,handleToggleDay:ie,createRoutineTodos:pe}=_O({session:e,supabase:He,selectedDate:i,setTodos:d,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:Ae,routineDaysForModal:Ot,setRoutineDaysForModal:R,isEditingRoutineInModal:H,setIsEditingRoutineInModal:N,routineTimeSlotForModal:q,setRoutineTimeSlotForModal:I,handleOpenTodoRoutineSetupModal:$,handleCloseTodoRoutineSetupModal:V,handleToggleRoutineDayInModal:U}=TO({selectedTodoForModal:h,setSelectedTodoForModal:m,routines:x}),{carryOverIncompleteTodos:te}=jO({session:e,supabase:He,selectedDate:i}),{routineInputValue:J,setRoutineInputValue:be,normalInputValue:G,setNormalInputValue:re,loading:ye,isDraggingAny:at,isAdding:Yt,showUndoToast:Pt,showSuccessToast:Gn,successToastMessage:Mi,lastDeleteAction:_a,focusedTodoId:it,setFocusedTodoId:Mt,showDeleteConfirmModal:kt,setShowDeleteConfirmModal:_n,todoToDelete:$t,activeTodoId:lt,overId:Ut,fetchTodos:Kn,handleAddRoutineTodo:ut,handleAddNormalTodo:wn,handleToggleTodo:At,handleDeleteTodo:Vt,handleAddSubTodo:Sn,handleEditTodo:xn,handleDragStart:En,handleDragOver:ai,handleDragCancel:Qs,handleDragEnd:Db,handleUndoDelete:oh,deleteThisOnly:Rb,deleteFromNow:Mb,deleteAll:kb,handleRemoveTodoFromUI:fl,handleMoveUp:hl,handleMoveDown:ml,handleMoveToTop:gl,handleMoveToBottom:vl,handleRemoveFromTimeline:Ub,handleMoveUpInTimeline:zb,handleMoveDownInTimeline:Lb}=xO(e,He,i,f,d,x,T,h),yl=O=>{Mt(O)},pl=O=>{},Bb=()=>{oh()},{showGanttChart:ch,ganttData:Hb,ganttPeriod:uh,setGanttPeriod:qb,handleOpenGanttChart:$b,handleCloseGanttChart:Vb,fetchGanttData:Ib}=AO(He),[Yb,dh]=_.useState(!1),{memoContent:Gb,setMemoContent:Kb,isSavingMemo:Xb,fetchMemoContent:Qb}=pO(e),{encouragementMessages:Jb,showEncouragementModal:Zb,setShowEncouragementModal:fh,newEncouragementMessage:Pb,setNewEncouragementMessage:Fb,editingEncouragementId:Wb,setEditingEncouragementId:e_,editingEncouragementText:t_,setEditingEncouragementText:n_,showEncouragementEmoji:a_,currentEncouragementMessage:i_,handleEncouragementClick:s_,fetchEncouragementMessages:r_,addEncouragementMessage:l_,updateEncouragementMessage:o_,deleteEncouragementMessage:c_}=OO(e,He),u_=async O=>{var z,ne;try{const F=Ce(i),M=f.filter(Ee=>!Ee.parent_id&&Ee.section_type==="normal"),se=M.length>0?Math.max(...M.map(Ee=>Ee.order_index))+1:1,We=`temp_${Date.now()}_${Math.random()}`,xe={id:We,text:O,completed:!1,order_index:se,date:F,visible_dates:[F],hidden_dates:[],section_type:"normal",user_id:(z=e==null?void 0:e.user)==null?void 0:z.id,_isOptimistic:!0};if(d(Ee=>[...Ee,xe]),(ne=e==null?void 0:e.user)!=null&&ne.id&&He){const{data:Ee,error:et}=await He.from("todos").insert([{text:O,completed:!1,order_index:se,date:F,visible_dates:[F],hidden_dates:[],section_type:"normal",user_id:e.user.id}]).select();if(et)throw et;d(It=>It.map(Ne=>Ne.id===We?Ee[0]:Ne))}else{const Ee=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");Ee.push({text:O,dateStr:F,timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(Ee))}}catch(F){console.error("Quick add error:",F);const M=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");M.push({text:O,dateStr:Ce(i),timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(M))}},[wa,d_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Tc,hh]=_.useState({normal:"  ",routine:"  "}),[ki,bl]=_.useState([]),[f_,mh]=_.useState(!1),[gh,vh]=_.useState(!1),[yh,ph]=_.useState({}),h_=yO(e),{sectionOrder:Ui,setSectionOrder:bh,fetchSectionOrder:m_,saveSectionOrder:_h,moveSectionLeft:jc,moveSectionRight:Oc}=h_,zi=_.useRef(null),[g_,v_]=_.useState(0),Ac=_.useRef(null),[Li,Nc]=_.useState([]),[y_,wh]=_.useState(!1),Sh=async O=>{var z;(z=e==null?void 0:e.user)!=null&&z.id&&await Oa.set(Aa.HIDDEN_SECTIONS,O,e.user.id)},p_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const O=await Oa.get(Aa.HIDDEN_SECTIONS);O&&Nc(O)},Cc=O=>{const z=[...Li,O];Nc(z),Sh(z)},b_=O=>{const z=Li.filter(ne=>ne!==O);Nc(z),Sh(z)},__=()=>{const O=new Date(i);O.setDate(O.getDate()-1),s(O)},w_=()=>{const O=new Date(i);O.setDate(O.getDate()+1),s(O)},S_=O=>{const z=new Date(O.target.value+"T00:00:00");s(z)},x_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const O=await Oa.get(Aa.SECTION_TITLES);O&&hh(ne=>({...ne,...O}))},E_=async(O,z)=>{var F;if(!((F=e==null?void 0:e.user)!=null&&F.id))return;const ne={...Tc,[O]:z};hh(ne),await Oa.set(Aa.SECTION_TITLES,ne,e.user.id)},T_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const O=await Oa.get(Aa.CUSTOM_SECTIONS);O&&bl(O)},Dc=async O=>{var z;(z=e==null?void 0:e.user)!=null&&z.id&&await Oa.set(Aa.CUSTOM_SECTIONS,O,e.user.id)},j_=({name:O,icon:z})=>{const ne={id:`custom-${Date.now()}`,name:O,icon:z},F=[...ki,ne];bl(F),Dc(F);const M=[...Ui,ne.id];bh(M),_h(M)},O_=async O=>{const z=yh[O]||"";if(!(!z.trim()||gh)){if(!e){alert(" ");return}vh(!0);try{const ne=f.filter(Ee=>!Ee.parent_id&&Ee.section_type==="custom"&&Ee.section_id===O),F=ne.length>0?Math.max(...ne.map(Ee=>Ee.order_index))+1:1,M=Ce(i),se={text:z.trim(),completed:!1,order_index:F,date:M,visible_dates:[M],hidden_dates:[],user_id:e.user.id,section_id:O,section_type:"custom"},{data:We,error:xe}=await He.from("todos").insert([se]).select();if(xe)throw xe;We&&We.length>0&&(d(Ee=>[...Ee,We[0]]),ph(Ee=>({...Ee,[O]:""})))}catch(ne){console.error("  :",ne.message)}finally{vh(!1)}}},A_=async O=>{if(!confirm("  ?      ."))return;try{const{error:F}=await He.from("todos").delete().eq("section_id",O);if(F){console.error("   :",F.message);return}}catch(F){console.error("   :",F.message);return}const z=ki.filter(F=>F.id!==O);bl(z),Dc(z);const ne=Ui.filter(F=>F!==O);bh(ne),_h(ne),d(F=>F.filter(M=>M.section_id!==O))},N_=async(O,z)=>{try{const ne=Ce(O),F=Ce(z),{data:M,error:se}=await He.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(se)throw se;const We=(M||[]).filter(xe=>xe.stop_carryover_from&&ne>=xe.stop_carryover_from?!1:xe.visible_dates&&Array.isArray(xe.visible_dates)&&xe.visible_dates.length>0?xe.visible_dates.includes(ne):xe.date===ne);if(We.length===0)return;for(const xe of We){let Ee=xe.visible_dates||[xe.date];if(Ee.includes(F))continue;const et=[...Ee,F].sort(),{error:It}=await He.from("todos").update({visible_dates:et}).eq("id",xe.id);It&&console.error(` ${xe.id}  :`,It.message)}}catch(ne){console.error("   :",ne.message)}};_.useEffect(()=>{let O=null;const z=()=>{document.body.classList.add("is-scrolling"),O&&clearTimeout(O),O=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",z),()=>{window.removeEventListener("scroll",z),O&&clearTimeout(O)}},[]),_.useEffect(()=>{e&&(r_(),Qb(),Ye(),m_(),x_(),T_(),p_())},[e]),_.useEffect(()=>{if(!zi.current)return;const O=zi.current,z=wa==="horizontal";let ne=!1,F=0,M=0,se=0;const We=fe=>fe.type.includes("touch")?z?fe.touches[0].pageX:fe.touches[0].pageY:z?fe.pageX:fe.pageY,xe=fe=>{fe.target.closest(".section-block")||(ne=!0,F=We(fe),M=z?O.scrollLeft:O.scrollTop,O.style.transition="none",O.style.transform=z?"translateX(0)":"translateY(0)",se=0)},Ee=()=>{ne&&se!==0&&(O.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",O.style.transform=z?"translateX(0)":"translateY(0)",setTimeout(()=>{O.style.transition="none",se=0},300)),ne=!1},et=()=>{se!==0&&(O.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",O.style.transform=z?"translateX(0)":"translateY(0)",setTimeout(()=>{O.style.transition="none",se=0},300)),ne=!1},It=fe=>{if(!ne)return;fe.preventDefault();const ue=(We(fe)-F)*1.5,bt=M-ue,ht=z?O.scrollWidth-O.clientWidth:O.scrollHeight-O.clientHeight;if(bt<0){const ln=-bt;se=Math.min(ln*.3,100),z?(O.scrollLeft=0,O.style.transform=`translateX(${se}px)`):(O.scrollTop=0,O.style.transform=`translateY(${se}px)`)}else if(bt>ht){const ln=bt-ht;se=-Math.min(ln*.3,100),z?(O.scrollLeft=ht,O.style.transform=`translateX(${se}px)`):(O.scrollTop=ht,O.style.transform=`translateY(${se}px)`)}else se=0,O.style.transform=z?"translateX(0)":"translateY(0)",z?O.scrollLeft=bt:O.scrollTop=bt},Ne=fe=>{z&&fe.target.closest(".section-block")&&fe.deltaX!==0&&fe.preventDefault()};return O.addEventListener("mousedown",xe),document.addEventListener("mouseup",et),document.addEventListener("mouseleave",Ee),O.addEventListener("mousemove",It),O.addEventListener("touchstart",xe,{passive:!0}),O.addEventListener("touchmove",It,{passive:!1}),O.addEventListener("touchend",et),O.addEventListener("touchcancel",et),O.addEventListener("wheel",Ne,{passive:!1}),()=>{O.removeEventListener("mousedown",xe),document.removeEventListener("mouseup",et),document.removeEventListener("mouseleave",Ee),O.removeEventListener("mousemove",It),O.removeEventListener("touchstart",xe),O.removeEventListener("touchmove",It),O.removeEventListener("touchend",et),O.removeEventListener("touchcancel",et),O.removeEventListener("wheel",Ne)}},[wa,f,x]),_.useEffect(()=>{if(wa!=="horizontal"||!zi.current)return;const O=zi.current,z=()=>{const ne=O.querySelectorAll(".section-block");if(ne.length===0)return;const F=O.getBoundingClientRect(),M=F.left+F.width/2;let se=0,We=1/0;ne.forEach((xe,Ee)=>{const et=xe.getBoundingClientRect(),It=et.left+et.width/2,Ne=Math.abs(It-M);Ne<We&&(We=Ne,se=Ee)}),v_(se)};return O.addEventListener("scroll",z),z(),()=>O.removeEventListener("scroll",z)},[wa,f,x]),_.useEffect(()=>{if(!Ac.current)return;const O=Ac.current;let z=!1,ne=0,F=0,M=0;const se=et=>{et.target.closest(".section-block")||(z=!0,ne=et.pageY,F=O.scrollTop,O.style.transition="none",O.style.transform="translateY(0)",M=0)},We=()=>{z&&M!==0&&(O.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",O.style.transform="translateY(0)",setTimeout(()=>{O.style.transition="none",M=0},300)),z=!1},xe=()=>{M!==0&&(O.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",O.style.transform="translateY(0)",setTimeout(()=>{O.style.transition="none",M=0},300)),z=!1},Ee=et=>{if(!z)return;et.preventDefault();const Ne=(et.pageY-ne)*1.5,fe=F-Ne,Ft=O.scrollHeight-O.clientHeight;if(fe<0){const ue=-fe;M=Math.min(ue*.3,100),O.scrollTop=0,O.style.transform=`translateY(${M}px)`}else if(fe>Ft){const ue=fe-Ft;M=-Math.min(ue*.3,100),O.scrollTop=Ft,O.style.transform=`translateY(${M}px)`}else M=0,O.style.transform="translateY(0)",O.scrollTop=fe};return O.addEventListener("mousedown",se),document.addEventListener("mouseup",xe),document.addEventListener("mouseleave",We),O.addEventListener("mousemove",Ee),()=>{O.removeEventListener("mousedown",se),document.removeEventListener("mouseup",xe),document.removeEventListener("mouseleave",We),O.removeEventListener("mousemove",Ee)}},[f,x]),_.useEffect(()=>{ch&&Ib()},[uh]),_.useEffect(()=>{const O=async()=>{const ne=new Date,F=new Date(ne);F.setHours(24,0,0,0);const M=F.getTime()-ne.getTime();return setTimeout(async()=>{const We=new Date(ne),xe=new Date(ne);xe.setDate(xe.getDate()+1),await N_(We,xe),await pe(),s(new Date),O()},M)},z=O();return()=>clearTimeout(z)},[]),_.useEffect(()=>{(async()=>{var xe;const F=Ce(i),se=Ce(new Date);F===se&&((xe=e==null?void 0:e.user)!=null&&xe.id)&&await te(F),await Kn()})();const z=Ce(i),ne=He.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${z}`},F=>{F.eventType==="INSERT"?d(M=>M.some(se=>se.id===F.new.id)?M:[...M,F.new]):F.eventType==="UPDATE"?d(M=>o.current.has(F.new.id)?M:M.map(se=>se.id===F.new.id?F.new:se)):F.eventType==="DELETE"&&d(M=>M.filter(se=>se.id!==F.old.id))}).subscribe(F=>{});return()=>{He.removeChannel(ne)}},[i,e]),_.useEffect(()=>{if(at){const O=window.scrollY,z=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${O}px`,document.body.style.left="0",document.body.style.right="0",z>0&&(document.body.style.paddingRight=`${z}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,O)}}},[at]);const xh=vO({authLoading:t,session:e,handleGoogleLogin:n});return xh||u.jsxs("div",{className:`app ${at?"dragging-active":""}`,children:[u.jsx(Kj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:wa,setViewMode:d_,onOpenRoutine:jt,onOpenGanttChart:$b,onOpenEncouragementModal:()=>fh(!0),onOpenAddSection:()=>mh(!0),onOpenHiddenSections:()=>wh(!0),onLogout:a}),u.jsxs("div",{className:`container ${wa==="horizontal"?"container-wide":""}`,children:[u.jsx(Qj,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:S_,onPrevDay:__,onNextDay:w_,showEncouragementEmoji:a_,currentEncouragementMessage:i_,onEncouragementClick:s_,setSelectedDate:s,onQuickAdd:u_,onOpenMemo:()=>dh(!0)}),u.jsxs("div",{className:"content-scrollable",ref:Ac,children:[u.jsxs(dj,{sensors:c,collisionDetection:y1,onDragStart:En,onDragOver:ai,onDragEnd:Db,onDragCancel:Qs,measuring:{droppable:{strategy:Rs.Always}},children:[u.jsx("div",{ref:zi,className:`sections-container ${wa==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:u.jsx("div",{className:"todo-list",children:ye?u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-dots",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})}):(()=>{const O=f.filter(M=>!M.parent_id&&M.section_type==="routine").sort((M,se)=>M.order_index-se.order_index),z=f.filter(M=>!M.parent_id&&M.section_type==="pending_routine").sort((M,se)=>M.order_index-se.order_index),ne=f.filter(M=>!M.parent_id&&M.section_type==="normal").sort((M,se)=>M.order_index-se.order_index),F=[...O.map(M=>M.id),...z.map(M=>M.id),...ne.map(M=>M.id),...ki.flatMap(M=>f.filter(se=>!se.parent_id&&se.section_type==="custom"&&se.section_id===M.id).map(se=>se.id))];return u.jsx(ar,{items:F,strategy:nr,children:Ui.filter(M=>!Li.includes(M)).map((M,se)=>{const We=Ui.filter(Ne=>!Li.includes(Ne)),xe=We.indexOf(M),Ee=xe===0,et=xe===We.length-1,It=[...Ee?[]:[{icon:"",label:" ",onClick:()=>jc(M)}],...et?[]:[{icon:"",label:" ",onClick:()=>Oc(M)}],{icon:"",label:"",onClick:()=>Cc(M)}];if(M==="timeline")return u.jsxs("div",{className:"timeline-section section-block",children:[u.jsx(Nb,{title:" ",settingsMenuItems:It}),u.jsx("div",{className:"timeline-content",children:u.jsx(Fj,{startHour:6,endHour:24,scheduledTodos:f.filter(Ne=>Ne.scheduled_time&&!Ne.parent_id),onToggle:At,onRemoveFromTimeline:Ub,onMoveUpInTimeline:zb,onMoveDownInTimeline:Lb})})]},"timeline");if(M==="routine")return u.jsx("div",{children:u.jsxs(Nu,{title:" ",className:"routine-section section-block",inputValue:J,setInputValue:be,onAddTodo:ut,isAdding:Yt,placeholder:"   ...",settingsMenuItems:It,children:[O.length>0&&u.jsx(ar,{items:O.map(Ne=>Ne.id),strategy:nr,children:O.map((Ne,fe)=>{const Ft=f.filter(ue=>ue.parent_id===Ne.id);return u.jsx(Pi,{todo:Ne,index:fe,onToggle:At,onDelete:Vt,onEdit:xn,formatDate:Gi,formatDateOnly:fi,isFocused:it===Ne.id,onFocus:yl,onAddSubTodo:Sn,subtodos:Ft,level:0,onCreateRoutine:ae,routines:x,onShowRoutineHistory:Ke,onOpenRoutineSetupModal:$,onOpenHistoryModal:y,currentPageDate:Ce(i),onRemoveFromUI:fl,showSuccessMessage:pl,activeId:lt,overId:Ut,onMoveUp:ue=>hl(ue,"routine",null),onMoveDown:ue=>ml(ue,"routine",null),onMoveToTop:ue=>gl(ue,"routine",null),onMoveToBottom:ue=>vl(ue,"routine",null),isFirst:fe===0,isLast:fe===O.length-1},Ne.id)})}),O.length>0&&z.length>0&&u.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:u.jsx("div",{className:"separator-line"})}),z.length>0&&u.jsx(ar,{items:z.map(Ne=>Ne.id),strategy:nr,children:z.map((Ne,fe)=>{const Ft=f.filter(ue=>ue.parent_id===Ne.id);return u.jsx(Pi,{todo:Ne,index:fe,onToggle:At,onDelete:Vt,onEdit:xn,formatDate:Gi,formatDateOnly:fi,isFocused:it===Ne.id,onFocus:yl,onAddSubTodo:Sn,subtodos:Ft,level:0,onCreateRoutine:ae,routines:x,onShowRoutineHistory:Ke,onOpenRoutineSetupModal:$,onOpenHistoryModal:y,currentPageDate:Ce(i),isPendingRoutine:!0,onRemoveFromUI:fl,showSuccessMessage:pl,activeId:lt,overId:Ut,onMoveUp:ue=>hl(ue,"pending_routine",null),onMoveDown:ue=>ml(ue,"pending_routine",null),onMoveToTop:ue=>gl(ue,"pending_routine",null),onMoveToBottom:ue=>vl(ue,"pending_routine",null),isFirst:fe===0,isLast:fe===z.length-1},Ne.id)})})]})},"routine");if(M==="normal"){const Ne=[...Ee?[]:[{icon:"",label:" ",onClick:()=>jc(M)}],...et?[]:[{icon:"",label:" ",onClick:()=>Oc(M)}],{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&Cc("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return u.jsx("div",{children:u.jsx(Nu,{title:Tc.normal,className:"normal-section section-block",inputValue:G,setInputValue:re,onAddTodo:wn,isAdding:Yt,placeholder:"   ...",editable:!0,onTitleChange:fe=>E_("normal",fe),settingsMenuItems:Ne,children:ne.length>0&&u.jsx(ar,{items:ne.map(fe=>fe.id),strategy:nr,children:ne.map((fe,Ft)=>{const ue=f.filter(ht=>ht.parent_id===fe.id),bt=Ce(i);return u.jsx(Pi,{todo:fe,index:Ft,onToggle:At,onDelete:Vt,onEdit:xn,formatDate:Gi,formatDateOnly:fi,isFocused:it===fe.id,onFocus:yl,onAddSubTodo:Sn,subtodos:ue,level:0,onCreateRoutine:ae,routines:x,onShowRoutineHistory:Ke,onOpenRoutineSetupModal:$,onOpenHistoryModal:y,currentPageDate:bt,onRemoveFromUI:fl,showSuccessMessage:pl,activeId:lt,overId:Ut,onMoveUp:ht=>hl(ht,"normal",null),onMoveDown:ht=>ml(ht,"normal",null),onMoveToTop:ht=>gl(ht,"normal",null),onMoveToBottom:ht=>vl(ht,"normal",null),isFirst:Ft===0,isLast:Ft===ne.length-1},fe.id)})})})},"normal")}else{const Ne=ki.find(ue=>ue.id===M);if(!Ne)return null;const fe=f.filter(ue=>!ue.parent_id&&ue.section_type==="custom"&&ue.section_id===M).sort((ue,bt)=>ue.order_index-bt.order_index),Ft=[...Ee?[]:[{icon:"",label:" ",onClick:()=>jc(M)}],...et?[]:[{icon:"",label:" ",onClick:()=>Oc(M)}],{icon:"",label:"",onClick:()=>Cc(M)},{icon:"",label:"",onClick:()=>A_(M)}];return u.jsx("div",{children:u.jsx(Nu,{title:`${Ne.icon} ${Ne.name}`,className:"custom-section section-block",inputValue:yh[M]||"",setInputValue:ue=>ph(bt=>({...bt,[M]:ue})),onAddTodo:()=>O_(M),isAdding:gh,placeholder:`${Ne.name}   ...`,editable:!0,onTitleChange:ue=>{const bt=ki.map(ht=>ht.id===M?{...ht,name:ue}:ht);bl(bt),Dc(bt)},settingsMenuItems:Ft,children:fe.length>0&&u.jsx(ar,{items:fe.map(ue=>ue.id),strategy:nr,children:fe.map((ue,bt)=>{const ht=f.filter(ln=>ln.parent_id===ue.id);return u.jsx(Pi,{todo:ue,index:bt,onToggle:At,onDelete:Vt,onEdit:xn,formatDate:Gi,formatDateOnly:fi,isFocused:it===ue.id,onFocus:yl,onAddSubTodo:Sn,subtodos:ht,level:0,onCreateRoutine:ae,routines:x,onShowRoutineHistory:Ke,onOpenRoutineSetupModal:$,onOpenHistoryModal:y,currentPageDate:Ce(i),onRemoveFromUI:fl,showSuccessMessage:pl,activeId:lt,overId:Ut,onMoveUp:ln=>hl(ln,"custom",M),onMoveDown:ln=>ml(ln,"custom",M),onMoveToTop:ln=>gl(ln,"custom",M),onMoveToBottom:ln=>vl(ln,"custom",M),isFirst:bt===0,isLast:bt===fe.length-1},ue.id)})})})},M)}})})})()})}),u.jsx(Nj,{children:lt?(()=>{const O=f.find(ne=>ne.id===lt);if(!O)return null;const z=f.filter(ne=>ne.parent_id===O.id);return u.jsx("div",{className:"drag-overlay-todo",children:u.jsx(Pi,{todo:O,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:Gi,formatDateOnly:fi,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:z,level:0,onCreateRoutine:()=>{},routines:x,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:Ce(i),onRemoveFromUI:()=>{},showSuccessMessage:()=>{},hideNumber:!0})})})():null})]}),u.jsx(Jj,{viewMode:wa,currentSectionIndex:g_,sectionsContainerRef:zi,visibleSectionCount:Ui.filter(O=>!Li.includes(O)).length})]}),u.jsx(gO,{showUndoToast:Pt,showSuccessToast:Gn,successToastMessage:Mi,lastDeleteAction:_a,handleUndoDelete:oh,handleUndoRoutineDelete:Bb,showDeleteConfirmModal:kt,todoToDelete:$t,setShowDeleteConfirmModal:_n,deleteThisOnly:Rb,deleteFromNow:Mb,deleteAll:kb,showRoutineDeleteModal:X,routineToDelete:Oe,setShowRoutineDeleteModal:nt,deleteRoutineThisOnly:Le,deleteRoutineFromNow:Ge,deleteRoutineAll:Et,showTodoHistoryModal:p,selectedTodoForModal:h,todoHistory:b,expandedHistoryIds:S,toggleHistoryDetail:v,handleCloseTodoHistoryModal:g,formatDate:Gi,formatDateOnly:fi,showTodoRoutineSetupModal:Ae,routines:x,routineDaysForModal:Ot,isEditingRoutineInModal:H,routineTimeSlotForModal:q,handleToggleRoutineDayInModal:U,setRoutineTimeSlotForModal:I,setRoutineDaysForModal:R,setIsEditingRoutineInModal:N,handleCreateRoutineFromTodo:ae,handleCloseTodoRoutineSetupModal:V,showRoutineModal:w,handleCloseRoutine:P,routineInput:E,setRoutineInput:j,isAddingRoutine:ge,selectedDays:A,handleToggleDay:ie,selectedTimeSlot:k,setSelectedTimeSlot:W,handleAddRoutine:B,editingRoutineId:_e,editingRoutineText:we,setEditingRoutineText:K,editingRoutineDays:de,handleToggleEditDay:Se,handleStartEditRoutine:ce,handleSaveEditRoutine:ke,handleCancelEditRoutine:ve,handleDeleteRoutine:Q,fetchRoutineHistory:Ke,showRoutineHistory:D,handleCloseRoutineHistory:Tt,selectedRoutineForHistory:L,routineHistoryData:Y,showMemoModal:Yb,setShowMemoModal:dh,memoContent:Gb,setMemoContent:Kb,isSavingMemo:Xb,showGanttChart:ch,handleCloseGanttChart:Vb,ganttData:Hb,ganttPeriod:uh,setGanttPeriod:qb,showEncouragementModal:Zb,setShowEncouragementModal:fh,encouragementMessages:Jb,newEncouragementMessage:Pb,setNewEncouragementMessage:Fb,addEncouragementMessage:l_,editingEncouragementId:Wb,editingEncouragementText:t_,setEditingEncouragementId:e_,setEditingEncouragementText:n_,updateEncouragementMessage:o_,deleteEncouragementMessage:c_,showAddSectionModal:f_,setShowAddSectionModal:mh,handleAddSection:j_,showHiddenSectionsModal:y_,setShowHiddenSectionsModal:wh,hiddenSections:Li,sectionOrder:Ui,sectionTitles:Tc,customSections:ki,handleShowSection:b_})]})]})}jx.createRoot(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(NO,{})}));
