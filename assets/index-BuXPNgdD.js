function fw(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Ny={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=Symbol.for("react.transitional.element"),gw=Symbol.for("react.fragment");function Ay(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:mw,type:e,key:a,ref:t!==void 0?t:null,props:n}}jc.Fragment=gw;jc.jsx=Ay;jc.jsxs=Ay;Ny.exports=jc;var c=Ny.exports,Dy={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Symbol.for("react.transitional.element"),yw=Symbol.for("react.portal"),vw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),bw=Symbol.for("react.profiler"),_w=Symbol.for("react.consumer"),ww=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),xw=Symbol.for("react.suspense"),Ew=Symbol.for("react.memo"),Cy=Symbol.for("react.lazy"),Tw=Symbol.for("react.activity"),cm=Symbol.iterator;function jw(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var Ry={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},My=Object.assign,ky={};function Wi(e,t,n){this.props=e,this.context=t,this.refs=ky,this.updater=n||Ry}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uy(){}Uy.prototype=Wi.prototype;function Cf(e,t,n){this.props=e,this.context=t,this.refs=ky,this.updater=n||Ry}var Rf=Cf.prototype=new Uy;Rf.constructor=Cf;My(Rf,Wi.prototype);Rf.isPureReactComponent=!0;var um=Array.isArray;function dd(){}var Ye={H:null,A:null,T:null,S:null},zy=Object.prototype.hasOwnProperty;function Mf(e,t,n){var a=n.ref;return{$$typeof:Df,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Ow(e,t){return Mf(e.type,t,e.props)}function kf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Df}function Nw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dm=/\/+/g;function mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nw(""+e.key):t.toString(36)}function Aw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(dd,dd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function di(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Df:case yw:r=!0;break;case Cy:return r=e._init,di(r(e._payload),t,n,a,s)}}if(r)return s=s(e),r=a===""?"."+mu(e,0):a,um(s)?(n="",r!=null&&(n=r.replace(dm,"$&/")+"/"),di(s,t,n,"",function(u){return u})):s!=null&&(kf(s)&&(s=Ow(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(dm,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=a===""?".":a+":";if(um(e))for(var o=0;o<e.length;o++)a=e[o],i=l+mu(a,o),r+=di(a,t,n,i,s);else if(o=jw(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=l+mu(a,o++),r+=di(a,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return di(Aw(e),t,n,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Gl(e,t,n){if(e==null)return e;var a=[],s=0;return di(e,a,"","",function(i){return t.call(n,i,s++)}),a}function Dw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cw={map:Gl,forEach:function(e,t,n){Gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!kf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Activity=Tw;ae.Children=Cw;ae.Component=Wi;ae.Fragment=vw;ae.Profiler=bw;ae.PureComponent=Cf;ae.StrictMode=pw;ae.Suspense=xw;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;ae.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ye.H.useMemoCache(e)}};ae.cache=function(e){return function(){return e.apply(null,arguments)}};ae.cacheSignal=function(){return null};ae.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=My({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!zy.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];a.children=r}return Mf(e.type,s,a)};ae.createContext=function(e){return e={$$typeof:ww,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_w,_context:e},e};ae.createElement=function(e,t,n){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)zy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return Mf(e,i,s)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Sw,render:e}};ae.isValidElement=kf;ae.lazy=function(e){return{$$typeof:Cy,_payload:{_status:-1,_result:e},_init:Dw}};ae.memo=function(e,t){return{$$typeof:Ew,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ye.T,n={};Ye.T=n;try{var a=e(),s=Ye.S;s!==null&&s(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(dd,fm)}catch(i){fm(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ye.T=t}};ae.unstable_useCacheRefresh=function(){return Ye.H.useCacheRefresh()};ae.use=function(e){return Ye.H.use(e)};ae.useActionState=function(e,t,n){return Ye.H.useActionState(e,t,n)};ae.useCallback=function(e,t){return Ye.H.useCallback(e,t)};ae.useContext=function(e){return Ye.H.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e,t){return Ye.H.useDeferredValue(e,t)};ae.useEffect=function(e,t){return Ye.H.useEffect(e,t)};ae.useEffectEvent=function(e){return Ye.H.useEffectEvent(e)};ae.useId=function(){return Ye.H.useId()};ae.useImperativeHandle=function(e,t,n){return Ye.H.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Ye.H.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Ye.H.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Ye.H.useMemo(e,t)};ae.useOptimistic=function(e,t){return Ye.H.useOptimistic(e,t)};ae.useReducer=function(e,t,n){return Ye.H.useReducer(e,t,n)};ae.useRef=function(e){return Ye.H.useRef(e)};ae.useState=function(e){return Ye.H.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Ye.H.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Ye.H.useTransition()};ae.version="19.2.0";Dy.exports=ae;var _=Dy.exports;const $e=hw(_);var $y={exports:{}},Oc={},By={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,V){var K=q.length;q.push(V);e:for(;0<K;){var oe=K-1>>>1,Z=q[oe];if(0<s(Z,V))q[oe]=V,q[K]=Z,K=oe;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var V=q[0],K=q.pop();if(K!==V){q[0]=K;e:for(var oe=0,Z=q.length,Re=Z>>>1;oe<Re;){var ce=2*(oe+1)-1,Ue=q[ce],we=ce+1,Te=q[we];if(0>s(Ue,K))we<Z&&0>s(Te,Ue)?(q[oe]=Te,q[we]=K,oe=we):(q[oe]=Ue,q[ce]=K,oe=ce);else if(we<Z&&0>s(Te,K))q[oe]=Te,q[we]=K,oe=we;else break e}}return V}function s(q,V){var K=q.sortIndex-V.sortIndex;return K!==0?K:q.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],f=1,h=null,m=3,g=!1,x=!1,T=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(q){for(var V=n(u);V!==null;){if(V.callback===null)a(u);else if(V.startTime<=q)a(u),V.sortIndex=V.expirationTime,t(o,V);else break;V=n(u)}}function E(q){if(T=!1,S(q),!x)if(n(o)!==null)x=!0,C||(C=!0,ee());else{var V=n(u);V!==null&&Ce(E,V.startTime-q)}}var C=!1,j=-1,R=5,z=-1;function L(){return O?!0:!(e.unstable_now()-z<R)}function X(){if(O=!1,C){var q=e.unstable_now();z=q;var V=!0;try{e:{x=!1,T&&(T=!1,y(j),j=-1),g=!0;var K=m;try{t:{for(S(q),h=n(o);h!==null&&!(h.expirationTime>q&&L());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,m=h.priorityLevel;var Z=oe(h.expirationTime<=q);if(q=e.unstable_now(),typeof Z=="function"){h.callback=Z,S(q),V=!0;break t}h===n(o)&&a(o),S(q)}else a(o);h=n(o)}if(h!==null)V=!0;else{var Re=n(u);Re!==null&&Ce(E,Re.startTime-q),V=!1}}break e}finally{h=null,m=K,g=!1}V=void 0}}finally{V?ee():C=!1}}}var ee;if(typeof v=="function")ee=function(){v(X)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ie=me.port2;me.port1.onmessage=X,ee=function(){ie.postMessage(null)}}else ee=function(){b(X,0)};function Ce(q,V){j=b(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var K=m;m=V;try{return q()}finally{m=K}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=m;m=q;try{return V()}finally{m=K}},e.unstable_scheduleCallback=function(q,V,K){var oe=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,q={id:f++,callback:V,priorityLevel:q,startTime:K,expirationTime:Z,sortIndex:-1},K>oe?(q.sortIndex=K,t(u,q),n(o)===null&&q===n(u)&&(T?(y(j),j=-1):T=!0,Ce(E,K-oe))):(q.sortIndex=Z,t(o,q),x||g||(x=!0,C||(C=!0,ee()))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var V=m;return function(){var K=m;m=V;try{return q.apply(this,arguments)}finally{m=K}}}})(Ly);By.exports=Ly;var Rw=By.exports,qy={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw=_;function Hy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var Bt={d:{f:Ma,r:function(){throw Error(Hy(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},kw=Symbol.for("react.portal");function Uw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Rr=Mw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Hy(299));return Uw(e,t,null,n)};Lt.flushSync=function(e){var t=Rr.T,n=Bt.p;try{if(Rr.T=null,Bt.p=2,e)return e()}finally{Rr.T=t,Bt.p=n,Bt.d.f()}};Lt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bt.d.C(e,t))};Lt.prefetchDNS=function(e){typeof e=="string"&&Bt.d.D(e)};Lt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Nc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):n==="script"&&Bt.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Lt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Nc(t.as,t.crossOrigin);Bt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bt.d.M(e)};Lt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Nc(n,t.crossOrigin);Bt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Lt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Nc(t.as,t.crossOrigin);Bt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bt.d.m(e)};Lt.requestFormReset=function(e){Bt.d.r(e)};Lt.unstable_batchedUpdates=function(e,t){return e(t)};Lt.useFormState=function(e,t,n){return Rr.H.useFormState(e,t,n)};Lt.useFormStatus=function(){return Rr.H.useHostTransitionStatus()};Lt.version="19.2.0";function Yy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yy)}catch(e){console.error(e)}}Yy(),qy.exports=Lt;var yi=qy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=Rw,Vy=_,zw=yi;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ky(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hm(e){if(bl(e)!==e)throw Error($(188))}function $w(e){var t=e.alternate;if(!t){if(t=bl(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hm(s),e;if(i===a)return hm(s),t;i=i.sibling}throw Error($(188))}if(n.return!==a.return)n=s,a=i;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Xy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Xy(e),t!==null)return t;e=e.sibling}return null}var Ve=Object.assign,Bw=Symbol.for("react.element"),Kl=Symbol.for("react.transitional.element"),Tr=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),Jy=Symbol.for("react.consumer"),ya=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),md=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),gd=Symbol.for("react.activity"),Lw=Symbol.for("react.memo_cache_sentinel"),mm=Symbol.iterator;function pr(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var qw=Symbol.for("react.client.reference");function yd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vi:return"Fragment";case fd:return"Profiler";case Qy:return"StrictMode";case hd:return"Suspense";case md:return"SuspenseList";case gd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Tr:return"Portal";case ya:return e.displayName||"Context";case Jy:return(e._context.displayName||"Context")+".Consumer";case Uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zf:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}var jr=Array.isArray,F=Vy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=zw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ds={pending:!1,data:null,method:null,action:null},vd=[],pi=-1;function Fn(e){return{current:e}}function St(e){0>pi||(e.current=vd[pi],vd[pi]=null,pi--)}function Be(e,t){pi++,vd[pi]=e.current,e.current=t}var Wn=Fn(null),Wr=Fn(null),Ja=Fn(null),Lo=Fn(null);function qo(e,t){switch(Be(Ja,t),Be(Wr,e),Be(Wn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_g(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_g(t),e=g0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}St(Wn),Be(Wn,e)}function Bi(){St(Wn),St(Wr),St(Ja)}function pd(e){e.memoizedState!==null&&Be(Lo,e);var t=Wn.current,n=g0(t,e.type);t!==n&&(Be(Wr,e),Be(Wn,n))}function Ho(e){Wr.current===e&&(St(Wn),St(Wr)),Lo.current===e&&(St(Lo),cl._currentValue=Ds)}var gu,gm;function ws(e){if(gu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gu=t&&t[1]||"",gm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+e+gm}var yu=!1;function vu(e,t){if(!e||yu)return"";yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(e,[],h)}else{try{h.call()}catch(g){m=g}e.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===o.length||s===u.length)for(a=o.length-1,s=u.length-1;1<=a&&0<=s&&o[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==u[s]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=s);break}}}finally{yu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ws(n):""}function Hw(e,t){switch(e.tag){case 26:case 27:case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return e.child!==t&&t!==null?ws("Suspense Fallback"):ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return vu(e.type,!1);case 11:return vu(e.type.render,!1);case 1:return vu(e.type,!0);case 31:return ws("Activity");default:return""}}function ym(e){try{var t="",n=null;do t+=Hw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var bd=Object.prototype.hasOwnProperty,$f=mt.unstable_scheduleCallback,pu=mt.unstable_cancelCallback,Yw=mt.unstable_shouldYield,Vw=mt.unstable_requestPaint,dn=mt.unstable_now,Iw=mt.unstable_getCurrentPriorityLevel,Zy=mt.unstable_ImmediatePriority,Py=mt.unstable_UserBlockingPriority,Yo=mt.unstable_NormalPriority,Gw=mt.unstable_LowPriority,Wy=mt.unstable_IdlePriority,Kw=mt.log,Xw=mt.unstable_setDisableYieldValue,_l=null,fn=null;function Ia(e){if(typeof Kw=="function"&&Xw(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(_l,e)}catch{}}var hn=Math.clz32?Math.clz32:Zw,Qw=Math.log,Jw=Math.LN2;function Zw(e){return e>>>=0,e===0?32:31-(Qw(e)/Jw|0)|0}var Xl=256,Ql=262144,Jl=4194304;function Ss(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ac(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=Ss(a):(r&=l,r!==0?s=Ss(r):n||(n=l&~e,n!==0&&(s=Ss(n))))):(l=a&~i,l!==0?s=Ss(l):r!==0?s=Ss(r):n||(n=a&~e,n!==0&&(s=Ss(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(){var e=Jl;return Jl<<=1,!(Jl&62914560)&&(Jl=4194304),e}function bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ww(e,t,n,a,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-hn(n),h=1<<f;l[f]=0,o[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~h}a!==0&&ev(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function ev(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-hn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function tv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-hn(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function nv(e,t){var n=t&-t;return n=n&42?1:Bf(n),n&(e.suspendedLanes|t)?0:n}function Bf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function av(){var e=xe.p;return e!==0?e:(e=window.event,e===void 0?32:j0(e.type))}function vm(e,t){var n=xe.p;try{return xe.p=e,t()}finally{xe.p=n}}var cs=Math.random().toString(36).slice(2),Tt="__reactFiber$"+cs,Wt="__reactProps$"+cs,Fi="__reactContainer$"+cs,_d="__reactEvents$"+cs,Fw="__reactListeners$"+cs,eS="__reactHandles$"+cs,pm="__reactResources$"+cs,xl="__reactMarker$"+cs;function qf(e){delete e[Tt],delete e[Wt],delete e[_d],delete e[Fw],delete e[eS]}function bi(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fi]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tg(e);e!==null;){if(n=e[Tt])return n;e=Tg(e)}return t}e=n,n=e.parentNode}return null}function er(e){if(e=e[Tt]||e[Fi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Or(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Ai(e){var t=e[pm];return t||(t=e[pm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[xl]=!0}var sv=new Set,iv={};function qs(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(iv[e]=t,e=0;e<t.length;e++)sv.add(t[e])}var tS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bm={},_m={};function nS(e){return bd.call(_m,e)?!0:bd.call(bm,e)?!1:tS.test(e)?_m[e]=!0:(bm[e]=!0,!1)}function wo(e,t,n){if(nS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function oa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aS(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wd(e){if(!e._valueTracker){var t=rv(e)?"checked":"value";e._valueTracker=aS(e,t,""+e[t])}}function lv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=rv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sS=/[\n"\\]/g;function An(e){return e.replace(sS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sd(e,t,n,a,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jn(t)):e.value!==""+jn(t)&&(e.value=""+jn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?xd(e,r,jn(t)):n!=null?xd(e,r,jn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+jn(l):e.removeAttribute("name")}function ov(e,t,n,a,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wd(e);return}n=n!=null?""+jn(n):"",t=t!=null?""+jn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),wd(e)}function xd(e,t,n){t==="number"&&Vo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Di(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cv(e,t,n){if(t!=null&&(t=""+jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jn(n):""}function uv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error($(92));if(jr(a)){if(1<a.length)throw Error($(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=jn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),wd(e)}function qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var iS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wm(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||iS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function dv(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&wm(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&wm(e,i,t[i])}function Hf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(e){return lS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var Ed=null;function Yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ci=null;function Sm(e){var t=er(e);if(t&&(e=t.stateNode)){var n=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+An(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Wt]||null;if(!s)throw Error($(90));Sd(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&lv(a)}break e;case"textarea":cv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}}}var _u=!1;function fv(e,t,n){if(_u)return e(t,n);_u=!0;try{var a=e(t);return a}finally{if(_u=!1,(_i!==null||Ci!==null)&&(Hc(),_i&&(t=_i,e=Ci,Ci=_i=null,Sm(t),e)))for(t=0;t<e.length;t++)Sm(e[t])}}function Fr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Wt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=!1;if(Sa)try{var br={};Object.defineProperty(br,"passive",{get:function(){Td=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Td=!1}var Ga=null,Vf=null,xo=null;function hv(){if(xo)return xo;var e,t=Vf,n=t.length,a,s="value"in Ga?Ga.value:Ga.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===s[i-a];a++);return xo=s.slice(e,1<a?1-a:void 0)}function Eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function xm(){return!1}function Ft(e){function t(n,a,s,i,r){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pl:xm,this.isPropagationStopped=xm,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=Ft(Hs),El=Ve({},Hs,{view:0,detail:0}),oS=Ft(El),wu,Su,_r,Cc=Ve({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(wu=e.screenX-_r.screenX,Su=e.screenY-_r.screenY):Su=wu=0,_r=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Em=Ft(Cc),cS=Ve({},Cc,{dataTransfer:0}),uS=Ft(cS),dS=Ve({},El,{relatedTarget:0}),xu=Ft(dS),fS=Ve({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=Ft(fS),mS=Ve({},Hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gS=Ft(mS),yS=Ve({},Hs,{data:0}),Tm=Ft(yS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bS[e])?!!t[e]:!1}function If(){return _S}var wS=Ve({},El,{key:function(e){if(e.key){var t=vS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=Ft(wS),xS=Ve({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=Ft(xS),ES=Ve({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),TS=Ft(ES),jS=Ve({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=Ft(jS),NS=Ve({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=Ft(NS),DS=Ve({},Hs,{newState:0,oldState:0}),CS=Ft(DS),RS=[9,13,27,32],Gf=Sa&&"CompositionEvent"in window,Mr=null;Sa&&"documentMode"in document&&(Mr=document.documentMode);var MS=Sa&&"TextEvent"in window&&!Mr,mv=Sa&&(!Gf||Mr&&8<Mr&&11>=Mr),Om=" ",Nm=!1;function gv(e,t){switch(e){case"keyup":return RS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function kS(e,t){switch(e){case"compositionend":return yv(t);case"keypress":return t.which!==32?null:(Nm=!0,Om);case"textInput":return e=t.data,e===Om&&Nm?null:e;default:return null}}function US(e,t){if(wi)return e==="compositionend"||!Gf&&gv(e,t)?(e=hv(),xo=Vf=Ga=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mv&&t.locale!=="ko"?null:t.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zS[e.type]:t==="textarea"}function vv(e,t,n,a){_i?Ci?Ci.push(a):Ci=[a]:_i=a,t=lc(t,"onChange"),0<t.length&&(n=new Dc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var kr=null,el=null;function $S(e){f0(e,0)}function Rc(e){var t=Or(e);if(lv(t))return e}function Dm(e,t){if(e==="change")return t}var pv=!1;if(Sa){var Eu;if(Sa){var Tu="oninput"in document;if(!Tu){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Tu=typeof Cm.oninput=="function"}Eu=Tu}else Eu=!1;pv=Eu&&(!document.documentMode||9<document.documentMode)}function Rm(){kr&&(kr.detachEvent("onpropertychange",bv),el=kr=null)}function bv(e){if(e.propertyName==="value"&&Rc(el)){var t=[];vv(t,el,e,Yf(e)),fv($S,t)}}function BS(e,t,n){e==="focusin"?(Rm(),kr=t,el=n,kr.attachEvent("onpropertychange",bv)):e==="focusout"&&Rm()}function LS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(el)}function qS(e,t){if(e==="click")return Rc(t)}function HS(e,t){if(e==="input"||e==="change")return Rc(t)}function YS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:YS;function tl(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!bd.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function Mm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function km(e,t){var n=Mm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mm(n)}}function _v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vo(e.document)}return t}function Kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var VS=Sa&&"documentMode"in document&&11>=document.documentMode,Si=null,jd=null,Ur=null,Od=!1;function Um(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||Si==null||Si!==Vo(a)||(a=Si,"selectionStart"in a&&Kf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ur&&tl(Ur,a)||(Ur=a,a=lc(jd,"onSelect"),0<a.length&&(t=new Dc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Si)))}function ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},ju={},Sv={};Sa&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Ys(e){if(ju[e])return ju[e];if(!xi[e])return e;var t=xi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sv)return ju[e]=t[n];return e}var xv=Ys("animationend"),Ev=Ys("animationiteration"),Tv=Ys("animationstart"),IS=Ys("transitionrun"),GS=Ys("transitionstart"),KS=Ys("transitioncancel"),jv=Ys("transitionend"),Ov=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function Kn(e,t){Ov.set(e,t),qs(t,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],Ei=0,Xf=0;function Mc(){for(var e=Ei,t=Xf=Ei=0;t<e;){var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var s=En[t];En[t++]=null;var i=En[t];if(En[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&Nv(n,s,i)}}function kc(e,t,n,a){En[Ei++]=e,En[Ei++]=t,En[Ei++]=n,En[Ei++]=a,Xf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Qf(e,t,n,a){return kc(e,t,n,a),Go(e)}function Vs(e,t){return kc(e,null,null,t),Go(e)}function Nv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-hn(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Go(e){if(50<Ir)throw Ir=0,Jd=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ti={};function XS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,a){return new XS(e,t,n,a)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Av(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function To(e,t,n,a,s,i){var r=0;if(a=e,typeof e=="function")Jf(e)&&(r=1);else if(typeof e=="string")r=Wx(e,n,Wn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case gd:return e=ln(31,n,t,s),e.elementType=gd,e.lanes=i,e;case vi:return Cs(n.children,s,i,t);case Qy:r=8,s|=24;break;case fd:return e=ln(12,n,t,s|2),e.elementType=fd,e.lanes=i,e;case hd:return e=ln(13,n,t,s),e.elementType=hd,e.lanes=i,e;case md:return e=ln(19,n,t,s),e.elementType=md,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ya:r=10;break e;case Jy:r=9;break e;case Uf:r=11;break e;case zf:r=14;break e;case Ua:r=16,a=null;break e}r=29,n=Error($(130,e===null?"null":typeof e,"")),a=null}return t=ln(r,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Cs(e,t,n,a){return e=ln(7,e,a,t),e.lanes=n,e}function Ou(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Dv(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function Nu(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zm=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=zm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ym(t)},zm.set(e,t),t)}return{value:e,source:t,stack:ym(t)}}var ji=[],Oi=0,Ko=null,nl=0,On=[],Nn=0,ss=null,Jn=1,Zn="";function ma(e,t){ji[Oi++]=nl,ji[Oi++]=Ko,Ko=e,nl=t}function Cv(e,t,n){On[Nn++]=Jn,On[Nn++]=Zn,On[Nn++]=ss,ss=e;var a=Jn;e=Zn;var s=32-hn(a)-1;a&=~(1<<s),n+=1;var i=32-hn(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Jn=1<<32-hn(t)+s|n<<s|a,Zn=i+e}else Jn=1<<i|n<<s|a,Zn=e}function Zf(e){e.return!==null&&(ma(e,1),Cv(e,1,0))}function Pf(e){for(;e===Ko;)Ko=ji[--Oi],ji[Oi]=null,nl=ji[--Oi],ji[Oi]=null;for(;e===ss;)ss=On[--Nn],On[Nn]=null,Zn=On[--Nn],On[Nn]=null,Jn=On[--Nn],On[Nn]=null}function Rv(e,t){On[Nn++]=Jn,On[Nn++]=Zn,On[Nn++]=ss,Jn=t.id,Zn=t.overflow,ss=e}var jt=null,He=null,ye=!1,Za=null,Cn=!1,Ad=Error($(519));function is(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Dn(t,e)),Ad}function $m(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Tt]=e,t[Wt]=a,n){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(n=0;n<ll.length;n++)ue(ll[n],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),ov(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),uv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||m0(t.textContent,n)?(a.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),a.onScroll!=null&&ue("scroll",t),a.onScrollEnd!=null&&ue("scrollend",t),a.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||is(e,!0)}function Bm(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:jt=jt.return}}function si(e){if(e!==jt)return!1;if(!ye)return Bm(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ef(e.type,e.memoizedProps)),n=!n),n&&He&&is(e),Bm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));He=Eg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));He=Eg(e)}else t===27?(t=He,us(e.type)?(e=sf,sf=null,He=e):He=t):He=jt?Mn(e.stateNode.nextSibling):null;return!0}function Us(){He=jt=null,ye=!1}function Au(){var e=Za;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),Za=null),e}function al(e){Za===null?Za=[e]:Za.push(e)}var Dd=Fn(null),Is=null,pa=null;function La(e,t,n){Be(Dd,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=Dd.current,St(Dd)}function Cd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Rd(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var o=0;o<t.length;o++)if(l.context===t[o]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cd(i.return,n,e),a||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error($(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),Cd(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function tr(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error($(387));if(r=r.memoizedProps,r!==null){var l=s.type;gn(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Lo.current){if(r=s.alternate,r===null)throw Error($(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}s=s.return}e!==null&&Rd(t,e,n,a),t.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Is=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Mv(Is,e)}function Wl(e,t){return Is===null&&zs(e),Mv(e,t)}function Mv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pa===null){if(e===null)throw Error($(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return n}var QS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},JS=mt.unstable_scheduleCallback,ZS=mt.unstable_NormalPriority,ct={$$typeof:ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new QS,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&JS(ZS,function(){e.controller.abort()})}var zr=null,Md=0,Hi=0,Ri=null;function PS(e,t){if(zr===null){var n=zr=[];Md=0,Hi=xh(),Ri={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Md++,t.then(Lm,Lm),t}function Lm(){if(--Md===0&&zr!==null){Ri!==null&&(Ri.status="fulfilled");var e=zr;zr=null,Hi=0,Ri=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var qm=F.S;F.S=function(e,t){Xp=dn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&PS(e,t),qm!==null&&qm(e,t)};var Rs=Fn(null);function Ff(){var e=Rs.current;return e!==null?e:ke.pooledCache}function jo(e,t){t===null?Be(Rs,Rs.current):Be(Rs,t.pool)}function kv(){var e=Ff();return e===null?null:{parent:ct._currentValue,pool:e}}var nr=Error($(460)),eh=Error($(474)),Uc=Error($(542)),Qo={then:function(){}};function Hm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(va,va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vm(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vm(e),e}throw Ms=t,nr}}function xs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ms=n,nr):n}}var Ms=null;function Ym(){if(Ms===null)throw Error($(459));var e=Ms;return Ms=null,e}function Vm(e){if(e===nr||e===Uc)throw Error($(483))}var Mi=null,sl=0;function Fl(e){var t=sl;return sl+=1,Mi===null&&(Mi=[]),Uv(Mi,e,t)}function wr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eo(e,t){throw t.$$typeof===Bw?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zv(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function a(b){for(var y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(b,y){return b=ba(b,y),b.index=0,b.sibling=null,b}function i(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=67108866,y):v):(b.flags|=67108866,y)):(b.flags|=1048576,y)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,y,v,S){return y===null||y.tag!==6?(y=Ou(v,b.mode,S),y.return=b,y):(y=s(y,v),y.return=b,y)}function o(b,y,v,S){var E=v.type;return E===vi?f(b,y,v.props.children,S,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ua&&xs(E)===y.type)?(y=s(y,v.props),wr(y,v),y.return=b,y):(y=To(v.type,v.key,v.props,null,b.mode,S),wr(y,v),y.return=b,y)}function u(b,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Nu(v,b.mode,S),y.return=b,y):(y=s(y,v.children||[]),y.return=b,y)}function f(b,y,v,S,E){return y===null||y.tag!==7?(y=Cs(v,b.mode,S,E),y.return=b,y):(y=s(y,v),y.return=b,y)}function h(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ou(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kl:return v=To(y.type,y.key,y.props,null,b.mode,v),wr(v,y),v.return=b,v;case Tr:return y=Nu(y,b.mode,v),y.return=b,y;case Ua:return y=xs(y),h(b,y,v)}if(jr(y)||pr(y))return y=Cs(y,b.mode,v,null),y.return=b,y;if(typeof y.then=="function")return h(b,Fl(y),v);if(y.$$typeof===ya)return h(b,Wl(b,y),v);eo(b,y)}return null}function m(b,y,v,S){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return E!==null?null:l(b,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:return v.key===E?o(b,y,v,S):null;case Tr:return v.key===E?u(b,y,v,S):null;case Ua:return v=xs(v),m(b,y,v,S)}if(jr(v)||pr(v))return E!==null?null:f(b,y,v,S,null);if(typeof v.then=="function")return m(b,y,Fl(v),S);if(v.$$typeof===ya)return m(b,y,Wl(b,v),S);eo(b,v)}return null}function g(b,y,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(v)||null,l(y,b,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kl:return b=b.get(S.key===null?v:S.key)||null,o(y,b,S,E);case Tr:return b=b.get(S.key===null?v:S.key)||null,u(y,b,S,E);case Ua:return S=xs(S),g(b,y,v,S,E)}if(jr(S)||pr(S))return b=b.get(v)||null,f(y,b,S,E,null);if(typeof S.then=="function")return g(b,y,v,Fl(S),E);if(S.$$typeof===ya)return g(b,y,v,Wl(y,S),E);eo(y,S)}return null}function x(b,y,v,S){for(var E=null,C=null,j=y,R=y=0,z=null;j!==null&&R<v.length;R++){j.index>R?(z=j,j=null):z=j.sibling;var L=m(b,j,v[R],S);if(L===null){j===null&&(j=z);break}e&&j&&L.alternate===null&&t(b,j),y=i(L,y,R),C===null?E=L:C.sibling=L,C=L,j=z}if(R===v.length)return n(b,j),ye&&ma(b,R),E;if(j===null){for(;R<v.length;R++)j=h(b,v[R],S),j!==null&&(y=i(j,y,R),C===null?E=j:C.sibling=j,C=j);return ye&&ma(b,R),E}for(j=a(j);R<v.length;R++)z=g(j,b,R,v[R],S),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?R:z.key),y=i(z,y,R),C===null?E=z:C.sibling=z,C=z);return e&&j.forEach(function(X){return t(b,X)}),ye&&ma(b,R),E}function T(b,y,v,S){if(v==null)throw Error($(151));for(var E=null,C=null,j=y,R=y=0,z=null,L=v.next();j!==null&&!L.done;R++,L=v.next()){j.index>R?(z=j,j=null):z=j.sibling;var X=m(b,j,L.value,S);if(X===null){j===null&&(j=z);break}e&&j&&X.alternate===null&&t(b,j),y=i(X,y,R),C===null?E=X:C.sibling=X,C=X,j=z}if(L.done)return n(b,j),ye&&ma(b,R),E;if(j===null){for(;!L.done;R++,L=v.next())L=h(b,L.value,S),L!==null&&(y=i(L,y,R),C===null?E=L:C.sibling=L,C=L);return ye&&ma(b,R),E}for(j=a(j);!L.done;R++,L=v.next())L=g(j,b,R,L.value,S),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?R:L.key),y=i(L,y,R),C===null?E=L:C.sibling=L,C=L);return e&&j.forEach(function(ee){return t(b,ee)}),ye&&ma(b,R),E}function O(b,y,v,S){if(typeof v=="object"&&v!==null&&v.type===vi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:e:{for(var E=v.key;y!==null;){if(y.key===E){if(E=v.type,E===vi){if(y.tag===7){n(b,y.sibling),S=s(y,v.props.children),S.return=b,b=S;break e}}else if(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ua&&xs(E)===y.type){n(b,y.sibling),S=s(y,v.props),wr(S,v),S.return=b,b=S;break e}n(b,y);break}else t(b,y);y=y.sibling}v.type===vi?(S=Cs(v.props.children,b.mode,S,v.key),S.return=b,b=S):(S=To(v.type,v.key,v.props,null,b.mode,S),wr(S,v),S.return=b,b=S)}return r(b);case Tr:e:{for(E=v.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(b,y.sibling),S=s(y,v.children||[]),S.return=b,b=S;break e}else{n(b,y);break}else t(b,y);y=y.sibling}S=Nu(v,b.mode,S),S.return=b,b=S}return r(b);case Ua:return v=xs(v),O(b,y,v,S)}if(jr(v))return x(b,y,v,S);if(pr(v)){if(E=pr(v),typeof E!="function")throw Error($(150));return v=E.call(v),T(b,y,v,S)}if(typeof v.then=="function")return O(b,y,Fl(v),S);if(v.$$typeof===ya)return O(b,y,Wl(b,v),S);eo(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(b,y.sibling),S=s(y,v),S.return=b,b=S):(n(b,y),S=Ou(v,b.mode,S),S.return=b,b=S),r(b)):n(b,y)}return function(b,y,v,S){try{sl=0;var E=O(b,y,v,S);return Mi=null,E}catch(j){if(j===nr||j===Uc)throw j;var C=ln(29,j,null,b.mode);return C.lanes=S,C.return=b,C}finally{}}}var $s=zv(!0),$v=zv(!1),za=!1;function th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Se&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Go(e),Nv(e,null,n),t}return kc(e,a,t,n),Go(e)}function $r(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,tv(e,n)}}function Du(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ud=!1;function Br(){if(Ud){var e=Ri;if(e!==null)throw e}}function Lr(e,t,n,a){Ud=!1;var s=e.updateQueue;za=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?i=u:r.next=u,r=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;r=0,f=u=o=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(he&m)===m:(a&m)===m){m!==0&&m===Hi&&(Ud=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var x=e,T=l;m=t;var O=n;switch(T.tag){case 1:if(x=T.payload,typeof x=="function"){h=x.call(O,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=T.payload,m=typeof x=="function"?x.call(O,h,m):x,m==null)break e;h=Ve({},h,m);break e;case 2:za=!0}}m=l.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,o=h):f=f.next=g,r|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),ls|=r,e.lanes=r,e.memoizedState=h}}function Bv(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Lv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Bv(n[e],t)}var Yi=Fn(null),Jo=Fn(0);function Im(e,t){e=ja,Be(Jo,e),Be(Yi,t),ja=e|t.baseLanes}function zd(){Be(Jo,ja),Be(Yi,Yi.current)}function nh(){ja=Jo.current,St(Yi),St(Jo)}var yn=Fn(null),Rn=null;function qa(e){var t=e.alternate;Be(tt,tt.current&1),Be(yn,e),Rn===null&&(t===null||Yi.current!==null||t.memoizedState!==null)&&(Rn=e)}function $d(e){Be(tt,tt.current),Be(yn,e),Rn===null&&(Rn=e)}function qv(e){e.tag===22?(Be(tt,tt.current),Be(yn,e),Rn===null&&(Rn=e)):Ha()}function Ha(){Be(tt,tt.current),Be(yn,yn.current)}function rn(e){St(yn),Rn===e&&(Rn=null),St(tt)}var tt=Fn(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nf(n)||af(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=0,se=null,De=null,lt=null,Po=!1,ki=!1,Bs=!1,Wo=0,il=0,Ui=null,FS=0;function Ze(){throw Error($(321))}function ah(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function sh(e,t,n,a,s,i){return xa=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?vp:gh,Bs=!1,i=n(a,s),Bs=!1,ki&&(i=Yv(t,n,a,s)),Hv(e),i}function Hv(e){F.H=rl;var t=De!==null&&De.next!==null;if(xa=0,lt=De=se=null,Po=!1,il=0,Ui=null,t)throw Error($(300));e===null||ut||(e=e.dependencies,e!==null&&Xo(e)&&(ut=!0))}function Yv(e,t,n,a){se=e;var s=0;do{if(ki&&(Ui=null),il=0,ki=!1,25<=s)throw Error($(301));if(s+=1,lt=De=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}F.H=pp,i=t(n,a)}while(ki);return i}function ex(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(se.flags|=1024),t}function ih(){var e=Wo!==0;return Wo=0,e}function rh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lh(e){if(Po){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Po=!1}xa=0,lt=De=se=null,ki=!1,il=Wo=0,Ui=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?se.memoizedState=lt=e:lt=lt.next=e,lt}function nt(){if(De===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=lt===null?se.memoizedState:lt.next;if(t!==null)lt=t,De=e;else{if(e===null)throw se.alternate===null?Error($(467)):Error($(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},lt===null?se.memoizedState=lt=e:lt=lt.next=e}return lt}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=il;return il+=1,Ui===null&&(Ui=[]),e=Uv(Ui,e,t),t=se,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?vp:gh),e}function $c(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===ya)return Ot(e)}throw Error($(438,String(e)))}function oh(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zc(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Lw;return t.index++,n}function Ea(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=nt();return ch(t,De,e)}function ch(e,t,n){var a=e.queue;if(a===null)throw Error($(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,o=null,u=t,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(he&h)===h:(xa&h)===h){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(f=!0);else if((xa&m)===m){u=u.next,m===Hi&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,r=i):o=o.next=h,se.lanes|=m,ls|=m;h=u.action,Bs&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,r=i):o=o.next=m,se.lanes|=h,ls|=h;u=u.next}while(u!==null&&u!==t);if(o===null?r=i:o.next=l,!gn(i,e.memoizedState)&&(ut=!0,f&&(n=Ri,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=o,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Cu(e){var t=nt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);gn(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Vv(e,t,n){var a=se,s=nt(),i=ye;if(i){if(n===void 0)throw Error($(407));n=n()}else n=t();var r=!gn((De||s).memoizedState,n);if(r&&(s.memoizedState=n,ut=!0),s=s.queue,uh(Kv.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,Vi(9,{destroy:void 0},Gv.bind(null,a,s,n,t),null),ke===null)throw Error($(349));i||xa&127||Iv(a,t,n)}return n}function Iv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=zc(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gv(e,t,n,a){t.value=n,t.getSnapshot=a,Xv(t)&&Qv(e)}function Kv(e,t,n){return n(function(){Xv(t)&&Qv(e)})}function Xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Qv(e){var t=Vs(e,2);t!==null&&Pt(t,e,2)}function Bd(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),Bs){Ia(!0);try{n()}finally{Ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Jv(e,t,n,a){return e.baseState=n,ch(e,De,typeof a=="function"?a:Ea)}function tx(e,t,n,a,s){if(Lc(e))throw Error($(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};F.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Zv(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Zv(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=F.T,r={};F.T=r;try{var l=n(s,a),o=F.S;o!==null&&o(r,l),Gm(e,t,l)}catch(u){Ld(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),F.T=i}}else try{i=n(s,a),Gm(e,t,i)}catch(u){Ld(e,t,u)}}function Gm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Km(e,t,a)},function(a){return Ld(e,t,a)}):Km(e,t,n)}function Km(e,t,n){t.status="fulfilled",t.value=n,Pv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Zv(e,n)))}function Ld(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Pv(t),t=t.next;while(t!==a)}e.action=null}function Pv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wv(e,t){return t}function Xm(e,t){if(ye){var n=ke.formState;if(n!==null){e:{var a=se;if(ye){if(He){t:{for(var s=He,i=Cn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Mn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){He=Mn(s.nextSibling),a=s.data==="F!";break e}}is(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wv,lastRenderedState:t},n.queue=a,n=mp.bind(null,se,a),a.dispatch=n,a=Bd(!1),i=mh.bind(null,se,!1,a.queue),a=zt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=tx.bind(null,se,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Qm(e){var t=nt();return Fv(t,De,e)}function Fv(e,t,n){if(t=ch(e,t,Wv)[0],e=Oo(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jl(t)}catch(r){throw r===nr?Uc:r}else a=t;t=nt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Vi(9,{destroy:void 0},nx.bind(null,s,n),null)),[a,i,e]}function nx(e,t){e.action=t}function Jm(e){var t=nt(),n=De;if(n!==null)return Fv(t,n,e);nt(),t=t.memoizedState,n=nt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Vi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=se.updateQueue,t===null&&(t=zc(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ep(){return nt().memoizedState}function No(e,t,n,a){var s=zt();se.flags|=e,s.memoizedState=Vi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Bc(e,t,n,a){var s=nt();a=a===void 0?null:a;var i=s.memoizedState.inst;De!==null&&a!==null&&ah(a,De.memoizedState.deps)?s.memoizedState=Vi(t,i,n,a):(se.flags|=e,s.memoizedState=Vi(1|t,i,n,a))}function Zm(e,t){No(8390656,8,e,t)}function uh(e,t){Bc(2048,8,e,t)}function ax(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=zc(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function tp(e){var t=nt().memoizedState;return ax({ref:t,nextImpl:e}),function(){if(Se&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function np(e,t){return Bc(4,2,e,t)}function ap(e,t){return Bc(4,4,e,t)}function sp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ip(e,t,n){n=n!=null?n.concat([e]):null,Bc(4,4,sp.bind(null,t,e),n)}function dh(){}function rp(e,t){var n=nt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ah(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function lp(e,t){var n=nt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ah(t,a[1]))return a[0];if(a=e(),Bs){Ia(!0);try{e()}finally{Ia(!1)}}return n.memoizedState=[a,t],a}function fh(e,t,n){return n===void 0||xa&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=n,e=Jp(),se.lanes|=e,ls|=e,n)}function op(e,t,n,a){return gn(n,t)?n:Yi.current!==null?(e=fh(e,n,a),gn(e,t)||(ut=!0),e):!(xa&42)||xa&1073741824&&!(he&261930)?(ut=!0,e.memoizedState=n):(e=Jp(),se.lanes|=e,ls|=e,t)}function cp(e,t,n,a,s){var i=xe.p;xe.p=i!==0&&8>i?i:8;var r=F.T,l={};F.T=l,mh(e,!1,t,n);try{var o=s(),u=F.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=WS(o,a);qr(e,t,f,mn(e))}else qr(e,t,a,mn(e))}catch(h){qr(e,t,{then:function(){},status:"rejected",reason:h},mn())}finally{xe.p=i,r!==null&&l.types!==null&&(r.types=l.types),F.T=r}}function sx(){}function qd(e,t,n,a){if(e.tag!==5)throw Error($(476));var s=up(e).queue;cp(e,s,t,Ds,n===null?sx:function(){return dp(e),n(a)})}function up(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ds,baseState:Ds,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Ds},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dp(e){var t=up(e);t.next===null&&(t=e.alternate.memoizedState),qr(e,t.next.queue,{},mn())}function hh(){return Ot(cl)}function fp(){return nt().memoizedState}function hp(){return nt().memoizedState}function ix(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Pa(n);var a=Wa(t,e,n);a!==null&&(Pt(a,t,n),$r(a,t,n)),t={cache:Wf()},e.payload=t;return}t=t.return}}function rx(e,t,n){var a=mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lc(e)?gp(t,n):(n=Qf(e,t,n,a),n!==null&&(Pt(n,e,a),yp(n,t,a)))}function mp(e,t,n){var a=mn();qr(e,t,n,a)}function qr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lc(e))gp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,r))return kc(e,t,s,0),ke===null&&Mc(),!1}catch{}finally{}if(n=Qf(e,t,s,a),n!==null)return Pt(n,e,a),yp(n,t,a),!0}return!1}function mh(e,t,n,a){if(a={lane:2,revertLane:xh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(e)){if(t)throw Error($(479))}else t=Qf(e,n,a,2),t!==null&&Pt(t,e,2)}function Lc(e){var t=e.alternate;return e===se||t!==null&&t===se}function gp(e,t){ki=Po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,tv(e,n)}}var rl={readContext:Ot,use:$c,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};rl.useEffectEvent=Ze;var vp={readContext:Ot,use:$c,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Zm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,No(4194308,4,sp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){No(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if(Bs){Ia(!0);try{e()}finally{Ia(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var s=n(t);if(Bs){Ia(!0);try{n(t)}finally{Ia(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=rx.bind(null,se,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Bd(e);var t=e.queue,n=mp.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:dh,useDeferredValue:function(e,t){var n=zt();return fh(n,e,t)},useTransition:function(){var e=Bd(!1);return e=cp.bind(null,se,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=se,s=zt();if(ye){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ke===null)throw Error($(349));he&127||Iv(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Zm(Kv.bind(null,a,i,e),[e]),a.flags|=2048,Vi(9,{destroy:void 0},Gv.bind(null,a,i,n,t),null),n},useId:function(){var e=zt(),t=ke.identifierPrefix;if(ye){var n=Zn,a=Jn;n=(a&~(1<<32-hn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=FS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:hh,useFormState:Xm,useActionState:Xm,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mh.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:oh,useCacheRefresh:function(){return zt().memoizedState=ix.bind(null,se)},useEffectEvent:function(e){var t=zt(),n={impl:e};return t.memoizedState=n,function(){if(Se&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},gh={readContext:Ot,use:$c,useCallback:rp,useContext:Ot,useEffect:uh,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:lp,useReducer:Oo,useRef:ep,useState:function(){return Oo(Ea)},useDebugValue:dh,useDeferredValue:function(e,t){var n=nt();return op(n,De.memoizedState,e,t)},useTransition:function(){var e=Oo(Ea)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Vv,useId:fp,useHostTransitionStatus:hh,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,t){var n=nt();return Jv(n,De,e,t)},useMemoCache:oh,useCacheRefresh:hp};gh.useEffectEvent=tp;var pp={readContext:Ot,use:$c,useCallback:rp,useContext:Ot,useEffect:uh,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:lp,useReducer:Cu,useRef:ep,useState:function(){return Cu(Ea)},useDebugValue:dh,useDeferredValue:function(e,t){var n=nt();return De===null?fh(n,e,t):op(n,De.memoizedState,e,t)},useTransition:function(){var e=Cu(Ea)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:Vv,useId:fp,useHostTransitionStatus:hh,useFormState:Jm,useActionState:Jm,useOptimistic:function(e,t){var n=nt();return De!==null?Jv(n,De,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oh,useCacheRefresh:hp};pp.useEffectEvent=tp;function Ru(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Pa(a);s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Pt(t,e,a),$r(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Pa(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Pt(t,e,a),$r(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),a=Pa(n);a.tag=2,t!=null&&(a.callback=t),t=Wa(e,a,n),t!==null&&(Pt(t,e,n),$r(t,e,n))}};function Pm(e,t,n,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!tl(n,a)||!tl(s,i):!0}function Wm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Hd.enqueueReplaceState(t,t.state,null)}function Ls(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ve({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function bp(e){Io(e)}function _p(e){console.error(e)}function wp(e){Io(e)}function Fo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Fm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Yd(e,t,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){Fo(e,t)},n}function Sp(e){return e=Pa(e),e.tag=3,e}function xp(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){Fm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Fm(t,n,a),typeof s!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function lx(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&tr(t,n,s,!0),n=yn.current,n!==null){switch(n.tag){case 31:case 13:return Rn===null?sc():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Qo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Vu(e,a,s)),!1;case 22:return n.flags|=65536,a===Qo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Vu(e,a,s)),!1}throw Error($(435,n.tag))}return Vu(e,a,s),sc(),!1}if(ye)return t=yn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Ad&&(e=Error($(422),{cause:a}),al(Dn(e,n)))):(a!==Ad&&(t=Error($(423),{cause:a}),al(Dn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Dn(a,n),s=Yd(e.stateNode,a,s),Du(e,s),Pe!==4&&(Pe=2)),!1;var i=Error($(520),{cause:a});if(i=Dn(i,n),Vr===null?Vr=[i]:Vr.push(i),Pe!==4&&(Pe=2),t===null)return!0;a=Dn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Yd(n.stateNode,a,e),Du(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Sp(s),xp(s,e,n,a),Du(n,s),!1}n=n.return}while(n!==null);return!1}var yh=Error($(461)),ut=!1;function Et(e,t,n,a){t.child=e===null?$v(t,null,n,a):$s(t,e.child,n,a)}function eg(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return zs(t),a=sh(e,t,n,r,i,s),l=ih(),e!==null&&!ut?(rh(e,t,s),Ta(e,t,s)):(ye&&l&&Zf(t),t.flags|=1,Et(e,t,a,s),t.child)}function tg(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Jf(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,Ep(e,t,i,a,s)):(e=To(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!vh(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(r,a)&&e.ref===t.ref)return Ta(e,t,s)}return t.flags|=1,e=ba(i,a),e.ref=t.ref,e.return=t,t.child=e}function Ep(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(tl(i,a)&&e.ref===t.ref)if(ut=!1,t.pendingProps=a=i,vh(e,s))e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Ta(e,t,s)}return Vd(e,t,n,a,s)}function Tp(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return ng(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jo(t,i!==null?i.cachePool:null),i!==null?Im(t,i):zd(),qv(t);else return a=t.lanes=536870912,ng(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(jo(t,i.cachePool),Im(t,i),Ha(),t.memoizedState=null):(e!==null&&jo(t,null),zd(),Ha());return Et(e,t,s,n),t.child}function Nr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ng(e,t,n,a,s){var i=Ff();return i=i===null?null:{parent:ct._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&jo(t,null),zd(),qv(t),e!==null&&tr(e,t,a,!0),t.childLanes=s,null}function Ao(e,t){return t=ec({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ag(e,t,n){return $s(t,e.child,null,n),e=Ao(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function ox(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=Ao(t,a),t.lanes=536870912,Nr(null,e);if($d(t),(e=He)?(e=v0(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Dv(e),n.return=t,t.child=n,jt=t,He=null)):e=null,e===null)throw is(t);return t.lanes=536870912,null}return Ao(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if($d(t),s)if(t.flags&256)t.flags&=-257,t=ag(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(ut||tr(e,t,n,!1),s=(n&e.childLanes)!==0,ut||s){if(a=ke,a!==null&&(r=nv(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,Vs(e,r),Pt(a,e,r),yh;sc(),t=ag(e,t,n)}else e=i.treeContext,He=Mn(r.nextSibling),jt=t,ye=!0,Za=null,Cn=!1,e!==null&&Rv(t,e),t=Ao(t,a),t.flags|=4096;return t}return e=ba(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Do(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vd(e,t,n,a,s){return zs(t),n=sh(e,t,n,a,void 0,s),a=ih(),e!==null&&!ut?(rh(e,t,s),Ta(e,t,s)):(ye&&a&&Zf(t),t.flags|=1,Et(e,t,n,s),t.child)}function sg(e,t,n,a,s,i){return zs(t),t.updateQueue=null,n=Yv(t,a,n,s),Hv(e),a=ih(),e!==null&&!ut?(rh(e,t,i),Ta(e,t,i)):(ye&&a&&Zf(t),t.flags|=1,Et(e,t,n,i),t.child)}function ig(e,t,n,a,s){if(zs(t),t.stateNode===null){var i=Ti,r=n.contextType;typeof r=="object"&&r!==null&&(i=Ot(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Hd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},th(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?Ot(r):Ti,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Ru(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Hd.enqueueReplaceState(i,i.state,null),Lr(t,a,i,s),Br(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,o=Ls(n,l);i.props=o;var u=i.context,f=n.contextType;r=Ti,typeof f=="object"&&f!==null&&(r=Ot(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==r)&&Wm(t,i,a,r),za=!1;var m=t.memoizedState;i.state=m,Lr(t,a,i,s),Br(),u=t.memoizedState,l||m!==u||za?(typeof h=="function"&&(Ru(t,n,h,a),u=t.memoizedState),(o=za||Pm(t,n,o,a,m,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,kd(e,t),r=t.memoizedProps,f=Ls(n,r),i.props=f,h=t.pendingProps,m=i.context,u=n.contextType,o=Ti,typeof u=="object"&&u!==null&&(o=Ot(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==h||m!==o)&&Wm(t,i,a,o),za=!1,m=t.memoizedState,i.state=m,Lr(t,a,i,s),Br();var g=t.memoizedState;r!==h||m!==g||za||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof l=="function"&&(Ru(t,n,l,a),g=t.memoizedState),(f=za||Pm(t,n,f,a,m,g,o)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=o,a=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Do(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,n,s)):Et(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Ta(e,t,s),e}function rg(e,t,n,a){return Us(),t.flags|=256,Et(e,t,n,a),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(e){return{baseLanes:e,cachePool:kv()}}function Uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function jp(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?qa(t):Ha(),(e=He)?(e=v0(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Dv(e),n.return=t,t.child=n,jt=t,He=null)):e=null,e===null)throw is(t);return af(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ha(),s=t.mode,l=ec({mode:"hidden",children:l},s),a=Cs(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=ku(n),a.childLanes=Uu(e,r,n),t.memoizedState=Mu,Nr(null,a)):(qa(t),Id(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(i)t.flags&256?(qa(t),t.flags&=-257,t=zu(e,t,n)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),l=a.fallback,s=t.mode,a=ec({mode:"visible",children:a.children},s),l=Cs(l,s,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,$s(t,e.child,null,n),a=t.child,a.memoizedState=ku(n),a.childLanes=Uu(e,r,n),t.memoizedState=Mu,t=Nr(null,a));else if(qa(t),af(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error($(419)),a.stack="",a.digest=r,al({value:a,source:null,stack:null}),t=zu(e,t,n)}else if(ut||tr(e,t,n,!1),r=(n&e.childLanes)!==0,ut||r){if(r=ke,r!==null&&(a=nv(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Vs(e,a),Pt(r,e,a),yh;nf(l)||sc(),t=zu(e,t,n)}else nf(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,He=Mn(l.nextSibling),jt=t,ye=!0,Za=null,Cn=!1,e!==null&&Rv(t,e),t=Id(t,a.children),t.flags|=4096);return t}return s?(Ha(),l=a.fallback,s=t.mode,o=e.child,u=o.sibling,a=ba(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=ba(u,l):(l=Cs(l,s,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Nr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=ku(n):(s=l.cachePool,s!==null?(o=ct._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=kv(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Uu(e,r,n),t.memoizedState=Mu,Nr(e.child,a)):(qa(t),n=e.child,e=n.sibling,n=ba(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Id(e,t){return t=ec({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ec(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function zu(e,t,n){return $s(t,e.child,null,n),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cd(e.return,t,n)}function $u(e,t,n,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function Op(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=tt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Be(tt,r),Et(e,t,a,n),a=ye?nl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lg(e,n,t);else if(e.tag===19)lg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$u(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$u(t,!0,n,null,i,a);break;case"together":$u(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ls|=t.lanes,!(n&t.childLanes))if(e!==null){if(tr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=ba(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ba(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function cx(e,t,n){switch(t.tag){case 3:qo(t,t.stateNode.containerInfo),La(t,ct,e.memoizedState.cache),Us();break;case 27:case 5:pd(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$d(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(qa(t),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(qa(t),e=Ta(e,t,n),e!==null?e.sibling:null);qa(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(tr(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Op(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(tt,tt.current),a)break;return null;case 22:return t.lanes=0,Tp(e,t,n,t.pendingProps);case 24:La(t,ct,e.memoizedState.cache)}return Ta(e,t,n)}function Np(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!vh(e,n)&&!(t.flags&128))return ut=!1,cx(e,t,n);ut=!!(e.flags&131072)}else ut=!1,ye&&t.flags&1048576&&Cv(t,nl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=xs(t.elementType),t.type=e,typeof e=="function")Jf(e)?(a=Ls(e,a),t.tag=1,t=ig(null,t,e,a,n)):(t.tag=0,t=Vd(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===Uf){t.tag=11,t=eg(null,t,e,a,n);break e}else if(s===zf){t.tag=14,t=tg(null,t,e,a,n);break e}}throw t=yd(e)||e,Error($(306,t,""))}}return t;case 0:return Vd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Ls(a,t.pendingProps),ig(e,t,a,s,n);case 3:e:{if(qo(t,t.stateNode.containerInfo),e===null)throw Error($(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,kd(e,t),Lr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,La(t,ct,a),a!==i.cache&&Rd(t,[ct],n,!0),Br(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=rg(e,t,a,n);break e}else if(a!==s){s=Dn(Error($(424)),t),al(s),t=rg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Mn(e.firstChild),jt=t,ye=!0,Za=null,Cn=!0,n=$v(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Us(),a===s){t=Ta(e,t,n);break e}Et(e,t,a,n)}t=t.child}return t;case 26:return Do(e,t),e===null?(n=Og(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,a=oc(Ja.current).createElement(n),a[Tt]=t,a[Wt]=e,Nt(a,n,e),wt(a),t.stateNode=a):t.memoizedState=Og(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pd(t),e===null&&ye&&(a=t.stateNode=p0(t.type,t.pendingProps,Ja.current),jt=t,Cn=!0,s=He,us(t.type)?(sf=s,He=Mn(a.firstChild)):He=s),Et(e,t,t.pendingProps.children,n),Do(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=a=He)&&(a=Lx(a,t.type,t.pendingProps,Cn),a!==null?(t.stateNode=a,jt=t,He=Mn(a.firstChild),Cn=!1,s=!0):s=!1),s||is(t)),pd(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,ef(s,i)?a=null:r!==null&&ef(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=sh(e,t,ex,null,null,n),cl._currentValue=s),Do(e,t),Et(e,t,a,n),t.child;case 6:return e===null&&ye&&((e=n=He)&&(n=qx(n,t.pendingProps,Cn),n!==null?(t.stateNode=n,jt=t,He=null,e=!0):e=!1),e||is(t)),null;case 13:return jp(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$s(t,null,a,n):Et(e,t,a,n),t.child;case 11:return eg(e,t,t.type,t.pendingProps,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,La(t,t.type,a.value),Et(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,zs(t),s=Ot(s),a=a(s),t.flags|=1,Et(e,t,a,n),t.child;case 14:return tg(e,t,t.type,t.pendingProps,n);case 15:return Ep(e,t,t.type,t.pendingProps,n);case 19:return Op(e,t,n);case 31:return ox(e,t,n);case 22:return Tp(e,t,n,t.pendingProps);case 24:return zs(t),a=Ot(ct),e===null?(s=Ff(),s===null&&(s=ke,i=Wf(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},th(t),La(t,ct,s)):(e.lanes&n&&(kd(e,t),Lr(t,null,null,n),Br()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),La(t,ct,a)):(a=i.cache,La(t,ct,a),a!==s.cache&&Rd(t,[ct],n,!0))),Et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function ca(e){e.flags|=4}function Bu(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Wp())e.flags|=8192;else throw Ms=Qo,eh}else e.flags&=-16777217}function og(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!w0(t))if(Wp())e.flags|=8192;else throw Ms=Qo,eh}function to(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fy():536870912,e.lanes|=t,Ii|=t)}function Sr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ux(e,t,n){var a=t.pendingProps;switch(Pf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(ct),Bi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(si(t)?ca(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Au())),qe(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ca(t),i!==null?(qe(t),og(t,i)):(qe(t),Bu(t,s,null,a,n))):i?i!==e.memoizedState?(ca(t),qe(t),og(t,i)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ca(t),qe(t),Bu(t,s,e,a,n)),null;case 27:if(Ho(t),n=Ja.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return qe(t),null}e=Wn.current,si(t)?$m(t):(e=p0(s,a,n),t.stateNode=e,ca(t))}return qe(t),null;case 5:if(Ho(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return qe(t),null}if(i=Wn.current,si(t))$m(t);else{var r=oc(Ja.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[Tt]=t,i[Wt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Nt(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ca(t)}}return qe(t),Bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(e=Ja.current,si(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=jt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||m0(e.nodeValue,n)),e||is(t,!0)}else e=oc(e).createTextNode(a),e[Tt]=t,t.stateNode=e}return qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=si(t),n!==null){if(e===null){if(!a)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Tt]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else n=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if(t.flags&128)throw Error($(558))}return qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=si(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Tt]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),s=!1}else s=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),qe(t),null);case 4:return Bi(),e===null&&Eh(t.stateNode.containerInfo),qe(t),null;case 10:return _a(t.type),qe(t),null;case 19:if(St(tt),a=t.memoizedState,a===null)return qe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Sr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Zo(e),i!==null){for(t.flags|=128,Sr(a,!1),e=i.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Av(n,e),n=n.sibling;return Be(tt,tt.current&1|2),ye&&ma(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&dn()>nc&&(t.flags|=128,s=!0,Sr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Zo(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),Sr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return qe(t),null}else 2*dn()-a.renderingStartTime>nc&&n!==536870912&&(t.flags|=128,s=!0,Sr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,n=tt.current,Be(tt,s?n&1|2:n&1),ye&&ma(t,a.treeForkCount),e):(qe(t),null);case 22:case 23:return rn(t),nh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&to(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&St(Rs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(ct),qe(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function dx(e,t){switch(Pf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(ct),Bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ho(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error($(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(tt),null;case 4:return Bi(),null;case 10:return _a(t.type),null;case 22:case 23:return rn(t),nh(),e!==null&&St(Rs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(ct),null;case 25:return null;default:return null}}function Ap(e,t){switch(Pf(t),t.tag){case 3:_a(ct),Bi();break;case 26:case 27:case 5:Ho(t);break;case 4:Bi();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:St(tt);break;case 10:_a(t.type);break;case 22:case 23:rn(t),nh(),e!==null&&St(Rs);break;case 24:_a(ct)}}function Ol(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==s)}}catch(l){Ne(t,t.return,l)}}function rs(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var o=n,u=l;try{u()}catch(f){Ne(s,o,f)}}}a=a.next}while(a!==i)}}catch(f){Ne(t,t.return,f)}}function Dp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Lv(t,n)}catch(a){Ne(e,e.return,a)}}}function Cp(e,t,n){n.props=Ls(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ne(e,t,a)}}function Hr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Ne(e,t,s)}}function Pn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Ne(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ne(e,t,s)}else n.current=null}function Rp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Ne(e,e.return,s)}}function Lu(e,t,n){try{var a=e.stateNode;Mx(a,e.type,n,t),a[Wt]=t}catch(s){Ne(e,e.return,s)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(a!==4&&(a===27&&us(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Gd(e,t,n),e=e.sibling;e!==null;)Gd(e,t,n),e=e.sibling}function tc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&us(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}function kp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nt(t,a,n),t[Tt]=e,t[Wt]=n}catch(i){Ne(e,e.return,i)}}var ga=!1,ot=!1,Hu=!1,cg=typeof WeakSet=="function"?WeakSet:Set,bt=null;function fx(e,t){if(e=e.containerInfo,Wd=fc,e=wv(e),Kf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=r+s),h!==i||a!==0&&h.nodeType!==3||(o=r+a),h.nodeType===3&&(r+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=r),m===i&&++f===a&&(o=r),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fd={focusedElem:e,selectionRange:n},fc=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var x=Ls(n.type,s);e=a.getSnapshotBeforeUpdate(x,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(T){Ne(n,n.return,T)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function Up(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:da(e,n),a&4&&Ol(5,n);break;case 1:if(da(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Ne(n,n.return,r)}else{var s=Ls(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ne(n,n.return,r)}}a&64&&Dp(n),a&512&&Hr(n,n.return);break;case 3:if(da(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Lv(e,t)}catch(r){Ne(n,n.return,r)}}break;case 27:t===null&&a&4&&kp(n);case 26:case 5:da(e,n),t===null&&a&4&&Rp(n),a&512&&Hr(n,n.return);break;case 12:da(e,n);break;case 31:da(e,n),a&4&&Bp(e,n);break;case 13:da(e,n),a&4&&Lp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wx.bind(null,n),Hx(e,n))));break;case 22:if(a=n.memoizedState!==null||ga,!a){t=t!==null&&t.memoizedState!==null||ot,s=ga;var i=ot;ga=a,(ot=t)&&!i?fa(e,n,(n.subtreeFlags&8772)!==0):da(e,n),ga=s,ot=i}break;case 30:break;default:da(e,n)}}function zp(e){var t=e.alternate;t!==null&&(e.alternate=null,zp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Jt=!1;function ua(e,t,n){for(n=n.child;n!==null;)$p(e,t,n),n=n.sibling}function $p(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 26:ot||Pn(n,t),ua(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||Pn(n,t);var a=Ie,s=Jt;us(n.type)&&(Ie=n.stateNode,Jt=!1),ua(e,t,n),Gr(n.stateNode),Ie=a,Jt=s;break;case 5:ot||Pn(n,t);case 6:if(a=Ie,s=Jt,Ie=null,ua(e,t,n),Ie=a,Jt=s,Ie!==null)if(Jt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(n.stateNode)}catch(i){Ne(n,t,i)}else try{Ie.removeChild(n.stateNode)}catch(i){Ne(n,t,i)}break;case 18:Ie!==null&&(Jt?(e=Ie,Sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qi(e)):Sg(Ie,n.stateNode));break;case 4:a=Ie,s=Jt,Ie=n.stateNode.containerInfo,Jt=!0,ua(e,t,n),Ie=a,Jt=s;break;case 0:case 11:case 14:case 15:rs(2,n,t),ot||rs(4,n,t),ua(e,t,n);break;case 1:ot||(Pn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Cp(n,t,a)),ua(e,t,n);break;case 21:ua(e,t,n);break;case 22:ot=(a=ot)||n.memoizedState!==null,ua(e,t,n),ot=a;break;default:ua(e,t,n)}}function Bp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(n){Ne(t,t.return,n)}}}function Lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(n){Ne(t,t.return,n)}}function hx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cg),t;default:throw Error($(435,e.tag))}}function no(e,t){var n=hx(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Sx.bind(null,e,a);a.then(s,s)}})}function Xt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(us(l.type)){Ie=l.stateNode,Jt=!1;break e}break;case 5:Ie=l.stateNode,Jt=!1;break e;case 3:case 4:Ie=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Ie===null)throw Error($(160));$p(i,r,s),Ie=null,Jt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qp(t,e),t=t.sibling}var Yn=null;function qp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Qt(e),a&4&&(rs(3,e,e.return),Ol(3,e),rs(5,e,e.return));break;case 1:Xt(t,e),Qt(e),a&512&&(ot||n===null||Pn(n,n.return)),a&64&&ga&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Yn;if(Xt(t,e),Qt(e),a&512&&(ot||n===null||Pn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[xl]||i[Tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Nt(i,a,n),i[Tt]=e,wt(i),a=i;break e;case"link":var r=Ag("link","href",s).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(a),Nt(i,a,n),s.head.appendChild(i);break;case"meta":if(r=Ag("meta","content",s).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}i=s.createElement(a),Nt(i,a,n),s.head.appendChild(i);break;default:throw Error($(468,a))}i[Tt]=e,wt(i),a=i}e.stateNode=a}else Dg(s,e.type,e.stateNode);else e.stateNode=Ng(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Dg(s,e.type,e.stateNode):Ng(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xt(t,e),Qt(e),a&512&&(ot||n===null||Pn(n,n.return)),n!==null&&a&4&&Lu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xt(t,e),Qt(e),a&512&&(ot||n===null||Pn(n,n.return)),e.flags&32){s=e.stateNode;try{qi(s,"")}catch(x){Ne(e,e.return,x)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Lu(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Hu=!0);break;case 6:if(Xt(t,e),Qt(e),a&4){if(e.stateNode===null)throw Error($(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(x){Ne(e,e.return,x)}}break;case 3:if(Mo=null,s=Yn,Yn=cc(t.containerInfo),Xt(t,e),Yn=s,Qt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(x){Ne(e,e.return,x)}Hu&&(Hu=!1,Hp(e));break;case 4:a=Yn,Yn=cc(e.stateNode.containerInfo),Xt(t,e),Qt(e),Yn=a;break;case 12:Xt(t,e),Qt(e);break;case 31:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,no(e,a)));break;case 13:Xt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(qc=dn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,no(e,a)));break;case 22:s=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=ga,f=ot;if(ga=u||s,ot=f||o,Xt(t,e),ot=f,ga=u,Qt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||o||ga||ot||Es(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var h=o.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(x){Ne(o,o.return,x)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(x){Ne(o,o.return,x)}}}else if(t.tag===18){if(n===null){o=t;try{var g=o.stateNode;s?xg(g,!0):xg(o.stateNode,!1)}catch(x){Ne(o,o.return,x)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,no(e,n))));break;case 19:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,no(e,a)));break;case 30:break;case 21:break;default:Xt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Mp(a)){n=a;break}a=a.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var s=n.stateNode,i=qu(e);tc(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&(qi(r,""),n.flags&=-33);var l=qu(e);tc(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=qu(e);Gd(e,u,o);break;default:throw Error($(161))}}catch(f){Ne(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Up(e,t.alternate,t),t=t.sibling}function Es(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rs(4,t,t.return),Es(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Cp(t,t.return,n),Es(t);break;case 27:Gr(t.stateNode);case 26:case 5:Pn(t,t.return),Es(t);break;case 22:t.memoizedState===null&&Es(t);break;case 30:Es(t);break;default:Es(t)}e=e.sibling}}function fa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:fa(s,i,n),Ol(4,i);break;case 1:if(fa(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){Ne(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)Bv(o[s],l)}catch(u){Ne(a,a.return,u)}}n&&r&64&&Dp(i),Hr(i,i.return);break;case 27:kp(i);case 26:case 5:fa(s,i,n),n&&a===null&&r&4&&Rp(i),Hr(i,i.return);break;case 12:fa(s,i,n);break;case 31:fa(s,i,n),n&&r&4&&Bp(s,i);break;case 13:fa(s,i,n),n&&r&4&&Lp(s,i);break;case 22:i.memoizedState===null&&fa(s,i,n),Hr(i,i.return);break;case 30:break;default:fa(s,i,n)}t=t.sibling}}function ph(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Tl(n))}function bh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e))}function Bn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yp(e,t,n,a),t=t.sibling}function Yp(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bn(e,t,n,a),s&2048&&Ol(9,t);break;case 1:Bn(e,t,n,a);break;case 3:Bn(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e)));break;case 12:if(s&2048){Bn(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ne(t,t.return,o)}}else Bn(e,t,n,a);break;case 31:Bn(e,t,n,a);break;case 13:Bn(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Bn(e,t,n,a):Yr(e,t):i._visibility&2?Bn(e,t,n,a):(i._visibility|=2,fi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&ph(r,t);break;case 24:Bn(e,t,n,a),s&2048&&bh(t.alternate,t);break;default:Bn(e,t,n,a)}}function fi(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:fi(i,r,l,o,s),Ol(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?fi(i,r,l,o,s):Yr(i,r):(f._visibility|=2,fi(i,r,l,o,s)),s&&u&2048&&ph(r.alternate,r);break;case 24:fi(i,r,l,o,s),s&&u&2048&&bh(r.alternate,r);break;default:fi(i,r,l,o,s)}t=t.sibling}}function Yr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Yr(n,a),s&2048&&ph(a.alternate,a);break;case 24:Yr(n,a),s&2048&&bh(a.alternate,a);break;default:Yr(n,a)}t=t.sibling}}var Ar=8192;function ii(e,t,n){if(e.subtreeFlags&Ar)for(e=e.child;e!==null;)Vp(e,t,n),e=e.sibling}function Vp(e,t,n){switch(e.tag){case 26:ii(e,t,n),e.flags&Ar&&e.memoizedState!==null&&Fx(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:ii(e,t,n);break;case 3:case 4:var a=Yn;Yn=cc(e.stateNode.containerInfo),ii(e,t,n),Yn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ar,Ar=16777216,ii(e,t,n),Ar=a):ii(e,t,n));break;default:ii(e,t,n)}}function Ip(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bt=a,Kp(a,e)}Ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:xr(e),e.flags&2048&&rs(9,e,e.return);break;case 3:xr(e);break;case 12:xr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Co(e)):xr(e);break;default:xr(e)}}function Co(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bt=a,Kp(a,e)}Ip(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rs(8,t,t.return),Co(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Co(t));break;default:Co(t)}e=e.sibling}}function Kp(e,t){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:rs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Tl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bt=a;else e:for(n=e;bt!==null;){a=bt;var s=a.sibling,i=a.return;if(zp(a),a===n){bt=null;break e}if(s!==null){s.return=i,bt=s;break e}bt=i}}}var mx={getCacheForType:function(e){var t=Ot(ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(ct).controller.signal}},gx=typeof WeakMap=="function"?WeakMap:Map,Se=0,ke=null,de=null,he=0,Oe=0,sn=null,Ka=!1,ar=!1,_h=!1,ja=0,Pe=0,ls=0,ks=0,wh=0,un=0,Ii=0,Vr=null,Zt=null,Kd=!1,qc=0,Xp=0,nc=1/0,ac=null,Fa=null,ht=0,es=null,Gi=null,wa=0,Xd=0,Qd=null,Qp=null,Ir=0,Jd=null;function mn(){return Se&2&&he!==0?he&-he:F.T!==null?xh():av()}function Jp(){if(un===0)if(!(he&536870912)||ye){var e=Ql;Ql<<=1,!(Ql&3932160)&&(Ql=262144),un=e}else un=536870912;return e=yn.current,e!==null&&(e.flags|=32),un}function Pt(e,t,n){(e===ke&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Ki(e,0),Xa(e,he,un,!1)),Sl(e,n),(!(Se&2)||e!==ke)&&(e===ke&&(!(Se&2)&&(ks|=n),Pe===4&&Xa(e,he,un,!1)),ea(e))}function Zp(e,t,n){if(Se&6)throw Error($(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||wl(e,t),s=a?px(e,t):Yu(e,t,!0),i=a;do{if(s===0){ar&&!a&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!yx(n)){s=Yu(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=Vr;var o=l.current.memoizedState.isDehydrated;if(o&&(Ki(l,r).flags|=256),r=Yu(l,r,!1),r!==2){if(_h&&!o){l.errorRecoveryDisabledLanes|=i,ks|=i,s=4;break e}i=Zt,Zt=s,i!==null&&(Zt===null?Zt=i:Zt.push.apply(Zt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){Ki(e,0),Xa(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Xa(a,t,un,!Ka);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(s=qc+300-dn(),10<s)){if(Xa(a,t,un,!Ka),Ac(a,0,!0)!==0)break e;wa=t,a.timeoutHandle=y0(ug.bind(null,a,n,Zt,ac,Kd,t,un,ks,Ii,Ka,i,"Throttled",-0,0),s);break e}ug(a,n,Zt,ac,Kd,t,un,ks,Ii,Ka,i,null,-0,0)}}break}while(!0);ea(e)}function ug(e,t,n,a,s,i,r,l,o,u,f,h,m,g){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Vp(t,i,h);var x=(i&62914560)===i?qc-dn():(i&4194048)===i?Xp-dn():0;if(x=e1(h,x),x!==null){wa=i,e.cancelPendingCommit=x(fg.bind(null,e,t,i,n,a,s,r,l,o,f,h,null,m,g)),Xa(e,i,r,!u);return}}fg(e,t,i,n,a,s,r,l,o)}function yx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,a){t&=~wh,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-hn(s),r=1<<i;a[i]=-1,s&=~r}n!==0&&ev(e,n,t)}function Hc(){return Se&6?!0:(Nl(0),!1)}function Sh(){if(de!==null){if(Oe===0)var e=de.return;else e=de,pa=Is=null,lh(e),Mi=null,sl=0,e=de;for(;e!==null;)Ap(e.alternate,e),e=e.return;de=null}}function Ki(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,zx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wa=0,Sh(),ke=e,de=n=ba(e.current,null),he=t,Oe=0,sn=null,Ka=!1,ar=wl(e,t),_h=!1,Ii=un=wh=ks=ls=Pe=0,Zt=Vr=null,Kd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-hn(a),i=1<<s;t|=e[s],a&=~i}return ja=t,Mc(),n}function Pp(e,t){se=null,F.H=rl,t===nr||t===Uc?(t=Ym(),Oe=3):t===eh?(t=Ym(),Oe=4):Oe=t===yh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,de===null&&(Pe=1,Fo(e,Dn(t,e.current)))}function Wp(){var e=yn.current;return e===null?!0:(he&4194048)===he?Rn===null:(he&62914560)===he||he&536870912?e===Rn:!1}function Fp(){var e=F.H;return F.H=rl,e===null?rl:e}function e0(){var e=F.A;return F.A=mx,e}function sc(){Pe=4,Ka||(he&4194048)!==he&&yn.current!==null||(ar=!0),!(ls&134217727)&&!(ks&134217727)||ke===null||Xa(ke,he,un,!1)}function Yu(e,t,n){var a=Se;Se|=2;var s=Fp(),i=e0();(ke!==e||he!==t)&&(ac=null,Ki(e,t)),t=!1;var r=Pe;e:do try{if(Oe!==0&&de!==null){var l=de,o=sn;switch(Oe){case 8:Sh(),r=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(t=!0);var u=Oe;if(Oe=0,sn=null,Ni(e,l,o,u),n&&ar){r=0;break e}break;default:u=Oe,Oe=0,sn=null,Ni(e,l,o,u)}}vx(),r=Pe;break}catch(f){Pp(e,f)}while(!0);return t&&e.shellSuspendCounter++,pa=Is=null,Se=a,F.H=s,F.A=i,de===null&&(ke=null,he=0,Mc()),r}function vx(){for(;de!==null;)t0(de)}function px(e,t){var n=Se;Se|=2;var a=Fp(),s=e0();ke!==e||he!==t?(ac=null,nc=dn()+500,Ki(e,t)):ar=wl(e,t);e:do try{if(Oe!==0&&de!==null){t=de;var i=sn;t:switch(Oe){case 1:Oe=0,sn=null,Ni(e,t,i,1);break;case 2:case 9:if(Hm(i)){Oe=0,sn=null,dg(t);break}t=function(){Oe!==2&&Oe!==9||ke!==e||(Oe=7),ea(e)},i.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Hm(i)?(Oe=0,sn=null,dg(t)):(Oe=0,sn=null,Ni(e,t,i,7));break;case 5:var r=null;switch(de.tag){case 26:r=de.memoizedState;case 5:case 27:var l=de;if(r?w0(r):l.stateNode.complete){Oe=0,sn=null;var o=l.sibling;if(o!==null)de=o;else{var u=l.return;u!==null?(de=u,Yc(u)):de=null}break t}}Oe=0,sn=null,Ni(e,t,i,5);break;case 6:Oe=0,sn=null,Ni(e,t,i,6);break;case 8:Sh(),Pe=6;break e;default:throw Error($(462))}}bx();break}catch(f){Pp(e,f)}while(!0);return pa=Is=null,F.H=a,F.A=s,Se=n,de!==null?0:(ke=null,he=0,Mc(),Pe)}function bx(){for(;de!==null&&!Yw();)t0(de)}function t0(e){var t=Np(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?Yc(e):de=t}function dg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=sg(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=sg(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:lh(t);default:Ap(n,t),t=de=Av(t,ja),t=Np(n,t,ja)}e.memoizedProps=e.pendingProps,t===null?Yc(e):de=t}function Ni(e,t,n,a){pa=Is=null,lh(t),Mi=null,sl=0;var s=t.return;try{if(lx(e,s,t,n,he)){Pe=1,Fo(e,Dn(n,e.current)),de=null;return}}catch(i){if(s!==null)throw de=s,i;Pe=1,Fo(e,Dn(n,e.current)),de=null;return}t.flags&32768?(ye||a===1?e=!0:ar||he&536870912?e=!1:(Ka=e=!0,(a===2||a===9||a===3||a===6)&&(a=yn.current,a!==null&&a.tag===13&&(a.flags|=16384))),n0(t,e)):Yc(t)}function Yc(e){var t=e;do{if(t.flags&32768){n0(t,Ka);return}e=t.return;var n=ux(t.alternate,t,ja);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Pe===0&&(Pe=5)}function n0(e,t){do{var n=dx(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);Pe=6,de=null}function fg(e,t,n,a,s,i,r,l,o){e.cancelPendingCommit=null;do Vc();while(ht!==0);if(Se&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(i=t.lanes|t.childLanes,i|=Xf,Ww(e,n,i,r,l,o),e===ke&&(de=ke=null,he=0),Gi=t,es=e,wa=n,Xd=i,Qd=s,Qp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xx(Yo,function(){return l0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=F.T,F.T=null,s=xe.p,xe.p=2,r=Se,Se|=4;try{fx(e,t,n)}finally{Se=r,xe.p=s,F.T=a}}ht=1,a0(),s0(),i0()}}function a0(){if(ht===1){ht=0;var e=es,t=Gi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var a=xe.p;xe.p=2;var s=Se;Se|=4;try{qp(t,e);var i=Fd,r=wv(e.containerInfo),l=i.focusedElem,o=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&_v(l.ownerDocument.documentElement,l)){if(o!==null&&Kf(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),x=l.textContent.length,T=Math.min(o.start,x),O=o.end===void 0?T:Math.min(o.end,x);!g.extend&&T>O&&(r=O,O=T,T=r);var b=km(l,T),y=km(l,O);if(b&&y&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var v=h.createRange();v.setStart(b.node,b.offset),g.removeAllRanges(),T>O?(g.addRange(v),g.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),g.addRange(v))}}}}for(h=[],g=l;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var S=h[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}fc=!!Wd,Fd=Wd=null}finally{Se=s,xe.p=a,F.T=n}}e.current=t,ht=2}}function s0(){if(ht===2){ht=0;var e=es,t=Gi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var a=xe.p;xe.p=2;var s=Se;Se|=4;try{Up(e,t.alternate,t)}finally{Se=s,xe.p=a,F.T=n}}ht=3}}function i0(){if(ht===4||ht===3){ht=0,Vw();var e=es,t=Gi,n=wa,a=Qp;t.subtreeFlags&10256||t.flags&10256?ht=5:(ht=0,Gi=es=null,r0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Fa=null),Lf(n),t=t.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,s=xe.p,xe.p=2,F.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];i(l.value,{componentStack:l.stack})}}finally{F.T=t,xe.p=s}}wa&3&&Vc(),ea(e),s=e.pendingLanes,n&261930&&s&42?e===Jd?Ir++:(Ir=0,Jd=e):Ir=0,Nl(0)}}function r0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tl(t)))}function Vc(){return a0(),s0(),i0(),l0()}function l0(){if(ht!==5)return!1;var e=es,t=Xd;Xd=0;var n=Lf(wa),a=F.T,s=xe.p;try{xe.p=32>n?32:n,F.T=null,n=Qd,Qd=null;var i=es,r=wa;if(ht=0,Gi=es=null,wa=0,Se&6)throw Error($(331));var l=Se;if(Se|=4,Gp(i.current),Yp(i,i.current,r,n),Se=l,Nl(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(_l,i)}catch{}return!0}finally{xe.p=s,F.T=a,r0(e,t)}}function hg(e,t,n){t=Dn(n,t),t=Yd(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(Sl(e,2),ea(e))}function Ne(e,t,n){if(e.tag===3)hg(e,e,n);else for(;t!==null;){if(t.tag===3){hg(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fa===null||!Fa.has(a))){e=Dn(n,e),n=Sp(2),a=Wa(t,n,2),a!==null&&(xp(n,a,t,e),Sl(a,2),ea(a));break}}t=t.return}}function Vu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new gx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(_h=!0,s.add(n),e=_x.bind(null,e,t,n),t.then(e,e))}function _x(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(he&n)===n&&(Pe===4||Pe===3&&(he&62914560)===he&&300>dn()-qc?!(Se&2)&&Ki(e,0):wh|=n,Ii===he&&(Ii=0)),ea(e)}function o0(e,t){t===0&&(t=Fy()),e=Vs(e,t),e!==null&&(Sl(e,t),ea(e))}function wx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o0(e,n)}function Sx(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error($(314))}a!==null&&a.delete(t),o0(e,n)}function xx(e,t){return $f(e,t)}var ic=null,hi=null,Zd=!1,rc=!1,Iu=!1,Qa=0;function ea(e){e!==hi&&e.next===null&&(hi===null?ic=hi=e:hi=hi.next=e),rc=!0,Zd||(Zd=!0,Tx())}function Nl(e,t){if(!Iu&&rc){Iu=!0;do for(var n=!1,a=ic;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-hn(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,mg(a,i))}else i=he,i=Ac(a,a===ke?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||wl(a,i)||(n=!0,mg(a,i));a=a.next}while(n);Iu=!1}}function Ex(){c0()}function c0(){rc=Zd=!1;var e=0;Qa!==0&&Ux()&&(e=Qa);for(var t=dn(),n=null,a=ic;a!==null;){var s=a.next,i=u0(a,t);i===0?(a.next=null,n===null?ic=s:n.next=s,s===null&&(hi=n)):(n=a,(e!==0||i&3)&&(rc=!0)),a=s}ht!==0&&ht!==5||Nl(e),Qa!==0&&(Qa=0)}function u0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-hn(i),l=1<<r,o=s[r];o===-1?(!(l&n)||l&a)&&(s[r]=Pw(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}if(t=ke,n=he,n=Ac(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&pu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||wl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&pu(a),Lf(n)){case 2:case 8:n=Py;break;case 32:n=Yo;break;case 268435456:n=Wy;break;default:n=Yo}return a=d0.bind(null,e),n=$f(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&pu(a),e.callbackPriority=2,e.callbackNode=null,2}function d0(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vc()&&e.callbackNode!==n)return null;var a=he;return a=Ac(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Zp(e,a,t),u0(e,dn()),e.callbackNode!=null&&e.callbackNode===n?d0.bind(null,e):null)}function mg(e,t){if(Vc())return null;Zp(e,t,!0)}function Tx(){$x(function(){Se&6?$f(Zy,Ex):c0()})}function xh(){if(Qa===0){var e=Hi;e===0&&(e=Xl,Xl<<=1,!(Xl&261888)&&(Xl=256)),Qa=e}return Qa}function gg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:So(""+e)}function yg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function jx(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=gg((s[Wt]||null).action),r=a.submitter;r&&(t=(t=r[Wt]||null)?gg(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new Dc("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qa!==0){var o=r?yg(s,r):new FormData(s);qd(n,{pending:!0,data:o,method:s.method,action:i},null,o)}}else typeof i=="function"&&(l.preventDefault(),o=r?yg(s,r):new FormData(s),qd(n,{pending:!0,data:o,method:s.method,action:i},i,o))},currentTarget:s}]})}}for(var Gu=0;Gu<Nd.length;Gu++){var Ku=Nd[Gu],Ox=Ku.toLowerCase(),Nx=Ku[0].toUpperCase()+Ku.slice(1);Kn(Ox,"on"+Nx)}Kn(xv,"onAnimationEnd");Kn(Ev,"onAnimationIteration");Kn(Tv,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(IS,"onTransitionRun");Kn(GS,"onTransitionStart");Kn(KS,"onTransitionCancel");Kn(jv,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function f0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Io(f)}s.currentTarget=null,i=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Io(f)}s.currentTarget=null,i=o}}}}function ue(e,t){var n=t[_d];n===void 0&&(n=t[_d]=new Set);var a=e+"__bubble";n.has(a)||(h0(t,e,2,!1),n.add(a))}function Xu(e,t,n){var a=0;t&&(a|=4),h0(n,e,a,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function Eh(e){if(!e[ao]){e[ao]=!0,sv.forEach(function(n){n!=="selectionchange"&&(Ax.has(n)||Xu(n,!1,e),Xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,Xu("selectionchange",!1,t))}}function h0(e,t,n,a){switch(j0(t)){case 2:var s=a1;break;case 8:s=s1;break;default:s=Nh}n=s.bind(null,t,n,e),s=void 0,!Td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qu(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=bi(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=i=r;continue e}l=l.parentNode}}a=a.return}fv(function(){var u=i,f=Yf(n),h=[];e:{var m=Ov.get(e);if(m!==void 0){var g=Dc,x=e;switch(e){case"keypress":if(Eo(n)===0)break e;case"keydown":case"keyup":g=SS;break;case"focusin":x="focus",g=xu;break;case"focusout":x="blur",g=xu;break;case"beforeblur":case"afterblur":g=xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TS;break;case xv:case Ev:case Tv:g=hS;break;case jv:g=OS;break;case"scroll":case"scrollend":g=oS;break;case"wheel":g=AS;break;case"copy":case"cut":case"paste":g=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jm;break;case"toggle":case"beforetoggle":g=CS}var T=(t&4)!==0,O=!T&&(e==="scroll"||e==="scrollend"),b=T?m!==null?m+"Capture":null:m;T=[];for(var y=u,v;y!==null;){var S=y;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||b===null||(S=Fr(y,b),S!=null&&T.push(ol(y,S,v))),O)break;y=y.return}0<T.length&&(m=new g(m,x,null,n,f),h.push({event:m,listeners:T}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Ed&&(x=n.relatedTarget||n.fromElement)&&(bi(x)||x[Fi]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?bi(x):null,x!==null&&(O=bl(x),T=x.tag,x!==O||T!==5&&T!==27&&T!==6)&&(x=null)):(g=null,x=u),g!==x)){if(T=Em,S="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=jm,S="onPointerLeave",b="onPointerEnter",y="pointer"),O=g==null?m:Or(g),v=x==null?m:Or(x),m=new T(S,y+"leave",g,n,f),m.target=O,m.relatedTarget=v,S=null,bi(f)===u&&(T=new T(b,y+"enter",x,n,f),T.target=v,T.relatedTarget=O,S=T),O=S,g&&x)t:{for(T=Dx,b=g,y=x,v=0,S=b;S;S=T(S))v++;S=0;for(var E=y;E;E=T(E))S++;for(;0<v-S;)b=T(b),v--;for(;0<S-v;)y=T(y),S--;for(;v--;){if(b===y||y!==null&&b===y.alternate){T=b;break t}b=T(b),y=T(y)}T=null}else T=null;g!==null&&vg(h,m,g,T,!1),x!==null&&O!==null&&vg(h,O,x,T,!0)}}e:{if(m=u?Or(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=Dm;else if(Am(m))if(pv)C=HS;else{C=LS;var j=BS}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Hf(u.elementType)&&(C=Dm):C=qS;if(C&&(C=C(e,u))){vv(h,C,n,f);break e}j&&j(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&xd(m,"number",m.value)}switch(j=u?Or(u):window,e){case"focusin":(Am(j)||j.contentEditable==="true")&&(Si=j,jd=u,Ur=null);break;case"focusout":Ur=jd=Si=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Um(h,n,f);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Um(h,n,f)}var R;if(Gf)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else wi?gv(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(mv&&n.locale!=="ko"&&(wi||z!=="onCompositionStart"?z==="onCompositionEnd"&&wi&&(R=hv()):(Ga=f,Vf="value"in Ga?Ga.value:Ga.textContent,wi=!0)),j=lc(u,z),0<j.length&&(z=new Tm(z,e,null,n,f),h.push({event:z,listeners:j}),R?z.data=R:(R=yv(n),R!==null&&(z.data=R)))),(R=MS?kS(e,n):US(e,n))&&(z=lc(u,"onBeforeInput"),0<z.length&&(j=new Tm("onBeforeInput","beforeinput",null,n,f),h.push({event:j,listeners:z}),j.data=R)),jx(h,e,u,n,f)}f0(h,t)})}function ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lc(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Fr(e,n),s!=null&&a.unshift(ol(e,s,i)),s=Fr(e,t),s!=null&&a.push(ol(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Dx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vg(e,t,n,a,s){for(var i=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=Fr(n,i),u!=null&&r.unshift(ol(n,u,o))):s||(u=Fr(n,i),u!=null&&r.push(ol(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Cx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(Cx,`
`).replace(Rx,"")}function m0(e,t){return t=pg(t),pg(e)===t}function Ae(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||qi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&qi(e,""+a);break;case"className":Zl(e,"class",a);break;case"tabIndex":Zl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(e,n,a);break;case"style":dv(e,a,i);break;case"data":if(t!=="object"){Zl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=So(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",s.name,s,null),Ae(e,t,"formEncType",s.formEncType,s,null),Ae(e,t,"formMethod",s.formMethod,s,null),Ae(e,t,"formTarget",s.formTarget,s,null)):(Ae(e,t,"encType",s.encType,s,null),Ae(e,t,"method",s.method,s,null),Ae(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=So(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=va);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=So(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ue("beforetoggle",e),ue("toggle",e),wo(e,"popover",a);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":wo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rS.get(n)||n,wo(e,n,a))}}function Pd(e,t,n,a,s,i){switch(n){case"style":dv(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof a=="string"?qi(e,a):(typeof a=="number"||typeof a=="bigint")&&qi(e,""+a);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[Wt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):wo(e,n,a)}}}function Nt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ae(e,t,i,r,n,null)}}s&&Ae(e,t,"srcSet",n.srcSet,n,null),a&&Ae(e,t,"src",n.src,n,null);return;case"input":ue("invalid",e);var l=i=r=s=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":s=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Ae(e,t,a,f,n,null)}}ov(e,i,l,o,u,r,s,!1);return;case"select":ue("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ae(e,t,s,l,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Di(e,!!a,t,!1):n!=null&&Di(e,!!a,n,!0);return;case"textarea":ue("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:Ae(e,t,r,l,n,null)}uv(e,a,s,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ae(e,t,o,a,n,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(a=0;a<ll.length;a++)ue(ll[a],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ae(e,t,u,a,n,null)}return;default:if(Hf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&Pd(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ae(e,t,l,a,n,null))}function Mx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,o=null,u=null,f=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=h;default:a.hasOwnProperty(g)||Ae(e,t,g,null,a,h)}}for(var m in a){var g=a[m];if(h=n[m],a.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":i=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error($(137,t));break;default:g!==h&&Ae(e,t,m,g,a,h)}}Sd(e,r,l,o,u,f,i,s);return;case"select":g=r=l=m=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(i)||Ae(e,t,i,null,a,o)}for(s in a)if(i=a[s],o=n[s],a.hasOwnProperty(s)&&(i!=null||o!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==o&&Ae(e,t,s,i,a,o)}t=l,n=r,a=g,m!=null?Di(e,!!n,m,!1):!!a!=!!n&&(t!=null?Di(e,!!n,t,!0):Di(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(e,t,l,null,a,s)}for(r in a)if(s=a[r],i=n[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($(91));break;default:s!==i&&Ae(e,t,r,s,a,i)}cv(e,m,g);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Ae(e,t,x,null,a,m)}for(o in a)if(m=a[o],g=n[o],a.hasOwnProperty(o)&&m!==g&&(m!=null||g!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ae(e,t,o,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!a.hasOwnProperty(T)&&Ae(e,t,T,null,a,m);for(u in a)if(m=a[u],g=n[u],a.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:Ae(e,t,u,m,a,g)}return;default:if(Hf(t)){for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!==void 0&&!a.hasOwnProperty(O)&&Pd(e,t,O,void 0,a,m);for(f in a)m=a[f],g=n[f],!a.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||Pd(e,t,f,m,a,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Ae(e,t,b,null,a,m);for(h in a)m=a[h],g=n[h],!a.hasOwnProperty(h)||m===g||m==null&&g==null||Ae(e,t,h,m,a,g)}function bg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&bg(r)){for(r=0,l=s.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var f=o.transferSize,h=o.initiatorType;f&&bg(h)&&(o=o.responseEnd,r+=f*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,Fd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function _g(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function Ux(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var y0=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(e){return wg.resolve(null).then(e).catch(Bx)}:y0;function Bx(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function Sg(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Qi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Gr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Gr(n);for(var i=n.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[xl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Gr(e.ownerDocument.body);n=s}while(n);Qi(t)}function xg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tf(n),qf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lx(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function qx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function v0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mn(e.nextSibling),e===null))return null;return e}function nf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sf=null;function Eg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Mn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function p0(e,t,n){switch(t=oc(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function Gr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qf(e)}var kn=new Map,jg=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=xe.d;xe.d={f:Yx,r:Vx,D:Ix,C:Gx,L:Kx,m:Xx,X:Jx,S:Qx,M:Zx};function Yx(){var e=Oa.f(),t=Hc();return e||t}function Vx(e){var t=er(e);t!==null&&t.tag===5&&t.type==="form"?dp(t):Oa.r(e)}var sr=typeof document>"u"?null:document;function b0(e,t,n){var a=sr;if(a&&typeof t=="string"&&t){var s=An(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),jg.has(s)||(jg.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Nt(t,"link",e),wt(t),a.head.appendChild(t)))}}function Ix(e){Oa.D(e),b0("dns-prefetch",e,null)}function Gx(e,t){Oa.C(e,t),b0("preconnect",e,t)}function Kx(e,t,n){Oa.L(e,t,n);var a=sr;if(a&&e&&t){var s='link[rel="preload"][as="'+An(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+An(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+An(n.imageSizes)+'"]')):s+='[href="'+An(e)+'"]';var i=s;switch(t){case"style":i=Xi(e);break;case"script":i=ir(e)}kn.has(i)||(e=Ve({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),kn.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Al(i))||t==="script"&&a.querySelector(Dl(i))||(t=a.createElement("link"),Nt(t,"link",e),wt(t),a.head.appendChild(t)))}}function Xx(e,t){Oa.m(e,t);var n=sr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+An(a)+'"][href="'+An(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ir(e)}if(!kn.has(i)&&(e=Ve({rel:"modulepreload",href:e},t),kn.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dl(i)))return}a=n.createElement("link"),Nt(a,"link",e),wt(a),n.head.appendChild(a)}}}function Qx(e,t,n){Oa.S(e,t,n);var a=sr;if(a&&e){var s=Ai(a).hoistableStyles,i=Xi(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Al(i)))l.loading=5;else{e=Ve({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kn.get(i))&&Th(e,n);var o=r=a.createElement("link");wt(o),Nt(o,"link",e),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ro(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function Jx(e,t){Oa.X(e,t);var n=sr;if(n&&e){var a=Ai(n).hoistableScripts,s=ir(e),i=a.get(s);i||(i=n.querySelector(Dl(s)),i||(e=Ve({src:e,async:!0},t),(t=kn.get(s))&&jh(e,t),i=n.createElement("script"),wt(i),Nt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Zx(e,t){Oa.M(e,t);var n=sr;if(n&&e){var a=Ai(n).hoistableScripts,s=ir(e),i=a.get(s);i||(i=n.querySelector(Dl(s)),i||(e=Ve({src:e,async:!0,type:"module"},t),(t=kn.get(s))&&jh(e,t),i=n.createElement("script"),wt(i),Nt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Og(e,t,n,a){var s=(s=Ja.current)?cc(s):null;if(!s)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xi(n.href),n=Ai(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xi(n.href);var i=Ai(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Al(e)))&&!i._p&&(r.instance=i,r.state.loading=5),kn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kn.set(e,n),i||Px(s,e,n,r.state))),t&&a===null)throw Error($(528,""));return r}if(t&&a!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ir(n),n=Ai(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Xi(e){return'href="'+An(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function _0(e){return Ve({},e,{"data-precedence":e.precedence,precedence:null})}function Px(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Nt(t,"link",n),wt(t),e.head.appendChild(t))}function ir(e){return'[src="'+An(e)+'"]'}function Dl(e){return"script[async]"+e}function Ng(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+An(n.href)+'"]');if(a)return t.instance=a,wt(a),a;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),wt(a),Nt(a,"style",s),Ro(a,n.precedence,e),t.instance=a;case"stylesheet":s=Xi(n.href);var i=e.querySelector(Al(s));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;a=_0(n),(s=kn.get(s))&&Th(a,s),i=(e.ownerDocument||e).createElement("link"),wt(i);var r=i;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Nt(i,"link",a),t.state.loading|=4,Ro(i,n.precedence,e),t.instance=i;case"script":return i=ir(n.src),(s=e.querySelector(Dl(i)))?(t.instance=s,wt(s),s):(a=n,(s=kn.get(i))&&(a=Ve({},n),jh(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),wt(s),Nt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Ro(a,n.precedence,e));return t.instance}function Ro(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Th(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Mo=null;function Ag(e,t,n){if(Mo===null){var a=new Map,s=Mo=new Map;s.set(n,a)}else s=Mo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[xl]||i[Tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(i):a.set(r,[i])}}return a}function Dg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Wx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function w0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Fx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Xi(a.href),i=t.querySelector(Al(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=uc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,wt(i);return}i=t.ownerDocument||t,a=_0(a),(s=kn.get(s))&&Th(a,s),i=i.createElement("link"),wt(i);var r=i;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Nt(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=uc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zu=0;function e1(e,t){return e.stylesheets&&e.count===0&&ko(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ko(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*kx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ko(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ko(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function ko(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,t.forEach(t1,e),dc=null,uc.call(e))}function t1(e,t){if(!(t.state.loading&4)){var n=dc.get(e);if(n)var a=n.get(null);else{n=new Map,dc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,s),n.set(r,s),this.count++,a=uc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var cl={$$typeof:ya,Provider:null,Consumer:null,_currentValue:Ds,_currentValue2:Ds,_threadCount:0};function n1(e,t,n,a,s,i,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.hiddenUpdates=bu(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function S0(e,t,n,a,s,i,r,l,o,u,f,h){return e=new n1(e,t,n,r,o,u,f,h,l),t=1,i===!0&&(t|=24),i=ln(3,null,null,t),e.current=i,i.stateNode=e,t=Wf(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},th(i),e}function x0(e){return e?(e=Ti,e):Ti}function E0(e,t,n,a,s,i){s=x0(s),a.context===null?a.context=s:a.pendingContext=s,a=Pa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Wa(e,a,t),n!==null&&(Pt(n,e,t),$r(n,e,t))}function Cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oh(e,t){Cg(e,t),(e=e.alternate)&&Cg(e,t)}function T0(e){if(e.tag===13||e.tag===31){var t=Vs(e,67108864);t!==null&&Pt(t,e,67108864),Oh(e,67108864)}}function Rg(e){if(e.tag===13||e.tag===31){var t=mn();t=Bf(t);var n=Vs(e,t);n!==null&&Pt(n,e,t),Oh(e,t)}}var fc=!0;function a1(e,t,n,a){var s=F.T;F.T=null;var i=xe.p;try{xe.p=2,Nh(e,t,n,a)}finally{xe.p=i,F.T=s}}function s1(e,t,n,a){var s=F.T;F.T=null;var i=xe.p;try{xe.p=8,Nh(e,t,n,a)}finally{xe.p=i,F.T=s}}function Nh(e,t,n,a){if(fc){var s=rf(a);if(s===null)Qu(e,t,a,hc,n),Mg(e,a);else if(r1(s,e,t,n,a))a.stopPropagation();else if(Mg(e,a),t&4&&-1<i1.indexOf(e)){for(;s!==null;){var i=er(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Ss(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-hn(r);l.entanglements[1]|=o,r&=~o}ea(i),!(Se&6)&&(nc=dn()+500,Nl(0))}}break;case 31:case 13:l=Vs(i,2),l!==null&&Pt(l,i,2),Hc(),Oh(i,2)}if(i=rf(a),i===null&&Qu(e,t,a,hc,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Qu(e,t,a,null,n)}}function rf(e){return e=Yf(e),Ah(e)}var hc=null;function Ah(e){if(hc=null,e=bi(e),e!==null){var t=bl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Gy(t),e!==null)return e;e=null}else if(n===31){if(e=Ky(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hc=e,null}function j0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iw()){case Zy:return 2;case Py:return 8;case Yo:case Gw:return 32;case Wy:return 268435456;default:return 32}default:return 32}}var lf=!1,ts=null,ns=null,as=null,ul=new Map,dl=new Map,Ya=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mg(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function Er(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=er(t),t!==null&&T0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function r1(e,t,n,a,s){switch(t){case"focusin":return ts=Er(ts,e,t,n,a,s),!0;case"dragenter":return ns=Er(ns,e,t,n,a,s),!0;case"mouseover":return as=Er(as,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return ul.set(i,Er(ul.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,dl.set(i,Er(dl.get(i)||null,e,t,n,a,s)),!0}return!1}function O0(e){var t=bi(e.target);if(t!==null){var n=bl(t);if(n!==null){if(t=n.tag,t===13){if(t=Gy(n),t!==null){e.blockedOn=t,vm(e.priority,function(){Rg(n)});return}}else if(t===31){if(t=Ky(n),t!==null){e.blockedOn=t,vm(e.priority,function(){Rg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ed=a,n.target.dispatchEvent(a),Ed=null}else return t=er(n),t!==null&&T0(t),e.blockedOn=n,!1;t.shift()}return!0}function kg(e,t,n){Uo(e)&&n.delete(t)}function l1(){lf=!1,ts!==null&&Uo(ts)&&(ts=null),ns!==null&&Uo(ns)&&(ns=null),as!==null&&Uo(as)&&(as=null),ul.forEach(kg),dl.forEach(kg)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,l1)))}var io=null;function Ug(e){io!==e&&(io=e,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,function(){io===e&&(io=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Ah(a||n)===null)continue;break}var i=er(n);i!==null&&(e.splice(t,3),t-=3,qd(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Qi(e){function t(o){return so(o,e)}ts!==null&&so(ts,e),ns!==null&&so(ns,e),as!==null&&so(as,e),ul.forEach(t),dl.forEach(t);for(var n=0;n<Ya.length;n++){var a=Ya[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)O0(n),n.blockedOn===null&&Ya.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],r=s[Wt]||null;if(typeof i=="function")r||Ug(n);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Wt]||null)l=r.formAction;else if(Ah(s)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Ug(n)}}}function N0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Dh(e){this._internalRoot=e}Ic.prototype.render=Dh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,a=mn();E0(n,a,e,t,null,null)};Ic.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;E0(e.current,2,null,e,null,null),Hc(),t[Fi]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=av();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&O0(e)}};var zg=Vy.version;if(zg!=="19.2.0")throw Error($(527,zg,"19.2.0"));xe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=$w(t),e=e!==null?Xy(e):null,e=e===null?null:e.stateNode,e};var o1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{_l=ro.inject(o1),fn=ro}catch{}}Oc.createRoot=function(e,t){if(!Iy(e))throw Error($(299));var n=!1,a="",s=bp,i=_p,r=wp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=S0(e,1,!1,null,null,n,a,null,s,i,r,N0),e[Fi]=t.current,Eh(e),new Dh(t)};Oc.hydrateRoot=function(e,t,n){if(!Iy(e))throw Error($(299));var a=!1,s="",i=bp,r=_p,l=wp,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=S0(e,1,!0,t,n??null,a,s,o,i,r,l,N0),t.context=x0(null),n=t.current,a=mn(),a=Bf(a),s=Pa(a),s.callback=null,Wa(n,s,a),n=a,t.current.lanes=n,Sl(t,n),ea(t),e[Fi]=t.current,Eh(e),new Ic(t)};Oc.version="19.2.0";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),$y.exports=Oc;var c1=$y.exports,of=function(e,t){return of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},of(e,t)};function D0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");of(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mc=function(){return mc=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mc.apply(this,arguments)};function rr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function C0(e,t,n,a){var s=arguments.length,i=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function R0(e,t){return function(n,a){t(n,a,e)}}function M0(e,t,n,a,s,i){function r(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,g=n.length-1;g>=0;g--){var x={};for(var T in a)x[T]=T==="access"?{}:a[T];for(var T in a.access)x.access[T]=a.access[T];x.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(b||null))};var O=(0,n[g])(l==="accessor"?{get:f.get,set:f.set}:f[o],x);if(l==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(h=r(O.get))&&(f.get=h),(h=r(O.set))&&(f.set=h),(h=r(O.init))&&s.unshift(h)}else(h=r(O))&&(l==="field"?s.unshift(h):f[o]=h)}u&&Object.defineProperty(u,a.name,f),m=!0}function k0(e,t,n){for(var a=arguments.length>2,s=0;s<t.length;s++)n=a?t[s].call(e,n):t[s].call(e);return a?n:void 0}function U0(e){return typeof e=="symbol"?e:"".concat(e)}function z0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function $0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,n,a){function s(i){return i instanceof n?i:new n(function(r){r(i)})}return new(n||(n=Promise))(function(i,r){function l(f){try{u(a.next(f))}catch(h){r(h)}}function o(f){try{u(a.throw(f))}catch(h){r(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function B0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return o([u,f])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Gc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function L0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gc(t,e,n)}function gc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ch(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function q0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ch(arguments[t]));return e}function H0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)a[s]=i[r];return a}function Y0(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Ji(e){return this instanceof Ji?(this.v=e,this):new Ji(e)}function V0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(g){return function(x){return Promise.resolve(x).then(g,h)}}function l(g,x){a[g]&&(s[g]=function(T){return new Promise(function(O,b){i.push([g,T,O,b])>1||o(g,T)})},x&&(s[g]=x(s[g])))}function o(g,x){try{u(a[g](x))}catch(T){m(i[0][3],T)}}function u(g){g.value instanceof Ji?Promise.resolve(g.value.v).then(f,h):m(i[0][2],g)}function f(g){o("next",g)}function h(g){o("throw",g)}function m(g,x){g(x),i.shift(),i.length&&o(i[0][0],i[0][1])}}function I0(e){var t,n;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,i){t[s]=e[s]?function(r){return(n=!n)?{value:Ji(e[s](r)),done:!1}:i?i(r):r}:i}}function G0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gc=="function"?gc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(r){return new Promise(function(l,o){r=e[i](r),s(l,o,r.done,r.value)})}}function s(i,r,l,o){Promise.resolve(o).then(function(u){i({value:u,done:l})},r)}}function K0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var u1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},cf=function(e){return cf=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},cf(e)};function X0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=cf(e),a=0;a<n.length;a++)n[a]!=="default"&&Gc(t,e,n[a]);return u1(t,e),t}function Q0(e){return e&&e.__esModule?e:{default:e}}function J0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function Z0(e,t,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function P0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function W0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var d1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function F0(e){function t(i){e.error=e.hasError?new d1(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function eb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,r){return a?t?".jsx":".js":s&&(!i||!r)?n:s+i+"."+r.toLowerCase()+"js"}):e}const f1={__extends:D0,__assign:mc,__rest:rr,__decorate:C0,__param:R0,__esDecorate:M0,__runInitializers:k0,__propKey:U0,__setFunctionName:z0,__metadata:$0,__awaiter:Q,__generator:B0,__createBinding:Gc,__exportStar:L0,__values:gc,__read:Ch,__spread:q0,__spreadArrays:H0,__spreadArray:Y0,__await:Ji,__asyncGenerator:V0,__asyncDelegator:I0,__asyncValues:G0,__makeTemplateObject:K0,__importStar:X0,__importDefault:Q0,__classPrivateFieldGet:J0,__classPrivateFieldSet:Z0,__classPrivateFieldIn:P0,__addDisposableResource:W0,__disposeResources:F0,__rewriteRelativeImportExtension:eb},h1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W0,get __assign(){return mc},__asyncDelegator:I0,__asyncGenerator:V0,__asyncValues:G0,__await:Ji,__awaiter:Q,__classPrivateFieldGet:J0,__classPrivateFieldIn:P0,__classPrivateFieldSet:Z0,__createBinding:Gc,__decorate:C0,__disposeResources:F0,__esDecorate:M0,__exportStar:L0,__extends:D0,__generator:B0,__importDefault:Q0,__importStar:X0,__makeTemplateObject:K0,__metadata:$0,__param:R0,__propKey:U0,__read:Ch,__rest:rr,__rewriteRelativeImportExtension:eb,__runInitializers:k0,__setFunctionName:z0,__spread:q0,__spreadArray:Y0,__spreadArrays:H0,__values:gc,default:f1},Symbol.toStringTag,{value:"Module"})),m1="modulepreload",g1=function(e){return"/todo-note/"+e},$g={},lr=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=g1(o),o in $g)return;$g[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":m1,u||(h.as="script"),h.crossOrigin="",h.href=o,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},y1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Rh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Bg extends Rh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lg extends Rh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qg extends Rh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uf||(uf={}));class v1{constructor(t,{headers:n={},customFetch:a,region:s=uf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=y1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:r,body:l,signal:o}=a;let u={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const g=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:o}).catch(b=>{throw b.name==="AbortError"?b:new Bg(b)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new Lg(g);if(!g.ok)throw new qg(g);let T=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield g.json():T==="application/octet-stream"||T==="application/pdf"?O=yield g.blob():T==="text/event-stream"?O=g:T==="multipart/form-data"?O=yield g.formData():O=yield g.text(),{data:O,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Bg(i)}:{data:null,error:i,response:i instanceof qg||i instanceof Lg?i.context:void 0}}})}}var $t={};const or=Oy(h1);var lo={},oo={},co={},uo={},fo={},p1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zi=p1();const b1=Zi.fetch,tb=Zi.fetch.bind(Zi),nb=Zi.Headers,_1=Zi.Request,w1=Zi.Response,Gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:nb,Request:_1,Response:w1,default:tb,fetch:b1},Symbol.toStringTag,{value:"Module"})),S1=Oy(Gs);var ho={},Hg;function ab(){if(Hg)return ho;Hg=1,Object.defineProperty(ho,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ho.default=e,ho}var Yg;function sb(){if(Yg)return fo;Yg=1,Object.defineProperty(fo,"__esModule",{value:!0});const e=or,t=e.__importDefault(S1),n=e.__importDefault(ab());class a{constructor(i){var r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,m,g;let x=null,T=null,O=null,b=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?T=C:T=JSON.parse(C))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&E&&E.length>1&&(O=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(x={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,O=null,b=406,y="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const S=await u.text();try{x=JSON.parse(S),Array.isArray(x)&&u.status===404&&(T=[],x=null,b=200,y="OK")}catch{u.status===404&&S===""?(b=204,y="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((g=x==null?void 0:x.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,b=200,y="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:T,count:O,status:b,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var f,h,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,r)}returns(){return this}overrideTypes(){return this}}return fo.default=a,fo}var Vg;function ib(){if(Vg)return uo;Vg=1,Object.defineProperty(uo,"__esModule",{value:!0});const t=or.__importDefault(sb());class n extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return uo.default=n,uo}var Ig;function Mh(){if(Ig)return co;Ig=1,Object.defineProperty(co,"__esModule",{value:!0});const t=or.__importDefault(ib()),n=new RegExp("[,()]");class a extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${f}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return co.default=a,co}var Gg;function rb(){if(Gg)return oo;Gg=1,Object.defineProperty(oo,"__esModule",{value:!0});const t=or.__importDefault(Mh());class n{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},o=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return oo.default=n,oo}var Kg;function x1(){if(Kg)return lo;Kg=1,Object.defineProperty(lo,"__esModule",{value:!0});const e=or,t=e.__importDefault(rb()),n=e.__importDefault(Mh());class a{constructor(i,{headers:r={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:o=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let g;l||o?(h=l?"HEAD":"GET",Object.entries(r).filter(([T,O])=>O!==void 0).map(([T,O])=>[T,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([T,O])=>{m.searchParams.append(T,O)})):(h="POST",g=r);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:x,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return lo.default=a,lo}Object.defineProperty($t,"__esModule",{value:!0});var lb=$t.PostgrestError=vb=$t.PostgrestBuilder=gb=$t.PostgrestTransformBuilder=hb=$t.PostgrestFilterBuilder=db=$t.PostgrestQueryBuilder=cb=$t.PostgrestClient=void 0;const cr=or,ob=cr.__importDefault(x1());var cb=$t.PostgrestClient=ob.default;const ub=cr.__importDefault(rb());var db=$t.PostgrestQueryBuilder=ub.default;const fb=cr.__importDefault(Mh());var hb=$t.PostgrestFilterBuilder=fb.default;const mb=cr.__importDefault(ib());var gb=$t.PostgrestTransformBuilder=mb.default;const yb=cr.__importDefault(sb());var vb=$t.PostgrestBuilder=yb.default;const pb=cr.__importDefault(ab());lb=$t.PostgrestError=pb.default;var bb=$t.default={PostgrestClient:ob.default,PostgrestQueryBuilder:ub.default,PostgrestFilterBuilder:fb.default,PostgrestTransformBuilder:mb.default,PostgrestBuilder:yb.default,PostgrestError:pb.default};const E1=fw({__proto__:null,get PostgrestBuilder(){return vb},get PostgrestClient(){return cb},get PostgrestError(){return lb},get PostgrestFilterBuilder(){return hb},get PostgrestQueryBuilder(){return db},get PostgrestTransformBuilder(){return gb},default:bb},[$t]),{PostgrestClient:T1,PostgrestQueryBuilder:AO,PostgrestFilterBuilder:DO,PostgrestTransformBuilder:CO,PostgrestBuilder:RO,PostgrestError:MO}=bb||E1;class j1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const O1="2.78.0",N1=`realtime-js/${O1}`,A1="1.0.0",df=1e4,D1=1e3,C1=100;var Kr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kr||(Kr={}));var dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dt||(dt={}));var Vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vn||(Vn={}));var ff;(function(e){e.websocket="websocket"})(ff||(ff={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class R1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+s));r=r+s;const o=a.decode(t.slice(r,r+i));r=r+i;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class _b{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Xg=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=M1(r,e,t,s),i),{}):{}},M1=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=n[e];return i&&!a.includes(i)?wb(i,r):hf(r)},wb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $1(t,n)}switch(e){case ze.bool:return k1(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return U1(t);case ze.json:case ze.jsonb:return z1(t);case ze.timestamp:return B1(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,k1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},U1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>wb(t,l))}return e},B1=e=>typeof e=="string"?e.replace(" ","T"):e,Sb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pu{constructor(t,n,a={},s=df){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qg||(Qg={}));class Xr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xr.syncState(this.state,s,i,r),this.pendingDiffs.forEach(o=>{this.state=Xr.syncDiff(this.state,o,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xr.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(i,(u,f)=>{r[u]||(o[u]=f)}),this.map(r,(u,f)=>{const h=i[u];if(h){const m=f.map(O=>O.presence_ref),g=h.map(O=>O.presence_ref),x=f.filter(O=>g.indexOf(O.presence_ref)<0),T=h.filter(O=>m.indexOf(O.presence_ref)<0);x.length>0&&(l[u]=x),T.length>0&&(o[u]=T)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:o},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,o)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),f.length>0){const h=t[l].map(g=>g.presence_ref),m=f.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...m)}a(l,f,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const f=o.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jg||(Jg={}));var Qr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qr||(Qr={}));var ha;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ha||(ha={}));class kh{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new _b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Xr(this),this.broadcastEndpointURL=Sb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Qr.PRESENCE]&&this.bindings[Qr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ha.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ha.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(ha.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(x=T==null?void 0:T.length)!==null&&x!==void 0?x:0,b=[];for(let y=0;y<O;y++){const v=T[y],{filter:{event:S,schema:E,table:C,filter:j}}=v,R=g&&g[y];if(R&&R.event===S&&R.schema===E&&R.table===C&&R.filter===j)b.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=dt.errored,t==null||t(ha.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ha.SUBSCRIBED);return}}).receive("error",g=>{this.state=dt.errored,t==null||t(ha.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ha.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===dt.joined&&t===Qr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Pu(this,Vn.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pu(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>C1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:f}=Vn;if(a&&[l,o,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let m=this._onMessage(r,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,T,O;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((O=(T=g.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===r}).map(g=>g.callback(m,a)):(i=this.bindings[r])===null||i===void 0||i.filter(g=>{var x,T,O,b,y,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in g){const S=g.id,E=(x=g.filter)===null||x===void 0?void 0:x.event;return S&&((T=n.ids)===null||T===void 0?void 0:T.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const S=(y=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===r}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:T,table:O,commit_timestamp:b,type:y,errors:v}=x;m=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:b,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(x))}g.callback(m,a)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&kh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vn.close,{},t)}_onError(t){this._on(Vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Xg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Xg(t.columns,t.old_record)),n}}const Wu=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L1=[1e3,2e3,5e3,1e4],q1=1e4,H1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wu,this.ref=0,this.reconnectTimer=null,this.logger=Wu,this.conn=null,this.sendBuffer=[],this.serializer=new R1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>lr(async()=>{const{default:l}=await Promise.resolve().then(()=>Gs);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...r)=>i(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ff.websocket}`,this.httpEndpoint=Sb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return js.Connecting;case Kr.open:return js.Open;case Kr.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new kh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:r}=n,l=r?`(${r})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([H1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:N1};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new _b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,r,l,o,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:df,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:mo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Wu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:h=>L1[h-1]||q1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Uh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V1 extends Uh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mf extends Uh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},I1=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lr(()=>Promise.resolve().then(()=>Gs),void 0)).Response:Response}),gf=e=>{if(Array.isArray(e))return e.map(n=>gf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=gf(a)}),t},G1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},K1=(e,t,n)=>Q(void 0,void 0,void 0,function*(){const a=yield I1();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new V1(Fu(s),i,r))}).catch(s=>{t(new mf(Fu(s),s))}):t(new mf(Fu(e),e))}),X1=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(G1(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Cl(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,X1(t,a,s,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>K1(o,l,a))})})}function fl(e,t,n,a){return Q(this,void 0,void 0,function*(){return Cl(e,"GET",t,n,a)})}function Hn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Cl(e,"POST",t,a,s,n)})}function yf(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Cl(e,"PUT",t,a,s,n)})}function Q1(e,t,n,a){return Q(this,void 0,void 0,function*(){return Cl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function $h(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Cl(e,"DELETE",t,a,s,n)})}class J1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}var xb;class Z1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[xb]="BlobDownloadBuilder",this.promise=null}asStream(){return new J1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}xb=Symbol.toStringTag;const P1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W1{constructor(t,n={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=zh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,s){return Q(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},Zg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?yf:Hn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}upload(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,s){return Q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:Zg.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield yf(this.fetch,l.toString(),o,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Hn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new Uh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}update(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}copy(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,a){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),o=()=>fl(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new Z1(o,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield fl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}exists(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Q1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a)&&a instanceof mf){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}list(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},P1),n),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listV2(t,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Eb="2.78.0",Tb={"X-Client-Info":`storage-js/${Eb}`};class F1{constructor(t,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),n),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield fl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}createBucket(t){return Q(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield yf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class eE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),n),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield fl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}const Bh={"X-Client-Info":`storage-js/${Eb}`,"Content-Type":"application/json"};class jb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ed extends jb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tE extends jb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Pg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pg||(Pg={}));const Lh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},nE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new ed(Wg(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new ed(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new ed(l,s,r))}}else t(new tE(Wg(e),e))}),sE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(nE(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function iE(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,sE(t,a,s,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>aE(o,l,a))})})}function cn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return iE(e,"POST",t,a,s,n)})}class rE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),n),this.fetch=Lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}}class lE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),n),this.fetch=Lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class oE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),n),this.fetch=Lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class cE extends oE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new uE(this.url,this.headers,t,this.fetch)}}class uE extends rE{constructor(t,n,a,s){super(t,n,s),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new dE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class dE extends lE{constructor(t,n,a,s,i){super(t,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fE extends F1{constructor(t,n={},a,s){super(t,n,a,s)}from(t){return new W1(this.url,this.headers,t,this.fetch)}get vectors(){return new cE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eE(this.url+"/iceberg",this.headers,this.fetch)}}const hE="2.78.0";let Dr="";typeof Deno<"u"?Dr="deno":typeof document<"u"?Dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dr="react-native":Dr="node";const mE={"X-Client-Info":`supabase-js-${Dr}/${hE}`},gE={headers:mE},yE={schema:"public"},vE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pE={},bE=e=>{let t;return e?t=e:typeof fetch>"u"?t=tb:t=fetch,(...n)=>t(...n)},_E=()=>typeof Headers>"u"?nb:Headers,wE=(e,t,n)=>{const a=bE(n),s=_E();return async(i,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new s(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Object.assign(Object.assign({},r),{headers:u}))}};function SE(e){return e.endsWith("/")?e:e+"/"}function xE(e,t){var n,a;const{db:s,auth:i,realtime:r,global:l}=e,{db:o,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function EE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ob="2.78.0",mi=30*1e3,vf=3,td=vf*mi,TE="http://localhost:9999",jE="supabase.auth.token",OE={"X-Client-Info":`gotrue-js/${Ob}`},pf="X-Supabase-Api-Version",Nb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AE=10*60*1e3;class hl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DE extends hl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function CE(e){return J(e)&&e.name==="AuthApiError"}class Os extends hl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ds extends hl{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class Ln extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RE(e){return J(e)&&e.name==="AuthSessionMissingError"}class ri extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class go extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yo extends ds{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ME(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fg extends ds{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bf extends ds{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nd(e){return J(e)&&e.name==="AuthRetryableFetchError"}class ey extends ds{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class _f extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ty=` 	
\r=`.split(""),kE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ty.length;t+=1)e[ty[t].charCodeAt(0)]=-2;for(let t=0;t<yc.length;t+=1)e[yc[t].charCodeAt(0)]=t;return e})();function ny(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(yc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(yc[a]),t.queuedBits-=6}}function Ab(e,t,n){const a=kE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ay(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{$E(r,a,n)};for(let r=0;r<e.length;r+=1)Ab(e.charCodeAt(r),s,i);return t.join("")}function UE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}UE(a,t)}}function $E(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zi(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ab(e.charCodeAt(s),n,a);return new Uint8Array(t)}function BE(e){const t=[];return zE(e,n=>t.push(n)),new Uint8Array(t)}function As(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>ny(s,n,a)),ny(null,n,a),t.join("")}function LE(e){return Math.round(Date.now()/1e3)+e}function qE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},Db=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function HE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const Cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},YE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_s=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ka=async(e,t)=>{await e.removeItem(t)};class Kc{constructor(){this.promise=new Kc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Kc.promiseConstructor=Promise;function ad(e){const t=e.split(".");if(t.length!==3)throw new _f("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!NE.test(t[a]))throw new _f("JWT not in base64url format");return{header:JSON.parse(ay(t[0])),payload:JSON.parse(ay(t[1])),signature:zi(t[2]),raw:{header:t[0],payload:t[1]}}}async function VE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IE(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){a(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function GE(e){return("0"+e.toString(16)).substr(-2)}function KE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,GE).join("")}async function XE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function QE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(e,t,n=!1){const a=KE();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await gi(e,`${t}-code-verifier`,s);const i=await QE(a);return[i,a===i?"plain":"s256"]}const JE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZE(e){const t=e.headers.get(pf);if(!t||!t.match(JE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(e){if(!FE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eT(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function sy(e){return JSON.parse(JSON.stringify(e))}const Ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tT=[502,503,504];async function iy(e){var t;if(!YE(e))throw new bf(Ts(e),0);if(tT.includes(e.status))throw new bf(Ts(e),e.status);let n;try{n=await e.json()}catch(i){throw new Os(Ts(i),i)}let a;const s=ZE(e);if(s&&s.getTime()>=Nb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new ey(Ts(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new ey(Ts(n),e.status,n.weak_password.reasons);throw new DE(Ts(n),e.status||500,a)}const nT=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function W(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[pf]||(i[pf]=Nb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const r=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await aT(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function aT(e,t,n,a,s,i){const r=nT(t,a,s,i);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new bf(Ts(o),0)}if(l.ok||await iy(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await iy(o)}}function qn(e){var t;let n=null;rT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=LE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function ry(e){const t=qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sT(e){return{data:e,error:null}}function iT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,r=rr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function ly(e){return e}function rT(e){return e.access_token&&e.refresh_token&&e.expires_in}const id=["global","local","others"];class lT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Cb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=id[0]){if(id.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${id.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=rr(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:iT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Va})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ly});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(x.split(";")[1].split("=")[1]);u[`${O}Page`]=T}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){oi(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Va})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){oi(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){oi(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){oi(t.userId);try{const{data:n,error:a}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){oi(t.userId),oi(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ly});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(x.split(";")[1].split("=")[1]);u[`${O}Page`]=T}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function oy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ci={debug:!!(globalThis&&Db()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oT extends Rb{}async function cT(e,t,n){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ci.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dT(e){return parseInt(e,16)}function fT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function hT(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Mb(e.address),x=f?`${f}://${a}`:a,T=e.statement?`${e.statement}
`:"",O=`${x} wants you to sign in with your Ethereum account:
${g}

${T}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),o&&(b+=`
Request ID: ${o}`),u){let y=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}b+=y}return`${O}
${b}`}class rt extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class vc extends rt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function mT({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(kb(r)){if(i.rp.id!==r)return new rt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(kb(a)){if(n.rpId!==a)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class yT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vT=new yT;function pT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=rr(e,["challenge","user","excludeCredentials"]),i=zi(t).buffer,r=Object.assign(Object.assign({},n),{id:zi(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:zi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function bT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=rr(e,["challenge","allowCredentials"]),s=zi(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:zi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function _T(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:As(new Uint8Array(e.response.attestationObject)),clientDataJSON:As(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:As(new Uint8Array(s.authenticatorData)),clientDataJSON:As(new Uint8Array(s.clientDataJSON)),signature:As(new Uint8Array(s.signature)),userHandle:s.userHandle?As(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function cy(){var e,t;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ST(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",t)}:{data:null,error:new vc("Empty credential response",t)}}catch(t){return{data:null,error:mT({error:t,options:e})}}}async function xT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",t)}:{data:null,error:new vc("Empty credential response",t)}}catch(t){return{data:null,error:gT({error:t,options:e})}}}const ET={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},TT={userVerification:"preferred",hints:["security-key"]};function pc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))a[i]=r;else if(n(r))a[i]=r;else if(t(r)){const l=a[i];t(l)?a[i]=pc(l,r):a[i]=pc(r)}else a[i]=r}return a}function jT(e,t){return pc(ET,e,t||{})}function OT(e,t){return pc(TT,e,t||{})}class NT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=s??vT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=jT(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await ST({publicKey:u,signal:o});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=OT(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await xT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Os("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new hl("rpId is required for WebAuthn authentication")};try{if(!cy())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Os("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new hl("rpId is required for WebAuthn registration")};try{if(!cy())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Os("Unexpected error in register",r)}}}}uT();const AT={url:TE,storageKey:jE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uy(e,t,n){return await n()}const ui={};class ml{get jwks(){var t,n;return(n=(t=ui[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ui[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ml.nextInstanceID,ml.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},AT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cb(s.fetch),this.lock=s.lock||uy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cT:this.lock=uy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Db()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=oy(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ob}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=HE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ut()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ME(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new Os("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qn}),{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:f,password:h,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await li(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:qn})}else if("phone"in t){const{phone:f,password:h,options:m}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:qn})}else throw new go("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ry})}else if("phone"in t){const{phone:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ry})}else throw new go("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ri}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,r,l,o,u,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:T,wallet:O,statement:b,options:y}=t;let v;if(Ut())if(typeof O=="object")v=O;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")v=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=O}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Mb(E[0]);let j=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!j){const z=await v.request({method:"eth_chainId"});j=dT(z)}const R={domain:S.host,address:C,statement:b,uri:S.href,version:"1",chainId:j,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=y==null?void 0:y.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=hT(R),x=await v.request({method:"personal_sign",params:[fT(g),C]})}try{const{data:T,error:O}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:qn});if(O)throw O;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new ri}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:O})}catch(T){if(J(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(t){var n,a,s,i,r,l,o,u,f,h,m,g;let x,T;if("message"in t)x=t.message,T=t.signature;else{const{chain:O,wallet:b,statement:y,options:v}=t;let S;if(Ut())if(typeof b=="object")S=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const E=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),T=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(f=v==null?void 0:v.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=C}}try{const{data:O,error:b}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:As(T)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qn});if(b)throw b;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ri}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:b})}catch(O){if(J(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await _s(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:r}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:qn});if(await ka(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ri}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:r}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ri}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,s,i,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await li(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:f}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new go("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,a,s;try{let i=null,r=null;return this.flowType==="pkce"&&([i,r]=await li(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:sT})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Ln;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:r}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:r,error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new go("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<td:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await _s(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=sd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=eT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Va}):await this._useSession(async n=>{var a,s,i;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Va})})}catch(n){if(J(n))return RE(n)&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Ln;const r=s.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await li(this.storage,this.storageKey));const{data:u,error:f}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Va});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:r}=ad(t.access_token);if(r.exp&&(a=r.exp,s=a<=n),s){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ut())throw new yo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fg("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!i||!l||!r||!u)throw new yo("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let m=f+h;o&&(m=parseInt(o));const g=m-f;g*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=m-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,f);const{data:T,error:O}=await this._getUser(i);if(O)throw O;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:r,token_type:u,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(J(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const r=(a=s.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(CE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=qE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await li(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var r,l,o,u,f;const{data:h,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(J(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:r,provider:l,token:o,access_token:u,nonce:f}=t,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qn}),{data:m,error:g}=h;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ri}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)throw r;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await IE(async s=>(s>0&&await VE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qn})),(s,i)=>{const r=200*Math.pow(2,s);return i&&nd(i)&&Date.now()+r-a<mi})}catch(a){if(this._debug(n,"error",a),J(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ut()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await _s(this.storage,this.storageKey);if(s&&this.userStorage){let r=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await gi(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:sd()}else if(s&&!s.user&&!s.user){const r=await _s(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await ka(this.storage,this.storageKey+"-user"),await gi(this.storage,this.storageKey,s)):s.user=sd()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<td;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${td}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),nd(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Kc;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const r={data:null,error:i};return nd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await gi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=sy(s);await gi(this.storage,this.storageKey,i)}else{const s=sy(n);await gi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ka(this.storage,this.storageKey),await ka(this.storage,this.storageKey+"-code-verifier"),await ka(this.storage,this.storageKey+"-user"),this.userStorage&&await ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mi}ms, refresh threshold is ${vf} ticks`),s<=vf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,r]=await li(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_T(t.webauthn.credential_response):wT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:pT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ad(a.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Ln}})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+AE>s)return a;const{data:i,error:r}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};a=g.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:o}}=ad(a);n!=null&&n.allowExpired||PE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(a);if(g)throw g;return{data:{claims:i,header:s,signature:r},error:null}}const f=WE(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,r,BE(`${l}.${o}`)))throw new _f("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}}ml.nextInstanceID=0;const DT=ml;class CT extends DT{constructor(t){super(t)}}class RT{constructor(t,n,a){var s,i,r;this.supabaseUrl=t,this.supabaseKey=n;const l=EE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:yE,realtime:pE,auth:Object.assign(Object.assign({},vE),{storageKey:o}),global:gE},f=xE(a??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=wE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new T1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new fE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new v1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:r,flowType:l,lock:o,debug:u},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:o,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Y1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MT=(e,t,n)=>new RT(e,t,n);function kT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UT="https://vqpubtahhvtkftafdlrp.supabase.co",zT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",H=MT(UT,zT);function $T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const Xc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ur(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function qh(e){return"nodeType"in e}function qt(e){var t,n;return e?ur(e)?e:qh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Hh(e){const{Document:t}=qt(e);return e instanceof t}function Rl(e){return ur(e)?!1:e instanceof qt(e).HTMLElement}function Ub(e){return e instanceof qt(e).SVGElement}function dr(e){return e?ur(e)?e.document:qh(e)?Hh(e)?e:Rl(e)||Ub(e)?e.ownerDocument:document:document:document}const In=Xc?_.useLayoutEffect:_.useEffect;function Qc(e){const t=_.useRef(e);return In(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function BT(){const e=_.useRef(null),t=_.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function gl(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return In(()=>{n.current!==e&&(n.current=e)},t),n}function Ml(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function bc(e){const t=Qc(e),n=_.useRef(null),a=_.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function _c(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let rd={};function kl(e,t){return _.useMemo(()=>{if(t)return t;const n=rd[e]==null?0:rd[e]+1;return rd[e]=n,e+"-"+n},[e,t])}function zb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,r)=>{const l=Object.entries(r);for(const[o,u]of l){const f=i[o];f!=null&&(i[o]=f+e*u)}return i},{...t})}}const $i=zb(1),yl=zb(-1);function LT(e){return"clientX"in e&&"clientY"in e}function Jc(e){if(!e)return!1;const{KeyboardEvent:t}=qt(e.target);return t&&e instanceof t}function qT(e){if(!e)return!1;const{TouchEvent:t}=qt(e.target);return t&&e instanceof t}function wc(e){if(qT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return LT(e)?{x:e.clientX,y:e.clientY}:null}const os=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[os.Translate.toString(e),os.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),dy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function HT(e){return e.matches(dy)?e:e.querySelector(dy)}const YT={display:"none"};function VT(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:YT},n)}function IT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function GT(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const $b=_.createContext(null);function KT(e){const t=_.useContext($b);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function XT(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:s,event:i}=a;e.forEach(r=>{var l;return(l=r[s])==null?void 0:l.call(r,i)})},[e]),t]}const QT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ZT(e){let{announcements:t=JT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=QT}=e;const{announce:i,announcement:r}=GT(),l=kl("DndLiveRegion"),[o,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),KT(_.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;t.onDragMove&&i(t.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;i(t.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;i(t.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;i(t.onDragCancel({active:m,over:g}))}}),[i,t])),!o)return null;const f=$e.createElement($e.Fragment,null,$e.createElement(VT,{id:a,value:s.draggable}),$e.createElement(IT,{id:l,announcement:r}));return n?yi.createPortal(f,n):f}var ft;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ft||(ft={}));function Sc(){}function $a(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Gn=Object.freeze({x:0,y:0});function Bb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PT(e,t){const n=wc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Lb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function WT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function fy(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function qb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function hy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Sf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=hy(t,t.left,t.top),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Bb(hy(o),s);i.push({id:l,data:{droppableContainer:r,value:u}})}}return i.sort(Lb)},FT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=fy(t),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=fy(o),f=s.reduce((m,g,x)=>m+Bb(u[x],g),0),h=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:r,value:h}})}}return i.sort(Lb)};function ej(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),r=s-a,l=i-n;if(a<s&&n<i){const o=t.width*t.height,u=e.width*e.height,f=r*l,h=f/(o+u-f);return Number(h.toFixed(4))}return 0}const tj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const i of a){const{id:r}=i,l=n.get(r);if(l){const o=ej(l,t);o>0&&s.push({id:r,data:{droppableContainer:i,value:o}})}}return s.sort(WT)};function nj(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Hb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gn}function aj(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const sj=aj(1);function Yb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ij(e,t,n){const a=Yb(t);if(!a)return e;const{scaleX:s,scaleY:i,x:r,y:l}=a,o=e.left-r-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:u,right:o+f,bottom:u+h,left:o}}const rj={ignoreTransform:!1};function fr(e,t){t===void 0&&(t=rj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=qt(e).getComputedStyle(e);u&&(n=ij(n,u,f))}const{top:a,left:s,width:i,height:r,bottom:l,right:o}=n;return{top:a,left:s,width:i,height:r,bottom:l,right:o}}function my(e){return fr(e,{ignoreTransform:!0})}function lj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function oj(e,t){return t===void 0&&(t=qt(e).getComputedStyle(e)),t.position==="fixed"}function cj(e,t){t===void 0&&(t=qt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Zc(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(Hh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Rl(s)||Ub(s)||n.includes(s))return n;const i=qt(e).getComputedStyle(s);return s!==e&&cj(s,i)&&n.push(s),oj(s,i)?n:a(s.parentNode)}return e?a(e):n}function Vb(e){const[t]=Zc(e,1);return t??null}function ld(e){return!Xc||!e?null:ur(e)?e:qh(e)?Hh(e)||e===dr(e).scrollingElement?window:Rl(e)?e:null:null}function Ib(e){return ur(e)?e.scrollX:e.scrollLeft}function Gb(e){return ur(e)?e.scrollY:e.scrollTop}function xf(e){return{x:Ib(e),y:Gb(e)}}var _t;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(_t||(_t={}));function Kb(e){return!Xc||!e?!1:e===document.scrollingElement}function Xb(e){const t={x:0,y:0},n=Kb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:i,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const uj={x:.2,y:.2};function dj(e,t,n,a,s){let{top:i,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),s===void 0&&(s=uj);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=Xb(e),g={x:0,y:0},x={x:0,y:0},T={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+T.height?(g.y=_t.Backward,x.y=a*Math.abs((t.top+T.height-i)/T.height)):!f&&o>=t.bottom-T.height&&(g.y=_t.Forward,x.y=a*Math.abs((t.bottom-T.height-o)/T.height)),!m&&l>=t.right-T.width?(g.x=_t.Forward,x.x=a*Math.abs((t.right-T.width-l)/T.width)):!h&&r<=t.left+T.width&&(g.x=_t.Backward,x.x=a*Math.abs((t.left+T.width-r)/T.width)),{direction:g,speed:x}}function fj(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:r}=window;return{top:0,left:0,right:i,bottom:r,width:i,height:r}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Qb(e){return e.reduce((t,n)=>$i(t,xf(n)),Gn)}function hj(e){return e.reduce((t,n)=>t+Ib(n),0)}function mj(e){return e.reduce((t,n)=>t+Gb(n),0)}function Jb(e,t){if(t===void 0&&(t=fr),!e)return;const{top:n,left:a,bottom:s,right:i}=t(e);Vb(e)&&(s<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const gj=[["x",["left","right"],hj],["y",["top","bottom"],mj]];class Yh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Zc(n),s=Qb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,r,l]of gj)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),f=s[i]-u;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function yj(e){const{EventTarget:t}=qt(e);return e instanceof t?e:dr(e)}function od(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Tn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Tn||(Tn={}));function gy(e){e.preventDefault()}function vj(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const Zb={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},pj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}};class vl{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Jr(dr(n)),this.windowListeners=new Jr(qt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Tn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Jb(a),n(Gn)}handleKeyDown(t){if(Jc(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:i=Zb,coordinateGetter:r=pj,scrollBehavior:l="smooth"}=s,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:Gn;this.referenceCoordinates||(this.referenceCoordinates=f);const h=r(t,{active:n,context:a.current,currentCoordinates:f});if(h){const m=yl(h,f),g={x:0,y:0},{scrollableAncestors:x}=a.current;for(const T of x){const O=t.code,{isTop:b,isRight:y,isLeft:v,isBottom:S,maxScroll:E,minScroll:C}=Xb(T),j=fj(T),R={x:Math.min(O===ge.Right?j.right-j.width/2:j.right,Math.max(O===ge.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(O===ge.Down?j.bottom-j.height/2:j.bottom,Math.max(O===ge.Down?j.top:j.top+j.height/2,h.y))},z=O===ge.Right&&!y||O===ge.Left&&!v,L=O===ge.Down&&!S||O===ge.Up&&!b;if(z&&R.x!==h.x){const X=T.scrollLeft+m.x,ee=O===ge.Right&&X<=E.x||O===ge.Left&&X>=C.x;if(ee&&!m.y){T.scrollTo({left:X,behavior:l});return}ee?g.x=T.scrollLeft-X:g.x=O===ge.Right?T.scrollLeft-E.x:T.scrollLeft-C.x,g.x&&T.scrollBy({left:-g.x,behavior:l});break}else if(L&&R.y!==h.y){const X=T.scrollTop+m.y,ee=O===ge.Down&&X<=E.y||O===ge.Up&&X>=C.y;if(ee&&!m.x){T.scrollTo({top:X,behavior:l});return}ee?g.y=T.scrollTop-X:g.y=O===ge.Down?T.scrollTop-E.y:T.scrollTop-C.y,g.y&&T.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,$i(yl(h,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Zb,onActivation:s}=t,{active:i}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function yy(e){return!!(e&&"distance"in e)}function vy(e){return!!(e&&"delay"in e)}class Vh{constructor(t,n,a){var s;a===void 0&&(a=yj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:r}=i;this.props=t,this.events=n,this.document=dr(r),this.documentListeners=new Jr(this.document),this.listeners=new Jr(a),this.windowListeners=new Jr(qt(r)),this.initialCoordinates=(s=wc(i))!=null?s:Gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.DragStart,gy),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),this.windowListeners.add(Tn.ContextMenu,gy),this.documentListeners.add(Tn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(yy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Tn.Click,vj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:i}=this,{onMove:r,options:{activationConstraint:l}}=i;if(!s)return;const o=(n=wc(t))!=null?n:Gn,u=yl(s,o);if(!a&&l){if(yy(l)){if(l.tolerance!=null&&od(u,l.tolerance))return this.handleCancel();if(od(u,l.distance))return this.handleStart()}if(vy(l)&&od(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const bj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class pl extends Vh{constructor(t){const{event:n}=t,a=dr(n.target);super(t,bj,a)}}pl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const _j={move:{name:"mousemove"},end:{name:"mouseup"}};var Ef;(function(e){e[e.RightClick=2]="RightClick"})(Ef||(Ef={}));class wj extends Vh{constructor(t){super(t,_j,dr(t.event.target))}}wj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Ef.RightClick?!1:(a==null||a({event:n}),!0)}}];const cd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tf extends Vh{constructor(t){super(t,cd)}static setup(){return window.addEventListener(cd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(cd.move.name,t)};function t(){}}}Tf.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Zr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zr||(Zr={}));var xc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(xc||(xc={}));function Sj(e){let{acceleration:t,activator:n=Zr.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:r=5,order:l=xc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=e;const g=Ej({delta:h,disabled:!i}),[x,T]=BT(),O=_.useRef({x:0,y:0}),b=_.useRef({x:0,y:0}),y=_.useMemo(()=>{switch(n){case Zr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Zr.DraggableRect:return s}},[n,s,o]),v=_.useRef(null),S=_.useCallback(()=>{const C=v.current;if(!C)return;const j=O.current.x*b.current.x,R=O.current.y*b.current.y;C.scrollBy(j,R)},[]),E=_.useMemo(()=>l===xc.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!i||!u.length||!y){T();return}for(const C of E){if((a==null?void 0:a(C))===!1)continue;const j=u.indexOf(C),R=f[j];if(!R)continue;const{direction:z,speed:L}=dj(C,R,y,t,m);for(const X of["x","y"])g[X][z[X]]||(L[X]=0,z[X]=0);if(L.x>0||L.y>0){T(),v.current=C,x(S,r),O.current=L,b.current=z;return}}O.current={x:0,y:0},b.current={x:0,y:0},T()},[t,S,a,T,i,r,JSON.stringify(y),JSON.stringify(g),x,u,E,f,JSON.stringify(m)])}const xj={x:{[_t.Backward]:!1,[_t.Forward]:!1},y:{[_t.Backward]:!1,[_t.Forward]:!1}};function Ej(e){let{delta:t,disabled:n}=e;const a=_c(t);return Ml(s=>{if(n||!a||!s)return xj;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[_t.Backward]:s.x[_t.Backward]||i.x===-1,[_t.Forward]:s.x[_t.Forward]||i.x===1},y:{[_t.Backward]:s.y[_t.Backward]||i.y===-1,[_t.Forward]:s.y[_t.Forward]||i.y===1}}},[n,t,a])}function Tj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Ml(s=>{var i;return t==null?null:(i=a??s)!=null?i:null},[a,t])}function jj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,i=s.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...i]},[]),[e,t])}var Pi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Pi||(Pi={}));var jf;(function(e){e.Optimized="optimized"})(jf||(jf={}));const py=new Map;function Oj(e,t){let{dragging:n,dependencies:a,config:s}=t;const[i,r]=_.useState(null),{frequency:l,measure:o,strategy:u}=s,f=_.useRef(e),h=O(),m=gl(h),g=_.useCallback(function(b){b===void 0&&(b=[]),!m.current&&r(y=>y===null?b:y.concat(b.filter(v=>!y.includes(v))))},[m]),x=_.useRef(null),T=Ml(b=>{if(h&&!n)return py;if(!b||b===py||f.current!==e||i!=null){const y=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){y.set(v.id,v.rect.current);continue}const S=v.node.current,E=S?new Yh(o(S),S):null;v.rect.current=E,E&&y.set(v.id,E)}return y}return b},[e,i,n,h,o]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{h||g()},[n,h]),_.useEffect(()=>{i&&i.length>0&&r(null)},[JSON.stringify(i)]),_.useEffect(()=>{h||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{g(),x.current=null},l))},[l,h,g,...a]),{droppableRects:T,measureDroppableContainers:g,measuringScheduled:i!=null};function O(){switch(u){case Pi.Always:return!1;case Pi.BeforeDragging:return n;default:return!n}}}function Ih(e,t){return Ml(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Nj(e,t){return Ih(e,t)}function Aj(e){let{callback:t,disabled:n}=e;const a=Qc(t),s=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return _.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Pc(e){let{callback:t,disabled:n}=e;const a=Qc(t),s=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return _.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Dj(e){return new Yh(fr(e),e)}function by(e,t,n){t===void 0&&(t=Dj);const[a,s]=_.useState(null);function i(){s(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const r=Aj({callback(o){if(e)for(const u of o){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=Pc({callback:i});return In(()=>{i(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Cj(e){const t=Ih(e);return Hb(e,t)}const _y=[];function Rj(e){const t=_.useRef(e),n=Ml(a=>e?a&&a!==_y&&e&&t.current&&e.parentNode===t.current.parentNode?a:Zc(e):_y,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function Mj(e){const[t,n]=_.useState(null),a=_.useRef(e),s=_.useCallback(i=>{const r=ld(i.target);r&&n(l=>l?(l.set(r,xf(r)),new Map(l)):null)},[]);return _.useEffect(()=>{const i=a.current;if(e!==i){r(i);const l=e.map(o=>{const u=ld(o);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,xf(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(i)};function r(l){l.forEach(o=>{const u=ld(o);u==null||u.removeEventListener("scroll",s)})}},[s,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,r)=>$i(i,r),Gn):Qb(e):Gn,[e,t])}function wy(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==Gn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?yl(e,n.current):Gn}function kj(e){_.useEffect(()=>{if(!Xc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Uj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:i}=a;return n[s]=r=>{i(r,t)},n},{}),[e,t])}function Pb(e){return _.useMemo(()=>e?lj(e):null,[e])}const Sy=[];function zj(e,t){t===void 0&&(t=fr);const[n]=e,a=Pb(n?qt(n):null),[s,i]=_.useState(Sy);function r(){i(()=>e.length?e.map(o=>Kb(o)?a:new Yh(t(o),o)):Sy)}const l=Pc({callback:r});return In(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),s}function Wb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rl(t)?t:e}function $j(e){let{measure:t}=e;const[n,a]=_.useState(null),s=_.useCallback(u=>{for(const{target:f}of u)if(Rl(f)){a(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=Pc({callback:s}),r=_.useCallback(u=>{const f=Wb(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),a(f?t(f):null)},[t,i]),[l,o]=bc(r);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const Bj=[{sensor:pl,options:{}},{sensor:vl,options:{}}],Lj={current:{}},zo={draggable:{measure:my},droppable:{measure:my,strategy:Pi.WhileDragging,frequency:jf.Optimized},dragOverlay:{measure:fr}};class Pr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const qj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Sc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zo,measureDroppableContainers:Sc,windowRect:null,measuringScheduled:!1},Fb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Sc,draggableNodes:new Map,over:null,measureDroppableContainers:Sc},Ul=_.createContext(Fb),e_=_.createContext(qj);function Hj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pr}}}function Yj(e,t){switch(t.type){case ft.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ft.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ft.DragEnd:case ft.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ft.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Pr(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case ft.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Pr(e.droppable.containers);return r.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:r}}}case ft.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const i=new Pr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Vj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=_.useContext(Ul),i=_c(a),r=_c(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&i&&r!=null){if(!Jc(i)||document.activeElement===i.target)return;const l=s.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[o.current,u.current]){if(!f)continue;const h=HT(f);if(h){h.focus();break}}})}},[a,t,s,r,i]),null}function t_(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...a}),n):n}function Ij(e){return _.useMemo(()=>({draggable:{...zo.draggable,...e==null?void 0:e.draggable},droppable:{...zo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...zo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Gj(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const i=_.useRef(!1),{x:r,y:l}=typeof s=="boolean"?{x:s,y:s}:s;In(()=>{if(!r&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=Hb(f,a);if(r||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Vb(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,r,l,a,n])}const Wc=_.createContext({...Gn,scaleX:1,scaleY:1});var Ba;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ba||(Ba={}));const Of=_.memo(function(t){var n,a,s,i;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:f=Bj,collisionDetection:h=tj,measuring:m,modifiers:g,...x}=t;const T=_.useReducer(Yj,void 0,Hj),[O,b]=T,[y,v]=XT(),[S,E]=_.useState(Ba.Uninitialized),C=S===Ba.Initialized,{draggable:{active:j,nodes:R,translate:z},droppable:{containers:L}}=O,X=j!=null?R.get(j):null,ee=_.useRef({initial:null,translated:null}),me=_.useMemo(()=>{var Qe;return j!=null?{id:j,data:(Qe=X==null?void 0:X.data)!=null?Qe:Lj,rect:ee}:null},[j,X]),ie=_.useRef(null),[Ce,q]=_.useState(null),[V,K]=_.useState(null),oe=gl(x,Object.values(x)),Z=kl("DndDescribedBy",r),Re=_.useMemo(()=>L.getEnabled(),[L]),ce=Ij(m),{droppableRects:Ue,measureDroppableContainers:we,measuringScheduled:Te}=Oj(Re,{dragging:C,dependencies:[z.x,z.y],config:ce.droppable}),Ke=Tj(R,j),vn=_.useMemo(()=>V?wc(V):null,[V]),Ht=sa(),Rt=Nj(Ke,ce.draggable.measure);Gj({activeNode:j!=null?R.get(j):null,config:Ht.layoutShiftCompensation,initialRect:Rt,measure:ce.draggable.measure});const ve=by(Ke,ce.draggable.measure,Rt),gt=by(Ke?Ke.parentElement:null),yt=_.useRef({activatorEvent:null,active:null,activeNode:Ke,collisionRect:null,collisions:null,droppableRects:Ue,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pn=L.getNodeFor((n=yt.current.over)==null?void 0:n.id),en=$j({measure:ce.dragOverlay.measure}),Yt=(a=en.nodeRef.current)!=null?a:Ke,Xe=C?(s=en.rect)!=null?s:ve:null,at=!!(en.nodeRef.current&&en.rect),bn=Cj(at?null:ve),Un=Pb(Yt?qt(Yt):null),vt=Rj(C?pn??Ke:null),pt=zj(vt),Mt=t_(g,{transform:{x:z.x-bn.x,y:z.y-bn.y,scaleX:1,scaleY:1},activatorEvent:V,active:me,activeNodeRect:ve,containerNodeRect:gt,draggingNodeRect:Xe,over:yt.current.over,overlayNodeRect:en.rect,scrollableAncestors:vt,scrollableAncestorRects:pt,windowRect:Un}),_n=vn?$i(vn,z):null,tn=Mj(vt),Na=wy(tn),fs=wy(tn,[ve]),wn=$i(Mt,Na),nn=Xe?sj(Xe,Mt):null,xt=me&&nn?h({active:me,collisionRect:nn,droppableRects:Ue,droppableContainers:Re,pointerCoordinates:_n}):null,Ks=qb(xt,"id"),[st,hs]=_.useState(null),Me=at?Mt:$i(Mt,fs),Vt=nj(Me,(i=st==null?void 0:st.rect)!=null?i:null,ve),ta=_.useRef(null),na=_.useCallback((Qe,We)=>{let{sensor:At,options:$n}=We;if(ie.current==null)return;const Fe=R.get(ie.current);if(!Fe)return;const it=Qe.nativeEvent,It=new At({active:ie.current,activeNode:Fe,event:it,options:$n,context:yt,onAbort(Je){if(!R.get(Je))return;const{onDragAbort:Dt}=oe.current,kt={id:Je};Dt==null||Dt(kt),y({type:"onDragAbort",event:kt})},onPending(Je,Kt,Dt,kt){if(!R.get(Je))return;const{onDragPending:ia}=oe.current,et={id:Je,constraint:Kt,initialCoordinates:Dt,offset:kt};ia==null||ia(et),y({type:"onDragPending",event:et})},onStart(Je){const Kt=ie.current;if(Kt==null)return;const Dt=R.get(Kt);if(!Dt)return;const{onDragStart:kt}=oe.current,xn={activatorEvent:it,active:{id:Kt,data:Dt.data,rect:ee}};yi.unstable_batchedUpdates(()=>{kt==null||kt(xn),E(Ba.Initializing),b({type:ft.DragStart,initialCoordinates:Je,active:Kt}),y({type:"onDragStart",event:xn}),q(ta.current),K(it)})},onMove(Je){b({type:ft.DragMove,coordinates:Je})},onEnd:Gt(ft.DragEnd),onCancel:Gt(ft.DragCancel)});ta.current=It;function Gt(Je){return async function(){const{active:Dt,collisions:kt,over:xn,scrollAdjustedTranslate:ia}=yt.current;let et=null;if(Dt&&ia){const{cancelDrop:ra}=oe.current;et={activatorEvent:it,active:Dt,collisions:kt,delta:ia,over:xn},Je===ft.DragEnd&&typeof ra=="function"&&await Promise.resolve(ra(et))&&(Je=ft.DragCancel)}ie.current=null,yi.unstable_batchedUpdates(()=>{b({type:Je}),E(Ba.Uninitialized),hs(null),q(null),K(null),ta.current=null;const ra=Je===ft.DragEnd?"onDragEnd":"onDragCancel";if(et){const Aa=oe.current[ra];Aa==null||Aa(et),y({type:ra,event:et})}})}}},[R]),zn=_.useCallback((Qe,We)=>(At,$n)=>{const Fe=At.nativeEvent,it=R.get($n);if(ie.current!==null||!it||Fe.dndKit||Fe.defaultPrevented)return;const It={active:it};Qe(At,We.options,It)===!0&&(Fe.dndKit={capturedBy:We.sensor},ie.current=$n,na(At,We))},[R,na]),aa=jj(f,zn);kj(f),In(()=>{ve&&S===Ba.Initializing&&E(Ba.Initialized)},[ve,S]),_.useEffect(()=>{const{onDragMove:Qe}=oe.current,{active:We,activatorEvent:At,collisions:$n,over:Fe}=yt.current;if(!We||!At)return;const it={active:We,activatorEvent:At,collisions:$n,delta:{x:wn.x,y:wn.y},over:Fe};yi.unstable_batchedUpdates(()=>{Qe==null||Qe(it),y({type:"onDragMove",event:it})})},[wn.x,wn.y]),_.useEffect(()=>{const{active:Qe,activatorEvent:We,collisions:At,droppableContainers:$n,scrollAdjustedTranslate:Fe}=yt.current;if(!Qe||ie.current==null||!We||!Fe)return;const{onDragOver:it}=oe.current,It=$n.get(Ks),Gt=It&&It.rect.current?{id:It.id,rect:It.rect.current,data:It.data,disabled:It.disabled}:null,Je={active:Qe,activatorEvent:We,collisions:At,delta:{x:Fe.x,y:Fe.y},over:Gt};yi.unstable_batchedUpdates(()=>{hs(Gt),it==null||it(Je),y({type:"onDragOver",event:Je})})},[Ks]),In(()=>{yt.current={activatorEvent:V,active:me,activeNode:Ke,collisionRect:nn,collisions:xt,droppableRects:Ue,draggableNodes:R,draggingNode:Yt,draggingNodeRect:Xe,droppableContainers:L,over:st,scrollableAncestors:vt,scrollAdjustedTranslate:wn},ee.current={initial:Xe,translated:nn}},[me,Ke,xt,nn,R,Yt,Xe,Ue,L,st,vt,wn]),Sj({...Ht,delta:z,draggingRect:nn,pointerCoordinates:_n,scrollableAncestors:vt,scrollableAncestorRects:pt});const ms=_.useMemo(()=>({active:me,activeNode:Ke,activeNodeRect:ve,activatorEvent:V,collisions:xt,containerNodeRect:gt,dragOverlay:en,draggableNodes:R,droppableContainers:L,droppableRects:Ue,over:st,measureDroppableContainers:we,scrollableAncestors:vt,scrollableAncestorRects:pt,measuringConfiguration:ce,measuringScheduled:Te,windowRect:Un}),[me,Ke,ve,V,xt,gt,en,R,L,Ue,st,we,vt,pt,ce,Te,Un]),Sn=_.useMemo(()=>({activatorEvent:V,activators:aa,active:me,activeNodeRect:ve,ariaDescribedById:{draggable:Z},dispatch:b,draggableNodes:R,over:st,measureDroppableContainers:we}),[V,aa,me,ve,b,Z,R,st,we]);return $e.createElement($b.Provider,{value:v},$e.createElement(Ul.Provider,{value:Sn},$e.createElement(e_.Provider,{value:ms},$e.createElement(Wc.Provider,{value:Vt},u)),$e.createElement(Vj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),$e.createElement(ZT,{...l,hiddenTextDescribedById:Z}));function sa(){const Qe=(Ce==null?void 0:Ce.autoScrollEnabled)===!1,We=typeof o=="object"?o.enabled===!1:o===!1,At=C&&!Qe&&!We;return typeof o=="object"?{...o,enabled:At}:{enabled:At}}}),Kj=_.createContext(null),xy="button",Xj="Draggable";function Qj(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const i=kl(Xj),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=_.useContext(Ul),{role:g=xy,roleDescription:x="draggable",tabIndex:T=0}=s??{},O=(o==null?void 0:o.id)===t,b=_.useContext(O?Wc:Kj),[y,v]=bc(),[S,E]=bc(),C=Uj(r,t),j=gl(n);In(()=>(h.set(t,{id:t,key:i,node:y,activatorNode:S,data:j}),()=>{const z=h.get(t);z&&z.key===i&&h.delete(t)}),[h,t]);const R=_.useMemo(()=>({role:g,tabIndex:T,"aria-disabled":a,"aria-pressed":O&&g===xy?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[a,g,T,O,x,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:R,isDragging:O,listeners:a?void 0:C,node:y,over:m,setNodeRef:v,setActivatorNodeRef:E,transform:b}}function n_(){return _.useContext(e_)}const Jj="Droppable",Zj={timeout:25};function Pj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const i=kl(Jj),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=_.useContext(Ul),f=_.useRef({disabled:n}),h=_.useRef(!1),m=_.useRef(null),g=_.useRef(null),{disabled:x,updateMeasurementsFor:T,timeout:O}={...Zj,...s},b=gl(T??a),y=_.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),g.current=null},O)},[O]),v=Pc({callback:y,disabled:x||!r}),S=_.useCallback((R,z)=>{v&&(z&&(v.unobserve(z),h.current=!1),R&&v.observe(R))},[v]),[E,C]=bc(S),j=gl(t);return _.useEffect(()=>{!v||!E.current||(v.disconnect(),h.current=!1,v.observe(E.current))},[E,v]),_.useEffect(()=>(l({type:ft.RegisterDroppable,element:{id:a,key:i,disabled:n,node:E,rect:m,data:j}}),()=>l({type:ft.UnregisterDroppable,key:i,id:a})),[a]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:ft.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,l]),{active:r,rect:m,isOver:(o==null?void 0:o.id)===a,node:E,over:o,setNodeRef:C}}function Wj(e){let{animation:t,children:n}=e;const[a,s]=_.useState(null),[i,r]=_.useState(null),l=_c(n);return!n&&!a&&l&&s(l),In(()=>{if(!i)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,a,i]),$e.createElement($e.Fragment,null,n,a?_.cloneElement(a,{ref:r}):null)}const Fj={x:0,y:0,scaleX:1,scaleY:1};function eO(e){let{children:t}=e;return $e.createElement(Ul.Provider,{value:Fb},$e.createElement(Wc.Provider,{value:Fj},t))}const tO={position:"fixed",touchAction:"none"},nO=e=>Jc(e)?"transform 250ms ease":void 0,aO=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:i,className:r,rect:l,style:o,transform:u,transition:f=nO}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...tO,width:l.width,height:l.height,top:l.top,left:l.left,transform:os.Transform.toString(h),transformOrigin:s&&a?PT(a,l):void 0,transition:typeof f=="function"?f(a):f,...o};return $e.createElement(n,{className:r,style:m,ref:t},i)}),sO=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:i,className:r}=e;if(i!=null&&i.active)for(const[l,o]of Object.entries(i.active))o!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(i!=null&&i.dragOverlay)for(const[l,o]of Object.entries(i.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,u]of Object.entries(s))n.node.style.setProperty(o,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},iO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:os.Transform.toString(t)},{transform:os.Transform.toString(n)}]},rO={duration:250,easing:"ease",keyframes:iO,sideEffects:sO({styles:{active:{opacity:"0"}}})};function lO(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return Qc((i,r)=>{if(t===null)return;const l=n.get(i);if(!l)return;const o=l.node.current;if(!o)return;const u=Wb(r);if(!u)return;const{transform:f}=qt(r).getComputedStyle(r),h=Yb(f);if(!h)return;const m=typeof t=="function"?t:oO(t);return Jb(o,s.draggable.measure),m({active:{id:i,data:l.data,node:o,rect:s.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:s.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:s,transform:h})})}function oO(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...rO,...e};return i=>{let{active:r,dragOverlay:l,transform:o,...u}=i;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},h={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},m={x:o.x-f.x,y:o.y-f.y,...h},g=s({...u,active:r,dragOverlay:l,transform:{initial:o,final:m}}),[x]=g,T=g[g.length-1];if(JSON.stringify(x)===JSON.stringify(T))return;const O=a==null?void 0:a({active:r,dragOverlay:l,...u}),b=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{b.onfinish=()=>{O==null||O(),y()}})}}let Ey=0;function cO(e){return _.useMemo(()=>{if(e!=null)return Ey++,Ey},[e])}const uO=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:i,modifiers:r,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggableNodes:x,droppableContainers:T,dragOverlay:O,over:b,measuringConfiguration:y,scrollableAncestors:v,scrollableAncestorRects:S,windowRect:E}=n_(),C=_.useContext(Wc),j=cO(h==null?void 0:h.id),R=t_(r,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:O.rect,over:b,overlayNodeRect:O.rect,scrollableAncestors:v,scrollableAncestorRects:S,transform:C,windowRect:E}),z=Ih(m),L=lO({config:a,draggableNodes:x,droppableContainers:T,measuringConfiguration:y}),X=z?O.setRef:void 0;return $e.createElement(eO,null,$e.createElement(Wj,{animation:L},h&&j?$e.createElement(aO,{key:j,id:h.id,ref:X,as:l,activatorEvent:f,adjustScale:t,className:o,transition:i,rect:z,style:{zIndex:u,...s},transform:R},n):null))});function Ec(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function dO(e,t){return e.reduce((n,a,s)=>{const i=t.get(a);return i&&(n[s]=i),n},Array(e.length))}function vo(e){return e!==null&&e>=0}function fO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function hO(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const po={scaleX:1,scaleY:1},mO=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:s,overIndex:i,index:r}=e;const l=(t=n[s])!=null?t:a;if(!l)return null;const o=gO(n,r,s);if(r===s){const u=n[i];return u?{x:s<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...po}:null}return r>s&&r<=i?{x:-l.width-o,y:0,...po}:r<s&&r>=i?{x:l.width+o,y:0,...po}:{x:0,y:0,...po}};function gO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return!a||!s&&!i?0:n<t?s?a.left-(s.left+s.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(s.left+s.width)}const a_=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const i=Ec(t,a,n),r=t[s],l=i[s];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},bo={scaleX:1,scaleY:1},$o=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:i,overIndex:r}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(s===n){const u=i[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...bo}:null}const o=yO(i,s,n);return s>n&&s<=r?{x:0,y:-l.height-o,...bo}:s<n&&s>=r?{x:0,y:l.height+o,...bo}:{x:0,y:0,...bo}};function yO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return a?n<t?s?a.top-(s.top+s.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const s_="Sortable",i_=$e.createContext({activeIndex:-1,containerId:s_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:a_,disabled:{draggable:!1,droppable:!1}});function Cr(e){let{children:t,id:n,items:a,strategy:s=a_,disabled:i=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:f}=n_(),h=kl(s_,n),m=l.rect!==null,g=_.useMemo(()=>a.map(C=>typeof C=="object"&&"id"in C?C.id:C),[a]),x=r!=null,T=r?g.indexOf(r.id):-1,O=u?g.indexOf(u.id):-1,b=_.useRef(g),y=!fO(g,b.current),v=O!==-1&&T===-1||y,S=hO(i);In(()=>{y&&x&&f(g)},[y,g,x,f]),_.useEffect(()=>{b.current=g},[g]);const E=_.useMemo(()=>({activeIndex:T,containerId:h,disabled:S,disableTransforms:v,items:g,overIndex:O,useDragOverlay:m,sortedRects:dO(g,o),strategy:s}),[T,h,S.draggable,S.droppable,v,g,O,o,m,s]);return $e.createElement(i_.Provider,{value:E},t)}const vO=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return Ec(n,a,s).indexOf(t)},pO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:i,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==i&&s===r?!1:n?!0:r!==s&&t===o},bO={duration:200,easing:"ease"},r_="transform",_O=os.Transition.toString({property:r_,duration:0,easing:"linear"}),wO={roleDescription:"sortable"};function SO(e){let{disabled:t,index:n,node:a,rect:s}=e;const[i,r]=_.useState(null),l=_.useRef(n);return In(()=>{if(!t&&n!==l.current&&a.current){const o=s.current;if(o){const u=fr(a.current,{ignoreTransform:!0}),f={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,s]),_.useEffect(()=>{i&&r(null)},[i]),i}function Gh(e){let{animateLayoutChanges:t=pO,attributes:n,disabled:a,data:s,getNewIndex:i=vO,id:r,strategy:l,resizeObserverConfig:o,transition:u=bO}=e;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:x,sortedRects:T,overIndex:O,useDragOverlay:b,strategy:y}=_.useContext(i_),v=xO(a,g),S=f.indexOf(r),E=_.useMemo(()=>({sortable:{containerId:h,index:S,items:f},...s}),[h,s,S,f]),C=_.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:j,node:R,isOver:z,setNodeRef:L}=Pj({id:r,data:E,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...o}}),{active:X,activatorEvent:ee,activeNodeRect:me,attributes:ie,setNodeRef:Ce,listeners:q,isDragging:V,over:K,setActivatorNodeRef:oe,transform:Z}=Qj({id:r,data:E,attributes:{...wO,...n},disabled:v.draggable}),Re=$T(L,Ce),ce=!!X,Ue=ce&&!x&&vo(m)&&vo(O),we=!b&&V,Te=we&&Ue?Z:null,vn=Ue?Te??(l??y)({rects:T,activeNodeRect:me,activeIndex:m,overIndex:O,index:S}):null,Ht=vo(m)&&vo(O)?i({id:r,items:f,activeIndex:m,overIndex:O}):S,Rt=X==null?void 0:X.id,ve=_.useRef({activeId:Rt,items:f,newIndex:Ht,containerId:h}),gt=f!==ve.current.items,yt=t({active:X,containerId:h,isDragging:V,isSorting:ce,id:r,index:S,items:f,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:u,wasDragging:ve.current.activeId!=null}),pn=SO({disabled:!yt,index:S,node:R,rect:j});return _.useEffect(()=>{ce&&ve.current.newIndex!==Ht&&(ve.current.newIndex=Ht),h!==ve.current.containerId&&(ve.current.containerId=h),f!==ve.current.items&&(ve.current.items=f)},[ce,Ht,h,f]),_.useEffect(()=>{if(Rt===ve.current.activeId)return;if(Rt!=null&&ve.current.activeId==null){ve.current.activeId=Rt;return}const Yt=setTimeout(()=>{ve.current.activeId=Rt},50);return()=>clearTimeout(Yt)},[Rt]),{active:X,activeIndex:m,attributes:ie,data:E,rect:j,index:S,newIndex:Ht,items:f,isOver:z,isSorting:ce,isDragging:V,listeners:q,node:R,overIndex:O,over:K,setNodeRef:Re,setActivatorNodeRef:oe,setDroppableNodeRef:L,setDraggableNodeRef:Ce,transform:pn??vn,transition:en()};function en(){if(pn||gt&&ve.current.newIndex===S)return _O;if(!(we&&!Jc(ee)||!u)&&(ce||yt))return os.Transition.toString({...u,property:r_})}}function xO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Tc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const EO=[ge.Down,ge.Right,ge.Up,ge.Left],Nf=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:i,over:r,scrollableAncestors:l}}=t;if(EO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case ge.Down:a.top<m.top&&o.push(h);break;case ge.Up:a.top>m.top&&o.push(h);break;case ge.Left:a.left>m.left&&o.push(h);break;case ge.Right:a.left<m.left&&o.push(h);break}});const u=FT({collisionRect:a,droppableRects:s,droppableContainers:o});let f=qb(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const h=i.get(n.id),m=i.get(f),g=m?s.get(m.id):null,x=m==null?void 0:m.node.current;if(x&&g&&h&&m){const O=Zc(x).some((C,j)=>l[j]!==C),b=l_(h,m),y=TO(h,m),v=O||!b?{x:0,y:0}:{x:y?a.width-g.width:0,y:y?a.height-g.height:0},S={x:g.left,y:g.top};return v.x&&v.y?S:yl(S,v)}}}};function l_(e,t){return!Tc(e)||!Tc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function TO(e,t){return!Tc(e)||!Tc(t)||!l_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ns=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],ud=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`;function Af({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),s=_.useRef(e),i=_.useRef(!1),[r,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:"09"),[o,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:"00");_.useEffect(()=>{if(e&&e.includes(":")&&e!==s.current){const[y,v]=e.split(":");s.current=e,l(y),u(v)}},[e]),_.useEffect(()=>{if(!i.current){i.current=!0;return}const y=`${r}:${o}`;s.current=y,t&&t(y)},[r,o]);const f=(y,v,S)=>{if(!y.current)return;const E=y.current.scrollTop,j=Math.round(E/40),R=String(j).padStart(2,"0");v(R)},h=(y,v)=>{if(!y.current)return;const S=40,E=parseInt(v,10);y.current.scrollTop=E*S};_.useEffect(()=>{h(n,r)},[]),_.useEffect(()=>{h(a,o)},[]);const m=Array.from({length:24},(y,v)=>String(v).padStart(2,"0")),g=Array.from({length:60},(y,v)=>String(v).padStart(2,"0")),x=()=>{const y=(parseInt(r,10)+1)%24,v=String(y).padStart(2,"0");l(v),h(n,v)},T=()=>{const y=(parseInt(r,10)-1+24)%24,v=String(y).padStart(2,"0");l(v),h(n,v)},O=()=>{const y=(parseInt(o,10)+1)%60,v=String(y).padStart(2,"0");u(v),h(a,v)},b=()=>{const y=(parseInt(o,10)-1+60)%60,v=String(y).padStart(2,"0");u(v),h(a,v)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:x,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:O,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(y=>c.jsx("div",{className:`picker-item ${y===r?"selected":""}`,onClick:()=>{l(y),h(n,y)},children:y},y)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[c.jsx("div",{className:"picker-spacer"}),g.map(y=>c.jsx("div",{className:`picker-item ${y===o?"selected":""}`,onClick:()=>{u(y),h(a,y)},children:y},y)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:T,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function _o({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:s,listeners:i,setNodeRef:r,transform:l,transition:o,isDragging:u}=Gh({id:e,disabled:n}),f=_.useRef(null),[h,m]=_.useState(!1),g=E=>{if(n&&a){if(!E.target.closest(".section-header"))return;m(!0),f.current=setTimeout(()=>{a(),m(!1)},500)}},x=()=>{f.current&&(clearTimeout(f.current),f.current=null,m(!1))},T=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},O=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},y={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},v=n?{onPointerDown:g,onPointerMove:x,onPointerUp:T,onPointerCancel:O,onPointerLeave:O}:{...s,...i},S=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:y,className:S,...v,children:t})}function jO({title:e,className:t,content:n,setContent:a,isEditing:s,isSaving:i,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:f,placeholder:h,emptyMessage:m,children:g}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!s&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),s&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:i,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),s?c.jsx("textarea",{ref:r,value:n,onChange:x=>a(x.target.value),onKeyDown:f,className:"memo-textarea",placeholder:h}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((x,T)=>c.jsx("div",{className:"memo-preview-line",children:x||""},T))}):c.jsx("div",{className:"memo-empty",children:m})}),g]})}function o_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,parentBlock:i,rootSetBlocks:r,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:f,listeners:h,setNodeRef:m,transform:g,transition:x,isDragging:T}=Gh({id:e.id}),O=e.id===o,b=e.id===u&&o&&o!==u,y={cursor:"grab",opacity:O?.4:1,borderTop:b?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:m,style:y,children:c.jsx(c_,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:{...f,...h},parentBlock:i,rootSetBlocks:r,draggingChildIds:l,activeId:o,overId:u})})}function c_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:i,parentBlock:r,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:f}){const h=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const E=h.current.value.length;h.current.setSelectionRange(E,E)}},[a,e.id]),_.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const g=(E,C,j)=>E.map(R=>{if(R.id===C){const z=j(R);return{...z,children:Array.isArray(z.children)?z.children:[]}}return Array.isArray(R.children)&&R.children.length>0?{...R,children:g(R.children,C,j)}:R}),x=E=>{n(C=>g(C,e.id,j=>({...j,content:E})))},T=E=>{n(C=>g(C,e.id,j=>({...j,children:typeof E=="function"?E(j.children):E})))},O=()=>{n(E=>g(E,e.id,C=>{const j=!C.isOpen;if(j&&(!Array.isArray(C.children)||C.children.length===0)){const R={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...C,isOpen:j,children:[R]}}return{...C,isOpen:j,children:Array.isArray(C.children)?C.children:[]}}))},b=()=>{const E=t.findIndex(j=>j.id===e.id);if(E<=0)return;const C=t[E-1];n(j=>{const R=[...j];R.splice(E,1);const z={...C,children:[...Array.isArray(C.children)?C.children:[],e],isOpen:!0};return R[E-1]=z,R})},y=()=>{!r||!l||l(E=>{const C=(z,L,X)=>{const ee=[];for(let me=0;me<z.length;me++){const ie=z[me];if(ie.id===L){const Ce=ie.children.filter(V=>V.id!==X.id),q={...ie,children:Ce};ee.push(q),ee.push(X)}else if(Array.isArray(ie.children)&&ie.children.length>0){const Ce=C(ie.children,L,X);Ce!==ie.children?ee.push({...ie,children:Ce}):ee.push(ie)}else ee.push(ie)}return ee},j=z=>z.map(L=>{const X=Array.isArray(L.children)&&L.children.length>0;return!X&&L.isOpen?{...L,isOpen:!1}:X?{...L,children:j(L.children)}:L}),R=C(E,r.id,e);return j(R)})},v=E=>{const C=[],j=R=>{for(const z of R)C.push(z),z.isOpen&&Array.isArray(z.children)&&z.children.length>0&&j(z.children)};return j(E),C},S=E=>{if(E.key==="Enter"){if(E.shiftKey)return;{if(m.current){E.preventDefault(),E.stopPropagation();return}E.preventDefault(),E.stopPropagation(),m.current=!0;const C=E.target.selectionStart,j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};C===0?(n(R=>{const z=R.findIndex(X=>X.id===e.id);if(z===-1)return R;const L=[...R];return L.splice(z,0,j),L}),setTimeout(()=>{s(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(R=>{const z=R.findIndex(X=>X.id===e.id);if(z===-1)return R;const L=[...R];return L.splice(z+1,0,j),L}),setTimeout(()=>{s(j.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(E.key==="Tab"&&E.shiftKey)E.preventDefault(),E.stopPropagation(),r&&l&&y();else if(E.key==="Tab"&&!E.shiftKey)E.preventDefault(),E.stopPropagation(),b();else if(E.key==="Backspace"){const C=E.target.selectionStart;if(e.content===""||C===0){const L=(()=>{if(l){let me=[];return l(ie=>(me=ie,ie)),me}return t})(),X=v(L),ee=X.findIndex(me=>me.id===e.id);if(ee>0){E.preventDefault(),E.stopPropagation();const me=X[ee-1],ie=(q,V)=>q.filter(K=>K.id!==V).map(K=>Array.isArray(K.children)&&K.children.length>0?{...K,children:ie(K.children,V)}:K),Ce=q=>q.map(V=>{const K=Array.isArray(V.children)&&V.children.length>0;return!K&&V.isOpen?{...V,isOpen:!1}:K?{...V,children:Ce(V.children)}:V});l?l(q=>{const V=ie(q,e.id);return Ce(V)}):n(q=>{const V=ie(q,e.id);return Ce(V)}),setTimeout(()=>{s(me.id)},0)}}}else if(E.key==="ArrowUp"&&!E.shiftKey){E.preventDefault(),E.stopPropagation();const j=(()=>{if(l){let L=[];return l(X=>(L=X,X)),L}return t})(),R=v(j),z=R.findIndex(L=>L.id===e.id);z>0&&s(R[z-1].id)}else if(E.key==="ArrowDown"&&!E.shiftKey){E.preventDefault(),E.stopPropagation();const j=(()=>{if(l){let L=[];return l(X=>(L=X,X)),L}return t})(),R=v(j),z=R.findIndex(L=>L.id===e.id);z<R.length-1&&s(R[z+1].id)}};return c.jsxs("div",{className:"notion-block",children:[i&&c.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:O,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:h,value:e.content,onChange:E=>x(E.target.value),onKeyDown:S,onFocus:()=>s(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(E=>c.jsx(o_,{block:E,blocks:e.children,setBlocks:T,focusedBlockId:a,setFocusedBlockId:s,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:f},E.id))})]})}function OO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a}){const[s,i]=_.useState(null),[r,l]=_.useState(null),o=wf($a(pl,{activationConstraint:{distance:3}}),$a(vl,{coordinateGetter:Nf})),u=S=>S.map(E=>{const C=Array.isArray(E.children)&&E.children.length>0;return!C&&E.isOpen?{...E,isOpen:!1}:C?{...E,children:u(E.children)}:E});_.useEffect(()=>{const S=u(e);JSON.stringify(S)!==JSON.stringify(e)&&t(S)},[e]);const f=S=>{const E=[],C=j=>{for(const R of j)E.push(R),R.isOpen&&Array.isArray(R.children)&&R.children.length>0&&C(R.children)};return C(S),E},h=S=>{const E=[],C=j=>{if(Array.isArray(j.children)&&j.children.length>0)for(const R of j.children)E.push(R.id),C(R)};return C(S),E},m=S=>{const{active:E}=S,j=f(e).find(R=>R.id===E.id);i(j)},g=S=>{const{over:E}=S;l((E==null?void 0:E.id)||null)},x=$e.useMemo(()=>s?h(s):[],[s]),T=S=>{const{active:E,over:C}=S;if(i(null),l(null),!C||E.id===C.id)return;const j=f(e),R=j.find(Z=>Z.id===E.id),z=j.find(Z=>Z.id===C.id);if(!R||!z||h(R).includes(C.id))return;const X=JSON.parse(JSON.stringify(R)),ee=(Z,Re)=>Z.filter(ce=>ce.id!==Re).map(ce=>({...ce,children:Array.isArray(ce.children)?ee(ce.children,Re):[]})),me=(Z,Re,ce)=>{let Ue=!1;const we=[];for(const Te of Z)if(we.push(Te),Te.id===Re&&(we.push(ce),Ue=!0),Array.isArray(Te.children)&&Te.children.length>0){const{newChildren:Ke,wasInserted:vn}=ie(Te.children,Re,ce);vn&&(we[we.length-1]={...Te,children:Ke},Ue=!0)}return{newTree:we,inserted:Ue}},ie=(Z,Re,ce)=>{let Ue=!1;const we=[];for(const Te of Z)if(we.push(Te),Te.id===Re&&(we.push(ce),Ue=!0),Array.isArray(Te.children)&&Te.children.length>0){const{newChildren:Ke,wasInserted:vn}=ie(Te.children,Re,ce);vn&&(we[we.length-1]={...Te,children:Ke},Ue=!0)}return{newChildren:we,wasInserted:Ue}};let Ce=ee(e,R.id);const q=Ce.length>0&&Ce[0].id===z.id;let V,K=!1;if(q)V=[X,...Ce],K=!0;else{const Z=me(Ce,z.id,X);V=Z.newTree,K=Z.inserted}if(!K){console.warn("Failed to insert block, keeping original state");return}const oe=u(V);t(oe)},O=f(e).filter(S=>!x.includes(S.id)).map(S=>S.id),b=S=>{const E=C=>C.map(j=>({...j,isOpen:S,children:Array.isArray(j.children)?E(j.children):[]}));t(E(e))},y=S=>{for(const E of S)if(!E.isOpen&&Array.isArray(E.children)&&E.children.length>0||Array.isArray(E.children)&&E.children.length>0&&!y(E.children))return!1;return!0},v=y(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>b(!v),title:v?" ":" ",children:v?" ":" "})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(Of,{sensors:o,collisionDetection:Sf,onDragStart:m,onDragOver:g,onDragEnd:T,measuring:{droppable:{strategy:Pi.Always}},children:[c.jsx(Cr,{items:O,strategy:$o,children:e.map(S=>c.jsx(o_,{block:S,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:x,activeId:s==null?void 0:s.id,overId:r},S.id))}),c.jsx(uO,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(c_,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Ty({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:s,isAdding:i,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&s()},placeholder:r,className:"todo-input",disabled:i}),c.jsx("button",{onClick:s,className:"add-button",disabled:i,children:""})]}),l]})}function Bo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:f,level:h=0,onCreateRoutine:m,routines:g,onShowRoutineHistory:x,onOpenRoutineSetupModal:T,onOpenHistoryModal:O,currentPageDate:b,isPendingRoutine:y=!1,onRemoveFromUI:v,showSuccessMessage:S}){const[E,C]=_.useState(!1),[j,R]=_.useState(!1),[z,L]=_.useState(e.text),[X,ee]=_.useState(!1),[me,ie]=_.useState(!1),[Ce,q]=_.useState(!1),[V,K]=_.useState(""),[oe,Z]=_.useState(!1),[Re,ce]=_.useState([]),[Ue,we]=_.useState(!1),[Te,Ke]=_.useState(!1),[vn,Ht]=_.useState([]),[Rt,ve]=_.useState([]),[gt,yt]=_.useState([]),[pn,en]=_.useState(null),[Yt,Xe]=_.useState(!1),[at,bn]=_.useState(null),[Un,vt]=_.useState(!1),[pt,Mt]=_.useState([]),[_n,tn]=_.useState(""),[Na,fs]=_.useState({}),[wn,nn]=_.useState(!1),[xt,Ks]=_.useState(null),[st,hs]=_.useState([]),Me=e.routine_id?g.find(U=>U.id===e.routine_id):null,[Vt,ta]=_.useState(0),[na,zn]=_.useState(0),[aa,ms]=_.useState(0),[Sn,sa]=_.useState(!1),[Qe,We]=_.useState(!1),{attributes:At,listeners:$n,setNodeRef:Fe,transform:it,transition:It,isDragging:Gt}=Gh({id:e.id}),Je={transform:os.Transform.toString(it),transition:It,cursor:Gt?"grabbing":"grab"},Kt=e.text.length>30,Dt=()=>{R(!0),L(e.text)},kt=async()=>{z.trim()&&z!==e.text&&await s(e.id,z.trim()),R(!1)},xn=async U=>{U.key==="Enter"?(U.preventDefault(),await kt()):U.key==="Escape"&&(R(!1),L(e.text))},ia=U=>{Mt(Y=>Y.includes(U)?Y.filter(le=>le!==U):[...Y,U])},et=U=>{const Y=U.getFullYear(),le=String(U.getMonth()+1).padStart(2,"0"),fe=String(U.getDate()).padStart(2,"0");return`${Y}-${le}-${fe}`},ra=U=>["sun","mon","tue","wed","thu","fri","sat"][U],Aa=async U=>{try{const Y=typeof b=="string"?b:et(b),fe=[...U.hidden_dates||[],Y],te=U.routine_id!==null&&U.routine_id!==void 0;let pe={hidden_dates:fe};te||(pe.deleted=!0,pe.deleted_date=new Date().toISOString());const{error:Ee}=await H.from("todos").update(pe).eq("id",U.id);if(Ee)throw Ee;v&&v(U.id);const je=U.routine_id!==null&&U.routine_id!==void 0;S(je?"  ":"   ",{type:"hideOnDate",todoId:U.id,hiddenDate:Y,wasDeleted:!te})}catch(Y){console.error("  :",Y.message),alert("   .")}},Xs=async U=>{try{const{error:Y}=await H.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",U.id);if(Y)throw Y;v&&v(U.id)}catch(Y){console.error(" :",Y.message),alert(" .")}},Da=async U=>{try{if(!U.routine_id){alert("  .");return}const{error:Y}=await H.from("routines").update({deleted:!0}).eq("id",U.routine_id);if(Y)throw Y;const le=typeof b=="string"?b:et(b),te=[...U.hidden_dates||[],le],{error:pe}=await H.from("todos").update({hidden_dates:te}).eq("id",U.id);if(pe)throw pe;v&&v(U.id),S("   ",{type:"stopRoutineFromToday",todoId:U.id,routineId:U.routine_id,hiddenDate:le})}catch(Y){console.error("  :",Y.message),alert("   .")}},hr=async U=>{try{if(!U.routine_id){alert("  .");return}const{error:Y}=await H.from("routines").update({deleted:!0}).eq("id",U.routine_id);if(Y)throw Y;const{error:le}=await H.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",U.id);if(le)throw le;v&&v(U.id),S("   ",{type:"deleteRoutineCompletely",todoId:U.id,routineId:U.routine_id})}catch(Y){console.error("   :",Y.message),alert("   .")}};_.useEffect(()=>{at==="history"&&!Na[e.id]&&!wn&&(async()=>{nn(!0);try{const{data:Y,error:le}=await H.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(le)throw le;fs(fe=>({...fe,[e.id]:Y||[]}))}catch(Y){console.error("Error fetching history:",Y)}finally{nn(!1)}})()},[at,e.id,Na,wn]),_.useEffect(()=>{at==="routine-stats"&&Me&&(!xt||xt.id!==Me.id)&&(async()=>{try{const{data:Y,error:le}=await H.from("todos").select("*").eq("routine_id",Me.id).eq("deleted",!1).maybeSingle();if(le)throw le;if(Y&&Y.visible_dates){const fe=Y.visible_dates.sort().map(te=>{var pe;return{id:`${Y.id}-${te}`,date:te,text:Y.text,completed:((pe=Y.completed_dates)==null?void 0:pe.includes(te))||!1}});hs(fe),Ks(Me)}}catch(Y){console.error("Error fetching routine history:",Y)}})()},[at,Me,xt]);const zl=U=>{if(j||Gt)return;const Y=U.type.includes("touch")?U.touches[0].clientX:U.clientX,le=U.type.includes("touch")?U.touches[0].clientY:U.clientY;zn(Y),ms(le),sa(!1),We(!0)},Qs=U=>{if(j||Gt||!Qe)return;const Y=U.type.includes("touch")?U.touches[0].clientX:U.clientX,le=U.type.includes("touch")?U.touches[0].clientY:U.clientY,fe=na-Y,te=Math.abs(aa-le);if(!Sn){const pe=Math.abs(fe)+te;if(pe>10){if(Math.abs(fe)>pe*.8)sa(!0),U.type.includes("touch")&&U.preventDefault();else if(te>Math.abs(fe)){We(!1);return}}}if(Sn){if(U.type.includes("touch")&&U.preventDefault(),fe>0&&fe<=100)ta(fe);else if(fe<0&&Vt>0){const pe=Vt+fe;ta(Math.max(0,pe)),zn(Y)}}},Ca=()=>{We(!1),Sn&&(sa(!1),ta(Vt>40?80:0))},Js=()=>{a(e.id)},Fc=U=>{ve(Y=>Y.includes(U)?Y.filter(le=>le!==U):[...Y,U])};return c.jsxs("div",{ref:Fe,style:Je,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:Js,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...At,...$n,className:`todo-item ${e.completed?"completed":""} ${E?"expanded":""} ${Gt?"drag-mode":""}`,style:{transform:`translateX(-${Vt}px)`,transition:Sn||Gt?"none":"transform 0.3s ease"},onMouseDown:zl,onMouseMove:Qs,onMouseUp:Ca,onMouseLeave:Ca,onTouchStart:zl,onTouchMove:Qs,onTouchEnd:Ca,onContextMenu:U=>U.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!j&&Kt&&C(!E),onDoubleClick:Dt,style:{cursor:j?"text":Kt?"pointer":"default"},children:j?c.jsx("input",{type:"text",value:z,onChange:U=>L(U.target.value),onBlur:kt,onKeyDown:xn,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${E?"expanded":""}`,children:e.text})}),(()=>{const U=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,Y=e.routine_id&&Me,le=y||e.is_pending_routine;return(f.length>0||U||Y||le)&&c.jsxs("div",{className:"todo-badges",children:[le&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),U&&(()=>{const fe=new Date(e.completed_at).toISOString().split("T")[0],te=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${fe} `,children:[te,""]})})(),Y&&(()=>{const fe=b||e.date,te=new Date(fe+"T00:00:00"),pe=te.getMonth()+1,Ee=te.getDate(),Ct=["","","","","","",""][te.getDay()],Zs=`${pe}/${Ee}(${Ct})`;return c.jsxs("span",{className:"routine-date-badge",title:`${Me.text} `,children:["for ",Zs]})})(),f.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:fe=>{fe.stopPropagation(),me?(ee(!1),ie(!1),q(!1)):(ee(!0),ie(!0),q(!1),Z(!1),Ke(!1))},children:""})]})})(),!j&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:U=>{U.stopPropagation(),Xe(!0),bn(null),vt(!1),Mt([]),tn("")},title:"",children:""}),me&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((U,Y)=>c.jsx(Bo,{todo:U,index:Y,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:h+1,routines:g,onShowRoutineHistory:x,showSuccessMessage:S,onOpenRoutineSetupModal:T,onOpenHistoryModal:O,currentPageDate:b},U.id)),Ce&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:V,onChange:U=>K(U.target.value),onKeyDown:U=>{U.key==="Enter"&&V.trim()&&(u(e.id,V.trim()),K(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{V.trim()&&(u(e.id,V.trim()),K(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{K("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),Yt&&c.jsx("div",{className:"modal-overlay",onClick:()=>Xe(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:U=>U.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>Xe(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:z,onChange:U=>L(U.target.value),onBlur:()=>{z.trim()!==""&&z!==e.text?s(e.id,z):z.trim()===""&&L(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${at==="nanotodo"?"active":""}`,onClick:()=>bn("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${at==="routine"?"active":""}`,onClick:()=>{bn("routine");const U=g.find(Y=>Y.id===e.routine_id);U?(Mt(U.days||[]),tn(U.time_slot||""),vt(!1)):(Mt([]),tn(""),vt(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${at==="history"?"active":""}`,onClick:()=>bn("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&Me&&c.jsxs("button",{className:`action-menu-item ${at==="routine-stats"?"active":""}`,onClick:()=>bn("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${at==="delete"?"active":""}`,onClick:()=>bn("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!at&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),at==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:f.map(U=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:U.completed,onChange:()=>n(U.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${U.completed?"completed":""}`,children:U.text}),c.jsx("button",{onClick:()=>a(U.id),className:"subtodo-delete-modal",title:"",children:""})]},U.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:V,onChange:U=>K(U.target.value),onKeyDown:U=>{U.key==="Enter"&&V.trim()&&(u(e.id,V.trim()),K(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{V.trim()&&(u(e.id,V.trim()),K(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),at==="routine"&&(()=>{const U=g.find(Y=>Y.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:U&&!Un?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ns.filter(Y=>U.days.includes(Y.key)).map(Y=>c.jsx("span",{className:"routine-day-badge",children:Y.label},Y.key))}),U.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",U.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:Y=>{Y.stopPropagation(),U&&(Mt(U.days),tn(U.time_slot||""),vt(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),U&&e&&(await m(e.id,e.text,[],null,!0),Xe(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:Un?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ns.map(Y=>c.jsx("button",{onClick:le=>{le.stopPropagation(),ia(Y.key)},className:`day-button-inline ${pt.includes(Y.key)?"selected":""}`,children:Y.label},Y.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Af,{value:_n,onChange:Y=>tn(Y)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),e&&(Un&&U?await m(e.id,e.text,pt,U.id,!1,_n):await m(e.id,e.text,pt,null,!1,_n),vt(!1),Xe(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:Y=>{Y.stopPropagation(),vt(!1),Mt([]),tn("")},className:"routine-cancel-button",children:""})]})]})})]})})(),at==="history"&&(()=>{const U=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],Y=U[0],le=U.map(te=>({id:`${e.id}-${te}`,date:te})),fe=Na[e.id]||[];return wn?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:i(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(Y?new Date(Y+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),le.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:le.map((te,pe)=>{const Ee=te.date===e.date,je=r(new Date(te.date+"T00:00:00"));return c.jsxs("span",{children:[pe>0&&"  ",c.jsxs("span",{style:Ee?{fontWeight:"bold",color:"#4CAF50"}:{},children:[je.split("(")[0],Ee?"()":""]})]},te.id)})})]}),(()=>{const te=new Date(e.created_at).toISOString().split("T")[0],pe=e.date;return te!==pe&&le.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),fe.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",fe.length,")"]}),fe.map(te=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[i(te.changed_at),te.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(te.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:pe=>{pe.stopPropagation(),Fc(te.id)},children:Rt.includes(te.id)?"":""})]}),Rt.includes(te.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:te.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:te.new_text})]})]})]},te.id))]})]})]})})(),at==="routine-stats"&&Me&&(()=>{if(!xt||xt.id!==Me.id||st.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Me.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!xt||xt.id!==Me.id?" ...":" ."})]});const U=st[0],Y=new Date(U.date),le=new Date,fe={};st.forEach(Ee=>{fe[Ee.date]=Ee.completed});const te=[];let pe=new Date(Y);for(;pe<=le;){const Ee=pe.getFullYear(),je=pe.getMonth(),Ct=`${Ee}-${je+1}`;te.find(la=>la.key===Ct)||te.push({key:Ct,year:Ee,month:je,days:[]});const Zs=te.find(la=>la.key===Ct),gs=et(pe),Ps=pe.getDay(),Ws=ra(Ps),mr=Me.days.includes(Ws);Zs.days.push({date:new Date(pe),dateStr:gs,day:pe.getDate(),dayOfWeek:Ps,isCompleted:fe[gs]===!0,isRoutineDay:mr,hasTodo:fe[gs]!==void 0}),pe.setDate(pe.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Me.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:te.map(Ee=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[Ee.year," ",Ee.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),Ee.days.length>0&&Array(Ee.days[0].dayOfWeek).fill(null).map((je,Ct)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${Ct}`)),Ee.days.map((je,Ct)=>{if(Ct>0&&je.day===1){const gs=6-Ee.days[Ct-1].dayOfWeek;return c.jsxs($e.Fragment,{children:[Array(gs).fill(null).map((Ps,Ws)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${Ct}-${Ws}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${je.isCompleted?"completed":""} ${je.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:je.day}),je.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},je.dateStr)}return c.jsxs("div",{className:`history-day-cell ${je.isCompleted?"completed":""} ${je.isRoutineDay?"":"not-routine-day"}`,title:`${je.dateStr}${je.isRoutineDay?"":" (  )"}${je.isCompleted?" - ":je.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:je.day}),je.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},je.dateStr)})]})]},Ee.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[st.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[st.filter(Ee=>Ee.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[st.filter(Ee=>!Ee.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[st.length>0?Math.round(st.filter(Ee=>Ee.completed).length/st.length*100):0,"%"]})]})]})]})]})})(),at==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var fe;const U=((fe=e.visible_dates)==null?void 0:fe.length)>0?e.visible_dates:[e.date||e.created_date],Y=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Aa(e),Xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Da(e),Xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await hr(e),Xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):U.length>1||Y?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Aa(e),Xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Xs(e),Xe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Xs(e),Xe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}const jy=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function NO(){const[e,t]=_.useState([]),[n,a]=_.useState(""),[s,i]=_.useState(""),[r,l]=_.useState(""),[o,u]=_.useState(!0),[f,h]=_.useState(!1),[m,g]=_.useState(!1),[x,T]=_.useState(new Date),[O,b]=_.useState(null),[y,v]=_.useState(!1),[S,E]=_.useState(!1),[C,j]=_.useState(""),[R,z]=_.useState(null),[L,X]=_.useState(!1),[ee,me]=_.useState([]),ie=(d,p=null)=>(j(d),z(p),E(!0),setTimeout(()=>{E(!1),j(""),z(null)},5e3)),Ce=async()=>{if(R)try{const{type:d,todoId:p,routineId:w,hiddenDate:M,wasDeleted:A}=R;if(d==="hideOnDate"){const{data:N,error:k}=await H.from("todos").select("*").eq("id",p).single();if(k)throw k;let B={hidden_dates:(N.hidden_dates||[]).filter(I=>I!==M)};A&&(B.deleted=!1,B.deleted_date=null);const{error:G}=await H.from("todos").update(B).eq("id",p);if(G)throw G}else if(d==="stopRoutineFromToday"){const{error:N}=await H.from("routines").update({deleted:!1}).eq("id",w);if(N)throw N;const{data:k,error:D}=await H.from("todos").select("*").eq("id",p).single();if(D)throw D;const B=(k.hidden_dates||[]).filter(I=>I!==M),{error:G}=await H.from("todos").update({hidden_dates:B}).eq("id",p);if(G)throw G}else if(d==="deleteRoutineCompletely"){const{error:N}=await H.from("routines").update({deleted:!1}).eq("id",w);if(N)throw N;const{error:k}=await H.from("todos").update({deleted:!1,deleted_date:null}).eq("id",p);if(k)throw k}E(!1),j(""),z(null),Ra()}catch(d){console.error("  :",d.message),alert("   .")}},[q,V]=_.useState(null),[K,oe]=_.useState(!1),[Z,Re]=_.useState([]),[ce,Ue]=_.useState(""),[we,Te]=_.useState([]),[Ke,vn]=_.useState(""),[Ht,Rt]=_.useState(!1),[ve,gt]=_.useState(!1),yt=_.useRef(new Set),[pn,en]=_.useState(null),[Yt,Xe]=_.useState(""),[at,bn]=_.useState(!1),[Un,vt]=_.useState(null),[pt,Mt]=_.useState([]),[_n,tn]=_.useState([]),[Na,fs]=_.useState([]),[wn,nn]=_.useState(!1),[xt,Ks]=_.useState(!1),[st,hs]=_.useState(!1),[Me,Vt]=_.useState(""),[ta,na]=_.useState(!1),[zn,aa]=_.useState(!1),[ms,Sn]=_.useState(""),[sa,Qe]=_.useState(!1),We=_.useRef(null),[At,$n]=_.useState(!1),[Fe,it]=_.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[It,Gt]=_.useState(null),[Je,Kt]=_.useState(!1),[Dt,kt]=_.useState([]),[xn,ia]=_.useState("1week"),[et,ra]=_.useState([]),[Aa,Xs]=_.useState(!1),[Da,hr]=_.useState(""),[zl,Qs]=_.useState(null),[Ca,Js]=_.useState(""),[Fc,U]=_.useState(!1),[Y,le]=_.useState(""),[fe,te]=_.useState(!1),[pe,Ee]=_.useState(!1),[je,Ct]=_.useState(null),[Zs,gs]=_.useState({}),[Ps,Ws]=_.useState([]),[mr,la]=_.useState([]),[eu,$l]=_.useState(!1),[tu,gr]=_.useState(""),[Xn,u_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Fs,ei]=_.useState(!1),[Kh,Bl]=_.useState(["memo","routine","normal","key-thoughts"]),nu=_.useRef(new Set),au=_.useRef(!1),ti=_.useRef(null),[d_,f_]=_.useState(0),su=_.useRef(null),[h_,yr]=_.useState(!1),[Ll,iu]=_.useState(null),Le=d=>{const p=d.getFullYear(),w=String(d.getMonth()+1).padStart(2,"0"),M=String(d.getDate()).padStart(2,"0");return`${p}-${w}-${M}`},Qn=d=>{const p=String(d.getFullYear()).slice(2),w=String(d.getMonth()+1).padStart(2,"0"),M=String(d.getDate()).padStart(2,"0"),N=["","","","","","",""][d.getDay()];return`${p}.${w}.${M}(${N})`},Xh=d=>{const p=new Date;return Le(d)===Le(p)},ql=()=>{if(et.length===0)return"";const d=Math.floor(Math.random()*et.length);return et[d]},m_=()=>{U(!0);let d=ql(),p=0;for(;d===Y&&et.length>1&&p<10;)d=ql(),p++;setTimeout(()=>{U(!1),le(d)},1e3)},ys=d=>{const p=new Date(d),w=String(p.getFullYear()).slice(2),M=String(p.getMonth()+1).padStart(2,"0"),A=String(p.getDate()).padStart(2,"0"),N=String(p.getHours()).padStart(2,"0"),k=String(p.getMinutes()).padStart(2,"0"),B=["","","","","","",""][p.getDay()];return`${w}.${M}.${A}(${B}) ${N}:${k}`},g_=async()=>{try{const d=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),w=[],M=[],A="2025-11-14";w.push({text:`[${d}] : 14--`,date:A,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${d}] : 14-14`,date:A,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${d}] : 14-15`,date:A,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${d}] : 14-16`,date:A,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const N="2025-11-15";w.push({text:`[${d}] : 15--`,date:N,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${d}] : 15-15`,date:N,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${d}] : 15-16`,date:N,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const k="2025-11-16";w.push({text:`[${d}] : 16-`,date:k,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${d}] : 16-16`,date:k,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),w.push({text:`[${d}] : 14-15-`,date:N,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${d}] : 14-15-15`,date:N,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),w.push({text:`[${d}] : 15-16-`,date:k,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${d}] : 15-16-16`,date:k,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${d}] : 14-16-`,date:k,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${d}] : 14-16-16`,date:k,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const D="2025-11-17";w.push({text:`[${d}] : 16-17-`,date:D,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${d}] : 15-17-`,date:D,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${d}] : 14-17-`,date:D,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const B="2025-11-18";w.push({text:`[${d}] : 16-18-`,date:B,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${d}] : 15-18-`,date:B,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:G,error:I}=await H.from("todos").insert(w).select();if(I)throw I;const P=G.find(ne=>ne.text.includes("14--"));P&&M.push({todo_id:P.id,previous_text:`[${d}] : 14--1`,new_text:`[${d}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:N},{todo_id:P.id,previous_text:`[${d}] : 14--2`,new_text:`[${d}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:k});const be=G.find(ne=>ne.text.includes("15--"));if(be&&M.push({todo_id:be.id,previous_text:`[${d}] : 15--1`,new_text:`[${d}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:k}),M.length>0){const{error:ne}=await H.from("todo_history").insert(M);ne&&console.error("  :",ne.message)}fs(ne=>[...ne,{sessionId:d,createdAt:new Date().toISOString(),count:w.length,historyCount:M.length}]),alert(`    !
: ${w.length}
: ${M.length}
 ID: ${d}`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},y_=async d=>{if(window.confirm(`   "${d}"   ?

      ,     .`))try{const{data:w,error:M}=await H.from("todos").select("id").like("text",`[${d}]%`);if(M)throw M;if(w&&w.length>0){const N=w.map(D=>D.id),{error:k}=await H.from("todo_history").delete().in("todo_id",N);k&&console.error("  :",k.message)}const{error:A}=await H.from("todos").delete().like("text",`[${d}]%`);if(A)throw A;fs(N=>N.filter(k=>k.sessionId!==d)),alert(`  ${d}  !`),Ra()}catch(w){console.error("   :",w.message),alert("    : "+w.message)}},v_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:w}=await H.from("todos").select("id").like("text","[DUMMY-%");if(w)throw w;if(p&&p.length>0){const A=p.map(k=>k.id),{error:N}=await H.from("todo_history").delete().in("todo_id",A);N&&console.error("  :",N.message)}const{error:M}=await H.from("todos").delete().like("text","[DUMMY-%");if(M)throw M;fs([]),alert("     !"),Ra()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},p_=async()=>{try{const{data:d,error:p}=await H.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!d||d.length===0){alert(" .");return}const w={};d.forEach(I=>{w[I.text]||(w[I.text]=[]),w[I.text].push(I)});const M=Object.entries(w).filter(([I,P])=>P.length>1);if(M.length===0){alert("  .");return}let A=`  :

`,N=[];if(M.forEach(([I,P])=>{A+=`"${I}" - ${P.length}
`;const be=P.slice(1);N.push(...be),be.forEach(_e=>{const an=new Date(_e.created_at).toLocaleString("ko-KR");A+=`    : ${an}
`});const ne=P[0],re=new Date(ne.created_at).toLocaleString("ko-KR");A+=`   : ${re}

`}),A+=`
 ${N.length}   .`,!window.confirm(A+`

     ,     .

?`))return;const D=N.map(I=>I.id),{error:B}=await H.from("todo_history").delete().in("todo_id",D);B&&console.error("  :",B.message);const{error:G}=await H.from("todos").delete().in("id",D);if(G)throw G;alert(` ${N.length}   .`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},b_=()=>{const d=new Date(x);d.setDate(d.getDate()-1),T(d)},__=()=>{const d=new Date(x);d.setDate(d.getDate()+1),T(d)},w_=d=>{const p=new Date(d.target.value+"T00:00:00");T(p)},S_=async(d,p)=>{try{const w=Le(d),M=Le(p),{data:A,error:N}=await H.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(N)throw N;const k=(A||[]).filter(D=>D.hidden_dates&&Array.isArray(D.hidden_dates)&&D.hidden_dates.includes(w)?!1:D.visible_dates&&Array.isArray(D.visible_dates)&&D.visible_dates.length>0?D.visible_dates.includes(w):D.date===w);if(k.length===0)return;for(const D of k){let B=D.visible_dates||[D.date];if(B.includes(M))continue;const G=[...B,M].sort(),{error:I}=await H.from("todos").update({visible_dates:G}).eq("id",D.id);I&&console.error(` ${D.id}  :`,I.message)}}catch(w){console.error("   :",w.message)}},Qh=async()=>{try{const{data:d,error:p}=await H.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(p)throw p;Re(d||[])}catch(d){console.error("  :",d.message)}},x_=async()=>{if(!(ce.trim()===""||Ht))try{Rt(!0);const d={text:ce,days:we,start_date:Le(x)};Ke&&(d.time_slot=Ke);const{data:p,error:w}=await H.from("routines").insert([d]).select();if(w)throw w;Re([p[0],...Z]),Ue(""),Te([]),vn("")}catch(d){console.error("  :",d.message)}finally{Rt(!1)}},ni=async(d,p,w,M=null,A=!1,N="",k=null)=>{try{if(A){const{error:D}=await H.from("todos").update({routine_id:null}).eq("id",d);if(D)throw D;t(B=>B.map(G=>G.id===d?{...G,routine_id:null}:G));return}if(M){const{error:D}=await H.from("routines").update({days:w,time_slot:N}).eq("id",M);if(D)throw D;const{error:B}=await H.from("todos").update({is_pending_routine:w.length===0}).eq("id",d);if(B)throw B;Re(G=>G.map(I=>I.id===M?{...I,days:w,time_slot:N}:I)),t(G=>G.map(I=>I.id===d?{...I,is_pending_routine:w.length===0}:I))}else{const D={text:p,days:w,time_slot:N,start_date:k||Le(x)},{data:B,error:G}=await H.from("routines").insert([D]).select();if(G)throw G;const{error:I}=await H.from("todos").update({routine_id:B[0].id,is_pending_routine:w.length===0}).eq("id",d);if(I)throw I;t(P=>P.map(be=>be.id===d?{...be,routine_id:B[0].id,is_pending_routine:w.length===0}:be)),Re(P=>[B[0],...P])}}catch(D){console.error("  :",D.message)}},E_=d=>{en(d.id),Xe(d.text),tn(d.days)},Jh=()=>{en(null),Xe(""),tn([])},T_=async()=>{if(!(!pn||Yt.trim()===""||_n.length===0))try{const{error:d}=await H.from("routines").update({text:Yt.trim(),days:_n}).eq("id",pn);if(d)throw d;Re(Z.map(p=>p.id===pn?{...p,text:Yt.trim(),days:_n}:p)),Jh()}catch(d){console.error("  :",d.message)}},j_=d=>{tn(p=>p.includes(d)?p.filter(w=>w!==d):[...p,d])},O_=async d=>{const p=Z.find(A=>A.id===d),w=p?p.text:" ";if(window.confirm(`  "${w}"() ?

    ,     .
(   )`))try{const{error:A}=await H.from("routines").update({deleted:!0}).eq("id",d);if(A)throw A;const{error:N}=await H.from("todos").update({routine_id:null}).eq("routine_id",d);N&&console.error("  ID  :",N.message),Re(Z.filter(k=>k.id!==d)),t(k=>k.map(D=>D.routine_id===d?{...D,routine_id:null}:D))}catch(A){console.error("  :",A.message)}},N_=async d=>{if(!au.current)try{au.current=!0;const{data:p,error:w}=await H.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(w)throw w;if(!p||p.length===0)return;const M=p.filter(A=>{const N=new Date(A.created_at);return!(Le(N)>=d||(A.visible_dates||[]).includes(d)||(A.hidden_dates||[]).includes(d))});for(const A of M){const N=[...A.visible_dates||[],d],{error:k}=await H.from("todos").update({visible_dates:N}).eq("id",A.id);k&&console.error(` ${A.id}  :`,k.message)}}catch(p){console.error("  :",p.message)}finally{au.current=!1}},Zh=async d=>{if(!nu.current.has(d))try{nu.current.add(d);const p=new Date(d),w=jy(p.getDay()),{data:M,error:A}=await H.from("routines").select("*").eq("deleted",!1);if(A)throw A;const N=M.filter(k=>{const D=k.days||[],B=D.length===0||D.includes(w);if(k.start_date){const G=new Date(k.start_date),I=p>=G;return B&&I}return B});if(N.length===0)return;for(const k of N){const D=k.text,{data:B,error:G}=await H.from("todos").select("*").eq("routine_id",k.id).eq("deleted",!1);if(G)throw G;if(B&&B.length>1){console.warn(` ${k.id}    (${B.length}).     .`);for(let P=1;P<B.length;P++)await H.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",B[P].id)}const I=B&&B.length>0?B[0]:null;if(I){const P=I.visible_dates||[];if(P.includes(d))continue;const be=[...P,d].sort(),{error:ne}=await H.from("todos").update({visible_dates:be}).eq("id",I.id);ne&&console.error("    :",ne.message)}else{const{error:P}=await H.from("todos").insert([{text:D,completed:!1,date:d,visible_dates:[d],hidden_dates:[],order_index:0,routine_id:k.id}]);P&&console.error("   :",P.message)}}}catch(p){console.error("   :",p.message)}finally{setTimeout(()=>{nu.current.delete(d)},1e3)}},A_=async()=>{const p=Le(new Date);await Zh(p)},Hl=async d=>{try{const{data:p,error:w}=await H.from("todos").select("*").eq("routine_id",d.id).eq("deleted",!1);if(w)throw w;const M=p&&p.length>0?p[0]:null;if(M&&M.visible_dates){const A=M.visible_dates.sort().map(N=>({id:`${M.id}-${N}`,date:N,text:M.text,completed:M.completed,routine_id:M.routine_id}));Mt(A)}else Mt([]);vt(d),bn(!0)}catch(p){console.error("   :",p.message),alert("   : "+p.message)}},Ph=()=>{bn(!1),vt(null),Mt([])},D_=()=>{oe(!0),Qh()},Wh=()=>{oe(!1),Ue(""),Te([])},C_=d=>{Te(p=>p.includes(d)?p.filter(w=>w!==d):[...p,d])};_.useEffect(()=>{let d=null;const p=()=>{document.body.classList.add("is-scrolling"),d&&clearTimeout(d),d=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p),d&&clearTimeout(d)}},[]),_.useEffect(()=>{Qh()},[]),_.useEffect(()=>{Yl()},[]),_.useEffect(()=>{im()},[]),_.useEffect(()=>{W_()},[]),_.useEffect(()=>{const d=setTimeout(()=>{Fe.length>0&&F_()},1e3);return()=>clearTimeout(d)},[Fe]),_.useEffect(()=>{ew()},[]),_.useEffect(()=>{et.length>0&&!Y&&le(ql())},[et]),_.useEffect(()=>{if(!ti.current)return;const d=ti.current,p=Xn==="horizontal";let w=!1,M=0,A=0,N=0;const k=P=>{P.target.closest(".section-block")||(w=!0,M=p?P.pageX:P.pageY,A=p?d.scrollLeft:d.scrollTop,d.style.transition="none",d.style.transform=p?"translateX(0)":"translateY(0)",N=0)},D=()=>{w&&N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=p?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),w=!1},B=()=>{N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=p?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),w=!1},G=P=>{if(!w)return;P.preventDefault();const ne=((p?P.pageX:P.pageY)-M)*1.5,re=A-ne,_e=p?d.scrollWidth-d.clientWidth:d.scrollHeight-d.clientHeight;if(re<0){const an=-re;N=Math.min(an*.3,100),p?(d.scrollLeft=0,d.style.transform=`translateX(${N}px)`):(d.scrollTop=0,d.style.transform=`translateY(${N}px)`)}else if(re>_e){const an=re-_e;N=-Math.min(an*.3,100),p?(d.scrollLeft=_e,d.style.transform=`translateX(${N}px)`):(d.scrollTop=_e,d.style.transform=`translateY(${N}px)`)}else N=0,d.style.transform=p?"translateX(0)":"translateY(0)",p?d.scrollLeft=re:d.scrollTop=re},I=P=>{p&&P.target.closest(".section-block")&&P.deltaX!==0&&P.preventDefault()};return d.addEventListener("mousedown",k),document.addEventListener("mouseup",B),document.addEventListener("mouseleave",D),d.addEventListener("mousemove",G),d.addEventListener("wheel",I,{passive:!1}),()=>{d.removeEventListener("mousedown",k),document.removeEventListener("mouseup",B),document.removeEventListener("mouseleave",D),d.removeEventListener("mousemove",G),d.removeEventListener("wheel",I)}},[Xn,e,Z]),_.useEffect(()=>{if(Xn!=="horizontal"||!ti.current)return;const d=ti.current,p=()=>{const w=d.querySelectorAll(".section-block");if(w.length===0)return;const M=d.getBoundingClientRect(),A=M.left+M.width/2;let N=0,k=1/0;w.forEach((D,B)=>{const G=D.getBoundingClientRect(),I=G.left+G.width/2,P=Math.abs(I-A);P<k&&(k=P,N=B)}),f_(N)};return d.addEventListener("scroll",p),p(),()=>d.removeEventListener("scroll",p)},[Xn,e,Z]),_.useEffect(()=>{if(!su.current)return;const d=su.current;let p=!1,w=0,M=0,A=0;const N=G=>{G.target.closest(".section-block")||(p=!0,w=G.pageY,M=d.scrollTop,d.style.transition="none",d.style.transform="translateY(0)",A=0)},k=()=>{p&&A!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",A=0},300)),p=!1},D=()=>{A!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",A=0},300)),p=!1},B=G=>{if(!p)return;G.preventDefault();const P=(G.pageY-w)*1.5,be=M-P,ne=d.scrollHeight-d.clientHeight;if(be<0){const re=-be;A=Math.min(re*.3,100),d.scrollTop=0,d.style.transform=`translateY(${A}px)`}else if(be>ne){const re=be-ne;A=-Math.min(re*.3,100),d.scrollTop=ne,d.style.transform=`translateY(${A}px)`}else A=0,d.style.transform="translateY(0)",d.scrollTop=be};return d.addEventListener("mousedown",N),document.addEventListener("mouseup",D),document.addEventListener("mouseleave",k),d.addEventListener("mousemove",B),()=>{d.removeEventListener("mousedown",N),document.removeEventListener("mouseup",D),document.removeEventListener("mouseleave",k),d.removeEventListener("mousemove",B)}},[e,Z]),_.useEffect(()=>{Je&&am()},[xn]),_.useEffect(()=>{const d=async()=>{const w=new Date,M=new Date(w);M.setHours(24,0,0,0);const A=M.getTime()-w.getTime();return setTimeout(async()=>{const k=new Date(w),D=new Date(w);D.setDate(D.getDate()+1),await S_(k,D),await A_(),T(new Date),d()},A)},p=d();return()=>clearTimeout(p)},[]),_.useEffect(()=>{Ra();const d=Le(x),p=H.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${d}`},w=>{w.eventType==="INSERT"?t(M=>M.some(N=>N.id===w.new.id)?M:[...M,w.new].sort((N,k)=>N.order_index-k.order_index)):w.eventType==="UPDATE"?t(M=>yt.current.has(w.new.id)?M:M.map(A=>A.id===w.new.id?w.new:A).sort((A,N)=>A.order_index-N.order_index)):w.eventType==="DELETE"&&t(M=>M.filter(A=>A.id!==w.old.id))}).subscribe(w=>{});return()=>{H.removeChannel(p)}},[x]),_.useEffect(()=>{if(f){const d=window.scrollY,p=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",p>0&&(document.body.style.paddingRight=`${p}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,d)}}},[f]);const Yl=async()=>{try{const{data:d,error:p}=await H.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(p)throw p;if(d&&d.length>0){const w=d.map(M=>M.message);ra(w),Y||le(w[0])}}catch(d){console.error("   :",d.message)}},Fh=async d=>{try{const{data:p}=await H.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),w=p&&p.length>0?p[0].order_index:0,{error:M}=await H.from("encouragement_messages").insert([{message:d,order_index:w+1}]);if(M)throw M;await Yl()}catch(p){console.error("   :",p.message),alert("   .")}},R_=async(d,p)=>{try{const{data:w}=await H.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!w||d>=w.length)throw new Error("   .");const M=w[d],{error:A}=await H.from("encouragement_messages").update({message:p}).eq("id",M.id);if(A)throw A;await Yl()}catch(w){console.error("   :",w.message),alert("   .")}},M_=async d=>{try{const{data:p}=await H.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!p||d>=p.length)throw new Error("   .");const w=p[d],{error:M}=await H.from("encouragement_messages").delete().eq("id",w.id);if(M)throw M;await Yl()}catch(p){console.error("   :",p.message),alert("   .")}},Ra=async()=>{try{u(!0);const d=Le(x);Xh(x)&&await N_(d),await Zh(d);const{data:p,error:w}=await H.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const M=(p||[]).filter(A=>A.hidden_dates&&Array.isArray(A.hidden_dates)&&A.hidden_dates.includes(d)?!1:A.visible_dates&&Array.isArray(A.visible_dates)&&A.visible_dates.length>0?A.visible_dates.includes(d):A.date===d);t(M)}catch(d){console.error("   :",d.message)}finally{u(!1)}},k_=async()=>{try{const{data:d,error:p}=await H.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(p)throw p;me(d||[])}catch(d){console.error("  :",d.message)}},U_=async()=>{if(!(s.trim()===""||m))try{g(!0);const d=Le(x),{data:p,error:w}=await H.from("routines").insert([{text:s,days:[],start_date:d}]).select();if(w)throw w;const M=p[0],A=e.filter(B=>!B.parent_id&&B.is_pending_routine),N=A.length>0?Math.max(...A.map(B=>B.order_index))+1:1,{data:k,error:D}=await H.from("todos").insert([{text:s,completed:!1,order_index:N,date:d,visible_dates:[d],hidden_dates:[],routine_id:M.id,is_pending_routine:!0}]).select();if(D)throw D;Re([M,...Z]),t([...e,k[0]]),i("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},z_=async()=>{if(!(r.trim()===""||m))try{g(!0);const d=e.filter(N=>!N.parent_id&&N.routine_id===null),p=d.length>0?Math.max(...d.map(N=>N.order_index))+1:1,w=Le(x),{data:M,error:A}=await H.from("todos").insert([{text:r,completed:!1,order_index:p,date:w,visible_dates:[w],hidden_dates:[]}]).select();if(A)throw A;t([...e,M[0]]),l("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},ru=async d=>{const p=e.find(w=>w.id===d);if(p)try{const w=!p.completed,M=w?new Date().toISOString():null,{error:A}=await H.from("todos").update({completed:w,completed_at:M}).eq("id",d);if(A)throw A;t(e.map(N=>N.id===d?{...N,completed:w,completed_at:M}:N))}catch(w){console.error("   :",w.message)}},lu=d=>{t(e.filter(p=>p.id!==d))},ou=async d=>{var A;const p=e.find(N=>N.id===d);if(!p)return;const w=((A=p.visible_dates)==null?void 0:A.length)>0?p.visible_dates:[p.date||p.created_date],M=p.original_todo_id!==null&&p.original_todo_id!==void 0;w.length>1||M?(iu(p),yr(!0)):await $_(d)},$_=async d=>{try{const p=e.find(A=>A.id===d);if(!p)return;b(p);const w=Le(x),{error:M}=await H.from("todos").update({deleted:!0,deleted_date:w}).eq("id",d);if(M)throw M;t(e.filter(A=>A.id!==d)),v(!0),setTimeout(()=>{v(!1),b(null)},5e3)}catch(p){console.error("   :",p.message)}},B_=async d=>{try{const p=Le(x),M=[...d.hidden_dates||[],p],{error:A}=await H.from("todos").update({hidden_dates:M}).eq("id",d.id);if(A)throw A;t(e.filter(N=>N.id!==d.id)),yr(!1),iu(null)}catch(p){console.error(" :",p.message)}},L_=async d=>{try{const p=Le(x),{error:w}=await H.from("todos").update({deleted:!0,deleted_date:p}).eq("id",d.id);if(w)throw w;t(e.filter(M=>M.id!==d.id)),yr(!1),iu(null)}catch(p){console.error(" :",p.message)}},q_=async()=>{if(O)try{const{error:d}=await H.from("todos").update({deleted:!1,deleted_date:null}).eq("id",O.id);if(d)throw d;t(p=>{const w={...O,deleted:!1,deleted_date:null};return[...p,w].sort((A,N)=>A.order_index-N.order_index)}),v(!1),b(null)}catch(d){console.error("  :",d.message)}},H_=async d=>{if(window.confirm(`  ?

      .`))try{const{error:w}=await H.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",d);if(w)throw w;me(ee.filter(M=>M.id!==d)),Ra(),alert(" !")}catch(w){console.error(" :",w.message),alert("  : "+w.message)}},Y_=async d=>{if(window.confirm(`     ?

    .`))try{const{error:w}=await H.from("todos").delete().eq("id",d);if(w)throw w;me(ee.filter(M=>M.id!==d)),alert("  .")}catch(w){console.error("  :",w.message),alert("   : "+w.message)}},V_=async()=>{if(!(ee.length===0||!window.confirm(`   ?

${ee.length}   .
    .`)))try{const p=ee.map(M=>M.id),{error:w}=await H.from("todos").delete().in("id",p);if(w)throw w;me([]),alert(` ${p.length}   .`)}catch(p){console.error("  :",p.message),alert("   : "+p.message)}},I_=()=>{X(!0),k_()},em=()=>{X(!1)},G_=async()=>{Kt(!0),await am()},tm=()=>{Kt(!1),kt([])},cu=async d=>{Ct(d);try{const{data:p,error:w}=await H.from("todo_history").select("*").eq("todo_id",d.id).order("changed_at",{ascending:!1});if(w)throw w;gs(M=>({...M,[d.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}te(!0)},nm=()=>{te(!1),Ct(null),Ws([])},K_=d=>{Ws(p=>p.includes(d)?p.filter(w=>w!==d):[...p,d])},uu=d=>{Ct(d);const p=Z.find(w=>w.id===d.routine_id);p?(la(p.days||[]),gr(p.time_slot||""),$l(!1)):(la([]),gr(""),$l(!0)),Ee(!0)},vr=()=>{Ee(!1),Ct(null),la([]),gr(""),$l(!1)},X_=d=>{la(p=>p.includes(d)?p.filter(w=>w!==d):[...p,d])},am=async()=>{try{const d=new Date,p=Le(d);let w=null;if(xn!=="all")switch(w=new Date(d),xn){case"1week":w.setDate(d.getDate()-7);break;case"2weeks":w.setDate(d.getDate()-14);break;case"1month":w.setMonth(d.getMonth()-1);break;case"3months":w.setMonth(d.getMonth()-3);break;case"6months":w.setMonth(d.getMonth()-6);break}let M=H.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});w&&(M=M.gte("date",Le(w)));const{data:A,error:N}=await M;if(N)throw N;const k={};for(const B of A||[]){const G=B.original_todo_id||B.id;k[G]||(k[G]=[]),k[G].push(B)}const D=Object.entries(k).map(([B,G])=>{const I=G.sort((_e,an)=>new Date(_e.date)-new Date(an.date)),P=I[0],be=I.map(_e=>_e.date);let ne=null;for(const _e of I)if(_e.completed&&_e.completed_at){const an=new Date(_e.completed_at);ne=Le(an);break}const re=I.find(_e=>_e.date===p);return{text:P.text,originalId:parseInt(B),createdAt:P.created_at,startDate:be[0],endDate:be[be.length-1],dates:be,completed:(re==null?void 0:re.completed)||!1,completedDate:ne}}).sort((B,G)=>new Date(B.createdAt)-new Date(G.createdAt));kt(D)}catch(d){console.error("   :",d.message)}},Q_=async()=>{hs(!0),await im()},sm=()=>{hs(!1),na(!1),Vt(ms)},im=async()=>{try{const{data:d,error:p}=await H.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(p)throw p;const w=d&&d.length>0?d[0].content:ud;Vt(w),Sn(w)}catch(d){console.error("   :",d.message),Vt(ud),Sn(ud)}},J_=()=>{na(!0)},Z_=()=>{Qe(!0),Sn(Me),setTimeout(()=>{We.current&&We.current.focus()},0)},rm=async()=>{if(!zn)try{aa(!0);const{data:d}=await H.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);d&&d.length>0?await H.from("spec_memos").update({content:Me,updated_at:new Date().toISOString()}).eq("id",d[0].id):await H.from("spec_memos").insert([{content:Me}]),Sn(Me),Qe(!1)}catch(d){console.error("  :",d.message),alert("  .")}finally{aa(!1)}},lm=()=>{Vt(ms),Qe(!1)},P_=d=>{(d.metaKey||d.ctrlKey)&&d.key==="s"&&(d.preventDefault(),rm()),d.key==="Escape"&&(d.preventDefault(),lm())},Vl=d=>Array.isArray(d)?d.map(p=>({...p,children:Array.isArray(p.children)?Vl(p.children):[]})):[],W_=async()=>{try{const{data:d,error:p}=await H.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}if(d&&d.setting_value){const w=Vl(JSON.parse(d.setting_value));it(w),localStorage.setItem("keyThoughtsBlocks",JSON.stringify(w))}else{const w=localStorage.getItem("keyThoughtsBlocks");w&&it(Vl(JSON.parse(w)))}}catch(d){console.error("   :",d.message);const p=localStorage.getItem("keyThoughtsBlocks");p&&it(Vl(JSON.parse(p)))}},F_=async()=>{try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(Fe));const{data:d,error:p}=await H.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}d?await H.from("user_settings").update({setting_value:JSON.stringify(Fe)}).eq("setting_key","key_thoughts_blocks"):await H.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(Fe)}])}catch(d){console.error("   :",d.message)}},ew=async()=>{try{const{data:d,error:p}=await H.from("user_settings").select("setting_value").eq("setting_key","section_order").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}if(d&&d.setting_value){const w=JSON.parse(d.setting_value);Bl(w),localStorage.setItem("sectionOrder",JSON.stringify(w))}else{const w=localStorage.getItem("sectionOrder");w&&Bl(JSON.parse(w))}}catch(d){console.error("   :",d.message);const p=localStorage.getItem("sectionOrder");p&&Bl(JSON.parse(p))}},tw=async d=>{try{localStorage.setItem("sectionOrder",JSON.stringify(d));const{data:p,error:w}=await H.from("user_settings").select("id").eq("setting_key","section_order").single();w&&w.code!=="PGRST116"&&console.error("   :",w.message),p?await H.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await H.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d)}])}catch(p){console.error("   :",p.message)}},nw=async()=>{if(!zn)try{aa(!0);const{data:d,error:p}=await H.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);if(p)throw p;if(d&&d.length>0){const{error:w}=await H.from("spec_memos").update({content:Me,updated_at:new Date().toISOString()}).eq("id",d[0].id);if(w)throw w}else{const{error:w}=await H.from("spec_memos").insert([{content:Me}]);if(w)throw w}Sn(Me),na(!1)}catch(d){console.error("  :",d.message)}finally{aa(!1)}},aw=()=>{Vt(ms),na(!1)},du=d=>{V(q===d?null:d)},fu=async(d,p)=>{if(!(!p||p.trim()===""))try{const M=e.filter(D=>D.parent_id===d).length+1,A=Le(x),{data:N,error:k}=await H.from("todos").insert([{text:p.trim(),completed:!1,order_index:M,date:A,parent_id:d}]).select();if(k)throw k;t([...e,N[0]])}catch(w){console.error("    :",w.message)}},hu=async(d,p)=>{try{let w=null;yt.current.add(d);const M=new Date().toISOString();if(t(k=>(w=k.find(D=>D.id===d),!w||w.text===p?(yt.current.delete(d),k):k.map(D=>D.id===d?{...D,text:p,updated_at:M}:D))),!w||w.text===p)return;const{error:A}=await H.from("todo_history").insert([{todo_id:d,previous_text:w.text,new_text:p,changed_on_date:w.date}]);if(A&&console.error("  :",A.message),w.original_todo_id){const{data:k,error:D}=await H.from("todos").select("text, date").eq("id",w.original_todo_id).single();!D&&k&&await H.from("todo_history").insert([{todo_id:w.original_todo_id,previous_text:w.text,new_text:p,changed_on_date:w.date}])}const{error:N}=await H.from("todos").update({text:p}).eq("id",d);N?(console.error("   :",N.message),t(k=>k.map(D=>D.id===d?w:D)),yt.current.delete(d)):setTimeout(()=>{yt.current.delete(d)},5e3)}catch(w){console.error("   :",w.message),yt.current.delete(d)}},sw=wf($a(pl,{activationConstraint:{delay:300,tolerance:8}}),$a(Tf,{activationConstraint:{delay:500,tolerance:10,distance:10}}),$a(vl,{coordinateGetter:Nf})),iw=wf($a(pl,{activationConstraint:{distance:5}}),$a(Tf,{activationConstraint:{delay:100,tolerance:5}}),$a(vl,{coordinateGetter:Nf})),rw=d=>{const{active:p,over:w}=d;p.id!==(w==null?void 0:w.id)&&Bl(M=>{const A=M.indexOf(p.id),N=M.indexOf(w.id),k=Ec(M,A,N);return tw(k),k})},lw=d=>{Fs&&d.target===d.currentTarget&&ei(!1)},ow=()=>{h(!0)},cw=()=>{h(!1)},uw=async d=>{h(!1);const{active:p,over:w}=d;if(!w||p.id===w.id)return;const M=e.findIndex(k=>k.id===p.id),A=e.findIndex(k=>k.id===w.id),N=Ec(e,M,A);t(N);try{const k=N.map((D,B)=>({id:D.id,order_index:B+1}));for(const D of k)await H.from("todos").update({order_index:D.order_index}).eq("id",D.id)}catch(k){console.error("  :",k.message),Ra()}};return c.jsxs("div",{className:`app ${f?"dragging-active":""}`,children:[ve&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>gt(!1)}),c.jsxs("div",{className:`sidebar ${ve?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>gt(!1),children:""})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=Xn==="vertical"?"horizontal":"vertical";u_(d),localStorage.setItem("viewMode",d),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:Xn==="vertical"?"":""}),c.jsx("span",{children:Xn==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{I_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{D_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Q_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=document.querySelector(".key-thoughts-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"}),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{G_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Xs(!0),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{nn(!0),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]})]})]}),c.jsxs("div",{className:`container ${Xn==="horizontal"?"container-wide":""}`,children:[c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>gt(!ve),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Qn(x)}),c.jsx("input",{type:"date",value:Le(x),onChange:w_,className:"date-picker-input"})]}),c.jsx("button",{onClick:b_,className:"date-nav-button",children:""}),c.jsx("button",{onClick:__,className:"date-nav-button",children:""})]}),c.jsx("div",{className:"encouragement-section",children:Xh(x)?c.jsx("div",{className:"encouragement-message",onClick:m_,title:"    !",children:Fc?c.jsx("span",{className:"encouragement-emoji",children:"  "}):Y||ql()}):c.jsx("button",{onClick:()=>T(new Date),className:"today-link",title:" ",children:"  "})}),Fs&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>ei(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})}),c.jsxs("div",{className:"content-scrollable",ref:su,children:[c.jsx(Of,{sensors:sw,collisionDetection:Sf,onDragStart:ow,onDragEnd:uw,onDragCancel:cw,children:c.jsx("div",{className:"todo-list",children:o?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const d=e.filter(M=>!M.parent_id&&M.routine_id!==null&&!M.is_pending_routine),p=e.filter(M=>!M.parent_id&&M.is_pending_routine),w=e.filter(M=>!M.parent_id&&M.routine_id===null&&!M.is_pending_routine);return c.jsx(Of,{sensors:iw,collisionDetection:Sf,onDragEnd:rw,children:c.jsx(Cr,{items:Kh,strategy:mO,children:c.jsx("div",{ref:ti,className:`sections-container ${Xn==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:lw,children:Kh.map(M=>M==="memo"?c.jsx(_o,{id:"memo",disabled:!Fs,onLongPress:()=>ei(!0),children:c.jsxs(jO,{title:"  ",className:"memo-section section-block",content:Me,setContent:Vt,isEditing:sa,isSaving:zn,textareaRef:We,onStartEdit:Z_,onSave:rm,onCancel:lm,onKeyDown:P_,placeholder:" ...",emptyMessage:" ",children:[!sa&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>Ks(!xt),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.1)",A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.05)",A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:xt?"":""})]})}),xt&&!sa&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const A=new Date,N=Il=>{const vs=new Date(A);return vs.setDate(vs.getDate()+Il),vs.toISOString().split("T")[0]},k=Il=>{const vs=new Date(A);return vs.setDate(vs.getDate()+Il),vs.getDate()},D=Date.now(),B=k(-2),G=k(-1),I=k(0),P=k(1),be=k(2),ne=N(-2),re=N(-1),_e=N(0),an=N(1),om=N(2),dw=`--         (${_e} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${B}--', '${ne}', false, '${ne}T09:00:00+09:00', 1001),
  ('[DUMMY-${D}] : ${B}-${B}', '${ne}', true, '${ne}T09:10:00+09:00', 1002),
  ('[DUMMY-${D}] : ${B}-${G}', '${ne}', true, '${ne}T09:20:00+09:00', 1003),
  ('[DUMMY-${D}] : ${B}-${I}', '${ne}', true, '${ne}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${G}--', '${re}', false, '${re}T10:00:00+09:00', 1005),
  ('[DUMMY-${D}] : ${G}-${G}', '${re}', true, '${re}T10:10:00+09:00', 1006),
  ('[DUMMY-${D}] : ${G}-${I}', '${re}', true, '${re}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${I}-', '${_e}', false, '${_e}T11:00:00+09:00', 1008),
  ('[DUMMY-${D}] : ${I}-${I}', '${_e}', true, '${_e}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${B}-${G}-', '${re}', false, '${ne}T14:00:00+09:00', 1010),
  ('[DUMMY-${D}] : ${B}-${G}-${G}', '${re}', true, '${ne}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${G}-${I}-', '${_e}', false, '${re}T15:00:00+09:00', 1012),
  ('[DUMMY-${D}] : ${G}-${I}-${I}', '${_e}', true, '${re}T15:10:00+09:00', 1013),
  ('[DUMMY-${D}] : ${B}-${I}-', '${_e}', false, '${ne}T15:00:00+09:00', 1014),
  ('[DUMMY-${D}] : ${B}-${I}-${I}', '${_e}', true, '${ne}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${I}-${P}-', '${an}', false, '${_e}T16:00:00+09:00', 1016),
  ('[DUMMY-${D}] : ${G}-${P}-', '${an}', false, '${re}T16:00:00+09:00', 1017),
  ('[DUMMY-${D}] : ${B}-${P}-', '${an}', false, '${ne}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${I}-${be}-', '${om}', false, '${_e}T17:00:00+09:00', 1019),
  ('[DUMMY-${D}] : ${G}-${be}-', '${om}', false, '${re}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${B}--1', '[DUMMY-${D}] : ${B}--2', '${re}T12:00:00+09:00', '${re}'
FROM todos WHERE text = '[DUMMY-${D}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${B}--2', '[DUMMY-${D}] : ${B}--', '${_e}T12:00:00+09:00', '${_e}'
FROM todos WHERE text = '[DUMMY-${D}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${G}--1', '[DUMMY-${D}] : ${G}--', '${_e}T13:00:00+09:00', '${_e}'
FROM todos WHERE text = '[DUMMY-${D}] : ${G}--' LIMIT 1;`,ai=document.createElement("textarea");ai.value=dw,ai.style.position="fixed",ai.style.opacity="0",document.body.appendChild(ai),ai.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ai)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const A=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,N=document.createElement("textarea");N.value=A,N.style.position="fixed",N.style.opacity="0",document.body.appendChild(N),N.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(N)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):M==="routine"?c.jsx(_o,{id:"routine",disabled:!Fs,onLongPress:()=>ei(!0),children:c.jsxs(Ty,{title:" ",className:"routine-section section-block",inputValue:s,setInputValue:i,onAddTodo:U_,isAdding:m,placeholder:"   ...",children:[d.length>0&&c.jsx(Cr,{items:d.map(A=>A.id),strategy:$o,children:d.map((A,N)=>{const k=e.filter(D=>D.parent_id===A.id);return c.jsx(Bo,{todo:A,index:N,onToggle:ru,onDelete:ou,onEdit:hu,formatDate:ys,formatDateOnly:Qn,isFocused:q===A.id,onFocus:du,onAddSubTodo:fu,subtodos:k,level:0,onCreateRoutine:ni,routines:Z,onShowRoutineHistory:Hl,onOpenRoutineSetupModal:uu,onOpenHistoryModal:cu,currentPageDate:Le(x),onRemoveFromUI:lu,showSuccessMessage:ie},A.id)})}),d.length>0&&p.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),p.length>0&&c.jsx(Cr,{items:p.map(A=>A.id),strategy:$o,children:p.map((A,N)=>{const k=e.filter(D=>D.parent_id===A.id);return c.jsx(Bo,{todo:A,index:N,onToggle:ru,onDelete:ou,onEdit:hu,formatDate:ys,formatDateOnly:Qn,isFocused:q===A.id,onFocus:du,onAddSubTodo:fu,subtodos:k,level:0,onCreateRoutine:ni,routines:Z,onShowRoutineHistory:Hl,onOpenRoutineSetupModal:uu,onOpenHistoryModal:cu,currentPageDate:Le(x),isPendingRoutine:!0,onRemoveFromUI:lu,showSuccessMessage:ie},A.id)})})]})},"routine"):M==="normal"?c.jsx(_o,{id:"normal",disabled:!Fs,onLongPress:()=>ei(!0),children:c.jsx(Ty,{title:"  ",className:"normal-section section-block",inputValue:r,setInputValue:l,onAddTodo:z_,isAdding:m,placeholder:"   ...",children:w.length>0&&c.jsx(Cr,{items:w.map(A=>A.id),strategy:$o,children:w.map((A,N,k)=>{const D=e.filter(ne=>ne.parent_id===A.id),B=Le(x),G=A.created_at?A.created_at.split("T")[0]:A.date,I=k[N+1],P=I?I.created_at?I.created_at.split("T")[0]:I.date:null,be=G<B&&P>=B;return c.jsxs($e.Fragment,{children:[c.jsx(Bo,{todo:A,index:N,onToggle:ru,onDelete:ou,onEdit:hu,formatDate:ys,formatDateOnly:Qn,isFocused:q===A.id,onFocus:du,onAddSubTodo:fu,subtodos:D,level:0,onCreateRoutine:ni,routines:Z,onShowRoutineHistory:Hl,onOpenRoutineSetupModal:uu,onOpenHistoryModal:cu,currentPageDate:B,onRemoveFromUI:lu,showSuccessMessage:ie}),be&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},A.id)})})})},"normal"):M==="key-thoughts"?c.jsx(_o,{id:"key-thoughts",disabled:!Fs,onLongPress:()=>ei(!0),children:c.jsx(OO,{blocks:Fe,setBlocks:it,focusedBlockId:It,setFocusedBlockId:Gt})},"key-thoughts"):null)})})})})()})}),Xn==="horizontal"&&c.jsx("div",{className:"section-pagination-dots",children:[0,1,2].map(d=>c.jsx("button",{className:`pagination-dot ${d_===d?"active":""}`,onClick:()=>{const p=ti.current;if(!p)return;const w=p.querySelectorAll(".section-block");w[d]&&w[d].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},d))})]}),y&&c.jsxs("div",{className:"undo-toast",children:[c.jsx("span",{children:""}),c.jsx("button",{onClick:q_,className:"undo-button",children:""})]}),S&&c.jsxs("div",{className:"undo-toast success-toast",children:[c.jsx("span",{children:C}),R&&c.jsx("button",{onClick:Ce,className:"undo-button",children:""})]}),h_&&Ll&&c.jsx("div",{className:"modal-overlay",onClick:()=>yr(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>yr(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:Ll.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>B_(Ll),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>L_(Ll),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),fe&&je&&(()=>{const d=je,p=d.visible_dates&&d.visible_dates.length>0?d.visible_dates:[d.date],w=p[0],M=p.map(N=>({id:`${d.id}-${N}`,date:N})),A=Zs[d.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:nm,children:c.jsxs("div",{className:"modal-content",onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:nm,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:ys(d.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Qn(w?new Date(w+"T00:00:00"):new Date(d.date+"T00:00:00"))})]}),M.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:M.map((N,k)=>{const D=N.date===d.date,B=Qn(new Date(N.date+"T00:00:00"));return c.jsxs("span",{children:[k>0&&"  ",c.jsxs("span",{style:D?{fontWeight:"bold",color:"#4CAF50"}:{},children:[B.split("(")[0],D?"()":""]})]},N.id)})})]}),(()=>{const N=new Date(d.created_at).toISOString().split("T")[0],k=d.date;return N!==k&&M.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Qn(new Date(d.date+"T00:00:00"))})]}):null})(),A.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",A.length,")"]}),A.map(N=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[ys(N.changed_at),N.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Qn(new Date(N.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:k=>{k.stopPropagation(),K_(N.id)},children:Ps.includes(N.id)?"":""})]}),Ps.includes(N.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:N.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:N.new_text})]})]})]},N.id))]})]})})]})})})(),pe&&je&&(()=>{const d=je,p=Z.find(w=>w.id===d.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:vr,children:c.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:vr,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:p&&!eu?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ns.filter(w=>p.days.includes(w.key)).map(w=>c.jsx("span",{className:"routine-day-badge",children:w.label},w.key))}),p.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",p.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:w=>{w.stopPropagation(),p&&(la(p.days),gr(p.time_slot||""),$l(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async w=>{w.stopPropagation(),p&&d&&(await ni(d.id,d.text,[],null,!0),vr())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:eu?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ns.map(w=>c.jsx("button",{onClick:M=>{M.stopPropagation(),X_(w.key)},className:`day-button-inline ${mr.includes(w.key)?"selected":""}`,children:w.label},w.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Af,{value:tu,onChange:w=>gr(w)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async w=>{w.stopPropagation(),d&&(eu&&p?await ni(d.id,d.text,mr,p.id,!1,tu):await ni(d.id,d.text,mr,null,!1,tu),vr())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:w=>{w.stopPropagation(),vr()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),L&&c.jsx("div",{className:"modal-overlay",onClick:em,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[ee.length>0&&c.jsx("button",{onClick:V_,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:em,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:ee.length===0?c.jsx("p",{className:"empty-message",children:" ."}):ee.map(d=>{const p=d.visible_dates||(d.date?[d.date]:[]),w=p.length>1||d.original_todo_id,M=d.original_todo_id!==null&&d.original_todo_id!==void 0,A=d.hidden_dates&&d.hidden_dates.length>0;let N="  ";return M?N="   ( )":A?N="  ":d.deleted===!0&&(N=p.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${d.completed?"completed":""}`,children:d.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",ys(d.created_at)]}),d.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",d.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${M?"old-style":A?"partial":"complete"}`,children:N})]}),w&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:p.length>0?p.map((k,D)=>c.jsx("span",{className:"carryover-date-badge",children:k},D)):d.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",d.original_todo_id,")"]}):null}),A&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),d.hidden_dates.map((k,D)=>c.jsx("span",{className:"hidden-date-badge",children:k},D))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>H_(d.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>Y_(d.id),className:"permanent-delete-button",title:" ",children:" "})]})]},d.id)})})]})}),wn&&c.jsx("div",{className:"modal-overlay",onClick:()=>nn(!1),children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>nn(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:g_,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:p_,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),Na.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[Na.map((d,p)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",p+1,": ",d.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",d.count,""]}),d.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",d.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:ys(d.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${p+1} ?`)&&y_(d.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},d.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&v_()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}),st&&c.jsx("div",{className:"modal-overlay",onClick:sm,children:c.jsxs("div",{className:"modal-content memo-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:sm,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"memo-content",children:ta?c.jsxs("div",{className:"memo-edit-mode",children:[c.jsx("textarea",{value:Me,onChange:d=>Vt(d.target.value),className:"memo-textarea",placeholder:"  ...",rows:20}),c.jsxs("div",{className:"memo-actions",children:[c.jsx("button",{onClick:nw,className:"memo-save-button",disabled:zn,children:zn?" ...":" "}),c.jsx("button",{onClick:aw,className:"memo-cancel-button",disabled:zn,children:" "})]})]}):c.jsxs("div",{className:"memo-view-mode",children:[c.jsx("div",{className:"memo-display",children:c.jsx("pre",{className:"memo-text",children:Me})}),c.jsx("div",{className:"memo-actions",children:c.jsx("button",{onClick:J_,className:"memo-edit-button",children:" "})})]})})]})}),Je&&c.jsx("div",{className:"modal-overlay",onClick:tm,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:tm,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(d=>c.jsx("button",{className:`period-button ${xn===d.value?"active":""}`,onClick:()=>ia(d.value),children:d.label},d.value))})}),c.jsx("div",{className:"gantt-content",children:Dt.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const d=Dt.flatMap(D=>D.dates),p=[...new Set(d)].sort((D,B)=>new Date(D)-new Date(B)),w=p[0],M=p[p.length-1],A=[];let N=new Date(w+"T00:00:00");const k=new Date(M+"T00:00:00");for(;N<=k;)A.push(Le(N)),N.setDate(N.getDate()+1);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:A.map(D=>c.jsx("div",{className:"gantt-date-cell",children:Qn(new Date(D+"T00:00:00")).split("(")[0]},D))})]}),Dt.map((D,B)=>{const G=new Set(D.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:D.text,children:c.jsx("span",{className:D.completed?"completed-task":"",children:D.text})}),c.jsx("div",{className:"gantt-timeline",children:A.map(I=>{if(!G.has(I))return c.jsx("div",{className:"gantt-date-cell"},I);const be=I===D.startDate,ne=I===D.completedDate;let re="gantt-date-cell has-task";return be?re+=" start-date":ne?re+=" completed-date":re+=" middle-date",c.jsx("div",{className:re,children:ne?c.jsx("span",{className:"completed-circle",children:""}):""},I)})})]},D.originalId)})]})})()})})]})}),K&&c.jsx("div",{className:"modal-overlay",onClick:Wh,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:Wh,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:ce,onChange:d=>Ue(d.target.value),placeholder:"  ...",className:"routine-input",disabled:Ht}),c.jsx("div",{className:"day-selector",children:Ns.map(d=>c.jsx("button",{onClick:()=>C_(d.key),className:`day-button ${we.includes(d.key)?"selected":""}`,disabled:Ht,children:d.label},d.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(Af,{value:Ke,onChange:d=>vn(d)})]}),c.jsx("button",{onClick:x_,className:"add-routine-button",disabled:Ht||ce.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:Z.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):Z.map(d=>c.jsx("div",{className:"routine-item",children:pn===d.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:Yt,onChange:p=>Xe(p.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Ns.map(p=>c.jsx("button",{onClick:()=>j_(p.key),className:`day-button-inline ${_n.includes(p.key)?"selected":""}`,children:p.label},p.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:T_,className:"routine-save-button",disabled:Yt.trim()===""||_n.length===0,children:""}),c.jsx("button",{onClick:Jh,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:d.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Ns.filter(p=>d.days.includes(p.key)).map(p=>c.jsx("span",{className:"routine-day-badge",children:p.label},p.key))}),d.time_slot&&c.jsx("span",{className:"routine-time-slot",children:d.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>Hl(d),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>E_(d),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>O_(d.id),className:"routine-delete-button",title:"",children:""})]})]})},d.id))})]})}),at&&Un&&c.jsx("div",{className:"modal-overlay",onClick:Ph,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",Un.text," "]}),c.jsx("button",{onClick:Ph,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(pt.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const d=pt[0],p=new Date(d.date),w=new Date,M={};pt.forEach(k=>{M[k.date]=k.completed});const A=[];let N=new Date(p);for(;N<=w;){const k=N.getFullYear(),D=N.getMonth(),B=`${k}-${D+1}`;A.find(re=>re.key===B)||A.push({key:B,year:k,month:D,days:[]});const G=A.find(re=>re.key===B),I=Le(N),P=N.getDay(),be=jy(P),ne=Un.days.includes(be);G.days.push({date:new Date(N),dateStr:I,day:N.getDate(),dayOfWeek:P,isCompleted:M[I]===!0,isRoutineDay:ne,hasTodo:M[I]!==void 0}),N.setDate(N.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:A.map(k=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[k.year," ",k.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),k.days.length>0&&Array(k.days[0].dayOfWeek).fill(null).map((D,B)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${B}`)),k.days.map((D,B)=>{if(B>0&&D.day===1){const I=6-k.days[B-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(I).fill(null).map((P,be)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${B}-${be}`)),c.jsx("div",{className:"history-day-header",children:""},D.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${D.isCompleted?"completed":""} ${D.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:D.day}),D.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${D.isCompleted?"completed":""} ${D.isRoutineDay?"":"not-routine-day"}`,title:`${D.dateStr}${D.isRoutineDay?"":" (  )"}${D.isCompleted?" - ":D.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:D.day}),D.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},D.dateStr)})]})]},k.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[pt.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[pt.filter(d=>d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[pt.filter(d=>!d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[pt.length>0?Math.round(pt.filter(d=>d.completed).length/pt.length*100):0,"%"]})]})]})]})]})}),Aa&&c.jsx("div",{className:"modal-overlay",onClick:()=>Xs(!1),children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>Xs(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:Da,onChange:d=>hr(d.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async d=>{d.key==="Enter"&&Da.trim()!==""&&(await Fh(Da.trim()),hr(""))}}),c.jsx("button",{onClick:async()=>{Da.trim()!==""&&(await Fh(Da.trim()),hr(""))},className:"add-encouragement-button",disabled:Da.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:et.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):et.map((d,p)=>c.jsx("div",{className:"encouragement-item",children:zl===p?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:Ca,onChange:w=>Js(w.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{Ca.trim()!==""&&(await R_(p,Ca.trim()),Qs(null),Js(""))},className:"encouragement-save-button",disabled:Ca.trim()==="",children:""}),c.jsx("button",{onClick:()=>{Qs(null),Js("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:d}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{Qs(p),Js(d)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await M_(p)},className:"encouragement-delete-button",title:"",children:""})]})]})},p))})]})})]})]})}c1.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(NO,{})}));
