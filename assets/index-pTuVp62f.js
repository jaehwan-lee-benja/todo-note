function S_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Wg={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=Symbol.for("react.transitional.element"),E_=Symbol.for("react.fragment");function ev(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:x_,type:e,key:a,ref:t!==void 0?t:null,props:n}}sc.Fragment=E_;sc.jsx=ev;sc.jsxs=ev;Wg.exports=sc;var u=Wg.exports,tv={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=Symbol.for("react.transitional.element"),T_=Symbol.for("react.portal"),j_=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),C_=Symbol.for("react.consumer"),D_=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),k_=Symbol.for("react.activity"),Mh=Symbol.iterator;function U_(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var av={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iv=Object.assign,sv={};function Is(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||av}Is.prototype.isReactComponent={};Is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rv(){}rv.prototype=Is.prototype;function nf(e,t,n){this.props=e,this.context=t,this.refs=sv,this.updater=n||av}var af=nf.prototype=new rv;af.constructor=nf;iv(af,Is.prototype);af.isPureReactComponent=!0;var kh=Array.isArray;function Yu(){}var rt={H:null,A:null,T:null,S:null},lv=Object.prototype.hasOwnProperty;function sf(e,t,n){var a=n.ref;return{$$typeof:tf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function z_(e,t){return sf(e.type,t,e.props)}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===tf}function L_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uh=/\/+/g;function Gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L_(""+e.key):t.toString(36)}function B_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Yu,Yu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function is(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case tf:case T_:r=!0;break;case nv:return r=e._init,is(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Gc(e,0):a,kh(i)?(n="",r!=null&&(n=r.replace(Uh,"$&/")+"/"),is(i,t,n,"",function(c){return c})):i!=null&&(rf(i)&&(i=z_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Uh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(kh(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Gc(a,o),r+=is(a,t,n,s,i);else if(o=U_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Gc(a,o++),r+=is(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return is(B_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Al(e,t,n){if(e==null)return e;var a=[],i=0;return is(e,a,"","",function(s){return t.call(n,s,i++)}),a}function H_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},q_={map:Al,forEach:function(e,t,n){Al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Activity=k_;ce.Children=q_;ce.Component=Is;ce.Fragment=j_;ce.Profiler=A_;ce.PureComponent=nf;ce.StrictMode=O_;ce.Suspense=R_;ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt;ce.__COMPILER_RUNTIME={__proto__:null,c:function(e){return rt.H.useMemoCache(e)}};ce.cache=function(e){return function(){return e.apply(null,arguments)}};ce.cacheSignal=function(){return null};ce.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=iv({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!lv.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return sf(e.type,i,a)};ce.createContext=function(e){return e={$$typeof:D_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:C_,_context:e},e};ce.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)lv.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return sf(e,s,i)};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:N_,render:e}};ce.isValidElement=rf;ce.lazy=function(e){return{$$typeof:nv,_payload:{_status:-1,_result:e},_init:H_}};ce.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=rt.T,n={};rt.T=n;try{var a=e(),i=rt.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Yu,zh)}catch(s){zh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),rt.T=t}};ce.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()};ce.use=function(e){return rt.H.use(e)};ce.useActionState=function(e,t,n){return rt.H.useActionState(e,t,n)};ce.useCallback=function(e,t){return rt.H.useCallback(e,t)};ce.useContext=function(e){return rt.H.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e,t){return rt.H.useDeferredValue(e,t)};ce.useEffect=function(e,t){return rt.H.useEffect(e,t)};ce.useEffectEvent=function(e){return rt.H.useEffectEvent(e)};ce.useId=function(){return rt.H.useId()};ce.useImperativeHandle=function(e,t,n){return rt.H.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return rt.H.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return rt.H.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return rt.H.useMemo(e,t)};ce.useOptimistic=function(e,t){return rt.H.useOptimistic(e,t)};ce.useReducer=function(e,t,n){return rt.H.useReducer(e,t,n)};ce.useRef=function(e){return rt.H.useRef(e)};ce.useState=function(e){return rt.H.useState(e)};ce.useSyncExternalStore=function(e,t,n){return rt.H.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return rt.H.useTransition()};ce.version="19.2.0";tv.exports=ce;var p=tv.exports;const ft=Pg(p);var ov={exports:{}},rc={},cv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,$){var K=z.length;z.push($);e:for(;0<K;){var fe=K-1>>>1,ue=z[fe];if(0<i(ue,$))z[fe]=$,z[K]=ue,K=fe;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var $=z[0],K=z.pop();if(K!==$){z[0]=K;e:for(var fe=0,ue=z.length,St=ue>>>1;fe<St;){var ke=2*(fe+1)-1,yt=z[ke],Ze=ke+1,Qe=z[Ze];if(0>i(yt,K))Ze<ue&&0>i(Qe,yt)?(z[fe]=Qe,z[Ze]=K,fe=Ze):(z[fe]=yt,z[ke]=K,fe=ke);else if(Ze<ue&&0>i(Qe,K))z[fe]=Qe,z[Ze]=K,fe=Ze;else break e}}return $}function i(z,$){var K=z.sortIndex-$.sortIndex;return K!==0?K:z.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],d=1,f=null,h=3,m=!1,b=!1,_=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(z){for(var $=n(c);$!==null;){if($.callback===null)a(c);else if($.startTime<=z)a(c),$.sortIndex=$.expirationTime,t(o,$);else break;$=n(c)}}function x(z){if(_=!1,w(z),!b)if(n(o)!==null)b=!0,j||(j=!0,Be());else{var $=n(c);$!==null&&Me(x,$.startTime-z)}}var j=!1,E=-1,O=5,C=-1;function L(){return S?!0:!(e.unstable_now()-C<O)}function W(){if(S=!1,j){var z=e.unstable_now();C=z;var $=!0;try{e:{b=!1,_&&(_=!1,g(E),E=-1),m=!0;var K=h;try{t:{for(w(z),f=n(o);f!==null&&!(f.expirationTime>z&&L());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,h=f.priorityLevel;var ue=fe(f.expirationTime<=z);if(z=e.unstable_now(),typeof ue=="function"){f.callback=ue,w(z),$=!0;break t}f===n(o)&&a(o),w(z)}else a(o);f=n(o)}if(f!==null)$=!0;else{var St=n(c);St!==null&&Me(x,St.startTime-z),$=!1}}break e}finally{f=null,h=K,m=!1}$=void 0}}finally{$?Be():j=!1}}}var Be;if(typeof v=="function")Be=function(){v(W)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Xe=Ge.port2;Ge.port1.onmessage=W,Be=function(){Xe.postMessage(null)}}else Be=function(){y(W,0)};function Me(z,$){E=y(function(){z(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var K=h;h=$;try{return z()}finally{h=K}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=h;h=z;try{return $()}finally{h=K}},e.unstable_scheduleCallback=function(z,$,K){var fe=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?fe+K:fe):K=fe,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,z={id:d++,callback:$,priorityLevel:z,startTime:K,expirationTime:ue,sortIndex:-1},K>fe?(z.sortIndex=K,t(c,z),n(o)===null&&z===n(c)&&(_?(g(E),E=-1):_=!0,Me(x,K-fe))):(z.sortIndex=ue,t(o,z),b||m||(b=!0,j||(j=!0,Be()))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var $=h;return function(){var K=h;h=$;try{return z.apply(this,arguments)}finally{h=K}}}})(uv);cv.exports=uv;var $_=cv.exports,dv={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=p;function fv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function za(){}var an={d:{f:za,r:function(){throw Error(fv(522))},D:za,C:za,L:za,m:za,X:za,S:za,M:za},p:0,findDOMNode:null},Y_=Symbol.for("react.portal");function G_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Er=V_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=an;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fv(299));return G_(e,t,null,n)};sn.flushSync=function(e){var t=Er.T,n=an.p;try{if(Er.T=null,an.p=2,e)return e()}finally{Er.T=t,an.p=n,an.d.f()}};sn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,an.d.C(e,t))};sn.prefetchDNS=function(e){typeof e=="string"&&an.d.D(e)};sn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=lc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?an.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&an.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};sn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=lc(t.as,t.crossOrigin);an.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&an.d.M(e)};sn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=lc(n,t.crossOrigin);an.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};sn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=lc(t.as,t.crossOrigin);an.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else an.d.m(e)};sn.requestFormReset=function(e){an.d.r(e)};sn.unstable_batchedUpdates=function(e,t){return e(t)};sn.useFormState=function(e,t,n){return Er.H.useFormState(e,t,n)};sn.useFormStatus=function(){return Er.H.useHostTransitionStatus()};sn.version="19.2.0";function hv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hv)}catch(e){console.error(e)}}hv(),dv.exports=sn;var Oi=dv.exports;const mv=Pg(Oi);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=$_,gv=p,I_=Oi;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lh(e){if(cl(e)!==e)throw Error(A(188))}function K_(e){var t=e.alternate;if(!t){if(t=cl(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lh(i),e;if(s===a)return Lh(i),t;s=s.sibling}throw Error(A(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==a)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function bv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=bv(e),t!==null)return t;e=e.sibling}return null}var lt=Object.assign,X_=Symbol.for("react.element"),Cl=Symbol.for("react.transitional.element"),pr=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),wv=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),of=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),Xu=Symbol.for("react.activity"),Q_=Symbol.for("react.memo_cache_sentinel"),Bh=Symbol.iterator;function cr(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var J_=Symbol.for("react.client.reference");function Qu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case Gu:return"Profiler";case _v:return"StrictMode";case Iu:return"Suspense";case Ku:return"SuspenseList";case Xu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case pr:return"Portal";case wa:return e.displayName||"Context";case wv:return(e._context.displayName||"Context")+".Consumer";case lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case of:return t=e.displayName||null,t!==null?t:Qu(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return Qu(e(t))}catch{}}return null}var br=Array.isArray,ae=gv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze=I_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ci={pending:!1,data:null,method:null,action:null},Ju=[],ds=-1;function oa(e){return{current:e}}function Vt(e){0>ds||(e.current=Ju[ds],Ju[ds]=null,ds--)}function tt(e,t){ds++,Ju[ds]=e.current,e.current=t}var la=oa(null),Gr=oa(null),ei=oa(null),po=oa(null);function bo(e,t){switch(tt(ei,t),tt(Gr,e),tt(la,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gm(t),e=$p(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Vt(la),tt(la,e)}function Ns(){Vt(la),Vt(Gr),Vt(ei)}function Zu(e){e.memoizedState!==null&&tt(po,e);var t=la.current,n=$p(t,e.type);t!==n&&(tt(Gr,e),tt(la,n))}function _o(e){Gr.current===e&&(Vt(la),Vt(Gr)),po.current===e&&(Vt(po),tl._currentValue=Ci)}var Ic,Hh;function _i(e){if(Ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ic=t&&t[1]||"",Hh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ic+e+Hh}var Kc=!1;function Xc(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==c[i]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=i);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_i(n):""}function Z_(e,t){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return e.child!==t&&t!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Xc(e.type,!1);case 11:return Xc(e.type.render,!1);case 1:return Xc(e.type,!0);case 31:return _i("Activity");default:return""}}function qh(e){try{var t="",n=null;do t+=Z_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pu=Object.prototype.hasOwnProperty,cf=Lt.unstable_scheduleCallback,Qc=Lt.unstable_cancelCallback,P_=Lt.unstable_shouldYield,F_=Lt.unstable_requestPaint,Dn=Lt.unstable_now,W_=Lt.unstable_getCurrentPriorityLevel,Sv=Lt.unstable_ImmediatePriority,xv=Lt.unstable_UserBlockingPriority,wo=Lt.unstable_NormalPriority,ew=Lt.unstable_LowPriority,Ev=Lt.unstable_IdlePriority,tw=Lt.log,nw=Lt.unstable_setDisableYieldValue,ul=null,Nn=null;function Ja(e){if(typeof tw=="function"&&nw(e),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(ul,e)}catch{}}var Rn=Math.clz32?Math.clz32:sw,aw=Math.log,iw=Math.LN2;function sw(e){return e>>>=0,e===0?32:31-(aw(e)/iw|0)|0}var Dl=256,Nl=262144,Rl=4194304;function wi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=wi(a):(r&=l,r!==0?i=wi(r):n||(n=l&~e,n!==0&&(i=wi(n))))):(l=a&~s,l!==0?i=wi(l):r!==0?i=wi(r):n||(n=a&~e,n!==0&&(i=wi(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function dl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tv(){var e=Rl;return Rl<<=1,!(Rl&62914560)&&(Rl=4194304),e}function Jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Rn(n),f=1<<d;l[d]=0,o[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}a!==0&&jv(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function jv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ov(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Av(e,t){var n=t&-t;return n=n&42?1:uf(n),n&(e.suspendedLanes|t)?0:n}function uf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function df(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Cv(){var e=ze.p;return e!==0?e:(e=window.event,e===void 0?32:Fp(e.type))}function $h(e,t){var n=ze.p;try{return ze.p=e,t()}finally{ze.p=n}}var hi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+hi,vn="__reactProps$"+hi,Ks="__reactContainer$"+hi,Fu="__reactEvents$"+hi,ow="__reactListeners$"+hi,cw="__reactHandles$"+hi,Vh="__reactResources$"+hi,hl="__reactMarker$"+hi;function ff(e){delete e[Xt],delete e[vn],delete e[Fu],delete e[ow],delete e[cw]}function fs(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ks]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jm(e);e!==null;){if(n=e[Xt])return n;e=Jm(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){if(e=e[Xt]||e[Ks]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _r(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function Ss(e){var t=e[Vh];return t||(t=e[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[hl]=!0}var Dv=new Set,Nv={};function qi(e,t){Rs(e,t),Rs(e+"Capture",t)}function Rs(e,t){for(Nv[e]=t,e=0;e<t.length;e++)Dv.add(t[e])}var uw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yh={},Gh={};function dw(e){return Pu.call(Gh,e)?!0:Pu.call(Yh,e)?!1:uw.test(e)?Gh[e]=!0:(Yh[e]=!0,!1)}function to(e,t,n){if(dw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ml(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function fa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function qn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){if(!e._valueTracker){var t=Rv(e)?"checked":"value";e._valueTracker=fw(e,t,""+e[t])}}function Mv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Rv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hw=/[\n"\\]/g;function Yn(e){return e.replace(hw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ed(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qn(t)):e.value!==""+qn(t)&&(e.value=""+qn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?td(e,r,qn(t)):n!=null?td(e,r,qn(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+qn(l):e.removeAttribute("name")}function kv(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Wu(e);return}n=n!=null?""+qn(n):"",t=t!=null?""+qn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Wu(e)}function td(e,t,n){t==="number"&&So(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xs(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uv(e,t,n){if(t!=null&&(t=""+qn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qn(n):""}function zv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(A(92));if(br(a)){if(1<a.length)throw Error(A(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=qn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Wu(e)}function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||mw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Lv(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Ih(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Ih(e,s,t[s])}function hf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(e){return vw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var nd=null;function mf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,Es=null;function Kh(e){var t=Xs(e);if(t&&(e=t.stateNode)){var n=e[vn]||null;e:switch(e=t.stateNode,t.type){case"input":if(ed(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[vn]||null;if(!i)throw Error(A(90));ed(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Mv(a)}break e;case"textarea":Uv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xs(e,!!n.multiple,t,!1)}}}var Zc=!1;function Bv(e,t,n){if(Zc)return e(t,n);Zc=!0;try{var a=e(t);return a}finally{if(Zc=!1,(hs!==null||Es!==null)&&(_c(),hs&&(t=hs,e=Es,Es=hs=null,Kh(t),e)))for(t=0;t<e.length;t++)Kh(e[t])}}function Ir(e,t){var n=e.stateNode;if(n===null)return null;var a=n[vn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(Oa)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){ad=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{ad=!1}var Za=null,gf=null,ao=null;function Hv(){if(ao)return ao;var e,t=gf,n=t.length,a,i="value"in Za?Za.value:Za.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return ao=i.slice(e,1<a?1-a:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function Xh(){return!1}function yn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kl:Xh,this.isPropagationStopped=Xh,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=yn($i),ml=lt({},$i,{view:0,detail:0}),yw=yn(ml),Pc,Fc,dr,uc=lt({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(Pc=e.screenX-dr.screenX,Fc=e.screenY-dr.screenY):Fc=Pc=0,dr=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),Qh=yn(uc),pw=lt({},uc,{dataTransfer:0}),bw=yn(pw),_w=lt({},ml,{relatedTarget:0}),Wc=yn(_w),ww=lt({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Sw=yn(ww),xw=lt({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ew=yn(xw),Tw=lt({},$i,{data:0}),Jh=yn(Tw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aw[e])?!!t[e]:!1}function vf(){return Cw}var Dw=lt({},ml,{key:function(e){if(e.key){var t=jw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nw=yn(Dw),Rw=lt({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=yn(Rw),Mw=lt({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),kw=yn(Mw),Uw=lt({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),zw=yn(Uw),Lw=lt({},uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=yn(Lw),Hw=lt({},$i,{newState:0,oldState:0}),qw=yn(Hw),$w=[9,13,27,32],yf=Oa&&"CompositionEvent"in window,Tr=null;Oa&&"documentMode"in document&&(Tr=document.documentMode);var Vw=Oa&&"TextEvent"in window&&!Tr,qv=Oa&&(!yf||Tr&&8<Tr&&11>=Tr),Ph=" ",Fh=!1;function $v(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function Yw(e,t){switch(e){case"compositionend":return Vv(t);case"keypress":return t.which!==32?null:(Fh=!0,Ph);case"textInput":return e=t.data,e===Ph&&Fh?null:e;default:return null}}function Gw(e,t){if(ms)return e==="compositionend"||!yf&&$v(e,t)?(e=Hv(),ao=gf=Za=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qv&&t.locale!=="ko"?null:t.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iw[e.type]:t==="textarea"}function Yv(e,t,n,a){hs?Es?Es.push(a):Es=[a]:hs=a,t=qo(t,"onChange"),0<t.length&&(n=new cc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var jr=null,Kr=null;function Kw(e){Bp(e,0)}function dc(e){var t=_r(e);if(Mv(t))return e}function em(e,t){if(e==="change")return t}var Gv=!1;if(Oa){var eu;if(Oa){var tu="oninput"in document;if(!tu){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),tu=typeof tm.oninput=="function"}eu=tu}else eu=!1;Gv=eu&&(!document.documentMode||9<document.documentMode)}function nm(){jr&&(jr.detachEvent("onpropertychange",Iv),Kr=jr=null)}function Iv(e){if(e.propertyName==="value"&&dc(Kr)){var t=[];Yv(t,Kr,e,mf(e)),Bv(Kw,t)}}function Xw(e,t,n){e==="focusin"?(nm(),jr=t,Kr=n,jr.attachEvent("onpropertychange",Iv)):e==="focusout"&&nm()}function Qw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dc(Kr)}function Jw(e,t){if(e==="click")return dc(t)}function Zw(e,t){if(e==="input"||e==="change")return dc(t)}function Pw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:Pw;function Xr(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Pu.call(t,i)||!kn(e[i],t[i]))return!1}return!0}function am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function im(e,t){var n=am(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function Kv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=So(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=So(e.document)}return t}function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fw=Oa&&"documentMode"in document&&11>=document.documentMode,gs=null,id=null,Or=null,sd=!1;function sm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||gs==null||gs!==So(a)||(a=gs,"selectionStart"in a&&pf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Or&&Xr(Or,a)||(Or=a,a=qo(id,"onSelect"),0<a.length&&(t=new cc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=gs)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vs={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},nu={},Qv={};Oa&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Vi(e){if(nu[e])return nu[e];if(!vs[e])return e;var t=vs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qv)return nu[e]=t[n];return e}var Jv=Vi("animationend"),Zv=Vi("animationiteration"),Pv=Vi("animationstart"),Ww=Vi("transitionrun"),eS=Vi("transitionstart"),tS=Vi("transitioncancel"),Fv=Vi("transitionend"),Wv=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function aa(e,t){Wv.set(e,t),qi(t,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],ys=0,bf=0;function fc(){for(var e=ys,t=bf=ys=0;t<e;){var n=Bn[t];Bn[t++]=null;var a=Bn[t];Bn[t++]=null;var i=Bn[t];Bn[t++]=null;var s=Bn[t];if(Bn[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&ey(n,i,s)}}function hc(e,t,n,a){Bn[ys++]=e,Bn[ys++]=t,Bn[ys++]=n,Bn[ys++]=a,bf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _f(e,t,n,a){return hc(e,t,n,a),Eo(e)}function Yi(e,t){return hc(e,null,null,t),Eo(e)}function ey(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Rn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Eo(e){if(50<zr)throw zr=0,Od=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ps={};function nS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,a){return new nS(e,t,n,a)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ty(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function so(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")wf(e)&&(r=1);else if(typeof e=="string")r=lx(e,n,la.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xu:return e=jn(31,n,t,i),e.elementType=Xu,e.lanes=s,e;case us:return Di(n.children,i,s,t);case _v:r=8,i|=24;break;case Gu:return e=jn(12,n,t,i|2),e.elementType=Gu,e.lanes=s,e;case Iu:return e=jn(13,n,t,i),e.elementType=Iu,e.lanes=s,e;case Ku:return e=jn(19,n,t,i),e.elementType=Ku,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wa:r=10;break e;case wv:r=9;break e;case lf:r=11;break e;case of:r=14;break e;case Ba:r=16,a=null;break e}r=29,n=Error(A(130,e===null?"null":typeof e,"")),a=null}return t=jn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Di(e,t,n,a){return e=jn(7,e,a,t),e.lanes=n,e}function au(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function ny(e){var t=jn(18,null,null,0);return t.stateNode=e,t}function iu(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rm=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=rm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:qh(t)},rm.set(e,t),t)}return{value:e,source:t,stack:qh(t)}}var bs=[],_s=0,To=null,Qr=0,$n=[],Vn=0,ci=null,ia=1,sa="";function ba(e,t){bs[_s++]=Qr,bs[_s++]=To,To=e,Qr=t}function ay(e,t,n){$n[Vn++]=ia,$n[Vn++]=sa,$n[Vn++]=ci,ci=e;var a=ia;e=sa;var i=32-Rn(a)-1;a&=~(1<<i),n+=1;var s=32-Rn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,ia=1<<32-Rn(t)+i|n<<i|a,sa=s+e}else ia=1<<s|n<<i|a,sa=e}function Sf(e){e.return!==null&&(ba(e,1),ay(e,1,0))}function xf(e){for(;e===To;)To=bs[--_s],bs[_s]=null,Qr=bs[--_s],bs[_s]=null;for(;e===ci;)ci=$n[--Vn],$n[Vn]=null,sa=$n[--Vn],$n[Vn]=null,ia=$n[--Vn],$n[Vn]=null}function iy(e,t){$n[Vn++]=ia,$n[Vn++]=sa,$n[Vn++]=ci,ia=t.id,sa=t.overflow,ci=e}var Qt=null,st=null,Oe=!1,ti=null,In=!1,ld=Error(A(519));function ui(e){var t=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jr(Gn(t,e)),ld}function lm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Xt]=e,t[vn]=a,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Wr.length;n++)_e(Wr[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),kv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),zv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||qp(t.textContent,n)?(a.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),a.onScroll!=null&&_e("scroll",t),a.onScrollEnd!=null&&_e("scrollend",t),a.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||ui(e,!0)}function om(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Qt=Qt.return}}function Pi(e){if(e!==Qt)return!1;if(!Oe)return om(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rd(e.type,e.memoizedProps)),n=!n),n&&st&&ui(e),om(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));st=Qm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));st=Qm(e)}else t===27?(t=st,mi(e.type)?(e=zd,zd=null,st=e):st=t):st=Qt?Xn(e.stateNode.nextSibling):null;return!0}function ki(){st=Qt=null,Oe=!1}function su(){var e=ti;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),ti=null),e}function Jr(e){ti===null?ti=[e]:ti.push(e)}var od=oa(null),Gi=null,xa=null;function Ya(e,t,n){tt(od,t._currentValue),t._currentValue=n}function Ta(e){e._currentValue=od.current,Vt(od)}function cd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ud(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cd(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(A(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),cd(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Qs(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=i.type;kn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===po.current){if(r=i.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}i=i.return}e!==null&&ud(t,e,n,a),t.flags|=262144}function jo(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){Gi=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return sy(Gi,e)}function Ul(e,t){return Gi===null&&Ui(e),sy(e,t)}function sy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xa===null){if(e===null)throw Error(A(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return n}var aS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},iS=Lt.unstable_scheduleCallback,sS=Lt.unstable_NormalPriority,Dt={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new aS,data:new Map,refCount:0}}function gl(e){e.refCount--,e.refCount===0&&iS(sS,function(){e.controller.abort()})}var Ar=null,dd=0,ks=0,Ts=null;function rS(e,t){if(Ar===null){var n=Ar=[];dd=0,ks=Jf(),Ts={status:"pending",value:void 0,then:function(a){n.push(a)}}}return dd++,t.then(cm,cm),t}function cm(){if(--dd===0&&Ar!==null){Ts!==null&&(Ts.status="fulfilled");var e=Ar;Ar=null,ks=0,Ts=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var um=ae.S;ae.S=function(e,t){bp=Dn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rS(e,t),um!==null&&um(e,t)};var Ni=oa(null);function Tf(){var e=Ni.current;return e!==null?e:Je.pooledCache}function ro(e,t){t===null?tt(Ni,Ni.current):tt(Ni,t.pool)}function ry(){var e=Tf();return e===null?null:{parent:Dt._currentValue,pool:e}}var Js=Error(A(460)),jf=Error(A(474)),mc=Error(A(542)),Oo={then:function(){}};function dm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ly(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sa,Sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hm(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hm(e),e}throw Ri=t,Js}}function Si(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ri=n,Js):n}}var Ri=null;function fm(){if(Ri===null)throw Error(A(459));var e=Ri;return Ri=null,e}function hm(e){if(e===Js||e===mc)throw Error(A(483))}var js=null,Zr=0;function zl(e){var t=Zr;return Zr+=1,js===null&&(js=[]),ly(js,e,t)}function fr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ll(e,t){throw t.$$typeof===X_?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oy(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=Ea(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,g,v,w){return g===null||g.tag!==6?(g=au(v,y.mode,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function o(y,g,v,w){var x=v.type;return x===us?d(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ba&&Si(x)===g.type)?(g=i(g,v.props),fr(g,v),g.return=y,g):(g=so(v.type,v.key,v.props,null,y.mode,w),fr(g,v),g.return=y,g)}function c(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=iu(v,y.mode,w),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function d(y,g,v,w,x){return g===null||g.tag!==7?(g=Di(v,y.mode,w,x),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=au(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return v=so(g.type,g.key,g.props,null,y.mode,v),fr(v,g),v.return=y,v;case pr:return g=iu(g,y.mode,v),g.return=y,g;case Ba:return g=Si(g),f(y,g,v)}if(br(g)||cr(g))return g=Di(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return f(y,zl(g),v);if(g.$$typeof===wa)return f(y,Ul(y,g),v);Ll(y,g)}return null}function h(y,g,v,w){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:l(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cl:return v.key===x?o(y,g,v,w):null;case pr:return v.key===x?c(y,g,v,w):null;case Ba:return v=Si(v),h(y,g,v,w)}if(br(v)||cr(v))return x!==null?null:d(y,g,v,w,null);if(typeof v.then=="function")return h(y,g,zl(v),w);if(v.$$typeof===wa)return h(y,g,Ul(y,v),w);Ll(y,v)}return null}function m(y,g,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(v)||null,l(g,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cl:return y=y.get(w.key===null?v:w.key)||null,o(g,y,w,x);case pr:return y=y.get(w.key===null?v:w.key)||null,c(g,y,w,x);case Ba:return w=Si(w),m(y,g,v,w,x)}if(br(w)||cr(w))return y=y.get(v)||null,d(g,y,w,x,null);if(typeof w.then=="function")return m(y,g,v,zl(w),x);if(w.$$typeof===wa)return m(y,g,v,Ul(g,w),x);Ll(g,w)}return null}function b(y,g,v,w){for(var x=null,j=null,E=g,O=g=0,C=null;E!==null&&O<v.length;O++){E.index>O?(C=E,E=null):C=E.sibling;var L=h(y,E,v[O],w);if(L===null){E===null&&(E=C);break}e&&E&&L.alternate===null&&t(y,E),g=s(L,g,O),j===null?x=L:j.sibling=L,j=L,E=C}if(O===v.length)return n(y,E),Oe&&ba(y,O),x;if(E===null){for(;O<v.length;O++)E=f(y,v[O],w),E!==null&&(g=s(E,g,O),j===null?x=E:j.sibling=E,j=E);return Oe&&ba(y,O),x}for(E=a(E);O<v.length;O++)C=m(E,y,O,v[O],w),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?O:C.key),g=s(C,g,O),j===null?x=C:j.sibling=C,j=C);return e&&E.forEach(function(W){return t(y,W)}),Oe&&ba(y,O),x}function _(y,g,v,w){if(v==null)throw Error(A(151));for(var x=null,j=null,E=g,O=g=0,C=null,L=v.next();E!==null&&!L.done;O++,L=v.next()){E.index>O?(C=E,E=null):C=E.sibling;var W=h(y,E,L.value,w);if(W===null){E===null&&(E=C);break}e&&E&&W.alternate===null&&t(y,E),g=s(W,g,O),j===null?x=W:j.sibling=W,j=W,E=C}if(L.done)return n(y,E),Oe&&ba(y,O),x;if(E===null){for(;!L.done;O++,L=v.next())L=f(y,L.value,w),L!==null&&(g=s(L,g,O),j===null?x=L:j.sibling=L,j=L);return Oe&&ba(y,O),x}for(E=a(E);!L.done;O++,L=v.next())L=m(E,y,O,L.value,w),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?O:L.key),g=s(L,g,O),j===null?x=L:j.sibling=L,j=L);return e&&E.forEach(function(Be){return t(y,Be)}),Oe&&ba(y,O),x}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===us&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Cl:e:{for(var x=v.key;g!==null;){if(g.key===x){if(x=v.type,x===us){if(g.tag===7){n(y,g.sibling),w=i(g,v.props.children),w.return=y,y=w;break e}}else if(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ba&&Si(x)===g.type){n(y,g.sibling),w=i(g,v.props),fr(w,v),w.return=y,y=w;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===us?(w=Di(v.props.children,y.mode,w,v.key),w.return=y,y=w):(w=so(v.type,v.key,v.props,null,y.mode,w),fr(w,v),w.return=y,y=w)}return r(y);case pr:e:{for(x=v.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),w=i(g,v.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else t(y,g);g=g.sibling}w=iu(v,y.mode,w),w.return=y,y=w}return r(y);case Ba:return v=Si(v),S(y,g,v,w)}if(br(v))return b(y,g,v,w);if(cr(v)){if(x=cr(v),typeof x!="function")throw Error(A(150));return v=x.call(v),_(y,g,v,w)}if(typeof v.then=="function")return S(y,g,zl(v),w);if(v.$$typeof===wa)return S(y,g,Ul(y,v),w);Ll(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),w=i(g,v),w.return=y,y=w):(n(y,g),w=au(v,y.mode,w),w.return=y,y=w),r(y)):n(y,g)}return function(y,g,v,w){try{Zr=0;var x=S(y,g,v,w);return js=null,x}catch(E){if(E===Js||E===mc)throw E;var j=jn(29,E,null,y.mode);return j.lanes=w,j.return=y,j}finally{}}}var zi=oy(!0),cy=oy(!1),Ha=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ue&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Eo(e),ey(e,null,n),t}return hc(e,a,t,n),Eo(e)}function Cr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ov(e,n)}}function ru(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var hd=!1;function Dr(){if(hd){var e=Ts;if(e!==null)throw e}}function Nr(e,t,n,a){hd=!1;var i=e.updateQueue;Ha=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?s=c:r.next=c,r=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==r&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(s!==null){var f=i.baseState;r=0,d=c=o=null,l=s;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(Te&h)===h:(a&h)===h){h!==0&&h===ks&&(hd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,_=l;h=t;var S=n;switch(_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(S,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,h=typeof b=="function"?b.call(S,f,h):b,h==null)break e;f=lt({},f,h);break e;case 2:Ha=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,o=f):d=d.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(o=f),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),fi|=r,e.lanes=r,e.memoizedState=f}}function uy(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function dy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)uy(n[e],t)}var Us=oa(null),Ao=oa(0);function mm(e,t){e=Na,tt(Ao,e),tt(Us,t),Na=e|t.baseLanes}function md(){tt(Ao,Na),tt(Us,Us.current)}function Af(){Na=Ao.current,Vt(Us),Vt(Ao)}var Un=oa(null),Kn=null;function Ga(e){var t=e.alternate;tt(xt,xt.current&1),tt(Un,e),Kn===null&&(t===null||Us.current!==null||t.memoizedState!==null)&&(Kn=e)}function gd(e){tt(xt,xt.current),tt(Un,e),Kn===null&&(Kn=e)}function fy(e){e.tag===22?(tt(xt,xt.current),tt(Un,e),Kn===null&&(Kn=e)):Ia()}function Ia(){tt(xt,xt.current),tt(Un,Un.current)}function Tn(e){Vt(Un),Kn===e&&(Kn=null),Vt(xt)}var xt=oa(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||kd(n)||Ud(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=0,de=null,Ke=null,At=null,Do=!1,Os=!1,Li=!1,No=0,Pr=0,As=null,oS=0;function _t(){throw Error(A(321))}function Cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Df(e,t,n,a,i,s){return Aa=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?Yy:$f,Li=!1,s=n(a,i),Li=!1,Os&&(s=my(t,n,a,i)),hy(e),s}function hy(e){ae.H=Fr;var t=Ke!==null&&Ke.next!==null;if(Aa=0,At=Ke=de=null,Do=!1,Pr=0,As=null,t)throw Error(A(300));e===null||Nt||(e=e.dependencies,e!==null&&jo(e)&&(Nt=!0))}function my(e,t,n,a){de=e;var i=0;do{if(Os&&(As=null),Pr=0,Os=!1,25<=i)throw Error(A(301));if(i+=1,At=Ke=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ae.H=Gy,s=t(n,a)}while(Os);return s}function cS(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?vl(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(de.flags|=1024),t}function Nf(){var e=No!==0;return No=0,e}function Rf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mf(e){if(Do){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Do=!1}Aa=0,At=Ke=de=null,Os=!1,Pr=No=0,As=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?de.memoizedState=At=e:At=At.next=e,At}function Et(){if(Ke===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=At===null?de.memoizedState:At.next;if(t!==null)At=t,Ke=e;else{if(e===null)throw de.alternate===null?Error(A(467)):Error(A(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},At===null?de.memoizedState=At=e:At=At.next=e}return At}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var t=Pr;return Pr+=1,As===null&&(As=[]),e=ly(As,e,t),t=de,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?Yy:$f),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===wa)return Jt(e)}throw Error(A(438,String(e)))}function kf(e){var t=null,n=de.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=de.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gc(),de.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Q_;return t.index++,n}function Ca(e,t){return typeof t=="function"?t(e):t}function lo(e){var t=Et();return Uf(t,Ke,e)}function Uf(e,t,n){var a=e.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,c=t,d=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Te&f)===f:(Aa&f)===f){var h=c.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ks&&(d=!0);else if((Aa&h)===h){c=c.next,h===ks&&(d=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=s):o=o.next=f,de.lanes|=h,fi|=h;f=c.action,Li&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=h,r=s):o=o.next=h,de.lanes|=f,fi|=f;c=c.next}while(c!==null&&c!==t);if(o===null?r=s:o.next=l,!kn(s,e.memoizedState)&&(Nt=!0,d&&(n=Ts,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function lu(e){var t=Et(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);kn(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function gy(e,t,n){var a=de,i=Et(),s=Oe;if(s){if(n===void 0)throw Error(A(407));n=n()}else n=t();var r=!kn((Ke||i).memoizedState,n);if(r&&(i.memoizedState=n,Nt=!0),i=i.queue,zf(py.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,zs(9,{destroy:void 0},yy.bind(null,a,i,n,t),null),Je===null)throw Error(A(349));s||Aa&127||vy(a,t,n)}return n}function vy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t=gc(),de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yy(e,t,n,a){t.value=n,t.getSnapshot=a,by(t)&&_y(e)}function py(e,t,n){return n(function(){by(t)&&_y(e)})}function by(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function _y(e){var t=Yi(e,2);t!==null&&gn(t,e,2)}function vd(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),Li){Ja(!0);try{n()}finally{Ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function wy(e,t,n,a){return e.baseState=n,Uf(e,Ke,typeof a=="function"?a:Ca)}function uS(e,t,n,a,i){if(pc(e))throw Error(A(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};ae.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,Sy(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Sy(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=ae.T,r={};ae.T=r;try{var l=n(i,a),o=ae.S;o!==null&&o(r,l),gm(e,t,l)}catch(c){yd(e,t,c)}finally{s!==null&&r.types!==null&&(s.types=r.types),ae.T=s}}else try{s=n(i,a),gm(e,t,s)}catch(c){yd(e,t,c)}}function gm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){vm(e,t,a)},function(a){return yd(e,t,a)}):vm(e,t,n)}function vm(e,t,n){t.status="fulfilled",t.value=n,xy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sy(e,n)))}function yd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,xy(t),t=t.next;while(t!==a)}e.action=null}function xy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ey(e,t){return t}function ym(e,t){if(Oe){var n=Je.formState;if(n!==null){e:{var a=de;if(Oe){if(st){t:{for(var i=st,s=In;i.nodeType!==8;){if(!s){i=null;break t}if(i=Xn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){st=Xn(i.nextSibling),a=i.data==="F!";break e}}ui(a)}a=!1}a&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:t},n.queue=a,n=qy.bind(null,de,a),a.dispatch=n,a=vd(!1),s=qf.bind(null,de,!1,a.queue),a=tn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=uS.bind(null,de,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function pm(e){var t=Et();return Ty(t,Ke,e)}function Ty(e,t,n){if(t=Uf(e,t,Ey)[0],e=lo(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=vl(t)}catch(r){throw r===Js?mc:r}else a=t;t=Et();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(de.flags|=2048,zs(9,{destroy:void 0},dS.bind(null,i,n),null)),[a,s,e]}function dS(e,t){e.action=t}function bm(e){var t=Et(),n=Ke;if(n!==null)return Ty(t,n,e);Et(),t=t.memoizedState,n=Et();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function zs(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=de.updateQueue,t===null&&(t=gc(),de.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function jy(){return Et().memoizedState}function oo(e,t,n,a){var i=tn();de.flags|=e,i.memoizedState=zs(1|t,{destroy:void 0},n,a===void 0?null:a)}function yc(e,t,n,a){var i=Et();a=a===void 0?null:a;var s=i.memoizedState.inst;Ke!==null&&a!==null&&Cf(a,Ke.memoizedState.deps)?i.memoizedState=zs(t,s,n,a):(de.flags|=e,i.memoizedState=zs(1|t,s,n,a))}function _m(e,t){oo(8390656,8,e,t)}function zf(e,t){yc(2048,8,e,t)}function fS(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=gc(),de.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Oy(e){var t=Et().memoizedState;return fS({ref:t,nextImpl:e}),function(){if(Ue&2)throw Error(A(440));return t.impl.apply(void 0,arguments)}}function Ay(e,t){return yc(4,2,e,t)}function Cy(e,t){return yc(4,4,e,t)}function Dy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ny(e,t,n){n=n!=null?n.concat([e]):null,yc(4,4,Dy.bind(null,t,e),n)}function Lf(){}function Ry(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Cf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function My(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Cf(t,a[1]))return a[0];if(a=e(),Li){Ja(!0);try{e()}finally{Ja(!1)}}return n.memoizedState=[a,t],a}function Bf(e,t,n){return n===void 0||Aa&1073741824&&!(Te&261930)?e.memoizedState=t:(e.memoizedState=n,e=wp(),de.lanes|=e,fi|=e,n)}function ky(e,t,n,a){return kn(n,t)?n:Us.current!==null?(e=Bf(e,n,a),kn(e,t)||(Nt=!0),e):!(Aa&42)||Aa&1073741824&&!(Te&261930)?(Nt=!0,e.memoizedState=n):(e=wp(),de.lanes|=e,fi|=e,t)}function Uy(e,t,n,a,i){var s=ze.p;ze.p=s!==0&&8>s?s:8;var r=ae.T,l={};ae.T=l,qf(e,!1,t,n);try{var o=i(),c=ae.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=lS(o,a);Rr(e,t,d,Mn(e))}else Rr(e,t,a,Mn(e))}catch(f){Rr(e,t,{then:function(){},status:"rejected",reason:f},Mn())}finally{ze.p=s,r!==null&&l.types!==null&&(r.types=l.types),ae.T=r}}function hS(){}function pd(e,t,n,a){if(e.tag!==5)throw Error(A(476));var i=zy(e).queue;Uy(e,i,t,Ci,n===null?hS:function(){return Ly(e),n(a)})}function zy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ci,baseState:Ci,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:Ci},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ly(e){var t=zy(e);t.next===null&&(t=e.alternate.memoizedState),Rr(e,t.next.queue,{},Mn())}function Hf(){return Jt(tl)}function By(){return Et().memoizedState}function Hy(){return Et().memoizedState}function mS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mn();e=ni(n);var a=ai(t,e,n);a!==null&&(gn(a,t,n),Cr(a,t,n)),t={cache:Ef()},e.payload=t;return}t=t.return}}function gS(e,t,n){var a=Mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pc(e)?$y(t,n):(n=_f(e,t,n,a),n!==null&&(gn(n,e,a),Vy(n,t,a)))}function qy(e,t,n){var a=Mn();Rr(e,t,n,a)}function Rr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pc(e))$y(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,kn(l,r))return hc(e,t,i,0),Je===null&&fc(),!1}catch{}finally{}if(n=_f(e,t,i,a),n!==null)return gn(n,e,a),Vy(n,t,a),!0}return!1}function qf(e,t,n,a){if(a={lane:2,revertLane:Jf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(t)throw Error(A(479))}else t=_f(e,n,a,2),t!==null&&gn(t,e,2)}function pc(e){var t=e.alternate;return e===de||t!==null&&t===de}function $y(e,t){Os=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vy(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ov(e,n)}}var Fr={readContext:Jt,use:vc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Fr.useEffectEvent=_t;var Yy={readContext:Jt,use:vc,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:_m,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,oo(4194308,4,Dy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){oo(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var a=e();if(Li){Ja(!0);try{e()}finally{Ja(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=tn();if(n!==void 0){var i=n(t);if(Li){Ja(!0);try{n(t)}finally{Ja(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gS.bind(null,de,e),[a.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=vd(e);var t=e.queue,n=qy.bind(null,de,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lf,useDeferredValue:function(e,t){var n=tn();return Bf(n,e,t)},useTransition:function(){var e=vd(!1);return e=Uy.bind(null,de,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=de,i=tn();if(Oe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Je===null)throw Error(A(349));Te&127||vy(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,_m(py.bind(null,a,s,e),[e]),a.flags|=2048,zs(9,{destroy:void 0},yy.bind(null,a,s,n,t),null),n},useId:function(){var e=tn(),t=Je.identifierPrefix;if(Oe){var n=sa,a=ia;n=(a&~(1<<32-Rn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=oS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Hf,useFormState:ym,useActionState:ym,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qf.bind(null,de,!0,n),n.dispatch=t,[e,t]},useMemoCache:kf,useCacheRefresh:function(){return tn().memoizedState=mS.bind(null,de)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if(Ue&2)throw Error(A(440));return n.impl.apply(void 0,arguments)}}},$f={readContext:Jt,use:vc,useCallback:Ry,useContext:Jt,useEffect:zf,useImperativeHandle:Ny,useInsertionEffect:Ay,useLayoutEffect:Cy,useMemo:My,useReducer:lo,useRef:jy,useState:function(){return lo(Ca)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=Et();return ky(n,Ke.memoizedState,e,t)},useTransition:function(){var e=lo(Ca)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:gy,useId:By,useHostTransitionStatus:Hf,useFormState:pm,useActionState:pm,useOptimistic:function(e,t){var n=Et();return wy(n,Ke,e,t)},useMemoCache:kf,useCacheRefresh:Hy};$f.useEffectEvent=Oy;var Gy={readContext:Jt,use:vc,useCallback:Ry,useContext:Jt,useEffect:zf,useImperativeHandle:Ny,useInsertionEffect:Ay,useLayoutEffect:Cy,useMemo:My,useReducer:lu,useRef:jy,useState:function(){return lu(Ca)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=Et();return Ke===null?Bf(n,e,t):ky(n,Ke.memoizedState,e,t)},useTransition:function(){var e=lu(Ca)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:vl(e),t]},useSyncExternalStore:gy,useId:By,useHostTransitionStatus:Hf,useFormState:bm,useActionState:bm,useOptimistic:function(e,t){var n=Et();return Ke!==null?wy(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Hy};Gy.useEffectEvent=Oy;function ou(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Mn(),i=ni(a);i.payload=t,n!=null&&(i.callback=n),t=ai(e,i,a),t!==null&&(gn(t,e,a),Cr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Mn(),i=ni(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ai(e,i,a),t!==null&&(gn(t,e,a),Cr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mn(),a=ni(n);a.tag=2,t!=null&&(a.callback=t),t=ai(e,a,n),t!==null&&(gn(t,e,n),Cr(t,e,n))}};function wm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,a)||!Xr(i,s):!0}function Sm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&bd.enqueueReplaceState(t,t.state,null)}function Bi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=lt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Iy(e){xo(e)}function Ky(e){console.error(e)}function Xy(e){xo(e)}function Ro(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function xm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function _d(e,t,n){return n=ni(n),n.tag=3,n.payload={element:null},n.callback=function(){Ro(e,t)},n}function Qy(e){return e=ni(e),e.tag=3,e}function Jy(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){xm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){xm(t,n,a),typeof i!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function vS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Qs(t,n,i,!0),n=Un.current,n!==null){switch(n.tag){case 31:case 13:return Kn===null?Lo():n.alternate===null&&wt===0&&(wt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Oo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),bu(e,a,i)),!1;case 22:return n.flags|=65536,a===Oo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),bu(e,a,i)),!1}throw Error(A(435,n.tag))}return bu(e,a,i),Lo(),!1}if(Oe)return t=Un.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ld&&(e=Error(A(422),{cause:a}),Jr(Gn(e,n)))):(a!==ld&&(t=Error(A(423),{cause:a}),Jr(Gn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Gn(a,n),i=_d(e.stateNode,a,i),ru(e,i),wt!==4&&(wt=2)),!1;var s=Error(A(520),{cause:a});if(s=Gn(s,n),Ur===null?Ur=[s]:Ur.push(s),wt!==4&&(wt=2),t===null)return!0;a=Gn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=_d(n.stateNode,a,e),ru(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ii===null||!ii.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Qy(i),Jy(i,e,n,a),ru(n,i),!1}n=n.return}while(n!==null);return!1}var Vf=Error(A(461)),Nt=!1;function Kt(e,t,n,a){t.child=e===null?cy(t,null,n,a):zi(t,e.child,n,a)}function Em(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Ui(t),a=Df(e,t,n,r,s,i),l=Nf(),e!==null&&!Nt?(Rf(e,t,i),Da(e,t,i)):(Oe&&l&&Sf(t),t.flags|=1,Kt(e,t,a,i),t.child)}function Tm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!wf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Zy(e,t,s,a,i)):(e=so(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Yf(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(r,a)&&e.ref===t.ref)return Da(e,t,i)}return t.flags|=1,e=Ea(s,a),e.ref=t.ref,e.return=t,t.child=e}function Zy(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Xr(s,a)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=a=s,Yf(e,i))e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Da(e,t,i)}return wd(e,t,n,a,i)}function Py(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return jm(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ro(t,s!==null?s.cachePool:null),s!==null?mm(t,s):md(),fy(t);else return a=t.lanes=536870912,jm(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(ro(t,s.cachePool),mm(t,s),Ia(),t.memoizedState=null):(e!==null&&ro(t,null),md(),Ia());return Kt(e,t,i,n),t.child}function wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jm(e,t,n,a,i){var s=Tf();return s=s===null?null:{parent:Dt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&ro(t,null),md(),fy(t),e!==null&&Qs(e,t,a,!0),t.childLanes=i,null}function co(e,t){return t=Mo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Om(e,t,n){return zi(t,e.child,null,n),e=co(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function yS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(a.mode==="hidden")return e=co(t,a),t.lanes=536870912,wr(null,e);if(gd(t),(e=st)?(e=Yp(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ci!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=ny(e),n.return=t,t.child=n,Qt=t,st=null)):e=null,e===null)throw ui(t);return t.lanes=536870912,null}return co(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(gd(t),i)if(t.flags&256)t.flags&=-257,t=Om(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(A(558));else if(Nt||Qs(e,t,n,!1),i=(n&e.childLanes)!==0,Nt||i){if(a=Je,a!==null&&(r=Av(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Yi(e,r),gn(a,e,r),Vf;Lo(),t=Om(e,t,n)}else e=s.treeContext,st=Xn(r.nextSibling),Qt=t,Oe=!0,ti=null,In=!1,e!==null&&iy(t,e),t=co(t,a),t.flags|=4096;return t}return e=Ea(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wd(e,t,n,a,i){return Ui(t),n=Df(e,t,n,a,void 0,i),a=Nf(),e!==null&&!Nt?(Rf(e,t,i),Da(e,t,i)):(Oe&&a&&Sf(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Am(e,t,n,a,i,s){return Ui(t),t.updateQueue=null,n=my(t,a,n,i),hy(e),a=Nf(),e!==null&&!Nt?(Rf(e,t,s),Da(e,t,s)):(Oe&&a&&Sf(t),t.flags|=1,Kt(e,t,n,s),t.child)}function Cm(e,t,n,a,i){if(Ui(t),t.stateNode===null){var s=ps,r=n.contextType;typeof r=="object"&&r!==null&&(s=Jt(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Of(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Jt(r):ps,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ou(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&bd.enqueueReplaceState(s,s.state,null),Nr(t,a,s,i),Dr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=Bi(n,l);s.props=o;var c=s.context,d=n.contextType;r=ps,typeof d=="object"&&d!==null&&(r=Jt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==r)&&Sm(t,s,a,r),Ha=!1;var h=t.memoizedState;s.state=h,Nr(t,a,s,i),Dr(),c=t.memoizedState,l||h!==c||Ha?(typeof f=="function"&&(ou(t,n,f,a),c=t.memoizedState),(o=Ha||wm(t,n,o,a,h,c,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,fd(e,t),r=t.memoizedProps,d=Bi(n,r),s.props=d,f=t.pendingProps,h=s.context,c=n.contextType,o=ps,typeof c=="object"&&c!==null&&(o=Jt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==f||h!==o)&&Sm(t,s,a,o),Ha=!1,h=t.memoizedState,s.state=h,Nr(t,a,s,i),Dr();var m=t.memoizedState;r!==f||h!==m||Ha||e!==null&&e.dependencies!==null&&jo(e.dependencies)?(typeof l=="function"&&(ou(t,n,l,a),m=t.memoizedState),(d=Ha||wm(t,n,d,a,h,m,o)||e!==null&&e.dependencies!==null&&jo(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=d):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,uo(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=zi(t,e.child,null,i),t.child=zi(t,null,n,i)):Kt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Da(e,t,i),e}function Dm(e,t,n,a){return ki(),t.flags|=256,Kt(e,t,n,a),t.child}var cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:ry()}}function du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cn),e}function Fy(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(i?Ga(t):Ia(),(e=st)?(e=Yp(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ci!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=ny(e),n.return=t,t.child=n,Qt=t,st=null)):e=null,e===null)throw ui(t);return Ud(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ia(),i=t.mode,l=Mo({mode:"hidden",children:l},i),a=Di(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=uu(n),a.childLanes=du(e,r,n),t.memoizedState=cu,wr(null,a)):(Ga(t),Sd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Ga(t),t.flags&=-257,t=fu(e,t,n)):t.memoizedState!==null?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),l=a.fallback,i=t.mode,a=Mo({mode:"visible",children:a.children},i),l=Di(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,zi(t,e.child,null,n),a=t.child,a.memoizedState=uu(n),a.childLanes=du(e,r,n),t.memoizedState=cu,t=wr(null,a));else if(Ga(t),Ud(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,a=Error(A(419)),a.stack="",a.digest=r,Jr({value:a,source:null,stack:null}),t=fu(e,t,n)}else if(Nt||Qs(e,t,n,!1),r=(n&e.childLanes)!==0,Nt||r){if(r=Je,r!==null&&(a=Av(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Yi(e,a),gn(r,e,a),Vf;kd(l)||Lo(),t=fu(e,t,n)}else kd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,st=Xn(l.nextSibling),Qt=t,Oe=!0,ti=null,In=!1,e!==null&&iy(t,e),t=Sd(t,a.children),t.flags|=4096);return t}return i?(Ia(),l=a.fallback,i=t.mode,o=e.child,c=o.sibling,a=Ea(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=Ea(c,l):(l=Di(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,wr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=uu(n):(i=l.cachePool,i!==null?(o=Dt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=ry(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=du(e,r,n),t.memoizedState=cu,wr(e.child,a)):(Ga(t),n=e.child,e=n.sibling,n=Ea(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Sd(e,t){return t=Mo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mo(e,t){return e=jn(22,e,null,t),e.lanes=0,e}function fu(e,t,n){return zi(t,e.child,null,n),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),cd(e.return,t,n)}function hu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Wy(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=xt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,tt(xt,r),Kt(e,t,a,n),a=Oe?Qr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nm(e,n,t);else if(e.tag===19)Nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Co(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Co(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hu(t,!0,n,null,s,a);break;case"together":hu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Qs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ea(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ea(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&jo(e)))}function pS(e,t,n){switch(t.tag){case 3:bo(t,t.stateNode.containerInfo),Ya(t,Dt,e.memoizedState.cache),ki();break;case 27:case 5:Zu(t);break;case 4:bo(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,gd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ga(t),t.flags|=128,null):n&t.child.childLanes?Fy(e,t,n):(Ga(t),e=Da(e,t,n),e!==null?e.sibling:null);Ga(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Qs(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Wy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(xt,xt.current),a)break;return null;case 22:return t.lanes=0,Py(e,t,n,t.pendingProps);case 24:Ya(t,Dt,e.memoizedState.cache)}return Da(e,t,n)}function ep(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!Yf(e,n)&&!(t.flags&128))return Nt=!1,pS(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Oe&&t.flags&1048576&&ay(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Si(t.elementType),t.type=e,typeof e=="function")wf(e)?(a=Bi(e,a),t.tag=1,t=Cm(null,t,e,a,n)):(t.tag=0,t=wd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===lf){t.tag=11,t=Em(null,t,e,a,n);break e}else if(i===of){t.tag=14,t=Tm(null,t,e,a,n);break e}}throw t=Qu(e)||e,Error(A(306,t,""))}}return t;case 0:return wd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Bi(a,t.pendingProps),Cm(e,t,a,i,n);case 3:e:{if(bo(t,t.stateNode.containerInfo),e===null)throw Error(A(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,fd(e,t),Nr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Ya(t,Dt,a),a!==s.cache&&ud(t,[Dt],n,!0),Dr(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Dm(e,t,a,n);break e}else if(a!==i){i=Gn(Error(A(424)),t),Jr(i),t=Dm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Xn(e.firstChild),Qt=t,Oe=!0,ti=null,In=!0,n=cy(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ki(),a===i){t=Da(e,t,n);break e}Kt(e,t,a,n)}t=t.child}return t;case 26:return uo(e,t),e===null?(n=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,a=$o(ei.current).createElement(n),a[Xt]=t,a[vn]=e,Zt(a,n,e),$t(a),t.stateNode=a):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zu(t),e===null&&Oe&&(a=t.stateNode=Gp(t.type,t.pendingProps,ei.current),Qt=t,In=!0,i=st,mi(t.type)?(zd=i,st=Xn(a.firstChild)):st=i),Kt(e,t,t.pendingProps.children,n),uo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((i=a=st)&&(a=QS(a,t.type,t.pendingProps,In),a!==null?(t.stateNode=a,Qt=t,st=Xn(a.firstChild),In=!1,i=!0):i=!1),i||ui(t)),Zu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Rd(i,s)?a=null:r!==null&&Rd(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Df(e,t,cS,null,null,n),tl._currentValue=i),uo(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&Oe&&((e=n=st)&&(n=JS(n,t.pendingProps,In),n!==null?(t.stateNode=n,Qt=t,st=null,e=!0):e=!1),e||ui(t)),null;case 13:return Fy(e,t,n);case 4:return bo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=zi(t,null,a,n):Kt(e,t,a,n),t.child;case 11:return Em(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ya(t,t.type,a.value),Kt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ui(t),i=Jt(i),a=a(i),t.flags|=1,Kt(e,t,a,n),t.child;case 14:return Tm(e,t,t.type,t.pendingProps,n);case 15:return Zy(e,t,t.type,t.pendingProps,n);case 19:return Wy(e,t,n);case 31:return yS(e,t,n);case 22:return Py(e,t,n,t.pendingProps);case 24:return Ui(t),a=Jt(Dt),e===null?(i=Tf(),i===null&&(i=Je,s=Ef(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Of(t),Ya(t,Dt,i)):(e.lanes&n&&(fd(e,t),Nr(t,null,null,n),Dr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ya(t,Dt,a)):(a=s.cache,Ya(t,Dt,a),a!==i.cache&&ud(t,[Dt],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function ha(e){e.flags|=4}function mu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Ep())e.flags|=8192;else throw Ri=Oo,jf}else e.flags&=-16777217}function Rm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Xp(t))if(Ep())e.flags|=8192;else throw Ri=Oo,jf}function Bl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tv():536870912,e.lanes|=t,Ls|=t)}function hr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function bS(e,t,n){var a=t.pendingProps;switch(xf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(Dt),Ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?ha(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,su())),it(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(ha(t),s!==null?(it(t),Rm(t,s)):(it(t),mu(t,i,null,a,n))):s?s!==e.memoizedState?(ha(t),it(t),Rm(t,s)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ha(t),it(t),mu(t,i,e,a,n)),null;case 27:if(_o(t),n=ei.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return it(t),null}e=la.current,Pi(t)?lm(t):(e=Gp(i,a,n),t.stateNode=e,ha(t))}return it(t),null;case 5:if(_o(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return it(t),null}if(s=la.current,Pi(t))lm(t);else{var r=$o(ei.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Xt]=t,s[vn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Zt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ha(t)}}return it(t),mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(A(166));if(e=ei.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||qp(e.nodeValue,n)),e||ui(t,!0)}else e=$o(e).createTextNode(a),e[Xt]=t,t.stateNode=e}return it(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Pi(t),n!==null){if(e===null){if(!a)throw Error(A(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(557));e[Xt]=t}else ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else n=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if(t.flags&128)throw Error(A(558))}return it(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Pi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Xt]=t}else ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else i=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bl(t,t.updateQueue),it(t),null);case 4:return Ns(),e===null&&Zf(t.stateNode.containerInfo),it(t),null;case 10:return Ta(t.type),it(t),null;case 19:if(Vt(xt),a=t.memoizedState,a===null)return it(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)hr(a,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Co(e),s!==null){for(t.flags|=128,hr(a,!1),e=s.updateQueue,t.updateQueue=e,Bl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ty(n,e),n=n.sibling;return tt(xt,xt.current&1|2),Oe&&ba(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Dn()>Uo&&(t.flags|=128,i=!0,hr(a,!1),t.lanes=4194304)}else{if(!i)if(e=Co(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Bl(t,e),hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Oe)return it(t),null}else 2*Dn()-a.renderingStartTime>Uo&&n!==536870912&&(t.flags|=128,i=!0,hr(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Dn(),e.sibling=null,n=xt.current,tt(xt,i?n&1|2:n&1),Oe&&ba(t,a.treeForkCount),e):(it(t),null);case 22:case 23:return Tn(t),Af(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),n=t.updateQueue,n!==null&&Bl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Vt(Ni),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(Dt),it(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function _S(e,t){switch(xf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(Dt),Ns(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _o(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(A(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(xt),null;case 4:return Ns(),null;case 10:return Ta(t.type),null;case 22:case 23:return Tn(t),Af(),e!==null&&Vt(Ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(Dt),null;case 25:return null;default:return null}}function tp(e,t){switch(xf(t),t.tag){case 3:Ta(Dt),Ns();break;case 26:case 27:case 5:_o(t);break;case 4:Ns();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:Vt(xt);break;case 10:Ta(t.type);break;case 22:case 23:Tn(t),Af(),e!==null&&Vt(Ni);break;case 24:Ta(Dt)}}function yl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){Ye(t,t.return,l)}}function di(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(d){Ye(i,o,d)}}}a=a.next}while(a!==s)}}catch(d){Ye(t,t.return,d)}}function np(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{dy(t,n)}catch(a){Ye(e,e.return,a)}}}function ap(e,t,n){n.props=Bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ye(e,t,a)}}function Mr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Ye(e,t,i)}}function ra(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Ye(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ye(e,t,i)}else n.current=null}function ip(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Ye(e,e.return,i)}}function gu(e,t,n){try{var a=e.stateNode;VS(a,e.type,n,t),a[vn]=t}catch(i){Ye(e,e.return,i)}}function sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sa));else if(a!==4&&(a===27&&mi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(xd(e,t,n),e=e.sibling;e!==null;)xd(e,t,n),e=e.sibling}function ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&mi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function rp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Zt(t,a,n),t[Xt]=e,t[vn]=n}catch(s){Ye(e,e.return,s)}}var _a=!1,Ct=!1,yu=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function wS(e,t){if(e=e.containerInfo,Dd=Io,e=Xv(e),pf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==s||a!==0&&f.nodeType!==3||(o=r+a),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=r),h===s&&++d===a&&(o=r),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:e,selectionRange:n},Io=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var b=Bi(n.type,i);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(_){Ye(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function lp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ga(e,n),a&4&&yl(5,n);break;case 1:if(ga(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Ye(n,n.return,r)}else{var i=Bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ye(n,n.return,r)}}a&64&&np(n),a&512&&Mr(n,n.return);break;case 3:if(ga(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{dy(e,t)}catch(r){Ye(n,n.return,r)}}break;case 27:t===null&&a&4&&rp(n);case 26:case 5:ga(e,n),t===null&&a&4&&ip(n),a&512&&Mr(n,n.return);break;case 12:ga(e,n);break;case 31:ga(e,n),a&4&&up(e,n);break;case 13:ga(e,n),a&4&&dp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=DS.bind(null,n),ZS(e,n))));break;case 22:if(a=n.memoizedState!==null||_a,!a){t=t!==null&&t.memoizedState!==null||Ct,i=_a;var s=Ct;_a=a,(Ct=t)&&!s?ya(e,n,(n.subtreeFlags&8772)!==0):ga(e,n),_a=i,Ct=s}break;case 30:break;default:ga(e,n)}}function op(e){var t=e.alternate;t!==null&&(e.alternate=null,op(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ff(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,hn=!1;function ma(e,t,n){for(n=n.child;n!==null;)cp(e,t,n),n=n.sibling}function cp(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 26:Ct||ra(n,t),ma(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ct||ra(n,t);var a=dt,i=hn;mi(n.type)&&(dt=n.stateNode,hn=!1),ma(e,t,n),Lr(n.stateNode),dt=a,hn=i;break;case 5:Ct||ra(n,t);case 6:if(a=dt,i=hn,dt=null,ma(e,t,n),dt=a,hn=i,dt!==null)if(hn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(s){Ye(n,t,s)}else try{dt.removeChild(n.stateNode)}catch(s){Ye(n,t,s)}break;case 18:dt!==null&&(hn?(e=dt,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$s(e)):Km(dt,n.stateNode));break;case 4:a=dt,i=hn,dt=n.stateNode.containerInfo,hn=!0,ma(e,t,n),dt=a,hn=i;break;case 0:case 11:case 14:case 15:di(2,n,t),Ct||di(4,n,t),ma(e,t,n);break;case 1:Ct||(ra(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&ap(n,t,a)),ma(e,t,n);break;case 21:ma(e,t,n);break;case 22:Ct=(a=Ct)||n.memoizedState!==null,ma(e,t,n),Ct=a;break;default:ma(e,t,n)}}function up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(n){Ye(t,t.return,n)}}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(n){Ye(t,t.return,n)}}function SS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mm),t;default:throw Error(A(435,e.tag))}}function Hl(e,t){var n=SS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=NS.bind(null,e,a);a.then(i,i)}})}function dn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(mi(l.type)){dt=l.stateNode,hn=!1;break e}break;case 5:dt=l.stateNode,hn=!1;break e;case 3:case 4:dt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(dt===null)throw Error(A(160));cp(s,r,i),dt=null,hn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)fp(t,e),t=t.sibling}var Wn=null;function fp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(t,e),fn(e),a&4&&(di(3,e,e.return),yl(3,e),di(5,e,e.return));break;case 1:dn(t,e),fn(e),a&512&&(Ct||n===null||ra(n,n.return)),a&64&&_a&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Wn;if(dn(t,e),fn(e),a&512&&(Ct||n===null||ra(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[hl]||s[Xt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Zt(s,a,n),s[Xt]=e,$t(s),a=s;break e;case"link":var r=Wm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Wm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;default:throw Error(A(468,a))}s[Xt]=e,$t(s),a=s}e.stateNode=a}else eg(i,e.type,e.stateNode);else e.stateNode=Fm(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?eg(i,e.type,e.stateNode):Fm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:dn(t,e),fn(e),a&512&&(Ct||n===null||ra(n,n.return)),n!==null&&a&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dn(t,e),fn(e),a&512&&(Ct||n===null||ra(n,n.return)),e.flags&32){i=e.stateNode;try{Ms(i,"")}catch(b){Ye(e,e.return,b)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,gu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(yu=!0);break;case 6:if(dn(t,e),fn(e),a&4){if(e.stateNode===null)throw Error(A(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(b){Ye(e,e.return,b)}}break;case 3:if(mo=null,i=Wn,Wn=Vo(t.containerInfo),dn(t,e),Wn=i,fn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(b){Ye(e,e.return,b)}yu&&(yu=!1,hp(e));break;case 4:a=Wn,Wn=Vo(e.stateNode.containerInfo),dn(t,e),fn(e),Wn=a;break;case 12:dn(t,e),fn(e);break;case 31:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Hl(e,a)));break;case 13:dn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bc=Dn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Hl(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=_a,d=Ct;if(_a=c||i,Ct=d||o,dn(t,e),Ct=d,_a=c,fn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||_a||Ct||xi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(b){Ye(o,o.return,b)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){Ye(o,o.return,b)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Xm(m,!0):Xm(o.stateNode,!1)}catch(b){Ye(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Hl(e,n))));break;case 19:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Hl(e,a)));break;case 30:break;case 21:break;default:dn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(sp(a)){n=a;break}a=a.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var i=n.stateNode,s=vu(e);ko(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Ms(r,""),n.flags&=-33);var l=vu(e);ko(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=vu(e);xd(e,c,o);break;default:throw Error(A(161))}}catch(d){Ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lp(e,t.alternate,t),t=t.sibling}function xi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:di(4,t,t.return),xi(t);break;case 1:ra(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ap(t,t.return,n),xi(t);break;case 27:Lr(t.stateNode);case 26:case 5:ra(t,t.return),xi(t);break;case 22:t.memoizedState===null&&xi(t);break;case 30:xi(t);break;default:xi(t)}e=e.sibling}}function ya(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ya(i,s,n),yl(4,s);break;case 1:if(ya(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ye(a,a.return,c)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)uy(o[i],l)}catch(c){Ye(a,a.return,c)}}n&&r&64&&np(s),Mr(s,s.return);break;case 27:rp(s);case 26:case 5:ya(i,s,n),n&&a===null&&r&4&&ip(s),Mr(s,s.return);break;case 12:ya(i,s,n);break;case 31:ya(i,s,n),n&&r&4&&up(i,s);break;case 13:ya(i,s,n),n&&r&4&&dp(i,s);break;case 22:s.memoizedState===null&&ya(i,s,n),Mr(s,s.return);break;case 30:break;default:ya(i,s,n)}t=t.sibling}}function Gf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gl(n))}function If(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gl(e))}function Jn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(e,t,n,a),t=t.sibling}function mp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jn(e,t,n,a),i&2048&&yl(9,t);break;case 1:Jn(e,t,n,a);break;case 3:Jn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gl(e)));break;case 12:if(i&2048){Jn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ye(t,t.return,o)}}else Jn(e,t,n,a);break;case 31:Jn(e,t,n,a);break;case 13:Jn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Jn(e,t,n,a):kr(e,t):s._visibility&2?Jn(e,t,n,a):(s._visibility|=2,ss(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Gf(r,t);break;case 24:Jn(e,t,n,a),i&2048&&If(t.alternate,t);break;default:Jn(e,t,n,a)}}function ss(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:ss(s,r,l,o,i),yl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ss(s,r,l,o,i):kr(s,r):(d._visibility|=2,ss(s,r,l,o,i)),i&&c&2048&&Gf(r.alternate,r);break;case 24:ss(s,r,l,o,i),i&&c&2048&&If(r.alternate,r);break;default:ss(s,r,l,o,i)}t=t.sibling}}function kr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:kr(n,a),i&2048&&Gf(a.alternate,a);break;case 24:kr(n,a),i&2048&&If(a.alternate,a);break;default:kr(n,a)}t=t.sibling}}var Sr=8192;function Fi(e,t,n){if(e.subtreeFlags&Sr)for(e=e.child;e!==null;)gp(e,t,n),e=e.sibling}function gp(e,t,n){switch(e.tag){case 26:Fi(e,t,n),e.flags&Sr&&e.memoizedState!==null&&ox(n,Wn,e.memoizedState,e.memoizedProps);break;case 5:Fi(e,t,n);break;case 3:case 4:var a=Wn;Wn=Vo(e.stateNode.containerInfo),Fi(e,t,n),Wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Sr,Sr=16777216,Fi(e,t,n),Sr=a):Fi(e,t,n));break;default:Fi(e,t,n)}}function vp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,pp(a,e)}vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&di(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fo(e)):mr(e);break;default:mr(e)}}function fo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,pp(a,e)}vp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:di(8,t,t.return),fo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fo(t));break;default:fo(t)}e=e.sibling}}function pp(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:di(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:gl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ht=a;else e:for(n=e;Ht!==null;){a=Ht;var i=a.sibling,s=a.return;if(op(a),a===n){Ht=null;break e}if(i!==null){i.return=s,Ht=i;break e}Ht=s}}}var xS={getCacheForType:function(e){var t=Jt(Dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Jt(Dt).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Je=null,we=null,Te=0,$e=0,En=null,Pa=!1,Zs=!1,Kf=!1,Na=0,wt=0,fi=0,Mi=0,Xf=0,Cn=0,Ls=0,Ur=null,mn=null,Ed=!1,bc=0,bp=0,Uo=1/0,zo=null,ii=null,zt=0,si=null,Bs=null,ja=0,Td=0,jd=null,_p=null,zr=0,Od=null;function Mn(){return Ue&2&&Te!==0?Te&-Te:ae.T!==null?Jf():Cv()}function wp(){if(Cn===0)if(!(Te&536870912)||Oe){var e=Nl;Nl<<=1,!(Nl&3932160)&&(Nl=262144),Cn=e}else Cn=536870912;return e=Un.current,e!==null&&(e.flags|=32),Cn}function gn(e,t,n){(e===Je&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),Fa(e,Te,Cn,!1)),fl(e,n),(!(Ue&2)||e!==Je)&&(e===Je&&(!(Ue&2)&&(Mi|=n),wt===4&&Fa(e,Te,Cn,!1)),ca(e))}function Sp(e,t,n){if(Ue&6)throw Error(A(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||dl(e,t),i=a?OS(e,t):pu(e,t,!0),s=a;do{if(i===0){Zs&&!a&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!TS(n)){i=pu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Ur;var o=l.current.memoizedState.isDehydrated;if(o&&(Hs(l,r).flags|=256),r=pu(l,r,!1),r!==2){if(Kf&&!o){l.errorRecoveryDisabledLanes|=s,Mi|=s,i=4;break e}s=mn,mn=i,s!==null&&(mn===null?mn=s:mn.push.apply(mn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Hs(e,0),Fa(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:Fa(a,t,Cn,!Pa);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(i=bc+300-Dn(),10<i)){if(Fa(a,t,Cn,!Pa),oc(a,0,!0)!==0)break e;ja=t,a.timeoutHandle=Vp(km.bind(null,a,n,mn,zo,Ed,t,Cn,Mi,Ls,Pa,s,"Throttled",-0,0),i);break e}km(a,n,mn,zo,Ed,t,Cn,Mi,Ls,Pa,s,null,-0,0)}}break}while(!0);ca(e)}function km(e,t,n,a,i,s,r,l,o,c,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},gp(t,s,f);var b=(s&62914560)===s?bc-Dn():(s&4194048)===s?bp-Dn():0;if(b=cx(f,b),b!==null){ja=s,e.cancelPendingCommit=b(zm.bind(null,e,t,s,n,a,i,r,l,o,d,f,null,h,m)),Fa(e,s,r,!c);return}}zm(e,t,s,n,a,i,r,l,o)}function TS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,a){t&=~Xf,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Rn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&jv(e,n,t)}function _c(){return Ue&6?!0:(pl(0),!1)}function Qf(){if(we!==null){if($e===0)var e=we.return;else e=we,xa=Gi=null,Mf(e),js=null,Zr=0,e=we;for(;e!==null;)tp(e.alternate,e),e=e.return;we=null}}function Hs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,IS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ja=0,Qf(),Je=e,we=n=Ea(e.current,null),Te=t,$e=0,En=null,Pa=!1,Zs=dl(e,t),Kf=!1,Ls=Cn=Xf=Mi=fi=wt=0,mn=Ur=null,Ed=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Rn(a),s=1<<i;t|=e[i],a&=~s}return Na=t,fc(),n}function xp(e,t){de=null,ae.H=Fr,t===Js||t===mc?(t=fm(),$e=3):t===jf?(t=fm(),$e=4):$e=t===Vf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,En=t,we===null&&(wt=1,Ro(e,Gn(t,e.current)))}function Ep(){var e=Un.current;return e===null?!0:(Te&4194048)===Te?Kn===null:(Te&62914560)===Te||Te&536870912?e===Kn:!1}function Tp(){var e=ae.H;return ae.H=Fr,e===null?Fr:e}function jp(){var e=ae.A;return ae.A=xS,e}function Lo(){wt=4,Pa||(Te&4194048)!==Te&&Un.current!==null||(Zs=!0),!(fi&134217727)&&!(Mi&134217727)||Je===null||Fa(Je,Te,Cn,!1)}function pu(e,t,n){var a=Ue;Ue|=2;var i=Tp(),s=jp();(Je!==e||Te!==t)&&(zo=null,Hs(e,t)),t=!1;var r=wt;e:do try{if($e!==0&&we!==null){var l=we,o=En;switch($e){case 8:Qf(),r=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var c=$e;if($e=0,En=null,ws(e,l,o,c),n&&Zs){r=0;break e}break;default:c=$e,$e=0,En=null,ws(e,l,o,c)}}jS(),r=wt;break}catch(d){xp(e,d)}while(!0);return t&&e.shellSuspendCounter++,xa=Gi=null,Ue=a,ae.H=i,ae.A=s,we===null&&(Je=null,Te=0,fc()),r}function jS(){for(;we!==null;)Op(we)}function OS(e,t){var n=Ue;Ue|=2;var a=Tp(),i=jp();Je!==e||Te!==t?(zo=null,Uo=Dn()+500,Hs(e,t)):Zs=dl(e,t);e:do try{if($e!==0&&we!==null){t=we;var s=En;t:switch($e){case 1:$e=0,En=null,ws(e,t,s,1);break;case 2:case 9:if(dm(s)){$e=0,En=null,Um(t);break}t=function(){$e!==2&&$e!==9||Je!==e||($e=7),ca(e)},s.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:dm(s)?($e=0,En=null,Um(t)):($e=0,En=null,ws(e,t,s,7));break;case 5:var r=null;switch(we.tag){case 26:r=we.memoizedState;case 5:case 27:var l=we;if(r?Xp(r):l.stateNode.complete){$e=0,En=null;var o=l.sibling;if(o!==null)we=o;else{var c=l.return;c!==null?(we=c,wc(c)):we=null}break t}}$e=0,En=null,ws(e,t,s,5);break;case 6:$e=0,En=null,ws(e,t,s,6);break;case 8:Qf(),wt=6;break e;default:throw Error(A(462))}}AS();break}catch(d){xp(e,d)}while(!0);return xa=Gi=null,ae.H=a,ae.A=i,Ue=n,we!==null?0:(Je=null,Te=0,fc(),wt)}function AS(){for(;we!==null&&!P_();)Op(we)}function Op(e){var t=ep(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?wc(e):we=t}function Um(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Am(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Am(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Mf(t);default:tp(n,t),t=we=ty(t,Na),t=ep(n,t,Na)}e.memoizedProps=e.pendingProps,t===null?wc(e):we=t}function ws(e,t,n,a){xa=Gi=null,Mf(t),js=null,Zr=0;var i=t.return;try{if(vS(e,i,t,n,Te)){wt=1,Ro(e,Gn(n,e.current)),we=null;return}}catch(s){if(i!==null)throw we=i,s;wt=1,Ro(e,Gn(n,e.current)),we=null;return}t.flags&32768?(Oe||a===1?e=!0:Zs||Te&536870912?e=!1:(Pa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Un.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ap(t,e)):wc(t)}function wc(e){var t=e;do{if(t.flags&32768){Ap(t,Pa);return}e=t.return;var n=bS(t.alternate,t,Na);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);wt===0&&(wt=5)}function Ap(e,t){do{var n=_S(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);wt=6,we=null}function zm(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do Sc();while(zt!==0);if(Ue&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(s=t.lanes|t.childLanes,s|=bf,lw(e,n,s,r,l,o),e===Je&&(we=Je=null,Te=0),Bs=t,si=e,ja=n,Td=s,jd=i,_p=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,RS(wo,function(){return Mp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ae.T,ae.T=null,i=ze.p,ze.p=2,r=Ue,Ue|=4;try{wS(e,t,n)}finally{Ue=r,ze.p=i,ae.T=a}}zt=1,Cp(),Dp(),Np()}}function Cp(){if(zt===1){zt=0;var e=si,t=Bs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ae.T,ae.T=null;var a=ze.p;ze.p=2;var i=Ue;Ue|=4;try{fp(t,e);var s=Nd,r=Xv(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Kv(l.ownerDocument.documentElement,l)){if(o!==null&&pf(l)){var c=o.start,d=o.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),b=l.textContent.length,_=Math.min(o.start,b),S=o.end===void 0?_:Math.min(o.end,b);!m.extend&&_>S&&(r=S,S=_,_=r);var y=im(l,_),g=im(l,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=f.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),_>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Io=!!Dd,Nd=Dd=null}finally{Ue=i,ze.p=a,ae.T=n}}e.current=t,zt=2}}function Dp(){if(zt===2){zt=0;var e=si,t=Bs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ae.T,ae.T=null;var a=ze.p;ze.p=2;var i=Ue;Ue|=4;try{lp(e,t.alternate,t)}finally{Ue=i,ze.p=a,ae.T=n}}zt=3}}function Np(){if(zt===4||zt===3){zt=0,F_();var e=si,t=Bs,n=ja,a=_p;t.subtreeFlags&10256||t.flags&10256?zt=5:(zt=0,Bs=si=null,Rp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ii=null),df(n),t=t.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(ul,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ae.T,i=ze.p,ze.p=2,ae.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{ae.T=t,ze.p=i}}ja&3&&Sc(),ca(e),i=e.pendingLanes,n&261930&&i&42?e===Od?zr++:(zr=0,Od=e):zr=0,pl(0)}}function Rp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gl(t)))}function Sc(){return Cp(),Dp(),Np(),Mp()}function Mp(){if(zt!==5)return!1;var e=si,t=Td;Td=0;var n=df(ja),a=ae.T,i=ze.p;try{ze.p=32>n?32:n,ae.T=null,n=jd,jd=null;var s=si,r=ja;if(zt=0,Bs=si=null,ja=0,Ue&6)throw Error(A(331));var l=Ue;if(Ue|=4,yp(s.current),mp(s,s.current,r,n),Ue=l,pl(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(ul,s)}catch{}return!0}finally{ze.p=i,ae.T=a,Rp(e,t)}}function Lm(e,t,n){t=Gn(n,t),t=_d(e.stateNode,t,2),e=ai(e,t,2),e!==null&&(fl(e,2),ca(e))}function Ye(e,t,n){if(e.tag===3)Lm(e,e,n);else for(;t!==null;){if(t.tag===3){Lm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ii===null||!ii.has(a))){e=Gn(n,e),n=Qy(2),a=ai(t,n,2),a!==null&&(Jy(n,a,t,e),fl(a,2),ca(a));break}}t=t.return}}function bu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ES;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Kf=!0,i.add(n),e=CS.bind(null,e,t,n),t.then(e,e))}function CS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Je===e&&(Te&n)===n&&(wt===4||wt===3&&(Te&62914560)===Te&&300>Dn()-bc?!(Ue&2)&&Hs(e,0):Xf|=n,Ls===Te&&(Ls=0)),ca(e)}function kp(e,t){t===0&&(t=Tv()),e=Yi(e,t),e!==null&&(fl(e,t),ca(e))}function DS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kp(e,n)}function NS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(A(314))}a!==null&&a.delete(t),kp(e,n)}function RS(e,t){return cf(e,t)}var Bo=null,rs=null,Ad=!1,Ho=!1,_u=!1,Wa=0;function ca(e){e!==rs&&e.next===null&&(rs===null?Bo=rs=e:rs=rs.next=e),Ho=!0,Ad||(Ad=!0,kS())}function pl(e,t){if(!_u&&Ho){_u=!0;do for(var n=!1,a=Bo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Rn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Bm(a,s))}else s=Te,s=oc(a,a===Je?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||dl(a,s)||(n=!0,Bm(a,s));a=a.next}while(n);_u=!1}}function MS(){Up()}function Up(){Ho=Ad=!1;var e=0;Wa!==0&&GS()&&(e=Wa);for(var t=Dn(),n=null,a=Bo;a!==null;){var i=a.next,s=zp(a,t);s===0?(a.next=null,n===null?Bo=i:n.next=i,i===null&&(rs=n)):(n=a,(e!==0||s&3)&&(Ho=!0)),a=i}zt!==0&&zt!==5||pl(e),Wa!==0&&(Wa=0)}function zp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Rn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=rw(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=Je,n=Te,n=oc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Qc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||dl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Qc(a),df(n)){case 2:case 8:n=xv;break;case 32:n=wo;break;case 268435456:n=Ev;break;default:n=wo}return a=Lp.bind(null,e),n=cf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Qc(a),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var a=Te;return a=oc(e,e===Je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Sp(e,a,t),zp(e,Dn()),e.callbackNode!=null&&e.callbackNode===n?Lp.bind(null,e):null)}function Bm(e,t){if(Sc())return null;Sp(e,t,!0)}function kS(){KS(function(){Ue&6?cf(Sv,MS):Up()})}function Jf(){if(Wa===0){var e=ks;e===0&&(e=Dl,Dl<<=1,!(Dl&261888)&&(Dl=256)),Wa=e}return Wa}function Hm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:no(""+e)}function qm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function US(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Hm((i[vn]||null).action),r=a.submitter;r&&(t=(t=r[vn]||null)?Hm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new cc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Wa!==0){var o=r?qm(i,r):new FormData(i);pd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?qm(i,r):new FormData(i),pd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var wu=0;wu<rd.length;wu++){var Su=rd[wu],zS=Su.toLowerCase(),LS=Su[0].toUpperCase()+Su.slice(1);aa(zS,"on"+LS)}aa(Jv,"onAnimationEnd");aa(Zv,"onAnimationIteration");aa(Pv,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(Ww,"onTransitionRun");aa(eS,"onTransitionStart");aa(tS,"onTransitionCancel");aa(Fv,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wr));function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){xo(d)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){xo(d)}i.currentTarget=null,s=o}}}}function _e(e,t){var n=t[Fu];n===void 0&&(n=t[Fu]=new Set);var a=e+"__bubble";n.has(a)||(Hp(t,e,2,!1),n.add(a))}function xu(e,t,n){var a=0;t&&(a|=4),Hp(n,e,a,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[ql]){e[ql]=!0,Dv.forEach(function(n){n!=="selectionchange"&&(BS.has(n)||xu(n,!1,e),xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,xu("selectionchange",!1,t))}}function Hp(e,t,n,a){switch(Fp(t)){case 2:var i=fx;break;case 8:i=hx;break;default:i=eh}n=i.bind(null,t,n,e),i=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=fs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Bv(function(){var c=s,d=mf(n),f=[];e:{var h=Wv.get(e);if(h!==void 0){var m=cc,b=e;switch(e){case"keypress":if(io(n)===0)break e;case"keydown":case"keyup":m=Nw;break;case"focusin":b="focus",m=Wc;break;case"focusout":b="blur",m=Wc;break;case"beforeblur":case"afterblur":m=Wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kw;break;case Jv:case Zv:case Pv:m=Sw;break;case Fv:m=zw;break;case"scroll":case"scrollend":m=yw;break;case"wheel":m=Bw;break;case"copy":case"cut":case"paste":m=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zh;break;case"toggle":case"beforetoggle":m=qw}var _=(t&4)!==0,S=!_&&(e==="scroll"||e==="scrollend"),y=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,v;g!==null;){var w=g;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||y===null||(w=Ir(g,y),w!=null&&_.push(el(g,w,v))),S)break;g=g.return}0<_.length&&(h=new m(h,b,null,n,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==nd&&(b=n.relatedTarget||n.fromElement)&&(fs(b)||b[Ks]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?fs(b):null,b!==null&&(S=cl(b),_=b.tag,b!==S||_!==5&&_!==27&&_!==6)&&(b=null)):(m=null,b=c),m!==b)){if(_=Qh,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=Zh,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?h:_r(m),v=b==null?h:_r(b),h=new _(w,g+"leave",m,n,d),h.target=S,h.relatedTarget=v,w=null,fs(d)===c&&(_=new _(y,g+"enter",b,n,d),_.target=v,_.relatedTarget=S,w=_),S=w,m&&b)t:{for(_=HS,y=m,g=b,v=0,w=y;w;w=_(w))v++;w=0;for(var x=g;x;x=_(x))w++;for(;0<v-w;)y=_(y),v--;for(;0<w-v;)g=_(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate){_=y;break t}y=_(y),g=_(g)}_=null}else _=null;m!==null&&$m(f,h,m,_,!1),b!==null&&S!==null&&$m(f,S,b,_,!0)}}e:{if(h=c?_r(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=em;else if(Wh(h))if(Gv)j=Zw;else{j=Qw;var E=Xw}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&hf(c.elementType)&&(j=em):j=Jw;if(j&&(j=j(e,c))){Yv(f,j,n,d);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&td(h,"number",h.value)}switch(E=c?_r(c):window,e){case"focusin":(Wh(E)||E.contentEditable==="true")&&(gs=E,id=c,Or=null);break;case"focusout":Or=id=gs=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,sm(f,n,d);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":sm(f,n,d)}var O;if(yf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ms?$v(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(qv&&n.locale!=="ko"&&(ms||C!=="onCompositionStart"?C==="onCompositionEnd"&&ms&&(O=Hv()):(Za=d,gf="value"in Za?Za.value:Za.textContent,ms=!0)),E=qo(c,C),0<E.length&&(C=new Jh(C,e,null,n,d),f.push({event:C,listeners:E}),O?C.data=O:(O=Vv(n),O!==null&&(C.data=O)))),(O=Vw?Yw(e,n):Gw(e,n))&&(C=qo(c,"onBeforeInput"),0<C.length&&(E=new Jh("onBeforeInput","beforeinput",null,n,d),f.push({event:E,listeners:C}),E.data=O)),US(f,e,c,n,d)}Bp(f,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Ir(e,n),i!=null&&a.unshift(el(e,i,s)),i=Ir(e,t),i!=null&&a.push(el(e,i,s))),e.tag===3)return a;e=e.return}return[]}function HS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $m(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Ir(n,s),c!=null&&r.unshift(el(n,c,o))):i||(c=Ir(n,s),c!=null&&r.push(el(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var qS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(qS,`
`).replace($S,"")}function qp(e,t){return t=Vm(t),Vm(e)===t}function Ie(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ms(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ms(e,""+a);break;case"className":Ml(e,"class",a);break;case"tabIndex":Ml(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,n,a);break;case"style":Lv(e,a,s);break;case"data":if(t!=="object"){Ml(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=no(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",i.name,i,null),Ie(e,t,"formEncType",i.formEncType,i,null),Ie(e,t,"formMethod",i.formMethod,i,null),Ie(e,t,"formTarget",i.formTarget,i,null)):(Ie(e,t,"encType",i.encType,i,null),Ie(e,t,"method",i.method,i,null),Ie(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=no(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=no(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":_e("beforetoggle",e),_e("toggle",e),to(e,"popover",a);break;case"xlinkActuate":fa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":fa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":fa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":fa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":fa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":fa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":fa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":fa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":fa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":to(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gw.get(n)||n,to(e,n,a))}}function Cd(e,t,n,a,i,s){switch(n){case"style":Lv(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ms(e,a):(typeof a=="number"||typeof a=="bigint")&&Ms(e,""+a);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[vn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):to(e,n,a)}}}function Zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Ie(e,t,s,r,n,null)}}i&&Ie(e,t,"srcSet",n.srcSet,n,null),a&&Ie(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var l=s=r=i=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":i=d;break;case"type":r=d;break;case"checked":o=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:Ie(e,t,a,d,n,null)}}kv(e,s,l,o,c,r,i,!1);return;case"select":_e("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ie(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?xs(e,!!a,t,!1):n!=null&&xs(e,!!a,n,!0);return;case"textarea":_e("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:Ie(e,t,r,l,n,null)}zv(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ie(e,t,o,a,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(a=0;a<Wr.length;a++)_e(Wr[a],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Ie(e,t,c,a,n,null)}return;default:if(hf(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&Cd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ie(e,t,l,a,n,null))}function VS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,c=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:a.hasOwnProperty(m)||Ie(e,t,m,null,a,f)}}for(var h in a){var m=a[h];if(f=n[h],a.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:m!==f&&Ie(e,t,h,m,a,f)}}ed(e,r,l,o,c,d,s,i);return;case"select":m=r=l=h=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Ie(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Ie(e,t,i,s,a,o)}t=l,n=r,a=m,h!=null?xs(e,!!n,h,!1):!!a!=!!n&&(t!=null?xs(e,!!n,t,!0):xs(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ie(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(A(91));break;default:i!==s&&Ie(e,t,r,i,a,s)}Uv(e,h,m);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:Ie(e,t,b,null,a,h)}for(o in a)if(h=a[o],m=n[o],a.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ie(e,t,o,h,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!a.hasOwnProperty(_)&&Ie(e,t,_,null,a,h);for(c in a)if(h=a[c],m=n[c],a.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:Ie(e,t,c,h,a,m)}return;default:if(hf(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!a.hasOwnProperty(S)&&Cd(e,t,S,void 0,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Cd(e,t,d,h,a,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&Ie(e,t,y,null,a,h);for(f in a)h=a[f],m=n[f],!a.hasOwnProperty(f)||h===m||h==null&&m==null||Ie(e,t,f,h,a,m)}function Ym(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&Ym(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>l)break;var d=o.transferSize,f=o.initiatorType;d&&Ym(f)&&(o=o.responseEnd,r+=d*(o<l?1:(l-c)/(o-c)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,Nd=null;function $o(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=null;function GS(){var e=window.event;return e&&e.type==="popstate"?e===Tu?!1:(Tu=e,!0):(Tu=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(XS)}:Vp;function XS(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function Km(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),$s(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Lr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Lr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[hl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Lr(e.ownerDocument.body);n=i}while(n);$s(t)}function Xm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Md(n),ff(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function QS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[hl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function JS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function Yp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zd=null;function Qm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Xn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Gp(e,t,n){switch(t=$o(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function Lr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ff(e)}var Qn=new Map,Zm=new Set;function Vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=ze.d;ze.d={f:PS,r:FS,D:WS,C:ex,L:tx,m:nx,X:ix,S:ax,M:sx};function PS(){var e=Ra.f(),t=_c();return e||t}function FS(e){var t=Xs(e);t!==null&&t.tag===5&&t.type==="form"?Ly(t):Ra.r(e)}var Ps=typeof document>"u"?null:document;function Ip(e,t,n){var a=Ps;if(a&&typeof t=="string"&&t){var i=Yn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Zm.has(i)||(Zm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Zt(t,"link",e),$t(t),a.head.appendChild(t)))}}function WS(e){Ra.D(e),Ip("dns-prefetch",e,null)}function ex(e,t){Ra.C(e,t),Ip("preconnect",e,t)}function tx(e,t,n){Ra.L(e,t,n);var a=Ps;if(a&&e&&t){var i='link[rel="preload"][as="'+Yn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Yn(n.imageSizes)+'"]')):i+='[href="'+Yn(e)+'"]';var s=i;switch(t){case"style":s=qs(e);break;case"script":s=Fs(e)}Qn.has(s)||(e=lt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qn.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(bl(s))||t==="script"&&a.querySelector(_l(s))||(t=a.createElement("link"),Zt(t,"link",e),$t(t),a.head.appendChild(t)))}}function nx(e,t){Ra.m(e,t);var n=Ps;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Yn(a)+'"][href="'+Yn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Fs(e)}if(!Qn.has(s)&&(e=lt({rel:"modulepreload",href:e},t),Qn.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_l(s)))return}a=n.createElement("link"),Zt(a,"link",e),$t(a),n.head.appendChild(a)}}}function ax(e,t,n){Ra.S(e,t,n);var a=Ps;if(a&&e){var i=Ss(a).hoistableStyles,s=qs(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(bl(s)))l.loading=5;else{e=lt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qn.get(s))&&Pf(e,n);var o=r=a.createElement("link");$t(o),Zt(o,"link",e),o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ho(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function ix(e,t){Ra.X(e,t);var n=Ps;if(n&&e){var a=Ss(n).hoistableScripts,i=Fs(e),s=a.get(i);s||(s=n.querySelector(_l(i)),s||(e=lt({src:e,async:!0},t),(t=Qn.get(i))&&Ff(e,t),s=n.createElement("script"),$t(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function sx(e,t){Ra.M(e,t);var n=Ps;if(n&&e){var a=Ss(n).hoistableScripts,i=Fs(e),s=a.get(i);s||(s=n.querySelector(_l(i)),s||(e=lt({src:e,async:!0,type:"module"},t),(t=Qn.get(i))&&Ff(e,t),s=n.createElement("script"),$t(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Pm(e,t,n,a){var i=(i=ei.current)?Vo(i):null;if(!i)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=qs(n.href),n=Ss(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=qs(n.href);var s=Ss(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(bl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(e,n),s||rx(i,e,n,r.state))),t&&a===null)throw Error(A(528,""));return r}if(t&&a!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fs(n),n=Ss(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function qs(e){return'href="'+Yn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function Kp(e){return lt({},e,{"data-precedence":e.precedence,precedence:null})}function rx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Zt(t,"link",n),$t(t),e.head.appendChild(t))}function Fs(e){return'[src="'+Yn(e)+'"]'}function _l(e){return"script[async]"+e}function Fm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Yn(n.href)+'"]');if(a)return t.instance=a,$t(a),a;var i=lt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$t(a),Zt(a,"style",i),ho(a,n.precedence,e),t.instance=a;case"stylesheet":i=qs(n.href);var s=e.querySelector(bl(i));if(s)return t.state.loading|=4,t.instance=s,$t(s),s;a=Kp(n),(i=Qn.get(i))&&Pf(a,i),s=(e.ownerDocument||e).createElement("link"),$t(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),t.state.loading|=4,ho(s,n.precedence,e),t.instance=s;case"script":return s=Fs(n.src),(i=e.querySelector(_l(s)))?(t.instance=i,$t(i),i):(a=n,(i=Qn.get(s))&&(a=lt({},n),Ff(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),$t(i),Zt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,ho(a,n.precedence,e));return t.instance}function ho(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ff(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mo=null;function Wm(e,t,n){if(mo===null){var a=new Map,i=mo=new Map;i.set(n,a)}else i=mo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[hl]||s[Xt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function eg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ox(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=qs(a.href),s=t.querySelector(bl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,$t(s);return}s=t.ownerDocument||t,a=Kp(a),(i=Qn.get(i))&&Pf(a,i),s=s.createElement("link"),$t(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Yo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ju=0;function cx(e,t){return e.stylesheets&&e.count===0&&go(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&go(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*YS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&go(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Go=null;function go(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Go=new Map,t.forEach(ux,e),Go=null,Yo.call(e))}function ux(e,t){if(!(t.state.loading&4)){var n=Go.get(e);if(n)var a=n.get(null);else{n=new Map,Go.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Yo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tl={$$typeof:wa,Provider:null,Consumer:null,_currentValue:Ci,_currentValue2:Ci,_threadCount:0};function dx(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qp(e,t,n,a,i,s,r,l,o,c,d,f){return e=new dx(e,t,n,r,o,c,d,f,l),t=1,s===!0&&(t|=24),s=jn(3,null,null,t),e.current=s,s.stateNode=e,t=Ef(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Of(s),e}function Jp(e){return e?(e=ps,e):ps}function Zp(e,t,n,a,i,s){i=Jp(i),a.context===null?a.context=i:a.pendingContext=i,a=ni(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ai(e,a,t),n!==null&&(gn(n,e,t),Cr(n,e,t))}function tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){tg(e,t),(e=e.alternate)&&tg(e,t)}function Pp(e){if(e.tag===13||e.tag===31){var t=Yi(e,67108864);t!==null&&gn(t,e,67108864),Wf(e,67108864)}}function ng(e){if(e.tag===13||e.tag===31){var t=Mn();t=uf(t);var n=Yi(e,t);n!==null&&gn(n,e,t),Wf(e,t)}}var Io=!0;function fx(e,t,n,a){var i=ae.T;ae.T=null;var s=ze.p;try{ze.p=2,eh(e,t,n,a)}finally{ze.p=s,ae.T=i}}function hx(e,t,n,a){var i=ae.T;ae.T=null;var s=ze.p;try{ze.p=8,eh(e,t,n,a)}finally{ze.p=s,ae.T=i}}function eh(e,t,n,a){if(Io){var i=Ld(a);if(i===null)Eu(e,t,a,Ko,n),ag(e,a);else if(gx(i,e,t,n,a))a.stopPropagation();else if(ag(e,a),t&4&&-1<mx.indexOf(e)){for(;i!==null;){var s=Xs(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=wi(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Rn(r);l.entanglements[1]|=o,r&=~o}ca(s),!(Ue&6)&&(Uo=Dn()+500,pl(0))}}break;case 31:case 13:l=Yi(s,2),l!==null&&gn(l,s,2),_c(),Wf(s,2)}if(s=Ld(a),s===null&&Eu(e,t,a,Ko,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Eu(e,t,a,null,n)}}function Ld(e){return e=mf(e),th(e)}var Ko=null;function th(e){if(Ko=null,e=fs(e),e!==null){var t=cl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=yv(t),e!==null)return e;e=null}else if(n===31){if(e=pv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ko=e,null}function Fp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W_()){case Sv:return 2;case xv:return 8;case wo:case ew:return 32;case Ev:return 268435456;default:return 32}default:return 32}}var Bd=!1,ri=null,li=null,oi=null,nl=new Map,al=new Map,Ka=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function gr(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Xs(t),t!==null&&Pp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gx(e,t,n,a,i){switch(t){case"focusin":return ri=gr(ri,e,t,n,a,i),!0;case"dragenter":return li=gr(li,e,t,n,a,i),!0;case"mouseover":return oi=gr(oi,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return nl.set(s,gr(nl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,al.set(s,gr(al.get(s)||null,e,t,n,a,i)),!0}return!1}function Wp(e){var t=fs(e.target);if(t!==null){var n=cl(t);if(n!==null){if(t=n.tag,t===13){if(t=yv(n),t!==null){e.blockedOn=t,$h(e.priority,function(){ng(n)});return}}else if(t===31){if(t=pv(n),t!==null){e.blockedOn=t,$h(e.priority,function(){ng(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ld(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);nd=a,n.target.dispatchEvent(a),nd=null}else return t=Xs(n),t!==null&&Pp(t),e.blockedOn=n,!1;t.shift()}return!0}function ig(e,t,n){vo(e)&&n.delete(t)}function vx(){Bd=!1,ri!==null&&vo(ri)&&(ri=null),li!==null&&vo(li)&&(li=null),oi!==null&&vo(oi)&&(oi=null),nl.forEach(ig),al.forEach(ig)}function $l(e,t){e.blockedOn===t&&(e.blockedOn=null,Bd||(Bd=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,vx)))}var Vl=null;function sg(e){Vl!==e&&(Vl=e,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(th(a||n)===null)continue;break}var s=Xs(n);s!==null&&(e.splice(t,3),t-=3,pd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function $s(e){function t(o){return $l(o,e)}ri!==null&&$l(ri,e),li!==null&&$l(li,e),oi!==null&&$l(oi,e),nl.forEach(t),al.forEach(t);for(var n=0;n<Ka.length;n++){var a=Ka[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)Wp(n),n.blockedOn===null&&Ka.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[vn]||null;if(typeof s=="function")r||sg(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[vn]||null)l=r.formAction;else if(th(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),sg(n)}}}function e0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function nh(e){this._internalRoot=e}xc.prototype.render=nh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,a=Mn();Zp(n,a,e,t,null,null)};xc.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zp(e.current,2,null,e,null,null),_c(),t[Ks]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ka.length&&t!==0&&t<Ka[n].priority;n++);Ka.splice(n,0,e),n===0&&Wp(e)}};var rg=gv.version;if(rg!=="19.2.0")throw Error(A(527,rg,"19.2.0"));ze.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=K_(t),e=e!==null?bv(e):null,e=e===null?null:e.stateNode,e};var yx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{ul=Yl.inject(yx),Nn=Yl}catch{}}rc.createRoot=function(e,t){if(!vv(e))throw Error(A(299));var n=!1,a="",i=Iy,s=Ky,r=Xy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Qp(e,1,!1,null,null,n,a,null,i,s,r,e0),e[Ks]=t.current,Zf(e),new nh(t)};rc.hydrateRoot=function(e,t,n){if(!vv(e))throw Error(A(299));var a=!1,i="",s=Iy,r=Ky,l=Xy,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Qp(e,1,!0,t,n??null,a,i,o,s,r,l,e0),t.context=Jp(null),n=t.current,a=Mn(),a=uf(a),i=ni(a),i.callback=null,ai(n,i,a),n=a,t.current.lanes=n,fl(t,n),ca(t),e[Ks]=t.current,Zf(e),new xc(t)};rc.version="19.2.0";function t0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t0)}catch(e){console.error(e)}}t0(),ov.exports=rc;var px=ov.exports,Hd=function(e,t){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Hd(e,t)};function n0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xo=function(){return Xo=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xo.apply(this,arguments)};function Ws(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function a0(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function i0(e,t){return function(n,a){t(n,a,e)}}function s0(e,t,n,a,i,s){function r(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?a.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),f,h=!1,m=n.length-1;m>=0;m--){var b={};for(var _ in a)b[_]=_==="access"?{}:a[_];for(var _ in a.access)b.access[_]=a.access[_];b.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(y||null))};var S=(0,n[m])(l==="accessor"?{get:d.get,set:d.set}:d[o],b);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=r(S.get))&&(d.get=f),(f=r(S.set))&&(d.set=f),(f=r(S.init))&&i.unshift(f)}else(f=r(S))&&(l==="field"?i.unshift(f):d[o]=f)}c&&Object.defineProperty(c,a.name,d),h=!0}function r0(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function l0(e){return typeof e=="symbol"?e:"".concat(e)}function o0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function c0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(d){try{c(a.next(d))}catch(f){r(f)}}function o(d){try{c(a.throw(d))}catch(f){r(f)}}function c(d){d.done?s(d.value):i(d.value).then(l,o)}c((a=a.apply(e,t||[])).next())})}function u0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(d){return o([c,d])}}function o(c){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(n=0)),n;)try{if(a=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ec=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function d0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ec(t,e,n)}function Qo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ah(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function f0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ah(arguments[t]));return e}function h0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function m0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function Vs(e){return this instanceof Vs?(this.v=e,this):new Vs(e)}function g0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(b){return Promise.resolve(b).then(m,f)}}function l(m,b){a[m]&&(i[m]=function(_){return new Promise(function(S,y){s.push([m,_,S,y])>1||o(m,_)})},b&&(i[m]=b(i[m])))}function o(m,b){try{c(a[m](b))}catch(_){h(s[0][3],_)}}function c(m){m.value instanceof Vs?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){o("next",m)}function f(m){o("throw",m)}function h(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}}function v0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:Vs(e[i](r)),done:!1}:s?s(r):r}:s}}function y0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qo=="function"?Qo(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},r)}}function p0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qd=function(e){return qd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},qd(e)};function b0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=qd(e),a=0;a<n.length;a++)n[a]!=="default"&&Ec(t,e,n[a]);return bx(t,e),t}function _0(e){return e&&e.__esModule?e:{default:e}}function w0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function S0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function x0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function E0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var _x=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function T0(e){function t(s){e.error=e.hasError?new _x(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function j0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const wx={__extends:n0,__assign:Xo,__rest:Ws,__decorate:a0,__param:i0,__esDecorate:s0,__runInitializers:r0,__propKey:l0,__setFunctionName:o0,__metadata:c0,__awaiter:I,__generator:u0,__createBinding:Ec,__exportStar:d0,__values:Qo,__read:ah,__spread:f0,__spreadArrays:h0,__spreadArray:m0,__await:Vs,__asyncGenerator:g0,__asyncDelegator:v0,__asyncValues:y0,__makeTemplateObject:p0,__importStar:b0,__importDefault:_0,__classPrivateFieldGet:w0,__classPrivateFieldSet:S0,__classPrivateFieldIn:x0,__addDisposableResource:E0,__disposeResources:T0,__rewriteRelativeImportExtension:j0},Sx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:E0,get __assign(){return Xo},__asyncDelegator:v0,__asyncGenerator:g0,__asyncValues:y0,__await:Vs,__awaiter:I,__classPrivateFieldGet:w0,__classPrivateFieldIn:x0,__classPrivateFieldSet:S0,__createBinding:Ec,__decorate:a0,__disposeResources:T0,__esDecorate:s0,__exportStar:d0,__extends:n0,__generator:u0,__importDefault:_0,__importStar:b0,__makeTemplateObject:p0,__metadata:c0,__param:i0,__propKey:l0,__read:ah,__rest:Ws,__rewriteRelativeImportExtension:j0,__runInitializers:r0,__setFunctionName:o0,__spread:f0,__spreadArray:m0,__spreadArrays:h0,__values:Qo,default:wx},Symbol.toStringTag,{value:"Module"})),xx="modulepreload",Ex=function(e){return"/todo-note/"+e},lg={},er=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=Ex(o),o in lg)return;lg[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xx,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Tx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>Ii);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class ih extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class og extends ih{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cg extends ih{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ug extends ih{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $d;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($d||($d={}));class jx{constructor(t,{headers:n={},customFetch:a,region:i=$d.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Tx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let c={},{region:d}=a;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:o}).catch(y=>{throw y.name==="AbortError"?y:new og(y)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new cg(m);if(!m.ok)throw new ug(m);let _=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield m.json():_==="application/octet-stream"||_==="application/pdf"?S=yield m.blob():_==="text/event-stream"?S=m:_==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new og(s)}:{data:null,error:s,response:s instanceof ug||s instanceof cg?s.context:void 0}}})}}var nn={};const tr=Fg(Sx);var Gl={},Il={},Kl={},Xl={},Ql={},Ox=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ys=Ox();const Ax=Ys.fetch,O0=Ys.fetch.bind(Ys),A0=Ys.Headers,Cx=Ys.Request,Dx=Ys.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:A0,Request:Cx,Response:Dx,default:O0,fetch:Ax},Symbol.toStringTag,{value:"Module"})),Nx=Fg(Ii);var Jl={},dg;function C0(){if(dg)return Jl;dg=1,Object.defineProperty(Jl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jl.default=e,Jl}var fg;function D0(){if(fg)return Ql;fg=1,Object.defineProperty(Ql,"__esModule",{value:!0});const e=tr,t=e.__importDefault(Nx),n=e.__importDefault(C0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,m;let b=null,_=null,S=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?_=j:_=JSON.parse(j))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,y=406,g="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const w=await c.text();try{b=JSON.parse(w),Array.isArray(b)&&c.status===404&&(_=[],b=null,y=200,g="OK")}catch{c.status===404&&w===""?(y=204,g="No Content"):b={message:w}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,y=200,g="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:_,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return Ql.default=a,Ql}var hg;function N0(){if(hg)return Xl;hg=1,Object.defineProperty(Xl,"__esModule",{value:!0});const t=tr.__importDefault(D0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Xl.default=n,Xl}var mg;function sh(){if(mg)return Kl;mg=1,Object.defineProperty(Kl,"__esModule",{value:!0});const t=tr.__importDefault(N0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${d}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Kl.default=a,Kl}var gg;function R0(){if(gg)return Il;gg=1,Object.defineProperty(Il,"__esModule",{value:!0});const t=tr.__importDefault(sh());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Il.default=n,Il}var vg;function Rx(){if(vg)return Gl;vg=1,Object.defineProperty(Gl,"__esModule",{value:!0});const e=tr,t=e.__importDefault(R0()),n=e.__importDefault(sh());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||o?(f=l?"HEAD":"GET",Object.entries(r).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{h.searchParams.append(_,S)})):(f="POST",m=r);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new n.default({method:f,url:h,headers:b,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Gl.default=a,Gl}Object.defineProperty(nn,"__esModule",{value:!0});var M0=nn.PostgrestError=Y0=nn.PostgrestBuilder=$0=nn.PostgrestTransformBuilder=H0=nn.PostgrestFilterBuilder=L0=nn.PostgrestQueryBuilder=U0=nn.PostgrestClient=void 0;const nr=tr,k0=nr.__importDefault(Rx());var U0=nn.PostgrestClient=k0.default;const z0=nr.__importDefault(R0());var L0=nn.PostgrestQueryBuilder=z0.default;const B0=nr.__importDefault(sh());var H0=nn.PostgrestFilterBuilder=B0.default;const q0=nr.__importDefault(N0());var $0=nn.PostgrestTransformBuilder=q0.default;const V0=nr.__importDefault(D0());var Y0=nn.PostgrestBuilder=V0.default;const G0=nr.__importDefault(C0());M0=nn.PostgrestError=G0.default;var I0=nn.default={PostgrestClient:k0.default,PostgrestQueryBuilder:z0.default,PostgrestFilterBuilder:B0.default,PostgrestTransformBuilder:q0.default,PostgrestBuilder:V0.default,PostgrestError:G0.default};const Mx=S_({__proto__:null,get PostgrestBuilder(){return Y0},get PostgrestClient(){return U0},get PostgrestError(){return M0},get PostgrestFilterBuilder(){return H0},get PostgrestQueryBuilder(){return L0},get PostgrestTransformBuilder(){return $0},default:I0},[nn]),{PostgrestClient:kx,PostgrestQueryBuilder:gO,PostgrestFilterBuilder:vO,PostgrestTransformBuilder:yO,PostgrestBuilder:pO,PostgrestError:bO}=I0||Mx;class Ux{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zx="2.78.0",Lx=`realtime-js/${zx}`,Bx="1.0.0",Vd=1e4,Hx=1e3,qx=100;var Br;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Br||(Br={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var Yd;(function(e){e.websocket="websocket"})(Yd||(Yd={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class $x{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const c=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class K0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const yg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=Vx(r,e,t,i),s),{}):{}},Vx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?X0(s,r):Gd(r)},X0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Kx(t,n)}switch(e){case et.bool:return Yx(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return Gx(t);case et.json:case et.jsonb:return Ix(t);case et.timestamp:return Xx(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Gd(t);default:return Gd(t)}},Gd=e=>e,Yx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ix=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>X0(t,l))}return e},Xx=e=>typeof e=="string"?e.replace(" ","T"):e,Q0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ou{constructor(t,n,a={},i=Vd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pg||(pg={}));class Hr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Hr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(c,d)=>{r[c]||(o[c]=d)}),this.map(r,(c,d)=>{const f=s[c];if(f){const h=d.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),b=d.filter(S=>m.indexOf(S.presence_ref)<0),_=f.filter(S=>h.indexOf(S.presence_ref)<0);b.length>0&&(l[c]=b),_.length>0&&(o[c]=_)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}a(l,d,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const d=o.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bg||(bg={}));var qr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qr||(qr={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class rh{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ou(this,ea.join,this.params,this.timeout),this.rejoinTimer=new K0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Hr(this),this.broadcastEndpointURL=Q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,c=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[qr.PRESENCE]&&this.bindings[qr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(pa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(pa.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,y=[];for(let g=0;g<S;g++){const v=_[g],{filter:{event:w,schema:x,table:j,filter:E}}=v,O=m&&m[g];if(O&&O.event===w&&O.schema===x&&O.table===j&&O.filter===E)y.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(pa.SUBSCRIBED);return}}).receive("error",m=>{this.state=kt.errored,t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===kt.joined&&t===qr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Ou(this,ea.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ou(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:d}=ea;if(a&&[l,o,c,d].indexOf(r)>=0&&a!==this._joinRef())return;let h=this._onMessage(r,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,_,S;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(_=m.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(m=>m.callback(h,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var b,_,S,y,g,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,x=(b=m.filter)===null||b===void 0?void 0:b.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:_,table:S,commit_timestamp:y,type:g,errors:v}=b;h=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}m.callback(h,a)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&rh.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yg(t.columns,t.old_record)),n}}const Au=()=>{},Zl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qx=[1e3,2e3,5e3,1e4],Jx=1e4,Zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Px{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=Zl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Au,this.ref=0,this.reconnectTimer=null,this.logger=Au,this.conn=null,this.sendBuffer=[],this.serializer=new $x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>er(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yd.websocket}`,this.httpEndpoint=Q0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ux.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return Ti.Connecting;case Br.open:return Ti.Open;case Br.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new rh(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Hx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Zx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Lx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new K0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,c,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Vd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Zl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Au,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:f=>Qx[f-1]||Jx,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fx extends lh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Id extends lh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const oh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>Ii);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Wx=()=>I(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield er(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),Kd=e=>{if(Array.isArray(e))return e.map(n=>Kd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Kd(a)}),t},eE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tE=(e,t,n)=>I(void 0,void 0,void 0,function*(){const a=yield Wx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Fx(Cu(i),s,r))}).catch(i=>{t(new Id(Cu(i),i))}):t(new Id(Cu(e),e))}),nE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(eE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function wl(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,nE(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>tE(o,l,a))})})}function il(e,t,n,a){return I(this,void 0,void 0,function*(){return wl(e,"GET",t,n,a)})}function Fn(e,t,n,a,i){return I(this,void 0,void 0,function*(){return wl(e,"POST",t,a,i,n)})}function Xd(e,t,n,a,i){return I(this,void 0,void 0,function*(){return wl(e,"PUT",t,a,i,n)})}function aE(e,t,n,a){return I(this,void 0,void 0,function*(){return wl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function ch(e,t,n,a,i){return I(this,void 0,void 0,function*(){return wl(e,"DELETE",t,a,i,n)})}class iE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}var J0;class sE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[J0]="BlobDownloadBuilder",this.promise=null}asStream(){return new iE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}J0=Symbol.toStringTag;const rE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lE{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=oh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return I(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},_g),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?Xd:Fn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}upload(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return I(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:_g.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",c.cacheControl)):(o=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Xd(this.fetch,l.toString(),o,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return I(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Fn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new lh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}update(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}copy(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Fn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return I(this,void 0,void 0,function*(){try{const i=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>il(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new sE(o,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield il(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}exists(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield aE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a)&&a instanceof Id){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${c}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}list(t,n,a){return I(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rE),n),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listV2(t,n){return I(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Z0="2.78.0",P0={"X-Client-Info":`storage-js/${Z0}`};class oE{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P0),n),this.fetch=oh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield il(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}createBucket(t){return I(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class cE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P0),n),this.fetch=oh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield il(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}}const uh={"X-Client-Info":`storage-js/${Z0}`,"Content-Type":"application/json"};class F0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function On(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Du extends F0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uE extends F0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var wg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wg||(wg={}));const dh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>Ii);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},dE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fE=(e,t,n)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new Du(Sg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Du(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Du(l,i,r))}}else t(new uE(Sg(e),e))}),hE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(dE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function mE(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,hE(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>fE(o,l,a))})})}function An(e,t,n,a,i){return I(this,void 0,void 0,function*(){return mE(e,"POST",t,a,i,n)})}class gE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),n),this.fetch=dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}}class vE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),n),this.fetch=dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield An(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}}class yE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),n),this.fetch=dh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield An(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}}class pE extends yE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new bE(this.url,this.headers,t,this.fetch)}}class bE extends gE{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _E(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _E extends vE{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wE extends oE{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new lE(this.url,this.headers,t,this.fetch)}get vectors(){return new pE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cE(this.url+"/iceberg",this.headers,this.fetch)}}const SE="2.78.0";let xr="";typeof Deno<"u"?xr="deno":typeof document<"u"?xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xr="react-native":xr="node";const xE={"X-Client-Info":`supabase-js-${xr}/${SE}`},EE={headers:xE},TE={schema:"public"},jE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OE={},AE=e=>{let t;return e?t=e:typeof fetch>"u"?t=O0:t=fetch,(...n)=>t(...n)},CE=()=>typeof Headers>"u"?A0:Headers,DE=(e,t,n)=>{const a=AE(n),i=CE();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:c}))}};function NE(e){return e.endsWith("/")?e:e+"/"}function RE(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),r),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ME(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const W0="2.78.0",ls=30*1e3,Qd=3,Nu=Qd*ls,kE="http://localhost:9999",UE="supabase.auth.token",zE={"X-Client-Info":`gotrue-js/${W0}`},Jd="X-Supabase-Api-Version",eb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BE=10*60*1e3;class sl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HE extends sl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function qE(e){return Q(e)&&e.name==="AuthApiError"}class ji extends sl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gi extends sl{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Zn extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $E(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Wi extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fl extends gi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VE(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class xg extends gi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zd extends gi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ru(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Eg extends gi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Pd extends gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),YE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tg.length;t+=1)e[Tg[t].charCodeAt(0)]=-2;for(let t=0;t<Jo.length;t+=1)e[Jo[t].charCodeAt(0)]=t;return e})();function jg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Jo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Jo[a]),t.queuedBits-=6}}function tb(e,t,n){const a=YE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Og(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{KE(r,a,n)};for(let r=0;r<e.length;r+=1)tb(e.charCodeAt(r),i,s);return t.join("")}function GE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function IE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}GE(a,t)}}function KE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Cs(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)tb(e.charCodeAt(i),n,a);return new Uint8Array(t)}function XE(e){const t=[];return IE(e,n=>t.push(n)),new Uint8Array(t)}function Ai(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>jg(i,n,a)),jg(null,n,a),t.join("")}function QE(e){return Math.round(Date.now()/1e3)+e}function JE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},nb=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function ZE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const ab=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>Ii);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},PE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",os=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},La=async(e,t)=>{await e.removeItem(t)};class Tc{constructor(){this.promise=new Tc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Tc.promiseConstructor=Promise;function Mu(e){const t=e.split(".");if(t.length!==3)throw new Pd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!LE.test(t[a]))throw new Pd("JWT not in base64url format");return{header:JSON.parse(Og(t[0])),payload:JSON.parse(Og(t[1])),signature:Cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function FE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WE(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function eT(e){return("0"+e.toString(16)).substr(-2)}function tT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,eT).join("")}async function nT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function aT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(e,t,n=!1){const a=tT();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await os(e,`${t}-code-verifier`,i);const s=await aT(a);return[s,a===s?"plain":"s256"]}const iT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sT(e){const t=e.headers.get(Jd);if(!t||!t.match(iT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!oT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cT(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function Ag(e){return JSON.parse(JSON.stringify(e))}const Ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uT=[502,503,504];async function Cg(e){var t;if(!PE(e))throw new Zd(Ei(e),0);if(uT.includes(e.status))throw new Zd(Ei(e),e.status);let n;try{n=await e.json()}catch(s){throw new ji(Ei(s),s)}let a;const i=sT(e);if(i&&i.getTime()>=eb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Eg(Ei(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new Eg(Ei(n),e.status,n.weak_password.reasons);throw new HE(Ei(n),e.status||500,a)}const dT=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function ne(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Jd]||(s[Jd]=eb["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await fT(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function fT(e,t,n,a,i,s){const r=dT(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Zd(Ei(o),0)}if(l.ok||await Cg(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Cg(o)}}function Pn(e){var t;let n=null;gT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=QE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Dg(e){const t=Pn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hT(e){return{data:e,error:null}}function mT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=Ws(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Ng(e){return e}function gT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Uu=["global","local","others"];class vT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=ab(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Uu[0]){if(Uu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xa})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Ws(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xa})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ng});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ts(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xa})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ts(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xa})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ts(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xa})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ts(t.userId);try{const{data:n,error:a}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ts(t.userId),ts(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ng});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Rg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ns={debug:!!(globalThis&&nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ib extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yT extends ib{}async function pT(e,t,n){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ns.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _T(e){return parseInt(e,16)}function wT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function ST(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=sb(e.address),b=d?`${d}://${a}`:a,_=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${m}

${_}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),o&&(y+=`
Request ID: ${o}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}y+=g}return`${S}
${y}`}class Ot extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Zo extends Ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xT({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(rb(r)){if(s.rp.id!==r)return new Ot({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ET({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(rb(a)){if(n.rpId!==a)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class TT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jT=new TT;function OT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=Ws(e,["challenge","user","excludeCredentials"]),s=Cs(t).buffer,r=Object.assign(Object.assign({},n),{id:Cs(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const c=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:Cs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function AT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Ws(e,["challenge","allowCredentials"]),i=Cs(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Cs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function CT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ai(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ai(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ai(new Uint8Array(i.authenticatorData)),clientDataJSON:Ai(new Uint8Array(i.clientDataJSON)),signature:Ai(new Uint8Array(i.signature)),userHandle:i.userHandle?Ai(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Mg(){var e,t;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function NT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zo("Browser returned unexpected credential type",t)}:{data:null,error:new Zo("Empty credential response",t)}}catch(t){return{data:null,error:xT({error:t,options:e})}}}async function RT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zo("Browser returned unexpected credential type",t)}:{data:null,error:new Zo("Empty credential response",t)}}catch(t){return{data:null,error:ET({error:t,options:e})}}}const MT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kT={userVerification:"preferred",hints:["security-key"]};function Po(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=Po(l,r):a[s]=Po(r)}else a[s]=r}return a}function UT(e,t){return Po(MT,e,t||{})}function zT(e,t){return Po(kT,e,t||{})}class LT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??jT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:c}=r.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(r.webauthn.type){case"create":{const c=UT(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await NT({publicKey:c,signal:o});return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=zT(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await RT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:c,signal:o}));return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new ji("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new sl("rpId is required for WebAuthn authentication")};try{if(!Mg())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new ji("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new sl("rpId is required for WebAuthn registration")};try{if(!Mg())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new ji("Unexpected error in register",r)}}}}bT();const BT={url:kE,storageKey:UE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kg(e,t,n){return await n()}const as={};class rl{get jwks(){var t,n;return(n=(t=as[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=as[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},BT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ab(i.fetch),this.lock=i.lock||kg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pT:this.lock=kg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Rg(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${W0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ZE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),en()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VE(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new ji("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await es(this.storage,this.storageKey)),s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:Pn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pn})}else throw new Pl("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else throw new Pl("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Wi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,c,d,f,h;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:_,wallet:S,statement:y,options:g}=t;let v;if(en())if(typeof S=="object")v=S;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")v=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),x=await v.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=sb(x[0]);let E=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const C=await v.request({method:"eth_chainId"});E=_T(C)}const O={domain:w.host,address:j,statement:y,uri:w.href,version:"1",chainId:E,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ST(O),b=await v.request({method:"personal_sign",params:[wT(m),j]})}try{const{data:_,error:S}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pn});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Wi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Q(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,a,i,s,r,l,o,c,d,f,h,m;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:S,wallet:y,statement:g,options:v}=t;let w;if(en())if(typeof y=="object")w=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${x.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:S,error:y}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ai(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Pn});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Wi}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(Q(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await pi(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Pn});if(await La(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(Q(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Wi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await es(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Pl("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await es(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:hT})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Zn;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Pl("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Nu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await pi(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=ku()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=cT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xa}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Xa})})}catch(n){if(Q(n))return $E(n)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Zn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await es(this.storage,this.storageKey));const{data:c,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Xa});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=Mu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Zn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!en())throw new Fl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!s||!l||!r||!c)throw new Fl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;o&&(h=parseInt(o));const m=h-d;m*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const y={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:r,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(a){if(Q(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(qE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=JE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await es(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,c,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return en()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Q(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:c,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Wi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await WE(async i=>(i>0&&await FE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&Ru(s)&&Date.now()+r-a<ls})}catch(a){if(this._debug(n,"error",a),Q(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),en()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await pi(this.storage,this.storageKey);if(i&&this.userStorage){let r=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await os(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:ku()}else if(i&&!i.user&&!i.user){const r=await pi(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await La(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,i)):i.user=ku()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nu;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Nu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Ru(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Zn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Q(s)){const r={data:null,error:s};return Ru(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await os(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Ag(i);await os(this.storage,this.storageKey,s)}else{const i=Ag(n);await os(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ls}ms, refresh threshold is ${Qd} ticks`),i<=Qd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ib)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await es(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?CT(t.webauthn.credential_response):DT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:AT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Mu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Zn}})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Zn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Zn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+BE>i)return a;const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=Mu(a);n!=null&&n.allowExpired||rT(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const d=lT(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,r,XE(`${l}.${o}`)))throw new Pd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}}}rl.nextInstanceID=0;const HT=rl;class qT extends HT{constructor(t){super(t)}}class $T{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=ME(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:TE,realtime:OE,auth:Object.assign(Object.assign({},jE),{storageKey:o}),global:EE},d=RE(a??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=d.auth)!==null&&r!==void 0?r:{},this.headers,d.global.fetch),this.fetch=DE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new wE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new jx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Px(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VT=(e,t,n)=>new $T(e,t,n);function YT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GT="https://vqpubtahhvtkftafdlrp.supabase.co",IT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",Ve=VT(GT,IT);function KT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const jc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ar(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function fh(e){return"nodeType"in e}function rn(e){var t,n;return e?ar(e)?e:fh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function hh(e){const{Document:t}=rn(e);return e instanceof t}function Sl(e){return ar(e)?!1:e instanceof rn(e).HTMLElement}function lb(e){return e instanceof rn(e).SVGElement}function ir(e){return e?ar(e)?e.document:fh(e)?hh(e)?e:Sl(e)||lb(e)?e.ownerDocument:document:document:document}const ta=jc?p.useLayoutEffect:p.useEffect;function Oc(e){const t=p.useRef(e);return ta(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function XT(){const e=p.useRef(null),t=p.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ll(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return ta(()=>{n.current!==e&&(n.current=e)},t),n}function xl(e,t){const n=p.useRef();return p.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Fo(e){const t=Oc(e),n=p.useRef(null),a=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function Wo(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let zu={};function El(e,t){return p.useMemo(()=>{if(t)return t;const n=zu[e]==null?0:zu[e]+1;return zu[e]=n,e+"-"+n},[e,t])}function ob(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,c]of l){const d=s[o];d!=null&&(s[o]=d+e*c)}return s},{...t})}}const Ds=ob(1),ol=ob(-1);function QT(e){return"clientX"in e&&"clientY"in e}function Ac(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function JT(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function ec(e){if(JT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QT(e)?{x:e.clientX,y:e.clientY}:null}const Hi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Hi.Translate.toString(e),Hi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Ug="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZT(e){return e.matches(Ug)?e:e.querySelector(Ug)}const PT={display:"none"};function FT(e){let{id:t,value:n}=e;return ft.createElement("div",{id:t,style:PT},n)}function WT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ft.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function e1(){const[e,t]=p.useState("");return{announce:p.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const cb=p.createContext(null);function t1(e){const t=p.useContext(cb);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function n1(){const[e]=p.useState(()=>new Set),t=p.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[p.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const a1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},i1={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function s1(e){let{announcements:t=i1,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=a1}=e;const{announce:s,announcement:r}=e1(),l=El("DndLiveRegion"),[o,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),t1(p.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;s(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;s(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!o)return null;const d=ft.createElement(ft.Fragment,null,ft.createElement(FT,{id:a,value:i.draggable}),ft.createElement(WT,{id:l,announcement:r}));return n?Oi.createPortal(d,n):d}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function tc(){}function Lu(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function r1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const na=Object.freeze({x:0,y:0});function ub(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function l1(e,t){const n=ec(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function db(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function o1(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function zg(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function fb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Lg(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const c1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Lg(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=ub(Lg(o),i);s.push({id:l,data:{droppableContainer:r,value:c}})}}return s.sort(db)},u1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=zg(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=zg(o),d=i.reduce((h,m,b)=>h+ub(c[b],m),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:f}})}}return s.sort(db)};function d1(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,c=e.width*e.height,d=r*l,f=d/(o+c-d);return Number(f.toFixed(4))}return 0}const f1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=d1(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(o1)};function h1(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:na}function m1(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const g1=m1(1);function mb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function v1(e,t,n){const a=mb(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:c,right:o+d,bottom:c+f,left:o}}const y1={ignoreTransform:!1};function sr(e,t){t===void 0&&(t=y1);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=rn(e).getComputedStyle(e);c&&(n=v1(n,c,d))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function Bg(e){return sr(e,{ignoreTransform:!0})}function p1(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function b1(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function _1(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function Cc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(hh(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Sl(i)||lb(i)||n.includes(i))return n;const s=rn(e).getComputedStyle(i);return i!==e&&_1(i,s)&&n.push(i),b1(i,s)?n:a(i.parentNode)}return e?a(e):n}function gb(e){const[t]=Cc(e,1);return t??null}function Bu(e){return!jc||!e?null:ar(e)?e:fh(e)?hh(e)||e===ir(e).scrollingElement?window:Sl(e)?e:null:null}function vb(e){return ar(e)?e.scrollX:e.scrollLeft}function yb(e){return ar(e)?e.scrollY:e.scrollTop}function Fd(e){return{x:vb(e),y:yb(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function pb(e){return!jc||!e?!1:e===document.scrollingElement}function bb(e){const t={x:0,y:0},n=pb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const w1={x:.2,y:.2};function S1(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=w1);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=bb(e),m={x:0,y:0},b={x:0,y:0},_={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+_.height?(m.y=qt.Backward,b.y=a*Math.abs((t.top+_.height-s)/_.height)):!d&&o>=t.bottom-_.height&&(m.y=qt.Forward,b.y=a*Math.abs((t.bottom-_.height-o)/_.height)),!h&&l>=t.right-_.width?(m.x=qt.Forward,b.x=a*Math.abs((t.right-_.width-l)/_.width)):!f&&r<=t.left+_.width&&(m.x=qt.Backward,b.x=a*Math.abs((t.left+_.width-r)/_.width)),{direction:m,speed:b}}function x1(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function _b(e){return e.reduce((t,n)=>Ds(t,Fd(n)),na)}function E1(e){return e.reduce((t,n)=>t+vb(n),0)}function T1(e){return e.reduce((t,n)=>t+yb(n),0)}function wb(e,t){if(t===void 0&&(t=sr),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);gb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const j1=[["x",["left","right"],E1],["y",["top","bottom"],T1]];class mh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Cc(n),i=_b(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of j1)for(const o of r)Object.defineProperty(this,o,{get:()=>{const c=l(a),d=i[s]-c;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $r{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function O1(e){const{EventTarget:t}=rn(e);return e instanceof t?e:ir(e)}function Hu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Hn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Hn||(Hn={}));function Hg(e){e.preventDefault()}function A1(e){e.stopPropagation()}var je;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(je||(je={}));const Sb={start:[je.Space,je.Enter],cancel:[je.Esc],end:[je.Space,je.Enter,je.Tab]},C1=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case je.Right:return{...n,x:n.x+25};case je.Left:return{...n,x:n.x-25};case je.Down:return{...n,y:n.y+25};case je.Up:return{...n,y:n.y-25}}};class gh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $r(ir(n)),this.windowListeners=new $r(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Hn.Resize,this.handleCancel),this.windowListeners.add(Hn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Hn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&wb(a),n(na)}handleKeyDown(t){if(Ac(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=Sb,coordinateGetter:r=C1,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:c}=a.current,d=c?{x:c.left,y:c.top}:na;this.referenceCoordinates||(this.referenceCoordinates=d);const f=r(t,{active:n,context:a.current,currentCoordinates:d});if(f){const h=ol(f,d),m={x:0,y:0},{scrollableAncestors:b}=a.current;for(const _ of b){const S=t.code,{isTop:y,isRight:g,isLeft:v,isBottom:w,maxScroll:x,minScroll:j}=bb(_),E=x1(_),O={x:Math.min(S===je.Right?E.right-E.width/2:E.right,Math.max(S===je.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(S===je.Down?E.bottom-E.height/2:E.bottom,Math.max(S===je.Down?E.top:E.top+E.height/2,f.y))},C=S===je.Right&&!g||S===je.Left&&!v,L=S===je.Down&&!w||S===je.Up&&!y;if(C&&O.x!==f.x){const W=_.scrollLeft+h.x,Be=S===je.Right&&W<=x.x||S===je.Left&&W>=j.x;if(Be&&!h.y){_.scrollTo({left:W,behavior:l});return}Be?m.x=_.scrollLeft-W:m.x=S===je.Right?_.scrollLeft-x.x:_.scrollLeft-j.x,m.x&&_.scrollBy({left:-m.x,behavior:l});break}else if(L&&O.y!==f.y){const W=_.scrollTop+h.y,Be=S===je.Down&&W<=x.y||S===je.Up&&W>=j.y;if(Be&&!h.x){_.scrollTo({top:W,behavior:l});return}Be?m.y=_.scrollTop-W:m.y=S===je.Down?_.scrollTop-x.y:_.scrollTop-j.y,m.y&&_.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Ds(ol(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Sb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function qg(e){return!!(e&&"distance"in e)}function $g(e){return!!(e&&"delay"in e)}class vh{constructor(t,n,a){var i;a===void 0&&(a=O1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=ir(r),this.documentListeners=new $r(this.document),this.listeners=new $r(a),this.windowListeners=new $r(rn(r)),this.initialCoordinates=(i=ec(s))!=null?i:na,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Hn.Resize,this.handleCancel),this.windowListeners.add(Hn.DragStart,Hg),this.windowListeners.add(Hn.VisibilityChange,this.handleCancel),this.windowListeners.add(Hn.ContextMenu,Hg),this.documentListeners.add(Hn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($g(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(qg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Hn.Click,A1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Hn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=ec(t))!=null?n:na,c=ol(i,o);if(!a&&l){if(qg(l)){if(l.tolerance!=null&&Hu(c,l.tolerance))return this.handleCancel();if(Hu(c,l.distance))return this.handleStart()}if($g(l)&&Hu(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===je.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const D1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yh extends vh{constructor(t){const{event:n}=t,a=ir(n.target);super(t,D1,a)}}yh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const N1={move:{name:"mousemove"},end:{name:"mouseup"}};var Wd;(function(e){e[e.RightClick=2]="RightClick"})(Wd||(Wd={}));class R1 extends vh{constructor(t){super(t,N1,ir(t.event.target))}}R1.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Wd.RightClick?!1:(a==null||a({event:n}),!0)}}];const qu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xb extends vh{constructor(t){super(t,qu)}static setup(){return window.addEventListener(qu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qu.move.name,t)};function t(){}}}xb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Vr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Vr||(Vr={}));var nc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(nc||(nc={}));function M1(e){let{acceleration:t,activator:n=Vr.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=nc.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=U1({delta:f,disabled:!s}),[b,_]=XT(),S=p.useRef({x:0,y:0}),y=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(n){case Vr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Vr.DraggableRect:return i}},[n,i,o]),v=p.useRef(null),w=p.useCallback(()=>{const j=v.current;if(!j)return;const E=S.current.x*y.current.x,O=S.current.y*y.current.y;j.scrollBy(E,O)},[]),x=p.useMemo(()=>l===nc.TreeOrder?[...c].reverse():c,[l,c]);p.useEffect(()=>{if(!s||!c.length||!g){_();return}for(const j of x){if((a==null?void 0:a(j))===!1)continue;const E=c.indexOf(j),O=d[E];if(!O)continue;const{direction:C,speed:L}=S1(j,O,g,t,h);for(const W of["x","y"])m[W][C[W]]||(L[W]=0,C[W]=0);if(L.x>0||L.y>0){_(),v.current=j,b(w,r),S.current=L,y.current=C;return}}S.current={x:0,y:0},y.current={x:0,y:0},_()},[t,w,a,_,s,r,JSON.stringify(g),JSON.stringify(m),b,c,x,d,JSON.stringify(h)])}const k1={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function U1(e){let{delta:t,disabled:n}=e;const a=Wo(t);return xl(i=>{if(n||!a||!i)return k1;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[qt.Backward]:i.x[qt.Backward]||s.x===-1,[qt.Forward]:i.x[qt.Forward]||s.x===1},y:{[qt.Backward]:i.y[qt.Backward]||s.y===-1,[qt.Forward]:i.y[qt.Forward]||s.y===1}}},[n,t,a])}function z1(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return xl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function L1(e,t){return p.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Gs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gs||(Gs={}));var ef;(function(e){e.Optimized="optimized"})(ef||(ef={}));const Vg=new Map;function B1(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=p.useState(null),{frequency:l,measure:o,strategy:c}=i,d=p.useRef(e),f=S(),h=ll(f),m=p.useCallback(function(y){y===void 0&&(y=[]),!h.current&&r(g=>g===null?y:g.concat(y.filter(v=>!g.includes(v))))},[h]),b=p.useRef(null),_=xl(y=>{if(f&&!n)return Vg;if(!y||y===Vg||d.current!==e||s!=null){const g=new Map;for(let v of e){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){g.set(v.id,v.rect.current);continue}const w=v.node.current,x=w?new mh(o(w),w):null;v.rect.current=x,x&&g.set(v.id,x)}return g}return y},[e,s,n,f,o]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[n,f]),p.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),p.useEffect(()=>{f||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},l))},[l,f,m,...a]),{droppableRects:_,measureDroppableContainers:m,measuringScheduled:s!=null};function S(){switch(c){case Gs.Always:return!1;case Gs.BeforeDragging:return n;default:return!n}}}function ph(e,t){return xl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function H1(e,t){return ph(e,t)}function q1(e){let{callback:t,disabled:n}=e;const a=Oc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Dc(e){let{callback:t,disabled:n}=e;const a=Oc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function $1(e){return new mh(sr(e),e)}function Yg(e,t,n){t===void 0&&(t=$1);const[a,i]=p.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=o??n)!=null?c:null}const d=t(e);return JSON.stringify(o)===JSON.stringify(d)?o:d})}const r=q1({callback(o){if(e)for(const c of o){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),l=Dc({callback:s});return ta(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function V1(e){const t=ph(e);return hb(e,t)}const Gg=[];function Y1(e){const t=p.useRef(e),n=xl(a=>e?a&&a!==Gg&&e&&t.current&&e.parentNode===t.current.parentNode?a:Cc(e):Gg,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function G1(e){const[t,n]=p.useState(null),a=p.useRef(e),i=p.useCallback(s=>{const r=Bu(s.target);r&&n(l=>l?(l.set(r,Fd(r)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const c=Bu(o);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Fd(c)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const c=Bu(o);c==null||c.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>Ds(s,r),na):_b(e):na,[e,t])}function Ig(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const a=e!==na;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?ol(e,n.current):na}function I1(e){p.useEffect(()=>{if(!jc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function K1(e,t){return p.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function Eb(e){return p.useMemo(()=>e?p1(e):null,[e])}const Kg=[];function X1(e,t){t===void 0&&(t=sr);const[n]=e,a=Eb(n?rn(n):null),[i,s]=p.useState(Kg);function r(){s(()=>e.length?e.map(o=>pb(o)?a:new mh(t(o),o)):Kg)}const l=Dc({callback:r});return ta(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function Tb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Sl(t)?t:e}function Q1(e){let{measure:t}=e;const[n,a]=p.useState(null),i=p.useCallback(c=>{for(const{target:d}of c)if(Sl(d)){a(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Dc({callback:i}),r=p.useCallback(c=>{const d=Tb(c);s==null||s.disconnect(),d&&(s==null||s.observe(d)),a(d?t(d):null)},[t,s]),[l,o]=Fo(r);return p.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const J1=[{sensor:yh,options:{}},{sensor:gh,options:{}}],Z1={current:{}},yo={draggable:{measure:Bg},droppable:{measure:Bg,strategy:Gs.WhileDragging,frequency:ef.Optimized},dragOverlay:{measure:sr}};class Yr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const P1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yo,measureDroppableContainers:tc,windowRect:null,measuringScheduled:!1},jb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tc,draggableNodes:new Map,over:null,measureDroppableContainers:tc},Tl=p.createContext(jb),Ob=p.createContext(P1);function F1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yr}}}function W1(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Yr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Ut.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Yr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case Ut.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Yr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function ej(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=p.useContext(Tl),s=Wo(a),r=Wo(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!Ac(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:c}=l;if(!o.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[o.current,c.current]){if(!d)continue;const f=ZT(d);if(f){f.focus();break}}})}},[a,t,i,r,s]),null}function Ab(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function tj(e){return p.useMemo(()=>({draggable:{...yo.draggable,...e==null?void 0:e.draggable},droppable:{...yo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...yo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function nj(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=p.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;ta(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=hb(d,a);if(r||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=gb(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,r,l,a,n])}const Nc=p.createContext({...na,scaleX:1,scaleY:1});var qa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(qa||(qa={}));const aj=p.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:c,sensors:d=J1,collisionDetection:f=f1,measuring:h,modifiers:m,...b}=t;const _=p.useReducer(W1,void 0,F1),[S,y]=_,[g,v]=n1(),[w,x]=p.useState(qa.Uninitialized),j=w===qa.Initialized,{draggable:{active:E,nodes:O,translate:C},droppable:{containers:L}}=S,W=E!=null?O.get(E):null,Be=p.useRef({initial:null,translated:null}),Ge=p.useMemo(()=>{var Y;return E!=null?{id:E,data:(Y=W==null?void 0:W.data)!=null?Y:Z1,rect:Be}:null},[E,W]),Xe=p.useRef(null),[Me,z]=p.useState(null),[$,K]=p.useState(null),fe=ll(b,Object.values(b)),ue=El("DndDescribedBy",r),St=p.useMemo(()=>L.getEnabled(),[L]),ke=tj(h),{droppableRects:yt,measureDroppableContainers:Ze,measuringScheduled:Qe}=B1(St,{dragging:j,dependencies:[C.x,C.y],config:ke.droppable}),nt=z1(O,E),ln=p.useMemo(()=>$?ec($):null,[$]),Pe=Ce(),ot=H1(nt,ke.draggable.measure);nj({activeNode:E!=null?O.get(E):null,config:Pe.layoutShiftCompensation,initialRect:ot,measure:ke.draggable.measure});const pe=Yg(nt,ke.draggable.measure,ot),pn=Yg(nt?nt.parentElement:null),Yt=p.useRef({activatorEvent:null,active:null,activeNode:nt,collisionRect:null,collisions:null,droppableRects:yt,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bn=L.getNodeFor((n=Yt.current.over)==null?void 0:n.id),Tt=Q1({measure:ke.dragOverlay.measure}),_n=(a=Tt.nodeRef.current)!=null?a:nt,wn=j?(i=Tt.rect)!=null?i:pe:null,J=!!(Tt.nodeRef.current&&Tt.rect),ie=V1(J?null:pe),be=Eb(_n?rn(_n):null),Ae=Y1(j?bn??nt:null),Bt=X1(Ae),Rt=Ab(m,{transform:{x:C.x-ie.x,y:C.y-ie.y,scaleX:1,scaleY:1},activatorEvent:$,active:Ge,activeNodeRect:pe,containerNodeRect:pn,draggingNodeRect:wn,over:Yt.current.over,overlayNodeRect:Tt.rect,scrollableAncestors:Ae,scrollableAncestorRects:Bt,windowRect:be}),on=ln?Ds(ln,C):null,ht=G1(Ae),mt=Ig(ht),Re=Ig(ht,[pe]),Se=Ds(Rt,mt),ee=wn?g1(wn,Rt):null,He=Ge&&ee?f({active:Ge,collisionRect:ee,droppableRects:yt,droppableContainers:St,pointerCoordinates:on}):null,pt=fb(He,"id"),[D,k]=p.useState(null),U=J?Rt:Ds(Rt,Re),P=h1(U,(s=D==null?void 0:D.rect)!=null?s:null,pe),H=p.useRef(null),Z=p.useCallback((Y,ve)=>{let{sensor:le,options:Fe}=ve;if(Xe.current==null)return;const te=O.get(Xe.current);if(!te)return;const De=Y.nativeEvent,F=new le({active:Xe.current,activeNode:te,event:De,options:Fe,context:Yt,onAbort(We){if(!O.get(We))return;const{onDragAbort:It}=fe.current,Ft={id:We};It==null||It(Ft),g({type:"onDragAbort",event:Ft})},onPending(We,Pt,It,Ft){if(!O.get(We))return;const{onDragPending:ua}=fe.current,Sn={id:We,constraint:Pt,initialCoordinates:It,offset:Ft};ua==null||ua(Sn),g({type:"onDragPending",event:Sn})},onStart(We){const Pt=Xe.current;if(Pt==null)return;const It=O.get(Pt);if(!It)return;const{onDragStart:Ft}=fe.current,zn={activatorEvent:De,active:{id:Pt,data:It.data,rect:Be}};Oi.unstable_batchedUpdates(()=>{Ft==null||Ft(zn),x(qa.Initializing),y({type:Ut.DragStart,initialCoordinates:We,active:Pt}),g({type:"onDragStart",event:zn}),z(H.current),K(De)})},onMove(We){y({type:Ut.DragMove,coordinates:We})},onEnd:Gt(Ut.DragEnd),onCancel:Gt(Ut.DragCancel)});H.current=F;function Gt(We){return async function(){const{active:It,collisions:Ft,over:zn,scrollAdjustedTranslate:ua}=Yt.current;let Sn=null;if(It&&ua){const{cancelDrop:da}=fe.current;Sn={activatorEvent:De,active:It,collisions:Ft,delta:ua,over:zn},We===Ut.DragEnd&&typeof da=="function"&&await Promise.resolve(da(Sn))&&(We=Ut.DragCancel)}Xe.current=null,Oi.unstable_batchedUpdates(()=>{y({type:We}),x(qa.Uninitialized),k(null),z(null),K(null),H.current=null;const da=We===Ut.DragEnd?"onDragEnd":"onDragCancel";if(Sn){const Ma=fe.current[da];Ma==null||Ma(Sn),g({type:da,event:Sn})}})}}},[O]),he=p.useCallback((Y,ve)=>(le,Fe)=>{const te=le.nativeEvent,De=O.get(Fe);if(Xe.current!==null||!De||te.dndKit||te.defaultPrevented)return;const F={active:De};Y(le,ve.options,F)===!0&&(te.dndKit={capturedBy:ve.sensor},Xe.current=Fe,Z(le,ve))},[O,Z]),q=L1(d,he);I1(d),ta(()=>{pe&&w===qa.Initializing&&x(qa.Initialized)},[pe,w]),p.useEffect(()=>{const{onDragMove:Y}=fe.current,{active:ve,activatorEvent:le,collisions:Fe,over:te}=Yt.current;if(!ve||!le)return;const De={active:ve,activatorEvent:le,collisions:Fe,delta:{x:Se.x,y:Se.y},over:te};Oi.unstable_batchedUpdates(()=>{Y==null||Y(De),g({type:"onDragMove",event:De})})},[Se.x,Se.y]),p.useEffect(()=>{const{active:Y,activatorEvent:ve,collisions:le,droppableContainers:Fe,scrollAdjustedTranslate:te}=Yt.current;if(!Y||Xe.current==null||!ve||!te)return;const{onDragOver:De}=fe.current,F=Fe.get(pt),Gt=F&&F.rect.current?{id:F.id,rect:F.rect.current,data:F.data,disabled:F.disabled}:null,We={active:Y,activatorEvent:ve,collisions:le,delta:{x:te.x,y:te.y},over:Gt};Oi.unstable_batchedUpdates(()=>{k(Gt),De==null||De(We),g({type:"onDragOver",event:We})})},[pt]),ta(()=>{Yt.current={activatorEvent:$,active:Ge,activeNode:nt,collisionRect:ee,collisions:He,droppableRects:yt,draggableNodes:O,draggingNode:_n,draggingNodeRect:wn,droppableContainers:L,over:D,scrollableAncestors:Ae,scrollAdjustedTranslate:Se},Be.current={initial:wn,translated:ee}},[Ge,nt,He,ee,O,_n,wn,yt,L,D,Ae,Se]),M1({...Pe,delta:C,draggingRect:ee,pointerCoordinates:on,scrollableAncestors:Ae,scrollableAncestorRects:Bt});const xe=p.useMemo(()=>({active:Ge,activeNode:nt,activeNodeRect:pe,activatorEvent:$,collisions:He,containerNodeRect:pn,dragOverlay:Tt,draggableNodes:O,droppableContainers:L,droppableRects:yt,over:D,measureDroppableContainers:Ze,scrollableAncestors:Ae,scrollableAncestorRects:Bt,measuringConfiguration:ke,measuringScheduled:Qe,windowRect:be}),[Ge,nt,pe,$,He,pn,Tt,O,L,yt,D,Ze,Ae,Bt,ke,Qe,be]),re=p.useMemo(()=>({activatorEvent:$,activators:q,active:Ge,activeNodeRect:pe,ariaDescribedById:{draggable:ue},dispatch:y,draggableNodes:O,over:D,measureDroppableContainers:Ze}),[$,q,Ge,pe,y,ue,O,D,Ze]);return ft.createElement(cb.Provider,{value:v},ft.createElement(Tl.Provider,{value:re},ft.createElement(Ob.Provider,{value:xe},ft.createElement(Nc.Provider,{value:P},c)),ft.createElement(ej,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ft.createElement(s1,{...l,hiddenTextDescribedById:ue}));function Ce(){const Y=(Me==null?void 0:Me.autoScrollEnabled)===!1,ve=typeof o=="object"?o.enabled===!1:o===!1,le=j&&!Y&&!ve;return typeof o=="object"?{...o,enabled:le}:{enabled:le}}}),ij=p.createContext(null),Xg="button",sj="Draggable";function rj(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=El(sj),{activators:r,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(Tl),{role:m=Xg,roleDescription:b="draggable",tabIndex:_=0}=i??{},S=(o==null?void 0:o.id)===t,y=p.useContext(S?Nc:ij),[g,v]=Fo(),[w,x]=Fo(),j=K1(r,t),E=ll(n);ta(()=>(f.set(t,{id:t,key:s,node:g,activatorNode:w,data:E}),()=>{const C=f.get(t);C&&C.key===s&&f.delete(t)}),[f,t]);const O=p.useMemo(()=>({role:m,tabIndex:_,"aria-disabled":a,"aria-pressed":S&&m===Xg?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[a,m,_,S,b,d.draggable]);return{active:o,activatorEvent:l,activeNodeRect:c,attributes:O,isDragging:S,listeners:a?void 0:j,node:g,over:h,setNodeRef:v,setActivatorNodeRef:x,transform:y}}function Cb(){return p.useContext(Ob)}const lj="Droppable",oj={timeout:25};function cj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=El(lj),{active:r,dispatch:l,over:o,measureDroppableContainers:c}=p.useContext(Tl),d=p.useRef({disabled:n}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:b,updateMeasurementsFor:_,timeout:S}={...oj,...i},y=ll(_??a),g=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),m.current=null},S)},[S]),v=Dc({callback:g,disabled:b||!r}),w=p.useCallback((O,C)=>{v&&(C&&(v.unobserve(C),f.current=!1),O&&v.observe(O))},[v]),[x,j]=Fo(w),E=ll(t);return p.useEffect(()=>{!v||!x.current||(v.disconnect(),f.current=!1,v.observe(x.current))},[x,v]),p.useEffect(()=>(l({type:Ut.RegisterDroppable,element:{id:a,key:s,disabled:n,node:x,rect:h,data:E}}),()=>l({type:Ut.UnregisterDroppable,key:s,id:a})),[a]),p.useEffect(()=>{n!==d.current.disabled&&(l({type:Ut.SetDroppableDisabled,id:a,key:s,disabled:n}),d.current.disabled=n)},[a,s,n,l]),{active:r,rect:h,isOver:(o==null?void 0:o.id)===a,node:x,over:o,setNodeRef:j}}function uj(e){let{animation:t,children:n}=e;const[a,i]=p.useState(null),[s,r]=p.useState(null),l=Wo(n);return!n&&!a&&l&&i(l),ta(()=>{if(!s)return;const o=a==null?void 0:a.key,c=a==null?void 0:a.props.id;if(o==null||c==null){i(null);return}Promise.resolve(t(c,s)).then(()=>{i(null)})},[t,a,s]),ft.createElement(ft.Fragment,null,n,a?p.cloneElement(a,{ref:r}):null)}const dj={x:0,y:0,scaleX:1,scaleY:1};function fj(e){let{children:t}=e;return ft.createElement(Tl.Provider,{value:jb},ft.createElement(Nc.Provider,{value:dj},t))}const hj={position:"fixed",touchAction:"none"},mj=e=>Ac(e)?"transform 250ms ease":void 0,gj=p.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:c,transition:d=mj}=e;if(!l)return null;const f=i?c:{...c,scaleX:1,scaleY:1},h={...hj,width:l.width,height:l.height,top:l.top,left:l.left,transform:Hi.Transform.toString(f),transformOrigin:i&&a?l1(a,l):void 0,transition:typeof d=="function"?d(a):d,...o};return ft.createElement(n,{className:r,style:h,ref:t},s)}),vj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,c]of Object.entries(i))n.node.style.setProperty(o,c);r!=null&&r.active&&n.node.classList.remove(r.active)}},yj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Hi.Transform.toString(t)},{transform:Hi.Transform.toString(n)}]},pj={duration:250,easing:"ease",keyframes:yj,sideEffects:vj({styles:{active:{opacity:"0"}}})};function bj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Oc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const c=Tb(r);if(!c)return;const{transform:d}=rn(r).getComputedStyle(r),f=mb(d);if(!f)return;const h=typeof t=="function"?t:_j(t);return wb(o,i.draggable.measure),h({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(c)},droppableContainers:a,measuringConfiguration:i,transform:f})})}function _j(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...pj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...c}=s;if(!t)return;const d={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},f={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},h={x:o.x-d.x,y:o.y-d.y,...f},m=i({...c,active:r,dragOverlay:l,transform:{initial:o,final:h}}),[b]=m,_=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(_))return;const S=a==null?void 0:a({active:r,dragOverlay:l,...c}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{S==null||S(),g()}})}}let Qg=0;function wj(e){return p.useMemo(()=>{if(e!=null)return Qg++,Qg},[e])}const Sj=ft.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:c=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:b,droppableContainers:_,dragOverlay:S,over:y,measuringConfiguration:g,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:x}=Cb(),j=p.useContext(Nc),E=wj(f==null?void 0:f.id),O=Ab(r,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:S.rect,over:y,overlayNodeRect:S.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:j,windowRect:x}),C=ph(h),L=bj({config:a,draggableNodes:b,droppableContainers:_,measuringConfiguration:g}),W=C?S.setRef:void 0;return ft.createElement(fj,null,ft.createElement(uj,{animation:L},f&&E?ft.createElement(gj,{key:E,id:f.id,ref:W,as:l,activatorEvent:d,adjustScale:t,className:o,transition:s,rect:C,style:{zIndex:c,...i},transform:O},n):null))});function Qa(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function xj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function Wl(e){return e!==null&&e>=0}function Ej(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Db=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=Qa(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},eo={scaleX:1,scaleY:1},vr=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const c=s[r];return c?{x:0,y:n<r?c.top+c.height-(l.top+l.height):c.top-l.top,...eo}:null}const o=jj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...eo}:i<n&&i>=r?{x:0,y:l.height+o,...eo}:{x:0,y:0,...eo}};function jj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Nb="Sortable",Rb=ft.createContext({activeIndex:-1,containerId:Nb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Db,disabled:{draggable:!1,droppable:!1}});function yr(e){let{children:t,id:n,items:a,strategy:i=Db,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:d}=Cb(),f=El(Nb,n),h=l.rect!==null,m=p.useMemo(()=>a.map(j=>typeof j=="object"&&"id"in j?j.id:j),[a]),b=r!=null,_=r?m.indexOf(r.id):-1,S=c?m.indexOf(c.id):-1,y=p.useRef(m),g=!Ej(m,y.current),v=S!==-1&&_===-1||g,w=Tj(s);ta(()=>{g&&b&&d(m)},[g,m,b,d]),p.useEffect(()=>{y.current=m},[m]);const x=p.useMemo(()=>({activeIndex:_,containerId:f,disabled:w,disableTransforms:v,items:m,overIndex:S,useDragOverlay:h,sortedRects:xj(m,o),strategy:i}),[_,f,w.draggable,w.droppable,v,m,S,o,h,i]);return ft.createElement(Rb.Provider,{value:x},t)}const Oj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return Qa(n,a,i).indexOf(t)},Aj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:c}=e;return!c||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},Cj={duration:200,easing:"ease"},Mb="transform",Dj=Hi.Transition.toString({property:Mb,duration:0,easing:"linear"}),Nj={roleDescription:"sortable"};function Rj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=p.useState(null),l=p.useRef(n);return ta(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const c=sr(a.current,{ignoreTransform:!0}),d={x:o.left-c.left,y:o.top-c.top,scaleX:o.width/c.width,scaleY:o.height/c.height};(d.x||d.y)&&r(d)}}n!==l.current&&(l.current=n)},[t,n,a,i]),p.useEffect(()=>{s&&r(null)},[s]),s}function Mj(e){let{animateLayoutChanges:t=Aj,attributes:n,disabled:a,data:i,getNewIndex:s=Oj,id:r,strategy:l,resizeObserverConfig:o,transition:c=Cj}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:b,sortedRects:_,overIndex:S,useDragOverlay:y,strategy:g}=p.useContext(Rb),v=kj(a,m),w=d.indexOf(r),x=p.useMemo(()=>({sortable:{containerId:f,index:w,items:d},...i}),[f,i,w,d]),j=p.useMemo(()=>d.slice(d.indexOf(r)),[d,r]),{rect:E,node:O,isOver:C,setNodeRef:L}=cj({id:r,data:x,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...o}}),{active:W,activatorEvent:Be,activeNodeRect:Ge,attributes:Xe,setNodeRef:Me,listeners:z,isDragging:$,over:K,setActivatorNodeRef:fe,transform:ue}=rj({id:r,data:x,attributes:{...Nj,...n},disabled:v.draggable}),St=KT(L,Me),ke=!!W,yt=ke&&!b&&Wl(h)&&Wl(S),Ze=!y&&$,Qe=Ze&&yt?ue:null,ln=yt?Qe??(l??g)({rects:_,activeNodeRect:Ge,activeIndex:h,overIndex:S,index:w}):null,Pe=Wl(h)&&Wl(S)?s({id:r,items:d,activeIndex:h,overIndex:S}):w,ot=W==null?void 0:W.id,pe=p.useRef({activeId:ot,items:d,newIndex:Pe,containerId:f}),pn=d!==pe.current.items,Yt=t({active:W,containerId:f,isDragging:$,isSorting:ke,id:r,index:w,items:d,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),bn=Rj({disabled:!Yt,index:w,node:O,rect:E});return p.useEffect(()=>{ke&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),f!==pe.current.containerId&&(pe.current.containerId=f),d!==pe.current.items&&(pe.current.items=d)},[ke,Pe,f,d]),p.useEffect(()=>{if(ot===pe.current.activeId)return;if(ot!=null&&pe.current.activeId==null){pe.current.activeId=ot;return}const _n=setTimeout(()=>{pe.current.activeId=ot},50);return()=>clearTimeout(_n)},[ot]),{active:W,activeIndex:h,attributes:Xe,data:x,rect:E,index:w,newIndex:Pe,items:d,isOver:C,isSorting:ke,isDragging:$,listeners:z,node:O,overIndex:S,over:K,setNodeRef:St,setActivatorNodeRef:fe,setDroppableNodeRef:L,setDraggableNodeRef:Me,transform:bn??ln,transition:Tt()};function Tt(){if(bn||pn&&pe.current.newIndex===w)return Dj;if(!(Ze&&!Ac(Be)||!c)&&(ke||Yt))return Hi.Transition.toString({...c,property:Mb})}}function kj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function ac(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Uj=[je.Down,je.Right,je.Up,je.Left],zj=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(Uj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case je.Down:a.top<h.top&&o.push(f);break;case je.Up:a.top>h.top&&o.push(f);break;case je.Left:a.left>h.left&&o.push(f);break;case je.Right:a.left<h.left&&o.push(f);break}});const c=u1({collisionRect:a,droppableRects:i,droppableContainers:o});let d=fb(c,"id");if(d===(r==null?void 0:r.id)&&c.length>1&&(d=c[1].id),d!=null){const f=s.get(n.id),h=s.get(d),m=h?i.get(h.id):null,b=h==null?void 0:h.node.current;if(b&&m&&f&&h){const S=Cc(b).some((j,E)=>l[E]!==j),y=kb(f,h),g=Lj(f,h),v=S||!y?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return v.x&&v.y?w:ol(w,v)}}}};function kb(e,t){return!ac(e)||!ac(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Lj(e,t){return!ac(e)||!ac(t)||!kb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Rc=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],$u={THIS_ONLY:"this-only",FROM_NOW:"from-now",ALL:"all"},Bj="09",Hj="00",Ee=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Ln=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},bi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},qj=e=>{const t=new Date;return Ee(e)===Ee(t)},$j=()=>{const[e,t]=p.useState(null),[n,a]=p.useState(!0);return p.useEffect(()=>{Ve.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=Ve.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await Ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await Ve.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function bh({value:e,onChange:t}){const n=p.useRef(null),a=p.useRef(null),i=p.useRef(e),s=p.useRef(!1),[r,l]=p.useState(()=>e&&e.includes(":")?e.split(":")[0]:Bj),[o,c]=p.useState(()=>e&&e.includes(":")?e.split(":")[1]:Hj);p.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,v]=e.split(":");i.current=e,l(g),c(v)}},[e]),p.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const d=(g,v,w)=>{if(!g.current)return;const x=g.current.scrollTop,E=Math.round(x/40),O=String(E).padStart(2,"0");v(O)},f=(g,v)=>{if(!g.current)return;const w=40,x=parseInt(v,10);g.current.scrollTop=x*w};p.useEffect(()=>{f(n,r)},[]),p.useEffect(()=>{f(a,o)},[]);const h=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),m=Array.from({length:60},(g,v)=>String(v).padStart(2,"0")),b=()=>{const g=(parseInt(r,10)+1)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},_=()=>{const g=(parseInt(r,10)-1+24)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},S=()=>{const g=(parseInt(o,10)+1)%60,v=String(g).padStart(2,"0");c(v),f(a,v)},y=()=>{const g=(parseInt(o,10)-1+60)%60,v=String(g).padStart(2,"0");c(v),f(a,v)};return u.jsxs("div",{className:"apple-time-picker",children:[u.jsxs("div",{className:"picker-arrows-top",children:[u.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:S,children:""})]}),u.jsxs("div",{className:"picker-container",children:[u.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[u.jsx("div",{className:"picker-spacer"}),h.map(g=>u.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),f(n,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]}),u.jsx("div",{className:"picker-separator",children:":"}),u.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,c),children:[u.jsx("div",{className:"picker-spacer"}),m.map(g=>u.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{c(g),f(a,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]})]}),u.jsxs("div",{className:"picker-arrows-bottom",children:[u.jsx("button",{className:"picker-arrow-button",onClick:_,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:y,children:""})]}),u.jsx("div",{className:"picker-selection-indicator"})]})}function ic({selectedDays:e=[],onToggle:t,disabled:n=!1,variant:a="default"}){const i=(l,o)=>{l.stopPropagation(),t(o)},s=a==="inline"?"day-selector-inline":"day-selector",r=a==="inline"?"day-button-inline":"day-button";return u.jsx("div",{className:s,children:Rc.map(l=>u.jsx("button",{onClick:o=>i(o,l.key),className:`${r} ${e.includes(l.key)?"selected":""}`,disabled:n,type:"button",children:l.label},l.key))})}function Jg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return u.jsxs("div",{className:a,children:[u.jsx("span",{children:e}),t&&u.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function Vj({title:e,editable:t=!1,onTitleChange:n,showHideButton:a=!1,onHide:i,showDeleteButton:s=!1,onDelete:r,customActions:l,settingsMenuItems:o=[]}){var g,v;const[c,d]=p.useState(!1),[f,h]=p.useState(e),[m,b]=p.useState(!1),_=p.useRef(null),S=()=>{f.trim()&&f!==e&&(n==null||n(f.trim())),d(!1)},y=()=>{h(e),d(!1)};return p.useEffect(()=>{const w=x=>{if(m&&_.current&&!_.current.contains(x.target)){const j=document.querySelector(".section-settings-dropdown");j&&!j.contains(x.target)&&b(!1)}};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[m]),u.jsxs("div",{className:"section-header",children:[u.jsx("div",{className:"section-title-container",children:c?u.jsx("div",{className:"section-title-edit-wrapper",children:u.jsx("input",{type:"text",value:f,onChange:w=>h(w.target.value),onBlur:S,onKeyDown:w=>{w.key==="Enter"?S():w.key==="Escape"&&y()},className:"section-title-input",autoFocus:!0})}):u.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&d(!0),children:e})}),u.jsxs("div",{className:"section-actions",children:[l,o.length>0&&u.jsxs("div",{style:{position:"relative"},children:[u.jsx("button",{ref:_,className:"section-action-button settings-button",onClick:()=>b(!m),title:"",children:""}),m&&mv.createPortal(u.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((g=_.current)==null?void 0:g.getBoundingClientRect().bottom)+5}px`,left:`${(v=_.current)==null?void 0:v.getBoundingClientRect().left}px`},children:o.map((w,x)=>u.jsxs("button",{className:"settings-menu-item",onClick:()=>{w.onClick(),b(!1)},children:[u.jsx("span",{children:w.icon}),u.jsx("span",{children:w.label})]},x))}),document.body)]})]})]})}function Yj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenRoutine:s,onOpenGanttChart:r,onOpenEncouragementModal:l,onOpenAddSection:o,onOpenHiddenSections:c,onLogout:d}){var f,h;return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),u.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsx("h2",{children:""}),u.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&u.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((f=n.user.user_metadata)==null?void 0:f.avatar_url)&&u.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((h=n.user.user_metadata)==null?void 0:h.full_name)||n.user.email}),u.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),u.jsxs("div",{className:"sidebar-content",children:[u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const m=a==="vertical"?"horizontal":"vertical";i(m),localStorage.setItem("viewMode",m),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),u.jsx("span",{children:a==="vertical"?" ":" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{c(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&d()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:""})]})]})]})]})}function Gj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return u.jsxs("div",{className:"date-nav-section",children:[u.jsxs("div",{className:"date-display-wrapper",children:[u.jsx("span",{className:"date-display",children:Ln(e)}),u.jsx("input",{type:"date",value:Ee(e),onChange:t,className:"date-picker-input"})]}),u.jsx("button",{onClick:n,className:"date-nav-button",children:""}),u.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Ij({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:c,onQuickAdd:d,onOpenMemo:f}){const[h,m]=p.useState(""),[b,_]=p.useState(!1),S=async y=>{if(y.key==="Enter"&&!y.shiftKey&&h.trim()){y.preventDefault(),_(!0);try{await d(h.trim()),m("")}catch(g){console.error("Quick add error:",g)}finally{_(!1)}}};return u.jsx("div",{className:"header-fixed",children:u.jsxs("div",{className:"settings-bar",children:[u.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),u.jsx(Gj,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),u.jsx("div",{className:"encouragement-section",children:qj(n)?u.jsx("div",{className:"encouragement-message",onClick:c,title:"    !",children:l?u.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):u.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),u.jsx("div",{className:"quick-input-wrapper",children:u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),onKeyDown:S,placeholder:" Quick   (Enter )",className:"quick-input",disabled:b})}),u.jsx("button",{className:"header-memo-button",onClick:f,title:" ",children:"  "})]})})}function Kj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n,visibleSectionCount:a=3}){return e!=="horizontal"?null:u.jsx("div",{className:"section-pagination-dots",onTouchStart:i=>{const s=i.touches[0];i.currentTarget.dataset.touchStartX=s.clientX,i.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:i=>{i.currentTarget.dataset.touchMoved="true"},onTouchEnd:i=>{const s=parseFloat(i.currentTarget.dataset.touchStartX||"0"),r=parseInt(i.currentTarget.dataset.touchStartTime||"0"),l=i.currentTarget.dataset.touchMoved==="true",o=i.changedTouches[0].clientX,c=Date.now()-r;if(delete i.currentTarget.dataset.touchStartX,delete i.currentTarget.dataset.touchStartTime,delete i.currentTarget.dataset.touchMoved,l&&c<500){const d=s-o,f=n.current;if(!f)return;const h=f.querySelectorAll(".section-block");Math.abs(d)>50&&(d>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):d<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:Array.from({length:a},(i,s)=>u.jsx("button",{className:`pagination-dot ${t===s?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll(".section-block");l[s]&&l[s].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},s))})}function Vu({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l,editable:o=!1,onTitleChange:c,settingsMenuItems:d=[],headerActions:f}){return u.jsxs("div",{className:t,children:[u.jsx(Vj,{title:e,editable:o,onTitleChange:c,settingsMenuItems:d,customActions:f}),u.jsxs("div",{className:"section-input",children:[u.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),onKeyDown:h=>{h.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),u.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}const Xj=[{value:"this-only",label:" ",description:" ",tooltip:"  ,  ,   "},{value:"from-now",label:"   ",description:" ",tooltip:"  ,  ,   "},{value:"all",label:" ",description:" ",tooltip:"  ,  ,   "}],va={container:{display:"flex",flexDirection:"column",gap:"0.75rem"},option:e=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:e?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"}),radio:{width:"16px",height:"16px",cursor:"pointer"},labelContainer:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},labelRow:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},label:{fontWeight:"600"},description:{fontSize:"0.85rem",color:"#9ca3af"},helpButton:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},tooltip:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"}};function Qj({selectedOption:e,onChange:t,name:n="delete-option"}){const[a,i]=p.useState(null);return u.jsx("div",{style:va.container,children:Xj.map(s=>u.jsxs("div",{style:va.option(e===s.value),onClick:()=>t(s.value),children:[u.jsx("input",{type:"radio",name:n,value:s.value,checked:e===s.value,onChange:r=>t(r.target.value),style:va.radio}),u.jsx("div",{style:va.labelContainer,children:u.jsxs("div",{style:va.labelRow,children:[u.jsx("span",{style:va.label,children:s.label}),u.jsx("span",{style:va.description,children:s.description})]})}),u.jsx("button",{onMouseEnter:()=>i(s.value),onMouseLeave:()=>i(null),onClick:r=>{r.stopPropagation(),i(a===s.value?null:s.value)},style:va.helpButton,children:"?"}),a===s.value&&u.jsx("div",{style:va.tooltip,children:s.tooltip})]},s.value))})}function cs({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:d,level:f=0,onCreateRoutine:h,routines:m,onShowRoutineHistory:b,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y,isPendingRoutine:g=!1,onRemoveFromUI:v,showSuccessMessage:w,activeId:x,overId:j,hideNumber:E=!1,onMoveUp:O,onMoveDown:C,onMoveToTop:L,onMoveToBottom:W,isFirst:Be,isLast:Ge}){const[Xe,Me]=p.useState(!1),[z,$]=p.useState(!1),[K,fe]=p.useState(!1),[ue,St]=p.useState(e.text),[ke,yt]=p.useState(!1),[Ze,Qe]=p.useState(!1),[nt,ln]=p.useState(!1),[Pe,ot]=p.useState(""),[pe,pn]=p.useState(!1),[Yt,bn]=p.useState([]),[Tt,_n]=p.useState(!1),[wn,J]=p.useState(!1),[ie,be]=p.useState([]),[Ae,Bt]=p.useState([]),[Rt,on]=p.useState([]),[ht,mt]=p.useState(null),[Re,Se]=p.useState(!1),[ee,He]=p.useState(null),[pt,D]=p.useState(!1),[k,U]=p.useState([]),[P,H]=p.useState(""),[Z,he]=p.useState({}),[q,xe]=p.useState(!1),[re,Ce]=p.useState(null),[Y,ve]=p.useState([]),[le,Fe]=p.useState("this-only"),te=e.routine_id?m.find(R=>R.id===e.routine_id):null,{attributes:De,listeners:F,setNodeRef:Gt,transform:We,transition:Pt,isDragging:It}=Mj({id:e.id}),Ft=e.id===x,zn=e.id===j&&x&&x!==j,ua={cursor:"grab",opacity:Ft?.4:1},Sn=e.text.length>30,da=()=>{fe(!0),St(e.text)},Ma=async()=>{ue.trim()&&ue!==e.text&&await i(e.id,ue.trim()),fe(!1)},jl=async R=>{R.key==="Enter"&&!R.shiftKey?(R.preventDefault(),await Ma()):R.key==="Escape"&&(fe(!1),St(e.text))},Mc=R=>{U(X=>X.includes(R)?X.filter(gt=>gt!==R):[...X,R])},kc=R=>["sun","mon","tue","wed","thu","fri","sat"][R];p.useEffect(()=>{const R=X=>{z&&!X.target.closest(".drag-handle-wrapper")&&$(!1)};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[z]),p.useEffect(()=>{ee==="history"&&!Z[e.id]&&!q&&(async()=>{xe(!0);try{const{data:X,error:gt}=await Ve.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(gt)throw gt;he(bt=>({...bt,[e.id]:X||[]}))}catch(X){console.error("Error fetching history:",X)}finally{xe(!1)}})()},[ee,e.id,Z,q]),p.useEffect(()=>{ee==="routine-stats"&&te&&(!re||re.id!==te.id)&&(async()=>{try{const{data:X,error:gt}=await Ve.from("todos").select("*").eq("routine_id",te.id).eq("deleted",!1).maybeSingle();if(gt)throw gt;if(X&&X.visible_dates){const bt=X.visible_dates.sort().map(ye=>{var at;return{id:`${X.id}-${ye}`,date:ye,text:X.text,completed:((at=X.completed_dates)==null?void 0:at.includes(ye))||!1}});ve(bt),Ce(te)}}catch(X){console.error("Error fetching routine history:",X)}})()},[ee,te,re]);const Uc=R=>{Bt(X=>X.includes(R)?X.filter(gt=>gt!==R):[...X,R])};return u.jsxs("div",{ref:Gt,style:{...ua,borderTop:zn?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:"todo-item-container",children:[u.jsxs("div",{className:"drag-handle-wrapper",children:[u.jsx("span",{className:"drag-handle",onClick:R=>{R.stopPropagation(),$(!z)},title:"  "}),z&&u.jsxs("div",{className:"move-menu",children:[!Be&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"move-menu-item",onClick:R=>{R.stopPropagation(),L&&L(e.id),$(!1)},children:"  "}),u.jsx("button",{className:"move-menu-item",onClick:R=>{R.stopPropagation(),O&&O(e.id),$(!1)},children:" "})]}),!Ge&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"move-menu-item",onClick:R=>{R.stopPropagation(),C&&C(e.id),$(!1)},children:" "}),u.jsx("button",{className:"move-menu-item",onClick:R=>{R.stopPropagation(),W&&W(e.id),$(!1)},children:"  "})]}),u.jsx("button",{className:"move-menu-item delete",onClick:R=>{R.stopPropagation(),window.confirm("  ?")&&a(e.id),$(!1)},children:" "})]})]}),!E&&u.jsx("span",{className:"todo-number",children:t+1}),u.jsx("div",{className:"todo-item-wrapper",children:u.jsxs("div",{className:`todo-item ${e.completed?"completed":""} ${Xe?"expanded":""} ${It?"drag-mode":""}`,children:[u.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),u.jsx("div",{className:"todo-content",onClick:()=>!K&&Sn&&Me(!Xe),onDoubleClick:da,style:{cursor:K?"text":Sn?"pointer":"default"},children:K?u.jsx("textarea",{value:ue,onChange:R=>St(R.target.value),onBlur:Ma,onKeyDown:jl,className:"todo-edit-input",autoFocus:!0,rows:1,style:{minHeight:"1.35em",resize:"vertical",overflow:"hidden"},onInput:R=>{R.target.style.height="auto",R.target.style.height=R.target.scrollHeight+"px"}}):u.jsx("span",{className:`todo-text ${Xe?"expanded":""}`,children:e.text})}),(()=>{const R=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,X=e.routine_id&&te,gt=g||e.is_pending_routine;return(d.length>0||R||X||gt)&&u.jsxs("div",{className:"todo-badges",children:[R&&(()=>{const bt=new Date(e.completed_at).toISOString().split("T")[0],ye=new Date(e.completed_at).getDate();return u.jsxs("span",{className:"completed-date-badge",title:`${bt} `,children:[ye,""]})})(),X&&(()=>{const bt=y||e.date,ye=new Date(bt+"T00:00:00"),at=ye.getMonth()+1,qe=ye.getDate(),cn=["","","","","","",""][ye.getDay()],Ki=`${at}/${qe}(${cn})`;return u.jsxs("span",{className:"routine-date-badge",title:`${te.text} `,children:["for ",Ki]})})(),gt&&u.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&u.jsx("span",{className:"todo-badge clickable",title:" ",onClick:bt=>{bt.stopPropagation(),Ze?(yt(!1),Qe(!1),ln(!1)):(yt(!0),Qe(!0),ln(!1),pn(!1),J(!1))},children:""})]})})(),!K&&!e.parent_id&&u.jsx("button",{className:"todo-more-button",onClick:R=>{R.stopPropagation(),Se(!0),He(null),D(!1),U([]),H("")},title:"",children:""}),Ze&&!e.parent_id&&u.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((R,X)=>u.jsx(cs,{todo:R,index:X,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:[],level:f+1,routines:m,onShowRoutineHistory:b,showSuccessMessage:w,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y},R.id)),nt&&u.jsxs("div",{className:"subtodo-input-section",children:[u.jsx("input",{type:"text",value:Pe,onChange:R=>ot(R.target.value),onKeyDown:R=>{R.key==="Enter"&&Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),u.jsx("button",{onClick:()=>{Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},className:"subtodo-add-button",children:""}),u.jsx("button",{onClick:()=>{ot("")},className:"subtodo-cancel-button",children:""})]})]})]})}),Re&&mv.createPortal(u.jsx("div",{className:"modal-overlay",onClick:()=>Se(!1),children:u.jsxs("div",{className:"actions-modal-content",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"actions-modal-header",children:[u.jsx("h3",{children:" "}),u.jsx("button",{onClick:()=>Se(!1),className:"modal-close-button",children:""})]}),u.jsx("div",{className:"todo-edit-section",children:u.jsx("textarea",{value:ue,onChange:R=>St(R.target.value),onBlur:()=>{ue.trim()!==""&&ue!==e.text?i(e.id,ue):ue.trim()===""&&St(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),u.jsxs("div",{className:"actions-modal-body",children:[u.jsxs("div",{className:"actions-menu",children:[u.jsxs("button",{className:`action-menu-item ${ee==="nanotodo"?"active":""}`,onClick:()=>He("nanotodo"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${ee==="routine"?"active":""}`,onClick:()=>{He("routine");const R=m.find(X=>X.id===e.routine_id);R?(U(R.days||[]),H(R.time_slot||""),D(!1)):(U([]),H(""),D(!0))},children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${ee==="history"?"active":""}`,onClick:()=>He("history"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),e.routine_id&&te&&u.jsxs("button",{className:`action-menu-item ${ee==="routine-stats"?"active":""}`,onClick:()=>He("routine-stats"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item delete ${ee==="delete"?"active":""}`,onClick:()=>He("delete"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]})]}),u.jsxs("div",{className:"actions-detail",children:[!ee&&u.jsx("div",{className:"actions-detail-empty",children:u.jsx("p",{children:"  "})}),ee==="nanotodo"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:" "}),u.jsxs("div",{className:"nanotodo-section-in-modal",children:[d&&d.length>0&&u.jsx("div",{className:"subtodo-list-in-modal",children:d.map(R=>u.jsxs("div",{className:"subtodo-item-in-modal",children:[u.jsx("input",{type:"checkbox",checked:R.completed,onChange:()=>n(R.id),className:"subtodo-checkbox-modal"}),u.jsx("span",{className:`subtodo-text-modal ${R.completed?"completed":""}`,children:R.text}),u.jsx("button",{onClick:()=>a(R.id),className:"subtodo-delete-modal",title:"",children:""})]},R.id))}),u.jsxs("div",{className:"subtodo-input-section-modal",children:[u.jsx("input",{type:"text",value:Pe,onChange:R=>ot(R.target.value),onKeyDown:R=>{R.key==="Enter"&&Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},placeholder:" ...",className:"subtodo-input-modal"}),u.jsx("button",{onClick:()=>{Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),ee==="routine"&&(()=>{const R=m.find(X=>X.id===e.routine_id);return u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{className:"routine-setup-inline",children:R&&!pt?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Rc.filter(X=>R.days.includes(X.key)).map(X=>u.jsx("span",{className:"routine-day-badge",children:X.label},X.key))}),R.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",R.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:X=>{X.stopPropagation(),R&&(U(R.days),H(R.time_slot||""),D(!0))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async X=>{X.stopPropagation(),R&&e&&(await h(e.id,e.text,[],null,!0),Se(!1))},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:pt?" :":"  :"}),u.jsx(ic,{selectedDays:k,onToggle:Mc,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(bh,{value:P,onChange:X=>H(X)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async X=>{X.stopPropagation(),e&&(pt&&R?await h(e.id,e.text,k,R.id,!1,P):await h(e.id,e.text,k,null,!1,P),D(!1),Se(!1))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:X=>{X.stopPropagation(),D(!1),U([]),H("")},className:"routine-cancel-button",children:""})]})]})})]})})(),ee==="history"&&(()=>{const R=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],X=R[0],gt=R.map(ye=>({id:`${e.id}-${ye}`,date:ye})),bt=Z[e.id]||[];return q?u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:s(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:r(X?new Date(X+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),gt.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:gt.map((ye,at)=>{const qe=ye.date===e.date,ct=r(new Date(ye.date+"T00:00:00"));return u.jsxs("span",{children:[at>0&&"  ",u.jsxs("span",{style:qe?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ct.split("(")[0],qe?"()":""]})]},ye.id)})})]}),(()=>{const ye=new Date(e.created_at).toISOString().split("T")[0],at=e.date;return ye!==at&&gt.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),bt.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",bt.length,")"]}),bt.map(ye=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[s(ye.changed_at),ye.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(ye.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:at=>{at.stopPropagation(),Uc(ye.id)},children:Ae.includes(ye.id)?"":""})]}),Ae.includes(ye.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ye.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ye.new_text})]})]})]},ye.id))]})]})]})})(),ee==="routine-stats"&&te&&(()=>{if(!re||re.id!==te.id||Y.length===0)return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",te.text," "]}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!re||re.id!==te.id?" ...":" ."})]});const R=Y[0],X=new Date(R.date),gt=new Date,bt={};Y.forEach(qe=>{bt[qe.date]=qe.completed});const ye=[];let at=new Date(X);for(;at<=gt;){const qe=at.getFullYear(),ct=at.getMonth(),cn=`${qe}-${ct+1}`;ye.find(or=>or.key===cn)||ye.push({key:cn,year:qe,month:ct,days:[]});const Ki=ye.find(or=>or.key===cn),ka=Ee(at),rr=at.getDay(),lr=kc(rr),zc=te.days.includes(lr);Ki.days.push({date:new Date(at),dateStr:ka,day:at.getDate(),dayOfWeek:rr,isCompleted:bt[ka]===!0,isRoutineDay:zc,hasTodo:bt[ka]!==void 0}),at.setDate(at.getDate()+1)}return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",te.text," "]}),u.jsxs("div",{className:"routine-history-content",children:[u.jsx("div",{className:"routine-history-calendar",children:ye.map(qe=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[qe.year," ",qe.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),qe.days.length>0&&Array(qe.days[0].dayOfWeek).fill(null).map((ct,cn)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${cn}`)),qe.days.map((ct,cn)=>{if(cn>0&&ct.day===1){const ka=6-qe.days[cn-1].dayOfWeek;return u.jsxs(ft.Fragment,{children:[Array(ka).fill(null).map((rr,lr)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${cn}-${lr}`)),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]},ct.dateStr)}return u.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,title:`${ct.dateStr}${ct.isRoutineDay?"":" (  )"}${ct.isCompleted?" - ":ct.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},ct.dateStr)})]})]},qe.key))}),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[Y.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[Y.filter(qe=>qe.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[Y.filter(qe=>!qe.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[Y.length>0?Math.round(Y.filter(qe=>qe.completed).length/Y.length*100):0,"%"]})]})]})]})]})})(),ee==="delete"&&(()=>{const R=async()=>{window.confirm(`  ?

  5    .`)&&(await a(e.id,le),Se(!1))};return u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"   "}),u.jsxs("p",{style:{fontSize:"0.9rem",color:"#9ca3af",marginBottom:"1rem",lineHeight:"1.6"},children:["    .",u.jsx("br",{}),"    ."]}),u.jsx(Qj,{selectedOption:le,onChange:Fe}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[u.jsx("button",{onClick:()=>Se(!1),style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#9ca3af",cursor:"pointer",fontSize:"0.9rem"},children:""}),u.jsx("button",{onClick:R,style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"#ef4444",border:"none",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:""})]})]})})()]})]})]})}),document.body)]})}function Jj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:c,routines:d,editingRoutineId:f,editingRoutineText:h,setEditingRoutineText:m,editingRoutineDays:b,onToggleEditDay:_,onStartEdit:S,onSaveEdit:y,onCancelEdit:g,onDelete:v,onShowHistory:w}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-modal",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-add-section",children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),u.jsx(ic,{selectedDays:s,onToggle:r,disabled:i}),u.jsxs("div",{className:"time-slot-selector",children:[u.jsx("label",{className:"time-slot-label",children:"  ()"}),u.jsx(bh,{value:l,onChange:x=>o(x)})]}),u.jsx("button",{onClick:c,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),u.jsx("div",{className:"routine-list",children:d.length===0?u.jsx("p",{className:"empty-message",children:"  ."}):d.map(x=>u.jsx("div",{className:"routine-item",children:f===x.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-edit-content",children:[u.jsx("input",{type:"text",value:h,onChange:j=>m(j.target.value),className:"routine-edit-input",placeholder:" "}),u.jsx(ic,{selectedDays:b,onToggle:_,variant:"inline"})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:y,className:"routine-save-button",disabled:h.trim()===""||b.length===0,children:""}),u.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-item-content",children:[u.jsx("span",{className:"routine-text",children:x.text}),u.jsxs("div",{className:"routine-meta",children:[u.jsx("div",{className:"routine-days",children:Rc.filter(j=>x.days.includes(j.key)).map(j=>u.jsx("span",{className:"routine-day-badge",children:j.label},j.key))}),x.time_slot&&u.jsx("span",{className:"routine-time-slot",children:x.time_slot})]})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:()=>w(x),className:"routine-history-button",title:" ",children:""}),u.jsx("button",{onClick:()=>S(x),className:"routine-edit-button",title:"",children:""}),u.jsx("button",{onClick:()=>v(x.id),className:"routine-delete-button",title:"",children:""})]})]})},x.id))})]})}):null}const Zj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Pj({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[" ",n.text," "]}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return u.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const o=[];let c=new Date(s);for(;c<=r;){const d=c.getFullYear(),f=c.getMonth(),h=`${d}-${f+1}`;o.find(g=>g.key===h)||o.push({key:h,year:d,month:f,days:[]});const m=o.find(g=>g.key===h),b=Ee(c),_=c.getDay(),S=Zj(_),y=n.days.includes(S);m.days.push({date:new Date(c),dateStr:b,day:c.getDate(),dayOfWeek:_,isCompleted:l[b]===!0,isRoutineDay:y,hasTodo:l[b]!==void 0}),c.setDate(c.getDate()+1)}return u.jsx("div",{className:"routine-history-calendar",children:o.map(d=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((f,h)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${h}`)),d.days.map((f,h)=>{if(h>0&&f.day===1){const b=6-d.days[h-1].dayOfWeek;return u.jsxs(u.Fragment,{children:[Array(b).fill(null).map((_,S)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${h}-${S}`)),u.jsx("div",{className:"history-day-header",children:""},f.dateStr),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]})}return u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,title:`${f.dateStr}${f.isRoutineDay?"":" (  )"}${f.isCompleted?" - ":f.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},f.dateStr)})]})]},d.key))})})(),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Fj({show:e,onClose:t,content:n,setContent:a,isSaving:i,placeholder:s=" ..."}){const r=p.useRef(null);return p.useEffect(()=>{r.current&&e&&(r.current.style.height="auto",r.current.style.height=Math.min(r.current.scrollHeight,window.innerHeight*.6)+"px")},[n,e]),p.useEffect(()=>{e&&r.current&&r.current.focus()},[e]),p.useEffect(()=>{const l=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]),e?u.jsx("div",{className:"memo-modal-overlay",onClick:t,children:u.jsxs("div",{className:"memo-modal",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"memo-modal-header",children:[u.jsx("h3",{children:"  "}),u.jsxs("div",{className:"memo-modal-actions",children:[i&&u.jsx("span",{className:"memo-saving-indicator",children:" ..."}),u.jsx("button",{className:"memo-modal-close",onClick:t,children:""})]})]}),u.jsx("textarea",{ref:r,value:n,onChange:l=>a(l.target.value),className:"memo-modal-textarea",placeholder:s})]})}):null}function Wj({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  -  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"gantt-filter",children:u.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>u.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),u.jsx("div",{className:"gantt-content",children:n.length===0?u.jsx("p",{className:"empty-message",children:" ."}):u.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(f=>f.dates),l=[...new Set(r)].sort((f,h)=>new Date(f)-new Date(h));if(l.length===0)return u.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),c=new Date(l[l.length-1]),d=[];for(let f=new Date(o);f<=c;f.setDate(f.getDate()+1))d.push(new Date(f).toISOString().split("T")[0]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"gantt-header",children:[u.jsx("div",{className:"gantt-task-column",children:" "}),u.jsx("div",{className:"gantt-timeline",children:d.map(f=>u.jsx("div",{className:"gantt-date-cell",children:s(new Date(f+"T00:00:00")).split("(")[0]},f))})]}),n.map((f,h)=>{const m=new Set(f.dates);return u.jsxs("div",{className:"gantt-row",children:[u.jsx("div",{className:"gantt-task-column",title:f.text,children:u.jsx("span",{className:f.completed?"completed-task":"",children:f.text})}),u.jsx("div",{className:"gantt-timeline",children:d.map(b=>{if(!m.has(b))return u.jsx("div",{className:"gantt-date-cell"},b);const S=b===f.startDate,y=b===f.completedDate;let g="gantt-date-cell has-task";return S?g+=" start-date":y?g+=" completed-date":g+=" middle-date",u.jsx("div",{className:g,children:y?u.jsx("span",{className:"completed-circle",children:""}):""},b)})})]},f.originalId)})]})})()})})]})}):null}function eO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:c,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:f}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content encouragement-modal",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"encouragement-add-section",children:[u.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async h=>{h.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),u.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),u.jsx("div",{className:"encouragement-list",children:n.length===0?u.jsx("p",{className:"empty-message",children:"   ."}):n.map((h,m)=>u.jsx("div",{className:"encouragement-item",children:r===m?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),className:"encouragement-edit-input",placeholder:" "}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(m,l.trim()),o(null),c(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),u.jsx("button",{onClick:()=>{o(null),c("")},className:"encouragement-cancel-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"encouragement-text",children:h}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:()=>{o(m),c(h)},className:"encouragement-edit-button",title:"",children:""}),u.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await f(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function tO({isOpen:e,onClose:t,onAddSection:n}){const[a,i]=p.useState(""),[s,r]=p.useState(""),l=["","","","","","","","","","","",""],o=c=>{c.preventDefault(),a.trim()&&(n({name:a.trim(),icon:s}),i(""),r(""),t())};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content add-section-modal",onClick:c=>c.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),u.jsxs("form",{onSubmit:o,className:"add-section-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("div",{className:"emoji-grid",children:l.map(c=>u.jsx("button",{type:"button",className:`emoji-button ${s===c?"selected":""}`,onClick:()=>r(c),children:c},c))}),u.jsx("div",{className:"custom-emoji-input",children:u.jsx("input",{type:"text",value:s,onChange:c=>{const d=Array.from(c.target.value);r(d.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("div",{className:"section-preview",children:[s," ",a||" "]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),u.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function nO({show:e,onClose:t,hiddenSections:n,sectionOrder:a,sectionTitles:i,customSections:s,onShowSection:r}){if(!e)return null;const l=o=>{if(i[o])return i[o];const c=s.find(d=>d.id===o);return c?`${c.icon} ${c.name}`:o};return n.length===0?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("p",{className:"empty-message",children:"  ."})})]})}):u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"hidden-sections-list",children:n.map(o=>u.jsxs("div",{className:"hidden-section-item",children:[u.jsx("span",{className:"hidden-section-title",children:l(o)}),u.jsx("button",{className:"show-section-button",onClick:()=>{r(o)},title:" ",children:" "})]},o))})})]})})}function Zg({todo:e,onClose:t,onDeleteThisOnly:n,onDeleteFromNow:a,onDeleteAll:i}){const[s,r]=p.useState("this-only"),[l,o]=p.useState(null),c=()=>{s==="this-only"?n(e):s==="from-now"?a(e):s==="all"&&i(e),t()},d=[{id:"this-only",label:" ",subtitle:" ",tooltip:"  ,  ,   "},{id:"from-now",label:"   ",subtitle:" ",tooltip:"  ,  ,   "},{id:"all",label:" ",subtitle:" ",tooltip:"  ,  ,   "}];return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content delete-confirm-modal-v2",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"delete-confirm-content-v2",children:[u.jsxs("p",{className:"delete-info-text",children:["    .",u.jsx("br",{}),"    ."]}),u.jsx("div",{className:"delete-options-v2",children:d.map(f=>u.jsxs("div",{className:"delete-option-item",children:[u.jsxs("label",{className:"delete-option-label",children:[u.jsx("input",{type:"radio",name:"delete-option",value:f.id,checked:s===f.id,onChange:h=>r(h.target.value)}),u.jsxs("div",{className:"option-text",children:[u.jsx("span",{className:"option-main",children:f.label}),u.jsx("span",{className:"option-sub",children:f.subtitle})]})]}),u.jsx("button",{className:"option-help-btn",onMouseEnter:()=>o(f.id),onMouseLeave:()=>o(null),onClick:h=>{h.preventDefault(),o(l===f.id?null:f.id)},children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"8",y:"11.5",textAnchor:"middle",fontSize:"11",fill:"currentColor",fontWeight:"600",children:"?"})]})}),l===f.id&&u.jsx("div",{className:"option-tooltip",children:f.tooltip})]},f.id))}),u.jsxs("div",{className:"delete-modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:t,children:""}),u.jsx("button",{className:"btn-confirm",onClick:c,children:""})]})]})]})})}function aO({authLoading:e,session:t,handleGoogleLogin:n}){return e?u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),u.jsx("div",{children:" ..."})]})}):t?null:u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[u.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),u.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),u.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[u.jsx("span",{children:""}),"Google "]})]})})}const $a={async get(e,t=null){try{const{data:n,error:a}=await Ve.from("user_settings").select("setting_value").eq("setting_key",e).maybeSingle();return a?(console.error(`   [${e}]:`,a.message),t):n&&n.setting_value?JSON.parse(n.setting_value):t}catch(n){return console.error(`   [${e}]:`,n.message),t}},async set(e,t,n){if(!n)return console.warn(`   [${e}]:  ID `),!1;try{const{data:a,error:i}=await Ve.from("user_settings").select("id").eq("setting_key",e).maybeSingle();if(i)return console.error(`   [${e}]:`,i.message),!1;const s=JSON.stringify(t);if(a){const{error:r}=await Ve.from("user_settings").update({setting_value:s,updated_at:new Date().toISOString()}).eq("setting_key",e);if(r)return console.error(`   [${e}]:`,r.message),!1}else{const{error:r}=await Ve.from("user_settings").insert([{setting_key:e,setting_value:s,user_id:n}]);if(r)return console.error(`   [${e}]:`,r.message),!1}return!0}catch(a){return console.error(`   [${e}]:`,a.message),!1}},async remove(e){try{const{error:t}=await Ve.from("user_settings").delete().eq("setting_key",e);return t?(console.error(`   [${e}]:`,t.message),!1):!0}catch(t){return console.error(`   [${e}]:`,t.message),!1}}},Va={SECTION_ORDER:"section_order",SECTION_TITLES:"section_titles",CUSTOM_SECTIONS:"custom_sections",HIDDEN_SECTIONS:"hidden_sections"};function iO(e){const[t,n]=p.useState(["routine","normal"]),[a,i]=p.useState(!1),s=async()=>{var h;if(!((h=e==null?void 0:e.user)!=null&&h.id))return;const f=await $a.get(Va.SECTION_ORDER);f&&n(f)},r=async f=>{var h;(h=e==null?void 0:e.user)!=null&&h.id&&await $a.set(Va.SECTION_ORDER,f,e.user.id)};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,saveSectionOrder:r,moveSectionLeft:f=>{n(h=>{const m=h.indexOf(f);if(m<=0)return h;const b=[...h];return[b[m-1],b[m]]=[b[m],b[m-1]],r(b),b})},moveSectionRight:f=>{n(h=>{const m=h.indexOf(f);if(m===-1||m>=h.length-1)return h;const b=[...h];return[b[m],b[m+1]]=[b[m+1],b[m]],r(b),b})},handleSectionDragEnd:f=>{const{active:h,over:m}=f;a&&t.includes(h.id)&&m&&h.id!==(m==null?void 0:m.id)&&n(b=>{const _=b.indexOf(h.id),S=b.indexOf(m.id),y=Qa(b,_,S);return r(y),y})},handleSectionsContainerDoubleClick:f=>{a&&f.target===f.currentTarget&&i(!1)}}}function sO(e){const[t,n]=p.useState(""),[a,i]=p.useState(!1),[s,r]=p.useState(""),l=p.useRef(null),o=p.useRef(null),c=async()=>{try{const{data:f,error:h}=await Ve.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(h)throw h;const m=f&&f.length>0?f[0].content:"";n(m),r(m)}catch(f){console.error("Error fetching memo:",f.message),n(""),r("")}},d=p.useCallback(async f=>{var h;if(f!==s)try{i(!0);const{data:m}=await Ve.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);m&&m.length>0?await Ve.from("spec_memos").update({content:f,updated_at:new Date().toISOString()}).eq("id",m[0].id):await Ve.from("spec_memos").insert([{content:f,user_id:(h=e==null?void 0:e.user)==null?void 0:h.id}]),r(f)}catch(m){console.error("Error saving memo:",m.message)}finally{i(!1)}},[e,s]);return p.useEffect(()=>{if(t!==s)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d(t)},1e3),()=>{o.current&&clearTimeout(o.current)}},[t,d,s]),p.useEffect(()=>()=>{o.current&&clearTimeout(o.current),t!==s&&d(t)},[]),{memoContent:t,setMemoContent:n,isSavingMemo:a,memoTextareaRef:l,fetchMemoContent:c}}const Ub=({type:e,supabase:t,selectedDate:n,onDeleteSuccess:a})=>({deleteThisOnly:async l=>{try{const o=Ee(n),d=[...l.hidden_dates||[],o],f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({hidden_dates:d}).eq("id",l.id);if(h)throw h;return a&&a(l.id,$u.THIS_ONLY),{success:!0}}catch(o){return console.error(`${e}   (THIS_ONLY):`,o.message),{success:!1,error:o}}},deleteFromNow:async l=>{try{const o=Ee(n),d=(l.visible_dates||[]).filter(m=>m<o),f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({visible_dates:d,stop_carryover_from:o}).eq("id",l.id);if(h)throw h;return a&&a(l.id,$u.FROM_NOW),{success:!0}}catch(o){return console.error(`${e}   (FROM_NOW):`,o.message),{success:!1,error:o}}},deleteAll:async l=>{try{const o=Ee(n),c=e==="todo"?"todos":"routines",{error:d}=await t.from(c).update({deleted:!0,deleted_date:o}).eq("id",l.id);if(d)throw d;return e==="routine"&&await t.from("todos").update({routine_id:null}).eq("routine_id",l.id),a&&a(l.id,$u.ALL),{success:!0}}catch(o){return console.error(`${e}   (ALL):`,o.message),{success:!1,error:o}}}}),rO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],lO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=p.useState([]),[o,c]=p.useState(""),[d,f]=p.useState([]),[h,m]=p.useState(""),[b,_]=p.useState(!1),[S,y]=p.useState(!1),[g,v]=p.useState(null),[w,x]=p.useState(""),[j,E]=p.useState([]),[O,C]=p.useState(!1),[L,W]=p.useState(null),[Be,Ge]=p.useState([]),[Xe,Me]=p.useState(!1),[z,$]=p.useState(null),K=p.useRef(new Set),{deleteThisOnly:fe,deleteFromNow:ue,deleteAll:St}=Ub({type:"routine",supabase:t,selectedDate:n,onDeleteSuccess:(J,ie)=>{l(be=>be.filter(Ae=>Ae.id!==J)),i(" "),s(!0)}}),ke=async()=>{var J;if((J=e==null?void 0:e.user)!=null&&J.id)try{const{data:ie,error:be}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(be)throw be;l(ie||[])}catch(ie){console.error("  :",ie.message)}},yt=async()=>{var J;if(!(o.trim()===""||b))try{_(!0);const ie={text:o,days:d,start_date:Ee(n),user_id:(J=e==null?void 0:e.user)==null?void 0:J.id};h&&(ie.time_slot=h);const{data:be,error:Ae}=await t.from("routines").insert([ie]).select();if(Ae)throw Ae;l([be[0],...r]),c(""),f([]),m("")}catch(ie){console.error("  :",ie.message)}finally{_(!1)}},Ze=async(J,ie,be,Ae=null,Bt=!1,Rt="",on=null)=>{var ht;try{if(Bt){const{error:mt}=await t.from("todos").update({routine_id:null}).eq("id",J);if(mt)throw mt;a(Re=>Re.map(Se=>Se.id===J?{...Se,routine_id:null}:Se));return}if(Ae){const{error:mt}=await t.from("routines").update({days:be,time_slot:Rt}).eq("id",Ae);if(mt)throw mt;const{error:Re}=await t.from("todos").update({is_pending_routine:be.length===0}).eq("id",J);if(Re)throw Re;l(Se=>Se.map(ee=>ee.id===Ae?{...ee,days:be,time_slot:Rt}:ee)),a(Se=>Se.map(ee=>ee.id===J?{...ee,is_pending_routine:be.length===0}:ee))}else{const mt={text:ie,days:be,time_slot:Rt,start_date:on||Ee(n),user_id:(ht=e==null?void 0:e.user)==null?void 0:ht.id},{data:Re,error:Se}=await t.from("routines").insert([mt]).select();if(Se)throw Se;const{error:ee}=await t.from("todos").update({routine_id:Re[0].id,is_pending_routine:be.length===0}).eq("id",J);if(ee)throw ee;a(He=>He.map(pt=>pt.id===J?{...pt,routine_id:Re[0].id,is_pending_routine:be.length===0}:pt)),l(He=>[Re[0],...He])}}catch(mt){console.error("  :",mt.message)}},Qe=J=>{v(J.id),x(J.text),E(J.days)},nt=()=>{v(null),x(""),E([])},ln=async()=>{if(!(!g||w.trim()===""||j.length===0))try{const{error:J}=await t.from("routines").update({text:w.trim(),days:j}).eq("id",g);if(J)throw J;l(r.map(ie=>ie.id===g?{...ie,text:w.trim(),days:j}:ie)),nt()}catch(J){console.error("  :",J.message)}},Pe=J=>{E(ie=>ie.includes(J)?ie.filter(be=>be!==J):[...ie,J])},ot=async J=>{const ie=r.find(be=>be.id===J);ie&&($(ie),Me(!0))},pe=async J=>{var ie;if(!K.current.has(J))try{K.current.add(J);const be=new Date(J),Ae=rO(be.getDay()),{data:Bt,error:Rt}=await t.from("routines").select("*").eq("deleted",!1);if(Rt)throw Rt;const on=Bt.filter(ht=>{const mt=ht.days||[],Re=mt.length===0||mt.includes(Ae);if(ht.start_date){const Se=new Date(ht.start_date),ee=be>=Se;return Re&&ee}return Re});if(on.length===0)return;for(const ht of on){const mt=ht.text,{data:Re,error:Se}=await t.from("todos").select("*").eq("routine_id",ht.id).eq("deleted",!1);if(Se)throw Se;if(Re&&Re.length>1){console.warn(` ${ht.id}    (${Re.length}).     .`);for(let He=1;He<Re.length;He++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Re[He].id)}const ee=Re&&Re.length>0?Re[0]:null;if(ee){const He=ee.visible_dates||[],pt=!ht.days||ht.days.length===0,D=pt?"pending_routine":"routine";if(He.includes(J)){(ee.is_pending_routine!==pt||ee.section_type!==D)&&await t.from("todos").update({is_pending_routine:pt,section_type:D}).eq("id",ee.id);continue}const k=[...He,J].sort(),{error:U}=await t.from("todos").update({visible_dates:k,is_pending_routine:pt,section_type:pt?"pending_routine":"routine"}).eq("id",ee.id);U&&console.error("    :",U.message)}else{const He=!ht.days||ht.days.length===0,{error:pt}=await t.from("todos").insert([{text:mt,completed:!1,date:J,visible_dates:[J],hidden_dates:[],order_index:0,routine_id:ht.id,is_pending_routine:He,section_type:He?"pending_routine":"routine",user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);pt&&console.error("   :",pt.message)}}}catch(be){console.error("   :",be.message)}finally{setTimeout(()=>{K.current.delete(J)},1e3)}},pn=async()=>{const ie=Ee(new Date);await pe(ie)},Yt=async J=>{try{const{data:ie,error:be}=await t.from("todos").select("*").eq("routine_id",J.id).eq("deleted",!1);if(be)throw be;const Ae=ie&&ie.length>0?ie[0]:null;if(Ae&&Ae.visible_dates){const Bt=Ae.visible_dates.sort().map(Rt=>({id:`${Ae.id}-${Rt}`,date:Rt,text:Ae.text,completed:Ae.completed,routine_id:Ae.routine_id}));Ge(Bt)}else Ge([]);W(J),C(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},bn=()=>{C(!1),W(null),Ge([])},Tt=()=>{y(!0),ke()},_n=()=>{y(!1),c(""),f([])},wn=J=>{f(ie=>ie.includes(J)?ie.filter(be=>be!==J):[...ie,J])};return p.useEffect(()=>{e&&ke()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:d,selectedTimeSlot:h,isAddingRoutine:b,showRoutineModal:S,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:j,showRoutineHistory:O,selectedRoutineForHistory:L,routineHistoryData:Be,routineCreationInProgress:K,showDeleteConfirmModal:Xe,setShowDeleteConfirmModal:Me,routineToDelete:z,setRoutineToDelete:$,setRoutineInput:c,setSelectedTimeSlot:m,fetchRoutines:ke,handleAddRoutine:yt,handleDeleteRoutine:ot,deleteThisOnly:fe,deleteFromNow:ue,deleteAll:St,handleStartEditRoutine:Qe,handleSaveEditRoutine:ln,handleCancelEditRoutine:nt,handleToggleEditDay:Pe,handleCreateRoutineFromTodo:Ze,createRoutineTodosForDate:pe,createRoutineTodos:pn,fetchRoutineHistory:Yt,handleCloseRoutineHistory:bn,handleOpenRoutine:Tt,handleCloseRoutine:_n,handleToggleDay:wn}},oO=(e,t,n,a,i,s,r,l,o)=>{const[c,d]=p.useState(""),[f,h]=p.useState(""),[m,b]=p.useState(""),[_,S]=p.useState(!0),[y,g]=p.useState(!1),[v,w]=p.useState(!1),[x,j]=p.useState(null),[E,O]=p.useState(!1),[C,L]=p.useState(!1),[W,Be]=p.useState(""),[Ge,Xe]=p.useState(null),[Me,z]=p.useState(null),[$,K]=p.useState(!1),[fe,ue]=p.useState(null),[St,ke]=p.useState(null),[yt,Ze]=p.useState(null),Qe=p.useRef(new Set),nt=p.useRef(new Set),{deleteThisOnly:ln,deleteFromNow:Pe,deleteAll:ot}=Ub({type:"todo",supabase:t,selectedDate:n,onDeleteSuccess:(D,k)=>{const U=a.find(P=>P.id===D);U&&(j(U),Xe({id:D,deleteType:k,item:U}),O(!0),setTimeout(()=>{O(!1),j(null),Xe(null)},5e3)),i(P=>P.filter(H=>H.id!==D)),K(!1),ue(null)}}),pe=D=>["sun","mon","tue","wed","thu","fri","sat"][D],pn=async D=>{var k;if(!Qe.current.has(D))try{Qe.current.add(D);const U=new Date(D),P=pe(U.getDay()),{data:H,error:Z}=await t.from("routines").select("*").eq("deleted",!1);if(Z)throw Z;const he=H.filter(q=>{const xe=q.days||[],re=xe.length===0||xe.includes(P);if(q.start_date){const Ce=new Date(q.start_date),Y=U>=Ce;return re&&Y}return re});if(he.length===0)return;for(const q of he){const xe=q.text,{data:re,error:Ce}=await t.from("todos").select("*").eq("routine_id",q.id).eq("deleted",!1);if(Ce)throw Ce;if(re&&re.length>1){console.warn(` ${q.id}    (${re.length}).     .`);for(let ve=1;ve<re.length;ve++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",re[ve].id)}const Y=re&&re.length>0?re[0]:null;if(Y){if((Y.hidden_dates||[]).includes(D)||Y.stop_carryover_from&&D>=Y.stop_carryover_from)continue;const le=!q.days||q.days.length===0,Fe=Y.visible_dates||[],te=le?"pending_routine":"routine";if(Fe.includes(D)){if(Y.is_pending_routine!==le||Y.section_type!==te){const{error:We}=await t.from("todos").update({is_pending_routine:le,section_type:te}).eq("id",Y.id);We&&console.error(" :",We)}continue}const De=[...Fe,D].sort(),{error:F}=await t.from("todos").update({visible_dates:De,is_pending_routine:le,section_type:le?"pending_routine":"routine"}).eq("id",Y.id);F&&console.error("    :",F.message)}else{const ve=!q.days||q.days.length===0,{error:le}=await t.from("todos").insert([{text:xe,completed:!1,date:D,visible_dates:[D],hidden_dates:[],order_index:0,routine_id:q.id,is_pending_routine:ve,section_type:ve?"pending_routine":"routine",user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]);le&&console.error("   :",le.message)}}}catch(U){console.error("   :",U.message)}finally{setTimeout(()=>{Qe.current.delete(D)},1e3)}},Yt=async()=>{var D;if(!((D=e==null?void 0:e.user)!=null&&D.id)){S(!1);return}try{S(!0);const k=Ee(n);await pn(k);const{data:U,error:P}=await t.from("todos").select("*").eq("deleted",!1);if(P)throw P;const H=(U||[]).filter(Y=>Y.routine_id),Z=[...new Set(H.map(Y=>Y.routine_id))];let he={};if(Z.length>0){const{data:Y}=await t.from("routines").select("*").in("id",Z);he=(Y||[]).reduce((ve,le)=>(ve[le.id]=le,ve),{})}const q=new Date(k),xe=pe(q.getDay()),re=(U||[]).filter(Y=>{if(Y.stop_carryover_from&&k>=Y.stop_carryover_from||Y.hidden_dates&&Array.isArray(Y.hidden_dates)&&Y.hidden_dates.includes(k))return!1;if(Y.routine_id){const le=he[Y.routine_id];if(le){const Fe=le.days||[];if(Fe.length>0&&!Fe.includes(xe))return!1}}return Y.visible_dates&&Array.isArray(Y.visible_dates)?Y.visible_dates.includes(k):Y.date===k}),Ce=re.filter(Y=>Y.routine_id);if(Ce.length>0){const Y=[...new Set(Ce.map(le=>le.routine_id))],{data:ve}=await t.from("routines").select("*").in("id",Y);for(const le of Ce){const Fe=ve==null?void 0:ve.find(F=>F.id===le.routine_id);if(!Fe)continue;const te=!Fe.days||Fe.days.length===0,De=te?"pending_routine":"routine";(le.section_type!==De||le.is_pending_routine!==te)&&(await t.from("todos").update({section_type:De,is_pending_routine:te}).eq("id",le.id),le.section_type=De,le.is_pending_routine=te)}}i(re)}catch(k){console.error("   :",k.message)}finally{S(!1)}},bn=async()=>{var D;if(!(c.trim()===""||v))try{w(!0);const k=a.filter(he=>!he.parent_id&&he.section_type==="normal"),U=k.length>0?Math.max(...k.map(he=>he.order_index))+1:1,P=Ee(n),{data:H,error:Z}=await t.from("todos").insert([{text:c,completed:!1,order_index:U,date:P,visible_dates:[P],hidden_dates:[],section_type:"normal",user_id:(D=e==null?void 0:e.user)==null?void 0:D.id}]).select();if(Z)throw Z;i([...a,H[0]]),d("")}catch(k){console.error("   :",k.message)}finally{w(!1)}},Tt=async()=>{var D,k;if(!(f.trim()===""||v))try{w(!0);const U=Ee(n),{data:P,error:H}=await t.from("routines").insert([{text:f,days:[],start_date:U,user_id:(D=e==null?void 0:e.user)==null?void 0:D.id}]).select();if(H)throw H;const Z=P[0],he=a.filter(Ce=>!Ce.parent_id&&Ce.section_type==="pending_routine"),q=he.length>0?Math.max(...he.map(Ce=>Ce.order_index))+1:1,{data:xe,error:re}=await t.from("todos").insert([{text:f,completed:!1,order_index:q,date:U,visible_dates:[U],hidden_dates:[],routine_id:Z.id,is_pending_routine:!0,section_type:"pending_routine",user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]).select();if(re)throw re;r([Z,...s]),i([...a,xe[0]]),h("")}catch(U){console.error("   :",U.message)}finally{w(!1)}},_n=async()=>{var D;if(!(m.trim()===""||v))try{w(!0);const k=a.filter(he=>!he.parent_id&&he.section_type==="normal"),U=k.length>0?Math.max(...k.map(he=>he.order_index))+1:1,P=Ee(n),{data:H,error:Z}=await t.from("todos").insert([{text:m,completed:!1,order_index:U,date:P,visible_dates:[P],hidden_dates:[],section_type:"normal",user_id:(D=e==null?void 0:e.user)==null?void 0:D.id}]).select();if(Z)throw Z;i([...a,H[0]]),b("")}catch(k){console.error("   :",k.message)}finally{w(!1)}},wn=async D=>{const k=a.find(U=>U.id===D);if(k)try{const U=!k.completed,P=U?new Date().toISOString():null,{error:H}=await t.from("todos").update({completed:U,completed_at:P}).eq("id",D);if(H)throw H;i(a.map(Z=>Z.id===D?{...Z,completed:U,completed_at:P}:Z))}catch(U){console.error("   :",U.message)}},J=D=>{i(a.filter(k=>k.id!==D))},ie=async(D,k)=>{const U=a.find(P=>P.id===D);U&&(k?k==="this-only"?await ln(U):k==="from-now"?await Pe(U):k==="all"&&await ot(U):(ue(U),K(!0)))},be=async()=>{if(!(!x||!Ge))try{const{deleteType:D}=Ge,k=Ee(n);if(D==="this-only"){const U=(x.hidden_dates||[]).filter(H=>H!==k),{error:P}=await t.from("todos").update({hidden_dates:U}).eq("id",x.id);if(P)throw P}else if(D==="from-now"){const{error:U}=await t.from("todos").update({visible_dates:x.visible_dates,stop_carryover_from:null}).eq("id",x.id);if(U)throw U}else if(D==="all"){const{error:U}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",x.id);if(U)throw U}i(U=>{const P={...x};return[...U,P].sort((Z,he)=>Z.order_index-he.order_index)}),O(!1),j(null),Xe(null)}catch(D){console.error("  :",D.message)}},Ae=async(D,k)=>{var U,P;try{let H=null;nt.current.add(D);const Z=new Date().toISOString();if(i(xe=>(H=xe.find(re=>re.id===D),!H||H.text===k?(nt.current.delete(D),xe):xe.map(re=>re.id===D?{...re,text:k,updated_at:Z}:re))),!H||H.text===k)return;const{error:he}=await t.from("todo_history").insert([{todo_id:D,previous_text:H.text,new_text:k,changed_on_date:H.date,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]);if(he&&console.error("  :",he.message),H.original_todo_id){const{data:xe,error:re}=await t.from("todos").select("text, date").eq("id",H.original_todo_id).single();!re&&xe&&await t.from("todo_history").insert([{todo_id:H.original_todo_id,previous_text:H.text,new_text:k,changed_on_date:H.date,user_id:(P=e==null?void 0:e.user)==null?void 0:P.id}])}const{error:q}=await t.from("todos").update({text:k}).eq("id",D);q?(console.error("   :",q.message),i(xe=>xe.map(re=>re.id===D?H:re)),nt.current.delete(D)):setTimeout(()=>{nt.current.delete(D)},5e3)}catch(H){console.error("   :",H.message),nt.current.delete(D)}},Bt=async(D,k)=>{var U;if(!(!k||k.trim()===""))try{const H=a.filter(xe=>xe.parent_id===D).length+1,Z=Ee(n),{data:he,error:q}=await t.from("todos").insert([{text:k.trim(),completed:!1,order_index:H,date:Z,parent_id:D,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(q)throw q;i([...a,he[0]])}catch(P){console.error("    :",P.message)}},Rt=async(D,k,U)=>{if(!a.find(q=>q.id===D))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===D);if(Z<=0)return;const he=Qa(H,Z,Z-1);await Re(he)},on=async(D,k,U)=>{if(!a.find(q=>q.id===D))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===D);if(Z>=H.length-1)return;const he=Qa(H,Z,Z+1);await Re(he)},ht=async(D,k,U)=>{if(!a.find(q=>q.id===D))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===D);if(Z<=0)return;const he=Qa(H,Z,0);await Re(he)},mt=async(D,k,U)=>{if(!a.find(q=>q.id===D))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===D);if(Z>=H.length-1)return;const he=Qa(H,Z,H.length-1);await Re(he)},Re=async D=>{let k=[...a];D.forEach((U,P)=>{const H=k.findIndex(Z=>Z.id===U.id);H!==-1&&(k[H]={...k[H],order_index:P+1})}),i(k);try{for(let U=0;U<D.length;U++)await t.from("todos").update({order_index:U+1}).eq("id",D[U].id)}catch(U){console.error("  :",U.message),i(a)}};return{inputValue:c,setInputValue:d,routineInputValue:f,setRoutineInputValue:h,normalInputValue:m,setNormalInputValue:b,loading:_,isDraggingAny:y,isAdding:v,deletedTodo:x,showUndoToast:E,showSuccessToast:C,successToastMessage:W,lastDeleteAction:Ge,focusedTodoId:Me,setFocusedTodoId:z,selectedTodoForModal:l,showDeleteConfirmModal:$,setShowDeleteConfirmModal:K,todoToDelete:fe,setTodoToDelete:ue,activeTodoId:St,overId:yt,fetchTodos:Yt,handleAddTodo:bn,handleAddRoutineTodo:Tt,handleAddNormalTodo:_n,handleToggleTodo:wn,handleDeleteTodo:ie,deleteThisOnly:ln,deleteFromNow:Pe,deleteAll:ot,handleUndoDelete:be,handleEditTodo:Ae,handleAddSubTodo:Bt,handleDragEnd:async D=>{g(!1),ke(null),Ze(null);const{active:k,over:U}=D;if(!U||k.id===U.id)return;const P=a.find(F=>F.id===k.id),H=a.find(F=>F.id===U.id);if(!P||!H)return;const Z=P.section_type,he=P.section_id||null,q=H.section_type,xe=H.section_id||null,re=Z!==q||Z==="custom"&&he!==xe,Ce=q,Y=xe,ve=a.filter(F=>!(F.parent_id||F.section_type!==Ce||Ce==="custom"&&F.section_id!==Y)).sort((F,Gt)=>F.order_index-Gt.order_index),le=ve.findIndex(F=>F.id===k.id),Fe=ve.findIndex(F=>F.id===U.id);let te=[...ve];re?te.splice(Fe,0,{...P,section_type:Ce,section_id:Y,routine_id:Ce==="routine"||Ce==="pending_routine"?P.routine_id:null}):te=Qa(ve,le,Fe);let De=[...a];if(te.forEach((F,Gt)=>{const We=De.findIndex(Pt=>Pt.id===F.id);We!==-1&&(De[We]={...F,order_index:Gt+1})}),re){const F=De.findIndex(Gt=>Gt.id===k.id);F!==-1&&(De[F]={...De[F],section_type:Ce,section_id:Y,routine_id:Ce==="routine"||Ce==="pending_routine"?De[F].routine_id:null})}i(De);try{if(re){const F={section_type:Ce,section_id:Y};Ce!=="routine"&&Ce!=="pending_routine"&&(F.routine_id=null,F.is_pending_routine=!1),await t.from("todos").update(F).eq("id",k.id)}for(let F=0;F<te.length;F++)await t.from("todos").update({order_index:F+1}).eq("id",te[F].id)}catch(F){console.error("  :",F.message),i(a)}},handleRemoveTodoFromUI:J,handleDragStart:D=>{const{active:k}=D;g(!0),ke(k.id)},handleDragOver:D=>{const{over:k}=D;Ze((k==null?void 0:k.id)||null)},handleDragCancel:()=>{g(!1),ke(null),Ze(null)},handleMoveUp:Rt,handleMoveDown:on,handleMoveToTop:ht,handleMoveToBottom:mt}},cO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,s]=p.useState(!1),[r,l]=p.useState({}),[o,c]=p.useState([]);return{showTodoHistoryModal:i,todoHistory:r,expandedHistoryIds:o,handleOpenTodoHistoryModal:async m=>{a(m);try{const{data:b,error:_}=await t.from("todo_history").select("*").eq("todo_id",m.id).order("changed_at",{ascending:!1});if(_)throw _;l(S=>({...S,[m.id]:b||[]}))}catch(b){console.error("Error fetching history:",b)}s(!0)},handleCloseTodoHistoryModal:()=>{s(!1),a(null),c([])},toggleHistoryDetail:m=>{c(b=>b.includes(m)?b.filter(_=>_!==m):[...b,m])}}},uO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=p.useState(!1),[s,r]=p.useState([]),[l,o]=p.useState(!1),[c,d]=p.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:s,setRoutineDaysForModal:r,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:c,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:m=>{t(m);const b=n.find(_=>_.id===m.routine_id);b?(r(b.days||[]),d(b.time_slot||""),o(!1)):(r([]),d(""),o(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),r([]),d(""),o(!1)}}},dO=({session:e,supabase:t,selectedDate:n})=>{const a=p.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async r=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const c=l.filter(d=>(d.hidden_dates||[]).includes(r)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(r)?!1:d.visible_dates.some(m=>m<r):!!(d.date&&d.date<r));if(c.length===0)return;for(const d of c){let f=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?f=[...d.visible_dates,r]:f=d.date?[d.date,r]:[r];const{error:h}=await t.from("todos").update({visible_dates:f}).eq("id",d.id);h&&console.error(` ${d.id}  :`,h.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const r=new Date,l=Ee(r),{data:o,error:c}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(c)throw c;if(!o||o.length===0)return;const d=new Date(o[0].date+"T00:00:00");let f=new Date(d);const h=new Date(r);h.setDate(h.getDate()-1);let m=0;for(;f<=h;){const b=Ee(f),_=new Date(f);_.setDate(_.getDate()+1);const S=Ee(_),{data:y,error:g}=await t.from("todos").select("*").eq("date",b).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(y&&y.length>0){const{data:v,error:w}=await t.from("todos").select("*").eq("date",S).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const x=new Set;v==null||v.forEach(E=>{E.original_todo_id!==null&&x.add(E.original_todo_id)});const j=y.filter(E=>{if(E.stop_carryover_from&&b>=E.stop_carryover_from)return!1;const O=E.original_todo_id||E.id;return!x.has(O)});if(j.length>0){const E=j.map(Me=>Me.original_todo_id||Me.id).filter((Me,z,$)=>$.indexOf(Me)===z),{data:O,error:C}=await t.from("todos").select("id, created_at").in("id",E);if(C)throw C;const L={};O==null||O.forEach(Me=>{L[Me.id]=Me.created_at});const Be=(v?v.length:0)+1,Ge=j.map((Me,z)=>{const $=Me.original_todo_id||Me.id;return{text:Me.text,completed:!1,date:S,created_at:L[$]||Me.created_at,order_index:Be+z,original_todo_id:$,parent_id:null,routine_id:null}}),{error:Xe}=await t.from("todos").insert(Ge);if(Xe)throw Xe;m+=j.length}}f.setDate(f.getDate()+1)}m>0}catch(r){console.error("    :",r.message)}finally{a.current=!1}}}};function fO(e,t){const[n,a]=p.useState([]),[i,s]=p.useState(!1),[r,l]=p.useState(""),[o,c]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState(!1),[b,_]=p.useState(""),S=()=>{if(n.length===0)return"";const j=Math.floor(Math.random()*n.length);return n[j]},y=()=>{let j=0;m(!0),setTimeout(()=>{let E=S();for(;E===b&&n.length>1&&j<10;)E=S(),j++;m(!1),_(E)},300)},g=async()=>{try{const{data:j,error:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(E)throw E;if(j&&j.length>0){const O=j.map(C=>C.message);a(O),b||_(O[0])}}catch(j){console.error("   :",j.message)}},v=async j=>{var E;try{const{data:O}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),C=O&&O.length>0?O[0].order_index:0,{error:L}=await t.from("encouragement_messages").insert([{message:j,order_index:C+1,user_id:(E=e==null?void 0:e.user)==null?void 0:E.id}]);if(L)throw L;await g()}catch(O){console.error("   :",O.message),alert("   .")}},w=async(j,E)=>{try{const{data:O}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!O||j>=O.length)throw new Error("   .");const C=O[j],{error:L}=await t.from("encouragement_messages").update({message:E}).eq("id",C.id);if(L)throw L;await g()}catch(O){console.error("   :",O.message),alert("   .")}},x=async j=>{try{const{data:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!E||j>=E.length)throw new Error("   .");const O=E[j],{error:C}=await t.from("encouragement_messages").delete().eq("id",O.id);if(C)throw C;await g()}catch(E){console.error("   :",E.message),alert("   .")}};return p.useEffect(()=>{n.length>0&&!b&&_(S())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:s,newEncouragementMessage:r,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:c,editingEncouragementText:d,setEditingEncouragementText:f,showEncouragementEmoji:h,currentEncouragementMessage:b,handleEncouragementClick:y,fetchEncouragementMessages:g,addEncouragementMessage:v,updateEncouragementMessage:w,deleteEncouragementMessage:x}}function hO(e){const[t,n]=p.useState(!1),[a,i]=p.useState([]),[s,r]=p.useState("1week"),l=async()=>{try{const d=new Date,f=Ee(d);let h=null;if(s!=="all")switch(h=new Date(d),s){case"1week":h.setDate(d.getDate()-7);break;case"2weeks":h.setDate(d.getDate()-14);break;case"1month":h.setMonth(d.getMonth()-1);break;case"3months":h.setMonth(d.getMonth()-3);break;case"6months":h.setMonth(d.getMonth()-6);break}let m=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});h&&(m=m.gte("date",Ee(h)));const{data:b,error:_}=await m;if(_)throw _;const S={};for(const g of b||[]){const v=g.original_todo_id||g.id;S[v]||(S[v]=[]),S[v].push(g)}const y=Object.entries(S).map(([g,v])=>{const w=v.sort((C,L)=>new Date(C.date)-new Date(L.date)),x=w[0],j=w.map(C=>C.date);let E=null;for(const C of w)if(C.completed&&C.completed_at){const L=new Date(C.completed_at);E=Ee(L);break}const O=w.find(C=>C.date===f);return{text:x.text,originalId:parseInt(g),createdAt:x.created_at,startDate:j[0],endDate:j[j.length-1],dates:j,completed:(O==null?void 0:O.completed)||!1,completedDate:E}}).sort((g,v)=>new Date(g.createdAt)-new Date(v.createdAt));i(y)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:s,setGanttPeriod:r,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function mO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=$j(),[i,s]=p.useState(new Date),[r,l]=p.useState(!1),o=p.useRef(new Set),c=r1(Lu(yh),Lu(xb),Lu(gh,{coordinateGetter:zj})),[d,f]=p.useState([]),[h,m]=p.useState(null),{showTodoHistoryModal:b,todoHistory:_,expandedHistoryIds:S,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:g,toggleHistoryDetail:v}=cO({session:e,supabase:Ve,selectedTodoForModal:h,setSelectedTodoForModal:m}),{showRoutineModal:w,routines:x,setRoutines:j,routineInput:E,setRoutineInput:O,selectedDays:C,selectedTimeSlot:L,setSelectedTimeSlot:W,isAddingRoutine:Be,editingRoutineId:Ge,editingRoutineText:Xe,setEditingRoutineText:Me,showRoutineHistory:z,selectedRoutineForHistory:$,routineHistoryData:K,editingRoutineDays:fe,showDeleteConfirmModal:ue,setShowDeleteConfirmModal:St,routineToDelete:ke,fetchRoutines:yt,handleAddRoutine:Ze,handleCreateRoutineFromTodo:Qe,handleStartEditRoutine:nt,handleCancelEditRoutine:ln,handleSaveEditRoutine:Pe,handleToggleEditDay:ot,handleDeleteRoutine:pe,deleteThisOnly:pn,deleteFromNow:Yt,deleteAll:bn,fetchRoutineHistory:Tt,handleCloseRoutineHistory:_n,handleOpenRoutine:wn,handleCloseRoutine:J,handleToggleDay:ie,createRoutineTodos:be}=lO({session:e,supabase:Ve,selectedDate:i,setTodos:f,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:Ae,routineDaysForModal:Bt,setRoutineDaysForModal:Rt,isEditingRoutineInModal:on,setIsEditingRoutineInModal:ht,routineTimeSlotForModal:mt,setRoutineTimeSlotForModal:Re,handleOpenTodoRoutineSetupModal:Se,handleCloseTodoRoutineSetupModal:ee}=uO({selectedTodoForModal:h,setSelectedTodoForModal:m,routines:x}),{carryOverIncompleteTodos:He}=dO({session:e,supabase:Ve,selectedDate:i}),{routineInputValue:pt,setRoutineInputValue:D,normalInputValue:k,setNormalInputValue:U,loading:P,isDraggingAny:H,isAdding:Z,showUndoToast:he,showSuccessToast:q,successToastMessage:xe,lastDeleteAction:re,focusedTodoId:Ce,setFocusedTodoId:Y,showDeleteConfirmModal:ve,setShowDeleteConfirmModal:le,todoToDelete:Fe,activeTodoId:te,overId:De,fetchTodos:F,handleAddRoutineTodo:Gt,handleAddNormalTodo:We,handleToggleTodo:Pt,handleDeleteTodo:It,handleAddSubTodo:Ft,handleEditTodo:zn,handleDragStart:ua,handleDragOver:Sn,handleDragCancel:da,handleDragEnd:Ma,handleUndoDelete:jl,deleteThisOnly:Mc,deleteFromNow:kc,deleteAll:Uc,handleRemoveTodoFromUI:R,handleMoveUp:X,handleMoveDown:gt,handleMoveToTop:bt,handleMoveToBottom:ye}=oO(e,Ve,i,d,f,x,j,h),at=T=>{Y(T)},qe=T=>{},ct=()=>{jl()},{showGanttChart:cn,ganttData:Ki,ganttPeriod:ka,setGanttPeriod:rr,handleOpenGanttChart:lr,handleCloseGanttChart:zc,fetchGanttData:or}=hO(Ve),[zb,_h]=p.useState(!1),{memoContent:Lb,setMemoContent:Bb,isSavingMemo:Hb,fetchMemoContent:qb}=sO(e),{encouragementMessages:$b,showEncouragementModal:Vb,setShowEncouragementModal:wh,newEncouragementMessage:Yb,setNewEncouragementMessage:Gb,editingEncouragementId:Ib,setEditingEncouragementId:Kb,editingEncouragementText:Xb,setEditingEncouragementText:Qb,showEncouragementEmoji:Jb,currentEncouragementMessage:Zb,handleEncouragementClick:Pb,fetchEncouragementMessages:Fb,addEncouragementMessage:Wb,updateEncouragementMessage:e_,deleteEncouragementMessage:t_}=fO(e,Ve),n_=async T=>{var M,B;try{const G=Ee(i),N=d.filter(ge=>!ge.parent_id&&ge.section_type==="normal"),V=N.length>0?Math.max(...N.map(ge=>ge.order_index))+1:1,Le=`temp_${Date.now()}_${Math.random()}`,me={id:Le,text:T,completed:!1,order_index:V,date:G,visible_dates:[G],hidden_dates:[],section_type:"normal",user_id:(M=e==null?void 0:e.user)==null?void 0:M.id,_isOptimistic:!0};if(f(ge=>[...ge,me]),(B=e==null?void 0:e.user)!=null&&B.id&&Ve){const{data:ge,error:ut}=await Ve.from("todos").insert([{text:T,completed:!1,order_index:V,date:G,visible_dates:[G],hidden_dates:[],section_type:"normal",user_id:e.user.id}]).select();if(ut)throw ut;f(Wt=>Wt.map(Ne=>Ne.id===Le?ge[0]:Ne))}else{const ge=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");ge.push({text:T,dateStr:G,timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(ge))}}catch(G){console.error("Quick add error:",G);const N=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");N.push({text:T,dateStr:Ee(i),timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(N))}},[Ua,a_]=p.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Lc,Sh]=p.useState({normal:"  ",routine:"  "}),[Xi,Ol]=p.useState([]),[i_,xh]=p.useState(!1),[Eh,Th]=p.useState(!1),[jh,Oh]=p.useState({}),s_=iO(e),{sectionOrder:Qi,setSectionOrder:Ah,fetchSectionOrder:r_,saveSectionOrder:Ch,moveSectionLeft:Bc,moveSectionRight:Hc}=s_,Ji=p.useRef(null),[l_,o_]=p.useState(0),qc=p.useRef(null),[Zi,$c]=p.useState([]),[c_,Dh]=p.useState(!1),Nh=async T=>{var M;(M=e==null?void 0:e.user)!=null&&M.id&&await $a.set(Va.HIDDEN_SECTIONS,T,e.user.id)},u_=async()=>{var M;if(!((M=e==null?void 0:e.user)!=null&&M.id))return;const T=await $a.get(Va.HIDDEN_SECTIONS);T&&$c(T)},Vc=T=>{const M=[...Zi,T];$c(M),Nh(M)},d_=T=>{const M=Zi.filter(B=>B!==T);$c(M),Nh(M)},f_=()=>{const T=new Date(i);T.setDate(T.getDate()-1),s(T)},h_=()=>{const T=new Date(i);T.setDate(T.getDate()+1),s(T)},m_=T=>{const M=new Date(T.target.value+"T00:00:00");s(M)},g_=async()=>{var M;if(!((M=e==null?void 0:e.user)!=null&&M.id))return;const T=await $a.get(Va.SECTION_TITLES);T&&Sh(B=>({...B,...T}))},v_=async(T,M)=>{var G;if(!((G=e==null?void 0:e.user)!=null&&G.id))return;const B={...Lc,[T]:M};Sh(B),await $a.set(Va.SECTION_TITLES,B,e.user.id)},y_=async()=>{var M;if(!((M=e==null?void 0:e.user)!=null&&M.id))return;const T=await $a.get(Va.CUSTOM_SECTIONS);T&&Ol(T)},Yc=async T=>{var M;(M=e==null?void 0:e.user)!=null&&M.id&&await $a.set(Va.CUSTOM_SECTIONS,T,e.user.id)},p_=({name:T,icon:M})=>{const B={id:`custom-${Date.now()}`,name:T,icon:M},G=[...Xi,B];Ol(G),Yc(G);const N=[...Qi,B.id];Ah(N),Ch(N)},b_=async T=>{const M=jh[T]||"";if(!(!M.trim()||Eh)){if(!e){alert(" ");return}Th(!0);try{const B=d.filter(ge=>!ge.parent_id&&ge.section_type==="custom"&&ge.section_id===T),G=B.length>0?Math.max(...B.map(ge=>ge.order_index))+1:1,N=Ee(i),V={text:M.trim(),completed:!1,order_index:G,date:N,visible_dates:[N],hidden_dates:[],user_id:e.user.id,section_id:T,section_type:"custom"},{data:Le,error:me}=await Ve.from("todos").insert([V]).select();if(me)throw me;Le&&Le.length>0&&(f(ge=>[...ge,Le[0]]),Oh(ge=>({...ge,[T]:""})))}catch(B){console.error("  :",B.message)}finally{Th(!1)}}},__=async T=>{if(!confirm("  ?      ."))return;try{const{error:G}=await Ve.from("todos").delete().eq("section_id",T);if(G){console.error("   :",G.message);return}}catch(G){console.error("   :",G.message);return}const M=Xi.filter(G=>G.id!==T);Ol(M),Yc(M);const B=Qi.filter(G=>G!==T);Ah(B),Ch(B),f(G=>G.filter(N=>N.section_id!==T))},w_=async(T,M)=>{try{const B=Ee(T),G=Ee(M),{data:N,error:V}=await Ve.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(V)throw V;const Le=(N||[]).filter(me=>me.stop_carryover_from&&B>=me.stop_carryover_from?!1:me.visible_dates&&Array.isArray(me.visible_dates)&&me.visible_dates.length>0?me.visible_dates.includes(B):me.date===B);if(Le.length===0)return;for(const me of Le){let ge=me.visible_dates||[me.date];if(ge.includes(G))continue;const ut=[...ge,G].sort(),{error:Wt}=await Ve.from("todos").update({visible_dates:ut}).eq("id",me.id);Wt&&console.error(` ${me.id}  :`,Wt.message)}}catch(B){console.error("   :",B.message)}};p.useEffect(()=>{let T=null;const M=()=>{document.body.classList.add("is-scrolling"),T&&clearTimeout(T),T=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",M),()=>{window.removeEventListener("scroll",M),T&&clearTimeout(T)}},[]),p.useEffect(()=>{e&&(Fb(),qb(),yt(),r_(),g_(),y_(),u_())},[e]),p.useEffect(()=>{if(!Ji.current)return;const T=Ji.current,M=Ua==="horizontal";let B=!1,G=0,N=0,V=0;const Le=oe=>oe.type.includes("touch")?M?oe.touches[0].pageX:oe.touches[0].pageY:M?oe.pageX:oe.pageY,me=oe=>{oe.target.closest(".section-block")||(B=!0,G=Le(oe),N=M?T.scrollLeft:T.scrollTop,T.style.transition="none",T.style.transform=M?"translateX(0)":"translateY(0)",V=0)},ge=()=>{B&&V!==0&&(T.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",T.style.transform=M?"translateX(0)":"translateY(0)",setTimeout(()=>{T.style.transition="none",V=0},300)),B=!1},ut=()=>{V!==0&&(T.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",T.style.transform=M?"translateX(0)":"translateY(0)",setTimeout(()=>{T.style.transition="none",V=0},300)),B=!1},Wt=oe=>{if(!B)return;oe.preventDefault();const se=(Le(oe)-G)*1.5,Mt=N-se,jt=M?T.scrollWidth-T.clientWidth:T.scrollHeight-T.clientHeight;if(Mt<0){const xn=-Mt;V=Math.min(xn*.3,100),M?(T.scrollLeft=0,T.style.transform=`translateX(${V}px)`):(T.scrollTop=0,T.style.transform=`translateY(${V}px)`)}else if(Mt>jt){const xn=Mt-jt;V=-Math.min(xn*.3,100),M?(T.scrollLeft=jt,T.style.transform=`translateX(${V}px)`):(T.scrollTop=jt,T.style.transform=`translateY(${V}px)`)}else V=0,T.style.transform=M?"translateX(0)":"translateY(0)",M?T.scrollLeft=Mt:T.scrollTop=Mt},Ne=oe=>{M&&oe.target.closest(".section-block")&&oe.deltaX!==0&&oe.preventDefault()};return T.addEventListener("mousedown",me),document.addEventListener("mouseup",ut),document.addEventListener("mouseleave",ge),T.addEventListener("mousemove",Wt),T.addEventListener("touchstart",me,{passive:!0}),T.addEventListener("touchmove",Wt,{passive:!1}),T.addEventListener("touchend",ut),T.addEventListener("touchcancel",ut),T.addEventListener("wheel",Ne,{passive:!1}),()=>{T.removeEventListener("mousedown",me),document.removeEventListener("mouseup",ut),document.removeEventListener("mouseleave",ge),T.removeEventListener("mousemove",Wt),T.removeEventListener("touchstart",me),T.removeEventListener("touchmove",Wt),T.removeEventListener("touchend",ut),T.removeEventListener("touchcancel",ut),T.removeEventListener("wheel",Ne)}},[Ua,d,x]),p.useEffect(()=>{if(Ua!=="horizontal"||!Ji.current)return;const T=Ji.current,M=()=>{const B=T.querySelectorAll(".section-block");if(B.length===0)return;const G=T.getBoundingClientRect(),N=G.left+G.width/2;let V=0,Le=1/0;B.forEach((me,ge)=>{const ut=me.getBoundingClientRect(),Wt=ut.left+ut.width/2,Ne=Math.abs(Wt-N);Ne<Le&&(Le=Ne,V=ge)}),o_(V)};return T.addEventListener("scroll",M),M(),()=>T.removeEventListener("scroll",M)},[Ua,d,x]),p.useEffect(()=>{if(!qc.current)return;const T=qc.current;let M=!1,B=0,G=0,N=0;const V=ut=>{ut.target.closest(".section-block")||(M=!0,B=ut.pageY,G=T.scrollTop,T.style.transition="none",T.style.transform="translateY(0)",N=0)},Le=()=>{M&&N!==0&&(T.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",T.style.transform="translateY(0)",setTimeout(()=>{T.style.transition="none",N=0},300)),M=!1},me=()=>{N!==0&&(T.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",T.style.transform="translateY(0)",setTimeout(()=>{T.style.transition="none",N=0},300)),M=!1},ge=ut=>{if(!M)return;ut.preventDefault();const Ne=(ut.pageY-B)*1.5,oe=G-Ne,un=T.scrollHeight-T.clientHeight;if(oe<0){const se=-oe;N=Math.min(se*.3,100),T.scrollTop=0,T.style.transform=`translateY(${N}px)`}else if(oe>un){const se=oe-un;N=-Math.min(se*.3,100),T.scrollTop=un,T.style.transform=`translateY(${N}px)`}else N=0,T.style.transform="translateY(0)",T.scrollTop=oe};return T.addEventListener("mousedown",V),document.addEventListener("mouseup",me),document.addEventListener("mouseleave",Le),T.addEventListener("mousemove",ge),()=>{T.removeEventListener("mousedown",V),document.removeEventListener("mouseup",me),document.removeEventListener("mouseleave",Le),T.removeEventListener("mousemove",ge)}},[d,x]),p.useEffect(()=>{cn&&or()},[ka]),p.useEffect(()=>{const T=async()=>{const B=new Date,G=new Date(B);G.setHours(24,0,0,0);const N=G.getTime()-B.getTime();return setTimeout(async()=>{const Le=new Date(B),me=new Date(B);me.setDate(me.getDate()+1),await w_(Le,me),await be(),s(new Date),T()},N)},M=T();return()=>clearTimeout(M)},[]),p.useEffect(()=>{(async()=>{var me;const G=Ee(i),V=Ee(new Date);G===V&&((me=e==null?void 0:e.user)!=null&&me.id)&&await He(G),await F()})();const M=Ee(i),B=Ve.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${M}`},G=>{G.eventType==="INSERT"?f(N=>N.some(V=>V.id===G.new.id)?N:[...N,G.new]):G.eventType==="UPDATE"?f(N=>o.current.has(G.new.id)?N:N.map(V=>V.id===G.new.id?G.new:V)):G.eventType==="DELETE"&&f(N=>N.filter(V=>V.id!==G.old.id))}).subscribe(G=>{});return()=>{Ve.removeChannel(B)}},[i,e]),p.useEffect(()=>{if(H){const T=window.scrollY,M=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${T}px`,document.body.style.left="0",document.body.style.right="0",M>0&&(document.body.style.paddingRight=`${M}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,T)}}},[H]);const Rh=aO({authLoading:t,session:e,handleGoogleLogin:n});return Rh||u.jsxs("div",{className:`app ${H?"dragging-active":""}`,children:[u.jsx(Yj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:Ua,setViewMode:a_,onOpenRoutine:wn,onOpenGanttChart:lr,onOpenEncouragementModal:()=>wh(!0),onOpenAddSection:()=>xh(!0),onOpenHiddenSections:()=>Dh(!0),onLogout:a}),u.jsxs("div",{className:`container ${Ua==="horizontal"?"container-wide":""}`,children:[u.jsx(Ij,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:m_,onPrevDay:f_,onNextDay:h_,showEncouragementEmoji:Jb,currentEncouragementMessage:Zb,onEncouragementClick:Pb,setSelectedDate:s,onQuickAdd:n_,onOpenMemo:()=>_h(!0)}),u.jsxs("div",{className:"content-scrollable",ref:qc,children:[u.jsxs(aj,{sensors:c,collisionDetection:c1,onDragStart:ua,onDragOver:Sn,onDragEnd:Ma,onDragCancel:da,measuring:{droppable:{strategy:Gs.Always}},children:[u.jsx("div",{ref:Ji,className:`sections-container ${Ua==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:u.jsx("div",{className:"todo-list",children:P?u.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const T=d.filter(N=>!N.parent_id&&N.section_type==="routine").sort((N,V)=>N.order_index-V.order_index),M=d.filter(N=>!N.parent_id&&N.section_type==="pending_routine").sort((N,V)=>N.order_index-V.order_index),B=d.filter(N=>!N.parent_id&&N.section_type==="normal").sort((N,V)=>N.order_index-V.order_index),G=[...T.map(N=>N.id),...M.map(N=>N.id),...B.map(N=>N.id),...Xi.flatMap(N=>d.filter(V=>!V.parent_id&&V.section_type==="custom"&&V.section_id===N.id).map(V=>V.id))];return u.jsx(yr,{items:G,strategy:vr,children:Qi.filter(N=>!Zi.includes(N)).map((N,V)=>{const Le=Qi.filter(Ne=>!Zi.includes(Ne)),me=Le.indexOf(N),ge=me===0,ut=me===Le.length-1,Wt=[...ge?[]:[{icon:"",label:" ",onClick:()=>Bc(N)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Hc(N)}],{icon:"",label:"",onClick:()=>Vc(N)}];if(N==="routine")return u.jsx("div",{children:u.jsxs(Vu,{title:" ",className:"routine-section section-block",inputValue:pt,setInputValue:D,onAddTodo:Gt,isAdding:Z,placeholder:"   ...",settingsMenuItems:Wt,children:[T.length>0&&u.jsx(yr,{items:T.map(Ne=>Ne.id),strategy:vr,children:T.map((Ne,oe)=>{const un=d.filter(se=>se.parent_id===Ne.id);return u.jsx(cs,{todo:Ne,index:oe,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:bi,formatDateOnly:Ln,isFocused:Ce===Ne.id,onFocus:at,onAddSubTodo:Ft,subtodos:un,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Ee(i),onRemoveFromUI:R,showSuccessMessage:qe,activeId:te,overId:De,onMoveUp:se=>X(se,"routine",null),onMoveDown:se=>gt(se,"routine",null),onMoveToTop:se=>bt(se,"routine",null),onMoveToBottom:se=>ye(se,"routine",null),isFirst:oe===0,isLast:oe===T.length-1},Ne.id)})}),T.length>0&&M.length>0&&u.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:u.jsx("div",{className:"separator-line"})}),M.length>0&&u.jsx(yr,{items:M.map(Ne=>Ne.id),strategy:vr,children:M.map((Ne,oe)=>{const un=d.filter(se=>se.parent_id===Ne.id);return u.jsx(cs,{todo:Ne,index:oe,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:bi,formatDateOnly:Ln,isFocused:Ce===Ne.id,onFocus:at,onAddSubTodo:Ft,subtodos:un,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Ee(i),isPendingRoutine:!0,onRemoveFromUI:R,showSuccessMessage:qe,activeId:te,overId:De,onMoveUp:se=>X(se,"pending_routine",null),onMoveDown:se=>gt(se,"pending_routine",null),onMoveToTop:se=>bt(se,"pending_routine",null),onMoveToBottom:se=>ye(se,"pending_routine",null),isFirst:oe===0,isLast:oe===M.length-1},Ne.id)})})]})},"routine");if(N==="normal"){const Ne=[...ge?[]:[{icon:"",label:" ",onClick:()=>Bc(N)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Hc(N)}],{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&Vc("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return u.jsx("div",{children:u.jsx(Vu,{title:Lc.normal,className:"normal-section section-block",inputValue:k,setInputValue:U,onAddTodo:We,isAdding:Z,placeholder:"   ...",editable:!0,onTitleChange:oe=>v_("normal",oe),settingsMenuItems:Ne,children:B.length>0&&u.jsx(yr,{items:B.map(oe=>oe.id),strategy:vr,children:B.map((oe,un)=>{const se=d.filter(jt=>jt.parent_id===oe.id),Mt=Ee(i);return u.jsx(cs,{todo:oe,index:un,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:bi,formatDateOnly:Ln,isFocused:Ce===oe.id,onFocus:at,onAddSubTodo:Ft,subtodos:se,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Mt,onRemoveFromUI:R,showSuccessMessage:qe,activeId:te,overId:De,onMoveUp:jt=>X(jt,"normal",null),onMoveDown:jt=>gt(jt,"normal",null),onMoveToTop:jt=>bt(jt,"normal",null),onMoveToBottom:jt=>ye(jt,"normal",null),isFirst:un===0,isLast:un===B.length-1},oe.id)})})})},"normal")}else{const Ne=Xi.find(se=>se.id===N);if(!Ne)return null;const oe=d.filter(se=>!se.parent_id&&se.section_type==="custom"&&se.section_id===N).sort((se,Mt)=>se.order_index-Mt.order_index),un=[...ge?[]:[{icon:"",label:" ",onClick:()=>Bc(N)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Hc(N)}],{icon:"",label:"",onClick:()=>Vc(N)},{icon:"",label:"",onClick:()=>__(N)}];return u.jsx("div",{children:u.jsx(Vu,{title:`${Ne.icon} ${Ne.name}`,className:"custom-section section-block",inputValue:jh[N]||"",setInputValue:se=>Oh(Mt=>({...Mt,[N]:se})),onAddTodo:()=>b_(N),isAdding:Eh,placeholder:`${Ne.name}   ...`,editable:!0,onTitleChange:se=>{const Mt=Xi.map(jt=>jt.id===N?{...jt,name:se}:jt);Ol(Mt),Yc(Mt)},settingsMenuItems:un,children:oe.length>0&&u.jsx(yr,{items:oe.map(se=>se.id),strategy:vr,children:oe.map((se,Mt)=>{const jt=d.filter(xn=>xn.parent_id===se.id);return u.jsx(cs,{todo:se,index:Mt,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:bi,formatDateOnly:Ln,isFocused:Ce===se.id,onFocus:at,onAddSubTodo:Ft,subtodos:jt,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Ee(i),onRemoveFromUI:R,showSuccessMessage:qe,activeId:te,overId:De,onMoveUp:xn=>X(xn,"custom",N),onMoveDown:xn=>gt(xn,"custom",N),onMoveToTop:xn=>bt(xn,"custom",N),onMoveToBottom:xn=>ye(xn,"custom",N),isFirst:Mt===0,isLast:Mt===oe.length-1},se.id)})})})},N)}})})})()})}),u.jsx(Sj,{children:te?(()=>{const T=d.find(B=>B.id===te);if(!T)return null;const M=d.filter(B=>B.parent_id===T.id);return u.jsx("div",{className:"drag-overlay-todo",children:u.jsx(cs,{todo:T,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:bi,formatDateOnly:Ln,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:M,level:0,onCreateRoutine:()=>{},routines:x,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:Ee(i),onRemoveFromUI:()=>{},showSuccessMessage:()=>{},hideNumber:!0})})})():null})]}),u.jsx(Kj,{viewMode:Ua,currentSectionIndex:l_,sectionsContainerRef:Ji,visibleSectionCount:Qi.filter(T=>!Zi.includes(T)).length})]}),he&&u.jsx(Jg,{message:"",onUndo:jl}),q&&u.jsx(Jg,{message:xe,onUndo:re?ct:null,variant:"success"}),ve&&Fe&&u.jsx(Zg,{todo:Fe,onClose:()=>le(!1),onDeleteThisOnly:Mc,onDeleteFromNow:kc,onDeleteAll:Uc}),ue&&ke&&u.jsx(Zg,{todo:ke,onClose:()=>St(!1),onDeleteThisOnly:pn,onDeleteFromNow:Yt,onDeleteAll:bn}),b&&h&&(()=>{const T=h,M=T.visible_dates&&T.visible_dates.length>0?T.visible_dates:[T.date],B=M[0],G=M.map(V=>({id:`${T.id}-${V}`,date:V})),N=_[T.id]||[];return u.jsx("div",{className:"modal-overlay",onClick:g,children:u.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:g,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:bi(T.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:Ln(B?new Date(B+"T00:00:00"):new Date(T.date+"T00:00:00"))})]}),G.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:G.map((V,Le)=>{const me=V.date===T.date,ge=Ln(new Date(V.date+"T00:00:00"));return u.jsxs("span",{children:[Le>0&&"  ",u.jsxs("span",{style:me?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ge.split("(")[0],me?"()":""]})]},V.id)})})]}),(()=>{const V=new Date(T.created_at).toISOString().split("T")[0],Le=T.date;return V!==Le&&G.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:Ln(new Date(T.date+"T00:00:00"))})]}):null})(),N.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",N.length,")"]}),N.map(V=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[bi(V.changed_at),V.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",Ln(new Date(V.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:Le=>{Le.stopPropagation(),v(V.id)},children:S.includes(V.id)?"":""})]}),S.includes(V.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:V.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:V.new_text})]})]})]},V.id))]})]})})]})})})(),Ae&&h&&(()=>{const T=h,M=x.find(B=>B.id===T.routine_id);return u.jsx("div",{className:"modal-overlay",onClick:ee,children:u.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:ee,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"routine-setup-inline",children:M&&!on?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Rc.filter(B=>M.days.includes(B.key)).map(B=>u.jsx("span",{className:"routine-day-badge",children:B.label},B.key))}),M.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",M.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:B=>{B.stopPropagation(),M&&(Rt(M.days),Re(M.time_slot||""),ht(!0))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async B=>{B.stopPropagation(),M&&T&&(await Qe(T.id,T.text,[],null,!0),ee())},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:on?" :":"  :"}),u.jsx(ic,{selectedDays:Bt,onToggle:handleToggleRoutineDayInModal,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(bh,{value:mt,onChange:B=>Re(B)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async B=>{B.stopPropagation(),T&&(on&&M?await Qe(T.id,T.text,Bt,M.id,!1,mt):await Qe(T.id,T.text,Bt,null,!1,mt),ee())},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:B=>{B.stopPropagation(),ee()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),u.jsx(Jj,{showRoutineModal:w,onClose:J,routineInput:E,setRoutineInput:O,isAddingRoutine:Be,selectedDays:C,onToggleDay:ie,selectedTimeSlot:L,setSelectedTimeSlot:W,onAddRoutine:Ze,routines:x,editingRoutineId:Ge,editingRoutineText:Xe,setEditingRoutineText:Me,editingRoutineDays:fe,onToggleEditDay:ot,onStartEdit:nt,onSaveEdit:Pe,onCancelEdit:ln,onDelete:pe,onShowHistory:Tt}),u.jsx(Pj,{showRoutineHistory:z,onClose:_n,selectedRoutine:$,routineHistoryData:K}),u.jsx(Fj,{show:zb,onClose:()=>_h(!1),content:Lb,setContent:Bb,isSaving:Hb,placeholder:" ..."}),u.jsx(Wj,{showGanttChart:cn,onClose:zc,ganttData:Ki,ganttPeriod:ka,setGanttPeriod:rr,formatDateOnly:Ln}),u.jsx(eO,{showEncouragementModal:Vb,onClose:()=>wh(!1),encouragementMessages:$b,newEncouragementMessage:Yb,setNewEncouragementMessage:Gb,onAddEncouragementMessage:Wb,editingEncouragementId:Ib,editingEncouragementText:Xb,setEditingEncouragementId:Kb,setEditingEncouragementText:Qb,onUpdateEncouragementMessage:e_,onDeleteEncouragementMessage:t_}),u.jsx(tO,{isOpen:i_,onClose:()=>xh(!1),onAddSection:p_}),u.jsx(nO,{show:c_,onClose:()=>Dh(!1),hiddenSections:Zi,sectionOrder:Qi,sectionTitles:Lc,customSections:Xi,onShowSection:d_})]})]})}px.createRoot(document.getElementById("root")).render(u.jsx(p.StrictMode,{children:u.jsx(mO,{})}));
