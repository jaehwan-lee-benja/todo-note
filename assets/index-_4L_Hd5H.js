function Dw(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function By(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Ly={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=Symbol.for("react.transitional.element"),Mw=Symbol.for("react.fragment");function Hy(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:Rw,type:e,key:a,ref:t!==void 0?t:null,props:n}}Cc.Fragment=Mw;Cc.jsx=Hy;Cc.jsxs=Hy;Ly.exports=Cc;var o=Ly.exports,qy={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.transitional.element"),kw=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Bw=Symbol.for("react.consumer"),Lw=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Yy=Symbol.for("react.lazy"),Vw=Symbol.for("react.activity"),_m=Symbol.iterator;function Iw(e){return e===null||typeof e!="object"?null:(e=_m&&e[_m]||e["@@iterator"],typeof e=="function"?e:null)}var Vy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,Gy={};function Xi(e,t,n){this.props=e,this.context=t,this.refs=Gy,this.updater=n||Vy}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ky(){}Ky.prototype=Xi.prototype;function $f(e,t,n){this.props=e,this.context=t,this.refs=Gy,this.updater=n||Vy}var Bf=$f.prototype=new Ky;Bf.constructor=$f;Iy(Bf,Xi.prototype);Bf.isPureReactComponent=!0;var wm=Array.isArray;function vd(){}var Ie={H:null,A:null,T:null,S:null},Xy=Object.prototype.hasOwnProperty;function Lf(e,t,n){var a=n.ref;return{$$typeof:zf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Gw(e,t){return Lf(e.type,t,e.props)}function Hf(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf}function Kw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sm=/\/+/g;function _u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kw(""+e.key):t.toString(36)}function Xw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(vd,vd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ri(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case zf:case kw:r=!0;break;case Yy:return r=e._init,ri(r(e._payload),t,n,a,s)}}if(r)return s=s(e),r=a===""?"."+_u(e,0):a,wm(s)?(n="",r!=null&&(n=r.replace(Sm,"$&/")+"/"),ri(s,t,n,"",function(u){return u})):s!=null&&(Hf(s)&&(s=Gw(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Sm,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=a===""?".":a+":";if(wm(e))for(var c=0;c<e.length;c++)a=e[c],i=l+_u(a,c),r+=ri(a,t,n,i,s);else if(c=Iw(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,i=l+_u(a,c++),r+=ri(a,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return ri(Xw(e),t,n,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Zl(e,t,n){if(e==null)return e;var a=[],s=0;return ri(e,a,"","",function(i){return t.call(n,i,s++)}),a}function Qw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jw={map:Zl,forEach:function(e,t,n){Zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zl(e,function(){t++}),t},toArray:function(e){return Zl(e,function(t){return t})||[]},only:function(e){if(!Hf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Activity=Vw;ne.Children=Jw;ne.Component=Xi;ne.Fragment=Uw;ne.Profiler=$w;ne.PureComponent=$f;ne.StrictMode=zw;ne.Suspense=qw;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ie.H.useMemoCache(e)}};ne.cache=function(e){return function(){return e.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Iy({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!Xy.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];a.children=r}return Lf(e.type,s,a)};ne.createContext=function(e){return e={$$typeof:Lw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Bw,_context:e},e};ne.createElement=function(e,t,n){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)Xy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),c=0;c<r;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return Lf(e,i,s)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Hw,render:e}};ne.isValidElement=Hf;ne.lazy=function(e){return{$$typeof:Yy,_payload:{_status:-1,_result:e},_init:Qw}};ne.memo=function(e,t){return{$$typeof:Yw,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ie.T,n={};Ie.T=n;try{var a=e(),s=Ie.S;s!==null&&s(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(vd,xm)}catch(i){xm(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ie.T=t}};ne.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()};ne.use=function(e){return Ie.H.use(e)};ne.useActionState=function(e,t,n){return Ie.H.useActionState(e,t,n)};ne.useCallback=function(e,t){return Ie.H.useCallback(e,t)};ne.useContext=function(e){return Ie.H.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e,t){return Ie.H.useDeferredValue(e,t)};ne.useEffect=function(e,t){return Ie.H.useEffect(e,t)};ne.useEffectEvent=function(e){return Ie.H.useEffectEvent(e)};ne.useId=function(){return Ie.H.useId()};ne.useImperativeHandle=function(e,t,n){return Ie.H.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ie.H.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ie.H.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ie.H.useMemo(e,t)};ne.useOptimistic=function(e,t){return Ie.H.useOptimistic(e,t)};ne.useReducer=function(e,t,n){return Ie.H.useReducer(e,t,n)};ne.useRef=function(e){return Ie.H.useRef(e)};ne.useState=function(e){return Ie.H.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ie.H.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ie.H.useTransition()};ne.version="19.2.0";qy.exports=ne;var w=qy.exports;const $e=Cw(w);var Qy={exports:{}},Rc={},Jy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var K=H.length;H.push(G);e:for(;0<K;){var le=K-1>>>1,_e=H[le];if(0<s(_e,G))H[le]=G,H[K]=_e,K=le;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var G=H[0],K=H.pop();if(K!==G){H[0]=K;e:for(var le=0,_e=H.length,Le=_e>>>1;le<Le;){var xe=2*(le+1)-1,Oe=H[xe],re=xe+1,Ee=H[re];if(0>s(Oe,K))re<_e&&0>s(Ee,Oe)?(H[le]=Ee,H[re]=K,le=re):(H[le]=Oe,H[xe]=K,le=xe);else if(re<_e&&0>s(Ee,K))H[le]=Ee,H[re]=K,le=re;else break e}}return G}function s(H,G){var K=H.sortIndex-G.sortIndex;return K!==0?K:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var c=[],u=[],f=1,h=null,m=3,y=!1,E=!1,x=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function S(H){for(var G=n(u);G!==null;){if(G.callback===null)a(u);else if(G.startTime<=H)a(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function T(H){if(x=!1,S(H),!E)if(n(c)!==null)E=!0,A||(A=!0,ie());else{var G=n(u);G!==null&&Ue(T,G.startTime-H)}}var A=!1,j=-1,M=5,U=-1;function Y(){return N?!0:!(e.unstable_now()-U<M)}function X(){if(N=!1,A){var H=e.unstable_now();U=H;var G=!0;try{e:{E=!1,x&&(x=!1,g(j),j=-1),y=!0;var K=m;try{t:{for(S(H),h=n(c);h!==null&&!(h.expirationTime>H&&Y());){var le=h.callback;if(typeof le=="function"){h.callback=null,m=h.priorityLevel;var _e=le(h.expirationTime<=H);if(H=e.unstable_now(),typeof _e=="function"){h.callback=_e,S(H),G=!0;break t}h===n(c)&&a(c),S(H)}else a(c);h=n(c)}if(h!==null)G=!0;else{var Le=n(u);Le!==null&&Ue(T,Le.startTime-H),G=!1}}break e}finally{h=null,m=K,y=!1}G=void 0}}finally{G?ie():A=!1}}}var ie;if(typeof p=="function")ie=function(){p(X)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ue=ge.port2;ge.port1.onmessage=X,ie=function(){ue.postMessage(null)}}else ie=function(){b(X,0)};function Ue(H,G){j=b(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var K=m;m=G;try{return H()}finally{m=K}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=m;m=H;try{return G()}finally{m=K}},e.unstable_scheduleCallback=function(H,G,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,H){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,H={id:f++,callback:G,priorityLevel:H,startTime:K,expirationTime:_e,sortIndex:-1},K>le?(H.sortIndex=K,t(u,H),n(c)===null&&H===n(u)&&(x?(g(j),j=-1):x=!0,Ue(T,K-le))):(H.sortIndex=_e,t(c,H),E||y||(E=!0,A||(A=!0,ie()))),H},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(H){var G=m;return function(){var K=m;m=G;try{return H.apply(this,arguments)}finally{m=K}}}})(Zy);Jy.exports=Zy;var Zw=Jy.exports,Py={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=w;function Wy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var Bt={d:{f:Ma,r:function(){throw Error(Wy(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},Ww=Symbol.for("react.portal");function Fw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ww,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ur=Pw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Mc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Wy(299));return Fw(e,t,null,n)};Lt.flushSync=function(e){var t=Ur.T,n=Bt.p;try{if(Ur.T=null,Bt.p=2,e)return e()}finally{Ur.T=t,Bt.p=n,Bt.d.f()}};Lt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bt.d.C(e,t))};Lt.prefetchDNS=function(e){typeof e=="string"&&Bt.d.D(e)};Lt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Mc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):n==="script"&&Bt.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Lt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Mc(t.as,t.crossOrigin);Bt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bt.d.M(e)};Lt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Mc(n,t.crossOrigin);Bt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Lt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Mc(t.as,t.crossOrigin);Bt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bt.d.m(e)};Lt.requestFormReset=function(e){Bt.d.r(e)};Lt.unstable_batchedUpdates=function(e,t){return e(t)};Lt.useFormState=function(e,t,n){return Ur.H.useFormState(e,t,n)};Lt.useFormStatus=function(){return Ur.H.useHostTransitionStatus()};Lt.version="19.2.0";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(e){console.error(e)}}Fy(),Py.exports=Lt;var di=Py.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=Zw,ev=w,eS=di;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function av(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Em(e){if(Sl(e)!==e)throw Error($(188))}function tS(e){var t=e.alternate;if(!t){if(t=Sl(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Em(s),e;if(i===a)return Em(s),t;i=i.sibling}throw Error($(188))}if(n.return!==a.return)n=s,a=i;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function sv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=sv(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,nS=Symbol.for("react.element"),Pl=Symbol.for("react.transitional.element"),Nr=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),rv=Symbol.for("react.consumer"),va=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),bd=Symbol.for("react.suspense"),_d=Symbol.for("react.suspense_list"),Yf=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),wd=Symbol.for("react.activity"),aS=Symbol.for("react.memo_cache_sentinel"),Tm=Symbol.iterator;function wr(e){return e===null||typeof e!="object"?null:(e=Tm&&e[Tm]||e["@@iterator"],typeof e=="function"?e:null)}var sS=Symbol.for("react.client.reference");function Sd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fi:return"Fragment";case pd:return"Profiler";case iv:return"StrictMode";case bd:return"Suspense";case _d:return"SuspenseList";case wd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Nr:return"Portal";case va:return e.displayName||"Context";case rv:return(e._context.displayName||"Context")+".Consumer";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yf:return t=e.displayName||null,t!==null?t:Sd(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return Sd(e(t))}catch{}}return null}var Ar=Array.isArray,F=ev.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=eS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rs={pending:!1,data:null,method:null,action:null},xd=[],hi=-1;function aa(e){return{current:e}}function wt(e){0>hi||(e.current=xd[hi],xd[hi]=null,hi--)}function Be(e,t){hi++,xd[hi]=e.current,e.current=t}var na=aa(null),tl=aa(null),Ja=aa(null),Io=aa(null);function Go(e,t){switch(Be(Ja,t),Be(tl,e),Be(na,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cg(t),e=j0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}wt(na),Be(na,e)}function Mi(){wt(na),wt(tl),wt(Ja)}function Ed(e){e.memoizedState!==null&&Be(Io,e);var t=na.current,n=j0(t,e.type);t!==n&&(Be(tl,e),Be(na,n))}function Ko(e){tl.current===e&&(wt(na),wt(tl)),Io.current===e&&(wt(Io),fl._currentValue=Rs)}var wu,jm;function xs(e){if(wu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wu=t&&t[1]||"",jm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wu+e+jm}var Su=!1;function xu(e,t){if(!e||Su)return"";Su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(y){var m=y}Reflect.construct(e,[],h)}else{try{h.call()}catch(y){m=y}e.call(h.prototype)}}else{try{throw Error()}catch(y){m=y}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(y){if(y&&m&&typeof y.stack=="string")return[y.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var c=r.split(`
`),u=l.split(`
`);for(s=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===c.length||s===u.length)for(a=c.length-1,s=u.length-1;1<=a&&0<=s&&c[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(c[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||c[a]!==u[s]){var f=`
`+c[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=s);break}}}finally{Su=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xs(n):""}function iS(e,t){switch(e.tag){case 26:case 27:case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return e.child!==t&&t!==null?xs("Suspense Fallback"):xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return xu(e.type,!1);case 11:return xu(e.type.render,!1);case 1:return xu(e.type,!0);case 31:return xs("Activity");default:return""}}function Om(e){try{var t="",n=null;do t+=iS(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Td=Object.prototype.hasOwnProperty,Vf=yt.unstable_scheduleCallback,Eu=yt.unstable_cancelCallback,rS=yt.unstable_shouldYield,lS=yt.unstable_requestPaint,hn=yt.unstable_now,oS=yt.unstable_getCurrentPriorityLevel,lv=yt.unstable_ImmediatePriority,ov=yt.unstable_UserBlockingPriority,Xo=yt.unstable_NormalPriority,cS=yt.unstable_LowPriority,cv=yt.unstable_IdlePriority,uS=yt.log,dS=yt.unstable_setDisableYieldValue,xl=null,mn=null;function Ia(e){if(typeof uS=="function"&&dS(e),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(xl,e)}catch{}}var gn=Math.clz32?Math.clz32:mS,fS=Math.log,hS=Math.LN2;function mS(e){return e>>>=0,e===0?32:31-(fS(e)/hS|0)|0}var Wl=256,Fl=262144,eo=4194304;function Es(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=Es(a):(r&=l,r!==0?s=Es(r):n||(n=l&~e,n!==0&&(s=Es(n))))):(l=a&~i,l!==0?s=Es(l):r!==0?s=Es(r):n||(n=a&~e,n!==0&&(s=Es(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function El(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(){var e=eo;return eo<<=1,!(eo&62914560)&&(eo=4194304),e}function Tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yS(e,t,n,a,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-gn(n),h=1<<f;l[f]=0,c[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var y=m[f];y!==null&&(y.lane&=-536870913)}n&=~h}a!==0&&dv(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function dv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function fv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-gn(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function hv(e,t){var n=t&-t;return n=n&42?1:If(n),n&(e.suspendedLanes|t)?0:n}function If(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mv(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:$0(e.type))}function Nm(e,t){var n=je.p;try{return je.p=e,t()}finally{je.p=n}}var cs=Math.random().toString(36).slice(2),Et="__reactFiber$"+cs,Wt="__reactProps$"+cs,Qi="__reactContainer$"+cs,jd="__reactEvents$"+cs,vS="__reactListeners$"+cs,pS="__reactHandles$"+cs,Am="__reactResources$"+cs,jl="__reactMarker$"+cs;function Kf(e){delete e[Et],delete e[Wt],delete e[jd],delete e[vS],delete e[pS]}function mi(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qi]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zg(e);e!==null;){if(n=e[Et])return n;e=zg(e)}return t}e=n,n=e.parentNode}return null}function Ji(e){if(e=e[Et]||e[Qi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Dr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Ei(e){var t=e[Am];return t||(t=e[Am]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function _t(e){e[jl]=!0}var gv=new Set,yv={};function Ys(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(yv[e]=t,e=0;e<t.length;e++)gv.add(t[e])}var bS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dm={},Cm={};function _S(e){return Td.call(Cm,e)?!0:Td.call(Dm,e)?!1:bS.test(e)?Cm[e]=!0:(Dm[e]=!0,!1)}function jo(e,t,n){if(_S(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function to(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ca(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wS(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Od(e){if(!e._valueTracker){var t=vv(e)?"checked":"value";e._valueTracker=wS(e,t,""+e[t])}}function pv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=vv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var SS=/[\n"\\]/g;function Nn(e){return e.replace(SS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nd(e,t,n,a,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Ad(e,r,Tn(t)):n!=null?Ad(e,r,Tn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Tn(l):e.removeAttribute("name")}function bv(e,t,n,a,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Od(e);return}n=n!=null?""+Tn(n):"",t=t!=null?""+Tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Od(e)}function Ad(e,t,n){t==="number"&&Qo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ti(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _v(e,t,n){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tn(n):""}function wv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error($(92));if(Ar(a)){if(1<a.length)throw Error($(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Od(e)}function Ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rm(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||xS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sv(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&Rm(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&Rm(e,i,t[i])}function Xf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(e){return TS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var Dd=null;function Qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gi=null,ji=null;function Mm(e){var t=Ji(e);if(t&&(e=t.stateNode)){var n=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Wt]||null;if(!s)throw Error($(90));Nd(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&pv(a)}break e;case"textarea":_v(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ti(e,!!n.multiple,t,!1)}}}var ju=!1;function xv(e,t,n){if(ju)return e(t,n);ju=!0;try{var a=e(t);return a}finally{if(ju=!1,(gi!==null||ji!==null)&&(Kc(),gi&&(t=gi,e=ji,ji=gi=null,Mm(t),e)))for(t=0;t<e.length;t++)Mm(e[t])}}function nl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Wt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=!1;if(xa)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Cd=!1}var Ga=null,Jf=null,No=null;function Ev(){if(No)return No;var e,t=Jf,n=t.length,a,s="value"in Ga?Ga.value:Ga.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===s[i-a];a++);return No=s.slice(e,1<a?1-a:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function km(){return!1}function Ft(e){function t(n,a,s,i,r){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:km,this.isPropagationStopped=km,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Ft(Vs),Ol=Ge({},Vs,{view:0,detail:0}),jS=Ft(Ol),Ou,Nu,xr,zc=Ge({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Ou=e.screenX-xr.screenX,Nu=e.screenY-xr.screenY):Nu=Ou=0,xr=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Nu}}),Um=Ft(zc),OS=Ge({},zc,{dataTransfer:0}),NS=Ft(OS),AS=Ge({},Ol,{relatedTarget:0}),Au=Ft(AS),DS=Ge({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=Ft(DS),RS=Ge({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MS=Ft(RS),kS=Ge({},Vs,{data:0}),zm=Ft(kS),US={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$S[e])?!!t[e]:!1}function Zf(){return BS}var LS=Ge({},Ol,{key:function(e){if(e.key){var t=US[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HS=Ft(LS),qS=Ge({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=Ft(qS),YS=Ge({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),VS=Ft(YS),IS=Ge({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=Ft(IS),KS=Ge({},zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XS=Ft(KS),QS=Ge({},Vs,{newState:0,oldState:0}),JS=Ft(QS),ZS=[9,13,27,32],Pf=xa&&"CompositionEvent"in window,zr=null;xa&&"documentMode"in document&&(zr=document.documentMode);var PS=xa&&"TextEvent"in window&&!zr,Tv=xa&&(!Pf||zr&&8<zr&&11>=zr),Bm=" ",Lm=!1;function jv(e,t){switch(e){case"keyup":return ZS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yi=!1;function WS(e,t){switch(e){case"compositionend":return Ov(t);case"keypress":return t.which!==32?null:(Lm=!0,Bm);case"textInput":return e=t.data,e===Bm&&Lm?null:e;default:return null}}function FS(e,t){if(yi)return e==="compositionend"||!Pf&&jv(e,t)?(e=Ev(),No=Jf=Ga=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tv&&t.locale!=="ko"?null:t.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ex[e.type]:t==="textarea"}function Nv(e,t,n,a){gi?ji?ji.push(a):ji=[a]:gi=a,t=fc(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $r=null,al=null;function tx(e){x0(e,0)}function $c(e){var t=Dr(e);if(pv(t))return e}function qm(e,t){if(e==="change")return t}var Av=!1;if(xa){var Du;if(xa){var Cu="oninput"in document;if(!Cu){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Cu=typeof Ym.oninput=="function"}Du=Cu}else Du=!1;Av=Du&&(!document.documentMode||9<document.documentMode)}function Vm(){$r&&($r.detachEvent("onpropertychange",Dv),al=$r=null)}function Dv(e){if(e.propertyName==="value"&&$c(al)){var t=[];Nv(t,al,e,Qf(e)),xv(tx,t)}}function nx(e,t,n){e==="focusin"?(Vm(),$r=t,al=n,$r.attachEvent("onpropertychange",Dv)):e==="focusout"&&Vm()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $c(al)}function sx(e,t){if(e==="click")return $c(t)}function ix(e,t){if(e==="input"||e==="change")return $c(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:rx;function sl(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Td.call(t,s)||!vn(e[s],t[s]))return!1}return!0}function Im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gm(e,t){var n=Im(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Im(n)}}function Cv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qo(e.document)}return t}function Wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lx=xa&&"documentMode"in document&&11>=document.documentMode,vi=null,Rd=null,Br=null,Md=!1;function Km(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Md||vi==null||vi!==Qo(a)||(a=vi,"selectionStart"in a&&Wf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Br&&sl(Br,a)||(Br=a,a=fc(Rd,"onSelect"),0<a.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=vi)))}function _s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pi={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Ru={},Mv={};xa&&(Mv=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Is(e){if(Ru[e])return Ru[e];if(!pi[e])return e;var t=pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mv)return Ru[e]=t[n];return e}var kv=Is("animationend"),Uv=Is("animationiteration"),zv=Is("animationstart"),ox=Is("transitionrun"),cx=Is("transitionstart"),ux=Is("transitioncancel"),$v=Is("transitionend"),Bv=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function Gn(e,t){Bv.set(e,t),Ys(t,[e])}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],bi=0,Ff=0;function Bc(){for(var e=bi,t=Ff=bi=0;t<e;){var n=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var s=xn[t];xn[t++]=null;var i=xn[t];if(xn[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&Lv(n,s,i)}}function Lc(e,t,n,a){xn[bi++]=e,xn[bi++]=t,xn[bi++]=n,xn[bi++]=a,Ff|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function eh(e,t,n,a){return Lc(e,t,n,a),Zo(e)}function Gs(e,t){return Lc(e,null,null,t),Zo(e)}function Lv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-gn(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Zo(e){if(50<Xr)throw Xr=0,tf=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _i={};function dx(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,a){return new dx(e,t,n,a)}function th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Do(e,t,n,a,s,i){var r=0;if(a=e,typeof e=="function")th(e)&&(r=1);else if(typeof e=="string")r=y1(e,n,na.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case wd:return e=cn(31,n,t,s),e.elementType=wd,e.lanes=i,e;case fi:return Ms(n.children,s,i,t);case iv:r=8,s|=24;break;case pd:return e=cn(12,n,t,s|2),e.elementType=pd,e.lanes=i,e;case bd:return e=cn(13,n,t,s),e.elementType=bd,e.lanes=i,e;case _d:return e=cn(19,n,t,s),e.elementType=_d,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case va:r=10;break e;case rv:r=9;break e;case qf:r=11;break e;case Yf:r=14;break e;case Ua:r=16,a=null;break e}r=29,n=Error($(130,e===null?"null":typeof e,"")),a=null}return t=cn(r,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ms(e,t,n,a){return e=cn(7,e,a,t),e.lanes=n,e}function Mu(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function qv(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function ku(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xm=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=Xm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Om(t)},Xm.set(e,t),t)}return{value:e,source:t,stack:Om(t)}}var wi=[],Si=0,Po=null,il=0,jn=[],On=0,ss=null,Fn=1,ea="";function ga(e,t){wi[Si++]=il,wi[Si++]=Po,Po=e,il=t}function Yv(e,t,n){jn[On++]=Fn,jn[On++]=ea,jn[On++]=ss,ss=e;var a=Fn;e=ea;var s=32-gn(a)-1;a&=~(1<<s),n+=1;var i=32-gn(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Fn=1<<32-gn(t)+s|n<<s|a,ea=i+e}else Fn=1<<i|n<<s|a,ea=e}function nh(e){e.return!==null&&(ga(e,1),Yv(e,1,0))}function ah(e){for(;e===Po;)Po=wi[--Si],wi[Si]=null,il=wi[--Si],wi[Si]=null;for(;e===ss;)ss=jn[--On],jn[On]=null,ea=jn[--On],jn[On]=null,Fn=jn[--On],jn[On]=null}function Vv(e,t){jn[On++]=Fn,jn[On++]=ea,jn[On++]=ss,Fn=t.id,ea=t.overflow,ss=e}var Tt=null,Ve=null,ve=!1,Za=null,Dn=!1,Ud=Error($(519));function is(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(An(t,e)),Ud}function Qm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Et]=e,t[Wt]=a,n){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(n=0;n<ul.length;n++)de(ul[n],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),bv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),wv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||T0(t.textContent,n)?(a.popover!=null&&(de("beforetoggle",t),de("toggle",t)),a.onScroll!=null&&de("scroll",t),a.onScrollEnd!=null&&de("scrollend",t),a.onClick!=null&&(t.onclick=pa),t=!0):t=!1,t||is(e,!0)}function Jm(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Tt=Tt.return}}function Fs(e){if(e!==Tt)return!1;if(!ve)return Jm(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lf(e.type,e.memoizedProps)),n=!n),n&&Ve&&is(e),Jm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ve=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ve=Ug(e)}else t===27?(t=Ve,us(e.type)?(e=df,df=null,Ve=e):Ve=t):Ve=Tt?Rn(e.stateNode.nextSibling):null;return!0}function $s(){Ve=Tt=null,ve=!1}function Uu(){var e=Za;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),Za=null),e}function rl(e){Za===null?Za=[e]:Za.push(e)}var zd=aa(null),Ks=null,ba=null;function La(e,t,n){Be(zd,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=zd.current,wt(zd)}function $d(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Bd(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$d(i.return,n,e),a||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error($(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),$d(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Zi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error($(387));if(r=r.memoizedProps,r!==null){var l=s.type;vn(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Io.current){if(r=s.alternate,r===null)throw Error($(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}s=s.return}e!==null&&Bd(t,e,n,a),t.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){Ks=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Iv(Ks,e)}function ao(e,t){return Ks===null&&Bs(e),Iv(e,t)}function Iv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ba===null){if(e===null)throw Error($(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var fx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hx=yt.unstable_scheduleCallback,mx=yt.unstable_NormalPriority,ot={$$typeof:va,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new fx,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&hx(mx,function(){e.controller.abort()})}var Lr=null,Ld=0,zi=0,Oi=null;function gx(e,t){if(Lr===null){var n=Lr=[];Ld=0,zi=Ah(),Oi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ld++,t.then(Zm,Zm),t}function Zm(){if(--Ld===0&&Lr!==null){Oi!==null&&(Oi.status="fulfilled");var e=Lr;Lr=null,zi=0,Oi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yx(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var Pm=F.S;F.S=function(e,t){s0=hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gx(e,t),Pm!==null&&Pm(e,t)};var ks=aa(null);function ih(){var e=ks.current;return e!==null?e:ke.pooledCache}function Co(e,t){t===null?Be(ks,ks.current):Be(ks,t.pool)}function Gv(){var e=ih();return e===null?null:{parent:ot._currentValue,pool:e}}var Pi=Error($(460)),rh=Error($(474)),Hc=Error($(542)),Fo={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pa,pa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eg(e),e;default:if(typeof t.status=="string")t.then(pa,pa);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eg(e),e}throw Us=t,Pi}}function Ts(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Us=n,Pi):n}}var Us=null;function Fm(){if(Us===null)throw Error($(459));var e=Us;return Us=null,e}function eg(e){if(e===Pi||e===Hc)throw Error($(483))}var Ni=null,ll=0;function so(e){var t=ll;return ll+=1,Ni===null&&(Ni=[]),Kv(Ni,e,t)}function Er(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function io(e,t){throw t.$$typeof===nS?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xv(e){function t(b,g){if(e){var p=b.deletions;p===null?(b.deletions=[g],b.flags|=16):p.push(g)}}function n(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function a(b){for(var g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(b,g){return b=_a(b,g),b.index=0,b.sibling=null,b}function i(b,g,p){return b.index=p,e?(p=b.alternate,p!==null?(p=p.index,p<g?(b.flags|=67108866,g):p):(b.flags|=67108866,g)):(b.flags|=1048576,g)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,g,p,S){return g===null||g.tag!==6?(g=Mu(p,b.mode,S),g.return=b,g):(g=s(g,p),g.return=b,g)}function c(b,g,p,S){var T=p.type;return T===fi?f(b,g,p.props.children,S,p.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ua&&Ts(T)===g.type)?(g=s(g,p.props),Er(g,p),g.return=b,g):(g=Do(p.type,p.key,p.props,null,b.mode,S),Er(g,p),g.return=b,g)}function u(b,g,p,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=ku(p,b.mode,S),g.return=b,g):(g=s(g,p.children||[]),g.return=b,g)}function f(b,g,p,S,T){return g===null||g.tag!==7?(g=Ms(p,b.mode,S,T),g.return=b,g):(g=s(g,p),g.return=b,g)}function h(b,g,p){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Mu(""+g,b.mode,p),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pl:return p=Do(g.type,g.key,g.props,null,b.mode,p),Er(p,g),p.return=b,p;case Nr:return g=ku(g,b.mode,p),g.return=b,g;case Ua:return g=Ts(g),h(b,g,p)}if(Ar(g)||wr(g))return g=Ms(g,b.mode,p,null),g.return=b,g;if(typeof g.then=="function")return h(b,so(g),p);if(g.$$typeof===va)return h(b,ao(b,g),p);io(b,g)}return null}function m(b,g,p,S){var T=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return T!==null?null:l(b,g,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:return p.key===T?c(b,g,p,S):null;case Nr:return p.key===T?u(b,g,p,S):null;case Ua:return p=Ts(p),m(b,g,p,S)}if(Ar(p)||wr(p))return T!==null?null:f(b,g,p,S,null);if(typeof p.then=="function")return m(b,g,so(p),S);if(p.$$typeof===va)return m(b,g,ao(b,p),S);io(b,p)}return null}function y(b,g,p,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(p)||null,l(g,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pl:return b=b.get(S.key===null?p:S.key)||null,c(g,b,S,T);case Nr:return b=b.get(S.key===null?p:S.key)||null,u(g,b,S,T);case Ua:return S=Ts(S),y(b,g,p,S,T)}if(Ar(S)||wr(S))return b=b.get(p)||null,f(g,b,S,T,null);if(typeof S.then=="function")return y(b,g,p,so(S),T);if(S.$$typeof===va)return y(b,g,p,ao(g,S),T);io(g,S)}return null}function E(b,g,p,S){for(var T=null,A=null,j=g,M=g=0,U=null;j!==null&&M<p.length;M++){j.index>M?(U=j,j=null):U=j.sibling;var Y=m(b,j,p[M],S);if(Y===null){j===null&&(j=U);break}e&&j&&Y.alternate===null&&t(b,j),g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y,j=U}if(M===p.length)return n(b,j),ve&&ga(b,M),T;if(j===null){for(;M<p.length;M++)j=h(b,p[M],S),j!==null&&(g=i(j,g,M),A===null?T=j:A.sibling=j,A=j);return ve&&ga(b,M),T}for(j=a(j);M<p.length;M++)U=y(j,b,M,p[M],S),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?M:U.key),g=i(U,g,M),A===null?T=U:A.sibling=U,A=U);return e&&j.forEach(function(X){return t(b,X)}),ve&&ga(b,M),T}function x(b,g,p,S){if(p==null)throw Error($(151));for(var T=null,A=null,j=g,M=g=0,U=null,Y=p.next();j!==null&&!Y.done;M++,Y=p.next()){j.index>M?(U=j,j=null):U=j.sibling;var X=m(b,j,Y.value,S);if(X===null){j===null&&(j=U);break}e&&j&&X.alternate===null&&t(b,j),g=i(X,g,M),A===null?T=X:A.sibling=X,A=X,j=U}if(Y.done)return n(b,j),ve&&ga(b,M),T;if(j===null){for(;!Y.done;M++,Y=p.next())Y=h(b,Y.value,S),Y!==null&&(g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y);return ve&&ga(b,M),T}for(j=a(j);!Y.done;M++,Y=p.next())Y=y(j,b,M,Y.value,S),Y!==null&&(e&&Y.alternate!==null&&j.delete(Y.key===null?M:Y.key),g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y);return e&&j.forEach(function(ie){return t(b,ie)}),ve&&ga(b,M),T}function N(b,g,p,S){if(typeof p=="object"&&p!==null&&p.type===fi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:e:{for(var T=p.key;g!==null;){if(g.key===T){if(T=p.type,T===fi){if(g.tag===7){n(b,g.sibling),S=s(g,p.props.children),S.return=b,b=S;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ua&&Ts(T)===g.type){n(b,g.sibling),S=s(g,p.props),Er(S,p),S.return=b,b=S;break e}n(b,g);break}else t(b,g);g=g.sibling}p.type===fi?(S=Ms(p.props.children,b.mode,S,p.key),S.return=b,b=S):(S=Do(p.type,p.key,p.props,null,b.mode,S),Er(S,p),S.return=b,b=S)}return r(b);case Nr:e:{for(T=p.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(b,g.sibling),S=s(g,p.children||[]),S.return=b,b=S;break e}else{n(b,g);break}else t(b,g);g=g.sibling}S=ku(p,b.mode,S),S.return=b,b=S}return r(b);case Ua:return p=Ts(p),N(b,g,p,S)}if(Ar(p))return E(b,g,p,S);if(wr(p)){if(T=wr(p),typeof T!="function")throw Error($(150));return p=T.call(p),x(b,g,p,S)}if(typeof p.then=="function")return N(b,g,so(p),S);if(p.$$typeof===va)return N(b,g,ao(b,p),S);io(b,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,g!==null&&g.tag===6?(n(b,g.sibling),S=s(g,p),S.return=b,b=S):(n(b,g),S=Mu(p,b.mode,S),S.return=b,b=S),r(b)):n(b,g)}return function(b,g,p,S){try{ll=0;var T=N(b,g,p,S);return Ni=null,T}catch(j){if(j===Pi||j===Hc)throw j;var A=cn(29,j,null,b.mode);return A.lanes=S,A.return=b,A}finally{}}}var Ls=Xv(!0),Qv=Xv(!1),za=!1;function lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Te&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Zo(e),Lv(e,null,n),t}return Lc(e,a,t,n),Zo(e)}function Hr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,fv(e,n)}}function zu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var qd=!1;function qr(){if(qd){var e=Oi;if(e!==null)throw e}}function Yr(e,t,n,a){qd=!1;var s=e.updateQueue;za=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,r===null?i=u:r.next=u,r=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;r=0,f=u=c=null,l=i;do{var m=l.lane&-536870913,y=m!==l.lane;if(y?(me&m)===m:(a&m)===m){m!==0&&m===zi&&(qd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var E=e,x=l;m=t;var N=n;switch(x.tag){case 1:if(E=x.payload,typeof E=="function"){h=E.call(N,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,m=typeof E=="function"?E.call(N,h,m):E,m==null)break e;h=Ge({},h,m);break e;case 2:za=!0}}m=l.callback,m!==null&&(e.flags|=64,y&&(e.flags|=8192),y=s.callbacks,y===null?s.callbacks=[m]:y.push(m))}else y={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=h):f=f.next=y,r|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),ls|=r,e.lanes=r,e.memoizedState=h}}function Jv(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Zv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Jv(n[e],t)}var $i=aa(null),ec=aa(0);function tg(e,t){e=Oa,Be(ec,e),Be($i,t),Oa=e|t.baseLanes}function Yd(){Be(ec,Oa),Be($i,$i.current)}function oh(){Oa=ec.current,wt($i),wt(ec)}var pn=aa(null),Cn=null;function Ha(e){var t=e.alternate;Be(et,et.current&1),Be(pn,e),Cn===null&&(t===null||$i.current!==null||t.memoizedState!==null)&&(Cn=e)}function Vd(e){Be(et,et.current),Be(pn,e),Cn===null&&(Cn=e)}function Pv(e){e.tag===22?(Be(et,et.current),Be(pn,e),Cn===null&&(Cn=e)):qa()}function qa(){Be(et,et.current),Be(pn,pn.current)}function on(e){wt(pn),Cn===e&&(Cn=null),wt(et)}var et=aa(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||uf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=0,ae=null,Re=null,rt=null,nc=!1,Ai=!1,Hs=!1,ac=0,ol=0,Di=null,vx=0;function Ze(){throw Error($(321))}function ch(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function uh(e,t,n,a,s,i){return Ea=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Np:wh,Hs=!1,i=n(a,s),Hs=!1,Ai&&(i=Fv(t,n,a,s)),Wv(e),i}function Wv(e){F.H=cl;var t=Re!==null&&Re.next!==null;if(Ea=0,rt=Re=ae=null,nc=!1,ol=0,Di=null,t)throw Error($(300));e===null||ct||(e=e.dependencies,e!==null&&Wo(e)&&(ct=!0))}function Fv(e,t,n,a){ae=e;var s=0;do{if(Ai&&(Di=null),ol=0,Ai=!1,25<=s)throw Error($(301));if(s+=1,rt=Re=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}F.H=Ap,i=t(n,a)}while(Ai);return i}function px(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?Al(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ae.flags|=1024),t}function dh(){var e=ac!==0;return ac=0,e}function fh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hh(e){if(nc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nc=!1}Ea=0,rt=Re=ae=null,Ai=!1,ol=ac=0,Di=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ae.memoizedState=rt=e:rt=rt.next=e,rt}function tt(){if(Re===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=rt===null?ae.memoizedState:rt.next;if(t!==null)rt=t,Re=e;else{if(e===null)throw ae.alternate===null?Error($(467)):Error($(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},rt===null?ae.memoizedState=rt=e:rt=rt.next=e}return rt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var t=ol;return ol+=1,Di===null&&(Di=[]),e=Kv(Di,e,t),t=ae,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Np:wh),e}function Yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===va)return jt(e)}throw Error($(438,String(e)))}function mh(e){var t=null,n=ae.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ae.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qc(),ae.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=aS;return t.index++,n}function Ta(e,t){return typeof t=="function"?t(e):t}function Ro(e){var t=tt();return gh(t,Re,e)}function gh(e,t,n){var a=e.queue;if(a===null)throw Error($(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,c=null,u=t,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(me&h)===h:(Ea&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===zi&&(f=!0);else if((Ea&m)===m){u=u.next,m===zi&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,r=i):c=c.next=h,ae.lanes|=m,ls|=m;h=u.action,Hs&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,r=i):c=c.next=m,ae.lanes|=h,ls|=h;u=u.next}while(u!==null&&u!==t);if(c===null?r=i:c.next=l,!vn(i,e.memoizedState)&&(ct=!0,f&&(n=Oi,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=c,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $u(e){var t=tt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);vn(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function ep(e,t,n){var a=ae,s=tt(),i=ve;if(i){if(n===void 0)throw Error($(407));n=n()}else n=t();var r=!vn((Re||s).memoizedState,n);if(r&&(s.memoizedState=n,ct=!0),s=s.queue,yh(ap.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,Bi(9,{destroy:void 0},np.bind(null,a,s,n,t),null),ke===null)throw Error($(349));i||Ea&127||tp(a,t,n)}return n}function tp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t=qc(),ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function np(e,t,n,a){t.value=n,t.getSnapshot=a,sp(t)&&ip(e)}function ap(e,t,n){return n(function(){sp(t)&&ip(e)})}function sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function ip(e){var t=Gs(e,2);t!==null&&Pt(t,e,2)}function Id(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),Hs){Ia(!0);try{n()}finally{Ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function rp(e,t,n,a){return e.baseState=n,gh(e,Re,typeof a=="function"?a:Ta)}function bx(e,t,n,a,s){if(Ic(e))throw Error($(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};F.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,lp(t,i)):(i.next=n.next,t.pending=n.next=i)}}function lp(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=F.T,r={};F.T=r;try{var l=n(s,a),c=F.S;c!==null&&c(r,l),ng(e,t,l)}catch(u){Gd(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),F.T=i}}else try{i=n(s,a),ng(e,t,i)}catch(u){Gd(e,t,u)}}function ng(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){ag(e,t,a)},function(a){return Gd(e,t,a)}):ag(e,t,n)}function ag(e,t,n){t.status="fulfilled",t.value=n,op(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lp(e,n)))}function Gd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,op(t),t=t.next;while(t!==a)}e.action=null}function op(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cp(e,t){return t}function sg(e,t){if(ve){var n=ke.formState;if(n!==null){e:{var a=ae;if(ve){if(Ve){t:{for(var s=Ve,i=Dn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Rn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ve=Rn(s.nextSibling),a=s.data==="F!";break e}}is(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:t},n.queue=a,n=Tp.bind(null,ae,a),a.dispatch=n,a=Id(!1),i=_h.bind(null,ae,!1,a.queue),a=zt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=bx.bind(null,ae,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function ig(e){var t=tt();return up(t,Re,e)}function up(e,t,n){if(t=gh(e,t,cp)[0],e=Ro(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Al(t)}catch(r){throw r===Pi?Hc:r}else a=t;t=tt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(ae.flags|=2048,Bi(9,{destroy:void 0},_x.bind(null,s,n),null)),[a,i,e]}function _x(e,t){e.action=t}function rg(e){var t=tt(),n=Re;if(n!==null)return up(t,n,e);tt(),t=t.memoizedState,n=tt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Bi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ae.updateQueue,t===null&&(t=qc(),ae.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function dp(){return tt().memoizedState}function Mo(e,t,n,a){var s=zt();ae.flags|=e,s.memoizedState=Bi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Vc(e,t,n,a){var s=tt();a=a===void 0?null:a;var i=s.memoizedState.inst;Re!==null&&a!==null&&ch(a,Re.memoizedState.deps)?s.memoizedState=Bi(t,i,n,a):(ae.flags|=e,s.memoizedState=Bi(1|t,i,n,a))}function lg(e,t){Mo(8390656,8,e,t)}function yh(e,t){Vc(2048,8,e,t)}function wx(e){ae.flags|=4;var t=ae.updateQueue;if(t===null)t=qc(),ae.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fp(e){var t=tt().memoizedState;return wx({ref:t,nextImpl:e}),function(){if(Te&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function hp(e,t){return Vc(4,2,e,t)}function mp(e,t){return Vc(4,4,e,t)}function gp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yp(e,t,n){n=n!=null?n.concat([e]):null,Vc(4,4,gp.bind(null,t,e),n)}function vh(){}function vp(e,t){var n=tt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ch(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function pp(e,t){var n=tt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ch(t,a[1]))return a[0];if(a=e(),Hs){Ia(!0);try{e()}finally{Ia(!1)}}return n.memoizedState=[a,t],a}function ph(e,t,n){return n===void 0||Ea&1073741824&&!(me&261930)?e.memoizedState=t:(e.memoizedState=n,e=r0(),ae.lanes|=e,ls|=e,n)}function bp(e,t,n,a){return vn(n,t)?n:$i.current!==null?(e=ph(e,n,a),vn(e,t)||(ct=!0),e):!(Ea&42)||Ea&1073741824&&!(me&261930)?(ct=!0,e.memoizedState=n):(e=r0(),ae.lanes|=e,ls|=e,t)}function _p(e,t,n,a,s){var i=je.p;je.p=i!==0&&8>i?i:8;var r=F.T,l={};F.T=l,_h(e,!1,t,n);try{var c=s(),u=F.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=yx(c,a);Vr(e,t,f,yn(e))}else Vr(e,t,a,yn(e))}catch(h){Vr(e,t,{then:function(){},status:"rejected",reason:h},yn())}finally{je.p=i,r!==null&&l.types!==null&&(r.types=l.types),F.T=r}}function Sx(){}function Kd(e,t,n,a){if(e.tag!==5)throw Error($(476));var s=wp(e).queue;_p(e,s,t,Rs,n===null?Sx:function(){return Sp(e),n(a)})}function wp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rs,baseState:Rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Rs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sp(e){var t=wp(e);t.next===null&&(t=e.alternate.memoizedState),Vr(e,t.next.queue,{},yn())}function bh(){return jt(fl)}function xp(){return tt().memoizedState}function Ep(){return tt().memoizedState}function xx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yn();e=Pa(n);var a=Wa(t,e,n);a!==null&&(Pt(a,t,n),Hr(a,t,n)),t={cache:sh()},e.payload=t;return}t=t.return}}function Ex(e,t,n){var a=yn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ic(e)?jp(t,n):(n=eh(e,t,n,a),n!==null&&(Pt(n,e,a),Op(n,t,a)))}function Tp(e,t,n){var a=yn();Vr(e,t,n,a)}function Vr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ic(e))jp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,n);if(s.hasEagerState=!0,s.eagerState=l,vn(l,r))return Lc(e,t,s,0),ke===null&&Bc(),!1}catch{}finally{}if(n=eh(e,t,s,a),n!==null)return Pt(n,e,a),Op(n,t,a),!0}return!1}function _h(e,t,n,a){if(a={lane:2,revertLane:Ah(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(e)){if(t)throw Error($(479))}else t=eh(e,n,a,2),t!==null&&Pt(t,e,2)}function Ic(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function jp(e,t){Ai=nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Op(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,fv(e,n)}}var cl={readContext:jt,use:Yc,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};cl.useEffectEvent=Ze;var Np={readContext:jt,use:Yc,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:lg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Mo(4194308,4,gp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){Mo(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if(Hs){Ia(!0);try{e()}finally{Ia(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var s=n(t);if(Hs){Ia(!0);try{n(t)}finally{Ia(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Ex.bind(null,ae,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Id(e);var t=e.queue,n=Tp.bind(null,ae,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vh,useDeferredValue:function(e,t){var n=zt();return ph(n,e,t)},useTransition:function(){var e=Id(!1);return e=_p.bind(null,ae,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ae,s=zt();if(ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ke===null)throw Error($(349));me&127||tp(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,lg(ap.bind(null,a,i,e),[e]),a.flags|=2048,Bi(9,{destroy:void 0},np.bind(null,a,i,n,t),null),n},useId:function(){var e=zt(),t=ke.identifierPrefix;if(ve){var n=ea,a=Fn;n=(a&~(1<<32-gn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ac++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bh,useFormState:sg,useActionState:sg,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=_h.bind(null,ae,!0,n),n.dispatch=t,[e,t]},useMemoCache:mh,useCacheRefresh:function(){return zt().memoizedState=xx.bind(null,ae)},useEffectEvent:function(e){var t=zt(),n={impl:e};return t.memoizedState=n,function(){if(Te&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},wh={readContext:jt,use:Yc,useCallback:vp,useContext:jt,useEffect:yh,useImperativeHandle:yp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:pp,useReducer:Ro,useRef:dp,useState:function(){return Ro(Ta)},useDebugValue:vh,useDeferredValue:function(e,t){var n=tt();return bp(n,Re.memoizedState,e,t)},useTransition:function(){var e=Ro(Ta)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:ep,useId:xp,useHostTransitionStatus:bh,useFormState:ig,useActionState:ig,useOptimistic:function(e,t){var n=tt();return rp(n,Re,e,t)},useMemoCache:mh,useCacheRefresh:Ep};wh.useEffectEvent=fp;var Ap={readContext:jt,use:Yc,useCallback:vp,useContext:jt,useEffect:yh,useImperativeHandle:yp,useInsertionEffect:hp,useLayoutEffect:mp,useMemo:pp,useReducer:$u,useRef:dp,useState:function(){return $u(Ta)},useDebugValue:vh,useDeferredValue:function(e,t){var n=tt();return Re===null?ph(n,e,t):bp(n,Re.memoizedState,e,t)},useTransition:function(){var e=$u(Ta)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:ep,useId:xp,useHostTransitionStatus:bh,useFormState:rg,useActionState:rg,useOptimistic:function(e,t){var n=tt();return Re!==null?rp(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Ep};Ap.useEffectEvent=fp;function Bu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=yn(),s=Pa(a);s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Pt(t,e,a),Hr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=yn(),s=Pa(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Pt(t,e,a),Hr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),a=Pa(n);a.tag=2,t!=null&&(a.callback=t),t=Wa(e,a,n),t!==null&&(Pt(t,e,n),Hr(t,e,n))}};function og(e,t,n,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!sl(n,a)||!sl(s,i):!0}function cg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Xd.enqueueReplaceState(t,t.state,null)}function qs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Dp(e){Jo(e)}function Cp(e){console.error(e)}function Rp(e){Jo(e)}function sc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ug(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Qd(e,t,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){sc(e,t)},n}function Mp(e){return e=Pa(e),e.tag=3,e}function kp(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){ug(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){ug(t,n,a),typeof s!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function Tx(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Zi(t,n,s,!0),n=pn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?cc():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Fo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ju(e,a,s)),!1;case 22:return n.flags|=65536,a===Fo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ju(e,a,s)),!1}throw Error($(435,n.tag))}return Ju(e,a,s),cc(),!1}if(ve)return t=pn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Ud&&(e=Error($(422),{cause:a}),rl(An(e,n)))):(a!==Ud&&(t=Error($(423),{cause:a}),rl(An(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=An(a,n),s=Qd(e.stateNode,a,s),zu(e,s),Pe!==4&&(Pe=2)),!1;var i=Error($(520),{cause:a});if(i=An(i,n),Kr===null?Kr=[i]:Kr.push(i),Pe!==4&&(Pe=2),t===null)return!0;a=An(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Qd(n.stateNode,a,e),zu(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Mp(s),kp(s,e,n,a),zu(n,s),!1}n=n.return}while(n!==null);return!1}var Sh=Error($(461)),ct=!1;function xt(e,t,n,a){t.child=e===null?Qv(t,null,n,a):Ls(t,e.child,n,a)}function dg(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Bs(t),a=uh(e,t,n,r,i,s),l=dh(),e!==null&&!ct?(fh(e,t,s),ja(e,t,s)):(ve&&l&&nh(t),t.flags|=1,xt(e,t,a,s),t.child)}function fg(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!th(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,Up(e,t,i,a,s)):(e=Do(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!xh(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(r,a)&&e.ref===t.ref)return ja(e,t,s)}return t.flags|=1,e=_a(i,a),e.ref=t.ref,e.return=t,t.child=e}function Up(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(sl(i,a)&&e.ref===t.ref)if(ct=!1,t.pendingProps=a=i,xh(e,s))e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,ja(e,t,s)}return Jd(e,t,n,a,s)}function zp(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return hg(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Co(t,i!==null?i.cachePool:null),i!==null?tg(t,i):Yd(),Pv(t);else return a=t.lanes=536870912,hg(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Co(t,i.cachePool),tg(t,i),qa(),t.memoizedState=null):(e!==null&&Co(t,null),Yd(),qa());return xt(e,t,s,n),t.child}function Cr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hg(e,t,n,a,s){var i=ih();return i=i===null?null:{parent:ot._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Co(t,null),Yd(),Pv(t),e!==null&&Zi(e,t,a,!0),t.childLanes=s,null}function ko(e,t){return t=ic({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mg(e,t,n){return Ls(t,e.child,null,n),e=ko(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function jx(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(a.mode==="hidden")return e=ko(t,a),t.lanes=536870912,Cr(null,e);if(Vd(t),(e=Ve)?(e=N0(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Fn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=qv(e),n.return=t,t.child=n,Tt=t,Ve=null)):e=null,e===null)throw is(t);return t.lanes=536870912,null}return ko(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Vd(t),s)if(t.flags&256)t.flags&=-257,t=mg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(ct||Zi(e,t,n,!1),s=(n&e.childLanes)!==0,ct||s){if(a=ke,a!==null&&(r=hv(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,Gs(e,r),Pt(a,e,r),Sh;cc(),t=mg(e,t,n)}else e=i.treeContext,Ve=Rn(r.nextSibling),Tt=t,ve=!0,Za=null,Dn=!1,e!==null&&Vv(t,e),t=ko(t,a),t.flags|=4096;return t}return e=_a(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Uo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Jd(e,t,n,a,s){return Bs(t),n=uh(e,t,n,a,void 0,s),a=dh(),e!==null&&!ct?(fh(e,t,s),ja(e,t,s)):(ve&&a&&nh(t),t.flags|=1,xt(e,t,n,s),t.child)}function gg(e,t,n,a,s,i){return Bs(t),t.updateQueue=null,n=Fv(t,a,n,s),Wv(e),a=dh(),e!==null&&!ct?(fh(e,t,i),ja(e,t,i)):(ve&&a&&nh(t),t.flags|=1,xt(e,t,n,i),t.child)}function yg(e,t,n,a,s){if(Bs(t),t.stateNode===null){var i=_i,r=n.contextType;typeof r=="object"&&r!==null&&(i=jt(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Xd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},lh(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?jt(r):_i,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Bu(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Xd.enqueueReplaceState(i,i.state,null),Yr(t,a,i,s),qr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=qs(n,l);i.props=c;var u=i.context,f=n.contextType;r=_i,typeof f=="object"&&f!==null&&(r=jt(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==r)&&cg(t,i,a,r),za=!1;var m=t.memoizedState;i.state=m,Yr(t,a,i,s),qr(),u=t.memoizedState,l||m!==u||za?(typeof h=="function"&&(Bu(t,n,h,a),u=t.memoizedState),(c=za||og(t,n,c,a,m,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Hd(e,t),r=t.memoizedProps,f=qs(n,r),i.props=f,h=t.pendingProps,m=i.context,u=n.contextType,c=_i,typeof u=="object"&&u!==null&&(c=jt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==h||m!==c)&&cg(t,i,a,c),za=!1,m=t.memoizedState,i.state=m,Yr(t,a,i,s),qr();var y=t.memoizedState;r!==h||m!==y||za||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof l=="function"&&(Bu(t,n,l,a),y=t.memoizedState),(f=za||og(t,n,f,a,m,y,c)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=y),i.props=a,i.state=y,i.context=c,a=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Uo(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ls(t,e.child,null,s),t.child=Ls(t,null,n,s)):xt(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ja(e,t,s),e}function vg(e,t,n,a){return $s(),t.flags|=256,xt(e,t,n,a),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hu(e){return{baseLanes:e,cachePool:Gv()}}function qu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function $p(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(s?Ha(t):qa(),(e=Ve)?(e=N0(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Fn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=qv(e),n.return=t,t.child=n,Tt=t,Ve=null)):e=null,e===null)throw is(t);return uf(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(qa(),s=t.mode,l=ic({mode:"hidden",children:l},s),a=Ms(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Hu(n),a.childLanes=qu(e,r,n),t.memoizedState=Lu,Cr(null,a)):(Ha(t),Zd(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Ha(t),t.flags&=-257,t=Yu(e,t,n)):t.memoizedState!==null?(qa(),t.child=e.child,t.flags|=128,t=null):(qa(),l=a.fallback,s=t.mode,a=ic({mode:"visible",children:a.children},s),l=Ms(l,s,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Ls(t,e.child,null,n),a=t.child,a.memoizedState=Hu(n),a.childLanes=qu(e,r,n),t.memoizedState=Lu,t=Cr(null,a));else if(Ha(t),uf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error($(419)),a.stack="",a.digest=r,rl({value:a,source:null,stack:null}),t=Yu(e,t,n)}else if(ct||Zi(e,t,n,!1),r=(n&e.childLanes)!==0,ct||r){if(r=ke,r!==null&&(a=hv(r,n),a!==0&&a!==c.retryLane))throw c.retryLane=a,Gs(e,a),Pt(r,e,a),Sh;cf(l)||cc(),t=Yu(e,t,n)}else cf(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ve=Rn(l.nextSibling),Tt=t,ve=!0,Za=null,Dn=!1,e!==null&&Vv(t,e),t=Zd(t,a.children),t.flags|=4096);return t}return s?(qa(),l=a.fallback,s=t.mode,c=e.child,u=c.sibling,a=_a(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=_a(u,l):(l=Ms(l,s,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Cr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Hu(n):(s=l.cachePool,s!==null?(c=ot._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Gv(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=qu(e,r,n),t.memoizedState=Lu,Cr(e.child,a)):(Ha(t),n=e.child,e=n.sibling,n=_a(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zd(e,t){return t=ic({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ic(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function Yu(e,t,n){return Ls(t,e.child,null,n),e=Zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),$d(e.return,t,n)}function Vu(e,t,n,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function Bp(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=et.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Be(et,r),xt(e,t,a,n),a=ve?il:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pg(e,n,t);else if(e.tag===19)pg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vu(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vu(t,!0,n,null,i,a);break;case"together":Vu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ja(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ls|=t.lanes,!(n&t.childLanes))if(e!==null){if(Zi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=_a(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_a(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function Ox(e,t,n){switch(t.tag){case 3:Go(t,t.stateNode.containerInfo),La(t,ot,e.memoizedState.cache),$s();break;case 27:case 5:Ed(t);break;case 4:Go(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ha(t),t.flags|=128,null):n&t.child.childLanes?$p(e,t,n):(Ha(t),e=ja(e,t,n),e!==null?e.sibling:null);Ha(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Zi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Bp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(et,et.current),a)break;return null;case 22:return t.lanes=0,zp(e,t,n,t.pendingProps);case 24:La(t,ot,e.memoizedState.cache)}return ja(e,t,n)}function Lp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!xh(e,n)&&!(t.flags&128))return ct=!1,Ox(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ve&&t.flags&1048576&&Yv(t,il,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ts(t.elementType),t.type=e,typeof e=="function")th(e)?(a=qs(e,a),t.tag=1,t=yg(null,t,e,a,n)):(t.tag=0,t=Jd(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===qf){t.tag=11,t=dg(null,t,e,a,n);break e}else if(s===Yf){t.tag=14,t=fg(null,t,e,a,n);break e}}throw t=Sd(e)||e,Error($(306,t,""))}}return t;case 0:return Jd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=qs(a,t.pendingProps),yg(e,t,a,s,n);case 3:e:{if(Go(t,t.stateNode.containerInfo),e===null)throw Error($(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,Hd(e,t),Yr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,La(t,ot,a),a!==i.cache&&Bd(t,[ot],n,!0),qr(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=vg(e,t,a,n);break e}else if(a!==s){s=An(Error($(424)),t),rl(s),t=vg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Rn(e.firstChild),Tt=t,ve=!0,Za=null,Dn=!0,n=Qv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($s(),a===s){t=ja(e,t,n);break e}xt(e,t,a,n)}t=t.child}return t;case 26:return Uo(e,t),e===null?(n=Bg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,a=hc(Ja.current).createElement(n),a[Et]=t,a[Wt]=e,Ot(a,n,e),_t(a),t.stateNode=a):t.memoizedState=Bg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ed(t),e===null&&ve&&(a=t.stateNode=A0(t.type,t.pendingProps,Ja.current),Tt=t,Dn=!0,s=Ve,us(t.type)?(df=s,Ve=Rn(a.firstChild)):Ve=s),xt(e,t,t.pendingProps.children,n),Uo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((s=a=Ve)&&(a=a1(a,t.type,t.pendingProps,Dn),a!==null?(t.stateNode=a,Tt=t,Ve=Rn(a.firstChild),Dn=!1,s=!0):s=!1),s||is(t)),Ed(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,lf(s,i)?a=null:r!==null&&lf(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=uh(e,t,px,null,null,n),fl._currentValue=s),Uo(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&ve&&((e=n=Ve)&&(n=s1(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Tt=t,Ve=null,e=!0):e=!1),e||is(t)),null;case 13:return $p(e,t,n);case 4:return Go(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ls(t,null,a,n):xt(e,t,a,n),t.child;case 11:return dg(e,t,t.type,t.pendingProps,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,La(t,t.type,a.value),xt(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Bs(t),s=jt(s),a=a(s),t.flags|=1,xt(e,t,a,n),t.child;case 14:return fg(e,t,t.type,t.pendingProps,n);case 15:return Up(e,t,t.type,t.pendingProps,n);case 19:return Bp(e,t,n);case 31:return jx(e,t,n);case 22:return zp(e,t,n,t.pendingProps);case 24:return Bs(t),a=jt(ot),e===null?(s=ih(),s===null&&(s=ke,i=sh(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},lh(t),La(t,ot,s)):(e.lanes&n&&(Hd(e,t),Yr(t,null,null,n),qr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),La(t,ot,a)):(a=i.cache,La(t,ot,a),a!==s.cache&&Bd(t,[ot],n,!0))),xt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function ua(e){e.flags|=4}function Iu(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(c0())e.flags|=8192;else throw Us=Fo,rh}else e.flags&=-16777217}function bg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!R0(t))if(c0())e.flags|=8192;else throw Us=Fo,rh}function ro(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?uv():536870912,e.lanes|=t,Li|=t)}function Tr(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Nx(e,t,n){var a=t.pendingProps;switch(ah(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(ot),Mi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?ua(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Uu())),Ye(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ua(t),i!==null?(Ye(t),bg(t,i)):(Ye(t),Iu(t,s,null,a,n))):i?i!==e.memoizedState?(ua(t),Ye(t),bg(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ua(t),Ye(t),Iu(t,s,e,a,n)),null;case 27:if(Ko(t),n=Ja.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return Ye(t),null}e=na.current,Fs(t)?Qm(t):(e=A0(s,a,n),t.stateNode=e,ua(t))}return Ye(t),null;case 5:if(Ko(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return Ye(t),null}if(i=na.current,Fs(t))Qm(t);else{var r=hc(Ja.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[Et]=t,i[Wt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ot(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ua(t)}}return Ye(t),Iu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(e=Ja.current,Fs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Tt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Et]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||T0(e.nodeValue,n)),e||is(t,!0)}else e=hc(e).createTextNode(a),e[Et]=t,t.stateNode=e}return Ye(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Fs(t),n!==null){if(e===null){if(!a)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Et]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else n=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if(t.flags&128)throw Error($(558))}return Ye(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Fs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Et]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else s=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(on(t),t):(on(t),null)}return on(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ro(t,t.updateQueue),Ye(t),null);case 4:return Mi(),e===null&&Dh(t.stateNode.containerInfo),Ye(t),null;case 10:return wa(t.type),Ye(t),null;case 19:if(wt(et),a=t.memoizedState,a===null)return Ye(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Tr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tc(e),i!==null){for(t.flags|=128,Tr(a,!1),e=i.updateQueue,t.updateQueue=e,ro(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Hv(n,e),n=n.sibling;return Be(et,et.current&1|2),ve&&ga(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&hn()>lc&&(t.flags|=128,s=!0,Tr(a,!1),t.lanes=4194304)}else{if(!s)if(e=tc(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ro(t,e),Tr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ve)return Ye(t),null}else 2*hn()-a.renderingStartTime>lc&&n!==536870912&&(t.flags|=128,s=!0,Tr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hn(),e.sibling=null,n=et.current,Be(et,s?n&1|2:n&1),ve&&ga(t,a.treeForkCount),e):(Ye(t),null);case 22:case 23:return on(t),oh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&ro(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&wt(ks),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(ot),Ye(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function Ax(e,t){switch(ah(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(ot),Mi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ko(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error($(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(et),null;case 4:return Mi(),null;case 10:return wa(t.type),null;case 22:case 23:return on(t),oh(),e!==null&&wt(ks),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(ot),null;case 25:return null;default:return null}}function Hp(e,t){switch(ah(t),t.tag){case 3:wa(ot),Mi();break;case 26:case 27:case 5:Ko(t);break;case 4:Mi();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:wt(et);break;case 10:wa(t.type);break;case 22:case 23:on(t),oh(),e!==null&&wt(ks);break;case 24:wa(ot)}}function Dl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==s)}}catch(l){De(t,t.return,l)}}function rs(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var c=n,u=l;try{u()}catch(f){De(s,c,f)}}}a=a.next}while(a!==i)}}catch(f){De(t,t.return,f)}}function qp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zv(t,n)}catch(a){De(e,e.return,a)}}}function Yp(e,t,n){n.props=qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){De(e,t,a)}}function Ir(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){De(e,t,s)}}function ta(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){De(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function Vp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){De(e,e.return,s)}}function Gu(e,t,n){try{var a=e.stateNode;Px(a,e.type,n,t),a[Wt]=t}catch(s){De(e,e.return,s)}}function Ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pa));else if(a!==4&&(a===27&&us(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Pd(e,t,n),e=e.sibling;e!==null;)Pd(e,t,n),e=e.sibling}function rc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&us(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function Gp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ot(t,a,n),t[Et]=e,t[Wt]=n}catch(i){De(e,e.return,i)}}var ya=!1,lt=!1,Xu=!1,_g=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Dx(e,t){if(e=e.containerInfo,sf=vc,e=Rv(e),Wf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,l=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=r+s),h!==i||a!==0&&h.nodeType!==3||(c=r+a),h.nodeType===3&&(r+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=r),m===i&&++f===a&&(c=r),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rf={focusedElem:e,selectionRange:n},vc=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var E=qs(n.type,s);e=a.getSnapshotBeforeUpdate(E,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){De(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)of(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Kp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fa(e,n),a&4&&Dl(5,n);break;case 1:if(fa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){De(n,n.return,r)}else{var s=qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){De(n,n.return,r)}}a&64&&qp(n),a&512&&Ir(n,n.return);break;case 3:if(fa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zv(e,t)}catch(r){De(n,n.return,r)}}break;case 27:t===null&&a&4&&Gp(n);case 26:case 5:fa(e,n),t===null&&a&4&&Vp(n),a&512&&Ir(n,n.return);break;case 12:fa(e,n);break;case 31:fa(e,n),a&4&&Jp(e,n);break;case 13:fa(e,n),a&4&&Zp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Lx.bind(null,n),i1(e,n))));break;case 22:if(a=n.memoizedState!==null||ya,!a){t=t!==null&&t.memoizedState!==null||lt,s=ya;var i=lt;ya=a,(lt=t)&&!i?ha(e,n,(n.subtreeFlags&8772)!==0):fa(e,n),ya=s,lt=i}break;case 30:break;default:fa(e,n)}}function Xp(e){var t=e.alternate;t!==null&&(e.alternate=null,Xp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Jt=!1;function da(e,t,n){for(n=n.child;n!==null;)Qp(e,t,n),n=n.sibling}function Qp(e,t,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 26:lt||ta(n,t),da(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||ta(n,t);var a=Ke,s=Jt;us(n.type)&&(Ke=n.stateNode,Jt=!1),da(e,t,n),Qr(n.stateNode),Ke=a,Jt=s;break;case 5:lt||ta(n,t);case 6:if(a=Ke,s=Jt,Ke=null,da(e,t,n),Ke=a,Jt=s,Ke!==null)if(Jt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(i){De(n,t,i)}else try{Ke.removeChild(n.stateNode)}catch(i){De(n,t,i)}break;case 18:Ke!==null&&(Jt?(e=Ke,Mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Vi(e)):Mg(Ke,n.stateNode));break;case 4:a=Ke,s=Jt,Ke=n.stateNode.containerInfo,Jt=!0,da(e,t,n),Ke=a,Jt=s;break;case 0:case 11:case 14:case 15:rs(2,n,t),lt||rs(4,n,t),da(e,t,n);break;case 1:lt||(ta(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Yp(n,t,a)),da(e,t,n);break;case 21:da(e,t,n);break;case 22:lt=(a=lt)||n.memoizedState!==null,da(e,t,n),lt=a;break;default:da(e,t,n)}}function Jp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vi(e)}catch(n){De(t,t.return,n)}}}function Zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vi(e)}catch(n){De(t,t.return,n)}}function Cx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _g),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _g),t;default:throw Error($(435,e.tag))}}function lo(e,t){var n=Cx(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Hx.bind(null,e,a);a.then(s,s)}})}function Xt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(us(l.type)){Ke=l.stateNode,Jt=!1;break e}break;case 5:Ke=l.stateNode,Jt=!1;break e;case 3:case 4:Ke=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Ke===null)throw Error($(160));Qp(i,r,s),Ke=null,Jt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pp(t,e),t=t.sibling}var qn=null;function Pp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Qt(e),a&4&&(rs(3,e,e.return),Dl(3,e),rs(5,e,e.return));break;case 1:Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),a&64&&ya&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=qn;if(Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[jl]||i[Et]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Ot(i,a,n),i[Et]=e,_t(i),a=i;break e;case"link":var r=Hg("link","href",s).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(a),Ot(i,a,n),s.head.appendChild(i);break;case"meta":if(r=Hg("meta","content",s).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}i=s.createElement(a),Ot(i,a,n),s.head.appendChild(i);break;default:throw Error($(468,a))}i[Et]=e,_t(i),a=i}e.stateNode=a}else qg(s,e.type,e.stateNode);else e.stateNode=Lg(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?qg(s,e.type,e.stateNode):Lg(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),n!==null&&a&4&&Gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),e.flags&32){s=e.stateNode;try{Ui(s,"")}catch(E){De(e,e.return,E)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Gu(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Xu=!0);break;case 6:if(Xt(t,e),Qt(e),a&4){if(e.stateNode===null)throw Error($(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(E){De(e,e.return,E)}}break;case 3:if(Bo=null,s=qn,qn=mc(t.containerInfo),Xt(t,e),qn=s,Qt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(E){De(e,e.return,E)}Xu&&(Xu=!1,Wp(e));break;case 4:a=qn,qn=mc(e.stateNode.containerInfo),Xt(t,e),Qt(e),qn=a;break;case 12:Xt(t,e),Qt(e);break;case 31:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lo(e,a)));break;case 13:Xt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gc=hn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lo(e,a)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ya,f=lt;if(ya=u||s,lt=f||c,Xt(t,e),lt=f,ya=u,Qt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||ya||lt||js(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(E){De(c,c.return,E)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(E){De(c,c.return,E)}}}else if(t.tag===18){if(n===null){c=t;try{var y=c.stateNode;s?kg(y,!0):kg(c.stateNode,!1)}catch(E){De(c,c.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,lo(e,n))));break;case 19:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lo(e,a)));break;case 30:break;case 21:break;default:Xt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Ip(a)){n=a;break}a=a.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var s=n.stateNode,i=Ku(e);rc(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&(Ui(r,""),n.flags&=-33);var l=Ku(e);rc(e,l,r);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Ku(e);Pd(e,u,c);break;default:throw Error($(161))}}catch(f){De(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Kp(e,t.alternate,t),t=t.sibling}function js(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rs(4,t,t.return),js(t);break;case 1:ta(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Yp(t,t.return,n),js(t);break;case 27:Qr(t.stateNode);case 26:case 5:ta(t,t.return),js(t);break;case 22:t.memoizedState===null&&js(t);break;case 30:js(t);break;default:js(t)}e=e.sibling}}function ha(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ha(s,i,n),Dl(4,i);break;case 1:if(ha(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){De(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)Jv(c[s],l)}catch(u){De(a,a.return,u)}}n&&r&64&&qp(i),Ir(i,i.return);break;case 27:Gp(i);case 26:case 5:ha(s,i,n),n&&a===null&&r&4&&Vp(i),Ir(i,i.return);break;case 12:ha(s,i,n);break;case 31:ha(s,i,n),n&&r&4&&Jp(s,i);break;case 13:ha(s,i,n),n&&r&4&&Zp(s,i);break;case 22:i.memoizedState===null&&ha(s,i,n),Ir(i,i.return);break;case 30:break;default:ha(s,i,n)}t=t.sibling}}function Eh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Nl(n))}function Th(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e))}function $n(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fp(e,t,n,a),t=t.sibling}function Fp(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$n(e,t,n,a),s&2048&&Dl(9,t);break;case 1:$n(e,t,n,a);break;case 3:$n(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e)));break;case 12:if(s&2048){$n(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){De(t,t.return,c)}}else $n(e,t,n,a);break;case 31:$n(e,t,n,a);break;case 13:$n(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?$n(e,t,n,a):Gr(e,t):i._visibility&2?$n(e,t,n,a):(i._visibility|=2,li(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Eh(r,t);break;case 24:$n(e,t,n,a),s&2048&&Th(t.alternate,t);break;default:$n(e,t,n,a)}}function li(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=n,c=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:li(i,r,l,c,s),Dl(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?li(i,r,l,c,s):Gr(i,r):(f._visibility|=2,li(i,r,l,c,s)),s&&u&2048&&Eh(r.alternate,r);break;case 24:li(i,r,l,c,s),s&&u&2048&&Th(r.alternate,r);break;default:li(i,r,l,c,s)}t=t.sibling}}function Gr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Gr(n,a),s&2048&&Eh(a.alternate,a);break;case 24:Gr(n,a),s&2048&&Th(a.alternate,a);break;default:Gr(n,a)}t=t.sibling}}var Rr=8192;function ei(e,t,n){if(e.subtreeFlags&Rr)for(e=e.child;e!==null;)e0(e,t,n),e=e.sibling}function e0(e,t,n){switch(e.tag){case 26:ei(e,t,n),e.flags&Rr&&e.memoizedState!==null&&v1(n,qn,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,n);break;case 3:case 4:var a=qn;qn=mc(e.stateNode.containerInfo),ei(e,t,n),qn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Rr,Rr=16777216,ei(e,t,n),Rr=a):ei(e,t,n));break;default:ei(e,t,n)}}function t0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,a0(a,e)}t0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n0(e),e=e.sibling}function n0(e){switch(e.tag){case 0:case 11:case 15:jr(e),e.flags&2048&&rs(9,e,e.return);break;case 3:jr(e);break;case 12:jr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zo(e)):jr(e);break;default:jr(e)}}function zo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,a0(a,e)}t0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rs(8,t,t.return),zo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zo(t));break;default:zo(t)}e=e.sibling}}function a0(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:rs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,pt=a;else e:for(n=e;pt!==null;){a=pt;var s=a.sibling,i=a.return;if(Xp(a),a===n){pt=null;break e}if(s!==null){s.return=i,pt=s;break e}pt=i}}}var Rx={getCacheForType:function(e){var t=jt(ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return jt(ot).controller.signal}},Mx=typeof WeakMap=="function"?WeakMap:Map,Te=0,ke=null,fe=null,me=0,Ae=0,ln=null,Ka=!1,Wi=!1,jh=!1,Oa=0,Pe=0,ls=0,zs=0,Oh=0,fn=0,Li=0,Kr=null,Zt=null,Wd=!1,Gc=0,s0=0,lc=1/0,oc=null,Fa=null,gt=0,es=null,Hi=null,Sa=0,Fd=0,ef=null,i0=null,Xr=0,tf=null;function yn(){return Te&2&&me!==0?me&-me:F.T!==null?Ah():mv()}function r0(){if(fn===0)if(!(me&536870912)||ve){var e=Fl;Fl<<=1,!(Fl&3932160)&&(Fl=262144),fn=e}else fn=536870912;return e=pn.current,e!==null&&(e.flags|=32),fn}function Pt(e,t,n){(e===ke&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(qi(e,0),Xa(e,me,fn,!1)),Tl(e,n),(!(Te&2)||e!==ke)&&(e===ke&&(!(Te&2)&&(zs|=n),Pe===4&&Xa(e,me,fn,!1)),sa(e))}function l0(e,t,n){if(Te&6)throw Error($(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||El(e,t),s=a?zx(e,t):Qu(e,t,!0),i=a;do{if(s===0){Wi&&!a&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!kx(n)){s=Qu(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=Kr;var c=l.current.memoizedState.isDehydrated;if(c&&(qi(l,r).flags|=256),r=Qu(l,r,!1),r!==2){if(jh&&!c){l.errorRecoveryDisabledLanes|=i,zs|=i,s=4;break e}i=Zt,Zt=s,i!==null&&(Zt===null?Zt=i:Zt.push.apply(Zt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){qi(e,0),Xa(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Xa(a,t,fn,!Ka);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(s=Gc+300-hn(),10<s)){if(Xa(a,t,fn,!Ka),kc(a,0,!0)!==0)break e;Sa=t,a.timeoutHandle=O0(wg.bind(null,a,n,Zt,oc,Wd,t,fn,zs,Li,Ka,i,"Throttled",-0,0),s);break e}wg(a,n,Zt,oc,Wd,t,fn,zs,Li,Ka,i,null,-0,0)}}break}while(!0);sa(e)}function wg(e,t,n,a,s,i,r,l,c,u,f,h,m,y){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},e0(t,i,h);var E=(i&62914560)===i?Gc-hn():(i&4194048)===i?s0-hn():0;if(E=p1(h,E),E!==null){Sa=i,e.cancelPendingCommit=E(xg.bind(null,e,t,i,n,a,s,r,l,c,f,h,null,m,y)),Xa(e,i,r,!u);return}}xg(e,t,i,n,a,s,r,l,c)}function kx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!vn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,a){t&=~Oh,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-gn(s),r=1<<i;a[i]=-1,s&=~r}n!==0&&dv(e,n,t)}function Kc(){return Te&6?!0:(Cl(0),!1)}function Nh(){if(fe!==null){if(Ae===0)var e=fe.return;else e=fe,ba=Ks=null,hh(e),Ni=null,ll=0,e=fe;for(;e!==null;)Hp(e.alternate,e),e=e.return;fe=null}}function qi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,e1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Sa=0,Nh(),ke=e,fe=n=_a(e.current,null),me=t,Ae=0,ln=null,Ka=!1,Wi=El(e,t),jh=!1,Li=fn=Oh=zs=ls=Pe=0,Zt=Kr=null,Wd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-gn(a),i=1<<s;t|=e[s],a&=~i}return Oa=t,Bc(),n}function o0(e,t){ae=null,F.H=cl,t===Pi||t===Hc?(t=Fm(),Ae=3):t===rh?(t=Fm(),Ae=4):Ae=t===Sh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ln=t,fe===null&&(Pe=1,sc(e,An(t,e.current)))}function c0(){var e=pn.current;return e===null?!0:(me&4194048)===me?Cn===null:(me&62914560)===me||me&536870912?e===Cn:!1}function u0(){var e=F.H;return F.H=cl,e===null?cl:e}function d0(){var e=F.A;return F.A=Rx,e}function cc(){Pe=4,Ka||(me&4194048)!==me&&pn.current!==null||(Wi=!0),!(ls&134217727)&&!(zs&134217727)||ke===null||Xa(ke,me,fn,!1)}function Qu(e,t,n){var a=Te;Te|=2;var s=u0(),i=d0();(ke!==e||me!==t)&&(oc=null,qi(e,t)),t=!1;var r=Pe;e:do try{if(Ae!==0&&fe!==null){var l=fe,c=ln;switch(Ae){case 8:Nh(),r=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var u=Ae;if(Ae=0,ln=null,xi(e,l,c,u),n&&Wi){r=0;break e}break;default:u=Ae,Ae=0,ln=null,xi(e,l,c,u)}}Ux(),r=Pe;break}catch(f){o0(e,f)}while(!0);return t&&e.shellSuspendCounter++,ba=Ks=null,Te=a,F.H=s,F.A=i,fe===null&&(ke=null,me=0,Bc()),r}function Ux(){for(;fe!==null;)f0(fe)}function zx(e,t){var n=Te;Te|=2;var a=u0(),s=d0();ke!==e||me!==t?(oc=null,lc=hn()+500,qi(e,t)):Wi=El(e,t);e:do try{if(Ae!==0&&fe!==null){t=fe;var i=ln;t:switch(Ae){case 1:Ae=0,ln=null,xi(e,t,i,1);break;case 2:case 9:if(Wm(i)){Ae=0,ln=null,Sg(t);break}t=function(){Ae!==2&&Ae!==9||ke!==e||(Ae=7),sa(e)},i.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Wm(i)?(Ae=0,ln=null,Sg(t)):(Ae=0,ln=null,xi(e,t,i,7));break;case 5:var r=null;switch(fe.tag){case 26:r=fe.memoizedState;case 5:case 27:var l=fe;if(r?R0(r):l.stateNode.complete){Ae=0,ln=null;var c=l.sibling;if(c!==null)fe=c;else{var u=l.return;u!==null?(fe=u,Xc(u)):fe=null}break t}}Ae=0,ln=null,xi(e,t,i,5);break;case 6:Ae=0,ln=null,xi(e,t,i,6);break;case 8:Nh(),Pe=6;break e;default:throw Error($(462))}}$x();break}catch(f){o0(e,f)}while(!0);return ba=Ks=null,F.H=a,F.A=s,Te=n,fe!==null?0:(ke=null,me=0,Bc(),Pe)}function $x(){for(;fe!==null&&!rS();)f0(fe)}function f0(e){var t=Lp(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Xc(e):fe=t}function Sg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gg(n,t,t.pendingProps,t.type,void 0,me);break;case 11:t=gg(n,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:hh(t);default:Hp(n,t),t=fe=Hv(t,Oa),t=Lp(n,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Xc(e):fe=t}function xi(e,t,n,a){ba=Ks=null,hh(t),Ni=null,ll=0;var s=t.return;try{if(Tx(e,s,t,n,me)){Pe=1,sc(e,An(n,e.current)),fe=null;return}}catch(i){if(s!==null)throw fe=s,i;Pe=1,sc(e,An(n,e.current)),fe=null;return}t.flags&32768?(ve||a===1?e=!0:Wi||me&536870912?e=!1:(Ka=e=!0,(a===2||a===9||a===3||a===6)&&(a=pn.current,a!==null&&a.tag===13&&(a.flags|=16384))),h0(t,e)):Xc(t)}function Xc(e){var t=e;do{if(t.flags&32768){h0(t,Ka);return}e=t.return;var n=Nx(t.alternate,t,Oa);if(n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);Pe===0&&(Pe=5)}function h0(e,t){do{var n=Ax(e.alternate,e);if(n!==null){n.flags&=32767,fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=n}while(e!==null);Pe=6,fe=null}function xg(e,t,n,a,s,i,r,l,c){e.cancelPendingCommit=null;do Qc();while(gt!==0);if(Te&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(i=t.lanes|t.childLanes,i|=Ff,yS(e,n,i,r,l,c),e===ke&&(fe=ke=null,me=0),Hi=t,es=e,Sa=n,Fd=i,ef=s,i0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qx(Xo,function(){return p0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=F.T,F.T=null,s=je.p,je.p=2,r=Te,Te|=4;try{Dx(e,t,n)}finally{Te=r,je.p=s,F.T=a}}gt=1,m0(),g0(),y0()}}function m0(){if(gt===1){gt=0;var e=es,t=Hi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var a=je.p;je.p=2;var s=Te;Te|=4;try{Pp(t,e);var i=rf,r=Rv(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&Cv(l.ownerDocument.documentElement,l)){if(c!==null&&Wf(l)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var y=m.getSelection(),E=l.textContent.length,x=Math.min(c.start,E),N=c.end===void 0?x:Math.min(c.end,E);!y.extend&&x>N&&(r=N,N=x,x=r);var b=Gm(l,x),g=Gm(l,N);if(b&&g&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==g.node||y.focusOffset!==g.offset)){var p=h.createRange();p.setStart(b.node,b.offset),y.removeAllRanges(),x>N?(y.addRange(p),y.extend(g.node,g.offset)):(p.setEnd(g.node,g.offset),y.addRange(p))}}}}for(h=[],y=l;y=y.parentNode;)y.nodeType===1&&h.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var S=h[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}vc=!!sf,rf=sf=null}finally{Te=s,je.p=a,F.T=n}}e.current=t,gt=2}}function g0(){if(gt===2){gt=0;var e=es,t=Hi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var a=je.p;je.p=2;var s=Te;Te|=4;try{Kp(e,t.alternate,t)}finally{Te=s,je.p=a,F.T=n}}gt=3}}function y0(){if(gt===4||gt===3){gt=0,lS();var e=es,t=Hi,n=Sa,a=i0;t.subtreeFlags&10256||t.flags&10256?gt=5:(gt=0,Hi=es=null,v0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Fa=null),Gf(n),t=t.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,s=je.p,je.p=2,F.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];i(l.value,{componentStack:l.stack})}}finally{F.T=t,je.p=s}}Sa&3&&Qc(),sa(e),s=e.pendingLanes,n&261930&&s&42?e===tf?Xr++:(Xr=0,tf=e):Xr=0,Cl(0)}}function v0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nl(t)))}function Qc(){return m0(),g0(),y0(),p0()}function p0(){if(gt!==5)return!1;var e=es,t=Fd;Fd=0;var n=Gf(Sa),a=F.T,s=je.p;try{je.p=32>n?32:n,F.T=null,n=ef,ef=null;var i=es,r=Sa;if(gt=0,Hi=es=null,Sa=0,Te&6)throw Error($(331));var l=Te;if(Te|=4,n0(i.current),Fp(i,i.current,r,n),Te=l,Cl(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(xl,i)}catch{}return!0}finally{je.p=s,F.T=a,v0(e,t)}}function Eg(e,t,n){t=An(n,t),t=Qd(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(Tl(e,2),sa(e))}function De(e,t,n){if(e.tag===3)Eg(e,e,n);else for(;t!==null;){if(t.tag===3){Eg(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fa===null||!Fa.has(a))){e=An(n,e),n=Mp(2),a=Wa(t,n,2),a!==null&&(kp(n,a,t,e),Tl(a,2),sa(a));break}}t=t.return}}function Ju(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Mx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(jh=!0,s.add(n),e=Bx.bind(null,e,t,n),t.then(e,e))}function Bx(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(me&n)===n&&(Pe===4||Pe===3&&(me&62914560)===me&&300>hn()-Gc?!(Te&2)&&qi(e,0):Oh|=n,Li===me&&(Li=0)),sa(e)}function b0(e,t){t===0&&(t=uv()),e=Gs(e,t),e!==null&&(Tl(e,t),sa(e))}function Lx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b0(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error($(314))}a!==null&&a.delete(t),b0(e,n)}function qx(e,t){return Vf(e,t)}var uc=null,oi=null,nf=!1,dc=!1,Zu=!1,Qa=0;function sa(e){e!==oi&&e.next===null&&(oi===null?uc=oi=e:oi=oi.next=e),dc=!0,nf||(nf=!0,Vx())}function Cl(e,t){if(!Zu&&dc){Zu=!0;do for(var n=!1,a=uc;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-gn(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Tg(a,i))}else i=me,i=kc(a,a===ke?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||El(a,i)||(n=!0,Tg(a,i));a=a.next}while(n);Zu=!1}}function Yx(){_0()}function _0(){dc=nf=!1;var e=0;Qa!==0&&Fx()&&(e=Qa);for(var t=hn(),n=null,a=uc;a!==null;){var s=a.next,i=w0(a,t);i===0?(a.next=null,n===null?uc=s:n.next=s,s===null&&(oi=n)):(n=a,(e!==0||i&3)&&(dc=!0)),a=s}gt!==0&&gt!==5||Cl(e),Qa!==0&&(Qa=0)}function w0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-gn(i),l=1<<r,c=s[r];c===-1?(!(l&n)||l&a)&&(s[r]=gS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=ke,n=me,n=kc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Eu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||El(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Eu(a),Gf(n)){case 2:case 8:n=ov;break;case 32:n=Xo;break;case 268435456:n=cv;break;default:n=Xo}return a=S0.bind(null,e),n=Vf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Eu(a),e.callbackPriority=2,e.callbackNode=null,2}function S0(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qc()&&e.callbackNode!==n)return null;var a=me;return a=kc(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(l0(e,a,t),w0(e,hn()),e.callbackNode!=null&&e.callbackNode===n?S0.bind(null,e):null)}function Tg(e,t){if(Qc())return null;l0(e,t,!0)}function Vx(){t1(function(){Te&6?Vf(lv,Yx):_0()})}function Ah(){if(Qa===0){var e=zi;e===0&&(e=Wl,Wl<<=1,!(Wl&261888)&&(Wl=256)),Qa=e}return Qa}function jg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oo(""+e)}function Og(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ix(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=jg((s[Wt]||null).action),r=a.submitter;r&&(t=(t=r[Wt]||null)?jg(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new Uc("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qa!==0){var c=r?Og(s,r):new FormData(s);Kd(n,{pending:!0,data:c,method:s.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=r?Og(s,r):new FormData(s),Kd(n,{pending:!0,data:c,method:s.method,action:i},i,c))},currentTarget:s}]})}}for(var Pu=0;Pu<kd.length;Pu++){var Wu=kd[Pu],Gx=Wu.toLowerCase(),Kx=Wu[0].toUpperCase()+Wu.slice(1);Gn(Gx,"on"+Kx)}Gn(kv,"onAnimationEnd");Gn(Uv,"onAnimationIteration");Gn(zv,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(ox,"onTransitionRun");Gn(cx,"onTransitionStart");Gn(ux,"onTransitionCancel");Gn($v,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function x0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Jo(f)}s.currentTarget=null,i=c}else for(r=0;r<a.length;r++){if(l=a[r],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Jo(f)}s.currentTarget=null,i=c}}}}function de(e,t){var n=t[jd];n===void 0&&(n=t[jd]=new Set);var a=e+"__bubble";n.has(a)||(E0(t,e,2,!1),n.add(a))}function Fu(e,t,n){var a=0;t&&(a|=4),E0(n,e,a,t)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Dh(e){if(!e[oo]){e[oo]=!0,gv.forEach(function(n){n!=="selectionchange"&&(Xx.has(n)||Fu(n,!1,e),Fu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oo]||(t[oo]=!0,Fu("selectionchange",!1,t))}}function E0(e,t,n,a){switch($0(t)){case 2:var s=w1;break;case 8:s=S1;break;default:s=kh}n=s.bind(null,t,n,e),s=void 0,!Cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ed(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=a.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=mi(l),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){a=i=r;continue e}l=l.parentNode}}a=a.return}xv(function(){var u=i,f=Qf(n),h=[];e:{var m=Bv.get(e);if(m!==void 0){var y=Uc,E=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":y=HS;break;case"focusin":E="focus",y=Au;break;case"focusout":E="blur",y=Au;break;case"beforeblur":case"afterblur":y=Au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VS;break;case kv:case Uv:case zv:y=CS;break;case $v:y=GS;break;case"scroll":case"scrollend":y=jS;break;case"wheel":y=XS;break;case"copy":case"cut":case"paste":y=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$m;break;case"toggle":case"beforetoggle":y=JS}var x=(t&4)!==0,N=!x&&(e==="scroll"||e==="scrollend"),b=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,p;g!==null;){var S=g;if(p=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||p===null||b===null||(S=nl(g,b),S!=null&&x.push(dl(g,S,p))),N)break;g=g.return}0<x.length&&(m=new y(m,E,null,n,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Dd&&(E=n.relatedTarget||n.fromElement)&&(mi(E)||E[Qi]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?mi(E):null,E!==null&&(N=Sl(E),x=E.tag,E!==N||x!==5&&x!==27&&x!==6)&&(E=null)):(y=null,E=u),y!==E)){if(x=Um,S="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=$m,S="onPointerLeave",b="onPointerEnter",g="pointer"),N=y==null?m:Dr(y),p=E==null?m:Dr(E),m=new x(S,g+"leave",y,n,f),m.target=N,m.relatedTarget=p,S=null,mi(f)===u&&(x=new x(b,g+"enter",E,n,f),x.target=p,x.relatedTarget=N,S=x),N=S,y&&E)t:{for(x=Qx,b=y,g=E,p=0,S=b;S;S=x(S))p++;S=0;for(var T=g;T;T=x(T))S++;for(;0<p-S;)b=x(b),p--;for(;0<S-p;)g=x(g),S--;for(;p--;){if(b===g||g!==null&&b===g.alternate){x=b;break t}b=x(b),g=x(g)}x=null}else x=null;y!==null&&Ng(h,m,y,x,!1),E!==null&&N!==null&&Ng(h,N,E,x,!0)}}e:{if(m=u?Dr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var A=qm;else if(Hm(m))if(Av)A=ix;else{A=ax;var j=nx}else y=m.nodeName,!y||y.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Xf(u.elementType)&&(A=qm):A=sx;if(A&&(A=A(e,u))){Nv(h,A,n,f);break e}j&&j(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Ad(m,"number",m.value)}switch(j=u?Dr(u):window,e){case"focusin":(Hm(j)||j.contentEditable==="true")&&(vi=j,Rd=u,Br=null);break;case"focusout":Br=Rd=vi=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Km(h,n,f);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":Km(h,n,f)}var M;if(Pf)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else yi?jv(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Tv&&n.locale!=="ko"&&(yi||U!=="onCompositionStart"?U==="onCompositionEnd"&&yi&&(M=Ev()):(Ga=f,Jf="value"in Ga?Ga.value:Ga.textContent,yi=!0)),j=fc(u,U),0<j.length&&(U=new zm(U,e,null,n,f),h.push({event:U,listeners:j}),M?U.data=M:(M=Ov(n),M!==null&&(U.data=M)))),(M=PS?WS(e,n):FS(e,n))&&(U=fc(u,"onBeforeInput"),0<U.length&&(j=new zm("onBeforeInput","beforeinput",null,n,f),h.push({event:j,listeners:U}),j.data=M)),Ix(h,e,u,n,f)}x0(h,t)})}function dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fc(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=nl(e,n),s!=null&&a.unshift(dl(e,s,i)),s=nl(e,t),s!=null&&a.push(dl(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Qx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ng(e,t,n,a,s){for(var i=t._reactName,r=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,s?(u=nl(n,i),u!=null&&r.unshift(dl(n,u,c))):s||(u=nl(n,i),u!=null&&r.push(dl(n,u,c)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Jx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(Jx,`
`).replace(Zx,"")}function T0(e,t){return t=Ag(t),Ag(e)===t}function Ce(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ui(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ui(e,""+a);break;case"className":to(e,"class",a);break;case"tabIndex":to(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":to(e,n,a);break;case"style":Sv(e,a,i);break;case"data":if(t!=="object"){to(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Oo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ce(e,t,"name",s.name,s,null),Ce(e,t,"formEncType",s.formEncType,s,null),Ce(e,t,"formMethod",s.formMethod,s,null),Ce(e,t,"formTarget",s.formTarget,s,null)):(Ce(e,t,"encType",s.encType,s,null),Ce(e,t,"method",s.method,s,null),Ce(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Oo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=pa);break;case"onScroll":a!=null&&de("scroll",e);break;case"onScrollEnd":a!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Oo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":de("beforetoggle",e),de("toggle",e),jo(e,"popover",a);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":jo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ES.get(n)||n,jo(e,n,a))}}function af(e,t,n,a,s,i){switch(n){case"style":Sv(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ui(e,a):(typeof a=="number"||typeof a=="bigint")&&Ui(e,""+a);break;case"onScroll":a!=null&&de("scroll",e);break;case"onScrollEnd":a!=null&&de("scrollend",e);break;case"onClick":a!=null&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[Wt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):jo(e,n,a)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ce(e,t,i,r,n,null)}}s&&Ce(e,t,"srcSet",n.srcSet,n,null),a&&Ce(e,t,"src",n.src,n,null);return;case"input":de("invalid",e);var l=i=r=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":s=f;break;case"type":r=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Ce(e,t,a,f,n,null)}}bv(e,i,l,c,u,r,s,!1);return;case"select":de("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ce(e,t,s,l,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Ti(e,!!a,t,!1):n!=null&&Ti(e,!!a,n,!0);return;case"textarea":de("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:Ce(e,t,r,l,n,null)}wv(e,a,s,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ce(e,t,c,a,n,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(a=0;a<ul.length;a++)de(ul[a],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ce(e,t,u,a,n,null)}return;default:if(Xf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&af(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ce(e,t,l,a,n,null))}function Px(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,c=null,u=null,f=null;for(y in n){var h=n[y];if(n.hasOwnProperty(y)&&h!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(y)||Ce(e,t,y,null,a,h)}}for(var m in a){var y=a[m];if(h=n[m],a.hasOwnProperty(m)&&(y!=null||h!=null))switch(m){case"type":i=y;break;case"name":s=y;break;case"checked":u=y;break;case"defaultChecked":f=y;break;case"value":r=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error($(137,t));break;default:y!==h&&Ce(e,t,m,y,a,h)}}Nd(e,r,l,c,u,f,i,s);return;case"select":y=r=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":y=c;default:a.hasOwnProperty(i)||Ce(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=n[s],a.hasOwnProperty(s)&&(i!=null||c!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==c&&Ce(e,t,s,i,a,c)}t=l,n=r,a=y,m!=null?Ti(e,!!n,m,!1):!!a!=!!n&&(t!=null?Ti(e,!!n,t,!0):Ti(e,!!n,n?[]:"",!1));return;case"textarea":y=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ce(e,t,l,null,a,s)}for(r in a)if(s=a[r],i=n[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":m=s;break;case"defaultValue":y=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($(91));break;default:s!==i&&Ce(e,t,r,s,a,i)}_v(e,m,y);return;case"option":for(var E in n)if(m=n[E],n.hasOwnProperty(E)&&m!=null&&!a.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:Ce(e,t,E,null,a,m)}for(c in a)if(m=a[c],y=n[c],a.hasOwnProperty(c)&&m!==y&&(m!=null||y!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ce(e,t,c,m,a,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x)&&Ce(e,t,x,null,a,m);for(u in a)if(m=a[u],y=n[u],a.hasOwnProperty(u)&&m!==y&&(m!=null||y!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:Ce(e,t,u,m,a,y)}return;default:if(Xf(t)){for(var N in n)m=n[N],n.hasOwnProperty(N)&&m!==void 0&&!a.hasOwnProperty(N)&&af(e,t,N,void 0,a,m);for(f in a)m=a[f],y=n[f],!a.hasOwnProperty(f)||m===y||m===void 0&&y===void 0||af(e,t,f,m,a,y);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Ce(e,t,b,null,a,m);for(h in a)m=a[h],y=n[h],!a.hasOwnProperty(h)||m===y||m==null&&y==null||Ce(e,t,h,m,a,y)}function Dg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&Dg(r)){for(r=0,l=s.responseEnd,a+=1;a<n.length;a++){var c=n[a],u=c.startTime;if(u>l)break;var f=c.transferSize,h=c.initiatorType;f&&Dg(h)&&(c=c.responseEnd,r+=f*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sf=null,rf=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=null;function Fx(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(n1)}:O0;function n1(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function Mg(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Vi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Qr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Qr(n);for(var i=n.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[jl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Qr(e.ownerDocument.body);n=s}while(n);Vi(t)}function kg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":of(n),Kf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function a1(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rn(e.nextSibling),e===null)break}return null}function s1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rn(e.nextSibling),e===null))return null;return e}function N0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rn(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function uf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function i1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var df=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function A0(e,t,n){switch(t=hc(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function Qr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kf(e)}var Mn=new Map,$g=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Na=je.d;je.d={f:r1,r:l1,D:o1,C:c1,L:u1,m:d1,X:h1,S:f1,M:m1};function r1(){var e=Na.f(),t=Kc();return e||t}function l1(e){var t=Ji(e);t!==null&&t.tag===5&&t.type==="form"?Sp(t):Na.r(e)}var Fi=typeof document>"u"?null:document;function D0(e,t,n){var a=Fi;if(a&&typeof t=="string"&&t){var s=Nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),$g.has(s)||($g.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Ot(t,"link",e),_t(t),a.head.appendChild(t)))}}function o1(e){Na.D(e),D0("dns-prefetch",e,null)}function c1(e,t){Na.C(e,t),D0("preconnect",e,t)}function u1(e,t,n){Na.L(e,t,n);var a=Fi;if(a&&e&&t){var s='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Nn(n.imageSizes)+'"]')):s+='[href="'+Nn(e)+'"]';var i=s;switch(t){case"style":i=Yi(e);break;case"script":i=er(e)}Mn.has(i)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Rl(i))||t==="script"&&a.querySelector(Ml(i))||(t=a.createElement("link"),Ot(t,"link",e),_t(t),a.head.appendChild(t)))}}function d1(e,t){Na.m(e,t);var n=Fi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Nn(a)+'"][href="'+Nn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=er(e)}if(!Mn.has(i)&&(e=Ge({rel:"modulepreload",href:e},t),Mn.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ml(i)))return}a=n.createElement("link"),Ot(a,"link",e),_t(a),n.head.appendChild(a)}}}function f1(e,t,n){Na.S(e,t,n);var a=Fi;if(a&&e){var s=Ei(a).hoistableStyles,i=Yi(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Rl(i)))l.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(i))&&Ch(e,n);var c=r=a.createElement("link");_t(c),Ot(c,"link",e),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,$o(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function h1(e,t){Na.X(e,t);var n=Fi;if(n&&e){var a=Ei(n).hoistableScripts,s=er(e),i=a.get(s);i||(i=n.querySelector(Ml(s)),i||(e=Ge({src:e,async:!0},t),(t=Mn.get(s))&&Rh(e,t),i=n.createElement("script"),_t(i),Ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function m1(e,t){Na.M(e,t);var n=Fi;if(n&&e){var a=Ei(n).hoistableScripts,s=er(e),i=a.get(s);i||(i=n.querySelector(Ml(s)),i||(e=Ge({src:e,async:!0,type:"module"},t),(t=Mn.get(s))&&Rh(e,t),i=n.createElement("script"),_t(i),Ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Bg(e,t,n,a){var s=(s=Ja.current)?mc(s):null;if(!s)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Yi(n.href),n=Ei(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Yi(n.href);var i=Ei(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Rl(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),i||g1(s,e,n,r.state))),t&&a===null)throw Error($(528,""));return r}if(t&&a!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=er(n),n=Ei(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Yi(e){return'href="'+Nn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function C0(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ot(t,"link",n),_t(t),e.head.appendChild(t))}function er(e){return'[src="'+Nn(e)+'"]'}function Ml(e){return"script[async]"+e}function Lg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(a)return t.instance=a,_t(a),a;var s=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),_t(a),Ot(a,"style",s),$o(a,n.precedence,e),t.instance=a;case"stylesheet":s=Yi(n.href);var i=e.querySelector(Rl(s));if(i)return t.state.loading|=4,t.instance=i,_t(i),i;a=C0(n),(s=Mn.get(s))&&Ch(a,s),i=(e.ownerDocument||e).createElement("link"),_t(i);var r=i;return r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),Ot(i,"link",a),t.state.loading|=4,$o(i,n.precedence,e),t.instance=i;case"script":return i=er(n.src),(s=e.querySelector(Ml(i)))?(t.instance=s,_t(s),s):(a=n,(s=Mn.get(i))&&(a=Ge({},n),Rh(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),_t(s),Ot(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,$o(a,n.precedence,e));return t.instance}function $o(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ch(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bo=null;function Hg(e,t,n){if(Bo===null){var a=new Map,s=Bo=new Map;s.set(n,a)}else s=Bo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[jl]||i[Et]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(i):a.set(r,[i])}}return a}function qg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function y1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function R0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function v1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Yi(a.href),i=t.querySelector(Rl(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,_t(i);return}i=t.ownerDocument||t,a=C0(a),(s=Mn.get(s))&&Ch(a,s),i=i.createElement("link"),_t(i);var r=i;r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),Ot(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=gc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var nd=0;function p1(e,t){return e.stylesheets&&e.count===0&&Lo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Lo(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&nd===0&&(nd=62500*Wx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lo(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>nd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function Lo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,t.forEach(b1,e),yc=null,gc.call(e))}function b1(e,t){if(!(t.state.loading&4)){var n=yc.get(e);if(n)var a=n.get(null);else{n=new Map,yc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,s),n.set(r,s),this.count++,a=gc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var fl={$$typeof:va,Provider:null,Consumer:null,_currentValue:Rs,_currentValue2:Rs,_threadCount:0};function _1(e,t,n,a,s,i,r,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.hiddenUpdates=Tu(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function M0(e,t,n,a,s,i,r,l,c,u,f,h){return e=new _1(e,t,n,r,c,u,f,h,l),t=1,i===!0&&(t|=24),i=cn(3,null,null,t),e.current=i,i.stateNode=e,t=sh(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},lh(i),e}function k0(e){return e?(e=_i,e):_i}function U0(e,t,n,a,s,i){s=k0(s),a.context===null?a.context=s:a.pendingContext=s,a=Pa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Wa(e,a,t),n!==null&&(Pt(n,e,t),Hr(n,e,t))}function Yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mh(e,t){Yg(e,t),(e=e.alternate)&&Yg(e,t)}function z0(e){if(e.tag===13||e.tag===31){var t=Gs(e,67108864);t!==null&&Pt(t,e,67108864),Mh(e,67108864)}}function Vg(e){if(e.tag===13||e.tag===31){var t=yn();t=If(t);var n=Gs(e,t);n!==null&&Pt(n,e,t),Mh(e,t)}}var vc=!0;function w1(e,t,n,a){var s=F.T;F.T=null;var i=je.p;try{je.p=2,kh(e,t,n,a)}finally{je.p=i,F.T=s}}function S1(e,t,n,a){var s=F.T;F.T=null;var i=je.p;try{je.p=8,kh(e,t,n,a)}finally{je.p=i,F.T=s}}function kh(e,t,n,a){if(vc){var s=ff(a);if(s===null)ed(e,t,a,pc,n),Ig(e,a);else if(E1(s,e,t,n,a))a.stopPropagation();else if(Ig(e,a),t&4&&-1<x1.indexOf(e)){for(;s!==null;){var i=Ji(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Es(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var c=1<<31-gn(r);l.entanglements[1]|=c,r&=~c}sa(i),!(Te&6)&&(lc=hn()+500,Cl(0))}}break;case 31:case 13:l=Gs(i,2),l!==null&&Pt(l,i,2),Kc(),Mh(i,2)}if(i=ff(a),i===null&&ed(e,t,a,pc,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else ed(e,t,a,null,n)}}function ff(e){return e=Qf(e),Uh(e)}var pc=null;function Uh(e){if(pc=null,e=mi(e),e!==null){var t=Sl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=nv(t),e!==null)return e;e=null}else if(n===31){if(e=av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pc=e,null}function $0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oS()){case lv:return 2;case ov:return 8;case Xo:case cS:return 32;case cv:return 268435456;default:return 32}default:return 32}}var hf=!1,ts=null,ns=null,as=null,hl=new Map,ml=new Map,Ya=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ig(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function Or(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ji(t),t!==null&&z0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E1(e,t,n,a,s){switch(t){case"focusin":return ts=Or(ts,e,t,n,a,s),!0;case"dragenter":return ns=Or(ns,e,t,n,a,s),!0;case"mouseover":return as=Or(as,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return hl.set(i,Or(hl.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,ml.set(i,Or(ml.get(i)||null,e,t,n,a,s)),!0}return!1}function B0(e){var t=mi(e.target);if(t!==null){var n=Sl(t);if(n!==null){if(t=n.tag,t===13){if(t=nv(n),t!==null){e.blockedOn=t,Nm(e.priority,function(){Vg(n)});return}}else if(t===31){if(t=av(n),t!==null){e.blockedOn=t,Nm(e.priority,function(){Vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ff(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Dd=a,n.target.dispatchEvent(a),Dd=null}else return t=Ji(n),t!==null&&z0(t),e.blockedOn=n,!1;t.shift()}return!0}function Gg(e,t,n){Ho(e)&&n.delete(t)}function T1(){hf=!1,ts!==null&&Ho(ts)&&(ts=null),ns!==null&&Ho(ns)&&(ns=null),as!==null&&Ho(as)&&(as=null),hl.forEach(Gg),ml.forEach(Gg)}function co(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,T1)))}var uo=null;function Kg(e){uo!==e&&(uo=e,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Uh(a||n)===null)continue;break}var i=Ji(n);i!==null&&(e.splice(t,3),t-=3,Kd(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Vi(e){function t(c){return co(c,e)}ts!==null&&co(ts,e),ns!==null&&co(ns,e),as!==null&&co(as,e),hl.forEach(t),ml.forEach(t);for(var n=0;n<Ya.length;n++){var a=Ya[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&Ya.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],r=s[Wt]||null;if(typeof i=="function")r||Kg(n);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Wt]||null)l=r.formAction;else if(Uh(s)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Kg(n)}}}function L0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function zh(e){this._internalRoot=e}Jc.prototype.render=zh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,a=yn();U0(n,a,e,t,null,null)};Jc.prototype.unmount=zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;U0(e.current,2,null,e,null,null),Kc(),t[Qi]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=mv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&B0(e)}};var Xg=ev.version;if(Xg!=="19.2.0")throw Error($(527,Xg,"19.2.0"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=tS(t),e=e!==null?sv(e):null,e=e===null?null:e.stateNode,e};var j1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{xl=fo.inject(j1),mn=fo}catch{}}Rc.createRoot=function(e,t){if(!tv(e))throw Error($(299));var n=!1,a="",s=Dp,i=Cp,r=Rp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=M0(e,1,!1,null,null,n,a,null,s,i,r,L0),e[Qi]=t.current,Dh(e),new zh(t)};Rc.hydrateRoot=function(e,t,n){if(!tv(e))throw Error($(299));var a=!1,s="",i=Dp,r=Cp,l=Rp,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=M0(e,1,!0,t,n??null,a,s,c,i,r,l,L0),t.context=k0(null),n=t.current,a=yn(),a=If(a),s=Pa(a),s.callback=null,Wa(n,s,a),n=a,t.current.lanes=n,Tl(t,n),sa(t),e[Qi]=t.current,Dh(e),new Jc(t)};Rc.version="19.2.0";function H0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H0)}catch(e){console.error(e)}}H0(),Qy.exports=Rc;var O1=Qy.exports,mf=function(e,t){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},mf(e,t)};function q0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var bc=function(){return bc=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bc.apply(this,arguments)};function tr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Y0(e,t,n,a){var s=arguments.length,i=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function V0(e,t){return function(n,a){t(n,a,e)}}function I0(e,t,n,a,s,i){function r(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,y=n.length-1;y>=0;y--){var E={};for(var x in a)E[x]=x==="access"?{}:a[x];for(var x in a.access)E.access[x]=a.access[x];E.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(b||null))};var N=(0,n[y])(l==="accessor"?{get:f.get,set:f.set}:f[c],E);if(l==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(h=r(N.get))&&(f.get=h),(h=r(N.set))&&(f.set=h),(h=r(N.init))&&s.unshift(h)}else(h=r(N))&&(l==="field"?s.unshift(h):f[c]=h)}u&&Object.defineProperty(u,a.name,f),m=!0}function G0(e,t,n){for(var a=arguments.length>2,s=0;s<t.length;s++)n=a?t[s].call(e,n):t[s].call(e);return a?n:void 0}function K0(e){return typeof e=="symbol"?e:"".concat(e)}function X0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Q0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,n,a){function s(i){return i instanceof n?i:new n(function(r){r(i)})}return new(n||(n=Promise))(function(i,r){function l(f){try{u(a.next(f))}catch(h){r(h)}}function c(f){try{u(a.throw(f))}catch(h){r(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}function J0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return c([u,f])}}function c(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Zc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function Z0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Zc(t,e,n)}function _c(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $h(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function P0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($h(arguments[t]));return e}function W0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)a[s]=i[r];return a}function F0(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Ii(e){return this instanceof Ii?(this.v=e,this):new Ii(e)}function eb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(y){return function(E){return Promise.resolve(E).then(y,h)}}function l(y,E){a[y]&&(s[y]=function(x){return new Promise(function(N,b){i.push([y,x,N,b])>1||c(y,x)})},E&&(s[y]=E(s[y])))}function c(y,E){try{u(a[y](E))}catch(x){m(i[0][3],x)}}function u(y){y.value instanceof Ii?Promise.resolve(y.value.v).then(f,h):m(i[0][2],y)}function f(y){c("next",y)}function h(y){c("throw",y)}function m(y,E){y(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function tb(e){var t,n;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,i){t[s]=e[s]?function(r){return(n=!n)?{value:Ii(e[s](r)),done:!1}:i?i(r):r}:i}}function nb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof _c=="function"?_c(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(r){return new Promise(function(l,c){r=e[i](r),s(l,c,r.done,r.value)})}}function s(i,r,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},r)}}function ab(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var N1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},gf=function(e){return gf=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},gf(e)};function sb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=gf(e),a=0;a<n.length;a++)n[a]!=="default"&&Zc(t,e,n[a]);return N1(t,e),t}function ib(e){return e&&e.__esModule?e:{default:e}}function rb(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function lb(e,t,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function ob(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function cb(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var A1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function ub(e){function t(i){e.error=e.hasError?new A1(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function db(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,r){return a?t?".jsx":".js":s&&(!i||!r)?n:s+i+"."+r.toLowerCase()+"js"}):e}const D1={__extends:q0,__assign:bc,__rest:tr,__decorate:Y0,__param:V0,__esDecorate:I0,__runInitializers:G0,__propKey:K0,__setFunctionName:X0,__metadata:Q0,__awaiter:Q,__generator:J0,__createBinding:Zc,__exportStar:Z0,__values:_c,__read:$h,__spread:P0,__spreadArrays:W0,__spreadArray:F0,__await:Ii,__asyncGenerator:eb,__asyncDelegator:tb,__asyncValues:nb,__makeTemplateObject:ab,__importStar:sb,__importDefault:ib,__classPrivateFieldGet:rb,__classPrivateFieldSet:lb,__classPrivateFieldIn:ob,__addDisposableResource:cb,__disposeResources:ub,__rewriteRelativeImportExtension:db},C1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cb,get __assign(){return bc},__asyncDelegator:tb,__asyncGenerator:eb,__asyncValues:nb,__await:Ii,__awaiter:Q,__classPrivateFieldGet:rb,__classPrivateFieldIn:ob,__classPrivateFieldSet:lb,__createBinding:Zc,__decorate:Y0,__disposeResources:ub,__esDecorate:I0,__exportStar:Z0,__extends:q0,__generator:J0,__importDefault:ib,__importStar:sb,__makeTemplateObject:ab,__metadata:Q0,__param:V0,__propKey:K0,__read:$h,__rest:tr,__rewriteRelativeImportExtension:db,__runInitializers:G0,__setFunctionName:X0,__spread:P0,__spreadArray:F0,__spreadArrays:W0,__values:_c,default:D1},Symbol.toStringTag,{value:"Module"})),R1="modulepreload",M1=function(e){return"/todo-note/"+e},Qg={},nr=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=M1(c),c in Qg)return;Qg[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":R1,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},k1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Bh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Jg extends Bh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zg extends Bh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Pg extends Bh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yf||(yf={}));class U1{constructor(t,{headers:n={},customFetch:a,region:s=yf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=k1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:r,body:l,signal:c}=a;let u={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const y=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new Jg(b)}),E=y.headers.get("x-relay-error");if(E&&E==="true")throw new Zg(y);if(!y.ok)throw new Pg(y);let x=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return x==="application/json"?N=yield y.json():x==="application/octet-stream"||x==="application/pdf"?N=yield y.blob():x==="text/event-stream"?N=y:x==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Jg(i)}:{data:null,error:i,response:i instanceof Pg||i instanceof Zg?i.context:void 0}}})}}var $t={};const ar=By(C1);var ho={},mo={},go={},yo={},vo={},z1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=z1();const $1=Gi.fetch,fb=Gi.fetch.bind(Gi),hb=Gi.Headers,B1=Gi.Request,L1=Gi.Response,Xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:hb,Request:B1,Response:L1,default:fb,fetch:$1},Symbol.toStringTag,{value:"Module"})),H1=By(Xs);var po={},Wg;function mb(){if(Wg)return po;Wg=1,Object.defineProperty(po,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return po.default=e,po}var Fg;function gb(){if(Fg)return vo;Fg=1,Object.defineProperty(vo,"__esModule",{value:!0});const e=ar,t=e.__importDefault(H1),n=e.__importDefault(mb());class a{constructor(i){var r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,m,y;let E=null,x=null,N=null,b=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=A:x=JSON.parse(A))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),T=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&T&&T.length>1&&(N=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(E={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,N=null,b=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await u.text();try{E=JSON.parse(S),Array.isArray(E)&&u.status===404&&(x=[],E=null,b=200,g="OK")}catch{u.status===404&&S===""?(b=204,g="No Content"):E={message:S}}if(E&&this.isMaybeSingle&&(!((y=E==null?void 0:E.details)===null||y===void 0)&&y.includes("0 rows"))&&(E=null,b=200,g="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:x,count:N,status:b,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,h,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,r)}returns(){return this}overrideTypes(){return this}}return vo.default=a,vo}var ey;function yb(){if(ey)return yo;ey=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=ar.__importDefault(gb());class n extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return yo.default=n,yo}var ty;function Lh(){if(ty)return go;ty=1,Object.defineProperty(go,"__esModule",{value:!0});const t=ar.__importDefault(yb()),n=new RegExp("[,()]");class a extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${f}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return go.default=a,go}var ny;function vb(){if(ny)return mo;ny=1,Object.defineProperty(mo,"__esModule",{value:!0});const t=ar.__importDefault(Lh());class n{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},c=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(h.length>0){const m=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return mo.default=n,mo}var ay;function q1(){if(ay)return ho;ay=1,Object.defineProperty(ho,"__esModule",{value:!0});const e=ar,t=e.__importDefault(vb()),n=e.__importDefault(Lh());class a{constructor(i,{headers:r={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:c=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let y;l||c?(h=l?"HEAD":"GET",Object.entries(r).filter(([x,N])=>N!==void 0).map(([x,N])=>[x,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([x,N])=>{m.searchParams.append(x,N)})):(h="POST",y=r);const E=new Headers(this.headers);return u&&E.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:E,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ho.default=a,ho}Object.defineProperty($t,"__esModule",{value:!0});var pb=$t.PostgrestError=Nb=$t.PostgrestBuilder=jb=$t.PostgrestTransformBuilder=Eb=$t.PostgrestFilterBuilder=Sb=$t.PostgrestQueryBuilder=_b=$t.PostgrestClient=void 0;const sr=ar,bb=sr.__importDefault(q1());var _b=$t.PostgrestClient=bb.default;const wb=sr.__importDefault(vb());var Sb=$t.PostgrestQueryBuilder=wb.default;const xb=sr.__importDefault(Lh());var Eb=$t.PostgrestFilterBuilder=xb.default;const Tb=sr.__importDefault(yb());var jb=$t.PostgrestTransformBuilder=Tb.default;const Ob=sr.__importDefault(gb());var Nb=$t.PostgrestBuilder=Ob.default;const Ab=sr.__importDefault(mb());pb=$t.PostgrestError=Ab.default;var Db=$t.default={PostgrestClient:bb.default,PostgrestQueryBuilder:wb.default,PostgrestFilterBuilder:xb.default,PostgrestTransformBuilder:Tb.default,PostgrestBuilder:Ob.default,PostgrestError:Ab.default};const Y1=Dw({__proto__:null,get PostgrestBuilder(){return Nb},get PostgrestClient(){return _b},get PostgrestError(){return pb},get PostgrestFilterBuilder(){return Eb},get PostgrestQueryBuilder(){return Sb},get PostgrestTransformBuilder(){return jb},default:Db},[$t]),{PostgrestClient:V1,PostgrestQueryBuilder:XO,PostgrestFilterBuilder:QO,PostgrestTransformBuilder:JO,PostgrestBuilder:ZO,PostgrestError:PO}=Db||Y1;class I1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const G1="2.78.0",K1=`realtime-js/${G1}`,X1="1.0.0",vf=1e4,Q1=1e3,J1=100;var Jr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jr||(Jr={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var pf;(function(e){e.websocket="websocket"})(pf||(pf={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class Z1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+s));r=r+s;const c=a.decode(t.slice(r,r+i));r=r+i;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Cb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const sy=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=P1(r,e,t,s),i),{}):{}},P1=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=n[e];return i&&!a.includes(i)?Rb(i,r):bf(r)},Rb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tE(t,n)}switch(e){case ze.bool:return W1(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return F1(t);case ze.json:case ze.jsonb:return eE(t);case ze.timestamp:return nE(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return bf(t);default:return bf(t)}},bf=e=>e,W1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>Rb(t,l))}return e},nE=e=>typeof e=="string"?e.replace(" ","T"):e,Mb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ad{constructor(t,n,a={},s=vf){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iy||(iy={}));class Zr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,s,i,r),this.pendingDiffs.forEach(c=>{this.state=Zr.syncDiff(this.state,c,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zr.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),r=this.transformState(n),l={},c={};return this.map(i,(u,f)=>{r[u]||(c[u]=f)}),this.map(r,(u,f)=>{const h=i[u];if(h){const m=f.map(N=>N.presence_ref),y=h.map(N=>N.presence_ref),E=f.filter(N=>y.indexOf(N.presence_ref)<0),x=h.filter(N=>m.indexOf(N.presence_ref)<0);E.length>0&&(l[u]=E),x.length>0&&(c[u]=x)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(y=>y.presence_ref),m=f.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...m)}a(l,f,c)}),this.map(r,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ry;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ry||(ry={}));var Pr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pr||(Pr={}));var ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class Hh{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new Cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Zr(this),this.broadcastEndpointURL=Mb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:r,presence:l,private:c}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Pr.PRESENCE]&&this.bindings[Pr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(ma.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket.setAuth(),y===void 0){t==null||t(ma.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(E=x==null?void 0:x.length)!==null&&E!==void 0?E:0,b=[];for(let g=0;g<N;g++){const p=x[g],{filter:{event:S,schema:T,table:A,filter:j}}=p,M=y&&y[g];if(M&&M.event===S&&M.schema===T&&M.table===A&&M.filter===j)b.push(Object.assign(Object.assign({},p),{id:M.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ma.SUBSCRIBED);return}}).receive("error",y=>{this.state=ht.errored,t==null||t(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ht.joined&&t===Pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new ad(this,Yn.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ad(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>J1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Yn;if(a&&[l,c,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let m=this._onMessage(r,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var E,x,N;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(x=y.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===r}).map(y=>y.callback(m,a)):(i=this.bindings[r])===null||i===void 0||i.filter(y=>{var E,x,N,b,g,p;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in y){const S=y.id,T=(E=y.filter)===null||E===void 0?void 0:E.event;return S&&((x=n.ids)===null||x===void 0?void 0:x.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const S=(g=(b=y==null?void 0:y.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===r}).map(y=>{if(typeof m=="object"&&"ids"in m){const E=m.data,{schema:x,table:N,commit_timestamp:b,type:g,errors:p}=E;m=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:b,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(E))}y.callback(m,a)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Hh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sy(t.columns,t.old_record)),n}}const sd=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aE=[1e3,2e3,5e3,1e4],sE=1e4,iE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rE{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vf,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sd,this.ref=0,this.reconnectTimer=null,this.logger=sd,this.conn=null,this.sendBuffer=[],this.serializer=new Z1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>nr(async()=>{const{default:l}=await Promise.resolve().then(()=>Xs);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...r)=>i(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${pf.websocket}`,this.httpEndpoint=Mb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return Ns.Connecting;case Jr.open:return Ns.Open;case Jr.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new Hh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Q1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:r}=n,l=r?`(${r})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([iE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:K1};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Cb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,r,l,c,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:vf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:bo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:sd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>aE[h-1]||sE,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class qh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lE extends qh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _f extends qh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},oE=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nr(()=>Promise.resolve().then(()=>Xs),void 0)).Response:Response}),wf=e=>{if(Array.isArray(e))return e.map(n=>wf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wf(a)}),t},cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},id=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){const a=yield oE();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new lE(id(s),i,r))}).catch(s=>{t(new _f(id(s),s))}):t(new _f(id(e),e))}),dE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(cE(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function kl(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,dE(t,a,s,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>uE(c,l,a))})})}function gl(e,t,n,a){return Q(this,void 0,void 0,function*(){return kl(e,"GET",t,n,a)})}function Hn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return kl(e,"POST",t,a,s,n)})}function Sf(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return kl(e,"PUT",t,a,s,n)})}function fE(e,t,n,a){return Q(this,void 0,void 0,function*(){return kl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Vh(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return kl(e,"DELETE",t,a,s,n)})}class hE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}}var kb;class mE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new hE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}}kb=Symbol.toStringTag;const gE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ly={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yE{constructor(t,n={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Yh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,s){return Q(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},ly),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",r.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?Sf:Hn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}upload(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,s){return Q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ly.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl)):(c=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield Sf(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Hn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new qh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}update(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}copy(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,a){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>gl(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new mE(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield gl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}exists(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a)&&a instanceof _f){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}list(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gE),n),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listV2(t,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ub="2.78.0",zb={"X-Client-Info":`storage-js/${Ub}`};class vE{constructor(t,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zb),n),this.fetch=Yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield gl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createBucket(t){return Q(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class pE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zb),n),this.fetch=Yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield gl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}const Ih={"X-Client-Info":`storage-js/${Ub}`,"Content-Type":"application/json"};class $b extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function un(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class rd extends $b{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bE extends $b{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var oy;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oy||(oy={}));const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},_E=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new rd(cy(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new rd(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new rd(l,s,r))}}else t(new bE(cy(e),e))}),SE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(_E(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function xE(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,SE(t,a,s,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>r(c)).catch(c=>wE(c,l,a))})})}function dn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return xE(e,"POST",t,a,s,n)})}class EE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ih),n),this.fetch=Gh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}}class TE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ih),n),this.fetch=Gh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield dn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield dn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield dn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}}class jE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ih),n),this.fetch=Gh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield dn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}}class OE extends jE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new NE(this.url,this.headers,t,this.fetch)}}class NE extends EE{constructor(t,n,a,s){super(t,n,s),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new AE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class AE extends TE{constructor(t,n,a,s,i){super(t,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class DE extends vE{constructor(t,n={},a,s){super(t,n,a,s)}from(t){return new yE(this.url,this.headers,t,this.fetch)}get vectors(){return new OE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pE(this.url+"/iceberg",this.headers,this.fetch)}}const CE="2.78.0";let Mr="";typeof Deno<"u"?Mr="deno":typeof document<"u"?Mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mr="react-native":Mr="node";const RE={"X-Client-Info":`supabase-js-${Mr}/${CE}`},ME={headers:RE},kE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zE={},$E=e=>{let t;return e?t=e:typeof fetch>"u"?t=fb:t=fetch,(...n)=>t(...n)},BE=()=>typeof Headers>"u"?hb:Headers,LE=(e,t,n)=>{const a=$E(n),s=BE();return async(i,r)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},r),{headers:u}))}};function HE(e){return e.endsWith("/")?e:e+"/"}function qE(e,t){var n,a;const{db:s,auth:i,realtime:r,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function YE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bb="2.78.0",ci=30*1e3,xf=3,ld=xf*ci,VE="http://localhost:9999",IE="supabase.auth.token",GE={"X-Client-Info":`gotrue-js/${Bb}`},Ef="X-Supabase-Api-Version",Lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XE=10*60*1e3;class yl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QE extends yl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function JE(e){return Z(e)&&e.name==="AuthApiError"}class As extends yl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ds extends yl{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class Bn extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZE(e){return Z(e)&&e.name==="AuthSessionMissingError"}class ti extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _o extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wo extends ds{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PE(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class uy extends ds{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tf extends ds{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function od(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class dy extends ds{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class jf extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fy=` 	
\r=`.split(""),WE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fy.length;t+=1)e[fy[t].charCodeAt(0)]=-2;for(let t=0;t<wc.length;t+=1)e[wc[t].charCodeAt(0)]=t;return e})();function hy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(wc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(wc[a]),t.queuedBits-=6}}function Hb(e,t,n){const a=WE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function my(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{tT(r,a,n)};for(let r=0;r<e.length;r+=1)Hb(e.charCodeAt(r),s,i);return t.join("")}function FE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eT(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}FE(a,t)}}function tT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ci(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hb(e.charCodeAt(s),n,a);return new Uint8Array(t)}function nT(e){const t=[];return eT(e,n=>t.push(n)),new Uint8Array(t)}function Cs(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>hy(s,n,a)),hy(null,n,a),t.join("")}function aT(e){return Math.round(Date.now()/1e3)+e}function sT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},qb=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function iT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const Yb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},rT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ui=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ss=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ka=async(e,t)=>{await e.removeItem(t)};class Pc{constructor(){this.promise=new Pc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pc.promiseConstructor=Promise;function cd(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!KE.test(t[a]))throw new jf("JWT not in base64url format");return{header:JSON.parse(my(t[0])),payload:JSON.parse(my(t[1])),signature:Ci(t[2]),raw:{header:t[0],payload:t[1]}}}async function lT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oT(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){a(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function cT(e){return("0"+e.toString(16)).substr(-2)}function uT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,cT).join("")}async function dT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function fT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ni(e,t,n=!1){const a=uT();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await ui(e,`${t}-code-verifier`,s);const i=await fT(a);return[i,a===i?"plain":"s256"]}const hT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mT(e){const t=e.headers.get(Ef);if(!t||!t.match(hT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ai(e){if(!vT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ud(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pT(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function gy(e){return JSON.parse(JSON.stringify(e))}const Os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bT=[502,503,504];async function yy(e){var t;if(!rT(e))throw new Tf(Os(e),0);if(bT.includes(e.status))throw new Tf(Os(e),e.status);let n;try{n=await e.json()}catch(i){throw new As(Os(i),i)}let a;const s=mT(e);if(s&&s.getTime()>=Lb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new dy(Os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new dy(Os(n),e.status,n.weak_password.reasons);throw new QE(Os(n),e.status||500,a)}const _T=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function W(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[Ef]||(i[Ef]=Lb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const r=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await wT(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function wT(e,t,n,a,s,i){const r=_T(t,a,s,i);let l;try{l=await e(n,Object.assign({},r))}catch(c){throw console.error(c),new Tf(Os(c),0)}if(l.ok||await yy(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await yy(c)}}function Ln(e){var t;let n=null;ET(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aT(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function vy(e){const t=Ln(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ST(e){return{data:e,error:null}}function xT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,r=tr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},r);return{data:{properties:l,user:c},error:null}}function py(e){return e}function ET(e){return e.access_token&&e.refresh_token&&e.expires_in}const dd=["global","local","others"];class TT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Yb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=dd[0]){if(dd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Va})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=tr(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Va})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:py});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ai(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Va})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ai(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Va})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ai(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Va})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ai(t.userId);try{const{data:n,error:a}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ai(t.userId),ai(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:py});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function by(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const si={debug:!!(globalThis&&qb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jT extends Vb{}async function OT(e,t,n){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(si.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ib(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AT(e){return parseInt(e,16)}function DT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function CT(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:c,resources:u,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Ib(e.address),E=f?`${f}://${a}`:a,x=e.statement?`${e.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${y}

${x}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);g+=`
- ${p}`}b+=g}return`${N}
${b}`}class it extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Sc extends it{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RT({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Gb(r)){if(i.rp.id!==r)return new it({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Gb(a)){if(n.rpId!==a)return new it({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const UT=new kT;function zT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=tr(e,["challenge","user","excludeCredentials"]),i=Ci(t).buffer,r=Object.assign(Object.assign({},n),{id:Ci(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ci(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function $T(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=tr(e,["challenge","allowCredentials"]),s=Ci(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Ci(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function BT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cs(new Uint8Array(s.authenticatorData)),clientDataJSON:Cs(new Uint8Array(s.clientDataJSON)),signature:Cs(new Uint8Array(s.signature)),userHandle:s.userHandle?Cs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _y(){var e,t;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",t)}:{data:null,error:new Sc("Empty credential response",t)}}catch(t){return{data:null,error:RT({error:t,options:e})}}}async function qT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",t)}:{data:null,error:new Sc("Empty credential response",t)}}catch(t){return{data:null,error:MT({error:t,options:e})}}}const YT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VT={userVerification:"preferred",hints:["security-key"]};function xc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))a[i]=r;else if(n(r))a[i]=r;else if(t(r)){const l=a[i];t(l)?a[i]=xc(l,r):a[i]=xc(r)}else a[i]=r}return a}function IT(e,t){return xc(YT,e,t||{})}function GT(e,t){return xc(VT,e,t||{})}class KT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const c=s??UT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=IT(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await HT({publicKey:u,signal:c});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=GT(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await qT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new yl("rpId is required for WebAuthn authentication")};try{if(!_y())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:c}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:a,credential_response:c.credential_response}})}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new yl("rpId is required for WebAuthn registration")};try{if(!_y())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:r.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in register",r)}}}}NT();const XT={url:VE,storageKey:IE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wy(e,t,n){return await n()}const ii={};class vl{get jwks(){var t,n;return(n=(t=ii[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ii[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vl.nextInstanceID,vl.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},XT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new TT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yb(s.fetch),this.lock=s.lock||wy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=OT:this.lock=wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=by(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=by(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=iT(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ut()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PE(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new As("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ln}),{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:f,password:h,options:m}=t;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ni(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:E},xform:Ln})}else if("phone"in t){const{phone:f,password:h,options:m}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ln})}else throw new _o("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vy})}else if("phone"in t){const{phone:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vy})}else throw new _o("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ti}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,r,l,c,u,f,h,m;let y,E;if("message"in t)y=t.message,E=t.signature;else{const{chain:x,wallet:N,statement:b,options:g}=t;let p;if(Ut())if(typeof N=="object")p=N;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")p=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=N}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Ib(T[0]);let j=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!j){const U=await p.request({method:"eth_chainId"});j=AT(U)}const M={domain:S.host,address:A,statement:b,uri:S.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=g==null?void 0:g.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=CT(M),E=await p.request({method:"personal_sign",params:[DT(y),A]})}try{const{data:x,error:N}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ln});if(N)throw N;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ti}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:N})}catch(x){if(Z(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var n,a,s,i,r,l,c,u,f,h,m,y;let E,x;if("message"in t)E=t.message,x=t.signature;else{const{chain:N,wallet:b,statement:g,options:p}=t;let S;if(Ut())if(typeof b=="object")S=b;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const T=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let j;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")j=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)j=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)E=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(a=p==null?void 0:p.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((r=p==null?void 0:p.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(f=p==null?void 0:p.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(E),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=A}}try{const{data:N,error:b}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Cs(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ln});if(b)throw b;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ti}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:b})}catch(N){if(Z(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:r}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ln});if(await ka(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:r}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ln}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ti}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,s,i,r;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ni(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new _o("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ln});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,u=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,a,s;try{let i=null,r=null;return this.flowType==="pkce"&&([i,r]=await ni(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:ST})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Bn;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:r}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:r,error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new _o("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await Ss(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=ud()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=pT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Va}):await this._useSession(async n=>{var a,s,i;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Va})})}catch(n){if(Z(n))return ZE(n)&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Bn;const r=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ni(this.storage,this.storageKey));const{data:u,error:f}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:r.access_token,xform:Va});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:r}=cd(t.access_token);if(r.exp&&(a=r.exp,s=a<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ut())throw new wo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uy("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!r||!u)throw new wo("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let m=f+h;c&&(m=parseInt(c));const y=m-f;y*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const E=m-h;f-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,m,f):f-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,m,f);const{data:x,error:N}=await this._getUser(i);if(N)throw N;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:r,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(Z(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const r=(a=s.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(JE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=sT(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await ni(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var r,l,c,u,f;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Z(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:r,provider:l,token:c,access_token:u,nonce:f}=t,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ln}),{data:m,error:y}=h;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ti}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:y})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)throw r;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await oT(async s=>(s>0&&await lT(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(s,i)=>{const r=200*Math.pow(2,s);return i&&od(i)&&Date.now()+r-a<ci})}catch(a){if(this._debug(n,"error",a),Z(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ut()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Ss(this.storage,this.storageKey);if(s&&this.userStorage){let r=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await ui(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:ud()}else if(s&&!s.user&&!s.user){const r=await Ss(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await ka(this.storage,this.storageKey+"-user"),await ui(this.storage,this.storageKey,s)):s.user=ud()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ld;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${ld}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),od(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pc;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Z(i)){const r={data:null,error:i};return od(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ui(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=gy(s);await ui(this.storage,this.storageKey,i)}else{const s=gy(n);await ui(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ka(this.storage,this.storageKey),await ka(this.storage,this.storageKey+"-code-verifier"),await ka(this.storage,this.storageKey+"-user"),this.userStorage&&await ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ci}ms, refresh threshold is ${xf} ticks`),s<=xf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,r]=await ni(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BT(t.webauthn.credential_response):LT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$T(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cd(a.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Bn}})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Bn};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Bn};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+XE>s)return a;const{data:i,error:r}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return{data:null,error:E};a=y.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:c}}=cd(a);n!=null&&n.allowExpired||gT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:s,signature:r},error:null}}const f=yT(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,r,nT(`${l}.${c}`)))throw new jf("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}}vl.nextInstanceID=0;const QT=vl;class JT extends QT{constructor(t){super(t)}}class ZT{constructor(t,n,a){var s,i,r;this.supabaseUrl=t,this.supabaseKey=n;const l=YE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:kE,realtime:zE,auth:Object.assign(Object.assign({},UE),{storageKey:c}),global:ME},f=qE(a??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=LE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new V1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new DE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new U1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:r,flowType:l,lock:c,debug:u},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PT=(e,t,n)=>new ZT(e,t,n);function WT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FT="https://vqpubtahhvtkftafdlrp.supabase.co",ej="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",q=PT(FT,ej);function tj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const Wc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ir(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Kh(e){return"nodeType"in e}function Ht(e){var t,n;return e?ir(e)?e:Kh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Xh(e){const{Document:t}=Ht(e);return e instanceof t}function Ul(e){return ir(e)?!1:e instanceof Ht(e).HTMLElement}function Kb(e){return e instanceof Ht(e).SVGElement}function rr(e){return e?ir(e)?e.document:Kh(e)?Xh(e)?e:Ul(e)||Kb(e)?e.ownerDocument:document:document:document}const Vn=Wc?w.useLayoutEffect:w.useEffect;function Fc(e){const t=w.useRef(e);return Vn(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function nj(){const e=w.useRef(null),t=w.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function pl(e,t){t===void 0&&(t=[e]);const n=w.useRef(e);return Vn(()=>{n.current!==e&&(n.current=e)},t),n}function zl(e,t){const n=w.useRef();return w.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Ec(e){const t=Fc(e),n=w.useRef(null),a=w.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function Tc(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let fd={};function $l(e,t){return w.useMemo(()=>{if(t)return t;const n=fd[e]==null?0:fd[e]+1;return fd[e]=n,e+"-"+n},[e,t])}function Xb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,r)=>{const l=Object.entries(r);for(const[c,u]of l){const f=i[c];f!=null&&(i[c]=f+e*u)}return i},{...t})}}const Ri=Xb(1),bl=Xb(-1);function aj(e){return"clientX"in e&&"clientY"in e}function eu(e){if(!e)return!1;const{KeyboardEvent:t}=Ht(e.target);return t&&e instanceof t}function sj(e){if(!e)return!1;const{TouchEvent:t}=Ht(e.target);return t&&e instanceof t}function jc(e){if(sj(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return aj(e)?{x:e.clientX,y:e.clientY}:null}const os=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[os.Translate.toString(e),os.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Sy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ij(e){return e.matches(Sy)?e:e.querySelector(Sy)}const rj={display:"none"};function lj(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:rj},n)}function oj(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function cj(){const[e,t]=w.useState("");return{announce:w.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Qb=w.createContext(null);function uj(e){const t=w.useContext(Qb);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function dj(){const[e]=w.useState(()=>new Set),t=w.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[w.useCallback(a=>{let{type:s,event:i}=a;e.forEach(r=>{var l;return(l=r[s])==null?void 0:l.call(r,i)})},[e]),t]}const fj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},hj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function mj(e){let{announcements:t=hj,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=fj}=e;const{announce:i,announcement:r}=cj(),l=$l("DndLiveRegion"),[c,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),uj(w.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:y}=h;t.onDragMove&&i(t.onDragMove({active:m,over:y}))},onDragOver(h){let{active:m,over:y}=h;i(t.onDragOver({active:m,over:y}))},onDragEnd(h){let{active:m,over:y}=h;i(t.onDragEnd({active:m,over:y}))},onDragCancel(h){let{active:m,over:y}=h;i(t.onDragCancel({active:m,over:y}))}}),[i,t])),!c)return null;const f=$e.createElement($e.Fragment,null,$e.createElement(lj,{id:a,value:s.draggable}),$e.createElement(oj,{id:l,announcement:r}));return n?di.createPortal(f,n):f}var mt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mt||(mt={}));function Oc(){}function $a(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Of(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const In=Object.freeze({x:0,y:0});function Jb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gj(e,t){const n=jc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Zb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function yj(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function xy(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function Pb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ey(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Nf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=Ey(t,t.left,t.top),i=[];for(const r of a){const{id:l}=r,c=n.get(l);if(c){const u=Jb(Ey(c),s);i.push({id:l,data:{droppableContainer:r,value:u}})}}return i.sort(Zb)},vj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=xy(t),i=[];for(const r of a){const{id:l}=r,c=n.get(l);if(c){const u=xy(c),f=s.reduce((m,y,E)=>m+Jb(u[E],y),0),h=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:r,value:h}})}}return i.sort(Zb)};function pj(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),r=s-a,l=i-n;if(a<s&&n<i){const c=t.width*t.height,u=e.width*e.height,f=r*l,h=f/(c+u-f);return Number(h.toFixed(4))}return 0}const bj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const i of a){const{id:r}=i,l=n.get(r);if(l){const c=pj(l,t);c>0&&s.push({id:r,data:{droppableContainer:i,value:c}})}}return s.sort(yj)};function _j(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Wb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:In}function wj(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const Sj=wj(1);function Fb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xj(e,t,n){const a=Fb(t);if(!a)return e;const{scaleX:s,scaleY:i,x:r,y:l}=a,c=e.left-r-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c}}const Ej={ignoreTransform:!1};function lr(e,t){t===void 0&&(t=Ej);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=Ht(e).getComputedStyle(e);u&&(n=xj(n,u,f))}const{top:a,left:s,width:i,height:r,bottom:l,right:c}=n;return{top:a,left:s,width:i,height:r,bottom:l,right:c}}function Ty(e){return lr(e,{ignoreTransform:!0})}function Tj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function jj(e,t){return t===void 0&&(t=Ht(e).getComputedStyle(e)),t.position==="fixed"}function Oj(e,t){t===void 0&&(t=Ht(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function tu(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(Xh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ul(s)||Kb(s)||n.includes(s))return n;const i=Ht(e).getComputedStyle(s);return s!==e&&Oj(s,i)&&n.push(s),jj(s,i)?n:a(s.parentNode)}return e?a(e):n}function e_(e){const[t]=tu(e,1);return t??null}function hd(e){return!Wc||!e?null:ir(e)?e:Kh(e)?Xh(e)||e===rr(e).scrollingElement?window:Ul(e)?e:null:null}function t_(e){return ir(e)?e.scrollX:e.scrollLeft}function n_(e){return ir(e)?e.scrollY:e.scrollTop}function Af(e){return{x:t_(e),y:n_(e)}}var bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bt||(bt={}));function a_(e){return!Wc||!e?!1:e===document.scrollingElement}function s_(e){const t={x:0,y:0},n=a_(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:i,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const Nj={x:.2,y:.2};function Aj(e,t,n,a,s){let{top:i,left:r,right:l,bottom:c}=n;a===void 0&&(a=10),s===void 0&&(s=Nj);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=s_(e),y={x:0,y:0},E={x:0,y:0},x={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+x.height?(y.y=bt.Backward,E.y=a*Math.abs((t.top+x.height-i)/x.height)):!f&&c>=t.bottom-x.height&&(y.y=bt.Forward,E.y=a*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(y.x=bt.Forward,E.x=a*Math.abs((t.right-x.width-l)/x.width)):!h&&r<=t.left+x.width&&(y.x=bt.Backward,E.x=a*Math.abs((t.left+x.width-r)/x.width)),{direction:y,speed:E}}function Dj(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:r}=window;return{top:0,left:0,right:i,bottom:r,width:i,height:r}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function i_(e){return e.reduce((t,n)=>Ri(t,Af(n)),In)}function Cj(e){return e.reduce((t,n)=>t+t_(n),0)}function Rj(e){return e.reduce((t,n)=>t+n_(n),0)}function r_(e,t){if(t===void 0&&(t=lr),!e)return;const{top:n,left:a,bottom:s,right:i}=t(e);e_(e)&&(s<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mj=[["x",["left","right"],Cj],["y",["top","bottom"],Rj]];class Qh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=tu(n),s=i_(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,r,l]of Mj)for(const c of r)Object.defineProperty(this,c,{get:()=>{const u=l(a),f=s[i]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function kj(e){const{EventTarget:t}=Ht(e);return e instanceof t?e:rr(e)}function md(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function jy(e){e.preventDefault()}function Uj(e){e.stopPropagation()}var ye;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ye||(ye={}));const l_={start:[ye.Space,ye.Enter],cancel:[ye.Esc],end:[ye.Space,ye.Enter,ye.Tab]},zj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ye.Right:return{...n,x:n.x+25};case ye.Left:return{...n,x:n.x-25};case ye.Down:return{...n,y:n.y+25};case ye.Up:return{...n,y:n.y-25}}};class _l{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Wr(rr(n)),this.windowListeners=new Wr(Ht(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&r_(a),n(In)}handleKeyDown(t){if(eu(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:i=l_,coordinateGetter:r=zj,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:In;this.referenceCoordinates||(this.referenceCoordinates=f);const h=r(t,{active:n,context:a.current,currentCoordinates:f});if(h){const m=bl(h,f),y={x:0,y:0},{scrollableAncestors:E}=a.current;for(const x of E){const N=t.code,{isTop:b,isRight:g,isLeft:p,isBottom:S,maxScroll:T,minScroll:A}=s_(x),j=Dj(x),M={x:Math.min(N===ye.Right?j.right-j.width/2:j.right,Math.max(N===ye.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(N===ye.Down?j.bottom-j.height/2:j.bottom,Math.max(N===ye.Down?j.top:j.top+j.height/2,h.y))},U=N===ye.Right&&!g||N===ye.Left&&!p,Y=N===ye.Down&&!S||N===ye.Up&&!b;if(U&&M.x!==h.x){const X=x.scrollLeft+m.x,ie=N===ye.Right&&X<=T.x||N===ye.Left&&X>=A.x;if(ie&&!m.y){x.scrollTo({left:X,behavior:l});return}ie?y.x=x.scrollLeft-X:y.x=N===ye.Right?x.scrollLeft-T.x:x.scrollLeft-A.x,y.x&&x.scrollBy({left:-y.x,behavior:l});break}else if(Y&&M.y!==h.y){const X=x.scrollTop+m.y,ie=N===ye.Down&&X<=T.y||N===ye.Up&&X>=A.y;if(ie&&!m.x){x.scrollTo({top:X,behavior:l});return}ie?y.y=x.scrollTop-X:y.y=N===ye.Down?x.scrollTop-T.y:x.scrollTop-A.y,y.y&&x.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(t,Ri(bl(h,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_l.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=l_,onActivation:s}=t,{active:i}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Oy(e){return!!(e&&"distance"in e)}function Ny(e){return!!(e&&"delay"in e)}class Jh{constructor(t,n,a){var s;a===void 0&&(a=kj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:r}=i;this.props=t,this.events=n,this.document=rr(r),this.documentListeners=new Wr(this.document),this.listeners=new Wr(a),this.windowListeners=new Wr(Ht(r)),this.initialCoordinates=(s=jc(i))!=null?s:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,jy),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,jy),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ny(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Oy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,Uj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:i}=this,{onMove:r,options:{activationConstraint:l}}=i;if(!s)return;const c=(n=jc(t))!=null?n:In,u=bl(s,c);if(!a&&l){if(Oy(l)){if(l.tolerance!=null&&md(u,l.tolerance))return this.handleCancel();if(md(u,l.distance))return this.handleStart()}if(Ny(l)&&md(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ye.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $j={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class wl extends Jh{constructor(t){const{event:n}=t,a=rr(n.target);super(t,$j,a)}}wl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const Bj={move:{name:"mousemove"},end:{name:"mouseup"}};var Df;(function(e){e[e.RightClick=2]="RightClick"})(Df||(Df={}));class Lj extends Jh{constructor(t){super(t,Bj,rr(t.event.target))}}Lj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Df.RightClick?!1:(a==null||a({event:n}),!0)}}];const gd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Cf extends Jh{constructor(t){super(t,gd)}static setup(){return window.addEventListener(gd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(gd.move.name,t)};function t(){}}}Cf.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Fr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fr||(Fr={}));var Nc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Nc||(Nc={}));function Hj(e){let{acceleration:t,activator:n=Fr.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:r=5,order:l=Nc.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=e;const y=Yj({delta:h,disabled:!i}),[E,x]=nj(),N=w.useRef({x:0,y:0}),b=w.useRef({x:0,y:0}),g=w.useMemo(()=>{switch(n){case Fr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fr.DraggableRect:return s}},[n,s,c]),p=w.useRef(null),S=w.useCallback(()=>{const A=p.current;if(!A)return;const j=N.current.x*b.current.x,M=N.current.y*b.current.y;A.scrollBy(j,M)},[]),T=w.useMemo(()=>l===Nc.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!i||!u.length||!g){x();return}for(const A of T){if((a==null?void 0:a(A))===!1)continue;const j=u.indexOf(A),M=f[j];if(!M)continue;const{direction:U,speed:Y}=Aj(A,M,g,t,m);for(const X of["x","y"])y[X][U[X]]||(Y[X]=0,U[X]=0);if(Y.x>0||Y.y>0){x(),p.current=A,E(S,r),N.current=Y,b.current=U;return}}N.current={x:0,y:0},b.current={x:0,y:0},x()},[t,S,a,x,i,r,JSON.stringify(g),JSON.stringify(y),E,u,T,f,JSON.stringify(m)])}const qj={x:{[bt.Backward]:!1,[bt.Forward]:!1},y:{[bt.Backward]:!1,[bt.Forward]:!1}};function Yj(e){let{delta:t,disabled:n}=e;const a=Tc(t);return zl(s=>{if(n||!a||!s)return qj;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[bt.Backward]:s.x[bt.Backward]||i.x===-1,[bt.Forward]:s.x[bt.Forward]||i.x===1},y:{[bt.Backward]:s.y[bt.Backward]||i.y===-1,[bt.Forward]:s.y[bt.Forward]||i.y===1}}},[n,t,a])}function Vj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return zl(s=>{var i;return t==null?null:(i=a??s)!=null?i:null},[a,t])}function Ij(e,t){return w.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,i=s.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...i]},[]),[e,t])}var Ki;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ki||(Ki={}));var Rf;(function(e){e.Optimized="optimized"})(Rf||(Rf={}));const Ay=new Map;function Gj(e,t){let{dragging:n,dependencies:a,config:s}=t;const[i,r]=w.useState(null),{frequency:l,measure:c,strategy:u}=s,f=w.useRef(e),h=N(),m=pl(h),y=w.useCallback(function(b){b===void 0&&(b=[]),!m.current&&r(g=>g===null?b:g.concat(b.filter(p=>!g.includes(p))))},[m]),E=w.useRef(null),x=zl(b=>{if(h&&!n)return Ay;if(!b||b===Ay||f.current!==e||i!=null){const g=new Map;for(let p of e){if(!p)continue;if(i&&i.length>0&&!i.includes(p.id)&&p.rect.current){g.set(p.id,p.rect.current);continue}const S=p.node.current,T=S?new Qh(c(S),S):null;p.rect.current=T,T&&g.set(p.id,T)}return g}return b},[e,i,n,h,c]);return w.useEffect(()=>{f.current=e},[e]),w.useEffect(()=>{h||y()},[n,h]),w.useEffect(()=>{i&&i.length>0&&r(null)},[JSON.stringify(i)]),w.useEffect(()=>{h||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},l))},[l,h,y,...a]),{droppableRects:x,measureDroppableContainers:y,measuringScheduled:i!=null};function N(){switch(u){case Ki.Always:return!1;case Ki.BeforeDragging:return n;default:return!n}}}function Zh(e,t){return zl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Kj(e,t){return Zh(e,t)}function Xj(e){let{callback:t,disabled:n}=e;const a=Fc(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function nu(e){let{callback:t,disabled:n}=e;const a=Fc(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qj(e){return new Qh(lr(e),e)}function Dy(e,t,n){t===void 0&&(t=Qj);const[a,s]=w.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const r=Xj({callback(c){if(e)for(const u of c){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=nu({callback:i});return Vn(()=>{i(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Jj(e){const t=Zh(e);return Wb(e,t)}const Cy=[];function Zj(e){const t=w.useRef(e),n=zl(a=>e?a&&a!==Cy&&e&&t.current&&e.parentNode===t.current.parentNode?a:tu(e):Cy,[e]);return w.useEffect(()=>{t.current=e},[e]),n}function Pj(e){const[t,n]=w.useState(null),a=w.useRef(e),s=w.useCallback(i=>{const r=hd(i.target);r&&n(l=>l?(l.set(r,Af(r)),new Map(l)):null)},[]);return w.useEffect(()=>{const i=a.current;if(e!==i){r(i);const l=e.map(c=>{const u=hd(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Af(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(i)};function r(l){l.forEach(c=>{const u=hd(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,r)=>Ri(i,r),In):i_(e):In,[e,t])}function Ry(e,t){t===void 0&&(t=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},t),w.useEffect(()=>{const a=e!==In;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?bl(e,n.current):In}function Wj(e){w.useEffect(()=>{if(!Wc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Fj(e,t){return w.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:i}=a;return n[s]=r=>{i(r,t)},n},{}),[e,t])}function o_(e){return w.useMemo(()=>e?Tj(e):null,[e])}const My=[];function eO(e,t){t===void 0&&(t=lr);const[n]=e,a=o_(n?Ht(n):null),[s,i]=w.useState(My);function r(){i(()=>e.length?e.map(c=>a_(c)?a:new Qh(t(c),c)):My)}const l=nu({callback:r});return Vn(()=>{l==null||l.disconnect(),r(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function c_(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ul(t)?t:e}function tO(e){let{measure:t}=e;const[n,a]=w.useState(null),s=w.useCallback(u=>{for(const{target:f}of u)if(Ul(f)){a(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=nu({callback:s}),r=w.useCallback(u=>{const f=c_(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),a(f?t(f):null)},[t,i]),[l,c]=Ec(r);return w.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const nO=[{sensor:wl,options:{}},{sensor:_l,options:{}}],aO={current:{}},qo={draggable:{measure:Ty},droppable:{measure:Ty,strategy:Ki.WhileDragging,frequency:Rf.Optimized},dragOverlay:{measure:lr}};class el extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const sO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new el,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Oc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qo,measureDroppableContainers:Oc,windowRect:null,measuringScheduled:!1},u_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Oc,draggableNodes:new Map,over:null,measureDroppableContainers:Oc},Bl=w.createContext(u_),d_=w.createContext(sO);function iO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new el}}}function rO(e,t){switch(t.type){case mt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case mt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case mt.DragEnd:case mt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mt.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new el(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case mt.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new el(e.droppable.containers);return r.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:r}}}case mt.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const i=new el(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function lO(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=w.useContext(Bl),i=Tc(a),r=Tc(n==null?void 0:n.id);return w.useEffect(()=>{if(!t&&!a&&i&&r!=null){if(!eu(i)||document.activeElement===i.target)return;const l=s.get(r);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const h=ij(f);if(h){h.focus();break}}})}},[a,t,s,r,i]),null}function f_(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...a}),n):n}function oO(e){return w.useMemo(()=>({draggable:{...qo.draggable,...e==null?void 0:e.draggable},droppable:{...qo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...qo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function cO(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const i=w.useRef(!1),{x:r,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Vn(()=>{if(!r&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=Wb(f,a);if(r||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=e_(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,r,l,a,n])}const au=w.createContext({...In,scaleX:1,scaleY:1});var Ba;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ba||(Ba={}));const Mf=w.memo(function(t){var n,a,s,i;let{id:r,accessibility:l,autoScroll:c=!0,children:u,sensors:f=nO,collisionDetection:h=bj,measuring:m,modifiers:y,...E}=t;const x=w.useReducer(rO,void 0,iO),[N,b]=x,[g,p]=dj(),[S,T]=w.useState(Ba.Uninitialized),A=S===Ba.Initialized,{draggable:{active:j,nodes:M,translate:U},droppable:{containers:Y}}=N,X=j!=null?M.get(j):null,ie=w.useRef({initial:null,translated:null}),ge=w.useMemo(()=>{var Qe;return j!=null?{id:j,data:(Qe=X==null?void 0:X.data)!=null?Qe:aO,rect:ie}:null},[j,X]),ue=w.useRef(null),[Ue,H]=w.useState(null),[G,K]=w.useState(null),le=pl(E,Object.values(E)),_e=$l("DndDescribedBy",r),Le=w.useMemo(()=>Y.getEnabled(),[Y]),xe=oO(m),{droppableRects:Oe,measureDroppableContainers:re,measuringScheduled:Ee}=Gj(Le,{dragging:A,dependencies:[U.x,U.y],config:xe.droppable}),we=Vj(M,j),en=w.useMemo(()=>G?jc(G):null,[G]),Nt=Sn(),At=Kj(we,xe.draggable.measure);cO({activeNode:j!=null?M.get(j):null,config:Nt.layoutShiftCompensation,initialRect:At,measure:xe.draggable.measure});const pe=Dy(we,xe.draggable.measure,At),ia=Dy(we?we.parentElement:null),Dt=w.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:Oe,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Kn=Y.getNodeFor((n=Dt.current.over)==null?void 0:n.id),qt=tO({measure:xe.dragOverlay.measure}),nt=(a=qt.nodeRef.current)!=null?a:we,He=A?(s=qt.rect)!=null?s:pe:null,Xe=!!(qt.nodeRef.current&&qt.rect),bn=Jj(Xe?null:pe),tn=o_(nt?Ht(nt):null),ut=Zj(A?Kn??we:null),Xn=eO(ut),Yt=f_(y,{transform:{x:U.x-bn.x,y:U.y-bn.y,scaleX:1,scaleY:1},activatorEvent:G,active:ge,activeNodeRect:pe,containerNodeRect:ia,draggingNodeRect:He,over:Dt.current.over,overlayNodeRect:qt.rect,scrollableAncestors:ut,scrollableAncestorRects:Xn,windowRect:tn}),Qn=en?Ri(en,U):null,_n=Pj(ut),Mt=Ry(_n),fs=Ry(_n,[pe]),Ct=Ri(Yt,Mt),nn=He?Sj(He,Yt):null,Rt=ge&&nn?h({active:ge,collisionRect:nn,droppableRects:Oe,droppableContainers:Le,pointerCoordinates:Qn}):null,Aa=Pb(Rt,"id"),[at,Da]=w.useState(null),st=Xe?Yt:Ri(Yt,fs),Ca=_j(st,(i=at==null?void 0:at.rect)!=null?i:null,pe),ra=w.useRef(null),hs=w.useCallback((Qe,We)=>{let{sensor:Fe,options:Vt}=We;if(ue.current==null)return;const vt=M.get(ue.current);if(!vt)return;const dt=Qe.nativeEvent,an=new Fe({active:ue.current,activeNode:vt,event:dt,options:Vt,context:Dt,onAbort(Me){if(!M.get(Me))return;const{onDragAbort:ft}=le.current,It={id:Me};ft==null||ft(It),g({type:"onDragAbort",event:It})},onPending(Me,St,ft,It){if(!M.get(Me))return;const{onDragPending:Un}=le.current,Gt={id:Me,constraint:St,initialCoordinates:ft,offset:It};Un==null||Un(Gt),g({type:"onDragPending",event:Gt})},onStart(Me){const St=ue.current;if(St==null)return;const ft=M.get(St);if(!ft)return;const{onDragStart:It}=le.current,la={activatorEvent:dt,active:{id:St,data:ft.data,rect:ie}};di.unstable_batchedUpdates(()=>{It==null||It(la),T(Ba.Initializing),b({type:mt.DragStart,initialCoordinates:Me,active:St}),g({type:"onDragStart",event:la}),H(ra.current),K(dt)})},onMove(Me){b({type:mt.DragMove,coordinates:Me})},onEnd:sn(mt.DragEnd),onCancel:sn(mt.DragCancel)});ra.current=an;function sn(Me){return async function(){const{active:ft,collisions:It,over:la,scrollAdjustedTranslate:Un}=Dt.current;let Gt=null;if(ft&&Un){const{cancelDrop:oa}=le.current;Gt={activatorEvent:dt,active:ft,collisions:It,delta:Un,over:la},Me===mt.DragEnd&&typeof oa=="function"&&await Promise.resolve(oa(Gt))&&(Me=mt.DragCancel)}ue.current=null,di.unstable_batchedUpdates(()=>{b({type:Me}),T(Ba.Uninitialized),Da(null),H(null),K(null),ra.current=null;const oa=Me===mt.DragEnd?"onDragEnd":"onDragCancel";if(Gt){const zn=le.current[oa];zn==null||zn(Gt),g({type:oa,event:Gt})}})}}},[M]),kt=w.useCallback((Qe,We)=>(Fe,Vt)=>{const vt=Fe.nativeEvent,dt=M.get(Vt);if(ue.current!==null||!dt||vt.dndKit||vt.defaultPrevented)return;const an={active:dt};Qe(Fe,We.options,an)===!0&&(vt.dndKit={capturedBy:We.sensor},ue.current=Vt,hs(Fe,We))},[M,hs]),wn=Ij(f,kt);Wj(f),Vn(()=>{pe&&S===Ba.Initializing&&T(Ba.Initialized)},[pe,S]),w.useEffect(()=>{const{onDragMove:Qe}=le.current,{active:We,activatorEvent:Fe,collisions:Vt,over:vt}=Dt.current;if(!We||!Fe)return;const dt={active:We,activatorEvent:Fe,collisions:Vt,delta:{x:Ct.x,y:Ct.y},over:vt};di.unstable_batchedUpdates(()=>{Qe==null||Qe(dt),g({type:"onDragMove",event:dt})})},[Ct.x,Ct.y]),w.useEffect(()=>{const{active:Qe,activatorEvent:We,collisions:Fe,droppableContainers:Vt,scrollAdjustedTranslate:vt}=Dt.current;if(!Qe||ue.current==null||!We||!vt)return;const{onDragOver:dt}=le.current,an=Vt.get(Aa),sn=an&&an.rect.current?{id:an.id,rect:an.rect.current,data:an.data,disabled:an.disabled}:null,Me={active:Qe,activatorEvent:We,collisions:Fe,delta:{x:vt.x,y:vt.y},over:sn};di.unstable_batchedUpdates(()=>{Da(sn),dt==null||dt(Me),g({type:"onDragOver",event:Me})})},[Aa]),Vn(()=>{Dt.current={activatorEvent:G,active:ge,activeNode:we,collisionRect:nn,collisions:Rt,droppableRects:Oe,draggableNodes:M,draggingNode:nt,draggingNodeRect:He,droppableContainers:Y,over:at,scrollableAncestors:ut,scrollAdjustedTranslate:Ct},ie.current={initial:He,translated:nn}},[ge,we,Rt,nn,M,nt,He,Oe,Y,at,ut,Ct]),Hj({...Nt,delta:U,draggingRect:nn,pointerCoordinates:Qn,scrollableAncestors:ut,scrollableAncestorRects:Xn});const or=w.useMemo(()=>({active:ge,activeNode:we,activeNodeRect:pe,activatorEvent:G,collisions:Rt,containerNodeRect:ia,dragOverlay:qt,draggableNodes:M,droppableContainers:Y,droppableRects:Oe,over:at,measureDroppableContainers:re,scrollableAncestors:ut,scrollableAncestorRects:Xn,measuringConfiguration:xe,measuringScheduled:Ee,windowRect:tn}),[ge,we,pe,G,Rt,ia,qt,M,Y,Oe,at,re,ut,Xn,xe,Ee,tn]),kn=w.useMemo(()=>({activatorEvent:G,activators:wn,active:ge,activeNodeRect:pe,ariaDescribedById:{draggable:_e},dispatch:b,draggableNodes:M,over:at,measureDroppableContainers:re}),[G,wn,ge,pe,b,_e,M,at,re]);return $e.createElement(Qb.Provider,{value:p},$e.createElement(Bl.Provider,{value:kn},$e.createElement(d_.Provider,{value:or},$e.createElement(au.Provider,{value:Ca},u)),$e.createElement(lO,{disabled:(l==null?void 0:l.restoreFocus)===!1})),$e.createElement(mj,{...l,hiddenTextDescribedById:_e}));function Sn(){const Qe=(Ue==null?void 0:Ue.autoScrollEnabled)===!1,We=typeof c=="object"?c.enabled===!1:c===!1,Fe=A&&!Qe&&!We;return typeof c=="object"?{...c,enabled:Fe}:{enabled:Fe}}}),uO=w.createContext(null),ky="button",dO="Draggable";function fO(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const i=$l(dO),{activators:r,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=w.useContext(Bl),{role:y=ky,roleDescription:E="draggable",tabIndex:x=0}=s??{},N=(c==null?void 0:c.id)===t,b=w.useContext(N?au:uO),[g,p]=Ec(),[S,T]=Ec(),A=Fj(r,t),j=pl(n);Vn(()=>(h.set(t,{id:t,key:i,node:g,activatorNode:S,data:j}),()=>{const U=h.get(t);U&&U.key===i&&h.delete(t)}),[h,t]);const M=w.useMemo(()=>({role:y,tabIndex:x,"aria-disabled":a,"aria-pressed":N&&y===ky?!0:void 0,"aria-roledescription":E,"aria-describedby":f.draggable}),[a,y,x,N,E,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:M,isDragging:N,listeners:a?void 0:A,node:g,over:m,setNodeRef:p,setActivatorNodeRef:T,transform:b}}function h_(){return w.useContext(d_)}const hO="Droppable",mO={timeout:25};function gO(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const i=$l(hO),{active:r,dispatch:l,over:c,measureDroppableContainers:u}=w.useContext(Bl),f=w.useRef({disabled:n}),h=w.useRef(!1),m=w.useRef(null),y=w.useRef(null),{disabled:E,updateMeasurementsFor:x,timeout:N}={...mO,...s},b=pl(x??a),g=w.useCallback(()=>{if(!h.current){h.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),y.current=null},N)},[N]),p=nu({callback:g,disabled:E||!r}),S=w.useCallback((M,U)=>{p&&(U&&(p.unobserve(U),h.current=!1),M&&p.observe(M))},[p]),[T,A]=Ec(S),j=pl(t);return w.useEffect(()=>{!p||!T.current||(p.disconnect(),h.current=!1,p.observe(T.current))},[T,p]),w.useEffect(()=>(l({type:mt.RegisterDroppable,element:{id:a,key:i,disabled:n,node:T,rect:m,data:j}}),()=>l({type:mt.UnregisterDroppable,key:i,id:a})),[a]),w.useEffect(()=>{n!==f.current.disabled&&(l({type:mt.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,l]),{active:r,rect:m,isOver:(c==null?void 0:c.id)===a,node:T,over:c,setNodeRef:A}}function yO(e){let{animation:t,children:n}=e;const[a,s]=w.useState(null),[i,r]=w.useState(null),l=Tc(n);return!n&&!a&&l&&s(l),Vn(()=>{if(!i)return;const c=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,a,i]),$e.createElement($e.Fragment,null,n,a?w.cloneElement(a,{ref:r}):null)}const vO={x:0,y:0,scaleX:1,scaleY:1};function pO(e){let{children:t}=e;return $e.createElement(Bl.Provider,{value:u_},$e.createElement(au.Provider,{value:vO},t))}const bO={position:"fixed",touchAction:"none"},_O=e=>eu(e)?"transform 250ms ease":void 0,wO=w.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:i,className:r,rect:l,style:c,transform:u,transition:f=_O}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...bO,width:l.width,height:l.height,top:l.top,left:l.left,transform:os.Transform.toString(h),transformOrigin:s&&a?gj(a,l):void 0,transition:typeof f=="function"?f(a):f,...c};return $e.createElement(n,{className:r,style:m,ref:t},i)}),SO=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:i,className:r}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},xO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:os.Transform.toString(t)},{transform:os.Transform.toString(n)}]},EO={duration:250,easing:"ease",keyframes:xO,sideEffects:SO({styles:{active:{opacity:"0"}}})};function TO(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return Fc((i,r)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=c_(r);if(!u)return;const{transform:f}=Ht(r).getComputedStyle(r),h=Fb(f);if(!h)return;const m=typeof t=="function"?t:jO(t);return r_(c,s.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:r,rect:s.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:s,transform:h})})}function jO(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...EO,...e};return i=>{let{active:r,dragOverlay:l,transform:c,...u}=i;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},h={scaleX:c.scaleX!==1?r.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?r.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...h},y=s({...u,active:r,dragOverlay:l,transform:{initial:c,final:m}}),[E]=y,x=y[y.length-1];if(JSON.stringify(E)===JSON.stringify(x))return;const N=a==null?void 0:a({active:r,dragOverlay:l,...u}),b=l.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{b.onfinish=()=>{N==null||N(),g()}})}}let Uy=0;function OO(e){return w.useMemo(()=>{if(e!=null)return Uy++,Uy},[e])}const NO=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:i,modifiers:r,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggableNodes:E,droppableContainers:x,dragOverlay:N,over:b,measuringConfiguration:g,scrollableAncestors:p,scrollableAncestorRects:S,windowRect:T}=h_(),A=w.useContext(au),j=OO(h==null?void 0:h.id),M=f_(r,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:N.rect,over:b,overlayNodeRect:N.rect,scrollableAncestors:p,scrollableAncestorRects:S,transform:A,windowRect:T}),U=Zh(m),Y=TO({config:a,draggableNodes:E,droppableContainers:x,measuringConfiguration:g}),X=U?N.setRef:void 0;return $e.createElement(pO,null,$e.createElement(yO,{animation:Y},h&&j?$e.createElement(wO,{key:j,id:h.id,ref:X,as:l,activatorEvent:f,adjustScale:t,className:c,transition:i,rect:U,style:{zIndex:u,...s},transform:M},n):null))});function Ac(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function AO(e,t){return e.reduce((n,a,s)=>{const i=t.get(a);return i&&(n[s]=i),n},Array(e.length))}function So(e){return e!==null&&e>=0}function DO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function CO(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const xo={scaleX:1,scaleY:1},RO=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:s,overIndex:i,index:r}=e;const l=(t=n[s])!=null?t:a;if(!l)return null;const c=MO(n,r,s);if(r===s){const u=n[i];return u?{x:s<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...xo}:null}return r>s&&r<=i?{x:-l.width-c,y:0,...xo}:r<s&&r>=i?{x:l.width+c,y:0,...xo}:{x:0,y:0,...xo}};function MO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return!a||!s&&!i?0:n<t?s?a.left-(s.left+s.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(s.left+s.width)}const m_=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const i=Ac(t,a,n),r=t[s],l=i[s];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},Eo={scaleX:1,scaleY:1},Yo=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:i,overIndex:r}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(s===n){const u=i[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...Eo}:null}const c=kO(i,s,n);return s>n&&s<=r?{x:0,y:-l.height-c,...Eo}:s<n&&s>=r?{x:0,y:l.height+c,...Eo}:{x:0,y:0,...Eo}};function kO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return a?n<t?s?a.top-(s.top+s.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const g_="Sortable",y_=$e.createContext({activeIndex:-1,containerId:g_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:m_,disabled:{draggable:!1,droppable:!1}});function kr(e){let{children:t,id:n,items:a,strategy:s=m_,disabled:i=!1}=e;const{active:r,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=h_(),h=$l(g_,n),m=l.rect!==null,y=w.useMemo(()=>a.map(A=>typeof A=="object"&&"id"in A?A.id:A),[a]),E=r!=null,x=r?y.indexOf(r.id):-1,N=u?y.indexOf(u.id):-1,b=w.useRef(y),g=!DO(y,b.current),p=N!==-1&&x===-1||g,S=CO(i);Vn(()=>{g&&E&&f(y)},[g,y,E,f]),w.useEffect(()=>{b.current=y},[y]);const T=w.useMemo(()=>({activeIndex:x,containerId:h,disabled:S,disableTransforms:p,items:y,overIndex:N,useDragOverlay:m,sortedRects:AO(y,c),strategy:s}),[x,h,S.draggable,S.droppable,p,y,N,c,m,s]);return $e.createElement(y_.Provider,{value:T},t)}const UO=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return Ac(n,a,s).indexOf(t)},zO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:i,newIndex:r,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!a||l!==i&&s===r?!1:n?!0:r!==s&&t===c},$O={duration:200,easing:"ease"},v_="transform",BO=os.Transition.toString({property:v_,duration:0,easing:"linear"}),LO={roleDescription:"sortable"};function HO(e){let{disabled:t,index:n,node:a,rect:s}=e;const[i,r]=w.useState(null),l=w.useRef(n);return Vn(()=>{if(!t&&n!==l.current&&a.current){const c=s.current;if(c){const u=lr(a.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,s]),w.useEffect(()=>{i&&r(null)},[i]),i}function Ph(e){let{animateLayoutChanges:t=zO,attributes:n,disabled:a,data:s,getNewIndex:i=UO,id:r,strategy:l,resizeObserverConfig:c,transition:u=$O}=e;const{items:f,containerId:h,activeIndex:m,disabled:y,disableTransforms:E,sortedRects:x,overIndex:N,useDragOverlay:b,strategy:g}=w.useContext(y_),p=qO(a,y),S=f.indexOf(r),T=w.useMemo(()=>({sortable:{containerId:h,index:S,items:f},...s}),[h,s,S,f]),A=w.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:j,node:M,isOver:U,setNodeRef:Y}=gO({id:r,data:T,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:X,activatorEvent:ie,activeNodeRect:ge,attributes:ue,setNodeRef:Ue,listeners:H,isDragging:G,over:K,setActivatorNodeRef:le,transform:_e}=fO({id:r,data:T,attributes:{...LO,...n},disabled:p.draggable}),Le=tj(Y,Ue),xe=!!X,Oe=xe&&!E&&So(m)&&So(N),re=!b&&G,Ee=re&&Oe?_e:null,en=Oe?Ee??(l??g)({rects:x,activeNodeRect:ge,activeIndex:m,overIndex:N,index:S}):null,Nt=So(m)&&So(N)?i({id:r,items:f,activeIndex:m,overIndex:N}):S,At=X==null?void 0:X.id,pe=w.useRef({activeId:At,items:f,newIndex:Nt,containerId:h}),ia=f!==pe.current.items,Dt=t({active:X,containerId:h,isDragging:G,isSorting:xe,id:r,index:S,items:f,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:u,wasDragging:pe.current.activeId!=null}),Kn=HO({disabled:!Dt,index:S,node:M,rect:j});return w.useEffect(()=>{xe&&pe.current.newIndex!==Nt&&(pe.current.newIndex=Nt),h!==pe.current.containerId&&(pe.current.containerId=h),f!==pe.current.items&&(pe.current.items=f)},[xe,Nt,h,f]),w.useEffect(()=>{if(At===pe.current.activeId)return;if(At!=null&&pe.current.activeId==null){pe.current.activeId=At;return}const nt=setTimeout(()=>{pe.current.activeId=At},50);return()=>clearTimeout(nt)},[At]),{active:X,activeIndex:m,attributes:ue,data:T,rect:j,index:S,newIndex:Nt,items:f,isOver:U,isSorting:xe,isDragging:G,listeners:H,node:M,overIndex:N,over:K,setNodeRef:Le,setActivatorNodeRef:le,setDroppableNodeRef:Y,setDraggableNodeRef:Ue,transform:Kn??en,transition:qt()};function qt(){if(Kn||ia&&pe.current.newIndex===S)return BO;if(!(re&&!eu(ie)||!u)&&(xe||Dt))return os.Transition.toString({...u,property:v_})}}function qO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Dc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const YO=[ye.Down,ye.Right,ye.Up,ye.Left],kf=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:i,over:r,scrollableAncestors:l}}=t;if(YO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case ye.Down:a.top<m.top&&c.push(h);break;case ye.Up:a.top>m.top&&c.push(h);break;case ye.Left:a.left>m.left&&c.push(h);break;case ye.Right:a.left<m.left&&c.push(h);break}});const u=vj({collisionRect:a,droppableRects:s,droppableContainers:c});let f=Pb(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const h=i.get(n.id),m=i.get(f),y=m?s.get(m.id):null,E=m==null?void 0:m.node.current;if(E&&y&&h&&m){const N=tu(E).some((A,j)=>l[j]!==A),b=p_(h,m),g=VO(h,m),p=N||!b?{x:0,y:0}:{x:g?a.width-y.width:0,y:g?a.height-y.height:0},S={x:y.left,y:y.top};return p.x&&p.y?S:bl(S,p)}}}};function p_(e,t){return!Dc(e)||!Dc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function VO(e,t){return!Dc(e)||!Dc(t)||!p_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ds=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],yd=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`;function Uf({value:e,onChange:t}){const n=w.useRef(null),a=w.useRef(null),s=w.useRef(e),i=w.useRef(!1),[r,l]=w.useState(()=>e&&e.includes(":")?e.split(":")[0]:"09"),[c,u]=w.useState(()=>e&&e.includes(":")?e.split(":")[1]:"00");w.useEffect(()=>{if(e&&e.includes(":")&&e!==s.current){const[g,p]=e.split(":");s.current=e,l(g),u(p)}},[e]),w.useEffect(()=>{if(!i.current){i.current=!0;return}const g=`${r}:${c}`;s.current=g,t&&t(g)},[r,c]);const f=(g,p,S)=>{if(!g.current)return;const T=g.current.scrollTop,j=Math.round(T/40),M=String(j).padStart(2,"0");p(M)},h=(g,p)=>{if(!g.current)return;const S=40,T=parseInt(p,10);g.current.scrollTop=T*S};w.useEffect(()=>{h(n,r)},[]),w.useEffect(()=>{h(a,c)},[]);const m=Array.from({length:24},(g,p)=>String(p).padStart(2,"0")),y=Array.from({length:60},(g,p)=>String(p).padStart(2,"0")),E=()=>{const g=(parseInt(r,10)+1)%24,p=String(g).padStart(2,"0");l(p),h(n,p)},x=()=>{const g=(parseInt(r,10)-1+24)%24,p=String(g).padStart(2,"0");l(p),h(n,p)},N=()=>{const g=(parseInt(c,10)+1)%60,p=String(g).padStart(2,"0");u(p),h(a,p)},b=()=>{const g=(parseInt(c,10)-1+60)%60,p=String(g).padStart(2,"0");u(p),h(a,p)};return o.jsxs("div",{className:"apple-time-picker",children:[o.jsxs("div",{className:"picker-arrows-top",children:[o.jsx("button",{className:"picker-arrow-button",onClick:E,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:N,children:""})]}),o.jsxs("div",{className:"picker-container",children:[o.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[o.jsx("div",{className:"picker-spacer"}),m.map(g=>o.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),h(n,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]}),o.jsx("div",{className:"picker-separator",children:":"}),o.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[o.jsx("div",{className:"picker-spacer"}),y.map(g=>o.jsx("div",{className:`picker-item ${g===c?"selected":""}`,onClick:()=>{u(g),h(a,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]})]}),o.jsxs("div",{className:"picker-arrows-bottom",children:[o.jsx("button",{className:"picker-arrow-button",onClick:x,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:b,children:""})]}),o.jsx("div",{className:"picker-selection-indicator"})]})}function To({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:s,listeners:i,setNodeRef:r,transform:l,transition:c,isDragging:u}=Ph({id:e,disabled:n}),f=w.useRef(null),[h,m]=w.useState(!1),y=T=>{if(n&&a){if(!T.target.closest(".section-header"))return;m(!0),f.current=setTimeout(()=>{a(),m(!1)},500)}},E=()=>{f.current&&(clearTimeout(f.current),f.current=null,m(!1))},x=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},N=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:c},p=n?{onPointerDown:y,onPointerMove:E,onPointerUp:x,onPointerCancel:N,onPointerLeave:N}:{...s,...i},S=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return o.jsx("div",{ref:r,style:g,className:S,...p,children:t})}function IO({title:e,className:t,content:n,setContent:a,isEditing:s,isSaving:i,textareaRef:r,onStartEdit:l,onSave:c,onCancel:u,onKeyDown:f,placeholder:h,emptyMessage:m,children:y}){return o.jsxs("div",{className:t,children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{className:"section-title",children:e}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!s&&o.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),s&&o.jsxs("div",{className:"memo-edit-actions",children:[o.jsx("button",{onClick:c,className:"memo-save-button",disabled:i,children:" "}),o.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),s?o.jsx("textarea",{ref:r,value:n,onChange:E=>a(E.target.value),onKeyDown:f,className:"memo-textarea",placeholder:h}):o.jsx("div",{className:"memo-preview",onClick:l,children:n?o.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((E,x)=>o.jsx("div",{className:"memo-preview-line",children:E||""},x))}):o.jsx("div",{className:"memo-empty",children:m})}),y]})}function b_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,parentBlock:i,rootSetBlocks:r,draggingChildIds:l=[],activeId:c,overId:u}){const{attributes:f,listeners:h,setNodeRef:m,transform:y,transition:E,isDragging:x}=Ph({id:e.id}),N=e.id===c,b=e.id===u&&c&&c!==u,g={cursor:"grab",opacity:N?.4:1,borderTop:b?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return o.jsx("div",{ref:m,style:g,children:o.jsx(__,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:{...f,...h},parentBlock:i,rootSetBlocks:r,draggingChildIds:l,activeId:c,overId:u})})}function __({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:i,parentBlock:r,rootSetBlocks:l,draggingChildIds:c=[],activeId:u,overId:f}){const h=w.useRef(null),m=w.useRef(!1);w.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const T=h.current.value.length;h.current.setSelectionRange(T,T)}},[a,e.id]),w.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const y=(T,A,j)=>T.map(M=>{if(M.id===A){const U=j(M);return{...U,children:Array.isArray(U.children)?U.children:[]}}return Array.isArray(M.children)&&M.children.length>0?{...M,children:y(M.children,A,j)}:M}),E=T=>{n(A=>y(A,e.id,j=>({...j,content:T})))},x=T=>{n(A=>y(A,e.id,j=>({...j,children:typeof T=="function"?T(j.children):T})))},N=()=>{n(T=>y(T,e.id,A=>{const j=!A.isOpen;if(j&&(!Array.isArray(A.children)||A.children.length===0)){const M={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...A,isOpen:j,children:[M]}}return{...A,isOpen:j,children:Array.isArray(A.children)?A.children:[]}}))},b=()=>{const T=t.findIndex(j=>j.id===e.id);if(T<=0)return;const A=t[T-1];n(j=>{const M=[...j];M.splice(T,1);const U={...A,children:[...Array.isArray(A.children)?A.children:[],e],isOpen:!0};return M[T-1]=U,M})},g=()=>{!r||!l||l(T=>{const A=(U,Y,X)=>{const ie=[];for(let ge=0;ge<U.length;ge++){const ue=U[ge];if(ue.id===Y){const Ue=ue.children.filter(G=>G.id!==X.id),H={...ue,children:Ue};ie.push(H),ie.push(X)}else if(Array.isArray(ue.children)&&ue.children.length>0){const Ue=A(ue.children,Y,X);Ue!==ue.children?ie.push({...ue,children:Ue}):ie.push(ue)}else ie.push(ue)}return ie},j=U=>U.map(Y=>{const X=Array.isArray(Y.children)&&Y.children.length>0;return!X&&Y.isOpen?{...Y,isOpen:!1}:X?{...Y,children:j(Y.children)}:Y}),M=A(T,r.id,e);return j(M)})},p=T=>{const A=[],j=M=>{for(const U of M)A.push(U),U.isOpen&&Array.isArray(U.children)&&U.children.length>0&&j(U.children)};return j(T),A},S=T=>{if(T.key==="Enter"){if(T.shiftKey)return;{if(m.current){T.preventDefault(),T.stopPropagation();return}T.preventDefault(),T.stopPropagation(),m.current=!0;const A=T.target.selectionStart,j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};A===0?(n(M=>{const U=M.findIndex(X=>X.id===e.id);if(U===-1)return M;const Y=[...M];return Y.splice(U,0,j),Y}),setTimeout(()=>{s(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(M=>{const U=M.findIndex(X=>X.id===e.id);if(U===-1)return M;const Y=[...M];return Y.splice(U+1,0,j),Y}),setTimeout(()=>{s(j.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(T.key==="Tab"&&T.shiftKey)T.preventDefault(),T.stopPropagation(),r&&l&&g();else if(T.key==="Tab"&&!T.shiftKey)T.preventDefault(),T.stopPropagation(),b();else if(T.key==="Backspace"){const A=T.target.selectionStart;if(e.content===""||A===0){const Y=(()=>{if(l){let ge=[];return l(ue=>(ge=ue,ue)),ge}return t})(),X=p(Y),ie=X.findIndex(ge=>ge.id===e.id);if(ie>0){T.preventDefault(),T.stopPropagation();const ge=X[ie-1],ue=(H,G)=>H.filter(K=>K.id!==G).map(K=>Array.isArray(K.children)&&K.children.length>0?{...K,children:ue(K.children,G)}:K),Ue=H=>H.map(G=>{const K=Array.isArray(G.children)&&G.children.length>0;return!K&&G.isOpen?{...G,isOpen:!1}:K?{...G,children:Ue(G.children)}:G});l?l(H=>{const G=ue(H,e.id);return Ue(G)}):n(H=>{const G=ue(H,e.id);return Ue(G)}),setTimeout(()=>{s(ge.id)},0)}}}else if(T.key==="ArrowUp"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let Y=[];return l(X=>(Y=X,X)),Y}return t})(),M=p(j),U=M.findIndex(Y=>Y.id===e.id);U>0&&s(M[U-1].id)}else if(T.key==="ArrowDown"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let Y=[];return l(X=>(Y=X,X)),Y}return t})(),M=p(j),U=M.findIndex(Y=>Y.id===e.id);U<M.length-1&&s(M[U+1].id)}};return o.jsxs("div",{className:"notion-block",children:[i&&o.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),o.jsx("div",{className:"notion-block-controls",children:o.jsx("button",{className:"block-type-button",onClick:N,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),o.jsx("div",{className:"notion-block-content",children:o.jsx("textarea",{ref:h,value:e.content,onChange:T=>E(T.target.value),onKeyDown:S,onFocus:()=>s(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&o.jsx("div",{className:"notion-block-children",children:e.children.map(T=>o.jsx(b_,{block:T,blocks:e.children,setBlocks:x,focusedBlockId:a,setFocusedBlockId:s,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:c,activeId:u,overId:f},T.id))})]})}function GO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:s}){const[i,r]=w.useState(null),[l,c]=w.useState(null),u=Of($a(wl,{activationConstraint:{distance:3}}),$a(_l,{coordinateGetter:kf})),f=T=>T.map(A=>{const j=Array.isArray(A.children)&&A.children.length>0;return!j&&A.isOpen?{...A,isOpen:!1}:j?{...A,children:f(A.children)}:A});w.useEffect(()=>{const T=f(e);JSON.stringify(T)!==JSON.stringify(e)&&t(T)},[e]);const h=T=>{const A=[],j=M=>{for(const U of M)A.push(U),U.isOpen&&Array.isArray(U.children)&&U.children.length>0&&j(U.children)};return j(T),A},m=T=>{const A=[],j=M=>{if(Array.isArray(M.children)&&M.children.length>0)for(const U of M.children)A.push(U.id),j(U)};return j(T),A},y=T=>{const{active:A}=T,M=h(e).find(U=>U.id===A.id);r(M)},E=T=>{const{over:A}=T;c((A==null?void 0:A.id)||null)},x=$e.useMemo(()=>i?m(i):[],[i]),N=T=>{const{active:A,over:j}=T;if(r(null),c(null),!j||A.id===j.id)return;const M=h(e),U=M.find(Le=>Le.id===A.id),Y=M.find(Le=>Le.id===j.id);if(!U||!Y||m(U).includes(j.id))return;const ie=JSON.parse(JSON.stringify(U)),ge=(Le,xe)=>Le.filter(Oe=>Oe.id!==xe).map(Oe=>({...Oe,children:Array.isArray(Oe.children)?ge(Oe.children,xe):[]})),ue=(Le,xe,Oe)=>{let re=!1;const Ee=[];for(const we of Le)if(Ee.push(we),we.id===xe&&(Ee.push(Oe),re=!0),Array.isArray(we.children)&&we.children.length>0){const{newChildren:en,wasInserted:Nt}=Ue(we.children,xe,Oe);Nt&&(Ee[Ee.length-1]={...we,children:en},re=!0)}return{newTree:Ee,inserted:re}},Ue=(Le,xe,Oe)=>{let re=!1;const Ee=[];for(const we of Le)if(Ee.push(we),we.id===xe&&(Ee.push(Oe),re=!0),Array.isArray(we.children)&&we.children.length>0){const{newChildren:en,wasInserted:Nt}=Ue(we.children,xe,Oe);Nt&&(Ee[Ee.length-1]={...we,children:en},re=!0)}return{newChildren:Ee,wasInserted:re}};let H=ge(e,U.id);const G=H.length>0&&H[0].id===Y.id;let K,le=!1;if(G)K=[ie,...H],le=!0;else{const Le=ue(H,Y.id,ie);K=Le.newTree,le=Le.inserted}if(!le){console.warn("Failed to insert block, keeping original state");return}const _e=f(K);t(_e)},b=h(e).filter(T=>!x.includes(T.id)).map(T=>T.id),g=T=>{const A=j=>j.map(M=>({...M,isOpen:T,children:Array.isArray(M.children)?A(M.children):[]}));t(A(e))},p=T=>{for(const A of T)if(!A.isOpen&&Array.isArray(A.children)&&A.children.length>0||Array.isArray(A.children)&&A.children.length>0&&!p(A.children))return!1;return!0},S=p(e);return o.jsxs("div",{className:"key-thoughts-section section-block",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{className:"section-title",children:"  "}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"toggle-all-button",onClick:()=>s&&s(),title:"  ",children:" "}),o.jsx("button",{className:"toggle-all-button",onClick:()=>g(!S),title:S?" ":" ",children:S?" ":" "})]})]}),o.jsx("div",{className:"key-thoughts-content notion-editor",children:o.jsxs(Mf,{sensors:u,collisionDetection:Nf,onDragStart:y,onDragOver:E,onDragEnd:N,measuring:{droppable:{strategy:Ki.Always}},children:[o.jsx(kr,{items:b,strategy:Yo,children:e.map(T=>o.jsx(b_,{block:T,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:x,activeId:i==null?void 0:i.id,overId:l},T.id))}),o.jsx(NO,{children:i?o.jsx("div",{className:"drag-overlay-block",children:o.jsx(__,{block:i,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function zy({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:s,isAdding:i,placeholder:r,children:l}){return o.jsxs("div",{className:t,children:[o.jsx("div",{className:"section-header",children:o.jsx("h3",{className:"section-title",children:e})}),o.jsxs("div",{className:"section-input",children:[o.jsx("input",{type:"text",value:n,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&s()},placeholder:r,className:"todo-input",disabled:i}),o.jsx("button",{onClick:s,className:"add-button",disabled:i,children:""})]}),l]})}function Vo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:f,level:h=0,onCreateRoutine:m,routines:y,onShowRoutineHistory:E,onOpenRoutineSetupModal:x,onOpenHistoryModal:N,currentPageDate:b,isPendingRoutine:g=!1,onRemoveFromUI:p,showSuccessMessage:S}){const[T,A]=w.useState(!1),[j,M]=w.useState(!1),[U,Y]=w.useState(e.text),[X,ie]=w.useState(!1),[ge,ue]=w.useState(!1),[Ue,H]=w.useState(!1),[G,K]=w.useState(""),[le,_e]=w.useState(!1),[Le,xe]=w.useState([]),[Oe,re]=w.useState(!1),[Ee,we]=w.useState(!1),[en,Nt]=w.useState([]),[At,pe]=w.useState([]),[ia,Dt]=w.useState([]),[Kn,qt]=w.useState(null),[nt,He]=w.useState(!1),[Xe,bn]=w.useState(null),[tn,ut]=w.useState(!1),[Xn,Yt]=w.useState([]),[Qn,_n]=w.useState(""),[Mt,fs]=w.useState({}),[Ct,nn]=w.useState(!1),[Rt,Aa]=w.useState(null),[at,Da]=w.useState([]),st=e.routine_id?y.find(z=>z.id===e.routine_id):null,[Ca,ra]=w.useState(0),[hs,kt]=w.useState(0),[wn,or]=w.useState(0),[kn,Sn]=w.useState(!1),[Qe,We]=w.useState(!1),{attributes:Fe,listeners:Vt,setNodeRef:vt,transform:dt,transition:an,isDragging:sn}=Ph({id:e.id}),Me={transform:os.Transform.toString(dt),transition:an,cursor:sn?"grabbing":"grab"},St=e.text.length>30,ft=()=>{M(!0),Y(e.text)},It=async()=>{U.trim()&&U!==e.text&&await s(e.id,U.trim()),M(!1)},la=async z=>{z.key==="Enter"?(z.preventDefault(),await It()):z.key==="Escape"&&(M(!1),Y(e.text))},Un=z=>{Yt(V=>V.includes(z)?V.filter(se=>se!==z):[...V,z])},Gt=z=>{const V=z.getFullYear(),se=String(z.getMonth()+1).padStart(2,"0"),oe=String(z.getDate()).padStart(2,"0");return`${V}-${se}-${oe}`},oa=z=>["sun","mon","tue","wed","thu","fri","sat"][z],zn=async z=>{try{const V=typeof b=="string"?b:Gt(b),oe=[...z.hidden_dates||[],V],te=z.routine_id!==null&&z.routine_id!==void 0;let he={hidden_dates:oe};te||(he.deleted=!0,he.deleted_date=new Date().toISOString());const{error:Se}=await q.from("todos").update(he).eq("id",z.id);if(Se)throw Se;p&&p(z.id);const Ne=z.routine_id!==null&&z.routine_id!==void 0;S(Ne?"  ":"   ",{type:"hideOnDate",todoId:z.id,hiddenDate:V,wasDeleted:!te})}catch(V){console.error("  :",V.message),alert("   .")}},cr=async z=>{try{const{error:V}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(V)throw V;p&&p(z.id)}catch(V){console.error(" :",V.message),alert(" .")}},Ll=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:V}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(V)throw V;const se=typeof b=="string"?b:Gt(b),te=[...z.hidden_dates||[],se],{error:he}=await q.from("todos").update({hidden_dates:te}).eq("id",z.id);if(he)throw he;p&&p(z.id),S("   ",{type:"stopRoutineFromToday",todoId:z.id,routineId:z.routine_id,hiddenDate:se})}catch(V){console.error("  :",V.message),alert("   .")}},ur=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:V}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(V)throw V;const{error:se}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(se)throw se;p&&p(z.id),S("   ",{type:"deleteRoutineCompletely",todoId:z.id,routineId:z.routine_id})}catch(V){console.error("   :",V.message),alert("   .")}};w.useEffect(()=>{Xe==="history"&&!Mt[e.id]&&!Ct&&(async()=>{nn(!0);try{const{data:V,error:se}=await q.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(se)throw se;fs(oe=>({...oe,[e.id]:V||[]}))}catch(V){console.error("Error fetching history:",V)}finally{nn(!1)}})()},[Xe,e.id,Mt,Ct]),w.useEffect(()=>{Xe==="routine-stats"&&st&&(!Rt||Rt.id!==st.id)&&(async()=>{try{const{data:V,error:se}=await q.from("todos").select("*").eq("routine_id",st.id).eq("deleted",!1).maybeSingle();if(se)throw se;if(V&&V.visible_dates){const oe=V.visible_dates.sort().map(te=>{var he;return{id:`${V.id}-${te}`,date:te,text:V.text,completed:((he=V.completed_dates)==null?void 0:he.includes(te))||!1}});Da(oe),Aa(st)}}catch(V){console.error("Error fetching routine history:",V)}})()},[Xe,st,Rt]);const dr=z=>{if(j||sn)return;const V=z.type.includes("touch")?z.touches[0].clientX:z.clientX,se=z.type.includes("touch")?z.touches[0].clientY:z.clientY;kt(V),or(se),Sn(!1),We(!0)},ms=z=>{if(j||sn||!Qe)return;const V=z.type.includes("touch")?z.touches[0].clientX:z.clientX,se=z.type.includes("touch")?z.touches[0].clientY:z.clientY,oe=hs-V,te=Math.abs(wn-se);if(!kn){const he=Math.abs(oe)+te;if(he>10){if(Math.abs(oe)>he*.8)Sn(!0),z.type.includes("touch")&&z.preventDefault();else if(te>Math.abs(oe)){We(!1);return}}}if(kn){if(z.type.includes("touch")&&z.preventDefault(),oe>0&&oe<=100)ra(oe);else if(oe<0&&Ca>0){const he=Ca+oe;ra(Math.max(0,he)),kt(V)}}},fr=()=>{We(!1),kn&&(Sn(!1),ra(Ca>40?80:0))},Jn=()=>{a(e.id)},su=z=>{pe(V=>V.includes(z)?V.filter(se=>se!==z):[...V,z])};return o.jsxs("div",{ref:vt,style:Me,className:`todo-item-container ${l?"focused":""}`,children:[o.jsxs("span",{className:"todo-number",onClick:()=>c(e.id),children:[l&&o.jsx("span",{className:"focus-icon",children:""}),t+1]}),o.jsxs("div",{className:"todo-item-wrapper",children:[o.jsx("div",{className:"swipe-background",children:o.jsx("button",{onClick:Jn,className:"swipe-delete-button",title:"",children:""})}),o.jsxs("div",{...Fe,...Vt,className:`todo-item ${e.completed?"completed":""} ${T?"expanded":""} ${sn?"drag-mode":""}`,style:{transform:`translateX(-${Ca}px)`,transition:kn||sn?"none":"transform 0.3s ease"},onMouseDown:dr,onMouseMove:ms,onMouseUp:fr,onMouseLeave:fr,onTouchStart:dr,onTouchMove:ms,onTouchEnd:fr,onContextMenu:z=>z.preventDefault(),children:[o.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),o.jsx("div",{className:"todo-content",onClick:()=>!j&&St&&A(!T),onDoubleClick:ft,style:{cursor:j?"text":St?"pointer":"default"},children:j?o.jsx("input",{type:"text",value:U,onChange:z=>Y(z.target.value),onBlur:It,onKeyDown:la,className:"todo-edit-input",autoFocus:!0}):o.jsx("span",{className:`todo-text ${T?"expanded":""}`,children:e.text})}),(()=>{const z=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,V=e.routine_id&&st,se=g||e.is_pending_routine;return(f.length>0||z||V||se)&&o.jsxs("div",{className:"todo-badges",children:[z&&(()=>{const oe=new Date(e.completed_at).toISOString().split("T")[0],te=new Date(e.completed_at).getDate();return o.jsxs("span",{className:"completed-date-badge",title:`${oe} `,children:[te,""]})})(),V&&(()=>{const oe=b||e.date,te=new Date(oe+"T00:00:00"),he=te.getMonth()+1,Se=te.getDate(),rn=["","","","","","",""][te.getDay()],gs=`${he}/${Se}(${rn})`;return o.jsxs("span",{className:"routine-date-badge",title:`${st.text} `,children:["for ",gs]})})(),se&&o.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),f.length>0&&o.jsx("span",{className:"todo-badge clickable",title:" ",onClick:oe=>{oe.stopPropagation(),ge?(ie(!1),ue(!1),H(!1)):(ie(!0),ue(!0),H(!1),_e(!1),we(!1))},children:""})]})})(),!j&&!e.parent_id&&o.jsx("button",{className:"todo-more-button",onClick:z=>{z.stopPropagation(),He(!0),bn(null),ut(!1),Yt([]),_n("")},title:"",children:""}),ge&&!e.parent_id&&o.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((z,V)=>o.jsx(Vo,{todo:z,index:V,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:[],level:h+1,routines:y,onShowRoutineHistory:E,showSuccessMessage:S,onOpenRoutineSetupModal:x,onOpenHistoryModal:N,currentPageDate:b},z.id)),Ue&&o.jsxs("div",{className:"subtodo-input-section",children:[o.jsx("input",{type:"text",value:G,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&G.trim()&&(u(e.id,G.trim()),K(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),o.jsx("button",{onClick:()=>{G.trim()&&(u(e.id,G.trim()),K(""))},className:"subtodo-add-button",children:""}),o.jsx("button",{onClick:()=>{K("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),nt&&o.jsx("div",{className:"modal-overlay",onClick:()=>He(!1),children:o.jsxs("div",{className:"actions-modal-content",onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"actions-modal-header",children:[o.jsx("h3",{children:" "}),o.jsx("button",{onClick:()=>He(!1),className:"modal-close-button",children:""})]}),o.jsx("div",{className:"todo-edit-section",children:o.jsx("textarea",{value:U,onChange:z=>Y(z.target.value),onBlur:()=>{U.trim()!==""&&U!==e.text?s(e.id,U):U.trim()===""&&Y(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),o.jsxs("div",{className:"actions-modal-body",children:[o.jsxs("div",{className:"actions-menu",children:[o.jsxs("button",{className:`action-menu-item ${Xe==="nanotodo"?"active":""}`,onClick:()=>bn("nanotodo"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${Xe==="routine"?"active":""}`,onClick:()=>{bn("routine");const z=y.find(V=>V.id===e.routine_id);z?(Yt(z.days||[]),_n(z.time_slot||""),ut(!1)):(Yt([]),_n(""),ut(!0))},children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${Xe==="history"?"active":""}`,onClick:()=>bn("history"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),e.routine_id&&st&&o.jsxs("button",{className:`action-menu-item ${Xe==="routine-stats"?"active":""}`,onClick:()=>bn("routine-stats"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item delete ${Xe==="delete"?"active":""}`,onClick:()=>bn("delete"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]})]}),o.jsxs("div",{className:"actions-detail",children:[!Xe&&o.jsx("div",{className:"actions-detail-empty",children:o.jsx("p",{children:"  "})}),Xe==="nanotodo"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&o.jsx("div",{className:"subtodo-list-in-modal",children:f.map(z=>o.jsxs("div",{className:"subtodo-item-in-modal",children:[o.jsx("input",{type:"checkbox",checked:z.completed,onChange:()=>n(z.id),className:"subtodo-checkbox-modal"}),o.jsx("span",{className:`subtodo-text-modal ${z.completed?"completed":""}`,children:z.text}),o.jsx("button",{onClick:()=>a(z.id),className:"subtodo-delete-modal",title:"",children:""})]},z.id))}),o.jsxs("div",{className:"subtodo-input-section-modal",children:[o.jsx("input",{type:"text",value:G,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&G.trim()&&(u(e.id,G.trim()),K(""))},placeholder:" ...",className:"subtodo-input-modal"}),o.jsx("button",{onClick:()=>{G.trim()&&(u(e.id,G.trim()),K(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),Xe==="routine"&&(()=>{const z=y.find(V=>V.id===e.routine_id);return o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{className:"routine-setup-inline",children:z&&!tn?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Ds.filter(V=>z.days.includes(V.key)).map(V=>o.jsx("span",{className:"routine-day-badge",children:V.label},V.key))}),z.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",z.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:V=>{V.stopPropagation(),z&&(Yt(z.days),_n(z.time_slot||""),ut(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async V=>{V.stopPropagation(),z&&e&&(await m(e.id,e.text,[],null,!0),He(!1))},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:tn?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(V=>o.jsx("button",{onClick:se=>{se.stopPropagation(),Un(V.key)},className:`day-button-inline ${Xn.includes(V.key)?"selected":""}`,children:V.label},V.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx(Uf,{value:Qn,onChange:V=>_n(V)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async V=>{V.stopPropagation(),e&&(tn&&z?await m(e.id,e.text,Xn,z.id,!1,Qn):await m(e.id,e.text,Xn,null,!1,Qn),ut(!1),He(!1))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:V=>{V.stopPropagation(),ut(!1),Yt([]),_n("")},className:"routine-cancel-button",children:""})]})]})})]})})(),Xe==="history"&&(()=>{const z=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],V=z[0],se=z.map(te=>({id:`${e.id}-${te}`,date:te})),oe=Mt[e.id]||[];return Ct?o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:i(e.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:r(V?new Date(V+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),se.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:se.map((te,he)=>{const Se=te.date===e.date,Ne=r(new Date(te.date+"T00:00:00"));return o.jsxs("span",{children:[he>0&&"  ",o.jsxs("span",{style:Se?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ne.split("(")[0],Se?"()":""]})]},te.id)})})]}),(()=>{const te=new Date(e.created_at).toISOString().split("T")[0],he=e.date;return te!==he&&se.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),oe.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",oe.length,")"]}),oe.map(te=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[i(te.changed_at),te.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(te.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:he=>{he.stopPropagation(),su(te.id)},children:At.includes(te.id)?"":""})]}),At.includes(te.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:te.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:te.new_text})]})]})]},te.id))]})]})]})})(),Xe==="routine-stats"&&st&&(()=>{if(!Rt||Rt.id!==st.id||at.length===0)return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",st.text," "]}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Rt||Rt.id!==st.id?" ...":" ."})]});const z=at[0],V=new Date(z.date),se=new Date,oe={};at.forEach(Se=>{oe[Se.date]=Se.completed});const te=[];let he=new Date(V);for(;he<=se;){const Se=he.getFullYear(),Ne=he.getMonth(),rn=`${Se}-${Ne+1}`;te.find(mr=>mr.key===rn)||te.push({key:rn,year:Se,month:Ne,days:[]});const gs=te.find(mr=>mr.key===rn),Zn=Gt(he),ys=he.getDay(),hr=oa(ys),Hl=st.days.includes(hr);gs.days.push({date:new Date(he),dateStr:Zn,day:he.getDate(),dayOfWeek:ys,isCompleted:oe[Zn]===!0,isRoutineDay:Hl,hasTodo:oe[Zn]!==void 0}),he.setDate(he.getDate()+1)}return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",st.text," "]}),o.jsxs("div",{className:"routine-history-content",children:[o.jsx("div",{className:"routine-history-calendar",children:te.map(Se=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[Se.year," ",Se.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),Se.days.length>0&&Array(Se.days[0].dayOfWeek).fill(null).map((Ne,rn)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${rn}`)),Se.days.map((Ne,rn)=>{if(rn>0&&Ne.day===1){const Zn=6-Se.days[rn-1].dayOfWeek;return o.jsxs($e.Fragment,{children:[Array(Zn).fill(null).map((ys,hr)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${rn}-${hr}`)),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${Ne.isCompleted?"completed":""} ${Ne.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:Ne.day}),Ne.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]},Ne.dateStr)}return o.jsxs("div",{className:`history-day-cell ${Ne.isCompleted?"completed":""} ${Ne.isRoutineDay?"":"not-routine-day"}`,title:`${Ne.dateStr}${Ne.isRoutineDay?"":" (  )"}${Ne.isCompleted?" - ":Ne.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:Ne.day}),Ne.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},Ne.dateStr)})]})]},Se.key))}),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[at.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[at.filter(Se=>Se.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[at.filter(Se=>!Se.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[at.length>0?Math.round(at.filter(Se=>Se.completed).length/at.length*100):0,"%"]})]})]})]})]})})(),Xe==="delete"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:e.text})}),(()=>{var oe;const z=((oe=e.visible_dates)==null?void 0:oe.length)>0?e.visible_dates:[e.date||e.created_date],V=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await zn(e),He(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Ll(e),He(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await ur(e),He(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):z.length>1||V?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await zn(e),He(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await cr(e),He(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsx("div",{className:"delete-options-simple",children:o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await cr(e),He(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}const $y=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function KO(){var pm,bm;const[e,t]=w.useState(null),[n,a]=w.useState(!0),[s,i]=w.useState([]),[r,l]=w.useState(""),[c,u]=w.useState(""),[f,h]=w.useState(""),[m,y]=w.useState(!0),[E,x]=w.useState(!1),[N,b]=w.useState(!1),[g,p]=w.useState(new Date),[S,T]=w.useState(null),[A,j]=w.useState(!1),[M,U]=w.useState(!1),[Y,X]=w.useState(""),[ie,ge]=w.useState(null),[ue,Ue]=w.useState(!1),[H,G]=w.useState([]),K=(d,v=null)=>(X(d),ge(v),U(!0),setTimeout(()=>{U(!1),X(""),ge(null)},5e3)),le=async()=>{if(ie)try{const{type:d,todoId:v,routineId:_,hiddenDate:D,wasDeleted:O}=ie;if(d==="hideOnDate"){const{data:C,error:k}=await q.from("todos").select("*").eq("id",v).single();if(k)throw k;let B={hidden_dates:(C.hidden_dates||[]).filter(I=>I!==D)};O&&(B.deleted=!1,B.deleted_date=null);const{error:L}=await q.from("todos").update(B).eq("id",v);if(L)throw L}else if(d==="stopRoutineFromToday"){const{error:C}=await q.from("routines").update({deleted:!1}).eq("id",_);if(C)throw C;const{data:k,error:R}=await q.from("todos").select("*").eq("id",v).single();if(R)throw R;const B=(k.hidden_dates||[]).filter(I=>I!==D),{error:L}=await q.from("todos").update({hidden_dates:B}).eq("id",v);if(L)throw L}else if(d==="deleteRoutineCompletely"){const{error:C}=await q.from("routines").update({deleted:!1}).eq("id",_);if(C)throw C;const{error:k}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",v);if(k)throw k}U(!1),X(""),ge(null),Ra()}catch(d){console.error("  :",d.message),alert("   .")}},[_e,Le]=w.useState(null),[xe,Oe]=w.useState(!1),[re,Ee]=w.useState([]),[we,en]=w.useState(""),[Nt,At]=w.useState([]),[pe,ia]=w.useState(""),[Dt,Kn]=w.useState(!1),[qt,nt]=w.useState(!1),He=w.useRef(new Set),[Xe,bn]=w.useState(null),[tn,ut]=w.useState(""),[Xn,Yt]=w.useState(!1),[Qn,_n]=w.useState(null),[Mt,fs]=w.useState([]),[Ct,nn]=w.useState([]),[Rt,Aa]=w.useState([]),[at,Da]=w.useState(!1),[st,Ca]=w.useState(!1),[ra,hs]=w.useState(!1),[kt,wn]=w.useState(""),[or,kn]=w.useState(!1),[Sn,Qe]=w.useState(!1),[We,Fe]=w.useState(""),[Vt,vt]=w.useState(!1),dt=w.useRef(null),[an,sn]=w.useState(!1),[Me,St]=w.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),ft=w.useRef(null),[It,la]=w.useState(null),[Un,Gt]=w.useState([]),[oa,zn]=w.useState(!1),[cr,Ll]=w.useState(!1),[ur,dr]=w.useState([]),[ms,fr]=w.useState("1week"),[Jn,su]=w.useState([]),[z,V]=w.useState(!1),[se,oe]=w.useState(""),[te,he]=w.useState(null),[Se,Ne]=w.useState(""),[rn,gs]=w.useState(!1),[Zn,ys]=w.useState(""),[hr,Hl]=w.useState(!1),[mr,Wh]=w.useState(!1),[ql,Yl]=w.useState(null),[w_,S_]=w.useState({}),[Fh,em]=w.useState([]),[iu,gr]=w.useState([]),[ru,Vl]=w.useState(!1),[lu,yr]=w.useState(""),[Pn,x_]=w.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Qs,Js]=w.useState(!1),[tm,Il]=w.useState(["memo","routine","normal","key-thoughts"]),ou=w.useRef(new Set),cu=w.useRef(!1),vs=w.useRef(null),[vr,E_]=w.useState(0),uu=w.useRef(null),[T_,pr]=w.useState(!1),[Gl,du]=w.useState(null),qe=d=>{const v=d.getFullYear(),_=String(d.getMonth()+1).padStart(2,"0"),D=String(d.getDate()).padStart(2,"0");return`${v}-${_}-${D}`},Wn=d=>{const v=String(d.getFullYear()).slice(2),_=String(d.getMonth()+1).padStart(2,"0"),D=String(d.getDate()).padStart(2,"0"),C=["","","","","","",""][d.getDay()];return`${v}.${_}.${D}(${C})`},nm=d=>{const v=new Date;return qe(d)===qe(v)},Kl=()=>{if(Jn.length===0)return"";const d=Math.floor(Math.random()*Jn.length);return Jn[d]},j_=()=>{gs(!0);let d=Kl(),v=0;for(;d===Zn&&Jn.length>1&&v<10;)d=Kl(),v++;setTimeout(()=>{gs(!1),ys(d)},1e3)},ps=d=>{const v=new Date(d),_=String(v.getFullYear()).slice(2),D=String(v.getMonth()+1).padStart(2,"0"),O=String(v.getDate()).padStart(2,"0"),C=String(v.getHours()).padStart(2,"0"),k=String(v.getMinutes()).padStart(2,"0"),B=["","","","","","",""][v.getDay()];return`${_}.${D}.${O}(${B}) ${C}:${k}`},O_=async()=>{try{const d=`DUMMY-${Date.now()}`,v=new Date(2025,10,16),_=[],D=[],O="2025-11-14";_.push({text:`[${d}] : 14--`,date:O,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${d}] : 14-14`,date:O,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${d}] : 14-15`,date:O,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${d}] : 14-16`,date:O,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const C="2025-11-15";_.push({text:`[${d}] : 15--`,date:C,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${d}] : 15-15`,date:C,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${d}] : 15-16`,date:C,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const k="2025-11-16";_.push({text:`[${d}] : 16-`,date:k,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${d}] : 16-16`,date:k,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),_.push({text:`[${d}] : 14-15-`,date:C,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${d}] : 14-15-15`,date:C,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),_.push({text:`[${d}] : 15-16-`,date:k,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${d}] : 15-16-16`,date:k,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${d}] : 14-16-`,date:k,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${d}] : 14-16-16`,date:k,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const R="2025-11-17";_.push({text:`[${d}] : 16-17-`,date:R,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${d}] : 15-17-`,date:R,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${d}] : 14-17-`,date:R,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const B="2025-11-18";_.push({text:`[${d}] : 16-18-`,date:B,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${d}] : 15-18-`,date:B,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:L,error:I}=await q.from("todos").insert(_).select();if(I)throw I;const P=L.find(ee=>ee.text.includes("14--"));P&&D.push({todo_id:P.id,previous_text:`[${d}] : 14--1`,new_text:`[${d}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:C},{todo_id:P.id,previous_text:`[${d}] : 14--2`,new_text:`[${d}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:k});const J=L.find(ee=>ee.text.includes("15--"));if(J&&D.push({todo_id:J.id,previous_text:`[${d}] : 15--1`,new_text:`[${d}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:k}),D.length>0){const{error:ee}=await q.from("todo_history").insert(D);ee&&console.error("  :",ee.message)}Aa(ee=>[...ee,{sessionId:d,createdAt:new Date().toISOString(),count:_.length,historyCount:D.length}]),alert(`    !
: ${_.length}
: ${D.length}
 ID: ${d}`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},N_=async d=>{if(window.confirm(`   "${d}"   ?

      ,     .`))try{const{data:_,error:D}=await q.from("todos").select("id").like("text",`[${d}]%`);if(D)throw D;if(_&&_.length>0){const C=_.map(R=>R.id),{error:k}=await q.from("todo_history").delete().in("todo_id",C);k&&console.error("  :",k.message)}const{error:O}=await q.from("todos").delete().like("text",`[${d}]%`);if(O)throw O;Aa(C=>C.filter(k=>k.sessionId!==d)),alert(`  ${d}  !`),Ra()}catch(_){console.error("   :",_.message),alert("    : "+_.message)}},A_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:v,error:_}=await q.from("todos").select("id").like("text","[DUMMY-%");if(_)throw _;if(v&&v.length>0){const O=v.map(k=>k.id),{error:C}=await q.from("todo_history").delete().in("todo_id",O);C&&console.error("  :",C.message)}const{error:D}=await q.from("todos").delete().like("text","[DUMMY-%");if(D)throw D;Aa([]),alert("     !"),Ra()}catch(v){console.error("    :",v.message),alert("     : "+v.message)}},D_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(v)throw v;if(!d||d.length===0){alert(" .");return}const _={};d.forEach(I=>{_[I.text]||(_[I.text]=[]),_[I.text].push(I)});const D=Object.entries(_).filter(([I,P])=>P.length>1);if(D.length===0){alert("  .");return}let O=`  :

`,C=[];if(D.forEach(([I,P])=>{O+=`"${I}" - ${P.length}
`;const J=P.slice(1);C.push(...J),J.forEach(be=>{const Kt=new Date(be.created_at).toLocaleString("ko-KR");O+=`    : ${Kt}
`});const ee=P[0],ce=new Date(ee.created_at).toLocaleString("ko-KR");O+=`   : ${ce}

`}),O+=`
 ${C.length}   .`,!window.confirm(O+`

     ,     .

?`))return;const R=C.map(I=>I.id),{error:B}=await q.from("todo_history").delete().in("todo_id",R);B&&console.error("  :",B.message);const{error:L}=await q.from("todos").delete().in("id",R);if(L)throw L;alert(` ${C.length}   .`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},C_=()=>{const d=new Date(g);d.setDate(d.getDate()-1),p(d)},R_=()=>{const d=new Date(g);d.setDate(d.getDate()+1),p(d)},M_=d=>{const v=new Date(d.target.value+"T00:00:00");p(v)},k_=async(d,v)=>{try{const _=qe(d),D=qe(v),{data:O,error:C}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(C)throw C;const k=(O||[]).filter(R=>R.hidden_dates&&Array.isArray(R.hidden_dates)&&R.hidden_dates.includes(_)?!1:R.visible_dates&&Array.isArray(R.visible_dates)&&R.visible_dates.length>0?R.visible_dates.includes(_):R.date===_);if(k.length===0)return;for(const R of k){let B=R.visible_dates||[R.date];if(B.includes(D))continue;const L=[...B,D].sort(),{error:I}=await q.from("todos").update({visible_dates:L}).eq("id",R.id);I&&console.error(` ${R.id}  :`,I.message)}}catch(_){console.error("   :",_.message)}},am=async()=>{try{const{data:d,error:v}=await q.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(v)throw v;Ee(d||[])}catch(d){console.error("  :",d.message)}},U_=async()=>{var d;if(!(we.trim()===""||Dt))try{Kn(!0);const v={text:we,days:Nt,start_date:qe(g),user_id:(d=e==null?void 0:e.user)==null?void 0:d.id};pe&&(v.time_slot=pe);const{data:_,error:D}=await q.from("routines").insert([v]).select();if(D)throw D;Ee([_[0],...re]),en(""),At([]),ia("")}catch(v){console.error("  :",v.message)}finally{Kn(!1)}},Zs=async(d,v,_,D=null,O=!1,C="",k=null)=>{var R;try{if(O){const{error:B}=await q.from("todos").update({routine_id:null}).eq("id",d);if(B)throw B;i(L=>L.map(I=>I.id===d?{...I,routine_id:null}:I));return}if(D){const{error:B}=await q.from("routines").update({days:_,time_slot:C}).eq("id",D);if(B)throw B;const{error:L}=await q.from("todos").update({is_pending_routine:_.length===0}).eq("id",d);if(L)throw L;Ee(I=>I.map(P=>P.id===D?{...P,days:_,time_slot:C}:P)),i(I=>I.map(P=>P.id===d?{...P,is_pending_routine:_.length===0}:P))}else{const B={text:v,days:_,time_slot:C,start_date:k||qe(g),user_id:(R=e==null?void 0:e.user)==null?void 0:R.id},{data:L,error:I}=await q.from("routines").insert([B]).select();if(I)throw I;const{error:P}=await q.from("todos").update({routine_id:L[0].id,is_pending_routine:_.length===0}).eq("id",d);if(P)throw P;i(J=>J.map(ee=>ee.id===d?{...ee,routine_id:L[0].id,is_pending_routine:_.length===0}:ee)),Ee(J=>[L[0],...J])}}catch(B){console.error("  :",B.message)}},z_=d=>{bn(d.id),ut(d.text),nn(d.days)},sm=()=>{bn(null),ut(""),nn([])},$_=async()=>{if(!(!Xe||tn.trim()===""||Ct.length===0))try{const{error:d}=await q.from("routines").update({text:tn.trim(),days:Ct}).eq("id",Xe);if(d)throw d;Ee(re.map(v=>v.id===Xe?{...v,text:tn.trim(),days:Ct}:v)),sm()}catch(d){console.error("  :",d.message)}},B_=d=>{nn(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},L_=async d=>{const v=re.find(O=>O.id===d),_=v?v.text:" ";if(window.confirm(`  "${_}"() ?

    ,     .
(   )`))try{const{error:O}=await q.from("routines").update({deleted:!0}).eq("id",d);if(O)throw O;const{error:C}=await q.from("todos").update({routine_id:null}).eq("routine_id",d);C&&console.error("  ID  :",C.message),Ee(re.filter(k=>k.id!==d)),i(k=>k.map(R=>R.routine_id===d?{...R,routine_id:null}:R))}catch(O){console.error("  :",O.message)}},H_=async d=>{if(!cu.current)try{cu.current=!0;const{data:v,error:_}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(_)throw _;if(!v||v.length===0)return;const D=v.filter(O=>{const C=new Date(O.created_at);return!(qe(C)>=d||(O.visible_dates||[]).includes(d)||(O.hidden_dates||[]).includes(d))});for(const O of D){const C=[...O.visible_dates||[],d],{error:k}=await q.from("todos").update({visible_dates:C}).eq("id",O.id);k&&console.error(` ${O.id}  :`,k.message)}}catch(v){console.error("  :",v.message)}finally{cu.current=!1}},im=async d=>{var v;if(!ou.current.has(d))try{ou.current.add(d);const _=new Date(d),D=$y(_.getDay()),{data:O,error:C}=await q.from("routines").select("*").eq("deleted",!1);if(C)throw C;const k=O.filter(R=>{const B=R.days||[],L=B.length===0||B.includes(D);if(R.start_date){const I=new Date(R.start_date),P=_>=I;return L&&P}return L});if(k.length===0)return;for(const R of k){const B=R.text,{data:L,error:I}=await q.from("todos").select("*").eq("routine_id",R.id).eq("deleted",!1);if(I)throw I;if(L&&L.length>1){console.warn(` ${R.id}    (${L.length}).     .`);for(let J=1;J<L.length;J++)await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",L[J].id)}const P=L&&L.length>0?L[0]:null;if(P){const J=P.visible_dates||[];if(J.includes(d))continue;const ee=[...J,d].sort(),{error:ce}=await q.from("todos").update({visible_dates:ee}).eq("id",P.id);ce&&console.error("    :",ce.message)}else{const{error:J}=await q.from("todos").insert([{text:B,completed:!1,date:d,visible_dates:[d],hidden_dates:[],order_index:0,routine_id:R.id,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]);J&&console.error("   :",J.message)}}}catch(_){console.error("   :",_.message)}finally{setTimeout(()=>{ou.current.delete(d)},1e3)}},q_=async()=>{const v=qe(new Date);await im(v)},Xl=async d=>{try{const{data:v,error:_}=await q.from("todos").select("*").eq("routine_id",d.id).eq("deleted",!1);if(_)throw _;const D=v&&v.length>0?v[0]:null;if(D&&D.visible_dates){const O=D.visible_dates.sort().map(C=>({id:`${D.id}-${C}`,date:C,text:D.text,completed:D.completed,routine_id:D.routine_id}));fs(O)}else fs([]);_n(d),Yt(!0)}catch(v){console.error("   :",v.message),alert("   : "+v.message)}},rm=()=>{Yt(!1),_n(null),fs([])},Y_=()=>{Oe(!0),am()},lm=()=>{Oe(!1),en(""),At([])},V_=d=>{At(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])};w.useEffect(()=>{let d=null;const v=()=>{document.body.classList.add("is-scrolling"),d&&clearTimeout(d),d=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v),d&&clearTimeout(d)}},[]),w.useEffect(()=>{q.auth.getSession().then(({data:{session:v}})=>{t(v),a(!1)});const{data:{subscription:d}}=q.auth.onAuthStateChange((v,_)=>{t(_)});return()=>d.unsubscribe()},[]),w.useEffect(()=>{e&&am()},[e]),w.useEffect(()=>{e&&Ql()},[e]),w.useEffect(()=>{e&&mm()},[e]),w.useEffect(()=>{e&&(uw(),fw())},[e]),w.useEffect(()=>{if(!e)return;const d=setTimeout(()=>{Me.length>0&&vm()},1e3);return()=>clearTimeout(d)},[Me,e]),w.useEffect(()=>{e&&yw()},[e]),w.useEffect(()=>{Jn.length>0&&!Zn&&ys(Kl())},[Jn]),w.useEffect(()=>{if(!vs.current)return;const d=vs.current,v=Pn==="horizontal";let _=!1,D=0,O=0,C=0;const k=J=>J.type.includes("touch")?v?J.touches[0].pageX:J.touches[0].pageY:v?J.pageX:J.pageY,R=J=>{J.target.closest(".section-block")||(_=!0,D=k(J),O=v?d.scrollLeft:d.scrollTop,d.style.transition="none",d.style.transform=v?"translateX(0)":"translateY(0)",C=0)},B=()=>{_&&C!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",C=0},300)),_=!1},L=()=>{C!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",C=0},300)),_=!1},I=J=>{if(!_)return;J.preventDefault();const ce=(k(J)-D)*1.5,be=O-ce,Kt=v?d.scrollWidth-d.clientWidth:d.scrollHeight-d.clientHeight;if(be<0){const Ps=-be;C=Math.min(Ps*.3,100),v?(d.scrollLeft=0,d.style.transform=`translateX(${C}px)`):(d.scrollTop=0,d.style.transform=`translateY(${C}px)`)}else if(be>Kt){const Ps=be-Kt;C=-Math.min(Ps*.3,100),v?(d.scrollLeft=Kt,d.style.transform=`translateX(${C}px)`):(d.scrollTop=Kt,d.style.transform=`translateY(${C}px)`)}else C=0,d.style.transform=v?"translateX(0)":"translateY(0)",v?d.scrollLeft=be:d.scrollTop=be},P=J=>{v&&J.target.closest(".section-block")&&J.deltaX!==0&&J.preventDefault()};return d.addEventListener("mousedown",R),document.addEventListener("mouseup",L),document.addEventListener("mouseleave",B),d.addEventListener("mousemove",I),d.addEventListener("touchstart",R,{passive:!0}),d.addEventListener("touchmove",I,{passive:!1}),d.addEventListener("touchend",L),d.addEventListener("touchcancel",L),d.addEventListener("wheel",P,{passive:!1}),()=>{d.removeEventListener("mousedown",R),document.removeEventListener("mouseup",L),document.removeEventListener("mouseleave",B),d.removeEventListener("mousemove",I),d.removeEventListener("touchstart",R),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",L),d.removeEventListener("touchcancel",L),d.removeEventListener("wheel",P)}},[Pn,s,re]),w.useEffect(()=>{if(Pn!=="horizontal"||!vs.current)return;const d=vs.current,v=()=>{const _=d.querySelectorAll(".section-block");if(_.length===0)return;const D=d.getBoundingClientRect(),O=D.left+D.width/2;let C=0,k=1/0;_.forEach((R,B)=>{const L=R.getBoundingClientRect(),I=L.left+L.width/2,P=Math.abs(I-O);P<k&&(k=P,C=B)}),E_(C)};return d.addEventListener("scroll",v),v(),()=>d.removeEventListener("scroll",v)},[Pn,s,re]),w.useEffect(()=>{if(!uu.current)return;const d=uu.current;let v=!1,_=0,D=0,O=0;const C=L=>{L.target.closest(".section-block")||(v=!0,_=L.pageY,D=d.scrollTop,d.style.transition="none",d.style.transform="translateY(0)",O=0)},k=()=>{v&&O!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",O=0},300)),v=!1},R=()=>{O!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",O=0},300)),v=!1},B=L=>{if(!v)return;L.preventDefault();const P=(L.pageY-_)*1.5,J=D-P,ee=d.scrollHeight-d.clientHeight;if(J<0){const ce=-J;O=Math.min(ce*.3,100),d.scrollTop=0,d.style.transform=`translateY(${O}px)`}else if(J>ee){const ce=J-ee;O=-Math.min(ce*.3,100),d.scrollTop=ee,d.style.transform=`translateY(${O}px)`}else O=0,d.style.transform="translateY(0)",d.scrollTop=J};return d.addEventListener("mousedown",C),document.addEventListener("mouseup",R),document.addEventListener("mouseleave",k),d.addEventListener("mousemove",B),()=>{d.removeEventListener("mousedown",C),document.removeEventListener("mouseup",R),document.removeEventListener("mouseleave",k),d.removeEventListener("mousemove",B)}},[s,re]),w.useEffect(()=>{cr&&fm()},[ms]),w.useEffect(()=>{const d=async()=>{const _=new Date,D=new Date(_);D.setHours(24,0,0,0);const O=D.getTime()-_.getTime();return setTimeout(async()=>{const k=new Date(_),R=new Date(_);R.setDate(R.getDate()+1),await k_(k,R),await q_(),p(new Date),d()},O)},v=d();return()=>clearTimeout(v)},[]),w.useEffect(()=>{Ra();const d=qe(g),v=q.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${d}`},_=>{_.eventType==="INSERT"?i(D=>D.some(C=>C.id===_.new.id)?D:[...D,_.new].sort((C,k)=>C.order_index-k.order_index)):_.eventType==="UPDATE"?i(D=>He.current.has(_.new.id)?D:D.map(O=>O.id===_.new.id?_.new:O).sort((O,C)=>O.order_index-C.order_index)):_.eventType==="DELETE"&&i(D=>D.filter(O=>O.id!==_.old.id))}).subscribe(_=>{});return()=>{q.removeChannel(v)}},[g]),w.useEffect(()=>{if(E){const d=window.scrollY,v=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",v>0&&(document.body.style.paddingRight=`${v}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,d)}}},[E]);const Ql=async()=>{try{const{data:d,error:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(v)throw v;if(d&&d.length>0){const _=d.map(D=>D.message);su(_),Zn||ys(_[0])}}catch(d){console.error("   :",d.message)}},om=async d=>{var v;try{const{data:_}=await q.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),D=_&&_.length>0?_[0].order_index:0,{error:O}=await q.from("encouragement_messages").insert([{message:d,order_index:D+1,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]);if(O)throw O;await Ql()}catch(_){console.error("   :",_.message),alert("   .")}},I_=async(d,v)=>{try{const{data:_}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!_||d>=_.length)throw new Error("   .");const D=_[d],{error:O}=await q.from("encouragement_messages").update({message:v}).eq("id",D.id);if(O)throw O;await Ql()}catch(_){console.error("   :",_.message),alert("   .")}},G_=async d=>{try{const{data:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!v||d>=v.length)throw new Error("   .");const _=v[d],{error:D}=await q.from("encouragement_messages").delete().eq("id",_.id);if(D)throw D;await Ql()}catch(v){console.error("   :",v.message),alert("   .")}},Ra=async()=>{try{y(!0);const d=qe(g);nm(g)&&await H_(d),await im(d);const{data:v,error:_}=await q.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(_)throw _;const D=(v||[]).filter(O=>O.hidden_dates&&Array.isArray(O.hidden_dates)&&O.hidden_dates.includes(d)?!1:O.visible_dates&&Array.isArray(O.visible_dates)&&O.visible_dates.length>0?O.visible_dates.includes(d):O.date===d);i(D)}catch(d){console.error("   :",d.message)}finally{y(!1)}},K_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(v)throw v;G(d||[])}catch(d){console.error("  :",d.message)}},X_=async()=>{var d,v;if(!(c.trim()===""||N))try{b(!0);const _=qe(g),{data:D,error:O}=await q.from("routines").insert([{text:c,days:[],start_date:_,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]).select();if(O)throw O;const C=D[0],k=s.filter(I=>!I.parent_id&&I.is_pending_routine),R=k.length>0?Math.max(...k.map(I=>I.order_index))+1:1,{data:B,error:L}=await q.from("todos").insert([{text:c,completed:!1,order_index:R,date:_,visible_dates:[_],hidden_dates:[],routine_id:C.id,is_pending_routine:!0,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]).select();if(L)throw L;Ee([C,...re]),i([...s,B[0]]),u("")}catch(_){console.error("   :",_.message)}finally{b(!1)}},Q_=async()=>{var d;if(!(f.trim()===""||N))try{b(!0);const v=s.filter(k=>!k.parent_id&&k.routine_id===null),_=v.length>0?Math.max(...v.map(k=>k.order_index))+1:1,D=qe(g),{data:O,error:C}=await q.from("todos").insert([{text:f,completed:!1,order_index:_,date:D,visible_dates:[D],hidden_dates:[],user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]).select();if(C)throw C;i([...s,O[0]]),h("")}catch(v){console.error("   :",v.message)}finally{b(!1)}},fu=async d=>{const v=s.find(_=>_.id===d);if(v)try{const _=!v.completed,D=_?new Date().toISOString():null,{error:O}=await q.from("todos").update({completed:_,completed_at:D}).eq("id",d);if(O)throw O;i(s.map(C=>C.id===d?{...C,completed:_,completed_at:D}:C))}catch(_){console.error("   :",_.message)}},hu=d=>{i(s.filter(v=>v.id!==d))},mu=async d=>{var O;const v=s.find(C=>C.id===d);if(!v)return;const _=((O=v.visible_dates)==null?void 0:O.length)>0?v.visible_dates:[v.date||v.created_date],D=v.original_todo_id!==null&&v.original_todo_id!==void 0;_.length>1||D?(du(v),pr(!0)):await J_(d)},J_=async d=>{try{const v=s.find(O=>O.id===d);if(!v)return;T(v);const _=qe(g),{error:D}=await q.from("todos").update({deleted:!0,deleted_date:_}).eq("id",d);if(D)throw D;i(s.filter(O=>O.id!==d)),j(!0),setTimeout(()=>{j(!1),T(null)},5e3)}catch(v){console.error("   :",v.message)}},Z_=async d=>{try{const v=qe(g),D=[...d.hidden_dates||[],v],{error:O}=await q.from("todos").update({hidden_dates:D}).eq("id",d.id);if(O)throw O;i(s.filter(C=>C.id!==d.id)),pr(!1),du(null)}catch(v){console.error(" :",v.message)}},P_=async d=>{try{const v=qe(g),{error:_}=await q.from("todos").update({deleted:!0,deleted_date:v}).eq("id",d.id);if(_)throw _;i(s.filter(D=>D.id!==d.id)),pr(!1),du(null)}catch(v){console.error(" :",v.message)}},W_=async()=>{if(S)try{const{error:d}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",S.id);if(d)throw d;i(v=>{const _={...S,deleted:!1,deleted_date:null};return[...v,_].sort((O,C)=>O.order_index-C.order_index)}),j(!1),T(null)}catch(d){console.error("  :",d.message)}},F_=async d=>{if(window.confirm(`  ?

      .`))try{const{error:_}=await q.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",d);if(_)throw _;G(H.filter(D=>D.id!==d)),Ra(),alert(" !")}catch(_){console.error(" :",_.message),alert("  : "+_.message)}},ew=async d=>{if(window.confirm(`     ?

    .`))try{const{error:_}=await q.from("todos").delete().eq("id",d);if(_)throw _;G(H.filter(D=>D.id!==d)),alert("  .")}catch(_){console.error("  :",_.message),alert("   : "+_.message)}},tw=async()=>{if(!(H.length===0||!window.confirm(`   ?

${H.length}   .
    .`)))try{const v=H.map(D=>D.id),{error:_}=await q.from("todos").delete().in("id",v);if(_)throw _;G([]),alert(` ${v.length}   .`)}catch(v){console.error("  :",v.message),alert("   : "+v.message)}},nw=()=>{Ue(!0),K_()},cm=()=>{Ue(!1)},aw=async()=>{Ll(!0),await fm()},um=()=>{Ll(!1),dr([])},gu=async d=>{Yl(d);try{const{data:v,error:_}=await q.from("todo_history").select("*").eq("todo_id",d.id).order("changed_at",{ascending:!1});if(_)throw _;S_(D=>({...D,[d.id]:v||[]}))}catch(v){console.error("Error fetching history:",v)}Hl(!0)},dm=()=>{Hl(!1),Yl(null),em([])},sw=d=>{em(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},yu=d=>{Yl(d);const v=re.find(_=>_.id===d.routine_id);v?(gr(v.days||[]),yr(v.time_slot||""),Vl(!1)):(gr([]),yr(""),Vl(!0)),Wh(!0)},br=()=>{Wh(!1),Yl(null),gr([]),yr(""),Vl(!1)},iw=d=>{gr(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},fm=async()=>{try{const d=new Date,v=qe(d);let _=null;if(ms!=="all")switch(_=new Date(d),ms){case"1week":_.setDate(d.getDate()-7);break;case"2weeks":_.setDate(d.getDate()-14);break;case"1month":_.setMonth(d.getMonth()-1);break;case"3months":_.setMonth(d.getMonth()-3);break;case"6months":_.setMonth(d.getMonth()-6);break}let D=q.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});_&&(D=D.gte("date",qe(_)));const{data:O,error:C}=await D;if(C)throw C;const k={};for(const B of O||[]){const L=B.original_todo_id||B.id;k[L]||(k[L]=[]),k[L].push(B)}const R=Object.entries(k).map(([B,L])=>{const I=L.sort((be,Kt)=>new Date(be.date)-new Date(Kt.date)),P=I[0],J=I.map(be=>be.date);let ee=null;for(const be of I)if(be.completed&&be.completed_at){const Kt=new Date(be.completed_at);ee=qe(Kt);break}const ce=I.find(be=>be.date===v);return{text:P.text,originalId:parseInt(B),createdAt:P.created_at,startDate:J[0],endDate:J[J.length-1],dates:J,completed:(ce==null?void 0:ce.completed)||!1,completedDate:ee}}).sort((B,L)=>new Date(B.createdAt)-new Date(L.createdAt));dr(R)}catch(d){console.error("   :",d.message)}},rw=async()=>{hs(!0),await mm()},hm=()=>{hs(!1),kn(!1),wn(We)},mm=async()=>{try{const{data:d,error:v}=await q.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(v)throw v;const _=d&&d.length>0?d[0].content:yd;wn(_),Fe(_)}catch(d){console.error("   :",d.message),wn(yd),Fe(yd)}},lw=()=>{kn(!0)},ow=()=>{vt(!0),Fe(kt),setTimeout(()=>{dt.current&&dt.current.focus()},0)},gm=async()=>{var d;if(!Sn)try{Qe(!0);const{data:v}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);v&&v.length>0?await q.from("spec_memos").update({content:kt,updated_at:new Date().toISOString()}).eq("id",v[0].id):await q.from("spec_memos").insert([{content:kt,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]),Fe(kt),vt(!1)}catch(v){console.error("  :",v.message),alert("  .")}finally{Qe(!1)}},ym=()=>{wn(We),vt(!1)},cw=d=>{(d.metaKey||d.ctrlKey)&&d.key==="s"&&(d.preventDefault(),gm()),d.key==="Escape"&&(d.preventDefault(),ym())},_r=d=>Array.isArray(d)?d.map(v=>({...v,children:Array.isArray(v.children)?_r(v.children):[]})):[],uw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(v){console.error("   :",v.message);return}if(d&&d.setting_value){const _=_r(JSON.parse(d.setting_value));St(_),localStorage.setItem("keyThoughtsBlocks",JSON.stringify(_)),ft.current=JSON.parse(JSON.stringify(_))}else{const _=localStorage.getItem("keyThoughtsBlocks");if(_){const D=_r(JSON.parse(_));St(D),ft.current=JSON.parse(JSON.stringify(D))}}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("keyThoughtsBlocks");if(v){const _=_r(JSON.parse(v));St(_),ft.current=JSON.parse(JSON.stringify(_))}}},vm=async()=>{var d;if((d=e==null?void 0:e.user)!=null&&d.id)try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(Me));const{data:v,error:_}=await q.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(_){console.error("   :",_.message);return}v?await q.from("user_settings").update({setting_value:JSON.stringify(Me)}).eq("setting_key","key_thoughts_blocks"):await q.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(Me),user_id:e.user.id}]),await hw(Me)}catch(v){console.error("   :",v.message)}},dw=(d,v)=>{if(!d||d.length===0||d.length!==v.length)return!0;const _=(D,O)=>{for(let C=0;C<D.length;C++){const k=D[C],R=O[C];if(k.type!==R.type)return!0;const B=k.children?k.children.length:0,L=R.children?R.children.length:0;if(B!==L)return!0;const I=k.content||"",P=R.content||"";if(Math.abs(I.length-P.length)>=20||L>0&&_(k.children,R.children))return!0}return!1};return _(d,v)},fw=async()=>{try{const d=localStorage.getItem("lastHistoryCleanup"),v=new Date().toDateString();if(d===v)return;const _=new Date;_.setDate(_.getDate()-30);const{error:D}=await q.from("key_thoughts_history").delete().lt("created_at",_.toISOString());D?console.error("   :",D.message):(localStorage.setItem("lastHistoryCleanup",v),console.log("   "))}catch(d){console.error("   :",d.message)}},hw=async d=>{var v;if((v=e==null?void 0:e.user)!=null&&v.id)try{if(!dw(ft.current,d))return;const{error:_}=await q.from("key_thoughts_history").insert([{content:d,description:" ",user_id:e.user.id}]);_?console.error("   :",_.message):ft.current=JSON.parse(JSON.stringify(d))}catch(_){console.error("   :",_.message)}},mw=async()=>{try{const{data:d,error:v}=await q.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(v){console.error("   :",v.message);return}Gt(d||[])}catch(d){console.error("   :",d.message)}},gw=async d=>{try{const v=Un.find(D=>D.id===d);if(!v){alert("    .");return}if(!window.confirm("  ?     ."))return;const _=_r(v.content);St(_),ft.current=JSON.parse(JSON.stringify(_)),await vm(),alert("!"),zn(!1)}catch(v){console.error("  :",v.message),alert("   .")}},yw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(v){console.error("   :",v.message);return}if(d&&d.setting_value){const _=JSON.parse(d.setting_value);Il(_),localStorage.setItem("sectionOrder",JSON.stringify(_))}else{const _=localStorage.getItem("sectionOrder");_&&Il(JSON.parse(_))}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("sectionOrder");v&&Il(JSON.parse(v))}},vw=async d=>{var v;try{if(localStorage.setItem("sectionOrder",JSON.stringify(d)),!((v=e==null?void 0:e.user)!=null&&v.id))return;const{data:_,error:D}=await q.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(D){console.error("   :",D.message);return}_?await q.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await q.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(_){console.error("   :",_.message)}},pw=async()=>{var d;if(!Sn)try{Qe(!0);const{data:v,error:_}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);if(_)throw _;if(v&&v.length>0){const{error:D}=await q.from("spec_memos").update({content:kt,updated_at:new Date().toISOString()}).eq("id",v[0].id);if(D)throw D}else{const{error:D}=await q.from("spec_memos").insert([{content:kt,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]);if(D)throw D}Fe(kt),kn(!1)}catch(v){console.error("  :",v.message)}finally{Qe(!1)}},bw=()=>{wn(We),kn(!1)},vu=d=>{Le(_e===d?null:d)},pu=async(d,v)=>{var _;if(!(!v||v.trim()===""))try{const O=s.filter(B=>B.parent_id===d).length+1,C=qe(g),{data:k,error:R}=await q.from("todos").insert([{text:v.trim(),completed:!1,order_index:O,date:C,parent_id:d,user_id:(_=e==null?void 0:e.user)==null?void 0:_.id}]).select();if(R)throw R;i([...s,k[0]])}catch(D){console.error("    :",D.message)}},bu=async(d,v)=>{var _,D;try{let O=null;He.current.add(d);const C=new Date().toISOString();if(i(B=>(O=B.find(L=>L.id===d),!O||O.text===v?(He.current.delete(d),B):B.map(L=>L.id===d?{...L,text:v,updated_at:C}:L))),!O||O.text===v)return;const{error:k}=await q.from("todo_history").insert([{todo_id:d,previous_text:O.text,new_text:v,changed_on_date:O.date,user_id:(_=e==null?void 0:e.user)==null?void 0:_.id}]);if(k&&console.error("  :",k.message),O.original_todo_id){const{data:B,error:L}=await q.from("todos").select("text, date").eq("id",O.original_todo_id).single();!L&&B&&await q.from("todo_history").insert([{todo_id:O.original_todo_id,previous_text:O.text,new_text:v,changed_on_date:O.date,user_id:(D=e==null?void 0:e.user)==null?void 0:D.id}])}const{error:R}=await q.from("todos").update({text:v}).eq("id",d);R?(console.error("   :",R.message),i(B=>B.map(L=>L.id===d?O:L)),He.current.delete(d)):setTimeout(()=>{He.current.delete(d)},5e3)}catch(O){console.error("   :",O.message),He.current.delete(d)}},_w=Of($a(wl,{activationConstraint:{delay:300,tolerance:8}}),$a(Cf,{activationConstraint:{delay:500,tolerance:10,distance:10}}),$a(_l,{coordinateGetter:kf})),ww=Of($a(wl,{activationConstraint:{distance:5}}),$a(Cf,{activationConstraint:{delay:100,tolerance:5}}),$a(_l,{coordinateGetter:kf})),Sw=d=>{const{active:v,over:_}=d;v.id!==(_==null?void 0:_.id)&&Il(D=>{const O=D.indexOf(v.id),C=D.indexOf(_.id),k=Ac(D,O,C);return vw(k),k})},xw=d=>{Qs&&d.target===d.currentTarget&&Js(!1)},Ew=()=>{x(!0)},Tw=()=>{x(!1)},jw=async d=>{x(!1);const{active:v,over:_}=d;if(!_||v.id===_.id)return;const D=s.findIndex(k=>k.id===v.id),O=s.findIndex(k=>k.id===_.id),C=Ac(s,D,O);i(C);try{const k=C.map((R,B)=>({id:R.id,order_index:B+1}));for(const R of k)await q.from("todos").update({order_index:R.order_index}).eq("id",R.id)}catch(k){console.error("  :",k.message),Ra()}},Ow=async()=>{try{const{error:d}=await q.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(d)throw d}catch(d){alert(" : "+d.message)}},Nw=async()=>{try{const{error:d}=await q.auth.signOut();if(d)throw d}catch(d){alert(" : "+d.message)}};return n?o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),o.jsx("div",{children:" ..."})]})}):e?o.jsxs("div",{className:`app ${E?"dragging-active":""}`,children:[qt&&o.jsx("div",{className:"sidebar-overlay",onClick:()=>nt(!1)}),o.jsxs("div",{className:`sidebar ${qt?"open":""}`,children:[o.jsxs("div",{className:"sidebar-header",children:[o.jsx("h2",{children:""}),o.jsx("button",{className:"sidebar-close",onClick:()=>nt(!1),children:""})]}),e&&e.user&&o.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((pm=e.user.user_metadata)==null?void 0:pm.avatar_url)&&o.jsx("img",{src:e.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((bm=e.user.user_metadata)==null?void 0:bm.full_name)||e.user.email}),o.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.user.email})]})]}),o.jsxs("div",{className:"sidebar-content",children:[o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=Pn==="vertical"?"horizontal":"vertical";x_(d),localStorage.setItem("viewMode",d),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:Pn==="vertical"?"":""}),o.jsx("span",{children:Pn==="vertical"?" ":" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{nw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Y_(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{rw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=document.querySelector(".key-thoughts-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"}),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{aw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{V(!0),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Da(!0),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&Nw()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:`container ${Pn==="horizontal"?"container-wide":""}`,children:[o.jsx("div",{className:"header-fixed",children:o.jsxs("div",{className:"settings-bar",children:[o.jsx("button",{className:"hamburger-menu",onClick:()=>nt(!qt),title:"",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),o.jsxs("div",{className:"date-nav-section",children:[o.jsxs("div",{className:"date-display-wrapper",children:[o.jsx("span",{className:"date-display",children:Wn(g)}),o.jsx("input",{type:"date",value:qe(g),onChange:M_,className:"date-picker-input"})]}),o.jsx("button",{onClick:C_,className:"date-nav-button",children:""}),o.jsx("button",{onClick:R_,className:"date-nav-button",children:""})]}),o.jsx("div",{className:"encouragement-section",children:nm(g)?o.jsx("div",{className:"encouragement-message",onClick:j_,title:"    !",children:rn?o.jsx("span",{className:"encouragement-emoji",children:"  "}):Zn||Kl()}):o.jsx("button",{onClick:()=>p(new Date),className:"today-link",title:" ",children:"  "})}),Qs&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[o.jsx("span",{children:"    "}),o.jsx("button",{onClick:()=>Js(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})}),o.jsxs("div",{className:"content-scrollable",ref:uu,children:[o.jsx(Mf,{sensors:_w,collisionDetection:Nf,onDragStart:Ew,onDragEnd:jw,onDragCancel:Tw,children:o.jsx("div",{className:"todo-list",children:m?o.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const d=s.filter(D=>!D.parent_id&&D.routine_id!==null&&!D.is_pending_routine),v=s.filter(D=>!D.parent_id&&D.is_pending_routine),_=s.filter(D=>!D.parent_id&&D.routine_id===null&&!D.is_pending_routine);return o.jsx(Mf,{sensors:ww,collisionDetection:Nf,onDragEnd:Sw,children:o.jsx(kr,{items:tm,strategy:RO,children:o.jsx("div",{ref:vs,className:`sections-container ${Pn==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:xw,children:tm.map(D=>D==="memo"?o.jsx(To,{id:"memo",disabled:!Qs,onLongPress:()=>Js(!0),children:o.jsxs(IO,{title:"  ",className:"memo-section section-block",content:kt,setContent:wn,isEditing:Vt,isSaving:Sn,textareaRef:dt,onStartEdit:ow,onSave:gm,onCancel:ym,onKeyDown:cw,placeholder:" ...",emptyMessage:" ",children:[!Vt&&o.jsx("div",{style:{marginTop:"1rem"},children:o.jsxs("button",{onClick:()=>Ca(!st),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:O=>{O.currentTarget.style.background="rgba(255, 255, 255, 0.1)",O.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:O=>{O.currentTarget.style.background="rgba(255, 255, 255, 0.05)",O.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[o.jsx("span",{children:" SQL  "}),o.jsx("span",{children:st?"":""})]})}),st&&!Vt&&o.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const O=new Date,C=Jl=>{const bs=new Date(O);return bs.setDate(bs.getDate()+Jl),bs.toISOString().split("T")[0]},k=Jl=>{const bs=new Date(O);return bs.setDate(bs.getDate()+Jl),bs.getDate()},R=Date.now(),B=k(-2),L=k(-1),I=k(0),P=k(1),J=k(2),ee=C(-2),ce=C(-1),be=C(0),Kt=C(1),Ps=C(2),Aw=`--         (${be} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${B}--', '${ee}', false, '${ee}T09:00:00+09:00', 1001),
  ('[DUMMY-${R}] : ${B}-${B}', '${ee}', true, '${ee}T09:10:00+09:00', 1002),
  ('[DUMMY-${R}] : ${B}-${L}', '${ee}', true, '${ee}T09:20:00+09:00', 1003),
  ('[DUMMY-${R}] : ${B}-${I}', '${ee}', true, '${ee}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${L}--', '${ce}', false, '${ce}T10:00:00+09:00', 1005),
  ('[DUMMY-${R}] : ${L}-${L}', '${ce}', true, '${ce}T10:10:00+09:00', 1006),
  ('[DUMMY-${R}] : ${L}-${I}', '${ce}', true, '${ce}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${I}-', '${be}', false, '${be}T11:00:00+09:00', 1008),
  ('[DUMMY-${R}] : ${I}-${I}', '${be}', true, '${be}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${B}-${L}-', '${ce}', false, '${ee}T14:00:00+09:00', 1010),
  ('[DUMMY-${R}] : ${B}-${L}-${L}', '${ce}', true, '${ee}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${L}-${I}-', '${be}', false, '${ce}T15:00:00+09:00', 1012),
  ('[DUMMY-${R}] : ${L}-${I}-${I}', '${be}', true, '${ce}T15:10:00+09:00', 1013),
  ('[DUMMY-${R}] : ${B}-${I}-', '${be}', false, '${ee}T15:00:00+09:00', 1014),
  ('[DUMMY-${R}] : ${B}-${I}-${I}', '${be}', true, '${ee}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${I}-${P}-', '${Kt}', false, '${be}T16:00:00+09:00', 1016),
  ('[DUMMY-${R}] : ${L}-${P}-', '${Kt}', false, '${ce}T16:00:00+09:00', 1017),
  ('[DUMMY-${R}] : ${B}-${P}-', '${Kt}', false, '${ee}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${I}-${J}-', '${Ps}', false, '${be}T17:00:00+09:00', 1019),
  ('[DUMMY-${R}] : ${L}-${J}-', '${Ps}', false, '${ce}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${B}--1', '[DUMMY-${R}] : ${B}--2', '${ce}T12:00:00+09:00', '${ce}'
FROM todos WHERE text = '[DUMMY-${R}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${B}--2', '[DUMMY-${R}] : ${B}--', '${be}T12:00:00+09:00', '${be}'
FROM todos WHERE text = '[DUMMY-${R}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${L}--1', '[DUMMY-${R}] : ${L}--', '${be}T13:00:00+09:00', '${be}'
FROM todos WHERE text = '[DUMMY-${R}] : ${L}--' LIMIT 1;`,Ws=document.createElement("textarea");Ws.value=Aw,Ws.style.position="fixed",Ws.style.opacity="0",document.body.appendChild(Ws),Ws.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(Ws)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const O=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,C=document.createElement("textarea");C.value=O,C.style.position="fixed",C.style.opacity="0",document.body.appendChild(C),C.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(C)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):D==="routine"?o.jsx(To,{id:"routine",disabled:!Qs,onLongPress:()=>Js(!0),children:o.jsxs(zy,{title:" ",className:"routine-section section-block",inputValue:c,setInputValue:u,onAddTodo:X_,isAdding:N,placeholder:"   ...",children:[d.length>0&&o.jsx(kr,{items:d.map(O=>O.id),strategy:Yo,children:d.map((O,C)=>{const k=s.filter(R=>R.parent_id===O.id);return o.jsx(Vo,{todo:O,index:C,onToggle:fu,onDelete:mu,onEdit:bu,formatDate:ps,formatDateOnly:Wn,isFocused:_e===O.id,onFocus:vu,onAddSubTodo:pu,subtodos:k,level:0,onCreateRoutine:Zs,routines:re,onShowRoutineHistory:Xl,onOpenRoutineSetupModal:yu,onOpenHistoryModal:gu,currentPageDate:qe(g),onRemoveFromUI:hu,showSuccessMessage:K},O.id)})}),d.length>0&&v.length>0&&o.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:o.jsx("div",{className:"separator-line"})}),v.length>0&&o.jsx(kr,{items:v.map(O=>O.id),strategy:Yo,children:v.map((O,C)=>{const k=s.filter(R=>R.parent_id===O.id);return o.jsx(Vo,{todo:O,index:C,onToggle:fu,onDelete:mu,onEdit:bu,formatDate:ps,formatDateOnly:Wn,isFocused:_e===O.id,onFocus:vu,onAddSubTodo:pu,subtodos:k,level:0,onCreateRoutine:Zs,routines:re,onShowRoutineHistory:Xl,onOpenRoutineSetupModal:yu,onOpenHistoryModal:gu,currentPageDate:qe(g),isPendingRoutine:!0,onRemoveFromUI:hu,showSuccessMessage:K},O.id)})})]})},"routine"):D==="normal"?o.jsx(To,{id:"normal",disabled:!Qs,onLongPress:()=>Js(!0),children:o.jsx(zy,{title:"  ",className:"normal-section section-block",inputValue:f,setInputValue:h,onAddTodo:Q_,isAdding:N,placeholder:"   ...",children:_.length>0&&o.jsx(kr,{items:_.map(O=>O.id),strategy:Yo,children:_.map((O,C,k)=>{const R=s.filter(ee=>ee.parent_id===O.id),B=qe(g),L=O.created_at?O.created_at.split("T")[0]:O.date,I=k[C+1],P=I?I.created_at?I.created_at.split("T")[0]:I.date:null,J=L<B&&P>=B;return o.jsxs($e.Fragment,{children:[o.jsx(Vo,{todo:O,index:C,onToggle:fu,onDelete:mu,onEdit:bu,formatDate:ps,formatDateOnly:Wn,isFocused:_e===O.id,onFocus:vu,onAddSubTodo:pu,subtodos:R,level:0,onCreateRoutine:Zs,routines:re,onShowRoutineHistory:Xl,onOpenRoutineSetupModal:yu,onOpenHistoryModal:gu,currentPageDate:B,onRemoveFromUI:hu,showSuccessMessage:K}),J&&o.jsxs("div",{className:"todo-date-separator",children:[o.jsx("div",{className:"separator-line"}),o.jsx("div",{className:"separator-text",children:" "}),o.jsx("div",{className:"separator-line"})]})]},O.id)})})})},"normal"):D==="key-thoughts"?o.jsx(To,{id:"key-thoughts",disabled:!Qs,onLongPress:()=>Js(!0),children:o.jsx(GO,{blocks:Me,setBlocks:St,focusedBlockId:It,setFocusedBlockId:la,onShowHistory:()=>{mw(),zn(!0)}})},"key-thoughts"):null)})})})})()})}),Pn==="horizontal"&&o.jsx("div",{className:"section-pagination-dots",onTouchStart:d=>{const v=d.touches[0];d.currentTarget.dataset.touchStartX=v.clientX,d.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:d=>{d.currentTarget.dataset.touchMoved="true"},onTouchEnd:d=>{const v=parseFloat(d.currentTarget.dataset.touchStartX||"0"),_=parseInt(d.currentTarget.dataset.touchStartTime||"0"),D=d.currentTarget.dataset.touchMoved==="true",O=d.changedTouches[0].clientX,C=Date.now()-_;if(delete d.currentTarget.dataset.touchStartX,delete d.currentTarget.dataset.touchStartTime,delete d.currentTarget.dataset.touchMoved,D&&C<500){const k=v-O,R=vs.current;if(!R)return;const B=R.querySelectorAll(".section-block");Math.abs(k)>50&&(k>0&&vr<B.length-1?B[vr+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):k<0&&vr>0&&B[vr-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(d=>o.jsx("button",{className:`pagination-dot ${vr===d?"active":""}`,onClick:()=>{const v=vs.current;if(!v)return;const _=v.querySelectorAll(".section-block");_[d]&&_[d].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},d))})]}),A&&o.jsxs("div",{className:"undo-toast",children:[o.jsx("span",{children:""}),o.jsx("button",{onClick:W_,className:"undo-button",children:""})]}),M&&o.jsxs("div",{className:"undo-toast success-toast",children:[o.jsx("span",{children:Y}),ie&&o.jsx("button",{onClick:le,className:"undo-button",children:""})]}),T_&&Gl&&o.jsx("div",{className:"modal-overlay",onClick:()=>pr(!1),children:o.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>pr(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"delete-confirm-content",children:[o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:Gl.text})}),o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Z_(Gl),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>P_(Gl),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),hr&&ql&&(()=>{const d=ql,v=d.visible_dates&&d.visible_dates.length>0?d.visible_dates:[d.date],_=v[0],D=v.map(C=>({id:`${d.id}-${C}`,date:C})),O=w_[d.id]||[];return o.jsx("div",{className:"modal-overlay",onClick:dm,children:o.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:dm,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:ps(d.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Wn(_?new Date(_+"T00:00:00"):new Date(d.date+"T00:00:00"))})]}),D.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:D.map((C,k)=>{const R=C.date===d.date,B=Wn(new Date(C.date+"T00:00:00"));return o.jsxs("span",{children:[k>0&&"  ",o.jsxs("span",{style:R?{fontWeight:"bold",color:"#4CAF50"}:{},children:[B.split("(")[0],R?"()":""]})]},C.id)})})]}),(()=>{const C=new Date(d.created_at).toISOString().split("T")[0],k=d.date;return C!==k&&D.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Wn(new Date(d.date+"T00:00:00"))})]}):null})(),O.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",O.length,")"]}),O.map(C=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[ps(C.changed_at),C.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",Wn(new Date(C.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:k=>{k.stopPropagation(),sw(C.id)},children:Fh.includes(C.id)?"":""})]}),Fh.includes(C.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:C.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:C.new_text})]})]})]},C.id))]})]})})]})})})(),mr&&ql&&(()=>{const d=ql,v=re.find(_=>_.id===d.routine_id);return o.jsx("div",{className:"modal-overlay",onClick:br,children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:br,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsx("div",{className:"routine-setup-inline",children:v&&!ru?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Ds.filter(_=>v.days.includes(_.key)).map(_=>o.jsx("span",{className:"routine-day-badge",children:_.label},_.key))}),v.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",v.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),v&&(gr(v.days),yr(v.time_slot||""),Vl(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async _=>{_.stopPropagation(),v&&d&&(await Zs(d.id,d.text,[],null,!0),br())},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:ru?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(_=>o.jsx("button",{onClick:D=>{D.stopPropagation(),iw(_.key)},className:`day-button-inline ${iu.includes(_.key)?"selected":""}`,children:_.label},_.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx(Uf,{value:lu,onChange:_=>yr(_)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async _=>{_.stopPropagation(),d&&(ru&&v?await Zs(d.id,d.text,iu,v.id,!1,lu):await Zs(d.id,d.text,iu,null,!1,lu),br())},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:_=>{_.stopPropagation(),br()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),ue&&o.jsx("div",{className:"modal-overlay",onClick:cm,children:o.jsxs("div",{className:"modal-content trash-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:" "}),o.jsxs("div",{className:"modal-header-actions",children:[H.length>0&&o.jsx("button",{onClick:tw,className:"empty-trash-button",title:" ",children:" "}),o.jsx("button",{onClick:cm,className:"modal-close-button",children:""})]})]}),o.jsx("div",{className:"trash-list",children:H.length===0?o.jsx("p",{className:"empty-message",children:" ."}):H.map(d=>{const v=d.visible_dates||(d.date?[d.date]:[]),_=v.length>1||d.original_todo_id,D=d.original_todo_id!==null&&d.original_todo_id!==void 0,O=d.hidden_dates&&d.hidden_dates.length>0;let C="  ";return D?C="   ( )":O?C="  ":d.deleted===!0&&(C=v.length>1?"  ":""),o.jsxs("div",{className:"trash-item",children:[o.jsxs("div",{className:"trash-item-content",children:[o.jsx("span",{className:`trash-text ${d.completed?"completed":""}`,children:d.text}),o.jsxs("div",{className:"trash-metadata",children:[o.jsxs("span",{className:"trash-date",children:[": ",ps(d.created_at)]}),d.deleted_date&&o.jsxs("span",{className:"trash-deleted-date",children:[": ",d.deleted_date]}),o.jsx("span",{className:`trash-delete-type ${D?"old-style":O?"partial":"complete"}`,children:C})]}),_&&o.jsxs("div",{className:"trash-carryover-info",children:[o.jsx("div",{className:"carryover-label",children:"  :"}),o.jsx("div",{className:"carryover-dates",children:v.length>0?v.map((k,R)=>o.jsx("span",{className:"carryover-date-badge",children:k},R)):d.original_todo_id?o.jsxs("span",{className:"carryover-note",children:["    (original_id: ",d.original_todo_id,")"]}):null}),O&&o.jsxs("div",{className:"hidden-dates-info",children:[o.jsx("span",{className:"hidden-label",children:"  :"}),d.hidden_dates.map((k,R)=>o.jsx("span",{className:"hidden-date-badge",children:k},R))]})]})]}),o.jsxs("div",{className:"trash-actions",children:[o.jsx("button",{onClick:()=>F_(d.id),className:"restore-button",title:"",children:""}),o.jsx("button",{onClick:()=>ew(d.id),className:"permanent-delete-button",title:" ",children:" "})]})]},d.id)})})]})}),at&&o.jsx("div",{className:"modal-overlay",onClick:()=>Da(!1),children:o.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>Da(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),o.jsx("button",{onClick:O_,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),o.jsx("button",{onClick:D_,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),o.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[o.jsx("h3",{children:"  "}),Rt.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):o.jsxs(o.Fragment,{children:[Rt.map((d,v)=>o.jsxs("div",{className:"routine-item",children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsxs("span",{className:"routine-text",children:[" #",v+1,": ",d.sessionId]}),o.jsxs("div",{className:"routine-days",children:[o.jsxs("span",{className:"routine-day-badge",children:[" ",d.count,""]}),d.historyCount>0&&o.jsxs("span",{className:"routine-day-badge",children:[" ",d.historyCount,""]}),o.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:ps(d.createdAt)})]})]}),o.jsx("div",{className:"routine-item-actions",children:o.jsx("button",{onClick:()=>{window.confirm(` #${v+1} ?`)&&N_(d.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},d.sessionId)),o.jsx("button",{onClick:()=>{window.confirm("   ?")&&A_()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}),ra&&o.jsx("div",{className:"modal-overlay",onClick:hm,children:o.jsxs("div",{className:"modal-content memo-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:hm,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"memo-content",children:or?o.jsxs("div",{className:"memo-edit-mode",children:[o.jsx("textarea",{value:kt,onChange:d=>wn(d.target.value),className:"memo-textarea",placeholder:"  ...",rows:20}),o.jsxs("div",{className:"memo-actions",children:[o.jsx("button",{onClick:pw,className:"memo-save-button",disabled:Sn,children:Sn?" ...":" "}),o.jsx("button",{onClick:bw,className:"memo-cancel-button",disabled:Sn,children:" "})]})]}):o.jsxs("div",{className:"memo-view-mode",children:[o.jsx("div",{className:"memo-display",children:o.jsx("pre",{className:"memo-text",children:kt})}),o.jsx("div",{className:"memo-actions",children:o.jsx("button",{onClick:lw,className:"memo-edit-button",children:" "})})]})})]})}),cr&&o.jsx("div",{className:"modal-overlay",onClick:um,children:o.jsxs("div",{className:"modal-content gantt-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  -  "}),o.jsx("button",{onClick:um,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"gantt-filter",children:o.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(d=>o.jsx("button",{className:`period-button ${ms===d.value?"active":""}`,onClick:()=>fr(d.value),children:d.label},d.value))})}),o.jsx("div",{className:"gantt-content",children:ur.length===0?o.jsx("p",{className:"empty-message",children:" ."}):o.jsx("div",{className:"gantt-chart",children:(()=>{const d=ur.flatMap(R=>R.dates),v=[...new Set(d)].sort((R,B)=>new Date(R)-new Date(B)),_=v[0],D=v[v.length-1],O=[];let C=new Date(_+"T00:00:00");const k=new Date(D+"T00:00:00");for(;C<=k;)O.push(qe(C)),C.setDate(C.getDate()+1);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"gantt-header",children:[o.jsx("div",{className:"gantt-task-column",children:" "}),o.jsx("div",{className:"gantt-timeline",children:O.map(R=>o.jsx("div",{className:"gantt-date-cell",children:Wn(new Date(R+"T00:00:00")).split("(")[0]},R))})]}),ur.map((R,B)=>{const L=new Set(R.dates);return o.jsxs("div",{className:"gantt-row",children:[o.jsx("div",{className:"gantt-task-column",title:R.text,children:o.jsx("span",{className:R.completed?"completed-task":"",children:R.text})}),o.jsx("div",{className:"gantt-timeline",children:O.map(I=>{if(!L.has(I))return o.jsx("div",{className:"gantt-date-cell"},I);const J=I===R.startDate,ee=I===R.completedDate;let ce="gantt-date-cell has-task";return J?ce+=" start-date":ee?ce+=" completed-date":ce+=" middle-date",o.jsx("div",{className:ce,children:ee?o.jsx("span",{className:"completed-circle",children:""}):""},I)})})]},R.originalId)})]})})()})})]})}),xe&&o.jsx("div",{className:"modal-overlay",onClick:lm,children:o.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:lm,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("input",{type:"text",value:we,onChange:d=>en(d.target.value),placeholder:"  ...",className:"routine-input",disabled:Dt}),o.jsx("div",{className:"day-selector",children:Ds.map(d=>o.jsx("button",{onClick:()=>V_(d.key),className:`day-button ${Nt.includes(d.key)?"selected":""}`,disabled:Dt,children:d.label},d.key))}),o.jsxs("div",{className:"time-slot-selector",children:[o.jsx("label",{className:"time-slot-label",children:"  ()"}),o.jsx(Uf,{value:pe,onChange:d=>ia(d)})]}),o.jsx("button",{onClick:U_,className:"add-routine-button",disabled:Dt||we.trim()==="",children:" "})]}),o.jsx("div",{className:"routine-list",children:re.length===0?o.jsx("p",{className:"empty-message",children:"  ."}):re.map(d=>o.jsx("div",{className:"routine-item",children:Xe===d.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-edit-content",children:[o.jsx("input",{type:"text",value:tn,onChange:v=>ut(v.target.value),className:"routine-edit-input",placeholder:" "}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(v=>o.jsx("button",{onClick:()=>B_(v.key),className:`day-button-inline ${Ct.includes(v.key)?"selected":""}`,children:v.label},v.key))})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:$_,className:"routine-save-button",disabled:tn.trim()===""||Ct.length===0,children:""}),o.jsx("button",{onClick:sm,className:"routine-cancel-edit-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsx("span",{className:"routine-text",children:d.text}),o.jsxs("div",{className:"routine-meta",children:[o.jsx("div",{className:"routine-days",children:Ds.filter(v=>d.days.includes(v.key)).map(v=>o.jsx("span",{className:"routine-day-badge",children:v.label},v.key))}),d.time_slot&&o.jsx("span",{className:"routine-time-slot",children:d.time_slot})]})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:()=>Xl(d),className:"routine-history-button",title:" ",children:""}),o.jsx("button",{onClick:()=>z_(d),className:"routine-edit-button",title:"",children:""}),o.jsx("button",{onClick:()=>L_(d.id),className:"routine-delete-button",title:"",children:""})]})]})},d.id))})]})}),Xn&&Qn&&o.jsx("div",{className:"modal-overlay",onClick:rm,children:o.jsxs("div",{className:"modal-content routine-history-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h2",{children:[" ",Qn.text," "]}),o.jsx("button",{onClick:rm,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-history-content",children:[(()=>{if(Mt.length===0)return o.jsx("p",{className:"empty-message",children:"   ."});const d=Mt[0],v=new Date(d.date),_=new Date,D={};Mt.forEach(k=>{D[k.date]=k.completed});const O=[];let C=new Date(v);for(;C<=_;){const k=C.getFullYear(),R=C.getMonth(),B=`${k}-${R+1}`;O.find(ce=>ce.key===B)||O.push({key:B,year:k,month:R,days:[]});const L=O.find(ce=>ce.key===B),I=qe(C),P=C.getDay(),J=$y(P),ee=Qn.days.includes(J);L.days.push({date:new Date(C),dateStr:I,day:C.getDate(),dayOfWeek:P,isCompleted:D[I]===!0,isRoutineDay:ee,hasTodo:D[I]!==void 0}),C.setDate(C.getDate()+1)}return o.jsx("div",{className:"routine-history-calendar",children:O.map(k=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[k.year," ",k.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),k.days.length>0&&Array(k.days[0].dayOfWeek).fill(null).map((R,B)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${B}`)),k.days.map((R,B)=>{if(B>0&&R.day===1){const I=6-k.days[B-1].dayOfWeek;return o.jsxs(o.Fragment,{children:[Array(I).fill(null).map((P,J)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${B}-${J}`)),o.jsx("div",{className:"history-day-header",children:""},R.dateStr),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${R.isCompleted?"completed":""} ${R.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:R.day}),R.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]})}return o.jsxs("div",{className:`history-day-cell ${R.isCompleted?"completed":""} ${R.isRoutineDay?"":"not-routine-day"}`,title:`${R.dateStr}${R.isRoutineDay?"":" (  )"}${R.isCompleted?" - ":R.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:R.day}),R.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},R.dateStr)})]})]},k.key))})})(),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[Mt.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[Mt.filter(d=>d.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[Mt.filter(d=>!d.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[Mt.length>0?Math.round(Mt.filter(d=>d.completed).length/Mt.length*100):0,"%"]})]})]})]})]})}),z&&o.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:o.jsxs("div",{className:"modal-content encouragement-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>V(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"encouragement-add-section",children:[o.jsx("input",{type:"text",value:se,onChange:d=>oe(d.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async d=>{d.key==="Enter"&&se.trim()!==""&&(await om(se.trim()),oe(""))}}),o.jsx("button",{onClick:async()=>{se.trim()!==""&&(await om(se.trim()),oe(""))},className:"add-encouragement-button",disabled:se.trim()==="",children:""})]}),o.jsx("div",{className:"encouragement-list",children:Jn.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):Jn.map((d,v)=>o.jsx("div",{className:"encouragement-item",children:te===v?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:Se,onChange:_=>Ne(_.target.value),className:"encouragement-edit-input",placeholder:" "}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:async()=>{Se.trim()!==""&&(await I_(v,Se.trim()),he(null),Ne(""))},className:"encouragement-save-button",disabled:Se.trim()==="",children:""}),o.jsx("button",{onClick:()=>{he(null),Ne("")},className:"encouragement-cancel-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"encouragement-text",children:d}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:()=>{he(v),Ne(d)},className:"encouragement-edit-button",title:"",children:""}),o.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await G_(v)},className:"encouragement-delete-button",title:"",children:""})]})]})},v))})]})}),oa&&o.jsx("div",{className:"modal-overlay",onClick:()=>zn(!1),children:o.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"    "}),o.jsx("button",{onClick:()=>zn(!1),className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:Un.length===0?o.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:Un.map(d=>o.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(d.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.description&&o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:d.description})]}),o.jsx("button",{onClick:()=>gw(d.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(d.content)?d.content.map((v,_)=>o.jsxs("div",{style:{marginBottom:"4px"},children:[v.type==="toggle"?" ":"",v.content||"( )"]},_)):"( )"})]},d.id))})})]})})]})]}):o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[o.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),o.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),o.jsxs("button",{onClick:Ow,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[o.jsx("span",{children:""}),"Google "]})]})})}O1.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(KO,{})}));
