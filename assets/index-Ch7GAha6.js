function S_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Gg={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=Symbol.for("react.transitional.element"),E_=Symbol.for("react.fragment");function Ig(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:x_,type:e,key:a,ref:t!==void 0?t:null,props:n}}Po.Fragment=E_;Po.jsx=Ig;Po.jsxs=Ig;Gg.exports=Po;var u=Gg.exports,Kg={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.transitional.element"),T_=Symbol.for("react.portal"),j_=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),D_=Symbol.for("react.consumer"),C_=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),k_=Symbol.for("react.activity"),Eh=Symbol.iterator;function U_(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var Qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jg=Object.assign,Zg={};function Ns(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Qg}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pg(){}Pg.prototype=Ns.prototype;function Gd(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Qg}var Id=Gd.prototype=new Pg;Id.constructor=Gd;Jg(Id,Ns.prototype);Id.isPureReactComponent=!0;var Th=Array.isArray;function Nu(){}var Je={H:null,A:null,T:null,S:null},Fg=Object.prototype.hasOwnProperty;function Kd(e,t,n){var a=n.ref;return{$$typeof:Yd,type:e,key:t,ref:a!==void 0?a:null,props:n}}function z_(e,t){return Kd(e.type,t,e.props)}function Xd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yd}function L_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jh=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L_(""+e.key):t.toString(36)}function B_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Nu,Nu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Gi(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Yd:case T_:r=!0;break;case Xg:return r=e._init,Gi(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Rc(e,0):a,Th(i)?(n="",r!=null&&(n=r.replace(jh,"$&/")+"/"),Gi(i,t,n,"",function(c){return c})):i!=null&&(Xd(i)&&(i=z_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(jh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(Th(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Rc(a,o),r+=Gi(a,t,n,s,i);else if(o=U_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Rc(a,o++),r+=Gi(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return Gi(B_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function _l(e,t,n){if(e==null)return e;var a=[],i=0;return Gi(e,a,"","",function(s){return t.call(n,s,i++)}),a}function H_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},q_={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Xd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Activity=k_;de.Children=q_;de.Component=Ns;de.Fragment=j_;de.Profiler=A_;de.PureComponent=Gd;de.StrictMode=O_;de.Suspense=R_;de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;de.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Je.H.useMemoCache(e)}};de.cache=function(e){return function(){return e.apply(null,arguments)}};de.cacheSignal=function(){return null};de.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Jg({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!Fg.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return Kd(e.type,i,a)};de.createContext=function(e){return e={$$typeof:C_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:D_,_context:e},e};de.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Fg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return Kd(e,s,i)};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:N_,render:e}};de.isValidElement=Xd;de.lazy=function(e){return{$$typeof:Xg,_payload:{_status:-1,_result:e},_init:H_}};de.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Je.T,n={};Je.T=n;try{var a=e(),i=Je.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Nu,Oh)}catch(s){Oh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Je.T=t}};de.unstable_useCacheRefresh=function(){return Je.H.useCacheRefresh()};de.use=function(e){return Je.H.use(e)};de.useActionState=function(e,t,n){return Je.H.useActionState(e,t,n)};de.useCallback=function(e,t){return Je.H.useCallback(e,t)};de.useContext=function(e){return Je.H.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e,t){return Je.H.useDeferredValue(e,t)};de.useEffect=function(e,t){return Je.H.useEffect(e,t)};de.useEffectEvent=function(e){return Je.H.useEffectEvent(e)};de.useId=function(){return Je.H.useId()};de.useImperativeHandle=function(e,t,n){return Je.H.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Je.H.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Je.H.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Je.H.useMemo(e,t)};de.useOptimistic=function(e,t){return Je.H.useOptimistic(e,t)};de.useReducer=function(e,t,n){return Je.H.useReducer(e,t,n)};de.useRef=function(e){return Je.H.useRef(e)};de.useState=function(e){return Je.H.useState(e)};de.useSyncExternalStore=function(e,t,n){return Je.H.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Je.H.useTransition()};de.version="19.2.0";Kg.exports=de;var b=Kg.exports;const tt=Vg(b);var Wg={exports:{}},Fo={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,H){var q=N.length;N.push(H);e:for(;0<q;){var oe=q-1>>>1,V=N[oe];if(0<i(V,H))N[oe]=H,N[q]=V,q=oe;else break e}}function n(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var H=N[0],q=N.pop();if(q!==H){N[0]=q;e:for(var oe=0,V=N.length,Ie=V>>>1;oe<Ie;){var pe=2*(oe+1)-1,qe=N[pe],B=pe+1,W=N[B];if(0>i(qe,q))B<V&&0>i(W,qe)?(N[oe]=W,N[B]=q,oe=B):(N[oe]=qe,N[pe]=q,oe=pe);else if(B<V&&0>i(W,q))N[oe]=W,N[B]=q,oe=B;else break e}}return H}function i(N,H){var q=N.sortIndex-H.sortIndex;return q!==0?q:N.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],d=1,f=null,h=3,m=!1,p=!1,_=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(N){for(var H=n(c);H!==null;){if(H.callback===null)a(c);else if(H.startTime<=N)a(c),H.sortIndex=H.expirationTime,t(o,H);else break;H=n(c)}}function E(N){if(_=!1,w(N),!p)if(n(o)!==null)p=!0,T||(T=!0,he());else{var H=n(c);H!==null&&ge(E,H.startTime-N)}}var T=!1,x=-1,O=5,A=-1;function k(){return S?!0:!(e.unstable_now()-A<O)}function J(){if(S=!1,T){var N=e.unstable_now();A=N;var H=!0;try{e:{p=!1,_&&(_=!1,g(x),x=-1),m=!0;var q=h;try{t:{for(w(N),f=n(o);f!==null&&!(f.expirationTime>N&&k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var V=oe(f.expirationTime<=N);if(N=e.unstable_now(),typeof V=="function"){f.callback=V,w(N),H=!0;break t}f===n(o)&&a(o),w(N)}else a(o);f=n(o)}if(f!==null)H=!0;else{var Ie=n(c);Ie!==null&&ge(E,Ie.startTime-N),H=!1}}break e}finally{f=null,h=q,m=!1}H=void 0}}finally{H?he():T=!1}}}var he;if(typeof v=="function")he=function(){v(J)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,$=me.port2;me.port1.onmessage=J,he=function(){$.postMessage(null)}}else he=function(){y(J,0)};function ge(N,H){x=y(function(){N(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var q=h;h=H;try{return N()}finally{h=q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=h;h=N;try{return H()}finally{h=q}},e.unstable_scheduleCallback=function(N,H,q){var oe=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?oe+q:oe):q=oe,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,N={id:d++,callback:H,priorityLevel:N,startTime:q,expirationTime:V,sortIndex:-1},q>oe?(N.sortIndex=q,t(c,N),n(o)===null&&N===n(c)&&(_?(g(x),x=-1):_=!0,ge(E,q-oe))):(N.sortIndex=V,t(o,N),p||m||(p=!0,T||(T=!0,he()))),N},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(N){var H=h;return function(){var q=h;h=H;try{return N.apply(this,arguments)}finally{h=q}}}})(tv);ev.exports=tv;var $_=ev.exports,nv={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=b;function av(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _a(){}var Gt={d:{f:_a,r:function(){throw Error(av(522))},D:_a,C:_a,L:_a,m:_a,X:_a,S:_a,M:_a},p:0,findDOMNode:null},Y_=Symbol.for("react.portal");function G_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var ur=V_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gt;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(av(299));return G_(e,t,null,n)};It.flushSync=function(e){var t=ur.T,n=Gt.p;try{if(ur.T=null,Gt.p=2,e)return e()}finally{ur.T=t,Gt.p=n,Gt.d.f()}};It.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Gt.d.C(e,t))};It.prefetchDNS=function(e){typeof e=="string"&&Gt.d.D(e)};It.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Wo(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Gt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&Gt.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};It.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Wo(t.as,t.crossOrigin);Gt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Gt.d.M(e)};It.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Wo(n,t.crossOrigin);Gt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};It.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Wo(t.as,t.crossOrigin);Gt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Gt.d.m(e)};It.requestFormReset=function(e){Gt.d.r(e)};It.unstable_batchedUpdates=function(e,t){return e(t)};It.useFormState=function(e,t,n){return ur.H.useFormState(e,t,n)};It.useFormStatus=function(){return ur.H.useHostTransitionStatus()};It.version="19.2.0";function iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iv)}catch(e){console.error(e)}}iv(),nv.exports=It;var fi=nv.exports;const sv=Vg(fi);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=$_,rv=b,I_=fi;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(Jr(e)!==e)throw Error(D(188))}function K_(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ah(i),e;if(s===a)return Ah(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(D(189))}}if(n.alternate!==a)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function uv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=uv(e),t!==null)return t;e=e.sibling}return null}var Ze=Object.assign,X_=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),ir=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),fv=Symbol.for("react.consumer"),ia=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),Uu=Symbol.for("react.activity"),Q_=Symbol.for("react.memo_cache_sentinel"),Dh=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var J_=Symbol.for("react.client.reference");function zu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Ru:return"Profiler";case dv:return"StrictMode";case Mu:return"Suspense";case ku:return"SuspenseList";case Uu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ir:return"Portal";case ia:return e.displayName||"Context";case fv:return(e._context.displayName||"Context")+".Consumer";case Qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case Sa:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}var sr=Array.isArray,re=rv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=I_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mi={pending:!1,data:null,method:null,action:null},Lu=[],Pi=-1;function Kn(e){return{current:e}}function Dt(e){0>Pi||(e.current=Lu[Pi],Lu[Pi]=null,Pi--)}function Ge(e,t){Pi++,Lu[Pi]=e.current,e.current=t}var In=Kn(null),Cr=Kn(null),Ba=Kn(null),co=Kn(null);function uo(e,t){switch(Ge(Ba,t),Ge(Cr,e),Ge(In,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Um(t),e=Rp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Dt(In),Ge(In,e)}function ys(){Dt(In),Dt(Cr),Dt(Ba)}function Bu(e){e.memoizedState!==null&&Ge(co,e);var t=In.current,n=Rp(t,e.type);t!==n&&(Ge(Cr,e),Ge(In,n))}function fo(e){Cr.current===e&&(Dt(In),Dt(Cr)),co.current===e&&(Dt(co),$r._currentValue=mi)}var Mc,Ch;function ii(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||"",Ch=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mc+e+Ch}var kc=!1;function Uc(e,t){if(!e||kc)return"";kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==c[i]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=i);break}}}finally{kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ii(n):""}function Z_(e,t){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==t&&t!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Uc(e.type,!1);case 11:return Uc(e.type.render,!1);case 1:return Uc(e.type,!0);case 31:return ii("Activity");default:return""}}function Nh(e){try{var t="",n=null;do t+=Z_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Hu=Object.prototype.hasOwnProperty,Zd=wt.unstable_scheduleCallback,zc=wt.unstable_cancelCallback,P_=wt.unstable_shouldYield,F_=wt.unstable_requestPaint,dn=wt.unstable_now,W_=wt.unstable_getCurrentPriorityLevel,hv=wt.unstable_ImmediatePriority,mv=wt.unstable_UserBlockingPriority,ho=wt.unstable_NormalPriority,ew=wt.unstable_LowPriority,gv=wt.unstable_IdlePriority,tw=wt.log,nw=wt.unstable_setDisableYieldValue,Zr=null,fn=null;function Ra(e){if(typeof tw=="function"&&nw(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Zr,e)}catch{}}var hn=Math.clz32?Math.clz32:sw,aw=Math.log,iw=Math.LN2;function sw(e){return e>>>=0,e===0?32:31-(aw(e)/iw|0)|0}var Sl=256,xl=262144,El=4194304;function si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ec(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=si(a):(r&=l,r!==0?i=si(r):n||(n=l&~e,n!==0&&(i=si(n))))):(l=a&~s,l!==0?i=si(l):r!==0?i=si(r):n||(n=a&~e,n!==0&&(i=si(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function Pr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(){var e=El;return El<<=1,!(El&62914560)&&(El=4194304),e}function Lc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var d=31-hn(n),f=1<<d;l[d]=0,o[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}a!==0&&yv(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function yv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-hn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function pv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-hn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function bv(e,t){var n=t&-t;return n=n&42?1:Pd(n),n&(e.suspendedLanes|t)?0:n}function Pd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _v(){var e=Me.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function Rh(e,t){var n=Me.p;try{return Me.p=e,t()}finally{Me.p=n}}var Pa=Math.random().toString(36).slice(2),kt="__reactFiber$"+Pa,tn="__reactProps$"+Pa,Rs="__reactContainer$"+Pa,qu="__reactEvents$"+Pa,ow="__reactListeners$"+Pa,cw="__reactHandles$"+Pa,Mh="__reactResources$"+Pa,Wr="__reactMarker$"+Pa;function Wd(e){delete e[kt],delete e[tn],delete e[qu],delete e[ow],delete e[cw]}function Fi(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rs]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qm(e);e!==null;){if(n=e[kt])return n;e=qm(e)}return t}e=n,n=e.parentNode}return null}function Ms(e){if(e=e[kt]||e[Rs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function os(e){var t=e[Mh];return t||(t=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[Wr]=!0}var wv=new Set,Sv={};function Ti(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(Sv[e]=t,e=0;e<t.length;e++)wv.add(t[e])}var uw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kh={},Uh={};function dw(e){return Hu.call(Uh,e)?!0:Hu.call(kh,e)?!1:uw.test(e)?Uh[e]=!0:(kh[e]=!0,!1)}function Xl(e,t,n){if(dw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Tl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Jn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $u(e){if(!e._valueTracker){var t=xv(e)?"checked":"value";e._valueTracker=fw(e,t,""+e[t])}}function Ev(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hw=/[\n"\\]/g;function Tn(e){return e.replace(hw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vu(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Yu(e,r,Sn(t)):n!=null?Yu(e,r,Sn(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sn(l):e.removeAttribute("name")}function Tv(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){$u(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),$u(e)}function Yu(e,t,n){t==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function cs(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jv(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Ov(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(D(92));if(sr(a)){if(1<a.length)throw Error(D(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),$u(e)}function bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zh(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||mw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Av(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&zh(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&zh(e,s,t[s])}function ef(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(e){return vw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Gu=null;function tf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,us=null;function Lh(e){var t=Ms(e);if(t&&(e=t.stateNode)){var n=e[tn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[tn]||null;if(!i)throw Error(D(90));Vu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ev(a)}break e;case"textarea":jv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&cs(e,!!n.multiple,t,!1)}}}var Bc=!1;function Dv(e,t,n){if(Bc)return e(t,n);Bc=!0;try{var a=e(t);return a}finally{if(Bc=!1,(Wi!==null||us!==null)&&(fc(),Wi&&(t=Wi,e=us,us=Wi=null,Lh(t),e)))for(t=0;t<e.length;t++)Lh(e[t])}}function Nr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[tn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=!1;if(ua)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Iu=!1}var Ma=null,nf=null,Jl=null;function Cv(){if(Jl)return Jl;var e,t=nf,n=t.length,a,i="value"in Ma?Ma.value:Ma.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return Jl=i.slice(e,1<a?1-a:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jl(){return!0}function Bh(){return!1}function nn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jl:Bh,this.isPropagationStopped=Bh,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=nn(ji),el=Ze({},ji,{view:0,detail:0}),yw=nn(el),Hc,qc,Ps,nc=Ze({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ps&&(Ps&&e.type==="mousemove"?(Hc=e.screenX-Ps.screenX,qc=e.screenY-Ps.screenY):qc=Hc=0,Ps=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),Hh=nn(nc),pw=Ze({},nc,{dataTransfer:0}),bw=nn(pw),_w=Ze({},el,{relatedTarget:0}),$c=nn(_w),ww=Ze({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Sw=nn(ww),xw=Ze({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ew=nn(xw),Tw=Ze({},ji,{data:0}),qh=nn(Tw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aw[e])?!!t[e]:!1}function af(){return Dw}var Cw=Ze({},el,{key:function(e){if(e.key){var t=jw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nw=nn(Cw),Rw=Ze({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=nn(Rw),Mw=Ze({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),kw=nn(Mw),Uw=Ze({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),zw=nn(Uw),Lw=Ze({},nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=nn(Lw),Hw=Ze({},ji,{newState:0,oldState:0}),qw=nn(Hw),$w=[9,13,27,32],sf=ua&&"CompositionEvent"in window,dr=null;ua&&"documentMode"in document&&(dr=document.documentMode);var Vw=ua&&"TextEvent"in window&&!dr,Nv=ua&&(!sf||dr&&8<dr&&11>=dr),Vh=" ",Yh=!1;function Rv(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Yw(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(Yh=!0,Vh);case"textInput":return e=t.data,e===Vh&&Yh?null:e;default:return null}}function Gw(e,t){if(es)return e==="compositionend"||!sf&&Rv(e,t)?(e=Cv(),Jl=nf=Ma=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nv&&t.locale!=="ko"?null:t.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iw[e.type]:t==="textarea"}function kv(e,t,n,a){Wi?us?us.push(a):us=[a]:Wi=a,t=Ro(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var fr=null,Rr=null;function Kw(e){Dp(e,0)}function ac(e){var t=rr(e);if(Ev(t))return e}function Ih(e,t){if(e==="change")return t}var Uv=!1;if(ua){var Vc;if(ua){var Yc="oninput"in document;if(!Yc){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Yc=typeof Kh.oninput=="function"}Vc=Yc}else Vc=!1;Uv=Vc&&(!document.documentMode||9<document.documentMode)}function Xh(){fr&&(fr.detachEvent("onpropertychange",zv),Rr=fr=null)}function zv(e){if(e.propertyName==="value"&&ac(Rr)){var t=[];kv(t,Rr,e,tf(e)),Dv(Kw,t)}}function Xw(e,t,n){e==="focusin"?(Xh(),fr=t,Rr=n,fr.attachEvent("onpropertychange",zv)):e==="focusout"&&Xh()}function Qw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Rr)}function Jw(e,t){if(e==="click")return ac(t)}function Zw(e,t){if(e==="input"||e==="change")return ac(t)}function Pw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:Pw;function Mr(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Hu.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var n=Qh(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qh(n)}}function Lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mo(e.document)}return t}function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fw=ua&&"documentMode"in document&&11>=document.documentMode,ts=null,Ku=null,hr=null,Xu=!1;function Zh(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xu||ts==null||ts!==mo(a)||(a=ts,"selectionStart"in a&&rf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),hr&&Mr(hr,a)||(hr=a,a=Ro(Ku,"onSelect"),0<a.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ts)))}function ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ns={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},Gc={},Hv={};ua&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Oi(e){if(Gc[e])return Gc[e];if(!ns[e])return e;var t=ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hv)return Gc[e]=t[n];return e}var qv=Oi("animationend"),$v=Oi("animationiteration"),Vv=Oi("animationstart"),Ww=Oi("transitionrun"),eS=Oi("transitionstart"),tS=Oi("transitioncancel"),Yv=Oi("transitionend"),Gv=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function qn(e,t){Gv.set(e,t),Ti(t,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],as=0,lf=0;function ic(){for(var e=as,t=lf=as=0;t<e;){var n=_n[t];_n[t++]=null;var a=_n[t];_n[t++]=null;var i=_n[t];_n[t++]=null;var s=_n[t];if(_n[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Iv(n,i,s)}}function sc(e,t,n,a){_n[as++]=e,_n[as++]=t,_n[as++]=n,_n[as++]=a,lf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function of(e,t,n,a){return sc(e,t,n,a),vo(e)}function Ai(e,t){return sc(e,null,null,t),vo(e)}function Iv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-hn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function vo(e){if(50<Sr)throw Sr=0,gd=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function nS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,a){return new nS(e,t,n,a)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Kv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Pl(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")cf(e)&&(r=1);else if(typeof e=="string")r=lx(e,n,In.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Uu:return e=ln(31,n,t,i),e.elementType=Uu,e.lanes=s,e;case Zi:return gi(n.children,i,s,t);case dv:r=8,i|=24;break;case Ru:return e=ln(12,n,t,i|2),e.elementType=Ru,e.lanes=s,e;case Mu:return e=ln(13,n,t,i),e.elementType=Mu,e.lanes=s,e;case ku:return e=ln(19,n,t,i),e.elementType=ku,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ia:r=10;break e;case fv:r=9;break e;case Qd:r=11;break e;case Jd:r=14;break e;case Sa:r=16,a=null;break e}r=29,n=Error(D(130,e===null?"null":typeof e,"")),a=null}return t=ln(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function gi(e,t,n,a){return e=ln(7,e,a,t),e.lanes=n,e}function Ic(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Xv(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function Kc(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ph=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Ph.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Nh(t)},Ph.set(e,t),t)}return{value:e,source:t,stack:Nh(t)}}var ss=[],rs=0,yo=null,kr=0,xn=[],En=0,Xa=null,Vn=1,Yn="";function na(e,t){ss[rs++]=kr,ss[rs++]=yo,yo=e,kr=t}function Qv(e,t,n){xn[En++]=Vn,xn[En++]=Yn,xn[En++]=Xa,Xa=e;var a=Vn;e=Yn;var i=32-hn(a)-1;a&=~(1<<i),n+=1;var s=32-hn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,Vn=1<<32-hn(t)+i|n<<i|a,Yn=s+e}else Vn=1<<s|n<<i|a,Yn=e}function uf(e){e.return!==null&&(na(e,1),Qv(e,1,0))}function df(e){for(;e===yo;)yo=ss[--rs],ss[rs]=null,kr=ss[--rs],ss[rs]=null;for(;e===Xa;)Xa=xn[--En],xn[En]=null,Yn=xn[--En],xn[En]=null,Vn=xn[--En],xn[En]=null}function Jv(e,t){xn[En++]=Vn,xn[En++]=Yn,xn[En++]=Xa,Vn=t.id,Yn=t.overflow,Xa=e}var Ut=null,Qe=null,De=!1,Ha=null,On=!1,Ju=Error(D(519));function Qa(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ur(jn(t,e)),Ju}function Fh(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[kt]=e,t[tn]=a,n){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(n=0;n<Hr.length;n++)xe(Hr[n],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Tv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Ov(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Np(t.textContent,n)?(a.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),a.onScroll!=null&&xe("scroll",t),a.onScrollEnd!=null&&xe("scrollend",t),a.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Qa(e,!0)}function Wh(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ut=Ut.return}}function zi(e){if(e!==Ut)return!1;if(!De)return Wh(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_d(e.type,e.memoizedProps)),n=!n),n&&Qe&&Qa(e),Wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Qe=Hm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Qe=Hm(e)}else t===27?(t=Qe,Fa(e.type)?(e=Ed,Ed=null,Qe=e):Qe=t):Qe=Ut?Dn(e.stateNode.nextSibling):null;return!0}function bi(){Qe=Ut=null,De=!1}function Xc(){var e=Ha;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Ha=null),e}function Ur(e){Ha===null?Ha=[e]:Ha.push(e)}var Zu=Kn(null),Di=null,ra=null;function Oa(e,t,n){Ge(Zu,t._currentValue),t._currentValue=n}function oa(e){e._currentValue=Zu.current,Dt(Zu)}function Pu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Fu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pu(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(D(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),Pu(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function ks(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(D(387));if(r=r.memoizedProps,r!==null){var l=i.type;gn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===co.current){if(r=i.alternate,r===null)throw Error(D(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($r):e=[$r])}i=i.return}e!==null&&Fu(t,e,n,a),t.flags|=262144}function po(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){Di=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return Zv(Di,e)}function Ol(e,t){return Di===null&&_i(e),Zv(e,t)}function Zv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ra===null){if(e===null)throw Error(D(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return n}var aS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},iS=wt.unstable_scheduleCallback,sS=wt.unstable_NormalPriority,gt={$$typeof:ia,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new aS,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&iS(sS,function(){e.controller.abort()})}var mr=null,Wu=0,_s=0,ds=null;function rS(e,t){if(mr===null){var n=mr=[];Wu=0,_s=Lf(),ds={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Wu++,t.then(em,em),t}function em(){if(--Wu===0&&mr!==null){ds!==null&&(ds.status="fulfilled");var e=mr;mr=null,_s=0,ds=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var tm=re.S;re.S=function(e,t){up=dn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rS(e,t),tm!==null&&tm(e,t)};var vi=Kn(null);function hf(){var e=vi.current;return e!==null?e:$e.pooledCache}function Fl(e,t){t===null?Ge(vi,vi.current):Ge(vi,t.pool)}function Pv(){var e=hf();return e===null?null:{parent:gt._currentValue,pool:e}}var Us=Error(D(460)),mf=Error(D(474)),rc=Error(D(542)),bo={then:function(){}};function nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sa,sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e}throw yi=t,Us}}function ri(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(yi=n,Us):n}}var yi=null;function am(){if(yi===null)throw Error(D(459));var e=yi;return yi=null,e}function im(e){if(e===Us||e===rc)throw Error(D(483))}var fs=null,zr=0;function Al(e){var t=zr;return zr+=1,fs===null&&(fs=[]),Fv(fs,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dl(e,t){throw t.$$typeof===X_?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wv(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=la(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,g,v,w){return g===null||g.tag!==6?(g=Ic(v,y.mode,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function o(y,g,v,w){var E=v.type;return E===Zi?d(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sa&&ri(E)===g.type)?(g=i(g,v.props),Fs(g,v),g.return=y,g):(g=Pl(v.type,v.key,v.props,null,y.mode,w),Fs(g,v),g.return=y,g)}function c(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Kc(v,y.mode,w),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function d(y,g,v,w,E){return g===null||g.tag!==7?(g=gi(v,y.mode,w,E),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ic(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wl:return v=Pl(g.type,g.key,g.props,null,y.mode,v),Fs(v,g),v.return=y,v;case ir:return g=Kc(g,y.mode,v),g.return=y,g;case Sa:return g=ri(g),f(y,g,v)}if(sr(g)||Js(g))return g=gi(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return f(y,Al(g),v);if(g.$$typeof===ia)return f(y,Ol(y,g),v);Dl(y,g)}return null}function h(y,g,v,w){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return E!==null?null:l(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return v.key===E?o(y,g,v,w):null;case ir:return v.key===E?c(y,g,v,w):null;case Sa:return v=ri(v),h(y,g,v,w)}if(sr(v)||Js(v))return E!==null?null:d(y,g,v,w,null);if(typeof v.then=="function")return h(y,g,Al(v),w);if(v.$$typeof===ia)return h(y,g,Ol(y,v),w);Dl(y,v)}return null}function m(y,g,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(v)||null,l(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return y=y.get(w.key===null?v:w.key)||null,o(g,y,w,E);case ir:return y=y.get(w.key===null?v:w.key)||null,c(g,y,w,E);case Sa:return w=ri(w),m(y,g,v,w,E)}if(sr(w)||Js(w))return y=y.get(v)||null,d(g,y,w,E,null);if(typeof w.then=="function")return m(y,g,v,Al(w),E);if(w.$$typeof===ia)return m(y,g,v,Ol(g,w),E);Dl(g,w)}return null}function p(y,g,v,w){for(var E=null,T=null,x=g,O=g=0,A=null;x!==null&&O<v.length;O++){x.index>O?(A=x,x=null):A=x.sibling;var k=h(y,x,v[O],w);if(k===null){x===null&&(x=A);break}e&&x&&k.alternate===null&&t(y,x),g=s(k,g,O),T===null?E=k:T.sibling=k,T=k,x=A}if(O===v.length)return n(y,x),De&&na(y,O),E;if(x===null){for(;O<v.length;O++)x=f(y,v[O],w),x!==null&&(g=s(x,g,O),T===null?E=x:T.sibling=x,T=x);return De&&na(y,O),E}for(x=a(x);O<v.length;O++)A=m(x,y,O,v[O],w),A!==null&&(e&&A.alternate!==null&&x.delete(A.key===null?O:A.key),g=s(A,g,O),T===null?E=A:T.sibling=A,T=A);return e&&x.forEach(function(J){return t(y,J)}),De&&na(y,O),E}function _(y,g,v,w){if(v==null)throw Error(D(151));for(var E=null,T=null,x=g,O=g=0,A=null,k=v.next();x!==null&&!k.done;O++,k=v.next()){x.index>O?(A=x,x=null):A=x.sibling;var J=h(y,x,k.value,w);if(J===null){x===null&&(x=A);break}e&&x&&J.alternate===null&&t(y,x),g=s(J,g,O),T===null?E=J:T.sibling=J,T=J,x=A}if(k.done)return n(y,x),De&&na(y,O),E;if(x===null){for(;!k.done;O++,k=v.next())k=f(y,k.value,w),k!==null&&(g=s(k,g,O),T===null?E=k:T.sibling=k,T=k);return De&&na(y,O),E}for(x=a(x);!k.done;O++,k=v.next())k=m(x,y,O,k.value,w),k!==null&&(e&&k.alternate!==null&&x.delete(k.key===null?O:k.key),g=s(k,g,O),T===null?E=k:T.sibling=k,T=k);return e&&x.forEach(function(he){return t(y,he)}),De&&na(y,O),E}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===Zi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:e:{for(var E=v.key;g!==null;){if(g.key===E){if(E=v.type,E===Zi){if(g.tag===7){n(y,g.sibling),w=i(g,v.props.children),w.return=y,y=w;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sa&&ri(E)===g.type){n(y,g.sibling),w=i(g,v.props),Fs(w,v),w.return=y,y=w;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===Zi?(w=gi(v.props.children,y.mode,w,v.key),w.return=y,y=w):(w=Pl(v.type,v.key,v.props,null,y.mode,w),Fs(w,v),w.return=y,y=w)}return r(y);case ir:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),w=i(g,v.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else t(y,g);g=g.sibling}w=Kc(v,y.mode,w),w.return=y,y=w}return r(y);case Sa:return v=ri(v),S(y,g,v,w)}if(sr(v))return p(y,g,v,w);if(Js(v)){if(E=Js(v),typeof E!="function")throw Error(D(150));return v=E.call(v),_(y,g,v,w)}if(typeof v.then=="function")return S(y,g,Al(v),w);if(v.$$typeof===ia)return S(y,g,Ol(y,v),w);Dl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),w=i(g,v),w.return=y,y=w):(n(y,g),w=Ic(v,y.mode,w),w.return=y,y=w),r(y)):n(y,g)}return function(y,g,v,w){try{zr=0;var E=S(y,g,v,w);return fs=null,E}catch(x){if(x===Us||x===rc)throw x;var T=ln(29,x,null,y.mode);return T.lanes=w,T.return=y,T}finally{}}}var wi=Wv(!0),ey=Wv(!1),xa=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Re&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=vo(e),Iv(e,null,n),t}return sc(e,a,t,n),vo(e)}function gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,pv(e,n)}}function Qc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var td=!1;function vr(){if(td){var e=ds;if(e!==null)throw e}}function yr(e,t,n,a){td=!1;var i=e.updateQueue;xa=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?s=c:r.next=c,r=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==r&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(s!==null){var f=i.baseState;r=0,d=c=o=null,l=s;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(Oe&h)===h:(a&h)===h){h!==0&&h===_s&&(td=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,_=l;h=t;var S=n;switch(_.tag){case 1:if(p=_.payload,typeof p=="function"){f=p.call(S,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,h=typeof p=="function"?p.call(S,f,h):p,h==null)break e;f=Ze({},f,h);break e;case 2:xa=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,o=f):d=d.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(o=f),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),Za|=r,e.lanes=r,e.memoizedState=f}}function ty(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function ny(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ty(n[e],t)}var ws=Kn(null),_o=Kn(0);function sm(e,t){e=ma,Ge(_o,e),Ge(ws,t),ma=e|t.baseLanes}function nd(){Ge(_o,ma),Ge(ws,ws.current)}function vf(){ma=_o.current,Dt(ws),Dt(_o)}var vn=Kn(null),An=null;function Aa(e){var t=e.alternate;Ge(rt,rt.current&1),Ge(vn,e),An===null&&(t===null||ws.current!==null||t.memoizedState!==null)&&(An=e)}function ad(e){Ge(rt,rt.current),Ge(vn,e),An===null&&(An=e)}function ay(e){e.tag===22?(Ge(rt,rt.current),Ge(vn,e),An===null&&(An=e)):Da()}function Da(){Ge(rt,rt.current),Ge(vn,vn.current)}function rn(e){Dt(vn),An===e&&(An=null),Dt(rt)}var rt=Kn(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Sd(n)||xd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,fe=null,He=null,ht=null,So=!1,hs=!1,Si=!1,xo=0,Lr=0,ms=null,oS=0;function nt(){throw Error(D(321))}function yf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function pf(e,t,n,a,i,s){return da=s,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,re.H=e===null||e.memoizedState===null?ky:Df,Si=!1,s=n(a,i),Si=!1,hs&&(s=sy(t,n,a,i)),iy(e),s}function iy(e){re.H=Br;var t=He!==null&&He.next!==null;if(da=0,ht=He=fe=null,So=!1,Lr=0,ms=null,t)throw Error(D(300));e===null||vt||(e=e.dependencies,e!==null&&po(e)&&(vt=!0))}function sy(e,t,n,a){fe=e;var i=0;do{if(hs&&(ms=null),Lr=0,hs=!1,25<=i)throw Error(D(301));if(i+=1,ht=He=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}re.H=Uy,s=t(n,a)}while(hs);return s}function cS(){var e=re.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(fe.flags|=1024),t}function bf(){var e=xo!==0;return xo=0,e}function _f(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wf(e){if(So){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}So=!1}da=0,ht=He=fe=null,hs=!1,Lr=xo=0,ms=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?fe.memoizedState=ht=e:ht=ht.next=e,ht}function lt(){if(He===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=ht===null?fe.memoizedState:ht.next;if(t!==null)ht=t,He=e;else{if(e===null)throw fe.alternate===null?Error(D(467)):Error(D(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ht===null?fe.memoizedState=ht=e:ht=ht.next=e}return ht}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=Lr;return Lr+=1,ms===null&&(ms=[]),e=Fv(ms,e,t),t=fe,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,re.H=t===null||t.memoizedState===null?ky:Df),e}function oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===ia)return zt(e)}throw Error(D(438,String(e)))}function Sf(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=lc(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Q_;return t.index++,n}function fa(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=lt();return xf(t,He,e)}function xf(e,t,n){var a=e.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,c=t,d=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Oe&f)===f:(da&f)===f){var h=c.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===_s&&(d=!0);else if((da&h)===h){c=c.next,h===_s&&(d=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=s):o=o.next=f,fe.lanes|=h,Za|=h;f=c.action,Si&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=h,r=s):o=o.next=h,fe.lanes|=f,Za|=f;c=c.next}while(c!==null&&c!==t);if(o===null?r=s:o.next=l,!gn(s,e.memoizedState)&&(vt=!0,d&&(n=ds,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Jc(e){var t=lt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);gn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ry(e,t,n){var a=fe,i=lt(),s=De;if(s){if(n===void 0)throw Error(D(407));n=n()}else n=t();var r=!gn((He||i).memoizedState,n);if(r&&(i.memoizedState=n,vt=!0),i=i.queue,Ef(cy.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||ht!==null&&ht.memoizedState.tag&1){if(a.flags|=2048,Ss(9,{destroy:void 0},oy.bind(null,a,i,n,t),null),$e===null)throw Error(D(349));s||da&127||ly(a,t,n)}return n}function ly(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=lc(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oy(e,t,n,a){t.value=n,t.getSnapshot=a,uy(t)&&dy(e)}function cy(e,t,n){return n(function(){uy(t)&&dy(e)})}function uy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function dy(e){var t=Ai(e,2);t!==null&&en(t,e,2)}function id(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),Si){Ra(!0);try{n()}finally{Ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function fy(e,t,n,a){return e.baseState=n,xf(e,He,typeof a=="function"?a:fa)}function uS(e,t,n,a,i){if(uc(e))throw Error(D(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};re.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,hy(t,s)):(s.next=n.next,t.pending=n.next=s)}}function hy(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=re.T,r={};re.T=r;try{var l=n(i,a),o=re.S;o!==null&&o(r,l),rm(e,t,l)}catch(c){sd(e,t,c)}finally{s!==null&&r.types!==null&&(s.types=r.types),re.T=s}}else try{s=n(i,a),rm(e,t,s)}catch(c){sd(e,t,c)}}function rm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){lm(e,t,a)},function(a){return sd(e,t,a)}):lm(e,t,n)}function lm(e,t,n){t.status="fulfilled",t.value=n,my(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hy(e,n)))}function sd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,my(t),t=t.next;while(t!==a)}e.action=null}function my(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gy(e,t){return t}function om(e,t){if(De){var n=$e.formState;if(n!==null){e:{var a=fe;if(De){if(Qe){t:{for(var i=Qe,s=On;i.nodeType!==8;){if(!s){i=null;break t}if(i=Dn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Qe=Dn(i.nextSibling),a=i.data==="F!";break e}}Qa(a)}a=!1}a&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:t},n.queue=a,n=Ny.bind(null,fe,a),a.dispatch=n,a=id(!1),s=Af.bind(null,fe,!1,a.queue),a=Vt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=uS.bind(null,fe,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function cm(e){var t=lt();return vy(t,He,e)}function vy(e,t,n){if(t=xf(e,t,gy)[0],e=Wl(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=nl(t)}catch(r){throw r===Us?rc:r}else a=t;t=lt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,Ss(9,{destroy:void 0},dS.bind(null,i,n),null)),[a,s,e]}function dS(e,t){e.action=t}function um(e){var t=lt(),n=He;if(n!==null)return vy(t,n,e);lt(),t=t.memoizedState,n=lt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ss(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=fe.updateQueue,t===null&&(t=lc(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function yy(){return lt().memoizedState}function eo(e,t,n,a){var i=Vt();fe.flags|=e,i.memoizedState=Ss(1|t,{destroy:void 0},n,a===void 0?null:a)}function cc(e,t,n,a){var i=lt();a=a===void 0?null:a;var s=i.memoizedState.inst;He!==null&&a!==null&&yf(a,He.memoizedState.deps)?i.memoizedState=Ss(t,s,n,a):(fe.flags|=e,i.memoizedState=Ss(1|t,s,n,a))}function dm(e,t){eo(8390656,8,e,t)}function Ef(e,t){cc(2048,8,e,t)}function fS(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=lc(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function py(e){var t=lt().memoizedState;return fS({ref:t,nextImpl:e}),function(){if(Re&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function by(e,t){return cc(4,2,e,t)}function _y(e,t){return cc(4,4,e,t)}function wy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sy(e,t,n){n=n!=null?n.concat([e]):null,cc(4,4,wy.bind(null,t,e),n)}function Tf(){}function xy(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&yf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ey(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&yf(t,a[1]))return a[0];if(a=e(),Si){Ra(!0);try{e()}finally{Ra(!1)}}return n.memoizedState=[a,t],a}function jf(e,t,n){return n===void 0||da&1073741824&&!(Oe&261930)?e.memoizedState=t:(e.memoizedState=n,e=fp(),fe.lanes|=e,Za|=e,n)}function Ty(e,t,n,a){return gn(n,t)?n:ws.current!==null?(e=jf(e,n,a),gn(e,t)||(vt=!0),e):!(da&42)||da&1073741824&&!(Oe&261930)?(vt=!0,e.memoizedState=n):(e=fp(),fe.lanes|=e,Za|=e,t)}function jy(e,t,n,a,i){var s=Me.p;Me.p=s!==0&&8>s?s:8;var r=re.T,l={};re.T=l,Af(e,!1,t,n);try{var o=i(),c=re.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=lS(o,a);pr(e,t,d,mn(e))}else pr(e,t,a,mn(e))}catch(f){pr(e,t,{then:function(){},status:"rejected",reason:f},mn())}finally{Me.p=s,r!==null&&l.types!==null&&(r.types=l.types),re.T=r}}function hS(){}function rd(e,t,n,a){if(e.tag!==5)throw Error(D(476));var i=Oy(e).queue;jy(e,i,t,mi,n===null?hS:function(){return Ay(e),n(a)})}function Oy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:mi,baseState:mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:mi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ay(e){var t=Oy(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},mn())}function Of(){return zt($r)}function Dy(){return lt().memoizedState}function Cy(){return lt().memoizedState}function mS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=qa(n);var a=$a(t,e,n);a!==null&&(en(a,t,n),gr(a,t,n)),t={cache:ff()},e.payload=t;return}t=t.return}}function gS(e,t,n){var a=mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uc(e)?Ry(t,n):(n=of(e,t,n,a),n!==null&&(en(n,e,a),My(n,t,a)))}function Ny(e,t,n){var a=mn();pr(e,t,n,a)}function pr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(e))Ry(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,gn(l,r))return sc(e,t,i,0),$e===null&&ic(),!1}catch{}finally{}if(n=of(e,t,i,a),n!==null)return en(n,e,a),My(n,t,a),!0}return!1}function Af(e,t,n,a){if(a={lane:2,revertLane:Lf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(t)throw Error(D(479))}else t=of(e,n,a,2),t!==null&&en(t,e,2)}function uc(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ry(e,t){hs=So=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function My(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,pv(e,n)}}var Br={readContext:zt,use:oc,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Br.useEffectEvent=nt;var ky={readContext:zt,use:oc,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:dm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,eo(4194308,4,wy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){eo(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var a=e();if(Si){Ra(!0);try{e()}finally{Ra(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Vt();if(n!==void 0){var i=n(t);if(Si){Ra(!0);try{n(t)}finally{Ra(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gS.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=id(e);var t=e.queue,n=Ny.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tf,useDeferredValue:function(e,t){var n=Vt();return jf(n,e,t)},useTransition:function(){var e=id(!1);return e=jy.bind(null,fe,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=fe,i=Vt();if(De){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),$e===null)throw Error(D(349));Oe&127||ly(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,dm(cy.bind(null,a,s,e),[e]),a.flags|=2048,Ss(9,{destroy:void 0},oy.bind(null,a,s,n,t),null),n},useId:function(){var e=Vt(),t=$e.identifierPrefix;if(De){var n=Yn,a=Vn;n=(a&~(1<<32-hn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=oS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Of,useFormState:om,useActionState:om,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Af.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Sf,useCacheRefresh:function(){return Vt().memoizedState=mS.bind(null,fe)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if(Re&2)throw Error(D(440));return n.impl.apply(void 0,arguments)}}},Df={readContext:zt,use:oc,useCallback:xy,useContext:zt,useEffect:Ef,useImperativeHandle:Sy,useInsertionEffect:by,useLayoutEffect:_y,useMemo:Ey,useReducer:Wl,useRef:yy,useState:function(){return Wl(fa)},useDebugValue:Tf,useDeferredValue:function(e,t){var n=lt();return Ty(n,He.memoizedState,e,t)},useTransition:function(){var e=Wl(fa)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:ry,useId:Dy,useHostTransitionStatus:Of,useFormState:cm,useActionState:cm,useOptimistic:function(e,t){var n=lt();return fy(n,He,e,t)},useMemoCache:Sf,useCacheRefresh:Cy};Df.useEffectEvent=py;var Uy={readContext:zt,use:oc,useCallback:xy,useContext:zt,useEffect:Ef,useImperativeHandle:Sy,useInsertionEffect:by,useLayoutEffect:_y,useMemo:Ey,useReducer:Jc,useRef:yy,useState:function(){return Jc(fa)},useDebugValue:Tf,useDeferredValue:function(e,t){var n=lt();return He===null?jf(n,e,t):Ty(n,He.memoizedState,e,t)},useTransition:function(){var e=Jc(fa)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:ry,useId:Dy,useHostTransitionStatus:Of,useFormState:um,useActionState:um,useOptimistic:function(e,t){var n=lt();return He!==null?fy(n,He,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Cy};Uy.useEffectEvent=py;function Zc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ld={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=mn(),i=qa(a);i.payload=t,n!=null&&(i.callback=n),t=$a(e,i,a),t!==null&&(en(t,e,a),gr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=mn(),i=qa(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$a(e,i,a),t!==null&&(en(t,e,a),gr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),a=qa(n);a.tag=2,t!=null&&(a.callback=t),t=$a(e,a,n),t!==null&&(en(t,e,n),gr(t,e,n))}};function fm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,a)||!Mr(i,s):!0}function hm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function xi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ze({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function zy(e){go(e)}function Ly(e){console.error(e)}function By(e){go(e)}function Eo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function mm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function od(e,t,n){return n=qa(n),n.tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function Hy(e){return e=qa(e),e.tag=3,e}function qy(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){mm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){mm(t,n,a),typeof i!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function vS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ks(t,n,i,!0),n=vn.current,n!==null){switch(n.tag){case 31:case 13:return An===null?Do():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===bo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),lu(e,a,i)),!1;case 22:return n.flags|=65536,a===bo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),lu(e,a,i)),!1}throw Error(D(435,n.tag))}return lu(e,a,i),Do(),!1}if(De)return t=vn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Ju&&(e=Error(D(422),{cause:a}),Ur(jn(e,n)))):(a!==Ju&&(t=Error(D(423),{cause:a}),Ur(jn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=jn(a,n),i=od(e.stateNode,a,i),Qc(e,i),at!==4&&(at=2)),!1;var s=Error(D(520),{cause:a});if(s=jn(s,n),wr===null?wr=[s]:wr.push(s),at!==4&&(at=2),t===null)return!0;a=jn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=od(n.stateNode,a,e),Qc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Va===null||!Va.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Hy(i),qy(i,e,n,a),Qc(n,i),!1}n=n.return}while(n!==null);return!1}var Cf=Error(D(461)),vt=!1;function Mt(e,t,n,a){t.child=e===null?ey(t,null,n,a):wi(t,e.child,n,a)}function gm(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return _i(t),a=pf(e,t,n,r,s,i),l=bf(),e!==null&&!vt?(_f(e,t,i),ha(e,t,i)):(De&&l&&uf(t),t.flags|=1,Mt(e,t,a,i),t.child)}function vm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!cf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,$y(e,t,s,a,i)):(e=Pl(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Nf(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(r,a)&&e.ref===t.ref)return ha(e,t,i)}return t.flags|=1,e=la(s,a),e.ref=t.ref,e.return=t,t.child=e}function $y(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Mr(s,a)&&e.ref===t.ref)if(vt=!1,t.pendingProps=a=s,Nf(e,i))e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,ha(e,t,i)}return cd(e,t,n,a,i)}function Vy(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return ym(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,s!==null?s.cachePool:null),s!==null?sm(t,s):nd(),ay(t);else return a=t.lanes=536870912,ym(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Fl(t,s.cachePool),sm(t,s),Da(),t.memoizedState=null):(e!==null&&Fl(t,null),nd(),Da());return Mt(e,t,i,n),t.child}function lr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ym(e,t,n,a,i){var s=hf();return s=s===null?null:{parent:gt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Fl(t,null),nd(),ay(t),e!==null&&ks(e,t,a,!0),t.childLanes=i,null}function to(e,t){return t=To({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pm(e,t,n){return wi(t,e.child,null,n),e=to(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function yS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=to(t,a),t.lanes=536870912,lr(null,e);if(ad(t),(e=Qe)?(e=kp(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:Vn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},n=Xv(e),n.return=t,t.child=n,Ut=t,Qe=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return to(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(ad(t),i)if(t.flags&256)t.flags&=-257,t=pm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(vt||ks(e,t,n,!1),i=(n&e.childLanes)!==0,vt||i){if(a=$e,a!==null&&(r=bv(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Ai(e,r),en(a,e,r),Cf;Do(),t=pm(e,t,n)}else e=s.treeContext,Qe=Dn(r.nextSibling),Ut=t,De=!0,Ha=null,On=!1,e!==null&&Jv(t,e),t=to(t,a),t.flags|=4096;return t}return e=la(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function no(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cd(e,t,n,a,i){return _i(t),n=pf(e,t,n,a,void 0,i),a=bf(),e!==null&&!vt?(_f(e,t,i),ha(e,t,i)):(De&&a&&uf(t),t.flags|=1,Mt(e,t,n,i),t.child)}function bm(e,t,n,a,i,s){return _i(t),t.updateQueue=null,n=sy(t,a,n,i),iy(e),a=bf(),e!==null&&!vt?(_f(e,t,s),ha(e,t,s)):(De&&a&&uf(t),t.flags|=1,Mt(e,t,n,s),t.child)}function _m(e,t,n,a,i){if(_i(t),t.stateNode===null){var s=is,r=n.contextType;typeof r=="object"&&r!==null&&(s=zt(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ld,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},gf(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?zt(r):is,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Zc(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&ld.enqueueReplaceState(s,s.state,null),yr(t,a,s,i),vr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=xi(n,l);s.props=o;var c=s.context,d=n.contextType;r=is,typeof d=="object"&&d!==null&&(r=zt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==r)&&hm(t,s,a,r),xa=!1;var h=t.memoizedState;s.state=h,yr(t,a,s,i),vr(),c=t.memoizedState,l||h!==c||xa?(typeof f=="function"&&(Zc(t,n,f,a),c=t.memoizedState),(o=xa||fm(t,n,o,a,h,c,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ed(e,t),r=t.memoizedProps,d=xi(n,r),s.props=d,f=t.pendingProps,h=s.context,c=n.contextType,o=is,typeof c=="object"&&c!==null&&(o=zt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==f||h!==o)&&hm(t,s,a,o),xa=!1,h=t.memoizedState,s.state=h,yr(t,a,s,i),vr();var m=t.memoizedState;r!==f||h!==m||xa||e!==null&&e.dependencies!==null&&po(e.dependencies)?(typeof l=="function"&&(Zc(t,n,l,a),m=t.memoizedState),(d=xa||fm(t,n,d,a,h,m,o)||e!==null&&e.dependencies!==null&&po(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=d):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,no(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):Mt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ha(e,t,i),e}function wm(e,t,n,a){return bi(),t.flags|=256,Mt(e,t,n,a),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:Pv()}}function Wc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function Yy(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(i?Aa(t):Da(),(e=Qe)?(e=kp(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:Vn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},n=Xv(e),n.return=t,t.child=n,Ut=t,Qe=null)):e=null,e===null)throw Qa(t);return xd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Da(),i=t.mode,l=To({mode:"hidden",children:l},i),a=gi(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Fc(n),a.childLanes=Wc(e,r,n),t.memoizedState=Pc,lr(null,a)):(Aa(t),ud(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Aa(t),t.flags&=-257,t=eu(e,t,n)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),l=a.fallback,i=t.mode,a=To({mode:"visible",children:a.children},i),l=gi(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,wi(t,e.child,null,n),a=t.child,a.memoizedState=Fc(n),a.childLanes=Wc(e,r,n),t.memoizedState=Pc,t=lr(null,a));else if(Aa(t),xd(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,a=Error(D(419)),a.stack="",a.digest=r,Ur({value:a,source:null,stack:null}),t=eu(e,t,n)}else if(vt||ks(e,t,n,!1),r=(n&e.childLanes)!==0,vt||r){if(r=$e,r!==null&&(a=bv(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ai(e,a),en(r,e,a),Cf;Sd(l)||Do(),t=eu(e,t,n)}else Sd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Qe=Dn(l.nextSibling),Ut=t,De=!0,Ha=null,On=!1,e!==null&&Jv(t,e),t=ud(t,a.children),t.flags|=4096);return t}return i?(Da(),l=a.fallback,i=t.mode,o=e.child,c=o.sibling,a=la(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=la(c,l):(l=gi(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,lr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Fc(n):(i=l.cachePool,i!==null?(o=gt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Pv(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=Wc(e,r,n),t.memoizedState=Pc,lr(e.child,a)):(Aa(t),n=e.child,e=n.sibling,n=la(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ud(e,t){return t=To({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function To(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function eu(e,t,n){return wi(t,e.child,null,n),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Pu(e.return,t,n)}function tu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Gy(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=rt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Ge(rt,r),Mt(e,t,a,n),a=De?kr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,n,t);else if(e.tag===19)Sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tu(t,!0,n,null,s,a);break;case"together":tu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Za|=t.lanes,!(n&t.childLanes))if(e!==null){if(ks(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&po(e)))}function pS(e,t,n){switch(t.tag){case 3:uo(t,t.stateNode.containerInfo),Oa(t,gt,e.memoizedState.cache),bi();break;case 27:case 5:Bu(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ad(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Aa(t),t.flags|=128,null):n&t.child.childLanes?Yy(e,t,n):(Aa(t),e=ha(e,t,n),e!==null?e.sibling:null);Aa(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ks(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Gy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(rt,rt.current),a)break;return null;case 22:return t.lanes=0,Vy(e,t,n,t.pendingProps);case 24:Oa(t,gt,e.memoizedState.cache)}return ha(e,t,n)}function Iy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!Nf(e,n)&&!(t.flags&128))return vt=!1,pS(e,t,n);vt=!!(e.flags&131072)}else vt=!1,De&&t.flags&1048576&&Qv(t,kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ri(t.elementType),t.type=e,typeof e=="function")cf(e)?(a=xi(e,a),t.tag=1,t=_m(null,t,e,a,n)):(t.tag=0,t=cd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Qd){t.tag=11,t=gm(null,t,e,a,n);break e}else if(i===Jd){t.tag=14,t=vm(null,t,e,a,n);break e}}throw t=zu(e)||e,Error(D(306,t,""))}}return t;case 0:return cd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=xi(a,t.pendingProps),_m(e,t,a,i,n);case 3:e:{if(uo(t,t.stateNode.containerInfo),e===null)throw Error(D(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ed(e,t),yr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Oa(t,gt,a),a!==s.cache&&Fu(t,[gt],n,!0),vr(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=wm(e,t,a,n);break e}else if(a!==i){i=jn(Error(D(424)),t),Ur(i),t=wm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Dn(e.firstChild),Ut=t,De=!0,Ha=null,On=!0,n=ey(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(bi(),a===i){t=ha(e,t,n);break e}Mt(e,t,a,n)}t=t.child}return t;case 26:return no(e,t),e===null?(n=Vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,a=Mo(Ba.current).createElement(n),a[kt]=t,a[tn]=e,Lt(a,n,e),At(a),t.stateNode=a):t.memoizedState=Vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bu(t),e===null&&De&&(a=t.stateNode=Up(t.type,t.pendingProps,Ba.current),Ut=t,On=!0,i=Qe,Fa(t.type)?(Ed=i,Qe=Dn(a.firstChild)):Qe=i),Mt(e,t,t.pendingProps.children,n),no(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((i=a=Qe)&&(a=QS(a,t.type,t.pendingProps,On),a!==null?(t.stateNode=a,Ut=t,Qe=Dn(a.firstChild),On=!1,i=!0):i=!1),i||Qa(t)),Bu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,_d(i,s)?a=null:r!==null&&_d(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=pf(e,t,cS,null,null,n),$r._currentValue=i),no(e,t),Mt(e,t,a,n),t.child;case 6:return e===null&&De&&((e=n=Qe)&&(n=JS(n,t.pendingProps,On),n!==null?(t.stateNode=n,Ut=t,Qe=null,e=!0):e=!1),e||Qa(t)),null;case 13:return Yy(e,t,n);case 4:return uo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=wi(t,null,a,n):Mt(e,t,a,n),t.child;case 11:return gm(e,t,t.type,t.pendingProps,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Oa(t,t.type,a.value),Mt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,_i(t),i=zt(i),a=a(i),t.flags|=1,Mt(e,t,a,n),t.child;case 14:return vm(e,t,t.type,t.pendingProps,n);case 15:return $y(e,t,t.type,t.pendingProps,n);case 19:return Gy(e,t,n);case 31:return yS(e,t,n);case 22:return Vy(e,t,n,t.pendingProps);case 24:return _i(t),a=zt(gt),e===null?(i=hf(),i===null&&(i=$e,s=ff(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},gf(t),Oa(t,gt,i)):(e.lanes&n&&(ed(e,t),yr(t,null,null,n),vr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Oa(t,gt,a)):(a=s.cache,Oa(t,gt,a),a!==i.cache&&Fu(t,[gt],n,!0))),Mt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function Zn(e){e.flags|=4}function nu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(gp())e.flags|=8192;else throw yi=bo,mf}else e.flags&=-16777217}function xm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Bp(t))if(gp())e.flags|=8192;else throw yi=bo,mf}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vv():536870912,e.lanes|=t,xs|=t)}function Ws(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function bS(e,t,n){var a=t.pendingProps;switch(df(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(gt),ys(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zi(t)?Zn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xc())),Xe(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(Zn(t),s!==null?(Xe(t),xm(t,s)):(Xe(t),nu(t,i,null,a,n))):s?s!==e.memoizedState?(Zn(t),Xe(t),xm(t,s)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Zn(t),Xe(t),nu(t,i,e,a,n)),null;case 27:if(fo(t),n=Ba.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zn(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return Xe(t),null}e=In.current,zi(t)?Fh(t):(e=Up(i,a,n),t.stateNode=e,Zn(t))}return Xe(t),null;case 5:if(fo(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zn(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return Xe(t),null}if(s=In.current,zi(t))Fh(t);else{var r=Mo(Ba.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[kt]=t,s[tn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Lt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Zn(t)}}return Xe(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Zn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(D(166));if(e=Ba.current,zi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Ut,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Np(e.nodeValue,n)),e||Qa(t,!0)}else e=Mo(e).createTextNode(a),e[kt]=t,t.stateNode=e}return Xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=zi(t),n!==null){if(e===null){if(!a)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[kt]=t}else bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else n=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if(t.flags&128)throw Error(D(558))}return Xe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=zi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[kt]=t}else bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else i=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cl(t,t.updateQueue),Xe(t),null);case 4:return ys(),e===null&&Bf(t.stateNode.containerInfo),Xe(t),null;case 10:return oa(t.type),Xe(t),null;case 19:if(Dt(rt),a=t.memoizedState,a===null)return Xe(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Ws(a,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wo(e),s!==null){for(t.flags|=128,Ws(a,!1),e=s.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Kv(n,e),n=n.sibling;return Ge(rt,rt.current&1|2),De&&na(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&dn()>Oo&&(t.flags|=128,i=!0,Ws(a,!1),t.lanes=4194304)}else{if(!i)if(e=wo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),Ws(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!De)return Xe(t),null}else 2*dn()-a.renderingStartTime>Oo&&n!==536870912&&(t.flags|=128,i=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,n=rt.current,Ge(rt,i?n&1|2:n&1),De&&na(t,a.treeForkCount),e):(Xe(t),null);case 22:case 23:return rn(t),vf(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),n=t.updateQueue,n!==null&&Cl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Dt(vi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(gt),Xe(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function _S(e,t){switch(df(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(gt),ys(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fo(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error(D(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(rt),null;case 4:return ys(),null;case 10:return oa(t.type),null;case 22:case 23:return rn(t),vf(),e!==null&&Dt(vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(gt),null;case 25:return null;default:return null}}function Ky(e,t){switch(df(t),t.tag){case 3:oa(gt),ys();break;case 26:case 27:case 5:fo(t);break;case 4:ys();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:Dt(rt);break;case 10:oa(t.type);break;case 22:case 23:rn(t),vf(),e!==null&&Dt(vi);break;case 24:oa(gt)}}function al(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){ze(t,t.return,l)}}function Ja(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(d){ze(i,o,d)}}}a=a.next}while(a!==s)}}catch(d){ze(t,t.return,d)}}function Xy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ny(t,n)}catch(a){ze(e,e.return,a)}}}function Qy(e,t,n){n.props=xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ze(e,t,a)}}function br(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){ze(e,t,i)}}function Gn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){ze(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ze(e,t,i)}else n.current=null}function Jy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){ze(e,e.return,i)}}function au(e,t,n){try{var a=e.stateNode;VS(a,e.type,n,t),a[tn]=t}catch(i){ze(e,e.return,i)}}function Zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sa));else if(a!==4&&(a===27&&Fa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}function jo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Fa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(jo(e,t,n),e=e.sibling;e!==null;)jo(e,t,n),e=e.sibling}function Py(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Lt(t,a,n),t[kt]=e,t[tn]=n}catch(s){ze(e,e.return,s)}}var aa=!1,mt=!1,su=!1,Em=typeof WeakSet=="function"?WeakSet:Set,jt=null;function wS(e,t){if(e=e.containerInfo,pd=Lo,e=Bv(e),rf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==s||a!==0&&f.nodeType!==3||(o=r+a),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=r),h===s&&++d===a&&(o=r),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(bd={focusedElem:e,selectionRange:n},Lo=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var p=xi(n.type,i);e=a.getSnapshotBeforeUpdate(p,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(_){ze(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function Fy(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n),a&4&&al(5,n);break;case 1:if(Fn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ze(n,n.return,r)}else{var i=xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ze(n,n.return,r)}}a&64&&Xy(n),a&512&&br(n,n.return);break;case 3:if(Fn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ny(e,t)}catch(r){ze(n,n.return,r)}}break;case 27:t===null&&a&4&&Py(n);case 26:case 5:Fn(e,n),t===null&&a&4&&Jy(n),a&512&&br(n,n.return);break;case 12:Fn(e,n);break;case 31:Fn(e,n),a&4&&tp(e,n);break;case 13:Fn(e,n),a&4&&np(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=CS.bind(null,n),ZS(e,n))));break;case 22:if(a=n.memoizedState!==null||aa,!a){t=t!==null&&t.memoizedState!==null||mt,i=aa;var s=mt;aa=a,(mt=t)&&!s?ea(e,n,(n.subtreeFlags&8772)!==0):Fn(e,n),aa=i,mt=s}break;case 30:break;default:Fn(e,n)}}function Wy(e){var t=e.alternate;t!==null&&(e.alternate=null,Wy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Ft=!1;function Pn(e,t,n){for(n=n.child;n!==null;)ep(e,t,n),n=n.sibling}function ep(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Zr,n)}catch{}switch(n.tag){case 26:mt||Gn(n,t),Pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:mt||Gn(n,t);var a=We,i=Ft;Fa(n.type)&&(We=n.stateNode,Ft=!1),Pn(e,t,n),xr(n.stateNode),We=a,Ft=i;break;case 5:mt||Gn(n,t);case 6:if(a=We,i=Ft,We=null,Pn(e,t,n),We=a,Ft=i,We!==null)if(Ft)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(n.stateNode)}catch(s){ze(n,t,s)}else try{We.removeChild(n.stateNode)}catch(s){ze(n,t,s)}break;case 18:We!==null&&(Ft?(e=We,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Os(e)):Lm(We,n.stateNode));break;case 4:a=We,i=Ft,We=n.stateNode.containerInfo,Ft=!0,Pn(e,t,n),We=a,Ft=i;break;case 0:case 11:case 14:case 15:Ja(2,n,t),mt||Ja(4,n,t),Pn(e,t,n);break;case 1:mt||(Gn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Qy(n,t,a)),Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:mt=(a=mt)||n.memoizedState!==null,Pn(e,t,n),mt=a;break;default:Pn(e,t,n)}}function tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Os(e)}catch(n){ze(t,t.return,n)}}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Os(e)}catch(n){ze(t,t.return,n)}}function SS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(D(435,e.tag))}}function Nl(e,t){var n=SS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=NS.bind(null,e,a);a.then(i,i)}})}function Zt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Fa(l.type)){We=l.stateNode,Ft=!1;break e}break;case 5:We=l.stateNode,Ft=!1;break e;case 3:case 4:We=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(We===null)throw Error(D(160));ep(s,r,i),We=null,Ft=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}var zn=null;function ap(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Pt(e),a&4&&(Ja(3,e,e.return),al(3,e),Ja(5,e,e.return));break;case 1:Zt(t,e),Pt(e),a&512&&(mt||n===null||Gn(n,n.return)),a&64&&aa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=zn;if(Zt(t,e),Pt(e),a&512&&(mt||n===null||Gn(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Wr]||s[kt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Lt(s,a,n),s[kt]=e,At(s),a=s;break e;case"link":var r=Gm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Lt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Gm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Lt(s,a,n),i.head.appendChild(s);break;default:throw Error(D(468,a))}s[kt]=e,At(s),a=s}e.stateNode=a}else Im(i,e.type,e.stateNode);else e.stateNode=Ym(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Im(i,e.type,e.stateNode):Ym(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&au(e,e.memoizedProps,n.memoizedProps)}break;case 27:Zt(t,e),Pt(e),a&512&&(mt||n===null||Gn(n,n.return)),n!==null&&a&4&&au(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Zt(t,e),Pt(e),a&512&&(mt||n===null||Gn(n,n.return)),e.flags&32){i=e.stateNode;try{bs(i,"")}catch(p){ze(e,e.return,p)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,au(e,i,n!==null?n.memoizedProps:i)),a&1024&&(su=!0);break;case 6:if(Zt(t,e),Pt(e),a&4){if(e.stateNode===null)throw Error(D(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){ze(e,e.return,p)}}break;case 3:if(so=null,i=zn,zn=ko(t.containerInfo),Zt(t,e),zn=i,Pt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(t.containerInfo)}catch(p){ze(e,e.return,p)}su&&(su=!1,ip(e));break;case 4:a=zn,zn=ko(e.stateNode.containerInfo),Zt(t,e),Pt(e),zn=a;break;case 12:Zt(t,e),Pt(e);break;case 31:Zt(t,e),Pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 13:Zt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dc=dn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=aa,d=mt;if(aa=c||i,mt=d||o,Zt(t,e),mt=d,aa=c,Pt(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||aa||mt||li(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){ze(o,o.return,p)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(p){ze(o,o.return,p)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Bm(m,!0):Bm(o.stateNode,!1)}catch(p){ze(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Nl(e,n))));break;case 19:Zt(t,e),Pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Nl(e,a)));break;case 30:break;case 21:break;default:Zt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Zy(a)){n=a;break}a=a.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var i=n.stateNode,s=iu(e);jo(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(bs(r,""),n.flags&=-33);var l=iu(e);jo(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=iu(e);dd(e,c,o);break;default:throw Error(D(161))}}catch(d){ze(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ip(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fy(e,t.alternate,t),t=t.sibling}function li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),li(t);break;case 1:Gn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Qy(t,t.return,n),li(t);break;case 27:xr(t.stateNode);case 26:case 5:Gn(t,t.return),li(t);break;case 22:t.memoizedState===null&&li(t);break;case 30:li(t);break;default:li(t)}e=e.sibling}}function ea(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ea(i,s,n),al(4,s);break;case 1:if(ea(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ze(a,a.return,c)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)ty(o[i],l)}catch(c){ze(a,a.return,c)}}n&&r&64&&Xy(s),br(s,s.return);break;case 27:Py(s);case 26:case 5:ea(i,s,n),n&&a===null&&r&4&&Jy(s),br(s,s.return);break;case 12:ea(i,s,n);break;case 31:ea(i,s,n),n&&r&4&&tp(i,s);break;case 13:ea(i,s,n),n&&r&4&&np(i,s);break;case 22:s.memoizedState===null&&ea(i,s,n),br(s,s.return);break;case 30:break;default:ea(i,s,n)}t=t.sibling}}function Rf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&tl(n))}function Mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tl(e))}function Rn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sp(e,t,n,a),t=t.sibling}function sp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,n,a),i&2048&&al(9,t);break;case 1:Rn(e,t,n,a);break;case 3:Rn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tl(e)));break;case 12:if(i&2048){Rn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ze(t,t.return,o)}}else Rn(e,t,n,a);break;case 31:Rn(e,t,n,a);break;case 13:Rn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Rn(e,t,n,a):_r(e,t):s._visibility&2?Rn(e,t,n,a):(s._visibility|=2,Ii(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Rf(r,t);break;case 24:Rn(e,t,n,a),i&2048&&Mf(t.alternate,t);break;default:Rn(e,t,n,a)}}function Ii(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(s,r,l,o,i),al(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Ii(s,r,l,o,i):_r(s,r):(d._visibility|=2,Ii(s,r,l,o,i)),i&&c&2048&&Rf(r.alternate,r);break;case 24:Ii(s,r,l,o,i),i&&c&2048&&Mf(r.alternate,r);break;default:Ii(s,r,l,o,i)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:_r(n,a),i&2048&&Rf(a.alternate,a);break;case 24:_r(n,a),i&2048&&Mf(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var or=8192;function Li(e,t,n){if(e.subtreeFlags&or)for(e=e.child;e!==null;)rp(e,t,n),e=e.sibling}function rp(e,t,n){switch(e.tag){case 26:Li(e,t,n),e.flags&or&&e.memoizedState!==null&&ox(n,zn,e.memoizedState,e.memoizedProps);break;case 5:Li(e,t,n);break;case 3:case 4:var a=zn;zn=ko(e.stateNode.containerInfo),Li(e,t,n),zn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=or,or=16777216,Li(e,t,n),or=a):Li(e,t,n));break;default:Li(e,t,n)}}function lp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function er(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];jt=a,cp(a,e)}lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ao(e)):er(e);break;default:er(e)}}function ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];jt=a,cp(a,e)}lp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ao(t));break;default:ao(t)}e=e.sibling}}function cp(e,t){for(;jt!==null;){var n=jt;switch(n.tag){case 0:case 11:case 15:Ja(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:tl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,jt=a;else e:for(n=e;jt!==null;){a=jt;var i=a.sibling,s=a.return;if(Wy(a),a===n){jt=null;break e}if(i!==null){i.return=s,jt=i;break e}jt=s}}}var xS={getCacheForType:function(e){var t=zt(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return zt(gt).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,Re=0,$e=null,Ee=null,Oe=0,ke=0,sn=null,ka=!1,zs=!1,kf=!1,ma=0,at=0,Za=0,pi=0,Uf=0,un=0,xs=0,wr=null,Wt=null,fd=!1,dc=0,up=0,Oo=1/0,Ao=null,Va=null,_t=0,Ya=null,Es=null,ca=0,hd=0,md=null,dp=null,Sr=0,gd=null;function mn(){return Re&2&&Oe!==0?Oe&-Oe:re.T!==null?Lf():_v()}function fp(){if(un===0)if(!(Oe&536870912)||De){var e=xl;xl<<=1,!(xl&3932160)&&(xl=262144),un=e}else un=536870912;return e=vn.current,e!==null&&(e.flags|=32),un}function en(e,t,n){(e===$e&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),Ua(e,Oe,un,!1)),Fr(e,n),(!(Re&2)||e!==$e)&&(e===$e&&(!(Re&2)&&(pi|=n),at===4&&Ua(e,Oe,un,!1)),Xn(e))}function hp(e,t,n){if(Re&6)throw Error(D(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Pr(e,t),i=a?OS(e,t):ru(e,t,!0),s=a;do{if(i===0){zs&&!a&&Ua(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!TS(n)){i=ru(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=wr;var o=l.current.memoizedState.isDehydrated;if(o&&(Ts(l,r).flags|=256),r=ru(l,r,!1),r!==2){if(kf&&!o){l.errorRecoveryDisabledLanes|=s,pi|=s,i=4;break e}s=Wt,Wt=i,s!==null&&(Wt===null?Wt=s:Wt.push.apply(Wt,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Ts(e,0),Ua(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:Ua(a,t,un,!ka);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(i=dc+300-dn(),10<i)){if(Ua(a,t,un,!ka),ec(a,0,!0)!==0)break e;ca=t,a.timeoutHandle=Mp(Tm.bind(null,a,n,Wt,Ao,fd,t,un,pi,xs,ka,s,"Throttled",-0,0),i);break e}Tm(a,n,Wt,Ao,fd,t,un,pi,xs,ka,s,null,-0,0)}}break}while(!0);Xn(e)}function Tm(e,t,n,a,i,s,r,l,o,c,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},rp(t,s,f);var p=(s&62914560)===s?dc-dn():(s&4194048)===s?up-dn():0;if(p=cx(f,p),p!==null){ca=s,e.cancelPendingCommit=p(Om.bind(null,e,t,s,n,a,i,r,l,o,d,f,null,h,m)),Ua(e,s,r,!c);return}}Om(e,t,s,n,a,i,r,l,o)}function TS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!gn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t,n,a){t&=~Uf,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-hn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&yv(e,n,t)}function fc(){return Re&6?!0:(il(0),!1)}function zf(){if(Ee!==null){if(ke===0)var e=Ee.return;else e=Ee,ra=Di=null,wf(e),fs=null,zr=0,e=Ee;for(;e!==null;)Ky(e.alternate,e),e=e.return;Ee=null}}function Ts(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,IS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ca=0,zf(),$e=e,Ee=n=la(e.current,null),Oe=t,ke=0,sn=null,ka=!1,zs=Pr(e,t),kf=!1,xs=un=Uf=pi=Za=at=0,Wt=wr=null,fd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-hn(a),s=1<<i;t|=e[i],a&=~s}return ma=t,ic(),n}function mp(e,t){fe=null,re.H=Br,t===Us||t===rc?(t=am(),ke=3):t===mf?(t=am(),ke=4):ke=t===Cf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,Ee===null&&(at=1,Eo(e,jn(t,e.current)))}function gp(){var e=vn.current;return e===null?!0:(Oe&4194048)===Oe?An===null:(Oe&62914560)===Oe||Oe&536870912?e===An:!1}function vp(){var e=re.H;return re.H=Br,e===null?Br:e}function yp(){var e=re.A;return re.A=xS,e}function Do(){at=4,ka||(Oe&4194048)!==Oe&&vn.current!==null||(zs=!0),!(Za&134217727)&&!(pi&134217727)||$e===null||Ua($e,Oe,un,!1)}function ru(e,t,n){var a=Re;Re|=2;var i=vp(),s=yp();($e!==e||Oe!==t)&&(Ao=null,Ts(e,t)),t=!1;var r=at;e:do try{if(ke!==0&&Ee!==null){var l=Ee,o=sn;switch(ke){case 8:zf(),r=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var c=ke;if(ke=0,sn=null,ls(e,l,o,c),n&&zs){r=0;break e}break;default:c=ke,ke=0,sn=null,ls(e,l,o,c)}}jS(),r=at;break}catch(d){mp(e,d)}while(!0);return t&&e.shellSuspendCounter++,ra=Di=null,Re=a,re.H=i,re.A=s,Ee===null&&($e=null,Oe=0,ic()),r}function jS(){for(;Ee!==null;)pp(Ee)}function OS(e,t){var n=Re;Re|=2;var a=vp(),i=yp();$e!==e||Oe!==t?(Ao=null,Oo=dn()+500,Ts(e,t)):zs=Pr(e,t);e:do try{if(ke!==0&&Ee!==null){t=Ee;var s=sn;t:switch(ke){case 1:ke=0,sn=null,ls(e,t,s,1);break;case 2:case 9:if(nm(s)){ke=0,sn=null,jm(t);break}t=function(){ke!==2&&ke!==9||$e!==e||(ke=7),Xn(e)},s.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:nm(s)?(ke=0,sn=null,jm(t)):(ke=0,sn=null,ls(e,t,s,7));break;case 5:var r=null;switch(Ee.tag){case 26:r=Ee.memoizedState;case 5:case 27:var l=Ee;if(r?Bp(r):l.stateNode.complete){ke=0,sn=null;var o=l.sibling;if(o!==null)Ee=o;else{var c=l.return;c!==null?(Ee=c,hc(c)):Ee=null}break t}}ke=0,sn=null,ls(e,t,s,5);break;case 6:ke=0,sn=null,ls(e,t,s,6);break;case 8:zf(),at=6;break e;default:throw Error(D(462))}}AS();break}catch(d){mp(e,d)}while(!0);return ra=Di=null,re.H=a,re.A=i,Re=n,Ee!==null?0:($e=null,Oe=0,ic(),at)}function AS(){for(;Ee!==null&&!P_();)pp(Ee)}function pp(e){var t=Iy(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?hc(e):Ee=t}function jm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bm(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=bm(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:wf(t);default:Ky(n,t),t=Ee=Kv(t,ma),t=Iy(n,t,ma)}e.memoizedProps=e.pendingProps,t===null?hc(e):Ee=t}function ls(e,t,n,a){ra=Di=null,wf(t),fs=null,zr=0;var i=t.return;try{if(vS(e,i,t,n,Oe)){at=1,Eo(e,jn(n,e.current)),Ee=null;return}}catch(s){if(i!==null)throw Ee=i,s;at=1,Eo(e,jn(n,e.current)),Ee=null;return}t.flags&32768?(De||a===1?e=!0:zs||Oe&536870912?e=!1:(ka=e=!0,(a===2||a===9||a===3||a===6)&&(a=vn.current,a!==null&&a.tag===13&&(a.flags|=16384))),bp(t,e)):hc(t)}function hc(e){var t=e;do{if(t.flags&32768){bp(t,ka);return}e=t.return;var n=bS(t.alternate,t,ma);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);at===0&&(at=5)}function bp(e,t){do{var n=_S(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);at=6,Ee=null}function Om(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do mc();while(_t!==0);if(Re&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(s=t.lanes|t.childLanes,s|=lf,lw(e,n,s,r,l,o),e===$e&&(Ee=$e=null,Oe=0),Es=t,Ya=e,ca=n,hd=s,md=i,dp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,RS(ho,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=re.T,re.T=null,i=Me.p,Me.p=2,r=Re,Re|=4;try{wS(e,t,n)}finally{Re=r,Me.p=i,re.T=a}}_t=1,_p(),wp(),Sp()}}function _p(){if(_t===1){_t=0;var e=Ya,t=Es,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=re.T,re.T=null;var a=Me.p;Me.p=2;var i=Re;Re|=4;try{ap(t,e);var s=bd,r=Bv(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Lv(l.ownerDocument.documentElement,l)){if(o!==null&&rf(l)){var c=o.start,d=o.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=l.textContent.length,_=Math.min(o.start,p),S=o.end===void 0?_:Math.min(o.end,p);!m.extend&&_>S&&(r=S,S=_,_=r);var y=Jh(l,_),g=Jh(l,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=f.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),_>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Lo=!!pd,bd=pd=null}finally{Re=i,Me.p=a,re.T=n}}e.current=t,_t=2}}function wp(){if(_t===2){_t=0;var e=Ya,t=Es,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=re.T,re.T=null;var a=Me.p;Me.p=2;var i=Re;Re|=4;try{Fy(e,t.alternate,t)}finally{Re=i,Me.p=a,re.T=n}}_t=3}}function Sp(){if(_t===4||_t===3){_t=0,F_();var e=Ya,t=Es,n=ca,a=dp;t.subtreeFlags&10256||t.flags&10256?_t=5:(_t=0,Es=Ya=null,xp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Va=null),Fd(n),t=t.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Zr,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=re.T,i=Me.p,Me.p=2,re.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{re.T=t,Me.p=i}}ca&3&&mc(),Xn(e),i=e.pendingLanes,n&261930&&i&42?e===gd?Sr++:(Sr=0,gd=e):Sr=0,il(0)}}function xp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,tl(t)))}function mc(){return _p(),wp(),Sp(),Ep()}function Ep(){if(_t!==5)return!1;var e=Ya,t=hd;hd=0;var n=Fd(ca),a=re.T,i=Me.p;try{Me.p=32>n?32:n,re.T=null,n=md,md=null;var s=Ya,r=ca;if(_t=0,Es=Ya=null,ca=0,Re&6)throw Error(D(331));var l=Re;if(Re|=4,op(s.current),sp(s,s.current,r,n),Re=l,il(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Zr,s)}catch{}return!0}finally{Me.p=i,re.T=a,xp(e,t)}}function Am(e,t,n){t=jn(n,t),t=od(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Fr(e,2),Xn(e))}function ze(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Va===null||!Va.has(a))){e=jn(n,e),n=Hy(2),a=$a(t,n,2),a!==null&&(qy(n,a,t,e),Fr(a,2),Xn(a));break}}t=t.return}}function lu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ES;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(kf=!0,i.add(n),e=DS.bind(null,e,t,n),t.then(e,e))}function DS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$e===e&&(Oe&n)===n&&(at===4||at===3&&(Oe&62914560)===Oe&&300>dn()-dc?!(Re&2)&&Ts(e,0):Uf|=n,xs===Oe&&(xs=0)),Xn(e)}function Tp(e,t){t===0&&(t=vv()),e=Ai(e,t),e!==null&&(Fr(e,t),Xn(e))}function CS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tp(e,n)}function NS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(D(314))}a!==null&&a.delete(t),Tp(e,n)}function RS(e,t){return Zd(e,t)}var Co=null,Ki=null,vd=!1,No=!1,ou=!1,za=0;function Xn(e){e!==Ki&&e.next===null&&(Ki===null?Co=Ki=e:Ki=Ki.next=e),No=!0,vd||(vd=!0,kS())}function il(e,t){if(!ou&&No){ou=!0;do for(var n=!1,a=Co;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-hn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Dm(a,s))}else s=Oe,s=ec(a,a===$e?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Pr(a,s)||(n=!0,Dm(a,s));a=a.next}while(n);ou=!1}}function MS(){jp()}function jp(){No=vd=!1;var e=0;za!==0&&GS()&&(e=za);for(var t=dn(),n=null,a=Co;a!==null;){var i=a.next,s=Op(a,t);s===0?(a.next=null,n===null?Co=i:n.next=i,i===null&&(Ki=n)):(n=a,(e!==0||s&3)&&(No=!0)),a=i}_t!==0&&_t!==5||il(e),za!==0&&(za=0)}function Op(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-hn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=rw(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=$e,n=Oe,n=ec(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&zc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Pr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&zc(a),Fd(n)){case 2:case 8:n=mv;break;case 32:n=ho;break;case 268435456:n=gv;break;default:n=ho}return a=Ap.bind(null,e),n=Zd(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&zc(a),e.callbackPriority=2,e.callbackNode=null,2}function Ap(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(mc()&&e.callbackNode!==n)return null;var a=Oe;return a=ec(e,e===$e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(hp(e,a,t),Op(e,dn()),e.callbackNode!=null&&e.callbackNode===n?Ap.bind(null,e):null)}function Dm(e,t){if(mc())return null;hp(e,t,!0)}function kS(){KS(function(){Re&6?Zd(hv,MS):jp()})}function Lf(){if(za===0){var e=_s;e===0&&(e=Sl,Sl<<=1,!(Sl&261888)&&(Sl=256)),za=e}return za}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ql(""+e)}function Nm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function US(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Cm((i[tn]||null).action),r=a.submitter;r&&(t=(t=r[tn]||null)?Cm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new tc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(za!==0){var o=r?Nm(i,r):new FormData(i);rd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?Nm(i,r):new FormData(i),rd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var cu=0;cu<Qu.length;cu++){var uu=Qu[cu],zS=uu.toLowerCase(),LS=uu[0].toUpperCase()+uu.slice(1);qn(zS,"on"+LS)}qn(qv,"onAnimationEnd");qn($v,"onAnimationIteration");qn(Vv,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Ww,"onTransitionRun");qn(eS,"onTransitionStart");qn(tS,"onTransitionCancel");qn(Yv,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function Dp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){go(d)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){go(d)}i.currentTarget=null,s=o}}}}function xe(e,t){var n=t[qu];n===void 0&&(n=t[qu]=new Set);var a=e+"__bubble";n.has(a)||(Cp(t,e,2,!1),n.add(a))}function du(e,t,n){var a=0;t&&(a|=4),Cp(n,e,a,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Rl]){e[Rl]=!0,wv.forEach(function(n){n!=="selectionchange"&&(BS.has(n)||du(n,!1,e),du(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,du("selectionchange",!1,t))}}function Cp(e,t,n,a){switch(Yp(t)){case 2:var i=fx;break;case 8:i=hx;break;default:i=Vf}n=i.bind(null,t,n,e),i=void 0,!Iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=Fi(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Dv(function(){var c=s,d=tf(n),f=[];e:{var h=Gv.get(e);if(h!==void 0){var m=tc,p=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":m=Nw;break;case"focusin":p="focus",m=$c;break;case"focusout":p="blur",m=$c;break;case"beforeblur":case"afterblur":m=$c;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kw;break;case qv:case $v:case Vv:m=Sw;break;case Yv:m=zw;break;case"scroll":case"scrollend":m=yw;break;case"wheel":m=Bw;break;case"copy":case"cut":case"paste":m=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$h;break;case"toggle":case"beforetoggle":m=qw}var _=(t&4)!==0,S=!_&&(e==="scroll"||e==="scrollend"),y=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,v;g!==null;){var w=g;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||y===null||(w=Nr(g,y),w!=null&&_.push(qr(g,w,v))),S)break;g=g.return}0<_.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Gu&&(p=n.relatedTarget||n.fromElement)&&(Fi(p)||p[Rs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Fi(p):null,p!==null&&(S=Jr(p),_=p.tag,p!==S||_!==5&&_!==27&&_!==6)&&(p=null)):(m=null,p=c),m!==p)){if(_=Hh,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=$h,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?h:rr(m),v=p==null?h:rr(p),h=new _(w,g+"leave",m,n,d),h.target=S,h.relatedTarget=v,w=null,Fi(d)===c&&(_=new _(y,g+"enter",p,n,d),_.target=v,_.relatedTarget=S,w=_),S=w,m&&p)t:{for(_=HS,y=m,g=p,v=0,w=y;w;w=_(w))v++;w=0;for(var E=g;E;E=_(E))w++;for(;0<v-w;)y=_(y),v--;for(;0<w-v;)g=_(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate){_=y;break t}y=_(y),g=_(g)}_=null}else _=null;m!==null&&Rm(f,h,m,_,!1),p!==null&&S!==null&&Rm(f,S,p,_,!0)}}e:{if(h=c?rr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=Ih;else if(Gh(h))if(Uv)T=Zw;else{T=Qw;var x=Xw}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&ef(c.elementType)&&(T=Ih):T=Jw;if(T&&(T=T(e,c))){kv(f,T,n,d);break e}x&&x(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Yu(h,"number",h.value)}switch(x=c?rr(c):window,e){case"focusin":(Gh(x)||x.contentEditable==="true")&&(ts=x,Ku=c,hr=null);break;case"focusout":hr=Ku=ts=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Zh(f,n,d);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":Zh(f,n,d)}var O;if(sf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else es?Rv(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Nv&&n.locale!=="ko"&&(es||A!=="onCompositionStart"?A==="onCompositionEnd"&&es&&(O=Cv()):(Ma=d,nf="value"in Ma?Ma.value:Ma.textContent,es=!0)),x=Ro(c,A),0<x.length&&(A=new qh(A,e,null,n,d),f.push({event:A,listeners:x}),O?A.data=O:(O=Mv(n),O!==null&&(A.data=O)))),(O=Vw?Yw(e,n):Gw(e,n))&&(A=Ro(c,"onBeforeInput"),0<A.length&&(x=new qh("onBeforeInput","beforeinput",null,n,d),f.push({event:x,listeners:A}),x.data=O)),US(f,e,c,n,d)}Dp(f,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ro(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Nr(e,n),i!=null&&a.unshift(qr(e,i,s)),i=Nr(e,t),i!=null&&a.push(qr(e,i,s))),e.tag===3)return a;e=e.return}return[]}function HS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rm(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Nr(n,s),c!=null&&r.unshift(qr(n,c,o))):i||(c=Nr(n,s),c!=null&&r.push(qr(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var qS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(qS,`
`).replace($S,"")}function Np(e,t){return t=Mm(t),Mm(e)===t}function Be(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||bs(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&bs(e,""+a);break;case"className":Tl(e,"class",a);break;case"tabIndex":Tl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,n,a);break;case"style":Av(e,a,s);break;case"data":if(t!=="object"){Tl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ql(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Be(e,t,"name",i.name,i,null),Be(e,t,"formEncType",i.formEncType,i,null),Be(e,t,"formMethod",i.formMethod,i,null),Be(e,t,"formTarget",i.formTarget,i,null)):(Be(e,t,"encType",i.encType,i,null),Be(e,t,"method",i.method,i,null),Be(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ql(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=sa);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ql(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Xl(e,"popover",a);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Xl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gw.get(n)||n,Xl(e,n,a))}}function yd(e,t,n,a,i,s){switch(n){case"style":Av(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof a=="string"?bs(e,a):(typeof a=="number"||typeof a=="bigint")&&bs(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[tn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Xl(e,n,a)}}}function Lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:Be(e,t,s,r,n,null)}}i&&Be(e,t,"srcSet",n.srcSet,n,null),a&&Be(e,t,"src",n.src,n,null);return;case"input":xe("invalid",e);var l=s=r=i=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":i=d;break;case"type":r=d;break;case"checked":o=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(D(137,t));break;default:Be(e,t,a,d,n,null)}}Tv(e,s,l,o,c,r,i,!1);return;case"select":xe("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Be(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?cs(e,!!a,t,!1):n!=null&&cs(e,!!a,n,!0);return;case"textarea":xe("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(D(91));break;default:Be(e,t,r,l,n,null)}Ov(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Be(e,t,o,a,n,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<Hr.length;a++)xe(Hr[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:Be(e,t,c,a,n,null)}return;default:if(ef(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&yd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Be(e,t,l,a,n,null))}function VS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,c=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:a.hasOwnProperty(m)||Be(e,t,m,null,a,f)}}for(var h in a){var m=a[h];if(f=n[h],a.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(D(137,t));break;default:m!==f&&Be(e,t,h,m,a,f)}}Vu(e,r,l,o,c,d,s,i);return;case"select":m=r=l=h=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Be(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Be(e,t,i,s,a,o)}t=l,n=r,a=m,h!=null?cs(e,!!n,h,!1):!!a!=!!n&&(t!=null?cs(e,!!n,t,!0):cs(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Be(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(D(91));break;default:i!==s&&Be(e,t,r,i,a,s)}jv(e,h,m);return;case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&h!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Be(e,t,p,null,a,h)}for(o in a)if(h=a[o],m=n[o],a.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Be(e,t,o,h,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!a.hasOwnProperty(_)&&Be(e,t,_,null,a,h);for(c in a)if(h=a[c],m=n[c],a.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:Be(e,t,c,h,a,m)}return;default:if(ef(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!a.hasOwnProperty(S)&&yd(e,t,S,void 0,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||yd(e,t,d,h,a,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&Be(e,t,y,null,a,h);for(f in a)h=a[f],m=n[f],!a.hasOwnProperty(f)||h===m||h==null&&m==null||Be(e,t,f,h,a,m)}function km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&km(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>l)break;var d=o.transferSize,f=o.initiatorType;d&&km(f)&&(o=o.responseEnd,r+=d*(o<l?1:(l-c)/(o-c)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,bd=null;function Mo(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hu=null;function GS(){var e=window.event;return e&&e.type==="popstate"?e===hu?!1:(hu=e,!0):(hu=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(e){return zm.resolve(null).then(e).catch(XS)}:Mp;function XS(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function Lm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Os(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")xr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[Wr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&xr(e.ownerDocument.body);n=i}while(n);Os(t)}function Bm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function wd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wd(n),Wd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function QS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Wr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function JS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function kp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ed=null;function Hm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Up(e,t,n){switch(t=Mo(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function xr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wd(e)}var Cn=new Map,$m=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=Me.d;Me.d={f:PS,r:FS,D:WS,C:ex,L:tx,m:nx,X:ix,S:ax,M:sx};function PS(){var e=ga.f(),t=fc();return e||t}function FS(e){var t=Ms(e);t!==null&&t.tag===5&&t.type==="form"?Ay(t):ga.r(e)}var Ls=typeof document>"u"?null:document;function zp(e,t,n){var a=Ls;if(a&&typeof t=="string"&&t){var i=Tn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),$m.has(i)||($m.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Lt(t,"link",e),At(t),a.head.appendChild(t)))}}function WS(e){ga.D(e),zp("dns-prefetch",e,null)}function ex(e,t){ga.C(e,t),zp("preconnect",e,t)}function tx(e,t,n){ga.L(e,t,n);var a=Ls;if(a&&e&&t){var i='link[rel="preload"][as="'+Tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Tn(n.imageSizes)+'"]')):i+='[href="'+Tn(e)+'"]';var s=i;switch(t){case"style":s=js(e);break;case"script":s=Bs(e)}Cn.has(s)||(e=Ze({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Cn.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(sl(s))||t==="script"&&a.querySelector(rl(s))||(t=a.createElement("link"),Lt(t,"link",e),At(t),a.head.appendChild(t)))}}function nx(e,t){ga.m(e,t);var n=Ls;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Tn(a)+'"][href="'+Tn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Bs(e)}if(!Cn.has(s)&&(e=Ze({rel:"modulepreload",href:e},t),Cn.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rl(s)))return}a=n.createElement("link"),Lt(a,"link",e),At(a),n.head.appendChild(a)}}}function ax(e,t,n){ga.S(e,t,n);var a=Ls;if(a&&e){var i=os(a).hoistableStyles,s=js(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(sl(s)))l.loading=5;else{e=Ze({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cn.get(s))&&Hf(e,n);var o=r=a.createElement("link");At(o),Lt(o,"link",e),o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,io(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function ix(e,t){ga.X(e,t);var n=Ls;if(n&&e){var a=os(n).hoistableScripts,i=Bs(e),s=a.get(i);s||(s=n.querySelector(rl(i)),s||(e=Ze({src:e,async:!0},t),(t=Cn.get(i))&&qf(e,t),s=n.createElement("script"),At(s),Lt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function sx(e,t){ga.M(e,t);var n=Ls;if(n&&e){var a=os(n).hoistableScripts,i=Bs(e),s=a.get(i);s||(s=n.querySelector(rl(i)),s||(e=Ze({src:e,async:!0,type:"module"},t),(t=Cn.get(i))&&qf(e,t),s=n.createElement("script"),At(s),Lt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Vm(e,t,n,a){var i=(i=Ba.current)?ko(i):null;if(!i)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=js(n.href),n=os(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=js(n.href);var s=os(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(sl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Cn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cn.set(e,n),s||rx(i,e,n,r.state))),t&&a===null)throw Error(D(528,""));return r}if(t&&a!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bs(n),n=os(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function js(e){return'href="'+Tn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Lp(e){return Ze({},e,{"data-precedence":e.precedence,precedence:null})}function rx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Lt(t,"link",n),At(t),e.head.appendChild(t))}function Bs(e){return'[src="'+Tn(e)+'"]'}function rl(e){return"script[async]"+e}function Ym(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Tn(n.href)+'"]');if(a)return t.instance=a,At(a),a;var i=Ze({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),At(a),Lt(a,"style",i),io(a,n.precedence,e),t.instance=a;case"stylesheet":i=js(n.href);var s=e.querySelector(sl(i));if(s)return t.state.loading|=4,t.instance=s,At(s),s;a=Lp(n),(i=Cn.get(i))&&Hf(a,i),s=(e.ownerDocument||e).createElement("link"),At(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Lt(s,"link",a),t.state.loading|=4,io(s,n.precedence,e),t.instance=s;case"script":return s=Bs(n.src),(i=e.querySelector(rl(s)))?(t.instance=i,At(i),i):(a=n,(i=Cn.get(s))&&(a=Ze({},n),qf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),At(i),Lt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,io(a,n.precedence,e));return t.instance}function io(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function Gm(e,t,n){if(so===null){var a=new Map,i=so=new Map;i.set(n,a)}else i=so,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Wr]||s[kt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ox(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=js(a.href),s=t.querySelector(sl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,At(s);return}s=t.ownerDocument||t,a=Lp(a),(i=Cn.get(i))&&Hf(a,i),s=s.createElement("link"),At(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Lt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Uo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mu=0;function cx(e,t){return e.stylesheets&&e.count===0&&ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&mu===0&&(mu=62500*YS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>mu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zo=null;function ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zo=new Map,t.forEach(ux,e),zo=null,Uo.call(e))}function ux(e,t){if(!(t.state.loading&4)){var n=zo.get(e);if(n)var a=n.get(null);else{n=new Map,zo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Uo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $r={$$typeof:ia,Provider:null,Consumer:null,_currentValue:mi,_currentValue2:mi,_threadCount:0};function dx(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.hiddenUpdates=Lc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Hp(e,t,n,a,i,s,r,l,o,c,d,f){return e=new dx(e,t,n,r,o,c,d,f,l),t=1,s===!0&&(t|=24),s=ln(3,null,null,t),e.current=s,s.stateNode=e,t=ff(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},gf(s),e}function qp(e){return e?(e=is,e):is}function $p(e,t,n,a,i,s){i=qp(i),a.context===null?a.context=i:a.pendingContext=i,a=qa(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=$a(e,a,t),n!==null&&(en(n,e,t),gr(n,e,t))}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $f(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Vp(e){if(e.tag===13||e.tag===31){var t=Ai(e,67108864);t!==null&&en(t,e,67108864),$f(e,67108864)}}function Xm(e){if(e.tag===13||e.tag===31){var t=mn();t=Pd(t);var n=Ai(e,t);n!==null&&en(n,e,t),$f(e,t)}}var Lo=!0;function fx(e,t,n,a){var i=re.T;re.T=null;var s=Me.p;try{Me.p=2,Vf(e,t,n,a)}finally{Me.p=s,re.T=i}}function hx(e,t,n,a){var i=re.T;re.T=null;var s=Me.p;try{Me.p=8,Vf(e,t,n,a)}finally{Me.p=s,re.T=i}}function Vf(e,t,n,a){if(Lo){var i=Td(a);if(i===null)fu(e,t,a,Bo,n),Qm(e,a);else if(gx(i,e,t,n,a))a.stopPropagation();else if(Qm(e,a),t&4&&-1<mx.indexOf(e)){for(;i!==null;){var s=Ms(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=si(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-hn(r);l.entanglements[1]|=o,r&=~o}Xn(s),!(Re&6)&&(Oo=dn()+500,il(0))}}break;case 31:case 13:l=Ai(s,2),l!==null&&en(l,s,2),fc(),$f(s,2)}if(s=Td(a),s===null&&fu(e,t,a,Bo,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else fu(e,t,a,null,n)}}function Td(e){return e=tf(e),Yf(e)}var Bo=null;function Yf(e){if(Bo=null,e=Fi(e),e!==null){var t=Jr(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ov(t),e!==null)return e;e=null}else if(n===31){if(e=cv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bo=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W_()){case hv:return 2;case mv:return 8;case ho:case ew:return 32;case gv:return 268435456;default:return 32}default:return 32}}var jd=!1,Ga=null,Ia=null,Ka=null,Vr=new Map,Yr=new Map,Ca=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function tr(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ms(t),t!==null&&Vp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gx(e,t,n,a,i){switch(t){case"focusin":return Ga=tr(Ga,e,t,n,a,i),!0;case"dragenter":return Ia=tr(Ia,e,t,n,a,i),!0;case"mouseover":return Ka=tr(Ka,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Vr.set(s,tr(Vr.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Yr.set(s,tr(Yr.get(s)||null,e,t,n,a,i)),!0}return!1}function Gp(e){var t=Fi(e.target);if(t!==null){var n=Jr(t);if(n!==null){if(t=n.tag,t===13){if(t=ov(n),t!==null){e.blockedOn=t,Rh(e.priority,function(){Xm(n)});return}}else if(t===31){if(t=cv(n),t!==null){e.blockedOn=t,Rh(e.priority,function(){Xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Td(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Gu=a,n.target.dispatchEvent(a),Gu=null}else return t=Ms(n),t!==null&&Vp(t),e.blockedOn=n,!1;t.shift()}return!0}function Jm(e,t,n){lo(e)&&n.delete(t)}function vx(){jd=!1,Ga!==null&&lo(Ga)&&(Ga=null),Ia!==null&&lo(Ia)&&(Ia=null),Ka!==null&&lo(Ka)&&(Ka=null),Vr.forEach(Jm),Yr.forEach(Jm)}function Ml(e,t){e.blockedOn===t&&(e.blockedOn=null,jd||(jd=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,vx)))}var kl=null;function Zm(e){kl!==e&&(kl=e,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){kl===e&&(kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Yf(a||n)===null)continue;break}var s=Ms(n);s!==null&&(e.splice(t,3),t-=3,rd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Os(e){function t(o){return Ml(o,e)}Ga!==null&&Ml(Ga,e),Ia!==null&&Ml(Ia,e),Ka!==null&&Ml(Ka,e),Vr.forEach(t),Yr.forEach(t);for(var n=0;n<Ca.length;n++){var a=Ca[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ca.length&&(n=Ca[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&Ca.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[tn]||null;if(typeof s=="function")r||Zm(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[tn]||null)l=r.formAction;else if(Yf(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Zm(n)}}}function Ip(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Gf(e){this._internalRoot=e}gc.prototype.render=Gf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,a=mn();$p(n,a,e,t,null,null)};gc.prototype.unmount=Gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$p(e.current,2,null,e,null,null),fc(),t[Rs]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_v();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ca.length&&t!==0&&t<Ca[n].priority;n++);Ca.splice(n,0,e),n===0&&Gp(e)}};var Pm=rv.version;if(Pm!=="19.2.0")throw Error(D(527,Pm,"19.2.0"));Me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=K_(t),e=e!==null?uv(e):null,e=e===null?null:e.stateNode,e};var yx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Zr=Ul.inject(yx),fn=Ul}catch{}}Fo.createRoot=function(e,t){if(!lv(e))throw Error(D(299));var n=!1,a="",i=zy,s=Ly,r=By;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Hp(e,1,!1,null,null,n,a,null,i,s,r,Ip),e[Rs]=t.current,Bf(e),new Gf(t)};Fo.hydrateRoot=function(e,t,n){if(!lv(e))throw Error(D(299));var a=!1,i="",s=zy,r=Ly,l=By,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Hp(e,1,!0,t,n??null,a,i,o,s,r,l,Ip),t.context=qp(null),n=t.current,a=mn(),a=Pd(a),i=qa(a),i.callback=null,$a(n,i,a),n=a,t.current.lanes=n,Fr(t,n),Xn(t),e[Rs]=t.current,Bf(e),new gc(t)};Fo.version="19.2.0";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),Wg.exports=Fo;var px=Wg.exports,Od=function(e,t){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Od(e,t)};function Xp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Od(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ho=function(){return Ho=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ho.apply(this,arguments)};function Hs(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Qp(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Jp(e,t){return function(n,a){t(n,a,e)}}function Zp(e,t,n,a,i,s){function r(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?a.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),f,h=!1,m=n.length-1;m>=0;m--){var p={};for(var _ in a)p[_]=_==="access"?{}:a[_];for(var _ in a.access)p.access[_]=a.access[_];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(y||null))};var S=(0,n[m])(l==="accessor"?{get:d.get,set:d.set}:d[o],p);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=r(S.get))&&(d.get=f),(f=r(S.set))&&(d.set=f),(f=r(S.init))&&i.unshift(f)}else(f=r(S))&&(l==="field"?i.unshift(f):d[o]=f)}c&&Object.defineProperty(c,a.name,d),h=!0}function Pp(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function Fp(e){return typeof e=="symbol"?e:"".concat(e)}function Wp(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function e0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(d){try{c(a.next(d))}catch(f){r(f)}}function o(d){try{c(a.throw(d))}catch(f){r(f)}}function c(d){d.done?s(d.value):i(d.value).then(l,o)}c((a=a.apply(e,t||[])).next())})}function t0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(d){return o([c,d])}}function o(c){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(n=0)),n;)try{if(a=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var vc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function n0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&vc(t,e,n)}function qo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function a0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(If(arguments[t]));return e}function i0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function s0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function As(e){return this instanceof As?(this.v=e,this):new As(e)}function r0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(p){return Promise.resolve(p).then(m,f)}}function l(m,p){a[m]&&(i[m]=function(_){return new Promise(function(S,y){s.push([m,_,S,y])>1||o(m,_)})},p&&(i[m]=p(i[m])))}function o(m,p){try{c(a[m](p))}catch(_){h(s[0][3],_)}}function c(m){m.value instanceof As?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){o("next",m)}function f(m){o("throw",m)}function h(m,p){m(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}function l0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:As(e[i](r)),done:!1}:s?s(r):r}:s}}function o0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qo=="function"?qo(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},r)}}function c0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ad=function(e){return Ad=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Ad(e)};function u0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ad(e),a=0;a<n.length;a++)n[a]!=="default"&&vc(t,e,n[a]);return bx(t,e),t}function d0(e){return e&&e.__esModule?e:{default:e}}function f0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function h0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function m0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function g0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var _x=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function v0(e){function t(s){e.error=e.hasError?new _x(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function y0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const wx={__extends:Xp,__assign:Ho,__rest:Hs,__decorate:Qp,__param:Jp,__esDecorate:Zp,__runInitializers:Pp,__propKey:Fp,__setFunctionName:Wp,__metadata:e0,__awaiter:I,__generator:t0,__createBinding:vc,__exportStar:n0,__values:qo,__read:If,__spread:a0,__spreadArrays:i0,__spreadArray:s0,__await:As,__asyncGenerator:r0,__asyncDelegator:l0,__asyncValues:o0,__makeTemplateObject:c0,__importStar:u0,__importDefault:d0,__classPrivateFieldGet:f0,__classPrivateFieldSet:h0,__classPrivateFieldIn:m0,__addDisposableResource:g0,__disposeResources:v0,__rewriteRelativeImportExtension:y0},Sx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:g0,get __assign(){return Ho},__asyncDelegator:l0,__asyncGenerator:r0,__asyncValues:o0,__await:As,__awaiter:I,__classPrivateFieldGet:f0,__classPrivateFieldIn:m0,__classPrivateFieldSet:h0,__createBinding:vc,__decorate:Qp,__disposeResources:v0,__esDecorate:Zp,__exportStar:n0,__extends:Xp,__generator:t0,__importDefault:d0,__importStar:u0,__makeTemplateObject:c0,__metadata:e0,__param:Jp,__propKey:Fp,__read:If,__rest:Hs,__rewriteRelativeImportExtension:y0,__runInitializers:Pp,__setFunctionName:Wp,__spread:a0,__spreadArray:s0,__spreadArrays:i0,__values:qo,default:wx},Symbol.toStringTag,{value:"Module"})),xx="modulepreload",Ex=function(e){return"/todo-note/"+e},Fm={},qs=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=Ex(o),o in Fm)return;Fm[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xx,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Tx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ci);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Kf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Wm extends Kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eg extends Kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tg extends Kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dd||(Dd={}));class jx{constructor(t,{headers:n={},customFetch:a,region:i=Dd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Tx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let c={},{region:d}=a;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:o}).catch(y=>{throw y.name==="AbortError"?y:new Wm(y)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new eg(m);if(!m.ok)throw new tg(m);let _=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield m.json():_==="application/octet-stream"||_==="application/pdf"?S=yield m.blob():_==="text/event-stream"?S=m:_==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Wm(s)}:{data:null,error:s,response:s instanceof tg||s instanceof eg?s.context:void 0}}})}}var Yt={};const $s=Yg(Sx);var zl={},Ll={},Bl={},Hl={},ql={},Ox=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ds=Ox();const Ax=Ds.fetch,p0=Ds.fetch.bind(Ds),b0=Ds.Headers,Dx=Ds.Request,Cx=Ds.Response,Ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:b0,Request:Dx,Response:Cx,default:p0,fetch:Ax},Symbol.toStringTag,{value:"Module"})),Nx=Yg(Ci);var $l={},ng;function _0(){if(ng)return $l;ng=1,Object.defineProperty($l,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $l.default=e,$l}var ag;function w0(){if(ag)return ql;ag=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=$s,t=e.__importDefault(Nx),n=e.__importDefault(_0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,m;let p=null,_=null,S=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const T=await c.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?_=T:_=JSON.parse(T))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),E=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&E&&E.length>1&&(S=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,y=406,g="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const w=await c.text();try{p=JSON.parse(w),Array.isArray(p)&&c.status===404&&(_=[],p=null,y=200,g="OK")}catch{c.status===404&&w===""?(y=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,y=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:_,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return ql.default=a,ql}var ig;function S0(){if(ig)return Hl;ig=1,Object.defineProperty(Hl,"__esModule",{value:!0});const t=$s.__importDefault(w0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Hl.default=n,Hl}var sg;function Xf(){if(sg)return Bl;sg=1,Object.defineProperty(Bl,"__esModule",{value:!0});const t=$s.__importDefault(S0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${d}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Bl.default=a,Bl}var rg;function x0(){if(rg)return Ll;rg=1,Object.defineProperty(Ll,"__esModule",{value:!0});const t=$s.__importDefault(Xf());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Ll.default=n,Ll}var lg;function Rx(){if(lg)return zl;lg=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=$s,t=e.__importDefault(x0()),n=e.__importDefault(Xf());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||o?(f=l?"HEAD":"GET",Object.entries(r).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{h.searchParams.append(_,S)})):(f="POST",m=r);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new n.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return zl.default=a,zl}Object.defineProperty(Yt,"__esModule",{value:!0});var E0=Yt.PostgrestError=k0=Yt.PostgrestBuilder=R0=Yt.PostgrestTransformBuilder=C0=Yt.PostgrestFilterBuilder=A0=Yt.PostgrestQueryBuilder=j0=Yt.PostgrestClient=void 0;const Vs=$s,T0=Vs.__importDefault(Rx());var j0=Yt.PostgrestClient=T0.default;const O0=Vs.__importDefault(x0());var A0=Yt.PostgrestQueryBuilder=O0.default;const D0=Vs.__importDefault(Xf());var C0=Yt.PostgrestFilterBuilder=D0.default;const N0=Vs.__importDefault(S0());var R0=Yt.PostgrestTransformBuilder=N0.default;const M0=Vs.__importDefault(w0());var k0=Yt.PostgrestBuilder=M0.default;const U0=Vs.__importDefault(_0());E0=Yt.PostgrestError=U0.default;var z0=Yt.default={PostgrestClient:T0.default,PostgrestQueryBuilder:O0.default,PostgrestFilterBuilder:D0.default,PostgrestTransformBuilder:N0.default,PostgrestBuilder:M0.default,PostgrestError:U0.default};const Mx=S_({__proto__:null,get PostgrestBuilder(){return k0},get PostgrestClient(){return j0},get PostgrestError(){return E0},get PostgrestFilterBuilder(){return C0},get PostgrestQueryBuilder(){return A0},get PostgrestTransformBuilder(){return R0},default:z0},[Yt]),{PostgrestClient:kx,PostgrestQueryBuilder:SO,PostgrestFilterBuilder:xO,PostgrestTransformBuilder:EO,PostgrestBuilder:TO,PostgrestError:jO}=z0||Mx;class Ux{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zx="2.78.0",Lx=`realtime-js/${zx}`,Bx="1.0.0",Cd=1e4,Hx=1e3,qx=100;var Er;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Er||(Er={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ln||(Ln={}));var Nd;(function(e){e.websocket="websocket"})(Nd||(Nd={}));var ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ui||(ui={}));class $x{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const c=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class L0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const og=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=Vx(r,e,t,i),s),{}):{}},Vx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?B0(s,r):Rd(r)},B0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Kx(t,n)}switch(e){case Ye.bool:return Yx(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return Gx(t);case Ye.json:case Ye.jsonb:return Ix(t);case Ye.timestamp:return Xx(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Rd(t);default:return Rd(t)}},Rd=e=>e,Yx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ix=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>B0(t,l))}return e},Xx=e=>typeof e=="string"?e.replace(" ","T"):e,H0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gu{constructor(t,n,a={},i=Cd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cg||(cg={}));class Tr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Tr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Tr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(c,d)=>{r[c]||(o[c]=d)}),this.map(r,(c,d)=>{const f=s[c];if(f){const h=d.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),p=d.filter(S=>m.indexOf(S.presence_ref)<0),_=f.filter(S=>h.indexOf(S.presence_ref)<0);p.length>0&&(l[c]=p),_.length>0&&(o[c]=_)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}a(l,d,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const d=o.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ug;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ug||(ug={}));var jr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jr||(jr={}));var ta;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ta||(ta={}));class Qf{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new L0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Tr(this),this.broadcastEndpointURL=H0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,c=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[jr.PRESENCE]&&this.bindings[jr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ta.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ta.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(ta.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(p=_==null?void 0:_.length)!==null&&p!==void 0?p:0,y=[];for(let g=0;g<S;g++){const v=_[g],{filter:{event:w,schema:E,table:T,filter:x}}=v,O=m&&m[g];if(O&&O.event===w&&O.schema===E&&O.table===T&&O.filter===x)y.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ta.SUBSCRIBED);return}}).receive("error",m=>{this.state=pt.errored,t==null||t(ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===pt.joined&&t===jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new gu(this,Ln.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gu(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:d}=Ln;if(a&&[l,o,c,d].indexOf(r)>=0&&a!==this._joinRef())return;let h=this._onMessage(r,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,_,S;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((S=(_=m.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(m=>m.callback(h,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var p,_,S,y,g,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,E=(p=m.filter)===null||p===void 0?void 0:p.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:_,table:S,commit_timestamp:y,type:g,errors:v}=p;h=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(p))}m.callback(h,a)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&Qf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ln.close,{},t)}_onError(t){this._on(Ln.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=og(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=og(t.columns,t.old_record)),n}}const vu=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qx=[1e3,2e3,5e3,1e4],Jx=1e4,Zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Px{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cd,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vu,this.ref=0,this.reconnectTimer=null,this.logger=vu,this.conn=null,this.sendBuffer=[],this.serializer=new $x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Nd.websocket}`,this.httpEndpoint=H0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ux.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return ui.Connecting;case Er.open:return ui.Open;case Er.closing:return ui.Closing;default:return ui.Closed}}isConnected(){return this.connectionState()===ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new Qf(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Hx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ln.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Zx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Lx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new L0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,c,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Cd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Vl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:vu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:f=>Qx[f-1]||Jx,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fx extends Jf{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Md extends Jf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Zf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ci);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Wx=()=>I(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>Ci),void 0)).Response:Response}),kd=e=>{if(Array.isArray(e))return e.map(n=>kd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=kd(a)}),t},eE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tE=(e,t,n)=>I(void 0,void 0,void 0,function*(){const a=yield Wx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Fx(yu(i),s,r))}).catch(i=>{t(new Md(yu(i),i))}):t(new Md(yu(e),e))}),nE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(eE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ll(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,nE(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>tE(o,l,a))})})}function Gr(e,t,n,a){return I(this,void 0,void 0,function*(){return ll(e,"GET",t,n,a)})}function Un(e,t,n,a,i){return I(this,void 0,void 0,function*(){return ll(e,"POST",t,a,i,n)})}function Ud(e,t,n,a,i){return I(this,void 0,void 0,function*(){return ll(e,"PUT",t,a,i,n)})}function aE(e,t,n,a){return I(this,void 0,void 0,function*(){return ll(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Pf(e,t,n,a,i){return I(this,void 0,void 0,function*(){return ll(e,"DELETE",t,a,i,n)})}class iE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var q0;class sE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[q0]="BlobDownloadBuilder",this.promise=null}asStream(){return new iE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}q0=Symbol.toStringTag;const rE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lE{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Zf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return I(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},dg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?Ud:Un)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}upload(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return I(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:dg.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",c.cacheControl)):(o=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Ud(this.fetch,l.toString(),o,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return I(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Un(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new Jf("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}update(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}copy(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Un(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return I(this,void 0,void 0,function*(){try{const i=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>Gr(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new sE(o,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield Gr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}exists(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield aE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a)&&a instanceof Md){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${c}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(t,n,a){return I(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rE),n),{prefix:t||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listV2(t,n){return I(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Un(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const $0="2.78.0",V0={"X-Client-Info":`storage-js/${$0}`};class oE{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),n),this.fetch=Zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Gr(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(t){return I(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class cE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),n),this.fetch=Zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Gr(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}const Ff={"X-Client-Info":`storage-js/${$0}`,"Content-Type":"application/json"};class Y0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class pu extends Y0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uE extends Y0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var fg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fg||(fg={}));const Wf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ci);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},dE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fE=(e,t,n)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new pu(hg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new pu(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new pu(l,i,r))}}else t(new uE(hg(e),e))}),hE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(dE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function mE(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,hE(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>fE(o,l,a))})})}function cn(e,t,n,a,i){return I(this,void 0,void 0,function*(){return mE(e,"POST",t,a,i,n)})}class gE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}}class vE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class yE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ff),n),this.fetch=Wf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class pE extends yE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new bE(this.url,this.headers,t,this.fetch)}}class bE extends gE{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _E(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _E extends vE{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wE extends oE{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new lE(this.url,this.headers,t,this.fetch)}get vectors(){return new pE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cE(this.url+"/iceberg",this.headers,this.fetch)}}const SE="2.78.0";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const xE={"X-Client-Info":`supabase-js-${cr}/${SE}`},EE={headers:xE},TE={schema:"public"},jE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OE={},AE=e=>{let t;return e?t=e:typeof fetch>"u"?t=p0:t=fetch,(...n)=>t(...n)},DE=()=>typeof Headers>"u"?b0:Headers,CE=(e,t,n)=>{const a=AE(n),i=DE();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:c}))}};function NE(e){return e.endsWith("/")?e:e+"/"}function RE(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),r),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ME(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G0="2.78.0",Xi=30*1e3,zd=3,bu=zd*Xi,kE="http://localhost:9999",UE="supabase.auth.token",zE={"X-Client-Info":`gotrue-js/${G0}`},Ld="X-Supabase-Api-Version",I0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BE=10*60*1e3;class Ir extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HE extends Ir{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function qE(e){return P(e)&&e.name==="AuthApiError"}class di extends Ir{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wa extends Ir{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Mn extends Wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $E(e){return P(e)&&e.name==="AuthSessionMissingError"}class Bi extends Wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends Wa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends Wa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VE(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}class mg extends Wa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bd extends Wa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _u(e){return P(e)&&e.name==="AuthRetryableFetchError"}class gg extends Wa{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Hd extends Wa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=` 	
\r=`.split(""),YE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vg.length;t+=1)e[vg[t].charCodeAt(0)]=-2;for(let t=0;t<$o.length;t+=1)e[$o[t].charCodeAt(0)]=t;return e})();function yg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n($o[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n($o[a]),t.queuedBits-=6}}function K0(e,t,n){const a=YE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{KE(r,a,n)};for(let r=0;r<e.length;r+=1)K0(e.charCodeAt(r),i,s);return t.join("")}function GE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function IE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}GE(a,t)}}function KE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gs(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)K0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function XE(e){const t=[];return IE(e,n=>t.push(n)),new Uint8Array(t)}function hi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>yg(i,n,a)),yg(null,n,a),t.join("")}function QE(e){return Math.round(Date.now()/1e3)+e}function JE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},X0=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function ZE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const Q0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qs(async()=>{const{default:a}=await Promise.resolve().then(()=>Ci);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},PE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ai=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wa=async(e,t)=>{await e.removeItem(t)};class yc{constructor(){this.promise=new yc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yc.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Hd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!LE.test(t[a]))throw new Hd("JWT not in base64url format");return{header:JSON.parse(pg(t[0])),payload:JSON.parse(pg(t[1])),signature:gs(t[2]),raw:{header:t[0],payload:t[1]}}}async function FE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WE(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function eT(e){return("0"+e.toString(16)).substr(-2)}function tT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,eT).join("")}async function nT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function aT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(e,t,n=!1){const a=tT();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await Qi(e,`${t}-code-verifier`,i);const s=await aT(a);return[s,a===s?"plain":"s256"]}const iT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sT(e){const t=e.headers.get(Ld);if(!t||!t.match(iT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(e){if(!oT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Su(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cT(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function bg(e){return JSON.parse(JSON.stringify(e))}const oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uT=[502,503,504];async function _g(e){var t;if(!PE(e))throw new Bd(oi(e),0);if(uT.includes(e.status))throw new Bd(oi(e),e.status);let n;try{n=await e.json()}catch(s){throw new di(oi(s),s)}let a;const i=sT(e);if(i&&i.getTime()>=I0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gg(oi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new gg(oi(n),e.status,n.weak_password.reasons);throw new HE(oi(n),e.status||500,a)}const dT=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function se(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Ld]||(s[Ld]=I0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await fT(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function fT(e,t,n,a,i,s){const r=dT(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Bd(oi(o),0)}if(l.ok||await _g(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await _g(o)}}function kn(e){var t;let n=null;gT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=QE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function wg(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hT(e){return{data:e,error:null}}function mT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=Hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Sg(e){return e}function gT(e){return e.access_token&&e.refresh_token&&e.expires_in}const xu=["global","local","others"];class vT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Q0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=xu[0]){if(xu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xu.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(P(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Na})}catch(a){if(P(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Hs(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(P(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Na})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sg});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){qi(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Na})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qi(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Na})}catch(a){if(P(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){qi(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Na})}catch(a){if(P(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){qi(t.userId);try{const{data:n,error:a}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qi(t.userId),qi(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sg});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(P(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}}function xg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $i={debug:!!(globalThis&&X0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yT extends J0{}async function pT(e,t,n){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($i.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _T(e){return parseInt(e,16)}function wT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function ST(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Z0(e.address),p=d?`${d}://${a}`:a,_=e.statement?`${e.statement}
`:"",S=`${p} wants you to sign in with your Ethereum account:
${m}

${_}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),o&&(y+=`
Request ID: ${o}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}y+=g}return`${S}
${y}`}class ft extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Vo extends ft{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xT({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(P0(r)){if(s.rp.id!==r)return new ft({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ET({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(P0(a)){if(n.rpId!==a)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class TT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jT=new TT;function OT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=Hs(e,["challenge","user","excludeCredentials"]),s=gs(t).buffer,r=Object.assign(Object.assign({},n),{id:gs(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const c=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:gs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function AT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Hs(e,["challenge","allowCredentials"]),i=gs(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:gs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function DT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:hi(new Uint8Array(e.response.attestationObject)),clientDataJSON:hi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hi(new Uint8Array(i.authenticatorData)),clientDataJSON:hi(new Uint8Array(i.clientDataJSON)),signature:hi(new Uint8Array(i.signature)),userHandle:i.userHandle?hi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function P0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Eg(){var e,t;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function NT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",t)}:{data:null,error:new Vo("Empty credential response",t)}}catch(t){return{data:null,error:xT({error:t,options:e})}}}async function RT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vo("Browser returned unexpected credential type",t)}:{data:null,error:new Vo("Empty credential response",t)}}catch(t){return{data:null,error:ET({error:t,options:e})}}}const MT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kT={userVerification:"preferred",hints:["security-key"]};function Yo(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=Yo(l,r):a[s]=Yo(r)}else a[s]=r}return a}function UT(e,t){return Yo(MT,e,t||{})}function zT(e,t){return Yo(kT,e,t||{})}class LT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??jT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:c}=r.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(r.webauthn.type){case"create":{const c=UT(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await NT({publicKey:c,signal:o});return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=zT(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await RT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:c,signal:o}));return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(r){return P(r)?{data:null,error:r}:{data:null,error:new di("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Ir("rpId is required for WebAuthn authentication")};try{if(!Eg())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return P(r)?{data:null,error:r}:{data:null,error:new di("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Ir("rpId is required for WebAuthn registration")};try{if(!Eg())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(r){return P(r)?{data:null,error:r}:{data:null,error:new di("Unexpected error in register",r)}}}}bT();const BT={url:kE,storageKey:UE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tg(e,t,n){return await n()}const Vi={};class Kr{get jwks(){var t,n;return(n=(t=Vi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vi[this.storageKey]=Object.assign(Object.assign({},Vi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vi[this.storageKey]=Object.assign(Object.assign({},Vi[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kr.nextInstanceID,Kr.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},BT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Q0(i.fetch),this.lock=i.lock||Tg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pT:this.lock=Tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:X0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ZE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),$t()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VE(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return P(n)?{error:n}:{error:new di("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:kn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Hi(this.storage,this.storageKey)),s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:kn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kn})}else throw new Yl("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wg})}else throw new Yl("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Bi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,c,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:_,wallet:S,statement:y,options:g}=t;let v;if($t())if(typeof S=="object")v=S;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Z0(E[0]);let x=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!x){const A=await v.request({method:"eth_chainId"});x=_T(A)}const O={domain:w.host,address:T,statement:y,uri:w.href,version:"1",chainId:x,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ST(O),p=await v.request({method:"personal_sign",params:[wT(m),T]})}try{const{data:_,error:S}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:kn});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Bi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(P(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,a,i,s,r,l,o,c,d,f,h,m;let p,_;if("message"in t)p=t.message,_=t.signature;else{const{chain:S,wallet:y,statement:g,options:v}=t;let w;if($t())if(typeof y=="object")w=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))w=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const E=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const T=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let x;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")x=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)x=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)p=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),_=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const T=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=T}}try{const{data:S,error:y}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:hi(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:kn});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Bi}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(P(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ai(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:kn});if(await wa(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(P(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kn}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Bi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Hi(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Yl("You must provide either an email or phone number.")}catch(l){if(P(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:kn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await Hi(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:hT})}catch(s){if(P(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Mn;const{error:i}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Yl("You must provide either an email or phone number and a type")}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ai(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<bu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ai(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=Su()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=cT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Na}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Na})})}catch(n){if(P(n))return $E(n)&&(await this._removeSession(),await wa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Mn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Hi(this.storage,this.storageKey));const{data:c,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Na});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(P(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=wu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(P(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Mn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!$t())throw new Gl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!s||!l||!r||!c)throw new Gl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;o&&(h=parseInt(o));const m=h-d;m*1e3<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const y={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:r,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(a){if(P(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ai(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(qE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await wa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=JE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Hi(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(P(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,c,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return $t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(P(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:c,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Bi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await WE(async i=>(i>0&&await FE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&_u(s)&&Date.now()+r-a<Xi})}catch(a){if(this._debug(n,"error",a),P(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),$t()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ai(this.storage,this.storageKey);if(i&&this.userStorage){let r=await ai(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await Qi(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:Su()}else if(i&&!i.user&&!i.user){const r=await ai(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await wa(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,i)):i.user=Su()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bu;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${bu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),_u(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Mn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),P(s)){const r={data:null,error:s};return _u(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=bg(i);await Qi(this.storage,this.storageKey,s)}else{const i=bg(n);await Qi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await wa(this.storage,this.storageKey),await wa(this.storage,this.storageKey+"-code-verifier"),await wa(this.storage,this.storageKey+"-user"),this.userStorage&&await wa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/Xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xi}ms, refresh threshold is ${zd} ticks`),i<=zd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof J0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await Hi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?DT(t.webauthn.credential_response):CT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(P(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:AT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(P(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Mn}})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Mn};const r=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&$t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(P(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Mn};const r=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&$t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(P(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+BE>i)return a;const{data:s,error:r}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=wu(a);n!=null&&n.allowExpired||rT(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const d=lT(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,r,XE(`${l}.${o}`)))throw new Hd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(P(a))return{data:null,error:a};throw a}}}Kr.nextInstanceID=0;const HT=Kr;class qT extends HT{constructor(t){super(t)}}class $T{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=ME(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:TE,realtime:OE,auth:Object.assign(Object.assign({},jE),{storageKey:o}),global:EE},d=RE(a??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=d.auth)!==null&&r!==void 0?r:{},this.headers,d.global.fetch),this.fetch=CE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new wE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new jx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Px(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VT=(e,t,n)=>new $T(e,t,n);function YT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GT="https://vqpubtahhvtkftafdlrp.supabase.co",IT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",Ue=VT(GT,IT);function KT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const pc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ys(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function eh(e){return"nodeType"in e}function Kt(e){var t,n;return e?Ys(e)?e:eh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function th(e){const{Document:t}=Kt(e);return e instanceof t}function ol(e){return Ys(e)?!1:e instanceof Kt(e).HTMLElement}function F0(e){return e instanceof Kt(e).SVGElement}function Gs(e){return e?Ys(e)?e.document:eh(e)?th(e)?e:ol(e)||F0(e)?e.ownerDocument:document:document:document}const Bn=pc?b.useLayoutEffect:b.useEffect;function bc(e){const t=b.useRef(e);return Bn(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function XT(){const e=b.useRef(null),t=b.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=b.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Xr(e,t){t===void 0&&(t=[e]);const n=b.useRef(e);return Bn(()=>{n.current!==e&&(n.current=e)},t),n}function cl(e,t){const n=b.useRef();return b.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Go(e){const t=bc(e),n=b.useRef(null),a=b.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function Io(e){const t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}let Eu={};function ul(e,t){return b.useMemo(()=>{if(t)return t;const n=Eu[e]==null?0:Eu[e]+1;return Eu[e]=n,e+"-"+n},[e,t])}function W0(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,c]of l){const d=s[o];d!=null&&(s[o]=d+e*c)}return s},{...t})}}const vs=W0(1),Qr=W0(-1);function QT(e){return"clientX"in e&&"clientY"in e}function _c(e){if(!e)return!1;const{KeyboardEvent:t}=Kt(e.target);return t&&e instanceof t}function JT(e){if(!e)return!1;const{TouchEvent:t}=Kt(e.target);return t&&e instanceof t}function Ko(e){if(JT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QT(e)?{x:e.clientX,y:e.clientY}:null}const Ei=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ei.Translate.toString(e),Ei.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),jg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZT(e){return e.matches(jg)?e:e.querySelector(jg)}const PT={display:"none"};function FT(e){let{id:t,value:n}=e;return tt.createElement("div",{id:t,style:PT},n)}function WT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return tt.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function e1(){const[e,t]=b.useState("");return{announce:b.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const eb=b.createContext(null);function t1(e){const t=b.useContext(eb);b.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function n1(){const[e]=b.useState(()=>new Set),t=b.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[b.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const a1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},i1={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function s1(e){let{announcements:t=i1,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=a1}=e;const{announce:s,announcement:r}=e1(),l=ul("DndLiveRegion"),[o,c]=b.useState(!1);if(b.useEffect(()=>{c(!0)},[]),t1(b.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;s(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;s(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!o)return null;const d=tt.createElement(tt.Fragment,null,tt.createElement(FT,{id:a,value:i.draggable}),tt.createElement(WT,{id:l,announcement:r}));return n?fi.createPortal(d,n):d}var bt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(bt||(bt={}));function Xo(){}function Tu(e,t){return b.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function r1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Hn=Object.freeze({x:0,y:0});function tb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function l1(e,t){const n=Ko(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function nb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function o1(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Og(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function ab(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ag(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const c1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ag(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=tb(Ag(o),i);s.push({id:l,data:{droppableContainer:r,value:c}})}}return s.sort(nb)},u1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Og(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=Og(o),d=i.reduce((h,m,p)=>h+tb(c[p],m),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:f}})}}return s.sort(nb)};function d1(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,c=e.width*e.height,d=r*l,f=d/(o+c-d);return Number(f.toFixed(4))}return 0}const f1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=d1(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(o1)};function h1(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ib(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hn}function m1(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const g1=m1(1);function sb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function v1(e,t,n){const a=sb(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:c,right:o+d,bottom:c+f,left:o}}const y1={ignoreTransform:!1};function Is(e,t){t===void 0&&(t=y1);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=Kt(e).getComputedStyle(e);c&&(n=v1(n,c,d))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function Dg(e){return Is(e,{ignoreTransform:!0})}function p1(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function b1(e,t){return t===void 0&&(t=Kt(e).getComputedStyle(e)),t.position==="fixed"}function _1(e,t){t===void 0&&(t=Kt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function wc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(th(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ol(i)||F0(i)||n.includes(i))return n;const s=Kt(e).getComputedStyle(i);return i!==e&&_1(i,s)&&n.push(i),b1(i,s)?n:a(i.parentNode)}return e?a(e):n}function rb(e){const[t]=wc(e,1);return t??null}function ju(e){return!pc||!e?null:Ys(e)?e:eh(e)?th(e)||e===Gs(e).scrollingElement?window:ol(e)?e:null:null}function lb(e){return Ys(e)?e.scrollX:e.scrollLeft}function ob(e){return Ys(e)?e.scrollY:e.scrollTop}function qd(e){return{x:lb(e),y:ob(e)}}var Ot;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ot||(Ot={}));function cb(e){return!pc||!e?!1:e===document.scrollingElement}function ub(e){const t={x:0,y:0},n=cb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const w1={x:.2,y:.2};function S1(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=w1);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=ub(e),m={x:0,y:0},p={x:0,y:0},_={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+_.height?(m.y=Ot.Backward,p.y=a*Math.abs((t.top+_.height-s)/_.height)):!d&&o>=t.bottom-_.height&&(m.y=Ot.Forward,p.y=a*Math.abs((t.bottom-_.height-o)/_.height)),!h&&l>=t.right-_.width?(m.x=Ot.Forward,p.x=a*Math.abs((t.right-_.width-l)/_.width)):!f&&r<=t.left+_.width&&(m.x=Ot.Backward,p.x=a*Math.abs((t.left+_.width-r)/_.width)),{direction:m,speed:p}}function x1(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function db(e){return e.reduce((t,n)=>vs(t,qd(n)),Hn)}function E1(e){return e.reduce((t,n)=>t+lb(n),0)}function T1(e){return e.reduce((t,n)=>t+ob(n),0)}function fb(e,t){if(t===void 0&&(t=Is),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);rb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const j1=[["x",["left","right"],E1],["y",["top","bottom"],T1]];class nh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=wc(n),i=db(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of j1)for(const o of r)Object.defineProperty(this,o,{get:()=>{const c=l(a),d=i[s]-c;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Or{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function O1(e){const{EventTarget:t}=Kt(e);return e instanceof t?e:Gs(e)}function Ou(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var wn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wn||(wn={}));function Cg(e){e.preventDefault()}function A1(e){e.stopPropagation()}var Ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ae||(Ae={}));const hb={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter,Ae.Tab]},D1=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ae.Right:return{...n,x:n.x+25};case Ae.Left:return{...n,x:n.x-25};case Ae.Down:return{...n,y:n.y+25};case Ae.Up:return{...n,y:n.y-25}}};class ah{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Or(Gs(n)),this.windowListeners=new Or(Kt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wn.Resize,this.handleCancel),this.windowListeners.add(wn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&fb(a),n(Hn)}handleKeyDown(t){if(_c(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=hb,coordinateGetter:r=D1,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:c}=a.current,d=c?{x:c.left,y:c.top}:Hn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=r(t,{active:n,context:a.current,currentCoordinates:d});if(f){const h=Qr(f,d),m={x:0,y:0},{scrollableAncestors:p}=a.current;for(const _ of p){const S=t.code,{isTop:y,isRight:g,isLeft:v,isBottom:w,maxScroll:E,minScroll:T}=ub(_),x=x1(_),O={x:Math.min(S===Ae.Right?x.right-x.width/2:x.right,Math.max(S===Ae.Right?x.left:x.left+x.width/2,f.x)),y:Math.min(S===Ae.Down?x.bottom-x.height/2:x.bottom,Math.max(S===Ae.Down?x.top:x.top+x.height/2,f.y))},A=S===Ae.Right&&!g||S===Ae.Left&&!v,k=S===Ae.Down&&!w||S===Ae.Up&&!y;if(A&&O.x!==f.x){const J=_.scrollLeft+h.x,he=S===Ae.Right&&J<=E.x||S===Ae.Left&&J>=T.x;if(he&&!h.y){_.scrollTo({left:J,behavior:l});return}he?m.x=_.scrollLeft-J:m.x=S===Ae.Right?_.scrollLeft-E.x:_.scrollLeft-T.x,m.x&&_.scrollBy({left:-m.x,behavior:l});break}else if(k&&O.y!==f.y){const J=_.scrollTop+h.y,he=S===Ae.Down&&J<=E.y||S===Ae.Up&&J>=T.y;if(he&&!h.x){_.scrollTo({top:J,behavior:l});return}he?m.y=_.scrollTop-J:m.y=S===Ae.Down?_.scrollTop-E.y:_.scrollTop-T.y,m.y&&_.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,vs(Qr(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ah.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=hb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Ng(e){return!!(e&&"distance"in e)}function Rg(e){return!!(e&&"delay"in e)}class ih{constructor(t,n,a){var i;a===void 0&&(a=O1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=Gs(r),this.documentListeners=new Or(this.document),this.listeners=new Or(a),this.windowListeners=new Or(Kt(r)),this.initialCoordinates=(i=Ko(s))!=null?i:Hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(wn.Resize,this.handleCancel),this.windowListeners.add(wn.DragStart,Cg),this.windowListeners.add(wn.VisibilityChange,this.handleCancel),this.windowListeners.add(wn.ContextMenu,Cg),this.documentListeners.add(wn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ng(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wn.Click,A1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=Ko(t))!=null?n:Hn,c=Qr(i,o);if(!a&&l){if(Ng(l)){if(l.tolerance!=null&&Ou(c,l.tolerance))return this.handleCancel();if(Ou(c,l.distance))return this.handleStart()}if(Rg(l)&&Ou(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const C1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sh extends ih{constructor(t){const{event:n}=t,a=Gs(n.target);super(t,C1,a)}}sh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const N1={move:{name:"mousemove"},end:{name:"mouseup"}};var $d;(function(e){e[e.RightClick=2]="RightClick"})($d||($d={}));class R1 extends ih{constructor(t){super(t,N1,Gs(t.event.target))}}R1.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===$d.RightClick?!1:(a==null||a({event:n}),!0)}}];const Au={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mb extends ih{constructor(t){super(t,Au)}static setup(){return window.addEventListener(Au.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Au.move.name,t)};function t(){}}}mb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Ar;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ar||(Ar={}));var Qo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qo||(Qo={}));function M1(e){let{acceleration:t,activator:n=Ar.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=Qo.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=U1({delta:f,disabled:!s}),[p,_]=XT(),S=b.useRef({x:0,y:0}),y=b.useRef({x:0,y:0}),g=b.useMemo(()=>{switch(n){case Ar.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Ar.DraggableRect:return i}},[n,i,o]),v=b.useRef(null),w=b.useCallback(()=>{const T=v.current;if(!T)return;const x=S.current.x*y.current.x,O=S.current.y*y.current.y;T.scrollBy(x,O)},[]),E=b.useMemo(()=>l===Qo.TreeOrder?[...c].reverse():c,[l,c]);b.useEffect(()=>{if(!s||!c.length||!g){_();return}for(const T of E){if((a==null?void 0:a(T))===!1)continue;const x=c.indexOf(T),O=d[x];if(!O)continue;const{direction:A,speed:k}=S1(T,O,g,t,h);for(const J of["x","y"])m[J][A[J]]||(k[J]=0,A[J]=0);if(k.x>0||k.y>0){_(),v.current=T,p(w,r),S.current=k,y.current=A;return}}S.current={x:0,y:0},y.current={x:0,y:0},_()},[t,w,a,_,s,r,JSON.stringify(g),JSON.stringify(m),p,c,E,d,JSON.stringify(h)])}const k1={x:{[Ot.Backward]:!1,[Ot.Forward]:!1},y:{[Ot.Backward]:!1,[Ot.Forward]:!1}};function U1(e){let{delta:t,disabled:n}=e;const a=Io(t);return cl(i=>{if(n||!a||!i)return k1;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ot.Backward]:i.x[Ot.Backward]||s.x===-1,[Ot.Forward]:i.x[Ot.Forward]||s.x===1},y:{[Ot.Backward]:i.y[Ot.Backward]||s.y===-1,[Ot.Forward]:i.y[Ot.Forward]||s.y===1}}},[n,t,a])}function z1(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return cl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function L1(e,t){return b.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Cs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Cs||(Cs={}));var Vd;(function(e){e.Optimized="optimized"})(Vd||(Vd={}));const Mg=new Map;function B1(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=b.useState(null),{frequency:l,measure:o,strategy:c}=i,d=b.useRef(e),f=S(),h=Xr(f),m=b.useCallback(function(y){y===void 0&&(y=[]),!h.current&&r(g=>g===null?y:g.concat(y.filter(v=>!g.includes(v))))},[h]),p=b.useRef(null),_=cl(y=>{if(f&&!n)return Mg;if(!y||y===Mg||d.current!==e||s!=null){const g=new Map;for(let v of e){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){g.set(v.id,v.rect.current);continue}const w=v.node.current,E=w?new nh(o(w),w):null;v.rect.current=E,E&&g.set(v.id,E)}return g}return y},[e,s,n,f,o]);return b.useEffect(()=>{d.current=e},[e]),b.useEffect(()=>{f||m()},[n,f]),b.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),b.useEffect(()=>{f||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,f,m,...a]),{droppableRects:_,measureDroppableContainers:m,measuringScheduled:s!=null};function S(){switch(c){case Cs.Always:return!1;case Cs.BeforeDragging:return n;default:return!n}}}function rh(e,t){return cl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function H1(e,t){return rh(e,t)}function q1(e){let{callback:t,disabled:n}=e;const a=bc(t),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Sc(e){let{callback:t,disabled:n}=e;const a=bc(t),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function $1(e){return new nh(Is(e),e)}function kg(e,t,n){t===void 0&&(t=$1);const[a,i]=b.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=o??n)!=null?c:null}const d=t(e);return JSON.stringify(o)===JSON.stringify(d)?o:d})}const r=q1({callback(o){if(e)for(const c of o){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),l=Sc({callback:s});return Bn(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function V1(e){const t=rh(e);return ib(e,t)}const Ug=[];function Y1(e){const t=b.useRef(e),n=cl(a=>e?a&&a!==Ug&&e&&t.current&&e.parentNode===t.current.parentNode?a:wc(e):Ug,[e]);return b.useEffect(()=>{t.current=e},[e]),n}function G1(e){const[t,n]=b.useState(null),a=b.useRef(e),i=b.useCallback(s=>{const r=ju(s.target);r&&n(l=>l?(l.set(r,qd(r)),new Map(l)):null)},[]);return b.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const c=ju(o);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,qd(c)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const c=ju(o);c==null||c.removeEventListener("scroll",i)})}},[i,e]),b.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>vs(s,r),Hn):db(e):Hn,[e,t])}function zg(e,t){t===void 0&&(t=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},t),b.useEffect(()=>{const a=e!==Hn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Qr(e,n.current):Hn}function I1(e){b.useEffect(()=>{if(!pc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function K1(e,t){return b.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function gb(e){return b.useMemo(()=>e?p1(e):null,[e])}const Lg=[];function X1(e,t){t===void 0&&(t=Is);const[n]=e,a=gb(n?Kt(n):null),[i,s]=b.useState(Lg);function r(){s(()=>e.length?e.map(o=>cb(o)?a:new nh(t(o),o)):Lg)}const l=Sc({callback:r});return Bn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function vb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ol(t)?t:e}function Q1(e){let{measure:t}=e;const[n,a]=b.useState(null),i=b.useCallback(c=>{for(const{target:d}of c)if(ol(d)){a(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Sc({callback:i}),r=b.useCallback(c=>{const d=vb(c);s==null||s.disconnect(),d&&(s==null||s.observe(d)),a(d?t(d):null)},[t,s]),[l,o]=Go(r);return b.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const J1=[{sensor:sh,options:{}},{sensor:ah,options:{}}],Z1={current:{}},oo={draggable:{measure:Dg},droppable:{measure:Dg,strategy:Cs.WhileDragging,frequency:Vd.Optimized},dragOverlay:{measure:Is}};class Dr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const P1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:oo,measureDroppableContainers:Xo,windowRect:null,measuringScheduled:!1},yb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xo,draggableNodes:new Map,over:null,measureDroppableContainers:Xo},dl=b.createContext(yb),pb=b.createContext(P1);function F1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dr}}}function W1(e,t){switch(t.type){case bt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case bt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case bt.DragEnd:case bt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case bt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Dr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case bt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Dr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case bt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Dr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function ej(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=b.useContext(dl),s=Io(a),r=Io(n==null?void 0:n.id);return b.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!_c(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:c}=l;if(!o.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[o.current,c.current]){if(!d)continue;const f=ZT(d);if(f){f.focus();break}}})}},[a,t,i,r,s]),null}function bb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function tj(e){return b.useMemo(()=>({draggable:{...oo.draggable,...e==null?void 0:e.draggable},droppable:{...oo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...oo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function nj(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=b.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Bn(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=ib(d,a);if(r||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=rb(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,r,l,a,n])}const xc=b.createContext({...Hn,scaleX:1,scaleY:1});var Ea;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ea||(Ea={}));const aj=b.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:c,sensors:d=J1,collisionDetection:f=f1,measuring:h,modifiers:m,...p}=t;const _=b.useReducer(W1,void 0,F1),[S,y]=_,[g,v]=n1(),[w,E]=b.useState(Ea.Uninitialized),T=w===Ea.Initialized,{draggable:{active:x,nodes:O,translate:A},droppable:{containers:k}}=S,J=x!=null?O.get(x):null,he=b.useRef({initial:null,translated:null}),me=b.useMemo(()=>{var ct;return x!=null?{id:x,data:(ct=J==null?void 0:J.data)!=null?ct:Z1,rect:he}:null},[x,J]),$=b.useRef(null),[ge,N]=b.useState(null),[H,q]=b.useState(null),oe=Xr(p,Object.values(p)),V=ul("DndDescribedBy",r),Ie=b.useMemo(()=>k.getEnabled(),[k]),pe=tj(h),{droppableRects:qe,measureDroppableContainers:B,measuringScheduled:W}=B1(Ie,{dragging:T,dependencies:[A.x,A.y],config:pe.droppable}),ce=z1(O,x),ve=b.useMemo(()=>H?Ko(H):null,[H]),Ne=pa(),Te=H1(ce,pe.draggable.measure);nj({activeNode:x!=null?O.get(x):null,config:Ne.layoutShiftCompensation,initialRect:Te,measure:pe.draggable.measure});const G=kg(ce,pe.draggable.measure,Te),Le=kg(ce?ce.parentElement:null),Ke=b.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:qe,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),St=k.getNodeFor((n=Ke.current.over)==null?void 0:n.id),Ve=Q1({measure:pe.dragOverlay.measure}),xt=(a=Ve.nodeRef.current)!=null?a:ce,Et=T?(i=Ve.rect)!=null?i:G:null,K=!!(Ve.nodeRef.current&&Ve.rect),C=V1(K?null:G),M=gb(xt?Kt(xt):null),U=Y1(T?St??ce:null),ne=X1(U),Q=bb(m,{transform:{x:A.x-C.x,y:A.y-C.y,scaleX:1,scaleY:1},activatorEvent:H,active:me,activeNodeRect:G,containerNodeRect:Le,draggingNodeRect:Et,over:Ke.current.over,overlayNodeRect:Ve.rect,scrollableAncestors:U,scrollableAncestorRects:ne,windowRect:M}),be=ve?vs(ve,A):null,L=G1(U),ee=zg(L),ie=zg(L,[G]),Y=vs(Q,ee),te=Et?g1(Et,Q):null,X=me&&te?f({active:me,collisionRect:te,droppableRects:qe,droppableContainers:Ie,pointerCoordinates:be}):null,_e=ab(X,"id"),[ye,ot]=b.useState(null),Tt=K?Q:vs(Q,ie),Nn=h1(Tt,(s=ye==null?void 0:ye.rect)!=null?s:null,G),Xt=b.useRef(null),va=b.useCallback((ct,Ct)=>{let{sensor:Nt,options:yn}=Ct;if($.current==null)return;const it=O.get($.current);if(!it)return;const ut=ct.nativeEvent,Qt=new Nt({active:$.current,activeNode:it,event:ut,options:yn,context:Ke,onAbort(st){if(!O.get(st))return;const{onDragAbort:Rt}=oe.current,Bt={id:st};Rt==null||Rt(Bt),g({type:"onDragAbort",event:Bt})},onPending(st,Ht,Rt,Bt){if(!O.get(st))return;const{onDragPending:Qn}=oe.current,bn={id:st,constraint:Ht,initialCoordinates:Rt,offset:Bt};Qn==null||Qn(bn),g({type:"onDragPending",event:bn})},onStart(st){const Ht=$.current;if(Ht==null)return;const Rt=O.get(Ht);if(!Rt)return;const{onDragStart:Bt}=oe.current,pn={activatorEvent:ut,active:{id:Ht,data:Rt.data,rect:he}};fi.unstable_batchedUpdates(()=>{Bt==null||Bt(pn),E(Ea.Initializing),y({type:bt.DragStart,initialCoordinates:st,active:Ht}),g({type:"onDragStart",event:pn}),N(Xt.current),q(ut)})},onMove(st){y({type:bt.DragMove,coordinates:st})},onEnd:$n(bt.DragEnd),onCancel:$n(bt.DragCancel)});Xt.current=Qt;function $n(st){return async function(){const{active:Rt,collisions:Bt,over:pn,scrollAdjustedTranslate:Qn}=Ke.current;let bn=null;if(Rt&&Qn){const{cancelDrop:ei}=oe.current;bn={activatorEvent:ut,active:Rt,collisions:Bt,delta:Qn,over:pn},st===bt.DragEnd&&typeof ei=="function"&&await Promise.resolve(ei(bn))&&(st=bt.DragCancel)}$.current=null,fi.unstable_batchedUpdates(()=>{y({type:st}),E(Ea.Uninitialized),ot(null),N(null),q(null),Xt.current=null;const ei=st===bt.DragEnd?"onDragEnd":"onDragCancel";if(bn){const Qs=oe.current[ei];Qs==null||Qs(bn),g({type:ei,event:bn})}})}}},[O]),ya=b.useCallback((ct,Ct)=>(Nt,yn)=>{const it=Nt.nativeEvent,ut=O.get(yn);if($.current!==null||!ut||it.dndKit||it.defaultPrevented)return;const Qt={active:ut};ct(Nt,Ct.options,Qt)===!0&&(it.dndKit={capturedBy:Ct.sensor},$.current=yn,va(Nt,Ct))},[O,va]),Ni=L1(d,ya);I1(d),Bn(()=>{G&&w===Ea.Initializing&&E(Ea.Initialized)},[G,w]),b.useEffect(()=>{const{onDragMove:ct}=oe.current,{active:Ct,activatorEvent:Nt,collisions:yn,over:it}=Ke.current;if(!Ct||!Nt)return;const ut={active:Ct,activatorEvent:Nt,collisions:yn,delta:{x:Y.x,y:Y.y},over:it};fi.unstable_batchedUpdates(()=>{ct==null||ct(ut),g({type:"onDragMove",event:ut})})},[Y.x,Y.y]),b.useEffect(()=>{const{active:ct,activatorEvent:Ct,collisions:Nt,droppableContainers:yn,scrollAdjustedTranslate:it}=Ke.current;if(!ct||$.current==null||!Ct||!it)return;const{onDragOver:ut}=oe.current,Qt=yn.get(_e),$n=Qt&&Qt.rect.current?{id:Qt.id,rect:Qt.rect.current,data:Qt.data,disabled:Qt.disabled}:null,st={active:ct,activatorEvent:Ct,collisions:Nt,delta:{x:it.x,y:it.y},over:$n};fi.unstable_batchedUpdates(()=>{ot($n),ut==null||ut(st),g({type:"onDragOver",event:st})})},[_e]),Bn(()=>{Ke.current={activatorEvent:H,active:me,activeNode:ce,collisionRect:te,collisions:X,droppableRects:qe,draggableNodes:O,draggingNode:xt,draggingNodeRect:Et,droppableContainers:k,over:ye,scrollableAncestors:U,scrollAdjustedTranslate:Y},he.current={initial:Et,translated:te}},[me,ce,X,te,O,xt,Et,qe,k,ye,U,Y]),M1({...Ne,delta:A,draggingRect:te,pointerCoordinates:be,scrollableAncestors:U,scrollableAncestorRects:ne});const Ks=b.useMemo(()=>({active:me,activeNode:ce,activeNodeRect:G,activatorEvent:H,collisions:X,containerNodeRect:Le,dragOverlay:Ve,draggableNodes:O,droppableContainers:k,droppableRects:qe,over:ye,measureDroppableContainers:B,scrollableAncestors:U,scrollableAncestorRects:ne,measuringConfiguration:pe,measuringScheduled:W,windowRect:M}),[me,ce,G,H,X,Le,Ve,O,k,qe,ye,B,U,ne,pe,W,M]),Xs=b.useMemo(()=>({activatorEvent:H,activators:Ni,active:me,activeNodeRect:G,ariaDescribedById:{draggable:V},dispatch:y,draggableNodes:O,over:ye,measureDroppableContainers:B}),[H,Ni,me,G,y,V,O,ye,B]);return tt.createElement(eb.Provider,{value:v},tt.createElement(dl.Provider,{value:Xs},tt.createElement(pb.Provider,{value:Ks},tt.createElement(xc.Provider,{value:Nn},c)),tt.createElement(ej,{disabled:(l==null?void 0:l.restoreFocus)===!1})),tt.createElement(s1,{...l,hiddenTextDescribedById:V}));function pa(){const ct=(ge==null?void 0:ge.autoScrollEnabled)===!1,Ct=typeof o=="object"?o.enabled===!1:o===!1,Nt=T&&!ct&&!Ct;return typeof o=="object"?{...o,enabled:Nt}:{enabled:Nt}}}),ij=b.createContext(null),Bg="button",sj="Draggable";function rj(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=ul(sj),{activators:r,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=b.useContext(dl),{role:m=Bg,roleDescription:p="draggable",tabIndex:_=0}=i??{},S=(o==null?void 0:o.id)===t,y=b.useContext(S?xc:ij),[g,v]=Go(),[w,E]=Go(),T=K1(r,t),x=Xr(n);Bn(()=>(f.set(t,{id:t,key:s,node:g,activatorNode:w,data:x}),()=>{const A=f.get(t);A&&A.key===s&&f.delete(t)}),[f,t]);const O=b.useMemo(()=>({role:m,tabIndex:_,"aria-disabled":a,"aria-pressed":S&&m===Bg?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[a,m,_,S,p,d.draggable]);return{active:o,activatorEvent:l,activeNodeRect:c,attributes:O,isDragging:S,listeners:a?void 0:T,node:g,over:h,setNodeRef:v,setActivatorNodeRef:E,transform:y}}function _b(){return b.useContext(pb)}const lj="Droppable",oj={timeout:25};function cj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=ul(lj),{active:r,dispatch:l,over:o,measureDroppableContainers:c}=b.useContext(dl),d=b.useRef({disabled:n}),f=b.useRef(!1),h=b.useRef(null),m=b.useRef(null),{disabled:p,updateMeasurementsFor:_,timeout:S}={...oj,...i},y=Xr(_??a),g=b.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),m.current=null},S)},[S]),v=Sc({callback:g,disabled:p||!r}),w=b.useCallback((O,A)=>{v&&(A&&(v.unobserve(A),f.current=!1),O&&v.observe(O))},[v]),[E,T]=Go(w),x=Xr(t);return b.useEffect(()=>{!v||!E.current||(v.disconnect(),f.current=!1,v.observe(E.current))},[E,v]),b.useEffect(()=>(l({type:bt.RegisterDroppable,element:{id:a,key:s,disabled:n,node:E,rect:h,data:x}}),()=>l({type:bt.UnregisterDroppable,key:s,id:a})),[a]),b.useEffect(()=>{n!==d.current.disabled&&(l({type:bt.SetDroppableDisabled,id:a,key:s,disabled:n}),d.current.disabled=n)},[a,s,n,l]),{active:r,rect:h,isOver:(o==null?void 0:o.id)===a,node:E,over:o,setNodeRef:T}}function uj(e){let{animation:t,children:n}=e;const[a,i]=b.useState(null),[s,r]=b.useState(null),l=Io(n);return!n&&!a&&l&&i(l),Bn(()=>{if(!s)return;const o=a==null?void 0:a.key,c=a==null?void 0:a.props.id;if(o==null||c==null){i(null);return}Promise.resolve(t(c,s)).then(()=>{i(null)})},[t,a,s]),tt.createElement(tt.Fragment,null,n,a?b.cloneElement(a,{ref:r}):null)}const dj={x:0,y:0,scaleX:1,scaleY:1};function fj(e){let{children:t}=e;return tt.createElement(dl.Provider,{value:yb},tt.createElement(xc.Provider,{value:dj},t))}const hj={position:"fixed",touchAction:"none"},mj=e=>_c(e)?"transform 250ms ease":void 0,gj=b.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:c,transition:d=mj}=e;if(!l)return null;const f=i?c:{...c,scaleX:1,scaleY:1},h={...hj,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ei.Transform.toString(f),transformOrigin:i&&a?l1(a,l):void 0,transition:typeof d=="function"?d(a):d,...o};return tt.createElement(n,{className:r,style:h,ref:t},s)}),vj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,c]of Object.entries(i))n.node.style.setProperty(o,c);r!=null&&r.active&&n.node.classList.remove(r.active)}},yj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ei.Transform.toString(t)},{transform:Ei.Transform.toString(n)}]},pj={duration:250,easing:"ease",keyframes:yj,sideEffects:vj({styles:{active:{opacity:"0"}}})};function bj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return bc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const c=vb(r);if(!c)return;const{transform:d}=Kt(r).getComputedStyle(r),f=sb(d);if(!f)return;const h=typeof t=="function"?t:_j(t);return fb(o,i.draggable.measure),h({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(c)},droppableContainers:a,measuringConfiguration:i,transform:f})})}function _j(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...pj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...c}=s;if(!t)return;const d={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},f={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},h={x:o.x-d.x,y:o.y-d.y,...f},m=i({...c,active:r,dragOverlay:l,transform:{initial:o,final:h}}),[p]=m,_=m[m.length-1];if(JSON.stringify(p)===JSON.stringify(_))return;const S=a==null?void 0:a({active:r,dragOverlay:l,...c}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{S==null||S(),g()}})}}let Hg=0;function wj(e){return b.useMemo(()=>{if(e!=null)return Hg++,Hg},[e])}const Sj=tt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:c=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:_,dragOverlay:S,over:y,measuringConfiguration:g,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:E}=_b(),T=b.useContext(xc),x=wj(f==null?void 0:f.id),O=bb(r,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:S.rect,over:y,overlayNodeRect:S.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:T,windowRect:E}),A=rh(h),k=bj({config:a,draggableNodes:p,droppableContainers:_,measuringConfiguration:g}),J=A?S.setRef:void 0;return tt.createElement(fj,null,tt.createElement(uj,{animation:k},f&&x?tt.createElement(gj,{key:x,id:f.id,ref:J,as:l,activatorEvent:d,adjustScale:t,className:o,transition:s,rect:A,style:{zIndex:c,...i},transform:O},n):null))});function La(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function xj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function Il(e){return e!==null&&e>=0}function Ej(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const wb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=La(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},Kl={scaleX:1,scaleY:1},nr=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const c=s[r];return c?{x:0,y:n<r?c.top+c.height-(l.top+l.height):c.top-l.top,...Kl}:null}const o=jj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...Kl}:i<n&&i>=r?{x:0,y:l.height+o,...Kl}:{x:0,y:0,...Kl}};function jj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Sb="Sortable",xb=tt.createContext({activeIndex:-1,containerId:Sb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:wb,disabled:{draggable:!1,droppable:!1}});function ar(e){let{children:t,id:n,items:a,strategy:i=wb,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:d}=_b(),f=ul(Sb,n),h=l.rect!==null,m=b.useMemo(()=>a.map(T=>typeof T=="object"&&"id"in T?T.id:T),[a]),p=r!=null,_=r?m.indexOf(r.id):-1,S=c?m.indexOf(c.id):-1,y=b.useRef(m),g=!Ej(m,y.current),v=S!==-1&&_===-1||g,w=Tj(s);Bn(()=>{g&&p&&d(m)},[g,m,p,d]),b.useEffect(()=>{y.current=m},[m]);const E=b.useMemo(()=>({activeIndex:_,containerId:f,disabled:w,disableTransforms:v,items:m,overIndex:S,useDragOverlay:h,sortedRects:xj(m,o),strategy:i}),[_,f,w.draggable,w.droppable,v,m,S,o,h,i]);return tt.createElement(xb.Provider,{value:E},t)}const Oj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return La(n,a,i).indexOf(t)},Aj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:c}=e;return!c||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},Dj={duration:200,easing:"ease"},Eb="transform",Cj=Ei.Transition.toString({property:Eb,duration:0,easing:"linear"}),Nj={roleDescription:"sortable"};function Rj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=b.useState(null),l=b.useRef(n);return Bn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const c=Is(a.current,{ignoreTransform:!0}),d={x:o.left-c.left,y:o.top-c.top,scaleX:o.width/c.width,scaleY:o.height/c.height};(d.x||d.y)&&r(d)}}n!==l.current&&(l.current=n)},[t,n,a,i]),b.useEffect(()=>{s&&r(null)},[s]),s}function Mj(e){let{animateLayoutChanges:t=Aj,attributes:n,disabled:a,data:i,getNewIndex:s=Oj,id:r,strategy:l,resizeObserverConfig:o,transition:c=Dj}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:p,sortedRects:_,overIndex:S,useDragOverlay:y,strategy:g}=b.useContext(xb),v=kj(a,m),w=d.indexOf(r),E=b.useMemo(()=>({sortable:{containerId:f,index:w,items:d},...i}),[f,i,w,d]),T=b.useMemo(()=>d.slice(d.indexOf(r)),[d,r]),{rect:x,node:O,isOver:A,setNodeRef:k}=cj({id:r,data:E,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...o}}),{active:J,activatorEvent:he,activeNodeRect:me,attributes:$,setNodeRef:ge,listeners:N,isDragging:H,over:q,setActivatorNodeRef:oe,transform:V}=rj({id:r,data:E,attributes:{...Nj,...n},disabled:v.draggable}),Ie=KT(k,ge),pe=!!J,qe=pe&&!p&&Il(h)&&Il(S),B=!y&&H,W=B&&qe?V:null,ve=qe?W??(l??g)({rects:_,activeNodeRect:me,activeIndex:h,overIndex:S,index:w}):null,Ne=Il(h)&&Il(S)?s({id:r,items:d,activeIndex:h,overIndex:S}):w,Te=J==null?void 0:J.id,G=b.useRef({activeId:Te,items:d,newIndex:Ne,containerId:f}),Le=d!==G.current.items,Ke=t({active:J,containerId:f,isDragging:H,isSorting:pe,id:r,index:w,items:d,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:c,wasDragging:G.current.activeId!=null}),St=Rj({disabled:!Ke,index:w,node:O,rect:x});return b.useEffect(()=>{pe&&G.current.newIndex!==Ne&&(G.current.newIndex=Ne),f!==G.current.containerId&&(G.current.containerId=f),d!==G.current.items&&(G.current.items=d)},[pe,Ne,f,d]),b.useEffect(()=>{if(Te===G.current.activeId)return;if(Te!=null&&G.current.activeId==null){G.current.activeId=Te;return}const xt=setTimeout(()=>{G.current.activeId=Te},50);return()=>clearTimeout(xt)},[Te]),{active:J,activeIndex:h,attributes:$,data:E,rect:x,index:w,newIndex:Ne,items:d,isOver:A,isSorting:pe,isDragging:H,listeners:N,node:O,overIndex:S,over:q,setNodeRef:Ie,setActivatorNodeRef:oe,setDroppableNodeRef:k,setDraggableNodeRef:ge,transform:St??ve,transition:Ve()};function Ve(){if(St||Le&&G.current.newIndex===w)return Cj;if(!(B&&!_c(he)||!c)&&(pe||Ke))return Ei.Transition.toString({...c,property:Eb})}}function kj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Jo(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Uj=[Ae.Down,Ae.Right,Ae.Up,Ae.Left],zj=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(Uj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case Ae.Down:a.top<h.top&&o.push(f);break;case Ae.Up:a.top>h.top&&o.push(f);break;case Ae.Left:a.left>h.left&&o.push(f);break;case Ae.Right:a.left<h.left&&o.push(f);break}});const c=u1({collisionRect:a,droppableRects:i,droppableContainers:o});let d=ab(c,"id");if(d===(r==null?void 0:r.id)&&c.length>1&&(d=c[1].id),d!=null){const f=s.get(n.id),h=s.get(d),m=h?i.get(h.id):null,p=h==null?void 0:h.node.current;if(p&&m&&f&&h){const S=wc(p).some((T,x)=>l[x]!==T),y=Tb(f,h),g=Lj(f,h),v=S||!y?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return v.x&&v.y?w:Qr(w,v)}}}};function Tb(e,t){return!Jo(e)||!Jo(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Lj(e,t){return!Jo(e)||!Jo(t)||!Tb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const je=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},ci=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},Yi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},Bj=e=>{const t=new Date;return je(e)===je(t)},Hj=()=>{const[e,t]=b.useState(null),[n,a]=b.useState(!0);return b.useEffect(()=>{Ue.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=Ue.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await Ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await Ue.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function qj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenRoutine:s,onOpenGanttChart:r,onOpenEncouragementModal:l,onOpenAddSection:o,onOpenHiddenSections:c,onLogout:d}){var f,h;return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),u.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsx("h2",{children:""}),u.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&u.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((f=n.user.user_metadata)==null?void 0:f.avatar_url)&&u.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((h=n.user.user_metadata)==null?void 0:h.full_name)||n.user.email}),u.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),u.jsxs("div",{className:"sidebar-content",children:[u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const m=a==="vertical"?"horizontal":"vertical";i(m),localStorage.setItem("viewMode",m),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),u.jsx("span",{children:a==="vertical"?" ":" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{c(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&d()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:""})]})]})]})]})}function $j({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return u.jsxs("div",{className:"date-nav-section",children:[u.jsxs("div",{className:"date-display-wrapper",children:[u.jsx("span",{className:"date-display",children:ci(e)}),u.jsx("input",{type:"date",value:je(e),onChange:t,className:"date-picker-input"})]}),u.jsx("button",{onClick:n,className:"date-nav-button",children:""}),u.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Vj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:c,onQuickAdd:d,onOpenMemo:f}){const[h,m]=b.useState(""),[p,_]=b.useState(!1),S=async y=>{if(y.key==="Enter"&&!y.shiftKey&&h.trim()){y.preventDefault(),_(!0);try{await d(h.trim()),m("")}catch(g){console.error("Quick add error:",g)}finally{_(!1)}}};return u.jsx("div",{className:"header-fixed",children:u.jsxs("div",{className:"settings-bar",children:[u.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),u.jsx($j,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),u.jsx("div",{className:"encouragement-section",children:Bj(n)?u.jsx("div",{className:"encouragement-message",onClick:c,title:"    !",children:l?u.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):u.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),u.jsx("div",{className:"quick-input-wrapper",children:u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),onKeyDown:S,placeholder:" Quick   (Enter )",className:"quick-input",disabled:p})}),u.jsx("button",{className:"header-memo-button",onClick:f,title:" ",children:"  "})]})})}function Yj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n,visibleSectionCount:a=3}){return e!=="horizontal"?null:u.jsx("div",{className:"section-pagination-dots",onTouchStart:i=>{const s=i.touches[0];i.currentTarget.dataset.touchStartX=s.clientX,i.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:i=>{i.currentTarget.dataset.touchMoved="true"},onTouchEnd:i=>{const s=parseFloat(i.currentTarget.dataset.touchStartX||"0"),r=parseInt(i.currentTarget.dataset.touchStartTime||"0"),l=i.currentTarget.dataset.touchMoved==="true",o=i.changedTouches[0].clientX,c=Date.now()-r;if(delete i.currentTarget.dataset.touchStartX,delete i.currentTarget.dataset.touchStartTime,delete i.currentTarget.dataset.touchMoved,l&&c<500){const d=s-o,f=n.current;if(!f)return;const h=f.querySelectorAll(".section-block");Math.abs(d)>50&&(d>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):d<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:Array.from({length:a},(i,s)=>u.jsx("button",{className:`pagination-dot ${t===s?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll(".section-block");l[s]&&l[s].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},s))})}function Gj({title:e,editable:t=!1,onTitleChange:n,showHideButton:a=!1,onHide:i,showDeleteButton:s=!1,onDelete:r,customActions:l,settingsMenuItems:o=[]}){var g,v;const[c,d]=b.useState(!1),[f,h]=b.useState(e),[m,p]=b.useState(!1),_=b.useRef(null),S=()=>{f.trim()&&f!==e&&(n==null||n(f.trim())),d(!1)},y=()=>{h(e),d(!1)};return b.useEffect(()=>{const w=E=>{if(m&&_.current&&!_.current.contains(E.target)){const T=document.querySelector(".section-settings-dropdown");T&&!T.contains(E.target)&&p(!1)}};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[m]),u.jsxs("div",{className:"section-header",children:[u.jsx("div",{className:"section-title-container",children:c?u.jsx("div",{className:"section-title-edit-wrapper",children:u.jsx("input",{type:"text",value:f,onChange:w=>h(w.target.value),onBlur:S,onKeyDown:w=>{w.key==="Enter"?S():w.key==="Escape"&&y()},className:"section-title-input",autoFocus:!0})}):u.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&d(!0),children:e})}),u.jsxs("div",{className:"section-actions",children:[l,o.length>0&&u.jsxs("div",{style:{position:"relative"},children:[u.jsx("button",{ref:_,className:"section-action-button settings-button",onClick:()=>p(!m),title:"",children:""}),m&&sv.createPortal(u.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((g=_.current)==null?void 0:g.getBoundingClientRect().bottom)+5}px`,left:`${(v=_.current)==null?void 0:v.getBoundingClientRect().left}px`},children:o.map((w,E)=>u.jsxs("button",{className:"settings-menu-item",onClick:()=>{w.onClick(),p(!1)},children:[u.jsx("span",{children:w.icon}),u.jsx("span",{children:w.label})]},E))}),document.body)]})]})]})}function Du({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l,editable:o=!1,onTitleChange:c,settingsMenuItems:d=[],headerActions:f}){return u.jsxs("div",{className:t,children:[u.jsx(Gj,{title:e,editable:o,onTitleChange:c,settingsMenuItems:d,customActions:f}),u.jsxs("div",{className:"section-input",children:[u.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),onKeyDown:h=>{h.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),u.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}function Ij({todoId:e,isFirst:t,isLast:n,onMoveUp:a,onMoveDown:i,onMoveToTop:s,onMoveToBottom:r,onDelete:l,onClose:o}){const c=d=>{d(),o()};return u.jsxs("div",{className:"move-menu",children:[!t&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"move-menu-item",onClick:d=>{d.stopPropagation(),c(()=>s&&s(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""}),"  "]}),u.jsxs("button",{className:"move-menu-item",onClick:d=>{d.stopPropagation(),c(()=>a&&a(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]})]}),!n&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"move-menu-item",onClick:d=>{d.stopPropagation(),c(()=>i&&i(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]}),u.jsxs("button",{className:"move-menu-item",onClick:d=>{d.stopPropagation(),c(()=>r&&r(e))},children:[u.jsx("span",{className:"move-menu-icon",children:""}),"  "]})]}),u.jsxs("button",{className:"move-menu-item delete",onClick:d=>{d.stopPropagation(),window.confirm("  ?")&&l(e),o()},children:[u.jsx("span",{className:"move-menu-icon",children:""})," "]})]})}const Ec=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Cu={THIS_ONLY:"this-only",FROM_NOW:"from-now",ALL:"all"},Kj="09",Xj="00";function lh({value:e,onChange:t}){const n=b.useRef(null),a=b.useRef(null),i=b.useRef(e),s=b.useRef(!1),[r,l]=b.useState(()=>e&&e.includes(":")?e.split(":")[0]:Kj),[o,c]=b.useState(()=>e&&e.includes(":")?e.split(":")[1]:Xj);b.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,v]=e.split(":");i.current=e,l(g),c(v)}},[e]),b.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const d=(g,v,w)=>{if(!g.current)return;const E=g.current.scrollTop,x=Math.round(E/40),O=String(x).padStart(2,"0");v(O)},f=(g,v)=>{if(!g.current)return;const w=40,E=parseInt(v,10);g.current.scrollTop=E*w};b.useEffect(()=>{f(n,r)},[]),b.useEffect(()=>{f(a,o)},[]);const h=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),m=Array.from({length:60},(g,v)=>String(v).padStart(2,"0")),p=()=>{const g=(parseInt(r,10)+1)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},_=()=>{const g=(parseInt(r,10)-1+24)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},S=()=>{const g=(parseInt(o,10)+1)%60,v=String(g).padStart(2,"0");c(v),f(a,v)},y=()=>{const g=(parseInt(o,10)-1+60)%60,v=String(g).padStart(2,"0");c(v),f(a,v)};return u.jsxs("div",{className:"apple-time-picker",children:[u.jsxs("div",{className:"picker-arrows-top",children:[u.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:S,children:""})]}),u.jsxs("div",{className:"picker-container",children:[u.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[u.jsx("div",{className:"picker-spacer"}),h.map(g=>u.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),f(n,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]}),u.jsx("div",{className:"picker-separator",children:":"}),u.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,c),children:[u.jsx("div",{className:"picker-spacer"}),m.map(g=>u.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{c(g),f(a,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]})]}),u.jsxs("div",{className:"picker-arrows-bottom",children:[u.jsx("button",{className:"picker-arrow-button",onClick:_,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:y,children:""})]}),u.jsx("div",{className:"picker-selection-indicator"})]})}function Zo({selectedDays:e=[],onToggle:t,disabled:n=!1,variant:a="default"}){const i=(l,o)=>{l.stopPropagation(),t(o)},s=a==="inline"?"day-selector-inline":"day-selector",r=a==="inline"?"day-button-inline":"day-button";return u.jsx("div",{className:s,children:Ec.map(l=>u.jsx("button",{onClick:o=>i(o,l.key),className:`${r} ${e.includes(l.key)?"selected":""}`,disabled:n,type:"button",children:l.label},l.key))})}const Qj=[{value:"this-only",label:" ",description:" ",tooltip:"  ,  ,   "},{value:"from-now",label:"   ",description:" ",tooltip:"  ,  ,   "},{value:"all",label:" ",description:" ",tooltip:"  ,  ,   "}],Wn={container:{display:"flex",flexDirection:"column",gap:"0.75rem"},option:e=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:e?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"}),radio:{width:"16px",height:"16px",cursor:"pointer"},labelContainer:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},labelRow:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},label:{fontWeight:"600"},description:{fontSize:"0.85rem",color:"#9ca3af"},helpButton:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},tooltip:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"}};function Jj({selectedOption:e,onChange:t,name:n="delete-option"}){const[a,i]=b.useState(null);return u.jsx("div",{style:Wn.container,children:Qj.map(s=>u.jsxs("div",{style:Wn.option(e===s.value),onClick:()=>t(s.value),children:[u.jsx("input",{type:"radio",name:n,value:s.value,checked:e===s.value,onChange:r=>t(r.target.value),style:Wn.radio}),u.jsx("div",{style:Wn.labelContainer,children:u.jsxs("div",{style:Wn.labelRow,children:[u.jsx("span",{style:Wn.label,children:s.label}),u.jsx("span",{style:Wn.description,children:s.description})]})}),u.jsx("button",{onMouseEnter:()=>i(s.value),onMouseLeave:()=>i(null),onClick:r=>{r.stopPropagation(),i(a===s.value?null:s.value)},style:Wn.helpButton,children:"?"}),a===s.value&&u.jsx("div",{style:Wn.tooltip,children:s.tooltip})]},s.value))})}function Zj({todo:e,isOpen:t,onClose:n,onEdit:a,onToggle:i,onDelete:s,onAddSubTodo:r,onCreateRoutine:l,subtodos:o,routines:c,formatDate:d,formatDateOnly:f}){const[h,m]=b.useState(e.text),[p,_]=b.useState(null),[S,y]=b.useState(""),[g,v]=b.useState("this-only"),[w,E]=b.useState(!1),[T,x]=b.useState([]),[O,A]=b.useState(""),[k,J]=b.useState([]),[he,me]=b.useState(!1),[$,ge]=b.useState([]),[N,H]=b.useState([]),[q,oe]=b.useState(null),V=e.routine_id?c.find(B=>B.id===e.routine_id):null,Ie=B=>["sun","mon","tue","wed","thu","fri","sat"][B],pe=B=>{x(W=>W.includes(B)?W.filter(ce=>ce!==B):[...W,B])};b.useEffect(()=>{p==="history"&&k.length===0&&!he&&(async()=>{me(!0);try{const{data:W,error:ce}=await Ue.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(ce)throw ce;J(W||[])}catch(W){console.error("Error fetching history:",W)}finally{me(!1)}})()},[p,e.id,k.length,he]),b.useEffect(()=>{p==="routine-stats"&&V&&(!q||q.id!==V.id)&&(async()=>{try{const{data:W,error:ce}=await Ue.from("todos").select("*").eq("routine_id",V.id).eq("deleted",!1).maybeSingle();if(ce)throw ce;if(W&&W.visible_dates){const ve=W.visible_dates.sort().map(Ne=>{var Te;return{id:`${W.id}-${Ne}`,date:Ne,text:W.text,completed:((Te=W.completed_dates)==null?void 0:Te.includes(Ne))||!1}});H(ve),oe(V)}}catch(W){console.error("Error fetching routine history:",W)}})()},[p,V,q]);const qe=B=>{ge(W=>W.includes(B)?W.filter(ce=>ce!==B):[...W,B])};return t?sv.createPortal(u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"actions-modal-content",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"actions-modal-header",children:[u.jsx("h3",{children:" "}),u.jsx("button",{onClick:n,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"todo-edit-section",children:u.jsx("textarea",{value:h,onChange:B=>m(B.target.value),onBlur:()=>{h.trim()!==""&&h!==e.text?a(e.id,h):h.trim()===""&&m(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),u.jsxs("div",{className:"actions-modal-body",children:[u.jsxs("div",{className:"actions-menu",children:[u.jsxs("button",{className:`action-menu-item ${p==="nanotodo"?"active":""}`,onClick:()=>_("nanotodo"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${p==="routine"?"active":""}`,onClick:()=>{_("routine"),V?(x(V.days||[]),A(V.time_slot||""),E(!1)):(x([]),A(""),E(!0))},children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${p==="history"?"active":""}`,onClick:()=>_("history"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),e.routine_id&&V&&u.jsxs("button",{className:`action-menu-item ${p==="routine-stats"?"active":""}`,onClick:()=>_("routine-stats"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item delete ${p==="delete"?"active":""}`,onClick:()=>_("delete"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]})]}),u.jsxs("div",{className:"actions-detail",children:[!p&&u.jsx("div",{className:"actions-detail-empty",children:u.jsx("p",{children:"  "})}),p==="nanotodo"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:" "}),u.jsxs("div",{className:"nanotodo-section-in-modal",children:[o&&o.length>0&&u.jsx("div",{className:"subtodo-list-in-modal",children:o.map(B=>u.jsxs("div",{className:"subtodo-item-in-modal",children:[u.jsx("input",{type:"checkbox",checked:B.completed,onChange:()=>i(B.id),className:"subtodo-checkbox-modal"}),u.jsx("span",{className:`subtodo-text-modal ${B.completed?"completed":""}`,children:B.text}),u.jsx("button",{onClick:()=>s(B.id),className:"subtodo-delete-modal",title:"",children:""})]},B.id))}),u.jsxs("div",{className:"subtodo-input-section-modal",children:[u.jsx("input",{type:"text",value:S,onChange:B=>y(B.target.value),onKeyDown:B=>{B.key==="Enter"&&S.trim()&&(r(e.id,S.trim()),y(""))},placeholder:" ...",className:"subtodo-input-modal"}),u.jsx("button",{onClick:()=>{S.trim()&&(r(e.id,S.trim()),y(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),p==="routine"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{className:"routine-setup-inline",children:V&&!w?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Ec.filter(B=>V.days.includes(B.key)).map(B=>u.jsx("span",{className:"routine-day-badge",children:B.label},B.key))}),V.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",V.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:B=>{B.stopPropagation(),x(V.days),A(V.time_slot||""),E(!0)},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async B=>{B.stopPropagation(),await l(e.id,e.text,[],null,!0),n()},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:w&&V?" :":"  :"}),u.jsx(Zo,{selectedDays:T,onToggle:pe,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(lh,{value:O,onChange:B=>A(B)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async B=>{B.stopPropagation(),w&&V?await l(e.id,e.text,T,V.id,!1,O):await l(e.id,e.text,T,null,!1,O),E(!1),n()},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:B=>{B.stopPropagation(),E(!1),x([]),A("")},className:"routine-cancel-button",children:""})]})]})})]}),p==="history"&&(()=>{const B=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],W=B[0],ce=B.map(ve=>({id:`${e.id}-${ve}`,date:ve}));return he?u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:d(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:f(W?new Date(W+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),ce.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:ce.map((ve,Ne)=>{const Te=ve.date===e.date,G=f(new Date(ve.date+"T00:00:00"));return u.jsxs("span",{children:[Ne>0&&"  ",u.jsxs("span",{style:Te?{fontWeight:"bold",color:"#4CAF50"}:{},children:[G.split("(")[0],Te?"()":""]})]},ve.id)})})]}),k.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",k.length,")"]}),k.map(ve=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[d(ve.changed_at),ve.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",f(new Date(ve.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:Ne=>{Ne.stopPropagation(),qe(ve.id)},children:$.includes(ve.id)?"":""})]}),$.includes(ve.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ve.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ve.new_text})]})]})]},ve.id))]})]})]})})(),p==="routine-stats"&&V&&(()=>{if(!q||q.id!==V.id||N.length===0)return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",V.text," "]}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!q||q.id!==V.id?" ...":" ."})]});const B=N[0],W=new Date(B.date),ce=new Date,ve={};N.forEach(G=>{ve[G.date]=G.completed});const Ne=[];let Te=new Date(W);for(;Te<=ce;){const G=Te.getFullYear(),Le=Te.getMonth(),Ke=`${G}-${Le+1}`;Ne.find(C=>C.key===Ke)||Ne.push({key:Ke,year:G,month:Le,days:[]});const St=Ne.find(C=>C.key===Ke),Ve=je(Te),xt=Te.getDay(),Et=Ie(xt),K=V.days.includes(Et);St.days.push({date:new Date(Te),dateStr:Ve,day:Te.getDate(),dayOfWeek:xt,isCompleted:ve[Ve]===!0,isRoutineDay:K,hasTodo:ve[Ve]!==void 0}),Te.setDate(Te.getDate()+1)}return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",V.text," "]}),u.jsxs("div",{className:"routine-history-content",children:[u.jsx("div",{className:"routine-history-calendar",children:Ne.map(G=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[G.year," ",G.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),G.days.length>0&&Array(G.days[0].dayOfWeek).fill(null).map((Le,Ke)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${Ke}`)),G.days.map(Le=>u.jsxs("div",{className:`history-day-cell ${Le.isCompleted?"completed":""} ${Le.isRoutineDay?"":"not-routine-day"}`,title:`${Le.dateStr}${Le.isRoutineDay?"":" (  )"}${Le.isCompleted?" - ":Le.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:Le.day}),Le.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},Le.dateStr))]})]},G.key))}),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[N.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[N.filter(G=>G.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[N.filter(G=>!G.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[N.length>0?Math.round(N.filter(G=>G.completed).length/N.length*100):0,"%"]})]})]})]})]})})(),p==="delete"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"   "}),u.jsxs("p",{style:{fontSize:"0.9rem",color:"#9ca3af",marginBottom:"1rem",lineHeight:"1.6"},children:["    .",u.jsx("br",{}),"    ."]}),u.jsx(Jj,{selectedOption:g,onChange:v}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[u.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#9ca3af",cursor:"pointer",fontSize:"0.9rem"},children:""}),u.jsx("button",{onClick:async()=>{window.confirm(` ?

  5    .`)&&(await s(e.id,g),n())},style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"#ef4444",border:"none",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:""})]})]})]})]})]})}),document.body):null}function Ji({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:d,level:f=0,onCreateRoutine:h,routines:m,onShowRoutineHistory:p,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y,isPendingRoutine:g=!1,onRemoveFromUI:v,showSuccessMessage:w,activeId:E,overId:T,hideNumber:x=!1,onMoveUp:O,onMoveDown:A,onMoveToTop:k,onMoveToBottom:J,isFirst:he,isLast:me}){const[$,ge]=b.useState(!1),[N,H]=b.useState(!1),[q,oe]=b.useState(!1),[V,Ie]=b.useState(e.text),[pe,qe]=b.useState(!1),[B,W]=b.useState(!1),[ce,ve]=b.useState(""),[Ne,Te]=b.useState(!1),G=e.routine_id?m.find(L=>L.id===e.routine_id):null,{attributes:Le,listeners:Ke,setNodeRef:St,transform:Ve,transition:xt,isDragging:Et}=Mj({id:e.id}),K=e.id===E,C=e.id===T&&E&&E!==T,M={cursor:"grab",opacity:K?.4:1},U=e.text.length>30,ne=()=>{oe(!0),Ie(e.text)},Q=async()=>{V.trim()&&V!==e.text&&await i(e.id,V.trim()),oe(!1)},be=async L=>{L.key==="Enter"&&!L.shiftKey?(L.preventDefault(),await Q()):L.key==="Escape"&&(oe(!1),Ie(e.text))};return b.useEffect(()=>{const L=ee=>{N&&!ee.target.closest(".drag-handle-wrapper")&&H(!1)};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[N]),u.jsxs("div",{ref:St,style:{...M,borderTop:C?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:"todo-item-container",children:[u.jsxs("div",{className:"drag-handle-wrapper",children:[u.jsx("span",{className:"drag-handle",onClick:L=>{L.stopPropagation(),H(!N)},title:"  "}),N&&u.jsx(Ij,{todoId:e.id,isFirst:he,isLast:me,onMoveUp:O,onMoveDown:A,onMoveToTop:k,onMoveToBottom:J,onDelete:a,onClose:()=>H(!1)})]}),!x&&u.jsx("span",{className:"todo-number",children:t+1}),u.jsx("div",{className:"todo-item-wrapper",children:u.jsxs("div",{className:`todo-item ${e.completed?"completed":""} ${$?"expanded":""} ${Et?"drag-mode":""}`,children:[u.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),u.jsx("div",{className:"todo-content",onClick:()=>!q&&U&&ge(!$),onDoubleClick:ne,style:{cursor:q?"text":U?"pointer":"default"},children:q?u.jsx("textarea",{value:V,onChange:L=>Ie(L.target.value),onBlur:Q,onKeyDown:be,className:"todo-edit-input",autoFocus:!0,rows:1,style:{minHeight:"1.35em",resize:"vertical",overflow:"hidden"},onInput:L=>{L.target.style.height="auto",L.target.style.height=L.target.scrollHeight+"px"}}):u.jsx("span",{className:`todo-text ${$?"expanded":""}`,children:e.text})}),(()=>{const L=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,ee=e.routine_id&&G,ie=g||e.is_pending_routine;return(d.length>0||L||ee||ie)&&u.jsxs("div",{className:"todo-badges",children:[L&&(()=>{const Y=new Date(e.completed_at).toISOString().split("T")[0],te=new Date(e.completed_at).getDate();return u.jsxs("span",{className:"completed-date-badge",title:`${Y} `,children:[te,""]})})(),ee&&(()=>{const Y=y||e.date,te=new Date(Y+"T00:00:00"),X=te.getMonth()+1,_e=te.getDate(),ot=["","","","","","",""][te.getDay()],Tt=`${X}/${_e}(${ot})`;return u.jsxs("span",{className:"routine-date-badge",title:`${G.text} `,children:["for ",Tt]})})(),ie&&u.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&u.jsx("span",{className:"todo-badge clickable",title:" ",onClick:Y=>{Y.stopPropagation(),pe?(qe(!1),W(!1)):(qe(!0),W(!1))},children:""})]})})(),!q&&!e.parent_id&&u.jsx("button",{className:"todo-more-button",onClick:L=>{L.stopPropagation(),Te(!0)},title:"",children:""}),pe&&!e.parent_id&&u.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((L,ee)=>u.jsx(Ji,{todo:L,index:ee,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:[],level:f+1,routines:m,onShowRoutineHistory:p,showSuccessMessage:w,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y},L.id)),B&&u.jsxs("div",{className:"subtodo-input-section",children:[u.jsx("input",{type:"text",value:ce,onChange:L=>ve(L.target.value),onKeyDown:L=>{L.key==="Enter"&&ce.trim()&&(c(e.id,ce.trim()),ve(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),u.jsx("button",{onClick:()=>{ce.trim()&&(c(e.id,ce.trim()),ve(""))},className:"subtodo-add-button",children:""}),u.jsx("button",{onClick:()=>ve(""),className:"subtodo-cancel-button",children:""})]})]})]})}),u.jsx(Zj,{todo:e,isOpen:Ne,onClose:()=>Te(!1),onEdit:i,onToggle:n,onDelete:a,onAddSubTodo:c,onCreateRoutine:h,subtodos:d,routines:m,formatDate:s,formatDateOnly:r})]})}function qg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return u.jsxs("div",{className:a,children:[u.jsx("span",{children:e}),t&&u.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function $g({todo:e,onClose:t,onDeleteThisOnly:n,onDeleteFromNow:a,onDeleteAll:i}){const[s,r]=b.useState("this-only"),[l,o]=b.useState(null),c=()=>{s==="this-only"?n(e):s==="from-now"?a(e):s==="all"&&i(e),t()},d=[{id:"this-only",label:" ",subtitle:" ",tooltip:"  ,  ,   "},{id:"from-now",label:"   ",subtitle:" ",tooltip:"  ,  ,   "},{id:"all",label:" ",subtitle:" ",tooltip:"  ,  ,   "}];return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content delete-confirm-modal-v2",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"delete-confirm-content-v2",children:[u.jsxs("p",{className:"delete-info-text",children:["    .",u.jsx("br",{}),"    ."]}),u.jsx("div",{className:"delete-options-v2",children:d.map(f=>u.jsxs("div",{className:"delete-option-item",children:[u.jsxs("label",{className:"delete-option-label",children:[u.jsx("input",{type:"radio",name:"delete-option",value:f.id,checked:s===f.id,onChange:h=>r(h.target.value)}),u.jsxs("div",{className:"option-text",children:[u.jsx("span",{className:"option-main",children:f.label}),u.jsx("span",{className:"option-sub",children:f.subtitle})]})]}),u.jsx("button",{className:"option-help-btn",onMouseEnter:()=>o(f.id),onMouseLeave:()=>o(null),onClick:h=>{h.preventDefault(),o(l===f.id?null:f.id)},children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"8",y:"11.5",textAnchor:"middle",fontSize:"11",fill:"currentColor",fontWeight:"600",children:"?"})]})}),l===f.id&&u.jsx("div",{className:"option-tooltip",children:f.tooltip})]},f.id))}),u.jsxs("div",{className:"delete-modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:t,children:""}),u.jsx("button",{className:"btn-confirm",onClick:c,children:""})]})]})]})})}function Pj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:c,routines:d,editingRoutineId:f,editingRoutineText:h,setEditingRoutineText:m,editingRoutineDays:p,onToggleEditDay:_,onStartEdit:S,onSaveEdit:y,onCancelEdit:g,onDelete:v,onShowHistory:w}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-modal",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-add-section",children:[u.jsx("input",{type:"text",value:n,onChange:E=>a(E.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),u.jsx(Zo,{selectedDays:s,onToggle:r,disabled:i}),u.jsxs("div",{className:"time-slot-selector",children:[u.jsx("label",{className:"time-slot-label",children:"  ()"}),u.jsx(lh,{value:l,onChange:E=>o(E)})]}),u.jsx("button",{onClick:c,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),u.jsx("div",{className:"routine-list",children:d.length===0?u.jsx("p",{className:"empty-message",children:"  ."}):d.map(E=>u.jsx("div",{className:"routine-item",children:f===E.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-edit-content",children:[u.jsx("input",{type:"text",value:h,onChange:T=>m(T.target.value),className:"routine-edit-input",placeholder:" "}),u.jsx(Zo,{selectedDays:p,onToggle:_,variant:"inline"})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:y,className:"routine-save-button",disabled:h.trim()===""||p.length===0,children:""}),u.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-item-content",children:[u.jsx("span",{className:"routine-text",children:E.text}),u.jsxs("div",{className:"routine-meta",children:[u.jsx("div",{className:"routine-days",children:Ec.filter(T=>E.days.includes(T.key)).map(T=>u.jsx("span",{className:"routine-day-badge",children:T.label},T.key))}),E.time_slot&&u.jsx("span",{className:"routine-time-slot",children:E.time_slot})]})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:()=>w(E),className:"routine-history-button",title:" ",children:""}),u.jsx("button",{onClick:()=>S(E),className:"routine-edit-button",title:"",children:""}),u.jsx("button",{onClick:()=>v(E.id),className:"routine-delete-button",title:"",children:""})]})]})},E.id))})]})}):null}const Fj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Wj({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[" ",n.text," "]}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return u.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const o=[];let c=new Date(s);for(;c<=r;){const d=c.getFullYear(),f=c.getMonth(),h=`${d}-${f+1}`;o.find(g=>g.key===h)||o.push({key:h,year:d,month:f,days:[]});const m=o.find(g=>g.key===h),p=je(c),_=c.getDay(),S=Fj(_),y=n.days.includes(S);m.days.push({date:new Date(c),dateStr:p,day:c.getDate(),dayOfWeek:_,isCompleted:l[p]===!0,isRoutineDay:y,hasTodo:l[p]!==void 0}),c.setDate(c.getDate()+1)}return u.jsx("div",{className:"routine-history-calendar",children:o.map(d=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((f,h)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${h}`)),d.days.map((f,h)=>{if(h>0&&f.day===1){const p=6-d.days[h-1].dayOfWeek;return u.jsxs(u.Fragment,{children:[Array(p).fill(null).map((_,S)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${h}-${S}`)),u.jsx("div",{className:"history-day-header",children:""},f.dateStr),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]})}return u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,title:`${f.dateStr}${f.isRoutineDay?"":" (  )"}${f.isCompleted?" - ":f.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},f.dateStr)})]})]},d.key))})})(),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function eO({show:e,onClose:t,content:n,setContent:a,isSaving:i,placeholder:s=" ..."}){const r=b.useRef(null);return b.useEffect(()=>{r.current&&e&&(r.current.style.height="auto",r.current.style.height=Math.min(r.current.scrollHeight,window.innerHeight*.6)+"px")},[n,e]),b.useEffect(()=>{e&&r.current&&r.current.focus()},[e]),b.useEffect(()=>{const l=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]),e?u.jsx("div",{className:"memo-modal-overlay",onClick:t,children:u.jsxs("div",{className:"memo-modal",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"memo-modal-header",children:[u.jsx("h3",{children:"  "}),u.jsxs("div",{className:"memo-modal-actions",children:[i&&u.jsx("span",{className:"memo-saving-indicator",children:" ..."}),u.jsx("button",{className:"memo-modal-close",onClick:t,children:""})]})]}),u.jsx("textarea",{ref:r,value:n,onChange:l=>a(l.target.value),className:"memo-modal-textarea",placeholder:s})]})}):null}function tO({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  -  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"gantt-filter",children:u.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>u.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),u.jsx("div",{className:"gantt-content",children:n.length===0?u.jsx("p",{className:"empty-message",children:" ."}):u.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(f=>f.dates),l=[...new Set(r)].sort((f,h)=>new Date(f)-new Date(h));if(l.length===0)return u.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),c=new Date(l[l.length-1]),d=[];for(let f=new Date(o);f<=c;f.setDate(f.getDate()+1))d.push(new Date(f).toISOString().split("T")[0]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"gantt-header",children:[u.jsx("div",{className:"gantt-task-column",children:" "}),u.jsx("div",{className:"gantt-timeline",children:d.map(f=>u.jsx("div",{className:"gantt-date-cell",children:s(new Date(f+"T00:00:00")).split("(")[0]},f))})]}),n.map((f,h)=>{const m=new Set(f.dates);return u.jsxs("div",{className:"gantt-row",children:[u.jsx("div",{className:"gantt-task-column",title:f.text,children:u.jsx("span",{className:f.completed?"completed-task":"",children:f.text})}),u.jsx("div",{className:"gantt-timeline",children:d.map(p=>{if(!m.has(p))return u.jsx("div",{className:"gantt-date-cell"},p);const S=p===f.startDate,y=p===f.completedDate;let g="gantt-date-cell has-task";return S?g+=" start-date":y?g+=" completed-date":g+=" middle-date",u.jsx("div",{className:g,children:y?u.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},f.originalId)})]})})()})})]})}):null}function nO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:c,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:f}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content encouragement-modal",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"encouragement-add-section",children:[u.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async h=>{h.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),u.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),u.jsx("div",{className:"encouragement-list",children:n.length===0?u.jsx("p",{className:"empty-message",children:"   ."}):n.map((h,m)=>u.jsx("div",{className:"encouragement-item",children:r===m?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),className:"encouragement-edit-input",placeholder:" "}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(m,l.trim()),o(null),c(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),u.jsx("button",{onClick:()=>{o(null),c("")},className:"encouragement-cancel-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"encouragement-text",children:h}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:()=>{o(m),c(h)},className:"encouragement-edit-button",title:"",children:""}),u.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await f(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function aO({isOpen:e,onClose:t,onAddSection:n}){const[a,i]=b.useState(""),[s,r]=b.useState(""),l=["","","","","","","","","","","",""],o=c=>{c.preventDefault(),a.trim()&&(n({name:a.trim(),icon:s}),i(""),r(""),t())};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content add-section-modal",onClick:c=>c.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),u.jsxs("form",{onSubmit:o,className:"add-section-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("div",{className:"emoji-grid",children:l.map(c=>u.jsx("button",{type:"button",className:`emoji-button ${s===c?"selected":""}`,onClick:()=>r(c),children:c},c))}),u.jsx("div",{className:"custom-emoji-input",children:u.jsx("input",{type:"text",value:s,onChange:c=>{const d=Array.from(c.target.value);r(d.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("div",{className:"section-preview",children:[s," ",a||" "]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),u.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function iO({show:e,onClose:t,hiddenSections:n,sectionOrder:a,sectionTitles:i,customSections:s,onShowSection:r}){if(!e)return null;const l=o=>{if(i[o])return i[o];const c=s.find(d=>d.id===o);return c?`${c.icon} ${c.name}`:o};return n.length===0?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("p",{className:"empty-message",children:"  ."})})]})}):u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"hidden-sections-list",children:n.map(o=>u.jsxs("div",{className:"hidden-section-item",children:[u.jsx("span",{className:"hidden-section-title",children:l(o)}),u.jsx("button",{className:"show-section-button",onClick:()=>{r(o)},title:" ",children:" "})]},o))})})]})})}function sO({todo:e,todoHistory:t,expandedHistoryIds:n,toggleHistoryDetail:a,formatDate:i,formatDateOnly:s,onClose:r}){const l=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],o=l[0],c=l.map(f=>({id:`${e.id}-${f}`,date:f})),d=t[e.id]||[];return u.jsx("div",{className:"modal-overlay",onClick:r,children:u.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:r,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:i(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:s(o?new Date(o+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),c.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:c.map((f,h)=>{const m=f.date===e.date,p=s(new Date(f.date+"T00:00:00"));return u.jsxs("span",{children:[h>0&&"  ",u.jsxs("span",{style:m?{fontWeight:"bold",color:"#4CAF50"}:{},children:[p.split("(")[0],m?"()":""]})]},f.id)})})]}),(()=>{const f=new Date(e.created_at).toISOString().split("T")[0],h=e.date;return f!==h&&c.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),d.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",d.length,")"]}),d.map(f=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[i(f.changed_at),f.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(f.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:h=>{h.stopPropagation(),a(f.id)},children:n.includes(f.id)?"":""})]}),n.includes(f.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:f.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:f.new_text})]})]})]},f.id))]})]})})]})})}function rO({todo:e,routines:t,routineDaysForModal:n,isEditingRoutineInModal:a,routineTimeSlotForModal:i,onToggleDay:s,setRoutineTimeSlotForModal:r,setRoutineDaysForModal:l,setIsEditingRoutineInModal:o,handleCreateRoutineFromTodo:c,onClose:d}){const f=t.find(h=>h.id===e.routine_id);return u.jsx("div",{className:"modal-overlay",onClick:d,children:u.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:d,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"routine-setup-inline",children:f&&!a?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Ec.filter(h=>f.days.includes(h.key)).map(h=>u.jsx("span",{className:"routine-day-badge",children:h.label},h.key))}),f.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",f.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:h=>{h.stopPropagation(),l(f.days),r(f.time_slot||""),o(!0)},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async h=>{h.stopPropagation(),await c(e.id,e.text,[],null,!0),d()},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:a?" :":"  :"}),u.jsx(Zo,{selectedDays:n,onToggle:s,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(lh,{value:i,onChange:h=>r(h)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async h=>{h.stopPropagation(),a&&f?await c(e.id,e.text,n,f.id,!1,i):await c(e.id,e.text,n,null,!1,i),d()},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"routine-cancel-button",children:""})]})]})})})]})})}function lO({showUndoToast:e,showSuccessToast:t,successToastMessage:n,lastDeleteAction:a,handleUndoDelete:i,handleUndoRoutineDelete:s,showDeleteConfirmModal:r,todoToDelete:l,setShowDeleteConfirmModal:o,deleteThisOnly:c,deleteFromNow:d,deleteAll:f,showRoutineDeleteModal:h,routineToDelete:m,setShowRoutineDeleteModal:p,deleteRoutineThisOnly:_,deleteRoutineFromNow:S,deleteRoutineAll:y,showTodoHistoryModal:g,selectedTodoForModal:v,todoHistory:w,expandedHistoryIds:E,toggleHistoryDetail:T,handleCloseTodoHistoryModal:x,formatDate:O,formatDateOnly:A,showTodoRoutineSetupModal:k,routines:J,routineDaysForModal:he,isEditingRoutineInModal:me,routineTimeSlotForModal:$,handleToggleRoutineDayInModal:ge,setRoutineTimeSlotForModal:N,setRoutineDaysForModal:H,setIsEditingRoutineInModal:q,handleCreateRoutineFromTodo:oe,handleCloseTodoRoutineSetupModal:V,showRoutineModal:Ie,handleCloseRoutine:pe,routineInput:qe,setRoutineInput:B,isAddingRoutine:W,selectedDays:ce,handleToggleDay:ve,selectedTimeSlot:Ne,setSelectedTimeSlot:Te,handleAddRoutine:G,editingRoutineId:Le,editingRoutineText:Ke,setEditingRoutineText:St,editingRoutineDays:Ve,handleToggleEditDay:xt,handleStartEditRoutine:Et,handleSaveEditRoutine:K,handleCancelEditRoutine:C,handleDeleteRoutine:M,fetchRoutineHistory:U,showRoutineHistory:ne,handleCloseRoutineHistory:Q,selectedRoutineForHistory:be,routineHistoryData:L,showMemoModal:ee,setShowMemoModal:ie,memoContent:Y,setMemoContent:te,isSavingMemo:X,showGanttChart:_e,handleCloseGanttChart:ye,ganttData:ot,ganttPeriod:Tt,setGanttPeriod:Nn,showEncouragementModal:Xt,setShowEncouragementModal:va,encouragementMessages:ya,newEncouragementMessage:Ni,setNewEncouragementMessage:Ks,addEncouragementMessage:Xs,editingEncouragementId:pa,editingEncouragementText:ct,setEditingEncouragementId:Ct,setEditingEncouragementText:Nt,updateEncouragementMessage:yn,deleteEncouragementMessage:it,showAddSectionModal:ut,setShowAddSectionModal:Qt,handleAddSection:$n,showHiddenSectionsModal:st,setShowHiddenSectionsModal:Ht,hiddenSections:Rt,sectionOrder:Bt,sectionTitles:pn,customSections:Qn,handleShowSection:bn}){return u.jsxs(u.Fragment,{children:[e&&u.jsx(qg,{message:"",onUndo:i}),t&&u.jsx(qg,{message:n,onUndo:a?s:null,variant:"success"}),r&&l&&u.jsx($g,{todo:l,onClose:()=>o(!1),onDeleteThisOnly:c,onDeleteFromNow:d,onDeleteAll:f}),h&&m&&u.jsx($g,{todo:m,onClose:()=>p(!1),onDeleteThisOnly:_,onDeleteFromNow:S,onDeleteAll:y}),g&&v&&u.jsx(sO,{todo:v,todoHistory:w,expandedHistoryIds:E,toggleHistoryDetail:T,formatDate:O,formatDateOnly:A,onClose:x}),k&&v&&u.jsx(rO,{todo:v,routines:J,routineDaysForModal:he,isEditingRoutineInModal:me,routineTimeSlotForModal:$,onToggleDay:ge,setRoutineTimeSlotForModal:N,setRoutineDaysForModal:H,setIsEditingRoutineInModal:q,handleCreateRoutineFromTodo:oe,onClose:V}),u.jsx(Pj,{showRoutineModal:Ie,onClose:pe,routineInput:qe,setRoutineInput:B,isAddingRoutine:W,selectedDays:ce,onToggleDay:ve,selectedTimeSlot:Ne,setSelectedTimeSlot:Te,onAddRoutine:G,routines:J,editingRoutineId:Le,editingRoutineText:Ke,setEditingRoutineText:St,editingRoutineDays:Ve,onToggleEditDay:xt,onStartEdit:Et,onSaveEdit:K,onCancelEdit:C,onDelete:M,onShowHistory:U}),u.jsx(Wj,{showRoutineHistory:ne,onClose:Q,selectedRoutine:be,routineHistoryData:L}),u.jsx(eO,{show:ee,onClose:()=>ie(!1),content:Y,setContent:te,isSaving:X,placeholder:" ..."}),u.jsx(tO,{showGanttChart:_e,onClose:ye,ganttData:ot,ganttPeriod:Tt,setGanttPeriod:Nn,formatDateOnly:A}),u.jsx(nO,{showEncouragementModal:Xt,onClose:()=>va(!1),encouragementMessages:ya,newEncouragementMessage:Ni,setNewEncouragementMessage:Ks,onAddEncouragementMessage:Xs,editingEncouragementId:pa,editingEncouragementText:ct,setEditingEncouragementId:Ct,setEditingEncouragementText:Nt,onUpdateEncouragementMessage:yn,onDeleteEncouragementMessage:it}),u.jsx(aO,{isOpen:ut,onClose:()=>Qt(!1),onAddSection:$n}),u.jsx(iO,{show:st,onClose:()=>Ht(!1),hiddenSections:Rt,sectionOrder:Bt,sectionTitles:pn,customSections:Qn,onShowSection:bn})]})}function oO({authLoading:e,session:t,handleGoogleLogin:n}){return e?u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),u.jsx("div",{children:" ..."})]})}):t?null:u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[u.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),u.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),u.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[u.jsx("span",{children:""}),"Google "]})]})})}const Ta={async get(e,t=null){try{const{data:n,error:a}=await Ue.from("user_settings").select("setting_value").eq("setting_key",e).maybeSingle();return a?(console.error(`   [${e}]:`,a.message),t):n&&n.setting_value?JSON.parse(n.setting_value):t}catch(n){return console.error(`   [${e}]:`,n.message),t}},async set(e,t,n){if(!n)return console.warn(`   [${e}]:  ID `),!1;try{const{data:a,error:i}=await Ue.from("user_settings").select("id").eq("setting_key",e).maybeSingle();if(i)return console.error(`   [${e}]:`,i.message),!1;const s=JSON.stringify(t);if(a){const{error:r}=await Ue.from("user_settings").update({setting_value:s,updated_at:new Date().toISOString()}).eq("setting_key",e);if(r)return console.error(`   [${e}]:`,r.message),!1}else{const{error:r}=await Ue.from("user_settings").insert([{setting_key:e,setting_value:s,user_id:n}]);if(r)return console.error(`   [${e}]:`,r.message),!1}return!0}catch(a){return console.error(`   [${e}]:`,a.message),!1}},async remove(e){try{const{error:t}=await Ue.from("user_settings").delete().eq("setting_key",e);return t?(console.error(`   [${e}]:`,t.message),!1):!0}catch(t){return console.error(`   [${e}]:`,t.message),!1}}},ja={SECTION_ORDER:"section_order",SECTION_TITLES:"section_titles",CUSTOM_SECTIONS:"custom_sections",HIDDEN_SECTIONS:"hidden_sections"};function cO(e){const[t,n]=b.useState(["routine","normal"]),[a,i]=b.useState(!1),s=async()=>{var h;if(!((h=e==null?void 0:e.user)!=null&&h.id))return;const f=await Ta.get(ja.SECTION_ORDER);f&&n(f)},r=async f=>{var h;(h=e==null?void 0:e.user)!=null&&h.id&&await Ta.set(ja.SECTION_ORDER,f,e.user.id)};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,saveSectionOrder:r,moveSectionLeft:f=>{n(h=>{const m=h.indexOf(f);if(m<=0)return h;const p=[...h];return[p[m-1],p[m]]=[p[m],p[m-1]],r(p),p})},moveSectionRight:f=>{n(h=>{const m=h.indexOf(f);if(m===-1||m>=h.length-1)return h;const p=[...h];return[p[m],p[m+1]]=[p[m+1],p[m]],r(p),p})},handleSectionDragEnd:f=>{const{active:h,over:m}=f;a&&t.includes(h.id)&&m&&h.id!==(m==null?void 0:m.id)&&n(p=>{const _=p.indexOf(h.id),S=p.indexOf(m.id),y=La(p,_,S);return r(y),y})},handleSectionsContainerDoubleClick:f=>{a&&f.target===f.currentTarget&&i(!1)}}}function uO(e){const[t,n]=b.useState(""),[a,i]=b.useState(!1),[s,r]=b.useState(""),l=b.useRef(null),o=b.useRef(null),c=async()=>{try{const{data:f,error:h}=await Ue.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(h)throw h;const m=f&&f.length>0?f[0].content:"";n(m),r(m)}catch(f){console.error("Error fetching memo:",f.message),n(""),r("")}},d=b.useCallback(async f=>{var h;if(f!==s)try{i(!0);const{data:m}=await Ue.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);m&&m.length>0?await Ue.from("spec_memos").update({content:f,updated_at:new Date().toISOString()}).eq("id",m[0].id):await Ue.from("spec_memos").insert([{content:f,user_id:(h=e==null?void 0:e.user)==null?void 0:h.id}]),r(f)}catch(m){console.error("Error saving memo:",m.message)}finally{i(!1)}},[e,s]);return b.useEffect(()=>{if(t!==s)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d(t)},1e3),()=>{o.current&&clearTimeout(o.current)}},[t,d,s]),b.useEffect(()=>()=>{o.current&&clearTimeout(o.current),t!==s&&d(t)},[]),{memoContent:t,setMemoContent:n,isSavingMemo:a,memoTextareaRef:l,fetchMemoContent:c}}const jb=({type:e,supabase:t,selectedDate:n,onDeleteSuccess:a})=>({deleteThisOnly:async l=>{try{const o=je(n),d=[...l.hidden_dates||[],o],f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({hidden_dates:d}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Cu.THIS_ONLY),{success:!0}}catch(o){return console.error(`${e}   (THIS_ONLY):`,o.message),{success:!1,error:o}}},deleteFromNow:async l=>{try{const o=je(n),d=(l.visible_dates||[]).filter(m=>m<o),f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({visible_dates:d,stop_carryover_from:o}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Cu.FROM_NOW),{success:!0}}catch(o){return console.error(`${e}   (FROM_NOW):`,o.message),{success:!1,error:o}}},deleteAll:async l=>{try{const o=je(n),c=e==="todo"?"todos":"routines",{error:d}=await t.from(c).update({deleted:!0,deleted_date:o}).eq("id",l.id);if(d)throw d;return e==="routine"&&await t.from("todos").update({routine_id:null}).eq("routine_id",l.id),a&&a(l.id,Cu.ALL),{success:!0}}catch(o){return console.error(`${e}   (ALL):`,o.message),{success:!1,error:o}}}}),dO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],fO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=b.useState([]),[o,c]=b.useState(""),[d,f]=b.useState([]),[h,m]=b.useState(""),[p,_]=b.useState(!1),[S,y]=b.useState(!1),[g,v]=b.useState(null),[w,E]=b.useState(""),[T,x]=b.useState([]),[O,A]=b.useState(!1),[k,J]=b.useState(null),[he,me]=b.useState([]),[$,ge]=b.useState(!1),[N,H]=b.useState(null),q=b.useRef(new Set),{deleteThisOnly:oe,deleteFromNow:V,deleteAll:Ie}=jb({type:"routine",supabase:t,selectedDate:n,onDeleteSuccess:(K,C)=>{l(M=>M.filter(U=>U.id!==K)),i(" "),s(!0)}}),pe=async()=>{var K;if((K=e==null?void 0:e.user)!=null&&K.id)try{const{data:C,error:M}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(M)throw M;l(C||[])}catch(C){console.error("  :",C.message)}},qe=async()=>{var K;if(!(o.trim()===""||p))try{_(!0);const C={text:o,days:d,start_date:je(n),user_id:(K=e==null?void 0:e.user)==null?void 0:K.id};h&&(C.time_slot=h);const{data:M,error:U}=await t.from("routines").insert([C]).select();if(U)throw U;l([M[0],...r]),c(""),f([]),m("")}catch(C){console.error("  :",C.message)}finally{_(!1)}},B=async(K,C,M,U=null,ne=!1,Q="",be=null)=>{var L;try{if(ne){const{error:ee}=await t.from("todos").update({routine_id:null}).eq("id",K);if(ee)throw ee;a(ie=>ie.map(Y=>Y.id===K?{...Y,routine_id:null}:Y));return}if(U){const{error:ee}=await t.from("routines").update({days:M,time_slot:Q}).eq("id",U);if(ee)throw ee;const{error:ie}=await t.from("todos").update({is_pending_routine:M.length===0}).eq("id",K);if(ie)throw ie;l(Y=>Y.map(te=>te.id===U?{...te,days:M,time_slot:Q}:te)),a(Y=>Y.map(te=>te.id===K?{...te,is_pending_routine:M.length===0}:te))}else{const ee={text:C,days:M,time_slot:Q,start_date:be||je(n),user_id:(L=e==null?void 0:e.user)==null?void 0:L.id},{data:ie,error:Y}=await t.from("routines").insert([ee]).select();if(Y)throw Y;const{error:te}=await t.from("todos").update({routine_id:ie[0].id,is_pending_routine:M.length===0}).eq("id",K);if(te)throw te;a(X=>X.map(_e=>_e.id===K?{..._e,routine_id:ie[0].id,is_pending_routine:M.length===0}:_e)),l(X=>[ie[0],...X])}}catch(ee){console.error("  :",ee.message)}},W=K=>{v(K.id),E(K.text),x(K.days)},ce=()=>{v(null),E(""),x([])},ve=async()=>{if(!(!g||w.trim()===""||T.length===0))try{const{error:K}=await t.from("routines").update({text:w.trim(),days:T}).eq("id",g);if(K)throw K;l(r.map(C=>C.id===g?{...C,text:w.trim(),days:T}:C)),ce()}catch(K){console.error("  :",K.message)}},Ne=K=>{x(C=>C.includes(K)?C.filter(M=>M!==K):[...C,K])},Te=async K=>{const C=r.find(M=>M.id===K);C&&(H(C),ge(!0))},G=async K=>{var C;if(!q.current.has(K))try{q.current.add(K);const M=new Date(K),U=dO(M.getDay()),{data:ne,error:Q}=await t.from("routines").select("*").eq("deleted",!1);if(Q)throw Q;const be=ne.filter(L=>{const ee=L.days||[],ie=ee.length===0||ee.includes(U);if(L.start_date){const Y=new Date(L.start_date),te=M>=Y;return ie&&te}return ie});if(be.length===0)return;for(const L of be){const ee=L.text,{data:ie,error:Y}=await t.from("todos").select("*").eq("routine_id",L.id).eq("deleted",!1);if(Y)throw Y;if(ie&&ie.length>1){console.warn(` ${L.id}    (${ie.length}).     .`);for(let X=1;X<ie.length;X++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",ie[X].id)}const te=ie&&ie.length>0?ie[0]:null;if(te){const X=te.visible_dates||[],_e=!L.days||L.days.length===0,ye=_e?"pending_routine":"routine";if(X.includes(K)){(te.is_pending_routine!==_e||te.section_type!==ye)&&await t.from("todos").update({is_pending_routine:_e,section_type:ye}).eq("id",te.id);continue}const ot=[...X,K].sort(),{error:Tt}=await t.from("todos").update({visible_dates:ot,is_pending_routine:_e,section_type:_e?"pending_routine":"routine"}).eq("id",te.id);Tt&&console.error("    :",Tt.message)}else{const X=!L.days||L.days.length===0,{error:_e}=await t.from("todos").insert([{text:ee,completed:!1,date:K,visible_dates:[K],hidden_dates:[],order_index:0,routine_id:L.id,is_pending_routine:X,section_type:X?"pending_routine":"routine",user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]);_e&&console.error("   :",_e.message)}}}catch(M){console.error("   :",M.message)}finally{setTimeout(()=>{q.current.delete(K)},1e3)}},Le=async()=>{const C=je(new Date);await G(C)},Ke=async K=>{try{const{data:C,error:M}=await t.from("todos").select("*").eq("routine_id",K.id).eq("deleted",!1);if(M)throw M;const U=C&&C.length>0?C[0]:null;if(U&&U.visible_dates){const ne=U.visible_dates.sort().map(Q=>({id:`${U.id}-${Q}`,date:Q,text:U.text,completed:U.completed,routine_id:U.routine_id}));me(ne)}else me([]);J(K),A(!0)}catch(C){console.error("   :",C.message),alert("   : "+C.message)}},St=()=>{A(!1),J(null),me([])},Ve=()=>{y(!0),pe()},xt=()=>{y(!1),c(""),f([])},Et=K=>{f(C=>C.includes(K)?C.filter(M=>M!==K):[...C,K])};return b.useEffect(()=>{e&&pe()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:d,selectedTimeSlot:h,isAddingRoutine:p,showRoutineModal:S,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:T,showRoutineHistory:O,selectedRoutineForHistory:k,routineHistoryData:he,routineCreationInProgress:q,showDeleteConfirmModal:$,setShowDeleteConfirmModal:ge,routineToDelete:N,setRoutineToDelete:H,setRoutineInput:c,setSelectedTimeSlot:m,fetchRoutines:pe,handleAddRoutine:qe,handleDeleteRoutine:Te,deleteThisOnly:oe,deleteFromNow:V,deleteAll:Ie,handleStartEditRoutine:W,handleSaveEditRoutine:ve,handleCancelEditRoutine:ce,handleToggleEditDay:Ne,handleCreateRoutineFromTodo:B,createRoutineTodosForDate:G,createRoutineTodos:Le,fetchRoutineHistory:Ke,handleCloseRoutineHistory:St,handleOpenRoutine:Ve,handleCloseRoutine:xt,handleToggleDay:Et}};function hO(e,t,n){const a=(c,d)=>e.filter(f=>!(f.parent_id||f.section_type!==c||c==="custom"&&f.section_id!==d)).sort((f,h)=>f.order_index-h.order_index),i=async c=>{let d=[...e];c.forEach((f,h)=>{const m=d.findIndex(p=>p.id===f.id);m!==-1&&(d[m]={...d[m],order_index:h+1})}),t(d);try{for(let f=0;f<c.length;f++)await n.from("todos").update({order_index:f+1}).eq("id",c[f].id)}catch(f){console.error("  :",f.message),t(e)}};return{handleMoveUp:async(c,d,f)=>{if(!e.find(S=>S.id===c))return;const m=a(d,f),p=m.findIndex(S=>S.id===c);if(p<=0)return;const _=La(m,p,p-1);await i(_)},handleMoveDown:async(c,d,f)=>{if(!e.find(S=>S.id===c))return;const m=a(d,f),p=m.findIndex(S=>S.id===c);if(p>=m.length-1)return;const _=La(m,p,p+1);await i(_)},handleMoveToTop:async(c,d,f)=>{if(!e.find(S=>S.id===c))return;const m=a(d,f),p=m.findIndex(S=>S.id===c);if(p<=0)return;const _=La(m,p,0);await i(_)},handleMoveToBottom:async(c,d,f)=>{if(!e.find(S=>S.id===c))return;const m=a(d,f),p=m.findIndex(S=>S.id===c);if(p>=m.length-1)return;const _=La(m,p,m.length-1);await i(_)},updateTodoOrder:i}}function mO(e,t,n){const[a,i]=b.useState(!1),[s,r]=b.useState(null),[l,o]=b.useState(null);return{isDraggingAny:a,activeTodoId:s,overId:l,handleDragStart:m=>{const{active:p}=m;i(!0),r(p.id)},handleDragOver:m=>{const{over:p}=m;o((p==null?void 0:p.id)||null)},handleDragCancel:()=>{i(!1),r(null),o(null)},handleDragEnd:async m=>{i(!1),r(null),o(null);const{active:p,over:_}=m;if(!_||p.id===_.id)return;const S=e.find($=>$.id===p.id),y=e.find($=>$.id===_.id);if(!S||!y)return;const g=S.section_type,v=S.section_id||null,w=y.section_type,E=y.section_id||null,T=g!==w||g==="custom"&&v!==E,x=w,O=E,A=e.filter($=>!($.parent_id||$.section_type!==x||x==="custom"&&$.section_id!==O)).sort(($,ge)=>$.order_index-ge.order_index),k=A.findIndex($=>$.id===p.id),J=A.findIndex($=>$.id===_.id);let he=[...A];T?he.splice(J,0,{...S,section_type:x,section_id:O,routine_id:x==="routine"||x==="pending_routine"?S.routine_id:null}):he=La(A,k,J);let me=[...e];if(he.forEach(($,ge)=>{const N=me.findIndex(H=>H.id===$.id);N!==-1&&(me[N]={...$,order_index:ge+1})}),T){const $=me.findIndex(ge=>ge.id===p.id);$!==-1&&(me[$]={...me[$],section_type:x,section_id:O,routine_id:x==="routine"||x==="pending_routine"?me[$].routine_id:null})}t(me);try{if(T){const $={section_type:x,section_id:O};x!=="routine"&&x!=="pending_routine"&&($.routine_id=null,$.is_pending_routine=!1),await n.from("todos").update($).eq("id",p.id)}for(let $=0;$<he.length;$++)await n.from("todos").update({order_index:$+1}).eq("id",he[$].id)}catch($){console.error("  :",$.message),t(e)}}}}const gO=(e,t,n,a,i,s,r,l,o)=>{const c=hO(a,i,t),d=mO(a,i,t),[f,h]=b.useState(""),[m,p]=b.useState(""),[_,S]=b.useState(""),[y,g]=b.useState(!0),[v,w]=b.useState(!1),[E,T]=b.useState(null),[x,O]=b.useState(!1),[A,k]=b.useState(!1),[J,he]=b.useState(""),[me,$]=b.useState(null),[ge,N]=b.useState(null),[H,q]=b.useState(!1),[oe,V]=b.useState(null),Ie=b.useRef(new Set),pe=b.useRef(new Set),{deleteThisOnly:qe,deleteFromNow:B,deleteAll:W}=jb({type:"todo",supabase:t,selectedDate:n,onDeleteSuccess:(C,M)=>{const U=a.find(ne=>ne.id===C);U&&(T(U),$({id:C,deleteType:M,item:U}),O(!0),setTimeout(()=>{O(!1),T(null),$(null)},5e3)),i(ne=>ne.filter(Q=>Q.id!==C)),q(!1),V(null)}}),ce=C=>["sun","mon","tue","wed","thu","fri","sat"][C],ve=async C=>{var M;if(!Ie.current.has(C))try{Ie.current.add(C);const U=new Date(C),ne=ce(U.getDay()),{data:Q,error:be}=await t.from("routines").select("*").eq("deleted",!1);if(be)throw be;const L=Q.filter(ee=>{const ie=ee.days||[],Y=ie.length===0||ie.includes(ne);if(ee.start_date){const te=new Date(ee.start_date),X=U>=te;return Y&&X}return Y});if(L.length===0)return;for(const ee of L){const ie=ee.text,{data:Y,error:te}=await t.from("todos").select("*").eq("routine_id",ee.id).eq("deleted",!1);if(te)throw te;if(Y&&Y.length>1){console.warn(` ${ee.id}    (${Y.length}).     .`);for(let _e=1;_e<Y.length;_e++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Y[_e].id)}const X=Y&&Y.length>0?Y[0]:null;if(X){if((X.hidden_dates||[]).includes(C)||X.stop_carryover_from&&C>=X.stop_carryover_from)continue;const ye=!ee.days||ee.days.length===0,ot=X.visible_dates||[],Tt=ye?"pending_routine":"routine";if(ot.includes(C)){if(X.is_pending_routine!==ye||X.section_type!==Tt){const{error:ya}=await t.from("todos").update({is_pending_routine:ye,section_type:Tt}).eq("id",X.id);ya&&console.error(" :",ya)}continue}const Nn=[...ot,C].sort(),{error:Xt}=await t.from("todos").update({visible_dates:Nn,is_pending_routine:ye,section_type:ye?"pending_routine":"routine"}).eq("id",X.id);Xt&&console.error("    :",Xt.message)}else{const _e=!ee.days||ee.days.length===0,{error:ye}=await t.from("todos").insert([{text:ie,completed:!1,date:C,visible_dates:[C],hidden_dates:[],order_index:0,routine_id:ee.id,is_pending_routine:_e,section_type:_e?"pending_routine":"routine",user_id:(M=e==null?void 0:e.user)==null?void 0:M.id}]);ye&&console.error("   :",ye.message)}}}catch(U){console.error("   :",U.message)}finally{setTimeout(()=>{Ie.current.delete(C)},1e3)}},Ne=async()=>{var C;if(!((C=e==null?void 0:e.user)!=null&&C.id)){g(!1);return}try{g(!0);const M=je(n);await ve(M);const{data:U,error:ne}=await t.from("todos").select("*").eq("deleted",!1);if(ne)throw ne;const Q=(U||[]).filter(X=>X.routine_id),be=[...new Set(Q.map(X=>X.routine_id))];let L={};if(be.length>0){const{data:X}=await t.from("routines").select("*").in("id",be);L=(X||[]).reduce((_e,ye)=>(_e[ye.id]=ye,_e),{})}const ee=new Date(M),ie=ce(ee.getDay()),Y=(U||[]).filter(X=>{if(X.stop_carryover_from&&M>=X.stop_carryover_from||X.hidden_dates&&Array.isArray(X.hidden_dates)&&X.hidden_dates.includes(M))return!1;if(X.routine_id){const ye=L[X.routine_id];if(ye){const ot=ye.days||[];if(ot.length>0&&!ot.includes(ie))return!1}}return X.visible_dates&&Array.isArray(X.visible_dates)?X.visible_dates.includes(M):X.date===M}),te=Y.filter(X=>X.routine_id);if(te.length>0){const X=[...new Set(te.map(ye=>ye.routine_id))],{data:_e}=await t.from("routines").select("*").in("id",X);for(const ye of te){const ot=_e==null?void 0:_e.find(Xt=>Xt.id===ye.routine_id);if(!ot)continue;const Tt=!ot.days||ot.days.length===0,Nn=Tt?"pending_routine":"routine";(ye.section_type!==Nn||ye.is_pending_routine!==Tt)&&(await t.from("todos").update({section_type:Nn,is_pending_routine:Tt}).eq("id",ye.id),ye.section_type=Nn,ye.is_pending_routine=Tt)}}i(Y)}catch(M){console.error("   :",M.message)}finally{g(!1)}},Te=async()=>{var C;if(!(f.trim()===""||v))try{w(!0);const M=a.filter(L=>!L.parent_id&&L.section_type==="normal"),U=M.length>0?Math.max(...M.map(L=>L.order_index))+1:1,ne=je(n),{data:Q,error:be}=await t.from("todos").insert([{text:f,completed:!1,order_index:U,date:ne,visible_dates:[ne],hidden_dates:[],section_type:"normal",user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(be)throw be;i([...a,Q[0]]),h("")}catch(M){console.error("   :",M.message)}finally{w(!1)}},G=async()=>{var C,M;if(!(m.trim()===""||v))try{w(!0);const U=je(n),{data:ne,error:Q}=await t.from("routines").insert([{text:m,days:[],start_date:U,user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(Q)throw Q;const be=ne[0],L=a.filter(te=>!te.parent_id&&te.section_type==="pending_routine"),ee=L.length>0?Math.max(...L.map(te=>te.order_index))+1:1,{data:ie,error:Y}=await t.from("todos").insert([{text:m,completed:!1,order_index:ee,date:U,visible_dates:[U],hidden_dates:[],routine_id:be.id,is_pending_routine:!0,section_type:"pending_routine",user_id:(M=e==null?void 0:e.user)==null?void 0:M.id}]).select();if(Y)throw Y;r([be,...s]),i([...a,ie[0]]),p("")}catch(U){console.error("   :",U.message)}finally{w(!1)}},Le=async()=>{var C;if(!(_.trim()===""||v))try{w(!0);const M=a.filter(L=>!L.parent_id&&L.section_type==="normal"),U=M.length>0?Math.max(...M.map(L=>L.order_index))+1:1,ne=je(n),{data:Q,error:be}=await t.from("todos").insert([{text:_,completed:!1,order_index:U,date:ne,visible_dates:[ne],hidden_dates:[],section_type:"normal",user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(be)throw be;i([...a,Q[0]]),S("")}catch(M){console.error("   :",M.message)}finally{w(!1)}},Ke=async C=>{const M=a.find(U=>U.id===C);if(M)try{const U=!M.completed,ne=U?new Date().toISOString():null,{error:Q}=await t.from("todos").update({completed:U,completed_at:ne}).eq("id",C);if(Q)throw Q;i(a.map(be=>be.id===C?{...be,completed:U,completed_at:ne}:be))}catch(U){console.error("   :",U.message)}},St=C=>{i(a.filter(M=>M.id!==C))},Ve=async(C,M)=>{const U=a.find(ne=>ne.id===C);U&&(M?M==="this-only"?await qe(U):M==="from-now"?await B(U):M==="all"&&await W(U):(V(U),q(!0)))},xt=async()=>{if(!(!E||!me))try{const{deleteType:C}=me,M=je(n);if(C==="this-only"){const U=(E.hidden_dates||[]).filter(Q=>Q!==M),{error:ne}=await t.from("todos").update({hidden_dates:U}).eq("id",E.id);if(ne)throw ne}else if(C==="from-now"){const{error:U}=await t.from("todos").update({visible_dates:E.visible_dates,stop_carryover_from:null}).eq("id",E.id);if(U)throw U}else if(C==="all"){const{error:U}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",E.id);if(U)throw U}i(U=>{const ne={...E};return[...U,ne].sort((be,L)=>be.order_index-L.order_index)}),O(!1),T(null),$(null)}catch(C){console.error("  :",C.message)}},Et=async(C,M)=>{var U,ne;try{let Q=null;pe.current.add(C);const be=new Date().toISOString();if(i(ie=>(Q=ie.find(Y=>Y.id===C),!Q||Q.text===M?(pe.current.delete(C),ie):ie.map(Y=>Y.id===C?{...Y,text:M,updated_at:be}:Y))),!Q||Q.text===M)return;const{error:L}=await t.from("todo_history").insert([{todo_id:C,previous_text:Q.text,new_text:M,changed_on_date:Q.date,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]);if(L&&console.error("  :",L.message),Q.original_todo_id){const{data:ie,error:Y}=await t.from("todos").select("text, date").eq("id",Q.original_todo_id).single();!Y&&ie&&await t.from("todo_history").insert([{todo_id:Q.original_todo_id,previous_text:Q.text,new_text:M,changed_on_date:Q.date,user_id:(ne=e==null?void 0:e.user)==null?void 0:ne.id}])}const{error:ee}=await t.from("todos").update({text:M}).eq("id",C);ee?(console.error("   :",ee.message),i(ie=>ie.map(Y=>Y.id===C?Q:Y)),pe.current.delete(C)):setTimeout(()=>{pe.current.delete(C)},5e3)}catch(Q){console.error("   :",Q.message),pe.current.delete(C)}},K=async(C,M)=>{var U;if(!(!M||M.trim()===""))try{const Q=a.filter(ie=>ie.parent_id===C).length+1,be=je(n),{data:L,error:ee}=await t.from("todos").insert([{text:M.trim(),completed:!1,order_index:Q,date:be,parent_id:C,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(ee)throw ee;i([...a,L[0]])}catch(ne){console.error("    :",ne.message)}};return{inputValue:f,setInputValue:h,routineInputValue:m,setRoutineInputValue:p,normalInputValue:_,setNormalInputValue:S,loading:y,isAdding:v,deletedTodo:E,showUndoToast:x,showSuccessToast:A,successToastMessage:J,lastDeleteAction:me,focusedTodoId:ge,setFocusedTodoId:N,selectedTodoForModal:l,showDeleteConfirmModal:H,setShowDeleteConfirmModal:q,todoToDelete:oe,setTodoToDelete:V,isDraggingAny:d.isDraggingAny,activeTodoId:d.activeTodoId,overId:d.overId,fetchTodos:Ne,handleAddTodo:Te,handleAddRoutineTodo:G,handleAddNormalTodo:Le,handleToggleTodo:Ke,handleDeleteTodo:Ve,deleteThisOnly:qe,deleteFromNow:B,deleteAll:W,handleUndoDelete:xt,handleEditTodo:Et,handleAddSubTodo:K,handleRemoveTodoFromUI:St,handleDragStart:d.handleDragStart,handleDragOver:d.handleDragOver,handleDragCancel:d.handleDragCancel,handleDragEnd:d.handleDragEnd,handleMoveUp:c.handleMoveUp,handleMoveDown:c.handleMoveDown,handleMoveToTop:c.handleMoveToTop,handleMoveToBottom:c.handleMoveToBottom}},vO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,s]=b.useState(!1),[r,l]=b.useState({}),[o,c]=b.useState([]);return{showTodoHistoryModal:i,todoHistory:r,expandedHistoryIds:o,handleOpenTodoHistoryModal:async m=>{a(m);try{const{data:p,error:_}=await t.from("todo_history").select("*").eq("todo_id",m.id).order("changed_at",{ascending:!1});if(_)throw _;l(S=>({...S,[m.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}s(!0)},handleCloseTodoHistoryModal:()=>{s(!1),a(null),c([])},toggleHistoryDetail:m=>{c(p=>p.includes(m)?p.filter(_=>_!==m):[...p,m])}}},yO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=b.useState(!1),[s,r]=b.useState([]),[l,o]=b.useState(!1),[c,d]=b.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:s,setRoutineDaysForModal:r,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:c,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:m=>{t(m);const p=n.find(_=>_.id===m.routine_id);p?(r(p.days||[]),d(p.time_slot||""),o(!1)):(r([]),d(""),o(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),r([]),d(""),o(!1)}}},pO=({session:e,supabase:t,selectedDate:n})=>{const a=b.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async r=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const c=l.filter(d=>(d.hidden_dates||[]).includes(r)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(r)?!1:d.visible_dates.some(m=>m<r):!!(d.date&&d.date<r));if(c.length===0)return;for(const d of c){let f=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?f=[...d.visible_dates,r]:f=d.date?[d.date,r]:[r];const{error:h}=await t.from("todos").update({visible_dates:f}).eq("id",d.id);h&&console.error(` ${d.id}  :`,h.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const r=new Date,l=je(r),{data:o,error:c}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(c)throw c;if(!o||o.length===0)return;const d=new Date(o[0].date+"T00:00:00");let f=new Date(d);const h=new Date(r);h.setDate(h.getDate()-1);let m=0;for(;f<=h;){const p=je(f),_=new Date(f);_.setDate(_.getDate()+1);const S=je(_),{data:y,error:g}=await t.from("todos").select("*").eq("date",p).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(y&&y.length>0){const{data:v,error:w}=await t.from("todos").select("*").eq("date",S).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const E=new Set;v==null||v.forEach(x=>{x.original_todo_id!==null&&E.add(x.original_todo_id)});const T=y.filter(x=>{if(x.stop_carryover_from&&p>=x.stop_carryover_from)return!1;const O=x.original_todo_id||x.id;return!E.has(O)});if(T.length>0){const x=T.map(ge=>ge.original_todo_id||ge.id).filter((ge,N,H)=>H.indexOf(ge)===N),{data:O,error:A}=await t.from("todos").select("id, created_at").in("id",x);if(A)throw A;const k={};O==null||O.forEach(ge=>{k[ge.id]=ge.created_at});const he=(v?v.length:0)+1,me=T.map((ge,N)=>{const H=ge.original_todo_id||ge.id;return{text:ge.text,completed:!1,date:S,created_at:k[H]||ge.created_at,order_index:he+N,original_todo_id:H,parent_id:null,routine_id:null}}),{error:$}=await t.from("todos").insert(me);if($)throw $;m+=T.length}}f.setDate(f.getDate()+1)}m>0}catch(r){console.error("    :",r.message)}finally{a.current=!1}}}};function bO(e,t){const[n,a]=b.useState([]),[i,s]=b.useState(!1),[r,l]=b.useState(""),[o,c]=b.useState(null),[d,f]=b.useState(""),[h,m]=b.useState(!1),[p,_]=b.useState(""),S=()=>{if(n.length===0)return"";const T=Math.floor(Math.random()*n.length);return n[T]},y=()=>{let T=0;m(!0),setTimeout(()=>{let x=S();for(;x===p&&n.length>1&&T<10;)x=S(),T++;m(!1),_(x)},300)},g=async()=>{try{const{data:T,error:x}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(x)throw x;if(T&&T.length>0){const O=T.map(A=>A.message);a(O),p||_(O[0])}}catch(T){console.error("   :",T.message)}},v=async T=>{var x;try{const{data:O}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),A=O&&O.length>0?O[0].order_index:0,{error:k}=await t.from("encouragement_messages").insert([{message:T,order_index:A+1,user_id:(x=e==null?void 0:e.user)==null?void 0:x.id}]);if(k)throw k;await g()}catch(O){console.error("   :",O.message),alert("   .")}},w=async(T,x)=>{try{const{data:O}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!O||T>=O.length)throw new Error("   .");const A=O[T],{error:k}=await t.from("encouragement_messages").update({message:x}).eq("id",A.id);if(k)throw k;await g()}catch(O){console.error("   :",O.message),alert("   .")}},E=async T=>{try{const{data:x}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!x||T>=x.length)throw new Error("   .");const O=x[T],{error:A}=await t.from("encouragement_messages").delete().eq("id",O.id);if(A)throw A;await g()}catch(x){console.error("   :",x.message),alert("   .")}};return b.useEffect(()=>{n.length>0&&!p&&_(S())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:s,newEncouragementMessage:r,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:c,editingEncouragementText:d,setEditingEncouragementText:f,showEncouragementEmoji:h,currentEncouragementMessage:p,handleEncouragementClick:y,fetchEncouragementMessages:g,addEncouragementMessage:v,updateEncouragementMessage:w,deleteEncouragementMessage:E}}function _O(e){const[t,n]=b.useState(!1),[a,i]=b.useState([]),[s,r]=b.useState("1week"),l=async()=>{try{const d=new Date,f=je(d);let h=null;if(s!=="all")switch(h=new Date(d),s){case"1week":h.setDate(d.getDate()-7);break;case"2weeks":h.setDate(d.getDate()-14);break;case"1month":h.setMonth(d.getMonth()-1);break;case"3months":h.setMonth(d.getMonth()-3);break;case"6months":h.setMonth(d.getMonth()-6);break}let m=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});h&&(m=m.gte("date",je(h)));const{data:p,error:_}=await m;if(_)throw _;const S={};for(const g of p||[]){const v=g.original_todo_id||g.id;S[v]||(S[v]=[]),S[v].push(g)}const y=Object.entries(S).map(([g,v])=>{const w=v.sort((A,k)=>new Date(A.date)-new Date(k.date)),E=w[0],T=w.map(A=>A.date);let x=null;for(const A of w)if(A.completed&&A.completed_at){const k=new Date(A.completed_at);x=je(k);break}const O=w.find(A=>A.date===f);return{text:E.text,originalId:parseInt(g),createdAt:E.created_at,startDate:T[0],endDate:T[T.length-1],dates:T,completed:(O==null?void 0:O.completed)||!1,completedDate:x}}).sort((g,v)=>new Date(g.createdAt)-new Date(v.createdAt));i(y)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:s,setGanttPeriod:r,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function wO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=Hj(),[i,s]=b.useState(new Date),[r,l]=b.useState(!1),o=b.useRef(new Set),c=r1(Tu(sh),Tu(mb),Tu(ah,{coordinateGetter:zj})),[d,f]=b.useState([]),[h,m]=b.useState(null),{showTodoHistoryModal:p,todoHistory:_,expandedHistoryIds:S,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:g,toggleHistoryDetail:v}=vO({session:e,supabase:Ue,selectedTodoForModal:h,setSelectedTodoForModal:m}),{showRoutineModal:w,routines:E,setRoutines:T,routineInput:x,setRoutineInput:O,selectedDays:A,selectedTimeSlot:k,setSelectedTimeSlot:J,isAddingRoutine:he,editingRoutineId:me,editingRoutineText:$,setEditingRoutineText:ge,showRoutineHistory:N,selectedRoutineForHistory:H,routineHistoryData:q,editingRoutineDays:oe,showDeleteConfirmModal:V,setShowDeleteConfirmModal:Ie,routineToDelete:pe,fetchRoutines:qe,handleAddRoutine:B,handleCreateRoutineFromTodo:W,handleStartEditRoutine:ce,handleCancelEditRoutine:ve,handleSaveEditRoutine:Ne,handleToggleEditDay:Te,handleDeleteRoutine:G,deleteThisOnly:Le,deleteFromNow:Ke,deleteAll:St,fetchRoutineHistory:Ve,handleCloseRoutineHistory:xt,handleOpenRoutine:Et,handleCloseRoutine:K,handleToggleDay:C,createRoutineTodos:M}=fO({session:e,supabase:Ue,selectedDate:i,setTodos:f,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:U,routineDaysForModal:ne,setRoutineDaysForModal:Q,isEditingRoutineInModal:be,setIsEditingRoutineInModal:L,routineTimeSlotForModal:ee,setRoutineTimeSlotForModal:ie,handleOpenTodoRoutineSetupModal:Y,handleCloseTodoRoutineSetupModal:te}=yO({selectedTodoForModal:h,setSelectedTodoForModal:m,routines:E}),{carryOverIncompleteTodos:X}=pO({session:e,supabase:Ue,selectedDate:i}),{routineInputValue:_e,setRoutineInputValue:ye,normalInputValue:ot,setNormalInputValue:Tt,loading:Nn,isDraggingAny:Xt,isAdding:va,showUndoToast:ya,showSuccessToast:Ni,successToastMessage:Ks,lastDeleteAction:Xs,focusedTodoId:pa,setFocusedTodoId:ct,showDeleteConfirmModal:Ct,setShowDeleteConfirmModal:Nt,todoToDelete:yn,activeTodoId:it,overId:ut,fetchTodos:Qt,handleAddRoutineTodo:$n,handleAddNormalTodo:st,handleToggleTodo:Ht,handleDeleteTodo:Rt,handleAddSubTodo:Bt,handleEditTodo:pn,handleDragStart:Qn,handleDragOver:bn,handleDragCancel:ei,handleDragEnd:Qs,handleUndoDelete:oh,deleteThisOnly:Ob,deleteFromNow:Ab,deleteAll:Db,handleRemoveTodoFromUI:fl,handleMoveUp:hl,handleMoveDown:ml,handleMoveToTop:gl,handleMoveToBottom:vl}=gO(e,Ue,i,d,f,E,T,h),yl=j=>{ct(j)},pl=j=>{},Cb=()=>{oh()},{showGanttChart:ch,ganttData:Nb,ganttPeriod:uh,setGanttPeriod:Rb,handleOpenGanttChart:Mb,handleCloseGanttChart:kb,fetchGanttData:Ub}=_O(Ue),[zb,dh]=b.useState(!1),{memoContent:Lb,setMemoContent:Bb,isSavingMemo:Hb,fetchMemoContent:qb}=uO(e),{encouragementMessages:$b,showEncouragementModal:Vb,setShowEncouragementModal:fh,newEncouragementMessage:Yb,setNewEncouragementMessage:Gb,editingEncouragementId:Ib,setEditingEncouragementId:Kb,editingEncouragementText:Xb,setEditingEncouragementText:Qb,showEncouragementEmoji:Jb,currentEncouragementMessage:Zb,handleEncouragementClick:Pb,fetchEncouragementMessages:Fb,addEncouragementMessage:Wb,updateEncouragementMessage:e_,deleteEncouragementMessage:t_}=bO(e,Ue),n_=async j=>{var z,F;try{const Z=je(i),R=d.filter(Se=>!Se.parent_id&&Se.section_type==="normal"),ae=R.length>0?Math.max(...R.map(Se=>Se.order_index))+1:1,Pe=`temp_${Date.now()}_${Math.random()}`,we={id:Pe,text:j,completed:!1,order_index:ae,date:Z,visible_dates:[Z],hidden_dates:[],section_type:"normal",user_id:(z=e==null?void 0:e.user)==null?void 0:z.id,_isOptimistic:!0};if(f(Se=>[...Se,we]),(F=e==null?void 0:e.user)!=null&&F.id&&Ue){const{data:Se,error:Fe}=await Ue.from("todos").insert([{text:j,completed:!1,order_index:ae,date:Z,visible_dates:[Z],hidden_dates:[],section_type:"normal",user_id:e.user.id}]).select();if(Fe)throw Fe;f(qt=>qt.map(Ce=>Ce.id===Pe?Se[0]:Ce))}else{const Se=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");Se.push({text:j,dateStr:Z,timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(Se))}}catch(Z){console.error("Quick add error:",Z);const R=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");R.push({text:j,dateStr:je(i),timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(R))}},[ba,a_]=b.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Tc,hh]=b.useState({normal:"  ",routine:"  "}),[Ri,bl]=b.useState([]),[i_,mh]=b.useState(!1),[gh,vh]=b.useState(!1),[yh,ph]=b.useState({}),s_=cO(e),{sectionOrder:Mi,setSectionOrder:bh,fetchSectionOrder:r_,saveSectionOrder:_h,moveSectionLeft:jc,moveSectionRight:Oc}=s_,ki=b.useRef(null),[l_,o_]=b.useState(0),Ac=b.useRef(null),[Ui,Dc]=b.useState([]),[c_,wh]=b.useState(!1),Sh=async j=>{var z;(z=e==null?void 0:e.user)!=null&&z.id&&await Ta.set(ja.HIDDEN_SECTIONS,j,e.user.id)},u_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const j=await Ta.get(ja.HIDDEN_SECTIONS);j&&Dc(j)},Cc=j=>{const z=[...Ui,j];Dc(z),Sh(z)},d_=j=>{const z=Ui.filter(F=>F!==j);Dc(z),Sh(z)},f_=()=>{const j=new Date(i);j.setDate(j.getDate()-1),s(j)},h_=()=>{const j=new Date(i);j.setDate(j.getDate()+1),s(j)},m_=j=>{const z=new Date(j.target.value+"T00:00:00");s(z)},g_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const j=await Ta.get(ja.SECTION_TITLES);j&&hh(F=>({...F,...j}))},v_=async(j,z)=>{var Z;if(!((Z=e==null?void 0:e.user)!=null&&Z.id))return;const F={...Tc,[j]:z};hh(F),await Ta.set(ja.SECTION_TITLES,F,e.user.id)},y_=async()=>{var z;if(!((z=e==null?void 0:e.user)!=null&&z.id))return;const j=await Ta.get(ja.CUSTOM_SECTIONS);j&&bl(j)},Nc=async j=>{var z;(z=e==null?void 0:e.user)!=null&&z.id&&await Ta.set(ja.CUSTOM_SECTIONS,j,e.user.id)},p_=({name:j,icon:z})=>{const F={id:`custom-${Date.now()}`,name:j,icon:z},Z=[...Ri,F];bl(Z),Nc(Z);const R=[...Mi,F.id];bh(R),_h(R)},b_=async j=>{const z=yh[j]||"";if(!(!z.trim()||gh)){if(!e){alert(" ");return}vh(!0);try{const F=d.filter(Se=>!Se.parent_id&&Se.section_type==="custom"&&Se.section_id===j),Z=F.length>0?Math.max(...F.map(Se=>Se.order_index))+1:1,R=je(i),ae={text:z.trim(),completed:!1,order_index:Z,date:R,visible_dates:[R],hidden_dates:[],user_id:e.user.id,section_id:j,section_type:"custom"},{data:Pe,error:we}=await Ue.from("todos").insert([ae]).select();if(we)throw we;Pe&&Pe.length>0&&(f(Se=>[...Se,Pe[0]]),ph(Se=>({...Se,[j]:""})))}catch(F){console.error("  :",F.message)}finally{vh(!1)}}},__=async j=>{if(!confirm("  ?      ."))return;try{const{error:Z}=await Ue.from("todos").delete().eq("section_id",j);if(Z){console.error("   :",Z.message);return}}catch(Z){console.error("   :",Z.message);return}const z=Ri.filter(Z=>Z.id!==j);bl(z),Nc(z);const F=Mi.filter(Z=>Z!==j);bh(F),_h(F),f(Z=>Z.filter(R=>R.section_id!==j))},w_=async(j,z)=>{try{const F=je(j),Z=je(z),{data:R,error:ae}=await Ue.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(ae)throw ae;const Pe=(R||[]).filter(we=>we.stop_carryover_from&&F>=we.stop_carryover_from?!1:we.visible_dates&&Array.isArray(we.visible_dates)&&we.visible_dates.length>0?we.visible_dates.includes(F):we.date===F);if(Pe.length===0)return;for(const we of Pe){let Se=we.visible_dates||[we.date];if(Se.includes(Z))continue;const Fe=[...Se,Z].sort(),{error:qt}=await Ue.from("todos").update({visible_dates:Fe}).eq("id",we.id);qt&&console.error(` ${we.id}  :`,qt.message)}}catch(F){console.error("   :",F.message)}};b.useEffect(()=>{let j=null;const z=()=>{document.body.classList.add("is-scrolling"),j&&clearTimeout(j),j=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",z),()=>{window.removeEventListener("scroll",z),j&&clearTimeout(j)}},[]),b.useEffect(()=>{e&&(Fb(),qb(),qe(),r_(),g_(),y_(),u_())},[e]),b.useEffect(()=>{if(!ki.current)return;const j=ki.current,z=ba==="horizontal";let F=!1,Z=0,R=0,ae=0;const Pe=ue=>ue.type.includes("touch")?z?ue.touches[0].pageX:ue.touches[0].pageY:z?ue.pageX:ue.pageY,we=ue=>{ue.target.closest(".section-block")||(F=!0,Z=Pe(ue),R=z?j.scrollLeft:j.scrollTop,j.style.transition="none",j.style.transform=z?"translateX(0)":"translateY(0)",ae=0)},Se=()=>{F&&ae!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=z?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",ae=0},300)),F=!1},Fe=()=>{ae!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=z?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",ae=0},300)),F=!1},qt=ue=>{if(!F)return;ue.preventDefault();const le=(Pe(ue)-Z)*1.5,yt=R-le,dt=z?j.scrollWidth-j.clientWidth:j.scrollHeight-j.clientHeight;if(yt<0){const an=-yt;ae=Math.min(an*.3,100),z?(j.scrollLeft=0,j.style.transform=`translateX(${ae}px)`):(j.scrollTop=0,j.style.transform=`translateY(${ae}px)`)}else if(yt>dt){const an=yt-dt;ae=-Math.min(an*.3,100),z?(j.scrollLeft=dt,j.style.transform=`translateX(${ae}px)`):(j.scrollTop=dt,j.style.transform=`translateY(${ae}px)`)}else ae=0,j.style.transform=z?"translateX(0)":"translateY(0)",z?j.scrollLeft=yt:j.scrollTop=yt},Ce=ue=>{z&&ue.target.closest(".section-block")&&ue.deltaX!==0&&ue.preventDefault()};return j.addEventListener("mousedown",we),document.addEventListener("mouseup",Fe),document.addEventListener("mouseleave",Se),j.addEventListener("mousemove",qt),j.addEventListener("touchstart",we,{passive:!0}),j.addEventListener("touchmove",qt,{passive:!1}),j.addEventListener("touchend",Fe),j.addEventListener("touchcancel",Fe),j.addEventListener("wheel",Ce,{passive:!1}),()=>{j.removeEventListener("mousedown",we),document.removeEventListener("mouseup",Fe),document.removeEventListener("mouseleave",Se),j.removeEventListener("mousemove",qt),j.removeEventListener("touchstart",we),j.removeEventListener("touchmove",qt),j.removeEventListener("touchend",Fe),j.removeEventListener("touchcancel",Fe),j.removeEventListener("wheel",Ce)}},[ba,d,E]),b.useEffect(()=>{if(ba!=="horizontal"||!ki.current)return;const j=ki.current,z=()=>{const F=j.querySelectorAll(".section-block");if(F.length===0)return;const Z=j.getBoundingClientRect(),R=Z.left+Z.width/2;let ae=0,Pe=1/0;F.forEach((we,Se)=>{const Fe=we.getBoundingClientRect(),qt=Fe.left+Fe.width/2,Ce=Math.abs(qt-R);Ce<Pe&&(Pe=Ce,ae=Se)}),o_(ae)};return j.addEventListener("scroll",z),z(),()=>j.removeEventListener("scroll",z)},[ba,d,E]),b.useEffect(()=>{if(!Ac.current)return;const j=Ac.current;let z=!1,F=0,Z=0,R=0;const ae=Fe=>{Fe.target.closest(".section-block")||(z=!0,F=Fe.pageY,Z=j.scrollTop,j.style.transition="none",j.style.transform="translateY(0)",R=0)},Pe=()=>{z&&R!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",R=0},300)),z=!1},we=()=>{R!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",R=0},300)),z=!1},Se=Fe=>{if(!z)return;Fe.preventDefault();const Ce=(Fe.pageY-F)*1.5,ue=Z-Ce,Jt=j.scrollHeight-j.clientHeight;if(ue<0){const le=-ue;R=Math.min(le*.3,100),j.scrollTop=0,j.style.transform=`translateY(${R}px)`}else if(ue>Jt){const le=ue-Jt;R=-Math.min(le*.3,100),j.scrollTop=Jt,j.style.transform=`translateY(${R}px)`}else R=0,j.style.transform="translateY(0)",j.scrollTop=ue};return j.addEventListener("mousedown",ae),document.addEventListener("mouseup",we),document.addEventListener("mouseleave",Pe),j.addEventListener("mousemove",Se),()=>{j.removeEventListener("mousedown",ae),document.removeEventListener("mouseup",we),document.removeEventListener("mouseleave",Pe),j.removeEventListener("mousemove",Se)}},[d,E]),b.useEffect(()=>{ch&&Ub()},[uh]),b.useEffect(()=>{const j=async()=>{const F=new Date,Z=new Date(F);Z.setHours(24,0,0,0);const R=Z.getTime()-F.getTime();return setTimeout(async()=>{const Pe=new Date(F),we=new Date(F);we.setDate(we.getDate()+1),await w_(Pe,we),await M(),s(new Date),j()},R)},z=j();return()=>clearTimeout(z)},[]),b.useEffect(()=>{(async()=>{var we;const Z=je(i),ae=je(new Date);Z===ae&&((we=e==null?void 0:e.user)!=null&&we.id)&&await X(Z),await Qt()})();const z=je(i),F=Ue.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${z}`},Z=>{Z.eventType==="INSERT"?f(R=>R.some(ae=>ae.id===Z.new.id)?R:[...R,Z.new]):Z.eventType==="UPDATE"?f(R=>o.current.has(Z.new.id)?R:R.map(ae=>ae.id===Z.new.id?Z.new:ae)):Z.eventType==="DELETE"&&f(R=>R.filter(ae=>ae.id!==Z.old.id))}).subscribe(Z=>{});return()=>{Ue.removeChannel(F)}},[i,e]),b.useEffect(()=>{if(Xt){const j=window.scrollY,z=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${j}px`,document.body.style.left="0",document.body.style.right="0",z>0&&(document.body.style.paddingRight=`${z}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,j)}}},[Xt]);const xh=oO({authLoading:t,session:e,handleGoogleLogin:n});return xh||u.jsxs("div",{className:`app ${Xt?"dragging-active":""}`,children:[u.jsx(qj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:ba,setViewMode:a_,onOpenRoutine:Et,onOpenGanttChart:Mb,onOpenEncouragementModal:()=>fh(!0),onOpenAddSection:()=>mh(!0),onOpenHiddenSections:()=>wh(!0),onLogout:a}),u.jsxs("div",{className:`container ${ba==="horizontal"?"container-wide":""}`,children:[u.jsx(Vj,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:m_,onPrevDay:f_,onNextDay:h_,showEncouragementEmoji:Jb,currentEncouragementMessage:Zb,onEncouragementClick:Pb,setSelectedDate:s,onQuickAdd:n_,onOpenMemo:()=>dh(!0)}),u.jsxs("div",{className:"content-scrollable",ref:Ac,children:[u.jsxs(aj,{sensors:c,collisionDetection:c1,onDragStart:Qn,onDragOver:bn,onDragEnd:Qs,onDragCancel:ei,measuring:{droppable:{strategy:Cs.Always}},children:[u.jsx("div",{ref:ki,className:`sections-container ${ba==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:u.jsx("div",{className:"todo-list",children:Nn?u.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const j=d.filter(R=>!R.parent_id&&R.section_type==="routine").sort((R,ae)=>R.order_index-ae.order_index),z=d.filter(R=>!R.parent_id&&R.section_type==="pending_routine").sort((R,ae)=>R.order_index-ae.order_index),F=d.filter(R=>!R.parent_id&&R.section_type==="normal").sort((R,ae)=>R.order_index-ae.order_index),Z=[...j.map(R=>R.id),...z.map(R=>R.id),...F.map(R=>R.id),...Ri.flatMap(R=>d.filter(ae=>!ae.parent_id&&ae.section_type==="custom"&&ae.section_id===R.id).map(ae=>ae.id))];return u.jsx(ar,{items:Z,strategy:nr,children:Mi.filter(R=>!Ui.includes(R)).map((R,ae)=>{const Pe=Mi.filter(Ce=>!Ui.includes(Ce)),we=Pe.indexOf(R),Se=we===0,Fe=we===Pe.length-1,qt=[...Se?[]:[{icon:"",label:" ",onClick:()=>jc(R)}],...Fe?[]:[{icon:"",label:" ",onClick:()=>Oc(R)}],{icon:"",label:"",onClick:()=>Cc(R)}];if(R==="routine")return u.jsx("div",{children:u.jsxs(Du,{title:" ",className:"routine-section section-block",inputValue:_e,setInputValue:ye,onAddTodo:$n,isAdding:va,placeholder:"   ...",settingsMenuItems:qt,children:[j.length>0&&u.jsx(ar,{items:j.map(Ce=>Ce.id),strategy:nr,children:j.map((Ce,ue)=>{const Jt=d.filter(le=>le.parent_id===Ce.id);return u.jsx(Ji,{todo:Ce,index:ue,onToggle:Ht,onDelete:Rt,onEdit:pn,formatDate:Yi,formatDateOnly:ci,isFocused:pa===Ce.id,onFocus:yl,onAddSubTodo:Bt,subtodos:Jt,level:0,onCreateRoutine:W,routines:E,onShowRoutineHistory:Ve,onOpenRoutineSetupModal:Y,onOpenHistoryModal:y,currentPageDate:je(i),onRemoveFromUI:fl,showSuccessMessage:pl,activeId:it,overId:ut,onMoveUp:le=>hl(le,"routine",null),onMoveDown:le=>ml(le,"routine",null),onMoveToTop:le=>gl(le,"routine",null),onMoveToBottom:le=>vl(le,"routine",null),isFirst:ue===0,isLast:ue===j.length-1},Ce.id)})}),j.length>0&&z.length>0&&u.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:u.jsx("div",{className:"separator-line"})}),z.length>0&&u.jsx(ar,{items:z.map(Ce=>Ce.id),strategy:nr,children:z.map((Ce,ue)=>{const Jt=d.filter(le=>le.parent_id===Ce.id);return u.jsx(Ji,{todo:Ce,index:ue,onToggle:Ht,onDelete:Rt,onEdit:pn,formatDate:Yi,formatDateOnly:ci,isFocused:pa===Ce.id,onFocus:yl,onAddSubTodo:Bt,subtodos:Jt,level:0,onCreateRoutine:W,routines:E,onShowRoutineHistory:Ve,onOpenRoutineSetupModal:Y,onOpenHistoryModal:y,currentPageDate:je(i),isPendingRoutine:!0,onRemoveFromUI:fl,showSuccessMessage:pl,activeId:it,overId:ut,onMoveUp:le=>hl(le,"pending_routine",null),onMoveDown:le=>ml(le,"pending_routine",null),onMoveToTop:le=>gl(le,"pending_routine",null),onMoveToBottom:le=>vl(le,"pending_routine",null),isFirst:ue===0,isLast:ue===z.length-1},Ce.id)})})]})},"routine");if(R==="normal"){const Ce=[...Se?[]:[{icon:"",label:" ",onClick:()=>jc(R)}],...Fe?[]:[{icon:"",label:" ",onClick:()=>Oc(R)}],{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&Cc("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return u.jsx("div",{children:u.jsx(Du,{title:Tc.normal,className:"normal-section section-block",inputValue:ot,setInputValue:Tt,onAddTodo:st,isAdding:va,placeholder:"   ...",editable:!0,onTitleChange:ue=>v_("normal",ue),settingsMenuItems:Ce,children:F.length>0&&u.jsx(ar,{items:F.map(ue=>ue.id),strategy:nr,children:F.map((ue,Jt)=>{const le=d.filter(dt=>dt.parent_id===ue.id),yt=je(i);return u.jsx(Ji,{todo:ue,index:Jt,onToggle:Ht,onDelete:Rt,onEdit:pn,formatDate:Yi,formatDateOnly:ci,isFocused:pa===ue.id,onFocus:yl,onAddSubTodo:Bt,subtodos:le,level:0,onCreateRoutine:W,routines:E,onShowRoutineHistory:Ve,onOpenRoutineSetupModal:Y,onOpenHistoryModal:y,currentPageDate:yt,onRemoveFromUI:fl,showSuccessMessage:pl,activeId:it,overId:ut,onMoveUp:dt=>hl(dt,"normal",null),onMoveDown:dt=>ml(dt,"normal",null),onMoveToTop:dt=>gl(dt,"normal",null),onMoveToBottom:dt=>vl(dt,"normal",null),isFirst:Jt===0,isLast:Jt===F.length-1},ue.id)})})})},"normal")}else{const Ce=Ri.find(le=>le.id===R);if(!Ce)return null;const ue=d.filter(le=>!le.parent_id&&le.section_type==="custom"&&le.section_id===R).sort((le,yt)=>le.order_index-yt.order_index),Jt=[...Se?[]:[{icon:"",label:" ",onClick:()=>jc(R)}],...Fe?[]:[{icon:"",label:" ",onClick:()=>Oc(R)}],{icon:"",label:"",onClick:()=>Cc(R)},{icon:"",label:"",onClick:()=>__(R)}];return u.jsx("div",{children:u.jsx(Du,{title:`${Ce.icon} ${Ce.name}`,className:"custom-section section-block",inputValue:yh[R]||"",setInputValue:le=>ph(yt=>({...yt,[R]:le})),onAddTodo:()=>b_(R),isAdding:gh,placeholder:`${Ce.name}   ...`,editable:!0,onTitleChange:le=>{const yt=Ri.map(dt=>dt.id===R?{...dt,name:le}:dt);bl(yt),Nc(yt)},settingsMenuItems:Jt,children:ue.length>0&&u.jsx(ar,{items:ue.map(le=>le.id),strategy:nr,children:ue.map((le,yt)=>{const dt=d.filter(an=>an.parent_id===le.id);return u.jsx(Ji,{todo:le,index:yt,onToggle:Ht,onDelete:Rt,onEdit:pn,formatDate:Yi,formatDateOnly:ci,isFocused:pa===le.id,onFocus:yl,onAddSubTodo:Bt,subtodos:dt,level:0,onCreateRoutine:W,routines:E,onShowRoutineHistory:Ve,onOpenRoutineSetupModal:Y,onOpenHistoryModal:y,currentPageDate:je(i),onRemoveFromUI:fl,showSuccessMessage:pl,activeId:it,overId:ut,onMoveUp:an=>hl(an,"custom",R),onMoveDown:an=>ml(an,"custom",R),onMoveToTop:an=>gl(an,"custom",R),onMoveToBottom:an=>vl(an,"custom",R),isFirst:yt===0,isLast:yt===ue.length-1},le.id)})})})},R)}})})})()})}),u.jsx(Sj,{children:it?(()=>{const j=d.find(F=>F.id===it);if(!j)return null;const z=d.filter(F=>F.parent_id===j.id);return u.jsx("div",{className:"drag-overlay-todo",children:u.jsx(Ji,{todo:j,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:Yi,formatDateOnly:ci,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:z,level:0,onCreateRoutine:()=>{},routines:E,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:je(i),onRemoveFromUI:()=>{},showSuccessMessage:()=>{},hideNumber:!0})})})():null})]}),u.jsx(Yj,{viewMode:ba,currentSectionIndex:l_,sectionsContainerRef:ki,visibleSectionCount:Mi.filter(j=>!Ui.includes(j)).length})]}),u.jsx(lO,{showUndoToast:ya,showSuccessToast:Ni,successToastMessage:Ks,lastDeleteAction:Xs,handleUndoDelete:oh,handleUndoRoutineDelete:Cb,showDeleteConfirmModal:Ct,todoToDelete:yn,setShowDeleteConfirmModal:Nt,deleteThisOnly:Ob,deleteFromNow:Ab,deleteAll:Db,showRoutineDeleteModal:V,routineToDelete:pe,setShowRoutineDeleteModal:Ie,deleteRoutineThisOnly:Le,deleteRoutineFromNow:Ke,deleteRoutineAll:St,showTodoHistoryModal:p,selectedTodoForModal:h,todoHistory:_,expandedHistoryIds:S,toggleHistoryDetail:v,handleCloseTodoHistoryModal:g,formatDate:Yi,formatDateOnly:ci,showTodoRoutineSetupModal:U,routines:E,routineDaysForModal:ne,isEditingRoutineInModal:be,routineTimeSlotForModal:ee,handleToggleRoutineDayInModal,setRoutineTimeSlotForModal:ie,setRoutineDaysForModal:Q,setIsEditingRoutineInModal:L,handleCreateRoutineFromTodo:W,handleCloseTodoRoutineSetupModal:te,showRoutineModal:w,handleCloseRoutine:K,routineInput:x,setRoutineInput:O,isAddingRoutine:he,selectedDays:A,handleToggleDay:C,selectedTimeSlot:k,setSelectedTimeSlot:J,handleAddRoutine:B,editingRoutineId:me,editingRoutineText:$,setEditingRoutineText:ge,editingRoutineDays:oe,handleToggleEditDay:Te,handleStartEditRoutine:ce,handleSaveEditRoutine:Ne,handleCancelEditRoutine:ve,handleDeleteRoutine:G,fetchRoutineHistory:Ve,showRoutineHistory:N,handleCloseRoutineHistory:xt,selectedRoutineForHistory:H,routineHistoryData:q,showMemoModal:zb,setShowMemoModal:dh,memoContent:Lb,setMemoContent:Bb,isSavingMemo:Hb,showGanttChart:ch,handleCloseGanttChart:kb,ganttData:Nb,ganttPeriod:uh,setGanttPeriod:Rb,showEncouragementModal:Vb,setShowEncouragementModal:fh,encouragementMessages:$b,newEncouragementMessage:Yb,setNewEncouragementMessage:Gb,addEncouragementMessage:Wb,editingEncouragementId:Ib,editingEncouragementText:Xb,setEditingEncouragementId:Kb,setEditingEncouragementText:Qb,updateEncouragementMessage:e_,deleteEncouragementMessage:t_,showAddSectionModal:i_,setShowAddSectionModal:mh,handleAddSection:p_,showHiddenSectionsModal:c_,setShowHiddenSectionsModal:wh,hiddenSections:Ui,sectionOrder:Mi,sectionTitles:Tc,customSections:Ri,handleShowSection:d_})]})]})}px.createRoot(document.getElementById("root")).render(u.jsx(b.StrictMode,{children:u.jsx(wO,{})}));
