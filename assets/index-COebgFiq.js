function g_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function y_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Ig={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=Symbol.for("react.transitional.element"),p_=Symbol.for("react.fragment");function Gg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:v_,type:e,key:a,ref:t!==void 0?t:null,props:n}}fc.Fragment=p_;fc.jsx=Gg;fc.jsxs=Gg;Ig.exports=fc;var c=Ig.exports,Kg={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.transitional.element"),b_=Symbol.for("react.portal"),__=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),x_=Symbol.for("react.consumer"),E_=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),j_=Symbol.for("react.suspense"),O_=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),D_=Symbol.for("react.activity"),Tf=Symbol.iterator;function N_(e){return e===null||typeof e!="object"?null:(e=Tf&&e[Tf]||e["@@iterator"],typeof e=="function"?e:null)}var Qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jg=Object.assign,Zg={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Qg}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pg(){}Pg.prototype=Ps.prototype;function ah(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Qg}var ih=ah.prototype=new Pg;ih.constructor=ah;Jg(ih,Ps.prototype);ih.isPureReactComponent=!0;var jf=Array.isArray;function Hu(){}var lt={H:null,A:null,T:null,S:null},Fg=Object.prototype.hasOwnProperty;function sh(e,t,n){var a=n.ref;return{$$typeof:nh,type:e,key:t,ref:a!==void 0?a:null,props:n}}function A_(e,t){return sh(e.type,t,e.props)}function rh(e){return typeof e=="object"&&e!==null&&e.$$typeof===nh}function C_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Of=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C_(""+e.key):t.toString(36)}function R_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Hu,Hu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function us(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case nh:case b_:r=!0;break;case Xg:return r=e._init,us(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Vc(e,0):a,jf(i)?(n="",r!=null&&(n=r.replace(Of,"$&/")+"/"),us(i,t,n,"",function(u){return u})):i!=null&&(rh(i)&&(i=A_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Of,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(jf(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Vc(a,o),r+=us(a,t,n,s,i);else if(o=N_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Vc(a,o++),r+=us(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return us(R_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Ml(e,t,n){if(e==null)return e;var a=[],i=0;return us(e,a,"","",function(s){return t.call(n,s,i++)}),a}function M_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Df=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},k_={map:Ml,forEach:function(e,t,n){Ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!rh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Activity=D_;oe.Children=k_;oe.Component=Ps;oe.Fragment=__;oe.Profiler=S_;oe.PureComponent=ah;oe.StrictMode=w_;oe.Suspense=j_;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt;oe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return lt.H.useMemoCache(e)}};oe.cache=function(e){return function(){return e.apply(null,arguments)}};oe.cacheSignal=function(){return null};oe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Jg({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!Fg.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return sh(e.type,i,a)};oe.createContext=function(e){return e={$$typeof:E_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:x_,_context:e},e};oe.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Fg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return sh(e,s,i)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:T_,render:e}};oe.isValidElement=rh;oe.lazy=function(e){return{$$typeof:Xg,_payload:{_status:-1,_result:e},_init:M_}};oe.memo=function(e,t){return{$$typeof:O_,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=lt.T,n={};lt.T=n;try{var a=e(),i=lt.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Hu,Df)}catch(s){Df(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),lt.T=t}};oe.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()};oe.use=function(e){return lt.H.use(e)};oe.useActionState=function(e,t,n){return lt.H.useActionState(e,t,n)};oe.useCallback=function(e,t){return lt.H.useCallback(e,t)};oe.useContext=function(e){return lt.H.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e,t){return lt.H.useDeferredValue(e,t)};oe.useEffect=function(e,t){return lt.H.useEffect(e,t)};oe.useEffectEvent=function(e){return lt.H.useEffectEvent(e)};oe.useId=function(){return lt.H.useId()};oe.useImperativeHandle=function(e,t,n){return lt.H.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return lt.H.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return lt.H.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return lt.H.useMemo(e,t)};oe.useOptimistic=function(e,t){return lt.H.useOptimistic(e,t)};oe.useReducer=function(e,t,n){return lt.H.useReducer(e,t,n)};oe.useRef=function(e){return lt.H.useRef(e)};oe.useState=function(e){return lt.H.useState(e)};oe.useSyncExternalStore=function(e,t,n){return lt.H.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return lt.H.useTransition()};oe.version="19.2.0";Kg.exports=oe;var S=Kg.exports;const nt=y_(S);var Wg={exports:{}},mc={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,U){var H=k.length;k.push(U);e:for(;0<H;){var re=H-1>>>1,me=k[re];if(0<i(me,U))k[re]=U,k[H]=me,H=re;else break e}}function n(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var U=k[0],H=k.pop();if(H!==U){k[0]=H;e:for(var re=0,me=k.length,Ye=me>>>1;re<Ye;){var _e=2*(re+1)-1,Ce=k[_e],Re=_e+1,Ve=k[Re];if(0>i(Ce,H))Re<me&&0>i(Ve,Ce)?(k[re]=Ve,k[Re]=H,re=Re):(k[re]=Ce,k[_e]=H,re=_e);else if(Re<me&&0>i(Ve,H))k[re]=Ve,k[Re]=H,re=Re;else break e}}return U}function i(k,U){var H=k.sortIndex-U.sortIndex;return H!==0?H:k.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],h=1,d=null,f=3,m=!1,p=!1,b=!1,T=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function _(k){for(var U=n(u);U!==null;){if(U.callback===null)a(u);else if(U.startTime<=k)a(u),U.sortIndex=U.expirationTime,t(o,U);else break;U=n(u)}}function w(k){if(b=!1,_(k),!p)if(n(o)!==null)p=!0,x||(x=!0,ne());else{var U=n(u);U!==null&&fe(w,U.startTime-k)}}var x=!1,E=-1,j=5,O=-1;function N(){return T?!0:!(e.unstable_now()-O<j)}function B(){if(T=!1,x){var k=e.unstable_now();O=k;var U=!0;try{e:{p=!1,b&&(b=!1,g(E),E=-1),m=!0;var H=f;try{t:{for(_(k),d=n(o);d!==null&&!(d.expirationTime>k&&N());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var me=re(d.expirationTime<=k);if(k=e.unstable_now(),typeof me=="function"){d.callback=me,_(k),U=!0;break t}d===n(o)&&a(o),_(k)}else a(o);d=n(o)}if(d!==null)U=!0;else{var Ye=n(u);Ye!==null&&fe(w,Ye.startTime-k),U=!1}}break e}finally{d=null,f=H,m=!1}U=void 0}}finally{U?ne():x=!1}}}var ne;if(typeof y=="function")ne=function(){y(B)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,P=se.port2;se.port1.onmessage=B,ne=function(){P.postMessage(null)}}else ne=function(){v(B,0)};function fe(k,U){E=v(function(){k(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var H=f;f=U;try{return k()}finally{f=H}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=f;f=k;try{return U()}finally{f=H}},e.unstable_scheduleCallback=function(k,U,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=H+me,k={id:h++,callback:U,priorityLevel:k,startTime:H,expirationTime:me,sortIndex:-1},H>re?(k.sortIndex=H,t(u,k),n(o)===null&&k===n(u)&&(b?(g(E),E=-1):b=!0,fe(w,H-re))):(k.sortIndex=me,t(o,k),p||m||(p=!0,x||(x=!0,ne()))),k},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(k){var U=f;return function(){var H=f;f=U;try{return k.apply(this,arguments)}finally{f=H}}}})(ty);ey.exports=ty;var U_=ey.exports,ny={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=S;function ay(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var on={d:{f:Ha,r:function(){throw Error(ay(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},$_=Symbol.for("react.portal");function L_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Dr=z_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=on;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ay(299));return L_(e,t,null,n)};cn.flushSync=function(e){var t=Dr.T,n=on.p;try{if(Dr.T=null,on.p=2,e)return e()}finally{Dr.T=t,on.p=n,on.d.f()}};cn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,on.d.C(e,t))};cn.prefetchDNS=function(e){typeof e=="string"&&on.d.D(e)};cn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=gc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?on.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&on.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};cn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=gc(t.as,t.crossOrigin);on.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&on.d.M(e)};cn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=gc(n,t.crossOrigin);on.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};cn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=gc(t.as,t.crossOrigin);on.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else on.d.m(e)};cn.requestFormReset=function(e){on.d.r(e)};cn.unstable_batchedUpdates=function(e,t){return e(t)};cn.useFormState=function(e,t,n){return Dr.H.useFormState(e,t,n)};cn.useFormStatus=function(){return Dr.H.useHostTransitionStatus()};cn.version="19.2.0";function iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iy)}catch(e){console.error(e)}}iy(),ny.exports=cn;var gs=ny.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=U_,sy=S,B_=gs;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ly(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nf(e){if(ml(e)!==e)throw Error(R(188))}function H_(e){var t=e.alternate;if(!t){if(t=ml(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nf(i),e;if(s===a)return Nf(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(R(189))}}if(n.alternate!==a)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function cy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=cy(e),t!==null)return t;e=e.sibling}return null}var ot=Object.assign,q_=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),wr=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),uy=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),dy=Symbol.for("react.consumer"),xa=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Vu=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Iu=Symbol.for("react.activity"),Y_=Symbol.for("react.memo_cache_sentinel"),Af=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=Af&&e[Af]||e["@@iterator"],typeof e=="function"?e:null)}var V_=Symbol.for("react.client.reference");function Gu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case qu:return"Profiler";case uy:return"StrictMode";case Yu:return"Suspense";case Vu:return"SuspenseList";case Iu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case wr:return"Portal";case xa:return e.displayName||"Context";case dy:return(e._context.displayName||"Context")+".Consumer";case lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oh:return t=e.displayName||null,t!==null?t:Gu(e.type)||"Memo";case Ya:t=e._payload,e=e._init;try{return Gu(e(t))}catch{}}return null}var Sr=Array.isArray,te=sy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be=B_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$i={pending:!1,data:null,method:null,action:null},Ku=[],vs=-1;function ca(e){return{current:e}}function qt(e){0>vs||(e.current=Ku[vs],Ku[vs]=null,vs--)}function at(e,t){vs++,Ku[vs]=e.current,e.current=t}var oa=ca(null),Qr=ca(null),ti=ca(null),Oo=ca(null);function Do(e,t){switch(at(ti,t),at(Qr,e),at(oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=Cp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(oa),at(oa,e)}function $s(){qt(oa),qt(Qr),qt(ti)}function Xu(e){e.memoizedState!==null&&at(Oo,e);var t=oa.current,n=Cp(t,e.type);t!==n&&(at(Qr,e),at(oa,n))}function No(e){Qr.current===e&&(qt(oa),qt(Qr)),Oo.current===e&&(qt(Oo),sl._currentValue=$i)}var Ic,Cf;function Di(e){if(Ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ic=t&&t[1]||"",Cf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ic+e+Cf}var Gc=!1;function Kc(e,t){if(!e||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){f=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===u.length)for(a=o.length-1,i=u.length-1;1<=a&&0<=i&&o[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==u[i]){var h=`
`+o[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=i);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Di(n):""}function I_(e,t){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return e.child!==t&&t!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Kc(e.type,!1);case 11:return Kc(e.type.render,!1);case 1:return Kc(e.type,!0);case 31:return Di("Activity");default:return""}}function Rf(e){try{var t="",n=null;do t+=I_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Qu=Object.prototype.hasOwnProperty,ch=kt.unstable_scheduleCallback,Xc=kt.unstable_cancelCallback,G_=kt.unstable_shouldYield,K_=kt.unstable_requestPaint,On=kt.unstable_now,X_=kt.unstable_getCurrentPriorityLevel,hy=kt.unstable_ImmediatePriority,fy=kt.unstable_UserBlockingPriority,Ao=kt.unstable_NormalPriority,Q_=kt.unstable_LowPriority,my=kt.unstable_IdlePriority,J_=kt.log,Z_=kt.unstable_setDisableYieldValue,gl=null,Dn=null;function Za(e){if(typeof J_=="function"&&Z_(e),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(gl,e)}catch{}}var Nn=Math.clz32?Math.clz32:W_,P_=Math.log,F_=Math.LN2;function W_(e){return e>>>=0,e===0?32:31-(P_(e)/F_|0)|0}var Ul=256,zl=262144,$l=4194304;function Ni(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=Ni(a):(r&=l,r!==0?i=Ni(r):n||(n=l&~e,n!==0&&(i=Ni(n))))):(l=a&~s,l!==0?i=Ni(l):r!==0?i=Ni(r):n||(n=a&~e,n!==0&&(i=Ni(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ew(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gy(){var e=$l;return $l<<=1,!($l&62914560)&&($l=4194304),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var h=31-Nn(n),d=1<<h;l[h]=0,o[h]=-1;var f=u[h];if(f!==null)for(u[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}n&=~d}a!==0&&yy(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function yy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Nn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function vy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Nn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function py(e,t){var n=t&-t;return n=n&42?1:uh(n),n&(e.suspendedLanes|t)?0:n}function uh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function by(){var e=Be.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function Mf(e,t){var n=Be.p;try{return Be.p=e,t()}finally{Be.p=n}}var gi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+gi,vn="__reactProps$"+gi,Fs="__reactContainer$"+gi,Ju="__reactEvents$"+gi,nw="__reactListeners$"+gi,aw="__reactHandles$"+gi,kf="__reactResources$"+gi,pl="__reactMarker$"+gi;function hh(e){delete e[Kt],delete e[vn],delete e[Ju],delete e[nw],delete e[aw]}function ps(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qm(e);e!==null;){if(n=e[Kt])return n;e=qm(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){if(e=e[Kt]||e[Fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function Ds(e){var t=e[kf];return t||(t=e[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ht(e){e[pl]=!0}var _y=new Set,wy={};function Qi(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(wy[e]=t,e=0;e<t.length;e++)_y.add(t[e])}var iw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},zf={};function sw(e){return Qu.call(zf,e)?!0:Qu.call(Uf,e)?!1:iw.test(e)?zf[e]=!0:(Uf[e]=!0,!1)}function oo(e,t,n){if(sw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ll(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ga(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zu(e){if(!e._valueTracker){var t=Sy(e)?"checked":"value";e._valueTracker=rw(e,t,""+e[t])}}function xy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Sy(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lw=/[\n"\\]/g;function Bn(e){return e.replace(lw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pu(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Fu(e,r,zn(t)):n!=null?Fu(e,r,zn(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+zn(l):e.removeAttribute("name")}function Ey(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Zu(e);return}n=n!=null?""+zn(n):"",t=t!=null?""+zn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Zu(e)}function Fu(e,t,n){t==="number"&&Co(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ns(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ty(e,t,n){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zn(n):""}function jy(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(R(92));if(Sr(a)){if(1<a.length)throw Error(R(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=zn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Zu(e)}function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ow=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $f(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||ow.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Oy(e,t,n){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&$f(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&$f(e,s,t[s])}function fh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return uw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ea(){}var Wu=null;function mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,As=null;function Lf(e){var t=Ws(e);if(t&&(e=t.stateNode)){var n=e[vn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[vn]||null;if(!i)throw Error(R(90));Pu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&xy(a)}break e;case"textarea":Ty(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ns(e,!!n.multiple,t,!1)}}}var Jc=!1;function Dy(e,t,n){if(Jc)return e(t,n);Jc=!0;try{var a=e(t);return a}finally{if(Jc=!1,(bs!==null||As!==null)&&(Dc(),bs&&(t=bs,e=As,As=bs=null,Lf(t),e)))for(t=0;t<e.length;t++)Lf(e[t])}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[vn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=!1;if(Na)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){ed=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{ed=!1}var Pa=null,gh=null,uo=null;function Ny(){if(uo)return uo;var e,t=gh,n=t.length,a,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return uo=i.slice(e,1<a?1-a:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function Bf(){return!1}function pn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:Bf,this.isPropagationStopped=Bf,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=pn(Ji),bl=ot({},Ji,{view:0,detail:0}),dw=pn(bl),Zc,Pc,yr,pc=ot({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(Zc=e.screenX-yr.screenX,Pc=e.screenY-yr.screenY):Pc=Zc=0,yr=e),Zc)},movementY:function(e){return"movementY"in e?e.movementY:Pc}}),Hf=pn(pc),hw=ot({},pc,{dataTransfer:0}),fw=pn(hw),mw=ot({},bl,{relatedTarget:0}),Fc=pn(mw),gw=ot({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=pn(gw),vw=ot({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pw=pn(vw),bw=ot({},Ji,{data:0}),qf=pn(bw),_w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sw[e])?!!t[e]:!1}function yh(){return xw}var Ew=ot({},bl,{key:function(e){if(e.key){var t=_w[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ww[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tw=pn(Ew),jw=ot({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=pn(jw),Ow=ot({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),Dw=pn(Ow),Nw=ot({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aw=pn(Nw),Cw=ot({},pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rw=pn(Cw),Mw=ot({},Ji,{newState:0,oldState:0}),kw=pn(Mw),Uw=[9,13,27,32],vh=Na&&"CompositionEvent"in window,Nr=null;Na&&"documentMode"in document&&(Nr=document.documentMode);var zw=Na&&"TextEvent"in window&&!Nr,Ay=Na&&(!vh||Nr&&8<Nr&&11>=Nr),Vf=" ",If=!1;function Cy(e,t){switch(e){case"keyup":return Uw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function $w(e,t){switch(e){case"compositionend":return Ry(t);case"keypress":return t.which!==32?null:(If=!0,Vf);case"textInput":return e=t.data,e===Vf&&If?null:e;default:return null}}function Lw(e,t){if(_s)return e==="compositionend"||!vh&&Cy(e,t)?(e=Ny(),uo=gh=Pa=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ay&&t.locale!=="ko"?null:t.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bw[e.type]:t==="textarea"}function My(e,t,n,a){bs?As?As.push(a):As=[a]:bs=a,t=Jo(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ar=null,Zr=null;function Hw(e){Dp(e,0)}function bc(e){var t=xr(e);if(xy(t))return e}function Kf(e,t){if(e==="change")return t}var ky=!1;if(Na){var Wc;if(Na){var eu="oninput"in document;if(!eu){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),eu=typeof Xf.oninput=="function"}Wc=eu}else Wc=!1;ky=Wc&&(!document.documentMode||9<document.documentMode)}function Qf(){Ar&&(Ar.detachEvent("onpropertychange",Uy),Zr=Ar=null)}function Uy(e){if(e.propertyName==="value"&&bc(Zr)){var t=[];My(t,Zr,e,mh(e)),Dy(Hw,t)}}function qw(e,t,n){e==="focusin"?(Qf(),Ar=t,Zr=n,Ar.attachEvent("onpropertychange",Uy)):e==="focusout"&&Qf()}function Yw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bc(Zr)}function Vw(e,t){if(e==="click")return bc(t)}function Iw(e,t){if(e==="input"||e==="change")return bc(t)}function Gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Gw;function Pr(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Qu.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zf(e,t){var n=Jf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jf(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Co(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Co(e.document)}return t}function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kw=Na&&"documentMode"in document&&11>=document.documentMode,ws=null,td=null,Cr=null,nd=!1;function Pf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nd||ws==null||ws!==Co(a)||(a=ws,"selectionStart"in a&&ph(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cr&&Pr(Cr,a)||(Cr=a,a=Jo(td,"onSelect"),0<a.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ws)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},tu={},Ly={};Na&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Zi(e){if(tu[e])return tu[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ly)return tu[e]=t[n];return e}var By=Zi("animationend"),Hy=Zi("animationiteration"),qy=Zi("animationstart"),Xw=Zi("transitionrun"),Qw=Zi("transitionstart"),Jw=Zi("transitioncancel"),Yy=Zi("transitionend"),Vy=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function ea(e,t){Vy.set(e,t),Qi(t,[e])}var Ro=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],xs=0,bh=0;function _c(){for(var e=xs,t=bh=xs=0;t<e;){var n=kn[t];kn[t++]=null;var a=kn[t];kn[t++]=null;var i=kn[t];kn[t++]=null;var s=kn[t];if(kn[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Iy(n,i,s)}}function wc(e,t,n,a){kn[xs++]=e,kn[xs++]=t,kn[xs++]=n,kn[xs++]=a,bh|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _h(e,t,n,a){return wc(e,t,n,a),Mo(e)}function Pi(e,t){return wc(e,null,null,t),Mo(e)}function Iy(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Nn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Mo(e){if(50<Hr)throw Hr=0,Ed=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function Zw(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,a){return new Zw(e,t,n,a)}function wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fo(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")wh(e)&&(r=1);else if(typeof e=="string")r=tx(e,n,oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Iu:return e=xn(31,n,t,i),e.elementType=Iu,e.lanes=s,e;case ys:return Li(n.children,i,s,t);case uy:r=8,i|=24;break;case qu:return e=xn(12,n,t,i|2),e.elementType=qu,e.lanes=s,e;case Yu:return e=xn(13,n,t,i),e.elementType=Yu,e.lanes=s,e;case Vu:return e=xn(19,n,t,i),e.elementType=Vu,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xa:r=10;break e;case dy:r=9;break e;case lh:r=11;break e;case oh:r=14;break e;case Ya:r=16,a=null;break e}r=29,n=Error(R(130,e===null?"null":typeof e,"")),a=null}return t=xn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Li(e,t,n,a){return e=xn(7,e,a,t),e.lanes=n,e}function nu(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Ky(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function au(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ff=new WeakMap;function Hn(e,t){if(typeof e=="object"&&e!==null){var n=Ff.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Rf(t)},Ff.set(e,t),t)}return{value:e,source:t,stack:Rf(t)}}var Ts=[],js=0,ko=null,Fr=0,$n=[],Ln=0,ui=null,sa=1,ra="";function wa(e,t){Ts[js++]=Fr,Ts[js++]=ko,ko=e,Fr=t}function Xy(e,t,n){$n[Ln++]=sa,$n[Ln++]=ra,$n[Ln++]=ui,ui=e;var a=sa;e=ra;var i=32-Nn(a)-1;a&=~(1<<i),n+=1;var s=32-Nn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,sa=1<<32-Nn(t)+i|n<<i|a,ra=s+e}else sa=1<<s|n<<i|a,ra=e}function Sh(e){e.return!==null&&(wa(e,1),Xy(e,1,0))}function xh(e){for(;e===ko;)ko=Ts[--js],Ts[js]=null,Fr=Ts[--js],Ts[js]=null;for(;e===ui;)ui=$n[--Ln],$n[Ln]=null,ra=$n[--Ln],$n[Ln]=null,sa=$n[--Ln],$n[Ln]=null}function Qy(e,t){$n[Ln++]=sa,$n[Ln++]=ra,$n[Ln++]=ui,sa=t.id,ra=t.overflow,ui=e}var Xt=null,rt=null,je=!1,ni=null,qn=!1,id=Error(R(519));function di(e){var t=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(Hn(t,e)),id}function Wf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Kt]=e,t[vn]=a,n){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(n=0;n<al.length;n++)pe(al[n],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Ey(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),jy(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Ap(t.textContent,n)?(a.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),a.onScroll!=null&&pe("scroll",t),a.onScrollEnd!=null&&pe("scrollend",t),a.onClick!=null&&(t.onclick=Ea),t=!0):t=!1,t||di(e,!0)}function em(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Xt=Xt.return}}function as(e){if(e!==Xt)return!1;if(!je)return em(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Nd(e.type,e.memoizedProps)),n=!n),n&&rt&&di(e),em(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));rt=Hm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));rt=Hm(e)}else t===27?(t=rt,yi(e.type)?(e=Md,Md=null,rt=e):rt=t):rt=Xt?Vn(e.stateNode.nextSibling):null;return!0}function Vi(){rt=Xt=null,je=!1}function iu(){var e=ni;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),ni=null),e}function Wr(e){ni===null?ni=[e]:ni.push(e)}var sd=ca(null),Fi=null,Ta=null;function Ga(e,t,n){at(sd,t._currentValue),t._currentValue=n}function Oa(e){e._currentValue=sd.current,qt(sd)}function rd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ld(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rd(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(R(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),rd(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function er(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(R(387));if(r=r.memoizedProps,r!==null){var l=i.type;Cn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===Oo.current){if(r=i.alternate,r===null)throw Error(R(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}i=i.return}e!==null&&ld(t,e,n,a),t.flags|=262144}function Uo(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Fi=e,Ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return Jy(Fi,e)}function Hl(e,t){return Fi===null&&Ii(e),Jy(e,t)}function Jy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ta===null){if(e===null)throw Error(R(308));Ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ta=Ta.next=t;return n}var Pw=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Fw=kt.unstable_scheduleCallback,Ww=kt.unstable_NormalPriority,Dt={$$typeof:xa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new Pw,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&Fw(Ww,function(){e.controller.abort()})}var Rr=null,od=0,Hs=0,Cs=null;function eS(e,t){if(Rr===null){var n=Rr=[];od=0,Hs=Jh(),Cs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return od++,t.then(tm,tm),t}function tm(){if(--od===0&&Rr!==null){Cs!==null&&(Cs.status="fulfilled");var e=Rr;Rr=null,Hs=0,Cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var nm=te.S;te.S=function(e,t){cp=On(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&eS(e,t),nm!==null&&nm(e,t)};var Bi=ca(null);function Th(){var e=Bi.current;return e!==null?e:Fe.pooledCache}function mo(e,t){t===null?at(Bi,Bi.current):at(Bi,t.pool)}function Zy(){var e=Th();return e===null?null:{parent:Dt._currentValue,pool:e}}var tr=Error(R(460)),jh=Error(R(474)),Sc=Error(R(542)),zo={then:function(){}};function am(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Py(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ea,Ea),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sm(e),e;default:if(typeof t.status=="string")t.then(Ea,Ea);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sm(e),e}throw Hi=t,tr}}function Ai(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hi=n,tr):n}}var Hi=null;function im(){if(Hi===null)throw Error(R(459));var e=Hi;return Hi=null,e}function sm(e){if(e===tr||e===Sc)throw Error(R(483))}var Rs=null,el=0;function ql(e){var t=el;return el+=1,Rs===null&&(Rs=[]),Py(Rs,e,t)}function vr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yl(e,t){throw t.$$typeof===q_?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fy(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(v,g){return v=ja(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function r(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,_){return g===null||g.tag!==6?(g=nu(y,v.mode,_),g.return=v,g):(g=i(g,y),g.return=v,g)}function o(v,g,y,_){var w=y.type;return w===ys?h(v,g,y.props.children,_,y.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ya&&Ai(w)===g.type)?(g=i(g,y.props),vr(g,y),g.return=v,g):(g=fo(y.type,y.key,y.props,null,v.mode,_),vr(g,y),g.return=v,g)}function u(v,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=au(y,v.mode,_),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function h(v,g,y,_,w){return g===null||g.tag!==7?(g=Li(y,v.mode,_,w),g.return=v,g):(g=i(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=nu(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kl:return y=fo(g.type,g.key,g.props,null,v.mode,y),vr(y,g),y.return=v,y;case wr:return g=au(g,v.mode,y),g.return=v,g;case Ya:return g=Ai(g),d(v,g,y)}if(Sr(g)||mr(g))return g=Li(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return d(v,ql(g),y);if(g.$$typeof===xa)return d(v,Hl(v,g),y);Yl(v,g)}return null}function f(v,g,y,_){var w=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:l(v,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:return y.key===w?o(v,g,y,_):null;case wr:return y.key===w?u(v,g,y,_):null;case Ya:return y=Ai(y),f(v,g,y,_)}if(Sr(y)||mr(y))return w!==null?null:h(v,g,y,_,null);if(typeof y.then=="function")return f(v,g,ql(y),_);if(y.$$typeof===xa)return f(v,g,Hl(v,y),_);Yl(v,y)}return null}function m(v,g,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return v=v.get(y)||null,l(g,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return v=v.get(_.key===null?y:_.key)||null,o(g,v,_,w);case wr:return v=v.get(_.key===null?y:_.key)||null,u(g,v,_,w);case Ya:return _=Ai(_),m(v,g,y,_,w)}if(Sr(_)||mr(_))return v=v.get(y)||null,h(g,v,_,w,null);if(typeof _.then=="function")return m(v,g,y,ql(_),w);if(_.$$typeof===xa)return m(v,g,y,Hl(g,_),w);Yl(g,_)}return null}function p(v,g,y,_){for(var w=null,x=null,E=g,j=g=0,O=null;E!==null&&j<y.length;j++){E.index>j?(O=E,E=null):O=E.sibling;var N=f(v,E,y[j],_);if(N===null){E===null&&(E=O);break}e&&E&&N.alternate===null&&t(v,E),g=s(N,g,j),x===null?w=N:x.sibling=N,x=N,E=O}if(j===y.length)return n(v,E),je&&wa(v,j),w;if(E===null){for(;j<y.length;j++)E=d(v,y[j],_),E!==null&&(g=s(E,g,j),x===null?w=E:x.sibling=E,x=E);return je&&wa(v,j),w}for(E=a(E);j<y.length;j++)O=m(E,v,j,y[j],_),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?j:O.key),g=s(O,g,j),x===null?w=O:x.sibling=O,x=O);return e&&E.forEach(function(B){return t(v,B)}),je&&wa(v,j),w}function b(v,g,y,_){if(y==null)throw Error(R(151));for(var w=null,x=null,E=g,j=g=0,O=null,N=y.next();E!==null&&!N.done;j++,N=y.next()){E.index>j?(O=E,E=null):O=E.sibling;var B=f(v,E,N.value,_);if(B===null){E===null&&(E=O);break}e&&E&&B.alternate===null&&t(v,E),g=s(B,g,j),x===null?w=B:x.sibling=B,x=B,E=O}if(N.done)return n(v,E),je&&wa(v,j),w;if(E===null){for(;!N.done;j++,N=y.next())N=d(v,N.value,_),N!==null&&(g=s(N,g,j),x===null?w=N:x.sibling=N,x=N);return je&&wa(v,j),w}for(E=a(E);!N.done;j++,N=y.next())N=m(E,v,j,N.value,_),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?j:N.key),g=s(N,g,j),x===null?w=N:x.sibling=N,x=N);return e&&E.forEach(function(ne){return t(v,ne)}),je&&wa(v,j),w}function T(v,g,y,_){if(typeof y=="object"&&y!==null&&y.type===ys&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:e:{for(var w=y.key;g!==null;){if(g.key===w){if(w=y.type,w===ys){if(g.tag===7){n(v,g.sibling),_=i(g,y.props.children),_.return=v,v=_;break e}}else if(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ya&&Ai(w)===g.type){n(v,g.sibling),_=i(g,y.props),vr(_,y),_.return=v,v=_;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===ys?(_=Li(y.props.children,v.mode,_,y.key),_.return=v,v=_):(_=fo(y.type,y.key,y.props,null,v.mode,_),vr(_,y),_.return=v,v=_)}return r(v);case wr:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),_=i(g,y.children||[]),_.return=v,v=_;break e}else{n(v,g);break}else t(v,g);g=g.sibling}_=au(y,v.mode,_),_.return=v,v=_}return r(v);case Ya:return y=Ai(y),T(v,g,y,_)}if(Sr(y))return p(v,g,y,_);if(mr(y)){if(w=mr(y),typeof w!="function")throw Error(R(150));return y=w.call(y),b(v,g,y,_)}if(typeof y.then=="function")return T(v,g,ql(y),_);if(y.$$typeof===xa)return T(v,g,Hl(v,y),_);Yl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),_=i(g,y),_.return=v,v=_):(n(v,g),_=nu(y,v.mode,_),_.return=v,v=_),r(v)):n(v,g)}return function(v,g,y,_){try{el=0;var w=T(v,g,y,_);return Rs=null,w}catch(E){if(E===tr||E===Sc)throw E;var x=xn(29,E,null,v.mode);return x.lanes=_,x.return=v,x}finally{}}}var Gi=Fy(!0),Wy=Fy(!1),Va=!1;function Oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Le&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Mo(e),Iy(e,null,n),t}return wc(e,a,t,n),Mo(e)}function Mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vy(e,n)}}function su(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ud=!1;function kr(){if(ud){var e=Cs;if(e!==null)throw e}}function Ur(e,t,n,a){ud=!1;var i=e.updateQueue;Va=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?s=u:r.next=u,r=o;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;r=0,h=u=o=null,l=s;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(xe&f)===f:(a&f)===f){f!==0&&f===Hs&&(ud=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,b=l;f=t;var T=n;switch(b.tag){case 1:if(p=b.payload,typeof p=="function"){d=p.call(T,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,f=typeof p=="function"?p.call(T,d,f):p,f==null)break e;d=ot({},d,f);break e;case 2:Va=!0}}f=l.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,o=d):h=h.next=m,r|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(o=d),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),fi|=r,e.lanes=r,e.memoizedState=d}}function ev(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function tv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ev(n[e],t)}var qs=ca(null),$o=ca(0);function rm(e,t){e=Ma,at($o,e),at(qs,t),Ma=e|t.baseLanes}function dd(){at($o,Ma),at(qs,qs.current)}function Dh(){Ma=$o.current,qt(qs),qt($o)}var Rn=ca(null),Yn=null;function Ka(e){var t=e.alternate;at(_t,_t.current&1),at(Rn,e),Yn===null&&(t===null||qs.current!==null||t.memoizedState!==null)&&(Yn=e)}function hd(e){at(_t,_t.current),at(Rn,e),Yn===null&&(Yn=e)}function nv(e){e.tag===22?(at(_t,_t.current),at(Rn,e),Yn===null&&(Yn=e)):Xa()}function Xa(){at(_t,_t.current),at(Rn,Rn.current)}function Sn(e){qt(Rn),Yn===e&&(Yn=null),qt(_t)}var _t=ca(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Cd(n)||Rd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=0,ue=null,Pe=null,jt=null,Bo=!1,Ms=!1,Ki=!1,Ho=0,tl=0,ks=null,nS=0;function yt(){throw Error(R(321))}function Nh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Ah(e,t,n,a,i,s){return Aa=s,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?Mv:qh,Ki=!1,s=n(a,i),Ki=!1,Ms&&(s=iv(t,n,a,i)),av(e),s}function av(e){te.H=nl;var t=Pe!==null&&Pe.next!==null;if(Aa=0,jt=Pe=ue=null,Bo=!1,tl=0,ks=null,t)throw Error(R(300));e===null||Nt||(e=e.dependencies,e!==null&&Uo(e)&&(Nt=!0))}function iv(e,t,n,a){ue=e;var i=0;do{if(Ms&&(ks=null),tl=0,Ms=!1,25<=i)throw Error(R(301));if(i+=1,jt=Pe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}te.H=kv,s=t(n,a)}while(Ms);return s}function aS(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?wl(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(ue.flags|=1024),t}function Ch(){var e=Ho!==0;return Ho=0,e}function Rh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mh(e){if(Bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bo=!1}Aa=0,jt=Pe=ue=null,Ms=!1,tl=Ho=0,ks=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ue.memoizedState=jt=e:jt=jt.next=e,jt}function wt(){if(Pe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=jt===null?ue.memoizedState:jt.next;if(t!==null)jt=t,Pe=e;else{if(e===null)throw ue.alternate===null?Error(R(467)):Error(R(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},jt===null?ue.memoizedState=jt=e:jt=jt.next=e}return jt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var t=tl;return tl+=1,ks===null&&(ks=[]),e=Py(ks,e,t),t=ue,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?Mv:qh),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===xa)return Qt(e)}throw Error(R(438,String(e)))}function kh(e){var t=null,n=ue.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ue.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=xc(),ue.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Y_;return t.index++,n}function Ca(e,t){return typeof t=="function"?t(e):t}function go(e){var t=wt();return Uh(t,Pe,e)}function Uh(e,t,n){var a=e.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,u=t,h=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(xe&d)===d:(Aa&d)===d){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hs&&(h=!0);else if((Aa&f)===f){u=u.next,f===Hs&&(h=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=d,r=s):o=o.next=d,ue.lanes|=f,fi|=f;d=u.action,Ki&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=s):o=o.next=f,ue.lanes|=d,fi|=d;u=u.next}while(u!==null&&u!==t);if(o===null?r=s:o.next=l,!Cn(s,e.memoizedState)&&(Nt=!0,h&&(n=Cs,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ru(e){var t=wt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);Cn(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function sv(e,t,n){var a=ue,i=wt(),s=je;if(s){if(n===void 0)throw Error(R(407));n=n()}else n=t();var r=!Cn((Pe||i).memoizedState,n);if(r&&(i.memoizedState=n,Nt=!0),i=i.queue,zh(ov.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,Ys(9,{destroy:void 0},lv.bind(null,a,i,n,t),null),Fe===null)throw Error(R(349));s||Aa&127||rv(a,t,n)}return n}function rv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t=xc(),ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lv(e,t,n,a){t.value=n,t.getSnapshot=a,cv(t)&&uv(e)}function ov(e,t,n){return n(function(){cv(t)&&uv(e)})}function cv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function uv(e){var t=Pi(e,2);t!==null&&yn(t,e,2)}function fd(e){var t=rn();if(typeof e=="function"){var n=e;if(e=n(),Ki){Za(!0);try{n()}finally{Za(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function dv(e,t,n,a){return e.baseState=n,Uh(e,Pe,typeof a=="function"?a:Ca)}function iS(e,t,n,a,i){if(jc(e))throw Error(R(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};te.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,hv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function hv(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=te.T,r={};te.T=r;try{var l=n(i,a),o=te.S;o!==null&&o(r,l),lm(e,t,l)}catch(u){md(e,t,u)}finally{s!==null&&r.types!==null&&(s.types=r.types),te.T=s}}else try{s=n(i,a),lm(e,t,s)}catch(u){md(e,t,u)}}function lm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){om(e,t,a)},function(a){return md(e,t,a)}):om(e,t,n)}function om(e,t,n){t.status="fulfilled",t.value=n,fv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hv(e,n)))}function md(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,fv(t),t=t.next;while(t!==a)}e.action=null}function fv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mv(e,t){return t}function cm(e,t){if(je){var n=Fe.formState;if(n!==null){e:{var a=ue;if(je){if(rt){t:{for(var i=rt,s=qn;i.nodeType!==8;){if(!s){i=null;break t}if(i=Vn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){rt=Vn(i.nextSibling),a=i.data==="F!";break e}}di(a)}a=!1}a&&(t=n[0])}}return n=rn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:t},n.queue=a,n=Av.bind(null,ue,a),a.dispatch=n,a=fd(!1),s=Hh.bind(null,ue,!1,a.queue),a=rn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=iS.bind(null,ue,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function um(e){var t=wt();return gv(t,Pe,e)}function gv(e,t,n){if(t=Uh(e,t,mv)[0],e=go(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wl(t)}catch(r){throw r===tr?Sc:r}else a=t;t=wt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(ue.flags|=2048,Ys(9,{destroy:void 0},sS.bind(null,i,n),null)),[a,s,e]}function sS(e,t){e.action=t}function dm(e){var t=wt(),n=Pe;if(n!==null)return gv(t,n,e);wt(),t=t.memoizedState,n=wt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ys(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ue.updateQueue,t===null&&(t=xc(),ue.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function yv(){return wt().memoizedState}function yo(e,t,n,a){var i=rn();ue.flags|=e,i.memoizedState=Ys(1|t,{destroy:void 0},n,a===void 0?null:a)}function Tc(e,t,n,a){var i=wt();a=a===void 0?null:a;var s=i.memoizedState.inst;Pe!==null&&a!==null&&Nh(a,Pe.memoizedState.deps)?i.memoizedState=Ys(t,s,n,a):(ue.flags|=e,i.memoizedState=Ys(1|t,s,n,a))}function hm(e,t){yo(8390656,8,e,t)}function zh(e,t){Tc(2048,8,e,t)}function rS(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=xc(),ue.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function vv(e){var t=wt().memoizedState;return rS({ref:t,nextImpl:e}),function(){if(Le&2)throw Error(R(440));return t.impl.apply(void 0,arguments)}}function pv(e,t){return Tc(4,2,e,t)}function bv(e,t){return Tc(4,4,e,t)}function _v(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wv(e,t,n){n=n!=null?n.concat([e]):null,Tc(4,4,_v.bind(null,t,e),n)}function $h(){}function Sv(e,t){var n=wt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Nh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function xv(e,t){var n=wt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Nh(t,a[1]))return a[0];if(a=e(),Ki){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a}function Lh(e,t,n){return n===void 0||Aa&1073741824&&!(xe&261930)?e.memoizedState=t:(e.memoizedState=n,e=dp(),ue.lanes|=e,fi|=e,n)}function Ev(e,t,n,a){return Cn(n,t)?n:qs.current!==null?(e=Lh(e,n,a),Cn(e,t)||(Nt=!0),e):!(Aa&42)||Aa&1073741824&&!(xe&261930)?(Nt=!0,e.memoizedState=n):(e=dp(),ue.lanes|=e,fi|=e,t)}function Tv(e,t,n,a,i){var s=Be.p;Be.p=s!==0&&8>s?s:8;var r=te.T,l={};te.T=l,Hh(e,!1,t,n);try{var o=i(),u=te.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=tS(o,a);zr(e,t,h,An(e))}else zr(e,t,a,An(e))}catch(d){zr(e,t,{then:function(){},status:"rejected",reason:d},An())}finally{Be.p=s,r!==null&&l.types!==null&&(r.types=l.types),te.T=r}}function lS(){}function gd(e,t,n,a){if(e.tag!==5)throw Error(R(476));var i=jv(e).queue;Tv(e,i,t,$i,n===null?lS:function(){return Ov(e),n(a)})}function jv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$i,baseState:$i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:$i},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ov(e){var t=jv(e);t.next===null&&(t=e.alternate.memoizedState),zr(e,t.next.queue,{},An())}function Bh(){return Qt(sl)}function Dv(){return wt().memoizedState}function Nv(){return wt().memoizedState}function oS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=ai(n);var a=ii(t,e,n);a!==null&&(yn(a,t,n),Mr(a,t,n)),t={cache:Eh()},e.payload=t;return}t=t.return}}function cS(e,t,n){var a=An();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jc(e)?Cv(t,n):(n=_h(e,t,n,a),n!==null&&(yn(n,e,a),Rv(n,t,a)))}function Av(e,t,n){var a=An();zr(e,t,n,a)}function zr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(e))Cv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,r))return wc(e,t,i,0),Fe===null&&_c(),!1}catch{}finally{}if(n=_h(e,t,i,a),n!==null)return yn(n,e,a),Rv(n,t,a),!0}return!1}function Hh(e,t,n,a){if(a={lane:2,revertLane:Jh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(t)throw Error(R(479))}else t=_h(e,n,a,2),t!==null&&yn(t,e,2)}function jc(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Cv(e,t){Ms=Bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vy(e,n)}}var nl={readContext:Qt,use:Ec,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};nl.useEffectEvent=yt;var Mv={readContext:Qt,use:Ec,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:hm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,yo(4194308,4,_v.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var n=rn();t=t===void 0?null:t;var a=e();if(Ki){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=rn();if(n!==void 0){var i=n(t);if(Ki){Za(!0);try{n(t)}finally{Za(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=cS.bind(null,ue,e),[a.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:function(e){e=fd(e);var t=e.queue,n=Av.bind(null,ue,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$h,useDeferredValue:function(e,t){var n=rn();return Lh(n,e,t)},useTransition:function(){var e=fd(!1);return e=Tv.bind(null,ue,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ue,i=rn();if(je){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Fe===null)throw Error(R(349));xe&127||rv(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,hm(ov.bind(null,a,s,e),[e]),a.flags|=2048,Ys(9,{destroy:void 0},lv.bind(null,a,s,n,t),null),n},useId:function(){var e=rn(),t=Fe.identifierPrefix;if(je){var n=ra,a=sa;n=(a&~(1<<32-Nn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ho++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bh,useFormState:cm,useActionState:cm,useOptimistic:function(e){var t=rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hh.bind(null,ue,!0,n),n.dispatch=t,[e,t]},useMemoCache:kh,useCacheRefresh:function(){return rn().memoizedState=oS.bind(null,ue)},useEffectEvent:function(e){var t=rn(),n={impl:e};return t.memoizedState=n,function(){if(Le&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},qh={readContext:Qt,use:Ec,useCallback:Sv,useContext:Qt,useEffect:zh,useImperativeHandle:wv,useInsertionEffect:pv,useLayoutEffect:bv,useMemo:xv,useReducer:go,useRef:yv,useState:function(){return go(Ca)},useDebugValue:$h,useDeferredValue:function(e,t){var n=wt();return Ev(n,Pe.memoizedState,e,t)},useTransition:function(){var e=go(Ca)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:sv,useId:Dv,useHostTransitionStatus:Bh,useFormState:um,useActionState:um,useOptimistic:function(e,t){var n=wt();return dv(n,Pe,e,t)},useMemoCache:kh,useCacheRefresh:Nv};qh.useEffectEvent=vv;var kv={readContext:Qt,use:Ec,useCallback:Sv,useContext:Qt,useEffect:zh,useImperativeHandle:wv,useInsertionEffect:pv,useLayoutEffect:bv,useMemo:xv,useReducer:ru,useRef:yv,useState:function(){return ru(Ca)},useDebugValue:$h,useDeferredValue:function(e,t){var n=wt();return Pe===null?Lh(n,e,t):Ev(n,Pe.memoizedState,e,t)},useTransition:function(){var e=ru(Ca)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:sv,useId:Dv,useHostTransitionStatus:Bh,useFormState:dm,useActionState:dm,useOptimistic:function(e,t){var n=wt();return Pe!==null?dv(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:kh,useCacheRefresh:Nv};kv.useEffectEvent=vv;function lu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(yn(t,e,a),Mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(yn(t,e,a),Mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),a=ai(n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(yn(t,e,n),Mr(t,e,n))}};function fm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,a)||!Pr(i,s):!0}function mm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&yd.enqueueReplaceState(t,t.state,null)}function Xi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ot({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Uv(e){Ro(e)}function zv(e){console.error(e)}function $v(e){Ro(e)}function qo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function gm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function vd(e,t,n){return n=ai(n),n.tag=3,n.payload={element:null},n.callback=function(){qo(e,t)},n}function Lv(e){return e=ai(e),e.tag=3,e}function Bv(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){gm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){gm(t,n,a),typeof i!="function"&&(si===null?si=new Set([this]):si.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function uS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&er(t,n,i,!0),n=Rn.current,n!==null){switch(n.tag){case 31:case 13:return Yn===null?Ko():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===zo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),pu(e,a,i)),!1;case 22:return n.flags|=65536,a===zo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),pu(e,a,i)),!1}throw Error(R(435,n.tag))}return pu(e,a,i),Ko(),!1}if(je)return t=Rn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==id&&(e=Error(R(422),{cause:a}),Wr(Hn(e,n)))):(a!==id&&(t=Error(R(423),{cause:a}),Wr(Hn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Hn(a,n),i=vd(e.stateNode,a,i),su(e,i),vt!==4&&(vt=2)),!1;var s=Error(R(520),{cause:a});if(s=Hn(s,n),Br===null?Br=[s]:Br.push(s),vt!==4&&(vt=2),t===null)return!0;a=Hn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=vd(n.stateNode,a,e),su(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(si===null||!si.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Lv(i),Bv(i,e,n,a),su(n,i),!1}n=n.return}while(n!==null);return!1}var Yh=Error(R(461)),Nt=!1;function Gt(e,t,n,a){t.child=e===null?Wy(t,null,n,a):Gi(t,e.child,n,a)}function ym(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Ii(t),a=Ah(e,t,n,r,s,i),l=Ch(),e!==null&&!Nt?(Rh(e,t,i),Ra(e,t,i)):(je&&l&&Sh(t),t.flags|=1,Gt(e,t,a,i),t.child)}function vm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!wh(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Hv(e,t,s,a,i)):(e=fo(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Vh(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(r,a)&&e.ref===t.ref)return Ra(e,t,i)}return t.flags|=1,e=ja(s,a),e.ref=t.ref,e.return=t,t.child=e}function Hv(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Pr(s,a)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=a=s,Vh(e,i))e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Ra(e,t,i)}return pd(e,t,n,a,i)}function qv(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return pm(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(t,s!==null?s.cachePool:null),s!==null?rm(t,s):dd(),nv(t);else return a=t.lanes=536870912,pm(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(mo(t,s.cachePool),rm(t,s),Xa(),t.memoizedState=null):(e!==null&&mo(t,null),dd(),Xa());return Gt(e,t,i,n),t.child}function Er(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pm(e,t,n,a,i){var s=Th();return s=s===null?null:{parent:Dt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&mo(t,null),dd(),nv(t),e!==null&&er(e,t,a,!0),t.childLanes=i,null}function vo(e,t){return t=Yo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bm(e,t,n){return Gi(t,e.child,null,n),e=vo(t,t.pendingProps),e.flags|=2,Sn(t),t.memoizedState=null,e}function dS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(a.mode==="hidden")return e=vo(t,a),t.lanes=536870912,Er(null,e);if(hd(t),(e=rt)?(e=Mp(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Ky(e),n.return=t,t.child=n,Xt=t,rt=null)):e=null,e===null)throw di(t);return t.lanes=536870912,null}return vo(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(hd(t),i)if(t.flags&256)t.flags&=-257,t=bm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(R(558));else if(Nt||er(e,t,n,!1),i=(n&e.childLanes)!==0,Nt||i){if(a=Fe,a!==null&&(r=py(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Pi(e,r),yn(a,e,r),Yh;Ko(),t=bm(e,t,n)}else e=s.treeContext,rt=Vn(r.nextSibling),Xt=t,je=!0,ni=null,qn=!1,e!==null&&Qy(t,e),t=vo(t,a),t.flags|=4096;return t}return e=ja(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function po(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function pd(e,t,n,a,i){return Ii(t),n=Ah(e,t,n,a,void 0,i),a=Ch(),e!==null&&!Nt?(Rh(e,t,i),Ra(e,t,i)):(je&&a&&Sh(t),t.flags|=1,Gt(e,t,n,i),t.child)}function _m(e,t,n,a,i,s){return Ii(t),t.updateQueue=null,n=iv(t,a,n,i),av(e),a=Ch(),e!==null&&!Nt?(Rh(e,t,s),Ra(e,t,s)):(je&&a&&Sh(t),t.flags|=1,Gt(e,t,n,s),t.child)}function wm(e,t,n,a,i){if(Ii(t),t.stateNode===null){var s=Es,r=n.contextType;typeof r=="object"&&r!==null&&(s=Qt(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Oh(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Qt(r):Es,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(lu(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&yd.enqueueReplaceState(s,s.state,null),Ur(t,a,s,i),kr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=Xi(n,l);s.props=o;var u=s.context,h=n.contextType;r=Es,typeof h=="object"&&h!==null&&(r=Qt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==r)&&mm(t,s,a,r),Va=!1;var f=t.memoizedState;s.state=f,Ur(t,a,s,i),kr(),u=t.memoizedState,l||f!==u||Va?(typeof d=="function"&&(lu(t,n,d,a),u=t.memoizedState),(o=Va||fm(t,n,o,a,f,u,r))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,cd(e,t),r=t.memoizedProps,h=Xi(n,r),s.props=h,d=t.pendingProps,f=s.context,u=n.contextType,o=Es,typeof u=="object"&&u!==null&&(o=Qt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==d||f!==o)&&mm(t,s,a,o),Va=!1,f=t.memoizedState,s.state=f,Ur(t,a,s,i),kr();var m=t.memoizedState;r!==d||f!==m||Va||e!==null&&e.dependencies!==null&&Uo(e.dependencies)?(typeof l=="function"&&(lu(t,n,l,a),m=t.memoizedState),(h=Va||fm(t,n,h,a,f,m,o)||e!==null&&e.dependencies!==null&&Uo(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=h):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,po(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Gi(t,e.child,null,i),t.child=Gi(t,null,n,i)):Gt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ra(e,t,i),e}function Sm(e,t,n,a){return Vi(),t.flags|=256,Gt(e,t,n,a),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:Zy()}}function uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function Yv(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(i?Ka(t):Xa(),(e=rt)?(e=Mp(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Ky(e),n.return=t,t.child=n,Xt=t,rt=null)):e=null,e===null)throw di(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Xa(),i=t.mode,l=Yo({mode:"hidden",children:l},i),a=Li(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=cu(n),a.childLanes=uu(e,r,n),t.memoizedState=ou,Er(null,a)):(Ka(t),bd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Ka(t),t.flags&=-257,t=du(e,t,n)):t.memoizedState!==null?(Xa(),t.child=e.child,t.flags|=128,t=null):(Xa(),l=a.fallback,i=t.mode,a=Yo({mode:"visible",children:a.children},i),l=Li(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Gi(t,e.child,null,n),a=t.child,a.memoizedState=cu(n),a.childLanes=uu(e,r,n),t.memoizedState=ou,t=Er(null,a));else if(Ka(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(R(419)),a.stack="",a.digest=r,Wr({value:a,source:null,stack:null}),t=du(e,t,n)}else if(Nt||er(e,t,n,!1),r=(n&e.childLanes)!==0,Nt||r){if(r=Fe,r!==null&&(a=py(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Pi(e,a),yn(r,e,a),Yh;Cd(l)||Ko(),t=du(e,t,n)}else Cd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,rt=Vn(l.nextSibling),Xt=t,je=!0,ni=null,qn=!1,e!==null&&Qy(t,e),t=bd(t,a.children),t.flags|=4096);return t}return i?(Xa(),l=a.fallback,i=t.mode,o=e.child,u=o.sibling,a=ja(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=ja(u,l):(l=Li(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Er(null,a),a=t.child,l=e.child.memoizedState,l===null?l=cu(n):(i=l.cachePool,i!==null?(o=Dt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Zy(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=uu(e,r,n),t.memoizedState=ou,Er(e.child,a)):(Ka(t),n=e.child,e=n.sibling,n=ja(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function bd(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function du(e,t,n){return Gi(t,e.child,null,n),e=bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),rd(e.return,t,n)}function hu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Vv(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=_t.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,at(_t,r),Gt(e,t,a,n),a=je?Fr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,n,t);else if(e.tag===19)xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Lo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Lo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hu(t,!0,n,null,s,a);break;case"together":hu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ra(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(er(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Uo(e)))}function hS(e,t,n){switch(t.tag){case 3:Do(t,t.stateNode.containerInfo),Ga(t,Dt,e.memoizedState.cache),Vi();break;case 27:case 5:Xu(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:Ga(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,hd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ka(t),t.flags|=128,null):n&t.child.childLanes?Yv(e,t,n):(Ka(t),e=Ra(e,t,n),e!==null?e.sibling:null);Ka(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(er(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Vv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(_t,_t.current),a)break;return null;case 22:return t.lanes=0,qv(e,t,n,t.pendingProps);case 24:Ga(t,Dt,e.memoizedState.cache)}return Ra(e,t,n)}function Iv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!Vh(e,n)&&!(t.flags&128))return Nt=!1,hS(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,je&&t.flags&1048576&&Xy(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ai(t.elementType),t.type=e,typeof e=="function")wh(e)?(a=Xi(e,a),t.tag=1,t=wm(null,t,e,a,n)):(t.tag=0,t=pd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===lh){t.tag=11,t=ym(null,t,e,a,n);break e}else if(i===oh){t.tag=14,t=vm(null,t,e,a,n);break e}}throw t=Gu(e)||e,Error(R(306,t,""))}}return t;case 0:return pd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Xi(a,t.pendingProps),wm(e,t,a,i,n);case 3:e:{if(Do(t,t.stateNode.containerInfo),e===null)throw Error(R(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,cd(e,t),Ur(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Ga(t,Dt,a),a!==s.cache&&ld(t,[Dt],n,!0),kr(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Sm(e,t,a,n);break e}else if(a!==i){i=Hn(Error(R(424)),t),Wr(i),t=Sm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=Vn(e.firstChild),Xt=t,je=!0,ni=null,qn=!0,n=Wy(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vi(),a===i){t=Ra(e,t,n);break e}Gt(e,t,a,n)}t=t.child}return t;case 26:return po(e,t),e===null?(n=Vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,a=Zo(ti.current).createElement(n),a[Kt]=t,a[vn]=e,Jt(a,n,e),Ht(a),t.stateNode=a):t.memoizedState=Vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xu(t),e===null&&je&&(a=t.stateNode=kp(t.type,t.pendingProps,ti.current),Xt=t,qn=!0,i=rt,yi(t.type)?(Md=i,rt=Vn(a.firstChild)):rt=i),Gt(e,t,t.pendingProps.children,n),po(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((i=a=rt)&&(a=YS(a,t.type,t.pendingProps,qn),a!==null?(t.stateNode=a,Xt=t,rt=Vn(a.firstChild),qn=!1,i=!0):i=!1),i||di(t)),Xu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Nd(i,s)?a=null:r!==null&&Nd(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Ah(e,t,aS,null,null,n),sl._currentValue=i),po(e,t),Gt(e,t,a,n),t.child;case 6:return e===null&&je&&((e=n=rt)&&(n=VS(n,t.pendingProps,qn),n!==null?(t.stateNode=n,Xt=t,rt=null,e=!0):e=!1),e||di(t)),null;case 13:return Yv(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gi(t,null,a,n):Gt(e,t,a,n),t.child;case 11:return ym(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ga(t,t.type,a.value),Gt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ii(t),i=Qt(i),a=a(i),t.flags|=1,Gt(e,t,a,n),t.child;case 14:return vm(e,t,t.type,t.pendingProps,n);case 15:return Hv(e,t,t.type,t.pendingProps,n);case 19:return Vv(e,t,n);case 31:return dS(e,t,n);case 22:return qv(e,t,n,t.pendingProps);case 24:return Ii(t),a=Qt(Dt),e===null?(i=Th(),i===null&&(i=Fe,s=Eh(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Oh(t),Ga(t,Dt,i)):(e.lanes&n&&(cd(e,t),Ur(t,null,null,n),kr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ga(t,Dt,a)):(a=s.cache,Ga(t,Dt,a),a!==i.cache&&ld(t,[Dt],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function ya(e){e.flags|=4}function fu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(mp())e.flags|=8192;else throw Hi=zo,jh}else e.flags&=-16777217}function Em(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!$p(t))if(mp())e.flags|=8192;else throw Hi=zo,jh}function Vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gy():536870912,e.lanes|=t,Vs|=t)}function pr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function fS(e,t,n){var a=t.pendingProps;switch(xh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Oa(Dt),$s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(as(t)?ya(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,iu())),st(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(ya(t),s!==null?(st(t),Em(t,s)):(st(t),fu(t,i,null,a,n))):s?s!==e.memoizedState?(ya(t),st(t),Em(t,s)):(st(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ya(t),st(t),fu(t,i,e,a,n)),null;case 27:if(No(t),n=ti.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ya(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return st(t),null}e=oa.current,as(t)?Wf(t):(e=kp(i,a,n),t.stateNode=e,ya(t))}return st(t),null;case 5:if(No(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ya(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return st(t),null}if(s=oa.current,as(t))Wf(t);else{var r=Zo(ti.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Kt]=t,s[vn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Jt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ya(t)}}return st(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ya(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(R(166));if(e=ti.current,as(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Xt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ap(e.nodeValue,n)),e||di(t,!0)}else e=Zo(e).createTextNode(a),e[Kt]=t,t.stateNode=e}return st(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=as(t),n!==null){if(e===null){if(!a)throw Error(R(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(557));e[Kt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),e=!1}else n=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Sn(t),t):(Sn(t),null);if(t.flags&128)throw Error(R(558))}return st(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=as(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Kt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else i=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Sn(t),t):(Sn(t),null)}return Sn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vl(t,t.updateQueue),st(t),null);case 4:return $s(),e===null&&Zh(t.stateNode.containerInfo),st(t),null;case 10:return Oa(t.type),st(t),null;case 19:if(qt(_t),a=t.memoizedState,a===null)return st(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)pr(a,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Lo(e),s!==null){for(t.flags|=128,pr(a,!1),e=s.updateQueue,t.updateQueue=e,Vl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Gy(n,e),n=n.sibling;return at(_t,_t.current&1|2),je&&wa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&On()>Io&&(t.flags|=128,i=!0,pr(a,!1),t.lanes=4194304)}else{if(!i)if(e=Lo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Vl(t,e),pr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!je)return st(t),null}else 2*On()-a.renderingStartTime>Io&&n!==536870912&&(t.flags|=128,i=!0,pr(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=On(),e.sibling=null,n=_t.current,at(_t,i?n&1|2:n&1),je&&wa(t,a.treeForkCount),e):(st(t),null);case 22:case 23:return Sn(t),Dh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&Vl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&qt(Bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Oa(Dt),st(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function mS(e,t){switch(xh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oa(Dt),$s(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return No(t),null;case 31:if(t.memoizedState!==null){if(Sn(t),t.alternate===null)throw Error(R(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(_t),null;case 4:return $s(),null;case 10:return Oa(t.type),null;case 22:case 23:return Sn(t),Dh(),e!==null&&qt(Bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Oa(Dt),null;case 25:return null;default:return null}}function Gv(e,t){switch(xh(t),t.tag){case 3:Oa(Dt),$s();break;case 26:case 27:case 5:No(t);break;case 4:$s();break;case 31:t.memoizedState!==null&&Sn(t);break;case 13:Sn(t);break;case 19:qt(_t);break;case 10:Oa(t.type);break;case 22:case 23:Sn(t),Dh(),e!==null&&qt(Bi);break;case 24:Oa(Dt)}}function Sl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){Qe(t,t.return,l)}}function hi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(h){Qe(i,o,h)}}}a=a.next}while(a!==s)}}catch(h){Qe(t,t.return,h)}}function Kv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{tv(t,n)}catch(a){Qe(e,e.return,a)}}}function Xv(e,t,n){n.props=Xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Qe(e,t,a)}}function $r(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Qe(e,t,i)}}function la(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Qe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Qe(e,t,i)}else n.current=null}function Qv(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Qe(e,e.return,i)}}function mu(e,t,n){try{var a=e.stateNode;zS(a,e.type,n,t),a[vn]=t}catch(i){Qe(e,e.return,i)}}function Jv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ea));else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}function Vo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vo(e,t,n),e=e.sibling;e!==null;)Vo(e,t,n),e=e.sibling}function Zv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Jt(t,a,n),t[Kt]=e,t[vn]=n}catch(s){Qe(e,e.return,s)}}var Sa=!1,Ot=!1,yu=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function gS(e,t){if(e=e.containerInfo,Od=ec,e=$y(e),ph(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=r+i),d!==s||a!==0&&d.nodeType!==3||(o=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=r),f===s&&++h===a&&(o=r),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:e,selectionRange:n},ec=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var p=Xi(n.type,i);e=a.getSnapshotBeforeUpdate(p,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){Qe(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ad(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function Pv(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:pa(e,n),a&4&&Sl(5,n);break;case 1:if(pa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Qe(n,n.return,r)}else{var i=Xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Qe(n,n.return,r)}}a&64&&Kv(n),a&512&&$r(n,n.return);break;case 3:if(pa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{tv(e,t)}catch(r){Qe(n,n.return,r)}}break;case 27:t===null&&a&4&&Zv(n);case 26:case 5:pa(e,n),t===null&&a&4&&Qv(n),a&512&&$r(n,n.return);break;case 12:pa(e,n);break;case 31:pa(e,n),a&4&&ep(e,n);break;case 13:pa(e,n),a&4&&tp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ES.bind(null,n),IS(e,n))));break;case 22:if(a=n.memoizedState!==null||Sa,!a){t=t!==null&&t.memoizedState!==null||Ot,i=Sa;var s=Ot;Sa=a,(Ot=t)&&!s?ba(e,n,(n.subtreeFlags&8772)!==0):pa(e,n),Sa=i,Ot=s}break;case 30:break;default:pa(e,n)}}function Fv(e){var t=e.alternate;t!==null&&(e.alternate=null,Fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,mn=!1;function va(e,t,n){for(n=n.child;n!==null;)Wv(e,t,n),n=n.sibling}function Wv(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(gl,n)}catch{}switch(n.tag){case 26:Ot||la(n,t),va(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ot||la(n,t);var a=ht,i=mn;yi(n.type)&&(ht=n.stateNode,mn=!1),va(e,t,n),qr(n.stateNode),ht=a,mn=i;break;case 5:Ot||la(n,t);case 6:if(a=ht,i=mn,ht=null,va(e,t,n),ht=a,mn=i,ht!==null)if(mn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(s){Qe(n,t,s)}else try{ht.removeChild(n.stateNode)}catch(s){Qe(n,t,s)}break;case 18:ht!==null&&(mn?(e=ht,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xs(e)):Lm(ht,n.stateNode));break;case 4:a=ht,i=mn,ht=n.stateNode.containerInfo,mn=!0,va(e,t,n),ht=a,mn=i;break;case 0:case 11:case 14:case 15:hi(2,n,t),Ot||hi(4,n,t),va(e,t,n);break;case 1:Ot||(la(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Xv(n,t,a)),va(e,t,n);break;case 21:va(e,t,n);break;case 22:Ot=(a=Ot)||n.memoizedState!==null,va(e,t,n),Ot=a;break;default:va(e,t,n)}}function ep(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xs(e)}catch(n){Qe(t,t.return,n)}}}function tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xs(e)}catch(n){Qe(t,t.return,n)}}function yS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tm),t;default:throw Error(R(435,e.tag))}}function Il(e,t){var n=yS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=TS.bind(null,e,a);a.then(i,i)}})}function hn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(yi(l.type)){ht=l.stateNode,mn=!1;break e}break;case 5:ht=l.stateNode,mn=!1;break e;case 3:case 4:ht=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(ht===null)throw Error(R(160));Wv(s,r,i),ht=null,mn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)np(t,e),t=t.sibling}var Zn=null;function np(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(t,e),fn(e),a&4&&(hi(3,e,e.return),Sl(3,e),hi(5,e,e.return));break;case 1:hn(t,e),fn(e),a&512&&(Ot||n===null||la(n,n.return)),a&64&&Sa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Zn;if(hn(t,e),fn(e),a&512&&(Ot||n===null||la(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[pl]||s[Kt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Jt(s,a,n),s[Kt]=e,Ht(s),a=s;break e;case"link":var r=Gm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Jt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Gm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Jt(s,a,n),i.head.appendChild(s);break;default:throw Error(R(468,a))}s[Kt]=e,Ht(s),a=s}e.stateNode=a}else Km(i,e.type,e.stateNode);else e.stateNode=Im(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Km(i,e.type,e.stateNode):Im(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&mu(e,e.memoizedProps,n.memoizedProps)}break;case 27:hn(t,e),fn(e),a&512&&(Ot||n===null||la(n,n.return)),n!==null&&a&4&&mu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hn(t,e),fn(e),a&512&&(Ot||n===null||la(n,n.return)),e.flags&32){i=e.stateNode;try{Bs(i,"")}catch(p){Qe(e,e.return,p)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,mu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(yu=!0);break;case 6:if(hn(t,e),fn(e),a&4){if(e.stateNode===null)throw Error(R(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){Qe(e,e.return,p)}}break;case 3:if(wo=null,i=Zn,Zn=Po(t.containerInfo),hn(t,e),Zn=i,fn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(p){Qe(e,e.return,p)}yu&&(yu=!1,ap(e));break;case 4:a=Zn,Zn=Po(e.stateNode.containerInfo),hn(t,e),fn(e),Zn=a;break;case 12:hn(t,e),fn(e);break;case 31:hn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 13:hn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Oc=On()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Sa,h=Ot;if(Sa=u||i,Ot=h||o,hn(t,e),Ot=h,Sa=u,fn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Sa||Ot||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){Qe(o,o.return,p)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(p){Qe(o,o.return,p)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Bm(m,!0):Bm(o.stateNode,!1)}catch(p){Qe(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Il(e,n))));break;case 19:hn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 30:break;case 21:break;default:hn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Jv(a)){n=a;break}a=a.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var i=n.stateNode,s=gu(e);Vo(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Bs(r,""),n.flags&=-33);var l=gu(e);Vo(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=gu(e);_d(e,u,o);break;default:throw Error(R(161))}}catch(h){Qe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ap(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pv(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hi(4,t,t.return),Ci(t);break;case 1:la(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xv(t,t.return,n),Ci(t);break;case 27:qr(t.stateNode);case 26:case 5:la(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ba(i,s,n),Sl(4,s);break;case 1:if(ba(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Qe(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)ev(o[i],l)}catch(u){Qe(a,a.return,u)}}n&&r&64&&Kv(s),$r(s,s.return);break;case 27:Zv(s);case 26:case 5:ba(i,s,n),n&&a===null&&r&4&&Qv(s),$r(s,s.return);break;case 12:ba(i,s,n);break;case 31:ba(i,s,n),n&&r&4&&ep(i,s);break;case 13:ba(i,s,n),n&&r&4&&tp(i,s);break;case 22:s.memoizedState===null&&ba(i,s,n),$r(s,s.return);break;case 30:break;default:ba(i,s,n)}t=t.sibling}}function Ih(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_l(n))}function Gh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e))}function Kn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(e,t,n,a),t=t.sibling}function ip(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,a),i&2048&&Sl(9,t);break;case 1:Kn(e,t,n,a);break;case 3:Kn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e)));break;case 12:if(i&2048){Kn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Qe(t,t.return,o)}}else Kn(e,t,n,a);break;case 31:Kn(e,t,n,a);break;case 13:Kn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Kn(e,t,n,a):Lr(e,t):s._visibility&2?Kn(e,t,n,a):(s._visibility|=2,ds(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ih(r,t);break;case 24:Kn(e,t,n,a),i&2048&&Gh(t.alternate,t);break;default:Kn(e,t,n,a)}}function ds(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ds(s,r,l,o,i),Sl(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ds(s,r,l,o,i):Lr(s,r):(h._visibility|=2,ds(s,r,l,o,i)),i&&u&2048&&Ih(r.alternate,r);break;case 24:ds(s,r,l,o,i),i&&u&2048&&Gh(r.alternate,r);break;default:ds(s,r,l,o,i)}t=t.sibling}}function Lr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Lr(n,a),i&2048&&Ih(a.alternate,a);break;case 24:Lr(n,a),i&2048&&Gh(a.alternate,a);break;default:Lr(n,a)}t=t.sibling}}var Tr=8192;function is(e,t,n){if(e.subtreeFlags&Tr)for(e=e.child;e!==null;)sp(e,t,n),e=e.sibling}function sp(e,t,n){switch(e.tag){case 26:is(e,t,n),e.flags&Tr&&e.memoizedState!==null&&nx(n,Zn,e.memoizedState,e.memoizedProps);break;case 5:is(e,t,n);break;case 3:case 4:var a=Zn;Zn=Po(e.stateNode.containerInfo),is(e,t,n),Zn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Tr,Tr=16777216,is(e,t,n),Tr=a):is(e,t,n));break;default:is(e,t,n)}}function rp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function br(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Lt=a,op(a,e)}rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lp(e),e=e.sibling}function lp(e){switch(e.tag){case 0:case 11:case 15:br(e),e.flags&2048&&hi(9,e,e.return);break;case 3:br(e);break;case 12:br(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bo(e)):br(e);break;default:br(e)}}function bo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Lt=a,op(a,e)}rp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hi(8,t,t.return),bo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bo(t));break;default:bo(t)}e=e.sibling}}function op(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:hi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_l(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Lt=a;else e:for(n=e;Lt!==null;){a=Lt;var i=a.sibling,s=a.return;if(Fv(a),a===n){Lt=null;break e}if(i!==null){i.return=s,Lt=i;break e}Lt=s}}}var vS={getCacheForType:function(e){var t=Qt(Dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qt(Dt).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,be=null,xe=0,Xe=0,wn=null,Fa=!1,nr=!1,Kh=!1,Ma=0,vt=0,fi=0,qi=0,Xh=0,jn=0,Vs=0,Br=null,gn=null,wd=!1,Oc=0,cp=0,Io=1/0,Go=null,si=null,Mt=0,ri=null,Is=null,Da=0,Sd=0,xd=null,up=null,Hr=0,Ed=null;function An(){return Le&2&&xe!==0?xe&-xe:te.T!==null?Jh():by()}function dp(){if(jn===0)if(!(xe&536870912)||je){var e=zl;zl<<=1,!(zl&3932160)&&(zl=262144),jn=e}else jn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),jn}function yn(e,t,n){(e===Fe&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),Wa(e,xe,jn,!1)),vl(e,n),(!(Le&2)||e!==Fe)&&(e===Fe&&(!(Le&2)&&(qi|=n),vt===4&&Wa(e,xe,jn,!1)),ua(e))}function hp(e,t,n){if(Le&6)throw Error(R(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||yl(e,t),i=a?wS(e,t):vu(e,t,!0),s=a;do{if(i===0){nr&&!a&&Wa(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!bS(n)){i=vu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Br;var o=l.current.memoizedState.isDehydrated;if(o&&(Gs(l,r).flags|=256),r=vu(l,r,!1),r!==2){if(Kh&&!o){l.errorRecoveryDisabledLanes|=s,qi|=s,i=4;break e}s=gn,gn=i,s!==null&&(gn===null?gn=s:gn.push.apply(gn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Gs(e,0),Wa(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:Wa(a,t,jn,!Fa);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(i=Oc+300-On(),10<i)){if(Wa(a,t,jn,!Fa),yc(a,0,!0)!==0)break e;Da=t,a.timeoutHandle=Rp(jm.bind(null,a,n,gn,Go,wd,t,jn,qi,Vs,Fa,s,"Throttled",-0,0),i);break e}jm(a,n,gn,Go,wd,t,jn,qi,Vs,Fa,s,null,-0,0)}}break}while(!0);ua(e)}function jm(e,t,n,a,i,s,r,l,o,u,h,d,f,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},sp(t,s,d);var p=(s&62914560)===s?Oc-On():(s&4194048)===s?cp-On():0;if(p=ax(d,p),p!==null){Da=s,e.cancelPendingCommit=p(Dm.bind(null,e,t,s,n,a,i,r,l,o,h,d,null,f,m)),Wa(e,s,r,!u);return}}Dm(e,t,s,n,a,i,r,l,o)}function bS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t,n,a){t&=~Xh,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Nn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&yy(e,n,t)}function Dc(){return Le&6?!0:(xl(0),!1)}function Qh(){if(be!==null){if(Xe===0)var e=be.return;else e=be,Ta=Fi=null,Mh(e),Rs=null,el=0,e=be;for(;e!==null;)Gv(e.alternate,e),e=e.return;be=null}}function Gs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,BS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Da=0,Qh(),Fe=e,be=n=ja(e.current,null),xe=t,Xe=0,wn=null,Fa=!1,nr=yl(e,t),Kh=!1,Vs=jn=Xh=qi=fi=vt=0,gn=Br=null,wd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Nn(a),s=1<<i;t|=e[i],a&=~s}return Ma=t,_c(),n}function fp(e,t){ue=null,te.H=nl,t===tr||t===Sc?(t=im(),Xe=3):t===jh?(t=im(),Xe=4):Xe=t===Yh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,be===null&&(vt=1,qo(e,Hn(t,e.current)))}function mp(){var e=Rn.current;return e===null?!0:(xe&4194048)===xe?Yn===null:(xe&62914560)===xe||xe&536870912?e===Yn:!1}function gp(){var e=te.H;return te.H=nl,e===null?nl:e}function yp(){var e=te.A;return te.A=vS,e}function Ko(){vt=4,Fa||(xe&4194048)!==xe&&Rn.current!==null||(nr=!0),!(fi&134217727)&&!(qi&134217727)||Fe===null||Wa(Fe,xe,jn,!1)}function vu(e,t,n){var a=Le;Le|=2;var i=gp(),s=yp();(Fe!==e||xe!==t)&&(Go=null,Gs(e,t)),t=!1;var r=vt;e:do try{if(Xe!==0&&be!==null){var l=be,o=wn;switch(Xe){case 8:Qh(),r=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(t=!0);var u=Xe;if(Xe=0,wn=null,Os(e,l,o,u),n&&nr){r=0;break e}break;default:u=Xe,Xe=0,wn=null,Os(e,l,o,u)}}_S(),r=vt;break}catch(h){fp(e,h)}while(!0);return t&&e.shellSuspendCounter++,Ta=Fi=null,Le=a,te.H=i,te.A=s,be===null&&(Fe=null,xe=0,_c()),r}function _S(){for(;be!==null;)vp(be)}function wS(e,t){var n=Le;Le|=2;var a=gp(),i=yp();Fe!==e||xe!==t?(Go=null,Io=On()+500,Gs(e,t)):nr=yl(e,t);e:do try{if(Xe!==0&&be!==null){t=be;var s=wn;t:switch(Xe){case 1:Xe=0,wn=null,Os(e,t,s,1);break;case 2:case 9:if(am(s)){Xe=0,wn=null,Om(t);break}t=function(){Xe!==2&&Xe!==9||Fe!==e||(Xe=7),ua(e)},s.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:am(s)?(Xe=0,wn=null,Om(t)):(Xe=0,wn=null,Os(e,t,s,7));break;case 5:var r=null;switch(be.tag){case 26:r=be.memoizedState;case 5:case 27:var l=be;if(r?$p(r):l.stateNode.complete){Xe=0,wn=null;var o=l.sibling;if(o!==null)be=o;else{var u=l.return;u!==null?(be=u,Nc(u)):be=null}break t}}Xe=0,wn=null,Os(e,t,s,5);break;case 6:Xe=0,wn=null,Os(e,t,s,6);break;case 8:Qh(),vt=6;break e;default:throw Error(R(462))}}SS();break}catch(h){fp(e,h)}while(!0);return Ta=Fi=null,te.H=a,te.A=i,Le=n,be!==null?0:(Fe=null,xe=0,_c(),vt)}function SS(){for(;be!==null&&!G_();)vp(be)}function vp(e){var t=Iv(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?Nc(e):be=t}function Om(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_m(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=_m(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Mh(t);default:Gv(n,t),t=be=Gy(t,Ma),t=Iv(n,t,Ma)}e.memoizedProps=e.pendingProps,t===null?Nc(e):be=t}function Os(e,t,n,a){Ta=Fi=null,Mh(t),Rs=null,el=0;var i=t.return;try{if(uS(e,i,t,n,xe)){vt=1,qo(e,Hn(n,e.current)),be=null;return}}catch(s){if(i!==null)throw be=i,s;vt=1,qo(e,Hn(n,e.current)),be=null;return}t.flags&32768?(je||a===1?e=!0:nr||xe&536870912?e=!1:(Fa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),pp(t,e)):Nc(t)}function Nc(e){var t=e;do{if(t.flags&32768){pp(t,Fa);return}e=t.return;var n=fS(t.alternate,t,Ma);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);vt===0&&(vt=5)}function pp(e,t){do{var n=mS(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);vt=6,be=null}function Dm(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do Ac();while(Mt!==0);if(Le&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(s=t.lanes|t.childLanes,s|=bh,tw(e,n,s,r,l,o),e===Fe&&(be=Fe=null,xe=0),Is=t,ri=e,Da=n,Sd=s,xd=i,up=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,jS(Ao,function(){return xp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=te.T,te.T=null,i=Be.p,Be.p=2,r=Le,Le|=4;try{gS(e,t,n)}finally{Le=r,Be.p=i,te.T=a}}Mt=1,bp(),_p(),wp()}}function bp(){if(Mt===1){Mt=0;var e=ri,t=Is,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=te.T,te.T=null;var a=Be.p;Be.p=2;var i=Le;Le|=4;try{np(t,e);var s=Dd,r=$y(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&zy(l.ownerDocument.documentElement,l)){if(o!==null&&ph(l)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=l.textContent.length,b=Math.min(o.start,p),T=o.end===void 0?b:Math.min(o.end,p);!m.extend&&b>T&&(r=T,T=b,b=r);var v=Zf(l,b),g=Zf(l,T);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=d.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),b>T?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(d=[],m=l;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var _=d[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}ec=!!Od,Dd=Od=null}finally{Le=i,Be.p=a,te.T=n}}e.current=t,Mt=2}}function _p(){if(Mt===2){Mt=0;var e=ri,t=Is,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=te.T,te.T=null;var a=Be.p;Be.p=2;var i=Le;Le|=4;try{Pv(e,t.alternate,t)}finally{Le=i,Be.p=a,te.T=n}}Mt=3}}function wp(){if(Mt===4||Mt===3){Mt=0,K_();var e=ri,t=Is,n=Da,a=up;t.subtreeFlags&10256||t.flags&10256?Mt=5:(Mt=0,Is=ri=null,Sp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(si=null),dh(n),t=t.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(gl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=te.T,i=Be.p,Be.p=2,te.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{te.T=t,Be.p=i}}Da&3&&Ac(),ua(e),i=e.pendingLanes,n&261930&&i&42?e===Ed?Hr++:(Hr=0,Ed=e):Hr=0,xl(0)}}function Sp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_l(t)))}function Ac(){return bp(),_p(),wp(),xp()}function xp(){if(Mt!==5)return!1;var e=ri,t=Sd;Sd=0;var n=dh(Da),a=te.T,i=Be.p;try{Be.p=32>n?32:n,te.T=null,n=xd,xd=null;var s=ri,r=Da;if(Mt=0,Is=ri=null,Da=0,Le&6)throw Error(R(331));var l=Le;if(Le|=4,lp(s.current),ip(s,s.current,r,n),Le=l,xl(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(gl,s)}catch{}return!0}finally{Be.p=i,te.T=a,Sp(e,t)}}function Nm(e,t,n){t=Hn(n,t),t=vd(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(vl(e,2),ua(e))}function Qe(e,t,n){if(e.tag===3)Nm(e,e,n);else for(;t!==null;){if(t.tag===3){Nm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=Hn(n,e),n=Lv(2),a=ii(t,n,2),a!==null&&(Bv(n,a,t,e),vl(a,2),ua(a));break}}t=t.return}}function pu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new pS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Kh=!0,i.add(n),e=xS.bind(null,e,t,n),t.then(e,e))}function xS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(xe&n)===n&&(vt===4||vt===3&&(xe&62914560)===xe&&300>On()-Oc?!(Le&2)&&Gs(e,0):Xh|=n,Vs===xe&&(Vs=0)),ua(e)}function Ep(e,t){t===0&&(t=gy()),e=Pi(e,t),e!==null&&(vl(e,t),ua(e))}function ES(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function TS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(R(314))}a!==null&&a.delete(t),Ep(e,n)}function jS(e,t){return ch(e,t)}var Xo=null,hs=null,Td=!1,Qo=!1,bu=!1,ei=0;function ua(e){e!==hs&&e.next===null&&(hs===null?Xo=hs=e:hs=hs.next=e),Qo=!0,Td||(Td=!0,DS())}function xl(e,t){if(!bu&&Qo){bu=!0;do for(var n=!1,a=Xo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Nn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Am(a,s))}else s=xe,s=yc(a,a===Fe?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||yl(a,s)||(n=!0,Am(a,s));a=a.next}while(n);bu=!1}}function OS(){Tp()}function Tp(){Qo=Td=!1;var e=0;ei!==0&&LS()&&(e=ei);for(var t=On(),n=null,a=Xo;a!==null;){var i=a.next,s=jp(a,t);s===0?(a.next=null,n===null?Xo=i:n.next=i,i===null&&(hs=n)):(n=a,(e!==0||s&3)&&(Qo=!0)),a=i}Mt!==0&&Mt!==5||xl(e),ei!==0&&(ei=0)}function jp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Nn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=ew(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=Fe,n=xe,n=yc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Xc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||yl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Xc(a),dh(n)){case 2:case 8:n=fy;break;case 32:n=Ao;break;case 268435456:n=my;break;default:n=Ao}return a=Op.bind(null,e),n=ch(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Xc(a),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,t){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var a=xe;return a=yc(e,e===Fe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(hp(e,a,t),jp(e,On()),e.callbackNode!=null&&e.callbackNode===n?Op.bind(null,e):null)}function Am(e,t){if(Ac())return null;hp(e,t,!0)}function DS(){HS(function(){Le&6?ch(hy,OS):Tp()})}function Jh(){if(ei===0){var e=Hs;e===0&&(e=Ul,Ul<<=1,!(Ul&261888)&&(Ul=256)),ei=e}return ei}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function Rm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function NS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Cm((i[vn]||null).action),r=a.submitter;r&&(t=(t=r[vn]||null)?Cm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new vc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ei!==0){var o=r?Rm(i,r):new FormData(i);gd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?Rm(i,r):new FormData(i),gd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var _u=0;_u<ad.length;_u++){var wu=ad[_u],AS=wu.toLowerCase(),CS=wu[0].toUpperCase()+wu.slice(1);ea(AS,"on"+CS)}ea(By,"onAnimationEnd");ea(Hy,"onAnimationIteration");ea(qy,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(Xw,"onTransitionRun");ea(Qw,"onTransitionStart");ea(Jw,"onTransitionCancel");ea(Yy,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Dp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(h){Ro(h)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(h){Ro(h)}i.currentTarget=null,s=o}}}}function pe(e,t){var n=t[Ju];n===void 0&&(n=t[Ju]=new Set);var a=e+"__bubble";n.has(a)||(Np(t,e,2,!1),n.add(a))}function Su(e,t,n){var a=0;t&&(a|=4),Np(n,e,a,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Zh(e){if(!e[Gl]){e[Gl]=!0,_y.forEach(function(n){n!=="selectionchange"&&(RS.has(n)||Su(n,!1,e),Su(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,Su("selectionchange",!1,t))}}function Np(e,t,n,a){switch(Yp(t)){case 2:var i=rx;break;case 8:i=lx;break;default:i=ef}n=i.bind(null,t,n,e),i=void 0,!ed||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=ps(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Dy(function(){var u=s,h=mh(n),d=[];e:{var f=Vy.get(e);if(f!==void 0){var m=vc,p=e;switch(e){case"keypress":if(ho(n)===0)break e;case"keydown":case"keyup":m=Tw;break;case"focusin":p="focus",m=Fc;break;case"focusout":p="blur",m=Fc;break;case"beforeblur":case"afterblur":m=Fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dw;break;case By:case Hy:case qy:m=yw;break;case Yy:m=Aw;break;case"scroll":case"scrollend":m=dw;break;case"wheel":m=Rw;break;case"copy":case"cut":case"paste":m=pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yf;break;case"toggle":case"beforetoggle":m=kw}var b=(t&4)!==0,T=!b&&(e==="scroll"||e==="scrollend"),v=b?f!==null?f+"Capture":null:f;b=[];for(var g=u,y;g!==null;){var _=g;if(y=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||y===null||v===null||(_=Jr(g,v),_!=null&&b.push(il(g,_,y))),T)break;g=g.return}0<b.length&&(f=new m(f,p,null,n,h),d.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Wu&&(p=n.relatedTarget||n.fromElement)&&(ps(p)||p[Fs]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?ps(p):null,p!==null&&(T=ml(p),b=p.tag,p!==T||b!==5&&b!==27&&b!==6)&&(p=null)):(m=null,p=u),m!==p)){if(b=Hf,_="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Yf,_="onPointerLeave",v="onPointerEnter",g="pointer"),T=m==null?f:xr(m),y=p==null?f:xr(p),f=new b(_,g+"leave",m,n,h),f.target=T,f.relatedTarget=y,_=null,ps(h)===u&&(b=new b(v,g+"enter",p,n,h),b.target=y,b.relatedTarget=T,_=b),T=_,m&&p)t:{for(b=MS,v=m,g=p,y=0,_=v;_;_=b(_))y++;_=0;for(var w=g;w;w=b(w))_++;for(;0<y-_;)v=b(v),y--;for(;0<_-y;)g=b(g),_--;for(;y--;){if(v===g||g!==null&&v===g.alternate){b=v;break t}v=b(v),g=b(g)}b=null}else b=null;m!==null&&Mm(d,f,m,b,!1),p!==null&&T!==null&&Mm(d,T,p,b,!0)}}e:{if(f=u?xr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=Kf;else if(Gf(f))if(ky)x=Iw;else{x=Yw;var E=qw}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&fh(u.elementType)&&(x=Kf):x=Vw;if(x&&(x=x(e,u))){My(d,x,n,h);break e}E&&E(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Fu(f,"number",f.value)}switch(E=u?xr(u):window,e){case"focusin":(Gf(E)||E.contentEditable==="true")&&(ws=E,td=u,Cr=null);break;case"focusout":Cr=td=ws=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Pf(d,n,h);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Pf(d,n,h)}var j;if(vh)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else _s?Cy(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Ay&&n.locale!=="ko"&&(_s||O!=="onCompositionStart"?O==="onCompositionEnd"&&_s&&(j=Ny()):(Pa=h,gh="value"in Pa?Pa.value:Pa.textContent,_s=!0)),E=Jo(u,O),0<E.length&&(O=new qf(O,e,null,n,h),d.push({event:O,listeners:E}),j?O.data=j:(j=Ry(n),j!==null&&(O.data=j)))),(j=zw?$w(e,n):Lw(e,n))&&(O=Jo(u,"onBeforeInput"),0<O.length&&(E=new qf("onBeforeInput","beforeinput",null,n,h),d.push({event:E,listeners:O}),E.data=j)),NS(d,e,u,n,h)}Dp(d,t)})}function il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Jr(e,n),i!=null&&a.unshift(il(e,i,s)),i=Jr(e,t),i!=null&&a.push(il(e,i,s))),e.tag===3)return a;e=e.return}return[]}function MS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mm(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=Jr(n,s),u!=null&&r.unshift(il(n,u,o))):i||(u=Jr(n,s),u!=null&&r.push(il(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var kS=/\r\n?/g,US=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(kS,`
`).replace(US,"")}function Ap(e,t){return t=km(t),km(e)===t}function Ze(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Bs(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Bs(e,""+a);break;case"className":Ll(e,"class",a);break;case"tabIndex":Ll(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(e,n,a);break;case"style":Oy(e,a,s);break;case"data":if(t!=="object"){Ll(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=co(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",i.name,i,null),Ze(e,t,"formEncType",i.formEncType,i,null),Ze(e,t,"formMethod",i.formMethod,i,null),Ze(e,t,"formTarget",i.formTarget,i,null)):(Ze(e,t,"encType",i.encType,i,null),Ze(e,t,"method",i.method,i,null),Ze(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=co(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Ea);break;case"onScroll":a!=null&&pe("scroll",e);break;case"onScrollEnd":a!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=co(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":pe("beforetoggle",e),pe("toggle",e),oo(e,"popover",a);break;case"xlinkActuate":ga(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ga(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ga(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ga(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ga(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ga(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ga(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ga(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ga(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":oo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cw.get(n)||n,oo(e,n,a))}}function jd(e,t,n,a,i,s){switch(n){case"style":Oy(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Bs(e,a):(typeof a=="number"||typeof a=="bigint")&&Bs(e,""+a);break;case"onScroll":a!=null&&pe("scroll",e);break;case"onScrollEnd":a!=null&&pe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wy.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[vn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):oo(e,n,a)}}}function Jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:Ze(e,t,s,r,n,null)}}i&&Ze(e,t,"srcSet",n.srcSet,n,null),a&&Ze(e,t,"src",n.src,n,null);return;case"input":pe("invalid",e);var l=s=r=i=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(h!=null)switch(a){case"name":i=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,t));break;default:Ze(e,t,a,h,n,null)}}Ey(e,s,l,o,u,r,i,!1);return;case"select":pe("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ze(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?Ns(e,!!a,t,!1):n!=null&&Ns(e,!!a,n,!0);return;case"textarea":pe("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(R(91));break;default:Ze(e,t,r,l,n,null)}jy(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ze(e,t,o,a,n,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(a=0;a<al.length;a++)pe(al[a],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:Ze(e,t,u,a,n,null)}return;default:if(fh(t)){for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!==void 0&&jd(e,t,h,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ze(e,t,l,a,n,null))}function zS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,u=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(m)||Ze(e,t,m,null,a,d)}}for(var f in a){var m=a[f];if(d=n[f],a.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(R(137,t));break;default:m!==d&&Ze(e,t,f,m,a,d)}}Pu(e,r,l,o,u,h,s,i);return;case"select":m=r=l=f=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Ze(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Ze(e,t,i,s,a,o)}t=l,n=r,a=m,f!=null?Ns(e,!!n,f,!1):!!a!=!!n&&(t!=null?Ns(e,!!n,t,!0):Ns(e,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ze(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(R(91));break;default:i!==s&&Ze(e,t,r,i,a,s)}Ty(e,f,m);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Ze(e,t,p,null,a,f)}for(o in a)if(f=a[o],m=n[o],a.hasOwnProperty(o)&&f!==m&&(f!=null||m!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ze(e,t,o,f,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!a.hasOwnProperty(b)&&Ze(e,t,b,null,a,f);for(u in a)if(f=a[u],m=n[u],a.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(R(137,t));break;default:Ze(e,t,u,f,a,m)}return;default:if(fh(t)){for(var T in n)f=n[T],n.hasOwnProperty(T)&&f!==void 0&&!a.hasOwnProperty(T)&&jd(e,t,T,void 0,a,f);for(h in a)f=a[h],m=n[h],!a.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||jd(e,t,h,f,a,m);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!a.hasOwnProperty(v)&&Ze(e,t,v,null,a,f);for(d in a)f=a[d],m=n[d],!a.hasOwnProperty(d)||f===m||f==null&&m==null||Ze(e,t,d,f,a,m)}function Um(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&Um(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var h=o.transferSize,d=o.initiatorType;h&&Um(d)&&(o=o.responseEnd,r+=h*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Od=null,Dd=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eu=null;function LS(){var e=window.event;return e&&e.type==="popstate"?e===Eu?!1:(Eu=e,!0):(Eu=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(e){return $m.resolve(null).then(e).catch(qS)}:Rp;function qS(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function Lm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Xs(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")qr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,qr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[pl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&qr(e.ownerDocument.body);n=i}while(n);Xs(t)}function Bm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Ad(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),hh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function YS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function VS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Mp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Md=null;function Hm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function kp(e,t,n){switch(t=Zo(n),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function qr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hh(e)}var In=new Map,Ym=new Set;function Po(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ka=Be.d;Be.d={f:GS,r:KS,D:XS,C:QS,L:JS,m:ZS,X:FS,S:PS,M:WS};function GS(){var e=ka.f(),t=Dc();return e||t}function KS(e){var t=Ws(e);t!==null&&t.tag===5&&t.type==="form"?Ov(t):ka.r(e)}var ar=typeof document>"u"?null:document;function Up(e,t,n){var a=ar;if(a&&typeof t=="string"&&t){var i=Bn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ym.has(i)||(Ym.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Jt(t,"link",e),Ht(t),a.head.appendChild(t)))}}function XS(e){ka.D(e),Up("dns-prefetch",e,null)}function QS(e,t){ka.C(e,t),Up("preconnect",e,t)}function JS(e,t,n){ka.L(e,t,n);var a=ar;if(a&&e&&t){var i='link[rel="preload"][as="'+Bn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Bn(n.imageSizes)+'"]')):i+='[href="'+Bn(e)+'"]';var s=i;switch(t){case"style":s=Ks(e);break;case"script":s=ir(e)}In.has(s)||(e=ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(El(s))||t==="script"&&a.querySelector(Tl(s))||(t=a.createElement("link"),Jt(t,"link",e),Ht(t),a.head.appendChild(t)))}}function ZS(e,t){ka.m(e,t);var n=ar;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Bn(a)+'"][href="'+Bn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ir(e)}if(!In.has(s)&&(e=ot({rel:"modulepreload",href:e},t),In.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tl(s)))return}a=n.createElement("link"),Jt(a,"link",e),Ht(a),n.head.appendChild(a)}}}function PS(e,t,n){ka.S(e,t,n);var a=ar;if(a&&e){var i=Ds(a).hoistableStyles,s=Ks(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(El(s)))l.loading=5;else{e=ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(s))&&Ph(e,n);var o=r=a.createElement("link");Ht(o),Jt(o,"link",e),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,_o(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function FS(e,t){ka.X(e,t);var n=ar;if(n&&e){var a=Ds(n).hoistableScripts,i=ir(e),s=a.get(i);s||(s=n.querySelector(Tl(i)),s||(e=ot({src:e,async:!0},t),(t=In.get(i))&&Fh(e,t),s=n.createElement("script"),Ht(s),Jt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function WS(e,t){ka.M(e,t);var n=ar;if(n&&e){var a=Ds(n).hoistableScripts,i=ir(e),s=a.get(i);s||(s=n.querySelector(Tl(i)),s||(e=ot({src:e,async:!0,type:"module"},t),(t=In.get(i))&&Fh(e,t),s=n.createElement("script"),Ht(s),Jt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Vm(e,t,n,a){var i=(i=ti.current)?Po(i):null;if(!i)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ks(n.href),n=Ds(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ks(n.href);var s=Ds(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(El(e)))&&!s._p&&(r.instance=s,r.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),s||ex(i,e,n,r.state))),t&&a===null)throw Error(R(528,""));return r}if(t&&a!==null)throw Error(R(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ir(n),n=Ds(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function Ks(e){return'href="'+Bn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function zp(e){return ot({},e,{"data-precedence":e.precedence,precedence:null})}function ex(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Jt(t,"link",n),Ht(t),e.head.appendChild(t))}function ir(e){return'[src="'+Bn(e)+'"]'}function Tl(e){return"script[async]"+e}function Im(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Bn(n.href)+'"]');if(a)return t.instance=a,Ht(a),a;var i=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ht(a),Jt(a,"style",i),_o(a,n.precedence,e),t.instance=a;case"stylesheet":i=Ks(n.href);var s=e.querySelector(El(i));if(s)return t.state.loading|=4,t.instance=s,Ht(s),s;a=zp(n),(i=In.get(i))&&Ph(a,i),s=(e.ownerDocument||e).createElement("link"),Ht(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Jt(s,"link",a),t.state.loading|=4,_o(s,n.precedence,e),t.instance=s;case"script":return s=ir(n.src),(i=e.querySelector(Tl(s)))?(t.instance=i,Ht(i),i):(a=n,(i=In.get(s))&&(a=ot({},n),Fh(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ht(i),Jt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,_o(a,n.precedence,e));return t.instance}function _o(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wo=null;function Gm(e,t,n){if(wo===null){var a=new Map,i=wo=new Map;i.set(n,a)}else i=wo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[pl]||s[Kt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function tx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function nx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ks(a.href),s=t.querySelector(El(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Fo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ht(s);return}s=t.ownerDocument||t,a=zp(a),(i=In.get(i))&&Ph(a,i),s=s.createElement("link"),Ht(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Jt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Fo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Tu=0;function ax(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Tu===0&&(Tu=62500*$S());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Tu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Fo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wo=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wo=new Map,t.forEach(ix,e),Wo=null,Fo.call(e))}function ix(e,t){if(!(t.state.loading&4)){var n=Wo.get(e);if(n)var a=n.get(null);else{n=new Map,Wo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Fo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var sl={$$typeof:xa,Provider:null,Consumer:null,_currentValue:$i,_currentValue2:$i,_threadCount:0};function sx(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Lp(e,t,n,a,i,s,r,l,o,u,h,d){return e=new sx(e,t,n,r,o,u,h,d,l),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=Eh(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Oh(s),e}function Bp(e){return e?(e=Es,e):Es}function Hp(e,t,n,a,i,s){i=Bp(i),a.context===null?a.context=i:a.pendingContext=i,a=ai(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ii(e,a,t),n!==null&&(yn(n,e,t),Mr(n,e,t))}function Xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wh(e,t){Xm(e,t),(e=e.alternate)&&Xm(e,t)}function qp(e){if(e.tag===13||e.tag===31){var t=Pi(e,67108864);t!==null&&yn(t,e,67108864),Wh(e,67108864)}}function Qm(e){if(e.tag===13||e.tag===31){var t=An();t=uh(t);var n=Pi(e,t);n!==null&&yn(n,e,t),Wh(e,t)}}var ec=!0;function rx(e,t,n,a){var i=te.T;te.T=null;var s=Be.p;try{Be.p=2,ef(e,t,n,a)}finally{Be.p=s,te.T=i}}function lx(e,t,n,a){var i=te.T;te.T=null;var s=Be.p;try{Be.p=8,ef(e,t,n,a)}finally{Be.p=s,te.T=i}}function ef(e,t,n,a){if(ec){var i=kd(a);if(i===null)xu(e,t,a,tc,n),Jm(e,a);else if(cx(i,e,t,n,a))a.stopPropagation();else if(Jm(e,a),t&4&&-1<ox.indexOf(e)){for(;i!==null;){var s=Ws(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Ni(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Nn(r);l.entanglements[1]|=o,r&=~o}ua(s),!(Le&6)&&(Io=On()+500,xl(0))}}break;case 31:case 13:l=Pi(s,2),l!==null&&yn(l,s,2),Dc(),Wh(s,2)}if(s=kd(a),s===null&&xu(e,t,a,tc,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else xu(e,t,a,null,n)}}function kd(e){return e=mh(e),tf(e)}var tc=null;function tf(e){if(tc=null,e=ps(e),e!==null){var t=ml(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ly(t),e!==null)return e;e=null}else if(n===31){if(e=oy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tc=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X_()){case hy:return 2;case fy:return 8;case Ao:case Q_:return 32;case my:return 268435456;default:return 32}default:return 32}}var Ud=!1,li=null,oi=null,ci=null,rl=new Map,ll=new Map,Qa=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function _r(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ws(t),t!==null&&qp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cx(e,t,n,a,i){switch(t){case"focusin":return li=_r(li,e,t,n,a,i),!0;case"dragenter":return oi=_r(oi,e,t,n,a,i),!0;case"mouseover":return ci=_r(ci,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return rl.set(s,_r(rl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ll.set(s,_r(ll.get(s)||null,e,t,n,a,i)),!0}return!1}function Vp(e){var t=ps(e.target);if(t!==null){var n=ml(t);if(n!==null){if(t=n.tag,t===13){if(t=ly(n),t!==null){e.blockedOn=t,Mf(e.priority,function(){Qm(n)});return}}else if(t===31){if(t=oy(n),t!==null){e.blockedOn=t,Mf(e.priority,function(){Qm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kd(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Wu=a,n.target.dispatchEvent(a),Wu=null}else return t=Ws(n),t!==null&&qp(t),e.blockedOn=n,!1;t.shift()}return!0}function Zm(e,t,n){xo(e)&&n.delete(t)}function ux(){Ud=!1,li!==null&&xo(li)&&(li=null),oi!==null&&xo(oi)&&(oi=null),ci!==null&&xo(ci)&&(ci=null),rl.forEach(Zm),ll.forEach(Zm)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ud||(Ud=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,ux)))}var Xl=null;function Pm(e){Xl!==e&&(Xl=e,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(tf(a||n)===null)continue;break}var s=Ws(n);s!==null&&(e.splice(t,3),t-=3,gd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Xs(e){function t(o){return Kl(o,e)}li!==null&&Kl(li,e),oi!==null&&Kl(oi,e),ci!==null&&Kl(ci,e),rl.forEach(t),ll.forEach(t);for(var n=0;n<Qa.length;n++){var a=Qa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)Vp(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[vn]||null;if(typeof s=="function")r||Pm(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[vn]||null)l=r.formAction;else if(tf(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Pm(n)}}}function Ip(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function nf(e){this._internalRoot=e}Cc.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var n=t.current,a=An();Hp(n,a,e,t,null,null)};Cc.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hp(e.current,2,null,e,null,null),Dc(),t[Fs]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=by();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&Vp(e)}};var Fm=sy.version;if(Fm!=="19.2.0")throw Error(R(527,Fm,"19.2.0"));Be.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=H_(t),e=e!==null?cy(e):null,e=e===null?null:e.stateNode,e};var dx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{gl=Ql.inject(dx),Dn=Ql}catch{}}mc.createRoot=function(e,t){if(!ry(e))throw Error(R(299));var n=!1,a="",i=Uv,s=zv,r=$v;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Lp(e,1,!1,null,null,n,a,null,i,s,r,Ip),e[Fs]=t.current,Zh(e),new nf(t)};mc.hydrateRoot=function(e,t,n){if(!ry(e))throw Error(R(299));var a=!1,i="",s=Uv,r=zv,l=$v,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Lp(e,1,!0,t,n??null,a,i,o,s,r,l,Ip),t.context=Bp(null),n=t.current,a=An(),a=uh(a),i=ai(a),i.callback=null,ii(n,i,a),n=a,t.current.lanes=n,vl(t,n),ua(t),e[Fs]=t.current,Zh(e),new Cc(t)};mc.version="19.2.0";function Gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gp)}catch(e){console.error(e)}}Gp(),Wg.exports=mc;var hx=Wg.exports,zd=function(e,t){return zd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},zd(e,t)};function Kp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var nc=function(){return nc=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nc.apply(this,arguments)};function sr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Xp(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Qp(e,t){return function(n,a){t(n,a,e)}}function Jp(e,t,n,a,i,s){function r(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),d,f=!1,m=n.length-1;m>=0;m--){var p={};for(var b in a)p[b]=b==="access"?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(v||null))};var T=(0,n[m])(l==="accessor"?{get:h.get,set:h.set}:h[o],p);if(l==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(d=r(T.get))&&(h.get=d),(d=r(T.set))&&(h.set=d),(d=r(T.init))&&i.unshift(d)}else(d=r(T))&&(l==="field"?i.unshift(d):h[o]=d)}u&&Object.defineProperty(u,a.name,h),f=!0}function Zp(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function Pp(e){return typeof e=="symbol"?e:"".concat(e)}function Fp(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Wp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function K(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(h){try{u(a.next(h))}catch(d){r(d)}}function o(h){try{u(a.throw(h))}catch(d){r(d)}}function u(h){h.done?s(h.value):i(h.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function e0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(h){return o([u,h])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(h){u=[6,h],i=0}finally{a=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Rc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function t0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rc(t,e,n)}function ac(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function af(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function n0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(af(arguments[t]));return e}function a0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function i0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function s0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(p){return Promise.resolve(p).then(m,d)}}function l(m,p){a[m]&&(i[m]=function(b){return new Promise(function(T,v){s.push([m,b,T,v])>1||o(m,b)})},p&&(i[m]=p(i[m])))}function o(m,p){try{u(a[m](p))}catch(b){f(s[0][3],b)}}function u(m){m.value instanceof Qs?Promise.resolve(m.value.v).then(h,d):f(s[0][2],m)}function h(m){o("next",m)}function d(m){o("throw",m)}function f(m,p){m(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}function r0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:Qs(e[i](r)),done:!1}:s?s(r):r}:s}}function l0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ac=="function"?ac(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(u){s({value:u,done:l})},r)}}function o0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var fx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},$d=function(e){return $d=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},$d(e)};function c0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=$d(e),a=0;a<n.length;a++)n[a]!=="default"&&Rc(t,e,n[a]);return fx(t,e),t}function u0(e){return e&&e.__esModule?e:{default:e}}function d0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function h0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function f0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function m0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var mx=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function g0(e){function t(s){e.error=e.hasError?new mx(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function y0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const gx={__extends:Kp,__assign:nc,__rest:sr,__decorate:Xp,__param:Qp,__esDecorate:Jp,__runInitializers:Zp,__propKey:Pp,__setFunctionName:Fp,__metadata:Wp,__awaiter:K,__generator:e0,__createBinding:Rc,__exportStar:t0,__values:ac,__read:af,__spread:n0,__spreadArrays:a0,__spreadArray:i0,__await:Qs,__asyncGenerator:s0,__asyncDelegator:r0,__asyncValues:l0,__makeTemplateObject:o0,__importStar:c0,__importDefault:u0,__classPrivateFieldGet:d0,__classPrivateFieldSet:h0,__classPrivateFieldIn:f0,__addDisposableResource:m0,__disposeResources:g0,__rewriteRelativeImportExtension:y0},yx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:m0,get __assign(){return nc},__asyncDelegator:r0,__asyncGenerator:s0,__asyncValues:l0,__await:Qs,__awaiter:K,__classPrivateFieldGet:d0,__classPrivateFieldIn:f0,__classPrivateFieldSet:h0,__createBinding:Rc,__decorate:Xp,__disposeResources:g0,__esDecorate:Jp,__exportStar:t0,__extends:Kp,__generator:e0,__importDefault:u0,__importStar:c0,__makeTemplateObject:o0,__metadata:Wp,__param:Qp,__propKey:Pp,__read:af,__rest:sr,__rewriteRelativeImportExtension:y0,__runInitializers:Zp,__setFunctionName:Fp,__spread:n0,__spreadArray:i0,__spreadArrays:a0,__values:ac,default:gx},Symbol.toStringTag,{value:"Module"})),vx="modulepreload",px=function(e){return"/todo-note/"+e},Wm={},rr=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=px(o),o in Wm)return;Wm[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vx,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},bx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class sf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class eg extends sf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tg extends sf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ng extends sf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ld;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ld||(Ld={}));class _x{constructor(t,{headers:n={},customFetch:a,region:i=Ld.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=bx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let u={},{region:h}=a;h||(h=this.region);const d=new URL(`${this.url}/${n}`);h&&h!=="any"&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(d.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new eg(v)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new tg(m);if(!m.ok)throw new ng(m);let b=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield m.json():b==="application/octet-stream"||b==="application/pdf"?T=yield m.blob():b==="text/event-stream"?T=m:b==="multipart/form-data"?T=yield m.formData():T=yield m.text(),{data:T,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new eg(s)}:{data:null,error:s,response:s instanceof ng||s instanceof tg?s.context:void 0}}})}}var ln={};const lr=Vg(yx);var Jl={},Zl={},Pl={},Fl={},Wl={},wx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=wx();const Sx=Js.fetch,v0=Js.fetch.bind(Js),p0=Js.Headers,xx=Js.Request,Ex=Js.Response,Wi=Object.freeze(Object.defineProperty({__proto__:null,Headers:p0,Request:xx,Response:Ex,default:v0,fetch:Sx},Symbol.toStringTag,{value:"Module"})),Tx=Vg(Wi);var eo={},ag;function b0(){if(ag)return eo;ag=1,Object.defineProperty(eo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return eo.default=e,eo}var ig;function _0(){if(ig)return Wl;ig=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=lr,t=e.__importDefault(Tx),n=e.__importDefault(b0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,d,f,m;let p=null,b=null,T=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const x=await u.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=x:b=JSON.parse(x))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&w&&w.length>1&&(T=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,v=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const _=await u.text();try{p=JSON.parse(_),Array.isArray(p)&&u.status===404&&(b=[],p=null,v=200,g="OK")}catch{u.status===404&&_===""?(v=204,g="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:b,count:T,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var h,d,f;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return Wl.default=a,Wl}var sg;function w0(){if(sg)return Fl;sg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const t=lr.__importDefault(_0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var h;const d=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fl.default=n,Fl}var rg;function rf(){if(rg)return Pl;rg=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=lr.__importDefault(w0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${h}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Pl.default=a,Pl}var lg;function S0(){if(lg)return Zl;lg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const t=lr.__importDefault(rf());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Zl.default=n,Zl}var og;function jx(){if(og)return Jl;og=1,Object.defineProperty(Jl,"__esModule",{value:!0});const e=lr,t=e.__importDefault(S0()),n=e.__importDefault(rf());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:u}={}){var h;let d;const f=new URL(`${this.url}/rpc/${s}`);let m;l||o?(d=l?"HEAD":"GET",Object.entries(r).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{f.searchParams.append(b,T)})):(d="POST",m=r);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:p,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Jl.default=a,Jl}Object.defineProperty(ln,"__esModule",{value:!0});var x0=ln.PostgrestError=M0=ln.PostgrestBuilder=C0=ln.PostgrestTransformBuilder=N0=ln.PostgrestFilterBuilder=O0=ln.PostgrestQueryBuilder=T0=ln.PostgrestClient=void 0;const or=lr,E0=or.__importDefault(jx());var T0=ln.PostgrestClient=E0.default;const j0=or.__importDefault(S0());var O0=ln.PostgrestQueryBuilder=j0.default;const D0=or.__importDefault(rf());var N0=ln.PostgrestFilterBuilder=D0.default;const A0=or.__importDefault(w0());var C0=ln.PostgrestTransformBuilder=A0.default;const R0=or.__importDefault(_0());var M0=ln.PostgrestBuilder=R0.default;const k0=or.__importDefault(b0());x0=ln.PostgrestError=k0.default;var U0=ln.default={PostgrestClient:E0.default,PostgrestQueryBuilder:j0.default,PostgrestFilterBuilder:D0.default,PostgrestTransformBuilder:A0.default,PostgrestBuilder:R0.default,PostgrestError:k0.default};const Ox=g_({__proto__:null,get PostgrestBuilder(){return M0},get PostgrestClient(){return T0},get PostgrestError(){return x0},get PostgrestFilterBuilder(){return N0},get PostgrestQueryBuilder(){return O0},get PostgrestTransformBuilder(){return C0},default:U0},[ln]),{PostgrestClient:Dx,PostgrestQueryBuilder:iO,PostgrestFilterBuilder:sO,PostgrestTransformBuilder:rO,PostgrestBuilder:lO,PostgrestError:oO}=U0||Ox;class Nx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ax="2.78.0",Cx=`realtime-js/${Ax}`,Rx="1.0.0",Bd=1e4,Mx=1e3,kx=100;var Yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yr||(Yr={}));var Ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ct||(Ct={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var Hd;(function(e){e.websocket="websocket"})(Hd||(Hd={}));var Mi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mi||(Mi={}));class Ux{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class z0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tt||(tt={}));const cg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=zx(r,e,t,i),s),{}):{}},zx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?$0(s,r):qd(r)},$0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Hx(t,n)}switch(e){case tt.bool:return $x(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return Lx(t);case tt.json:case tt.jsonb:return Bx(t);case tt.timestamp:return qx(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return qd(t);default:return qd(t)}},qd=e=>e,$x=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>$0(t,l))}return e},qx=e=>typeof e=="string"?e.replace(" ","T"):e,L0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ju{constructor(t,n,a={},i=Bd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ug;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ug||(ug={}));class Vr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Vr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(u,h)=>{r[u]||(o[u]=h)}),this.map(r,(u,h)=>{const d=s[u];if(d){const f=h.map(T=>T.presence_ref),m=d.map(T=>T.presence_ref),p=h.filter(T=>m.indexOf(T.presence_ref)<0),b=d.filter(T=>f.indexOf(T.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(o[u]=b)}else l[u]=h}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),h.length>0){const d=t[l].map(m=>m.presence_ref),f=h.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...f)}a(l,h,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const h=o.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dg||(dg={}));var Ir;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ir||(Ir={}));var _a;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class lf{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ju(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Vr(this),this.broadcastEndpointURL=L0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ir.PRESENCE]&&this.bindings[Ir.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(_a.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(_a.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,T=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<T;g++){const y=b[g],{filter:{event:_,schema:w,table:x,filter:E}}=y,j=m&&m[g];if(j&&j.event===_&&j.schema===w&&j.table===x&&j.filter===E)v.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Ct.errored,t==null||t(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(_a.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ct.errored,t==null||t(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Ct.joined&&t===Ir.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new ju(this,Pn.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ju(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:h}=Pn;if(a&&[l,o,u,h].indexOf(r)>=0&&a!==this._joinRef())return;let f=this._onMessage(r,n,a);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,b,T;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((T=(b=m.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===r}).map(m=>m.callback(f,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var p,b,T,v,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const _=m.id,w=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((b=n.ids)===null||b===void 0?void 0:b.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const _=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:b,table:T,commit_timestamp:v,type:g,errors:y}=p;f=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(p))}m.callback(f,a)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&lf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cg(t.columns,t.old_record)),n}}const Ou=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yx=[1e3,2e3,5e3,1e4],Vx=1e4,Ix=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gx{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bd,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.reconnectTimer=null,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new Ux,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>rr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wi);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Hd.websocket}`,this.httpEndpoint=L0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return Mi.Connecting;case Yr.open:return Mi.Open;case Yr.closing:return Mi.Closing;default:return Mi.Closed}}isConnected(){return this.connectionState()===Mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new lf(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Mx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Ix],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Cx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Pn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,u,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Bd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:to.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ou,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>Yx[d-1]||Vx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class of extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kx extends of{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yd extends of{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const cf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Xx=()=>K(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rr(()=>Promise.resolve().then(()=>Wi),void 0)).Response:Response}),Vd=e=>{if(Array.isArray(e))return e.map(n=>Vd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Vd(a)}),t},Qx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Du=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Jx=(e,t,n)=>K(void 0,void 0,void 0,function*(){const a=yield Xx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Kx(Du(i),s,r))}).catch(i=>{t(new Yd(Du(i),i))}):t(new Yd(Du(e),e))}),Zx=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(Qx(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function jl(e,t,n,a,i,s){return K(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,Zx(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Jx(o,l,a))})})}function ol(e,t,n,a){return K(this,void 0,void 0,function*(){return jl(e,"GET",t,n,a)})}function Jn(e,t,n,a,i){return K(this,void 0,void 0,function*(){return jl(e,"POST",t,a,i,n)})}function Id(e,t,n,a,i){return K(this,void 0,void 0,function*(){return jl(e,"PUT",t,a,i,n)})}function Px(e,t,n,a){return K(this,void 0,void 0,function*(){return jl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function uf(e,t,n,a,i){return K(this,void 0,void 0,function*(){return jl(e,"DELETE",t,a,i,n)})}class Fx{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}var B0;class Wx{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[B0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fx(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}B0=Symbol.toStringTag;const e1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t1{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=cf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return K(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},hg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),d=yield(t=="PUT"?Id:Jn)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(mt(s))return{data:null,error:s};throw s}})}upload(t,n,a){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return K(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:hg.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield Id(this.fetch,l.toString(),o,{headers:h});return{data:{path:s,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return K(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Jn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new of("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}update(t,n,a){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return K(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}copy(t,n,a){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return K(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Jn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return K(this,void 0,void 0,function*(){try{const i=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>ol(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new Wx(o,this.shouldThrowOnError)}info(t){return K(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield ol(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}exists(t){return K(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Px(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a)&&a instanceof Yd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return K(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}list(t,n,a){return K(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},e1),n),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}listV2(t,n){return K(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const H0="2.78.0",q0={"X-Client-Info":`storage-js/${H0}`};class n1{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q0),n),this.fetch=cf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return K(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ol(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}createBucket(t){return K(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return K(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class a1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q0),n),this.fetch=cf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(t){return K(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}const df={"X-Client-Info":`storage-js/${H0}`,"Content-Type":"application/json"};class Y0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nu extends Y0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i1 extends Y0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var fg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fg||(fg={}));const hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},s1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r1=(e,t,n)=>K(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new Nu(mg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Nu(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Nu(l,i,r))}}else t(new i1(mg(e),e))}),l1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(s1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function o1(e,t,n,a,i,s){return K(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,l1(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>r1(o,l,a))})})}function Tn(e,t,n,a,i){return K(this,void 0,void 0,function*(){return o1(e,"POST",t,a,i,n)})}class c1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getIndex(t,n){return K(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}listIndexes(t){return K(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return K(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}}class u1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return K(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listVectors(t){return K(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}queryVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteVectors(t){return K(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class d1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listBuckets(){return K(this,arguments,void 0,function*(t={}){try{return{data:yield Tn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class h1 extends d1{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new f1(this.url,this.headers,t,this.fetch)}}class f1 extends c1{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new m1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class m1 extends u1{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class g1 extends n1{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new t1(this.url,this.headers,t,this.fetch)}get vectors(){return new h1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a1(this.url+"/iceberg",this.headers,this.fetch)}}const y1="2.78.0";let jr="";typeof Deno<"u"?jr="deno":typeof document<"u"?jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jr="react-native":jr="node";const v1={"X-Client-Info":`supabase-js-${jr}/${y1}`},p1={headers:v1},b1={schema:"public"},_1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w1={},S1=e=>{let t;return e?t=e:typeof fetch>"u"?t=v0:t=fetch,(...n)=>t(...n)},x1=()=>typeof Headers>"u"?p0:Headers,E1=(e,t,n)=>{const a=S1(n),i=x1();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:u}))}};function T1(e){return e.endsWith("/")?e:e+"/"}function j1(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:u,realtime:h,global:d}=t,f={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),r),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function O1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const V0="2.78.0",fs=30*1e3,Gd=3,Au=Gd*fs,D1="http://localhost:9999",N1="supabase.auth.token",A1={"X-Client-Info":`gotrue-js/${V0}`},Kd="X-Supabase-Api-Version",I0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R1=10*60*1e3;class cl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class M1 extends cl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function k1(e){return J(e)&&e.name==="AuthApiError"}class ki extends cl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vi extends cl{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Xn extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U1(e){return J(e)&&e.name==="AuthSessionMissingError"}class ss extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ao extends vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z1(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class gg extends vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xd extends vi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cu(e){return J(e)&&e.name==="AuthRetryableFetchError"}class yg extends vi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Qd extends vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=` 	
\r=`.split(""),$1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vg.length;t+=1)e[vg[t].charCodeAt(0)]=-2;for(let t=0;t<ic.length;t+=1)e[ic[t].charCodeAt(0)]=t;return e})();function pg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}}function G0(e,t,n){const a=$1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{H1(r,a,n)};for(let r=0;r<e.length;r+=1)G0(e.charCodeAt(r),i,s);return t.join("")}function L1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B1(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}L1(a,t)}}function H1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Us(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)G0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function q1(e){const t=[];return B1(e,n=>t.push(n)),new Uint8Array(t)}function zi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>pg(i,n,a)),pg(null,n,a),t.join("")}function Y1(e){return Math.round(Date.now()/1e3)+e}function V1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},K0=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function I1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const X0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},G1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ms=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qa=async(e,t)=>{await e.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mc.promiseConstructor=Promise;function Ru(e){const t=e.split(".");if(t.length!==3)throw new Qd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!C1.test(t[a]))throw new Qd("JWT not in base64url format");return{header:JSON.parse(bg(t[0])),payload:JSON.parse(bg(t[1])),signature:Us(t[2]),raw:{header:t[0],payload:t[1]}}}async function K1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function X1(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function Q1(e){return("0"+e.toString(16)).substr(-2)}function J1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,Q1).join("")}async function Z1(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function P1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Z1(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(e,t,n=!1){const a=J1();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await ms(e,`${t}-code-verifier`,i);const s=await P1(a);return[s,a===s?"plain":"s256"]}const F1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W1(e){const t=e.headers.get(Kd);if(!t||!t.match(F1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ls(e){if(!nE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aE(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function _g(e){return JSON.parse(JSON.stringify(e))}const Ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iE=[502,503,504];async function wg(e){var t;if(!G1(e))throw new Xd(Ri(e),0);if(iE.includes(e.status))throw new Xd(Ri(e),e.status);let n;try{n=await e.json()}catch(s){throw new ki(Ri(s),s)}let a;const i=W1(e);if(i&&i.getTime()>=I0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new yg(Ri(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new yg(Ri(n),e.status,n.weak_password.reasons);throw new M1(Ri(n),e.status||500,a)}const sE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function ee(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Kd]||(s[Kd]=I0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await rE(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function rE(e,t,n,a,i,s){const r=sE(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Xd(Ri(o),0)}if(l.ok||await wg(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await wg(o)}}function Qn(e){var t;let n=null;cE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Y1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Sg(e){const t=Qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ja(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lE(e){return{data:e,error:null}}function oE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=sr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function xg(e){return e}function cE(e){return e.access_token&&e.refresh_token&&e.expires_in}const ku=["global","local","others"];class uE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=X0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ku[0]){if(ku.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ku.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ja})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=sr(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ja})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},h=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xg});if(h.error)throw h.error;const d=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(p.split(";")[1].split("=")[1]);u[`${T}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ls(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ja})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ls(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ja})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ls(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ja})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ls(t.userId);try{const{data:n,error:a}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ls(t.userId),ls(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},h=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xg});if(h.error)throw h.error;const d=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(p.split(";")[1].split("=")[1]);u[`${T}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function Eg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const os={debug:!!(globalThis&&K0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Q0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dE extends Q0{}async function hE(e,t,n){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(os.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mE(e){return parseInt(e,16)}function gE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function yE(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=J0(e.address),p=h?`${h}://${a}`:a,b=e.statement?`${e.statement}
`:"",T=`${p} wants you to sign in with your Ethereum account:
${m}

${b}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${T}
${v}`}class Tt extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class sc extends Tt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function vE({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Z0(r)){if(s.rp.id!==r)return new Tt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Z0(a)){if(n.rpId!==a)return new Tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _E=new bE;function wE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=sr(e,["challenge","user","excludeCredentials"]),s=Us(t).buffer,r=Object.assign(Object.assign({},n),{id:Us(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Us(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function SE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=sr(e,["challenge","allowCredentials"]),i=Us(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Us(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function xE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zi(new Uint8Array(i.authenticatorData)),clientDataJSON:zi(new Uint8Array(i.clientDataJSON)),signature:zi(new Uint8Array(i.signature)),userHandle:i.userHandle?zi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Z0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tg(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function TE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:vE({error:t,options:e})}}}async function jE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:pE({error:t,options:e})}}}const OE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DE={userVerification:"preferred",hints:["security-key"]};function rc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=rc(l,r):a[s]=rc(r)}else a[s]=r}return a}function NE(e,t){return rc(OE,e,t||{})}function AE(e,t){return rc(DE,e,t||{})}class CE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??_E.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=NE(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:d}=await TE({publicKey:u,signal:o});return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=AE(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:d}=await jE(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!Tg())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!Tg())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in register",r)}}}}fE();const RE={url:D1,storageKey:N1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jg(e,t,n){return await n()}const cs={};class ul{get jwks(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ul.nextInstanceID,ul.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},RE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=X0(i.fetch),this.lock=i.lock||jg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hE:this.lock=jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:K0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${V0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=I1(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),sn()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),z1(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new ki("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:h,password:d,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await rs(this.storage,this.storageKey)),s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Qn})}else if("phone"in t){const{phone:h,password:d,options:f}=t;s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qn})}else throw new no("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sg})}else throw new no("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ss}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,u,h,d,f;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:b,wallet:T,statement:v,options:g}=t;let y;if(sn())if(typeof T=="object")y=T;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")y=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=T}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),w=await y.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=J0(w[0]);let E=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const O=await y.request({method:"eth_chainId"});E=mE(O)}const j={domain:_.host,address:x,statement:v,uri:_.href,version:"1",chainId:E,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=yE(j),p=await y.request({method:"personal_sign",params:[gE(m),x]})}try{const{data:b,error:T}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qn});if(T)throw T;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ss}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:T})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,a,i,s,r,l,o,u,h,d,f,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:T,wallet:v,statement:g,options:y}=t;let _;if(sn())if(typeof v=="object")_=v;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let E;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")E=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)E=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=x}}try{const{data:T,error:v}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:zi(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qn});if(v)throw v;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new ss}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:v})}catch(T){if(J(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Qn});if(await qa(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ss}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(J(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ss}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await rs(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new no("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await rs(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:lE})}catch(s){if(J(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Xn;const{error:i}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new no("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Au:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ji(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=Mu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=aE(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ja}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ja})})}catch(n){if(J(n))return U1(n)&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Xn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await rs(this.storage,this.storageKey));const{data:u,error:h}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ja});if(h)throw h;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=Ru(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!sn())throw new ao("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ao(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ao("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!s||!l||!r||!u)throw new ao("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;o&&(f=parseInt(o));const m=f-h;m*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const p=f-d;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,h);const{data:b,error:T}=await this._getUser(s);if(T)throw T;const v={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:r,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(J(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(k1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=V1(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await rs(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(J(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,u,h;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(J(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:u,nonce:h}=t,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qn}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ss}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await X1(async i=>(i>0&&await K1(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&Cu(s)&&Date.now()+r-a<fs})}catch(a){if(this._debug(n,"error",a),J(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),sn()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ji(this.storage,this.storageKey);if(i&&this.userStorage){let r=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await ms(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:Mu()}else if(i&&!i.user&&!i.user){const r=await ji(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await qa(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,i)):i.user=Mu()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Au;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Au}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Cu(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Xn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),J(s)){const r={data:null,error:s};return Cu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ms(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=_g(i);await ms(this.storage,this.storageKey,s)}else{const i=_g(n);await ms(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qa(this.storage,this.storageKey),await qa(this.storage,this.storageKey+"-code-verifier"),await qa(this.storage,this.storageKey+"-user"),this.userStorage&&await qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fs}ms, refresh threshold is ${Gd} ticks`),i<=Gd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Q0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await rs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xE(t.webauthn.credential_response):EE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:wE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:SE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ru(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Xn}})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Xn};const r=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Xn};const r=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+R1>i)return a;const{data:s,error:r}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=Ru(a);n!=null&&n.allowExpired||eE(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const h=tE(i.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,r,q1(`${l}.${o}`)))throw new Qd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}}ul.nextInstanceID=0;const ME=ul;class kE extends ME{constructor(t){super(t)}}class UE{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=O1(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:b1,realtime:w1,auth:Object.assign(Object.assign({},_1),{storageKey:o}),global:p1},h=j1(a??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=E1(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Dx(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new g1(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new _x(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Gx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zE=(e,t,n)=>new UE(e,t,n);function $E(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$E()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LE="https://vqpubtahhvtkftafdlrp.supabase.co",BE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",Se=zE(LE,BE);function HE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const kc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ff(e){return"nodeType"in e}function un(e){var t,n;return e?cr(e)?e:ff(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mf(e){const{Document:t}=un(e);return e instanceof t}function Ol(e){return cr(e)?!1:e instanceof un(e).HTMLElement}function P0(e){return e instanceof un(e).SVGElement}function ur(e){return e?cr(e)?e.document:ff(e)?mf(e)?e:Ol(e)||P0(e)?e.ownerDocument:document:document:document}const Fn=kc?S.useLayoutEffect:S.useEffect;function Uc(e){const t=S.useRef(e);return Fn(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function qE(){const e=S.useRef(null),t=S.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function dl(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Fn(()=>{n.current!==e&&(n.current=e)},t),n}function Dl(e,t){const n=S.useRef();return S.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function lc(e){const t=Uc(e),n=S.useRef(null),a=S.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function oc(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Uu={};function Nl(e,t){return S.useMemo(()=>{if(t)return t;const n=Uu[e]==null?0:Uu[e]+1;return Uu[e]=n,e+"-"+n},[e,t])}function F0(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,u]of l){const h=s[o];h!=null&&(s[o]=h+e*u)}return s},{...t})}}const zs=F0(1),hl=F0(-1);function YE(e){return"clientX"in e&&"clientY"in e}function zc(e){if(!e)return!1;const{KeyboardEvent:t}=un(e.target);return t&&e instanceof t}function VE(e){if(!e)return!1;const{TouchEvent:t}=un(e.target);return t&&e instanceof t}function cc(e){if(VE(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return YE(e)?{x:e.clientX,y:e.clientY}:null}const mi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mi.Translate.toString(e),mi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Og="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IE(e){return e.matches(Og)?e:e.querySelector(Og)}const GE={display:"none"};function KE(e){let{id:t,value:n}=e;return nt.createElement("div",{id:t,style:GE},n)}function XE(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nt.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function QE(){const[e,t]=S.useState("");return{announce:S.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const W0=S.createContext(null);function JE(e){const t=S.useContext(W0);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ZE(){const[e]=S.useState(()=>new Set),t=S.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[S.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const PE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},FE={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function WE(e){let{announcements:t=FE,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=PE}=e;const{announce:s,announcement:r}=QE(),l=Nl("DndLiveRegion"),[o,u]=S.useState(!1);if(S.useEffect(()=>{u(!0)},[]),JE(S.useMemo(()=>({onDragStart(d){let{active:f}=d;s(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:m}=d;t.onDragMove&&s(t.onDragMove({active:f,over:m}))},onDragOver(d){let{active:f,over:m}=d;s(t.onDragOver({active:f,over:m}))},onDragEnd(d){let{active:f,over:m}=d;s(t.onDragEnd({active:f,over:m}))},onDragCancel(d){let{active:f,over:m}=d;s(t.onDragCancel({active:f,over:m}))}}),[s,t])),!o)return null;const h=nt.createElement(nt.Fragment,null,nt.createElement(KE,{id:a,value:i.draggable}),nt.createElement(XE,{id:l,announcement:r}));return n?gs.createPortal(h,n):h}var Rt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Rt||(Rt={}));function uc(){}function Ui(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Jd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Wn=Object.freeze({x:0,y:0});function eb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eT(e,t){const n=cc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function tb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function tT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Dg(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function nb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ng(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Zd=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ng(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=eb(Ng(o),i);s.push({id:l,data:{droppableContainer:r,value:u}})}}return s.sort(tb)},nT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Dg(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Dg(o),h=i.reduce((f,m,p)=>f+eb(u[p],m),0),d=Number((h/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:d}})}}return s.sort(tb)};function aT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,u=e.width*e.height,h=r*l,d=h/(o+u-h);return Number(d.toFixed(4))}return 0}const iT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=aT(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(tT)};function sT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ab(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wn}function rT(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const lT=rT(1);function ib(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function oT(e,t,n){const a=ib(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:h,height:d,top:u,right:o+h,bottom:u+d,left:o}}const cT={ignoreTransform:!1};function dr(e,t){t===void 0&&(t=cT);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=un(e).getComputedStyle(e);u&&(n=oT(n,u,h))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function Ag(e){return dr(e,{ignoreTransform:!0})}function uT(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function dT(e,t){return t===void 0&&(t=un(e).getComputedStyle(e)),t.position==="fixed"}function hT(e,t){t===void 0&&(t=un(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function $c(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(mf(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ol(i)||P0(i)||n.includes(i))return n;const s=un(e).getComputedStyle(i);return i!==e&&hT(i,s)&&n.push(i),dT(i,s)?n:a(i.parentNode)}return e?a(e):n}function sb(e){const[t]=$c(e,1);return t??null}function zu(e){return!kc||!e?null:cr(e)?e:ff(e)?mf(e)||e===ur(e).scrollingElement?window:Ol(e)?e:null:null}function rb(e){return cr(e)?e.scrollX:e.scrollLeft}function lb(e){return cr(e)?e.scrollY:e.scrollTop}function Pd(e){return{x:rb(e),y:lb(e)}}var Bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Bt||(Bt={}));function ob(e){return!kc||!e?!1:e===document.scrollingElement}function cb(e){const t={x:0,y:0},n=ob(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const fT={x:.2,y:.2};function mT(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=fT);const{isTop:u,isBottom:h,isLeft:d,isRight:f}=cb(e),m={x:0,y:0},p={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+b.height?(m.y=Bt.Backward,p.y=a*Math.abs((t.top+b.height-s)/b.height)):!h&&o>=t.bottom-b.height&&(m.y=Bt.Forward,p.y=a*Math.abs((t.bottom-b.height-o)/b.height)),!f&&l>=t.right-b.width?(m.x=Bt.Forward,p.x=a*Math.abs((t.right-b.width-l)/b.width)):!d&&r<=t.left+b.width&&(m.x=Bt.Backward,p.x=a*Math.abs((t.left+b.width-r)/b.width)),{direction:m,speed:p}}function gT(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function ub(e){return e.reduce((t,n)=>zs(t,Pd(n)),Wn)}function yT(e){return e.reduce((t,n)=>t+rb(n),0)}function vT(e){return e.reduce((t,n)=>t+lb(n),0)}function db(e,t){if(t===void 0&&(t=dr),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);sb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const pT=[["x",["left","right"],yT],["y",["top","bottom"],vT]];class gf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=$c(n),i=ub(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of pT)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),h=i[s]-u;return this.rect[o]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function bT(e){const{EventTarget:t}=un(e);return e instanceof t?e:ur(e)}function $u(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Un;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Un||(Un={}));function Cg(e){e.preventDefault()}function _T(e){e.stopPropagation()}var Te;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Te||(Te={}));const hb={start:[Te.Space,Te.Enter],cancel:[Te.Esc],end:[Te.Space,Te.Enter,Te.Tab]},wT=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Te.Right:return{...n,x:n.x+25};case Te.Left:return{...n,x:n.x-25};case Te.Down:return{...n,y:n.y+25};case Te.Up:return{...n,y:n.y-25}}};class Lc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Gr(ur(n)),this.windowListeners=new Gr(un(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&db(a),n(Wn)}handleKeyDown(t){if(zc(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=hb,coordinateGetter:r=wT,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,h=u?{x:u.left,y:u.top}:Wn;this.referenceCoordinates||(this.referenceCoordinates=h);const d=r(t,{active:n,context:a.current,currentCoordinates:h});if(d){const f=hl(d,h),m={x:0,y:0},{scrollableAncestors:p}=a.current;for(const b of p){const T=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:_,maxScroll:w,minScroll:x}=cb(b),E=gT(b),j={x:Math.min(T===Te.Right?E.right-E.width/2:E.right,Math.max(T===Te.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(T===Te.Down?E.bottom-E.height/2:E.bottom,Math.max(T===Te.Down?E.top:E.top+E.height/2,d.y))},O=T===Te.Right&&!g||T===Te.Left&&!y,N=T===Te.Down&&!_||T===Te.Up&&!v;if(O&&j.x!==d.x){const B=b.scrollLeft+f.x,ne=T===Te.Right&&B<=w.x||T===Te.Left&&B>=x.x;if(ne&&!f.y){b.scrollTo({left:B,behavior:l});return}ne?m.x=b.scrollLeft-B:m.x=T===Te.Right?b.scrollLeft-w.x:b.scrollLeft-x.x,m.x&&b.scrollBy({left:-m.x,behavior:l});break}else if(N&&j.y!==d.y){const B=b.scrollTop+f.y,ne=T===Te.Down&&B<=w.y||T===Te.Up&&B>=x.y;if(ne&&!f.x){b.scrollTo({top:B,behavior:l});return}ne?m.y=b.scrollTop-B:m.y=T===Te.Down?b.scrollTop-w.y:b.scrollTop-x.y,m.y&&b.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,zs(hl(d,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=hb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Rg(e){return!!(e&&"distance"in e)}function Mg(e){return!!(e&&"delay"in e)}class yf{constructor(t,n,a){var i;a===void 0&&(a=bT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=ur(r),this.documentListeners=new Gr(this.document),this.listeners=new Gr(a),this.windowListeners=new Gr(un(r)),this.initialCoordinates=(i=cc(s))!=null?i:Wn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.DragStart,Cg),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),this.windowListeners.add(Un.ContextMenu,Cg),this.documentListeners.add(Un.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Mg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Rg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Un.Click,_T,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Un.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=cc(t))!=null?n:Wn,u=hl(i,o);if(!a&&l){if(Rg(l)){if(l.tolerance!=null&&$u(u,l.tolerance))return this.handleCancel();if($u(u,l.distance))return this.handleStart()}if(Mg(l)&&$u(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Te.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ST={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fl extends yf{constructor(t){const{event:n}=t,a=ur(n.target);super(t,ST,a)}}fl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const xT={move:{name:"mousemove"},end:{name:"mouseup"}};var Fd;(function(e){e[e.RightClick=2]="RightClick"})(Fd||(Fd={}));class ET extends yf{constructor(t){super(t,xT,ur(t.event.target))}}ET.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Fd.RightClick?!1:(a==null||a({event:n}),!0)}}];const Lu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Wd extends yf{constructor(t){super(t,Lu)}static setup(){return window.addEventListener(Lu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Lu.move.name,t)};function t(){}}}Wd.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Kr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Kr||(Kr={}));var dc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dc||(dc={}));function TT(e){let{acceleration:t,activator:n=Kr.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=dc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:h,delta:d,threshold:f}=e;const m=OT({delta:d,disabled:!s}),[p,b]=qE(),T=S.useRef({x:0,y:0}),v=S.useRef({x:0,y:0}),g=S.useMemo(()=>{switch(n){case Kr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Kr.DraggableRect:return i}},[n,i,o]),y=S.useRef(null),_=S.useCallback(()=>{const x=y.current;if(!x)return;const E=T.current.x*v.current.x,j=T.current.y*v.current.y;x.scrollBy(E,j)},[]),w=S.useMemo(()=>l===dc.TreeOrder?[...u].reverse():u,[l,u]);S.useEffect(()=>{if(!s||!u.length||!g){b();return}for(const x of w){if((a==null?void 0:a(x))===!1)continue;const E=u.indexOf(x),j=h[E];if(!j)continue;const{direction:O,speed:N}=mT(x,j,g,t,f);for(const B of["x","y"])m[B][O[B]]||(N[B]=0,O[B]=0);if(N.x>0||N.y>0){b(),y.current=x,p(_,r),T.current=N,v.current=O;return}}T.current={x:0,y:0},v.current={x:0,y:0},b()},[t,_,a,b,s,r,JSON.stringify(g),JSON.stringify(m),p,u,w,h,JSON.stringify(f)])}const jT={x:{[Bt.Backward]:!1,[Bt.Forward]:!1},y:{[Bt.Backward]:!1,[Bt.Forward]:!1}};function OT(e){let{delta:t,disabled:n}=e;const a=oc(t);return Dl(i=>{if(n||!a||!i)return jT;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Bt.Backward]:i.x[Bt.Backward]||s.x===-1,[Bt.Forward]:i.x[Bt.Forward]||s.x===1},y:{[Bt.Backward]:i.y[Bt.Backward]||s.y===-1,[Bt.Forward]:i.y[Bt.Forward]||s.y===1}}},[n,t,a])}function DT(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Dl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function NT(e,t){return S.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Zs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Zs||(Zs={}));var eh;(function(e){e.Optimized="optimized"})(eh||(eh={}));const kg=new Map;function AT(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=S.useState(null),{frequency:l,measure:o,strategy:u}=i,h=S.useRef(e),d=T(),f=dl(d),m=S.useCallback(function(v){v===void 0&&(v=[]),!f.current&&r(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[f]),p=S.useRef(null),b=Dl(v=>{if(d&&!n)return kg;if(!v||v===kg||h.current!==e||s!=null){const g=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const _=y.node.current,w=_?new gf(o(_),_):null;y.rect.current=w,w&&g.set(y.id,w)}return g}return v},[e,s,n,d,o]);return S.useEffect(()=>{h.current=e},[e]),S.useEffect(()=>{d||m()},[n,d]),S.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),S.useEffect(()=>{d||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,d,m,...a]),{droppableRects:b,measureDroppableContainers:m,measuringScheduled:s!=null};function T(){switch(u){case Zs.Always:return!1;case Zs.BeforeDragging:return n;default:return!n}}}function vf(e,t){return Dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function CT(e,t){return vf(e,t)}function RT(e){let{callback:t,disabled:n}=e;const a=Uc(t),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return S.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Bc(e){let{callback:t,disabled:n}=e;const a=Uc(t),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return S.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function MT(e){return new gf(dr(e),e)}function Ug(e,t,n){t===void 0&&(t=MT);const[a,i]=S.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const h=t(e);return JSON.stringify(o)===JSON.stringify(h)?o:h})}const r=RT({callback(o){if(e)for(const u of o){const{type:h,target:d}=u;if(h==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Bc({callback:s});return Fn(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function kT(e){const t=vf(e);return ab(e,t)}const zg=[];function UT(e){const t=S.useRef(e),n=Dl(a=>e?a&&a!==zg&&e&&t.current&&e.parentNode===t.current.parentNode?a:$c(e):zg,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function zT(e){const[t,n]=S.useState(null),a=S.useRef(e),i=S.useCallback(s=>{const r=zu(s.target);r&&n(l=>l?(l.set(r,Pd(r)),new Map(l)):null)},[]);return S.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const u=zu(o);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Pd(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const u=zu(o);u==null||u.removeEventListener("scroll",i)})}},[i,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>zs(s,r),Wn):ub(e):Wn,[e,t])}function $g(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const a=e!==Wn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?hl(e,n.current):Wn}function $T(e){S.useEffect(()=>{if(!kc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function LT(e,t){return S.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function fb(e){return S.useMemo(()=>e?uT(e):null,[e])}const Lg=[];function BT(e,t){t===void 0&&(t=dr);const[n]=e,a=fb(n?un(n):null),[i,s]=S.useState(Lg);function r(){s(()=>e.length?e.map(o=>ob(o)?a:new gf(t(o),o)):Lg)}const l=Bc({callback:r});return Fn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function mb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ol(t)?t:e}function HT(e){let{measure:t}=e;const[n,a]=S.useState(null),i=S.useCallback(u=>{for(const{target:h}of u)if(Ol(h)){a(d=>{const f=t(h);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),s=Bc({callback:i}),r=S.useCallback(u=>{const h=mb(u);s==null||s.disconnect(),h&&(s==null||s.observe(h)),a(h?t(h):null)},[t,s]),[l,o]=lc(r);return S.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const qT=[{sensor:fl,options:{}},{sensor:Lc,options:{}}],YT={current:{}},Eo={draggable:{measure:Ag},droppable:{measure:Ag,strategy:Zs.WhileDragging,frequency:eh.Optimized},dragOverlay:{measure:dr}};class Xr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const VT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:uc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Eo,measureDroppableContainers:uc,windowRect:null,measuringScheduled:!1},gb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:uc,draggableNodes:new Map,over:null,measureDroppableContainers:uc},Al=S.createContext(gb),yb=S.createContext(VT);function IT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xr}}}function GT(e,t){switch(t.type){case Rt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Rt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Rt.DragEnd:case Rt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Xr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Rt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Xr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case Rt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Xr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function KT(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=S.useContext(Al),s=oc(a),r=oc(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!zc(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[o.current,u.current]){if(!h)continue;const d=IE(h);if(d){d.focus();break}}})}},[a,t,i,r,s]),null}function vb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function XT(e){return S.useMemo(()=>({draggable:{...Eo.draggable,...e==null?void 0:e.draggable},droppable:{...Eo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Eo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function QT(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=S.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Fn(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),d=ab(h,a);if(r||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=sb(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,r,l,a,n])}const Hc=S.createContext({...Wn,scaleX:1,scaleY:1});var Ia;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ia||(Ia={}));const th=S.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:h=qT,collisionDetection:d=iT,measuring:f,modifiers:m,...p}=t;const b=S.useReducer(GT,void 0,IT),[T,v]=b,[g,y]=ZE(),[_,w]=S.useState(Ia.Uninitialized),x=_===Ia.Initialized,{draggable:{active:E,nodes:j,translate:O},droppable:{containers:N}}=T,B=E!=null?j.get(E):null,ne=S.useRef({initial:null,translated:null}),se=S.useMemo(()=>{var ft;return E!=null?{id:E,data:(ft=B==null?void 0:B.data)!=null?ft:YT,rect:ne}:null},[E,B]),P=S.useRef(null),[fe,k]=S.useState(null),[U,H]=S.useState(null),re=dl(p,Object.values(p)),me=Nl("DndDescribedBy",r),Ye=S.useMemo(()=>N.getEnabled(),[N]),_e=XT(f),{droppableRects:Ce,measureDroppableContainers:Re,measuringScheduled:Ve}=AT(Ye,{dragging:x,dependencies:[O.x,O.y],config:_e.droppable}),Oe=DT(j,E),en=S.useMemo(()=>U?cc(U):null,[U]),St=fa(),Ut=CT(Oe,_e.draggable.measure);QT({activeNode:E!=null?j.get(E):null,config:St.layoutShiftCompensation,initialRect:Ut,measure:_e.draggable.measure});const z=Ug(Oe,_e.draggable.measure,Ut),F=Ug(Oe?Oe.parentElement:null),le=S.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:Ce,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ie=N.getNodeFor((n=le.current.over)==null?void 0:n.id),He=HT({measure:_e.dragOverlay.measure}),it=(a=He.nodeRef.current)!=null?a:Oe,De=x?(i=He.rect)!=null?i:z:null,ge=!!(He.nodeRef.current&&He.rect),Ue=kT(ge?null:z),de=fb(it?un(it):null),ye=UT(x?Ie??Oe:null),Ge=BT(ye),ze=vb(m,{transform:{x:O.x-Ue.x,y:O.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:U,active:se,activeNodeRect:z,containerNodeRect:F,draggingNodeRect:De,over:le.current.over,overlayNodeRect:He.rect,scrollableAncestors:ye,scrollableAncestorRects:Ge,windowRect:de}),At=en?zs(en,O):null,Yt=zT(ye),da=$g(Yt),Ua=$g(Yt,[z]),Zt=zs(ze,da),tn=De?lT(De,ze):null,Vt=se&&tn?d({active:se,collisionRect:tn,droppableRects:Ce,droppableContainers:Ye,pointerCoordinates:At}):null,za=nb(Vt,"id"),[ct,ta]=S.useState(null),pt=ge?ze:zs(ze,Ua),ha=sT(pt,(s=ct==null?void 0:ct.rect)!=null?s:null,z),na=S.useRef(null),pi=S.useCallback((ft,ut)=>{let{sensor:zt,options:bn}=ut;if(P.current==null)return;const It=j.get(P.current);if(!It)return;const bt=ft.nativeEvent,nn=new zt({active:P.current,activeNode:It,event:bt,options:bn,context:le,onAbort(dt){if(!j.get(dt))return;const{onDragAbort:C}=re.current,M={id:dt};C==null||C(M),g({type:"onDragAbort",event:M})},onPending(dt,dn,C,M){if(!j.get(dt))return;const{onDragPending:X}=re.current,Q={id:dt,constraint:dn,initialCoordinates:C,offset:M};X==null||X(Q),g({type:"onDragPending",event:Q})},onStart(dt){const dn=P.current;if(dn==null)return;const C=j.get(dn);if(!C)return;const{onDragStart:M}=re.current,$={activatorEvent:bt,active:{id:dn,data:C.data,rect:ne}};gs.unstable_batchedUpdates(()=>{M==null||M($),w(Ia.Initializing),v({type:Rt.DragStart,initialCoordinates:dt,active:dn}),g({type:"onDragStart",event:$}),k(na.current),H(bt)})},onMove(dt){v({type:Rt.DragMove,coordinates:dt})},onEnd:Pt(Rt.DragEnd),onCancel:Pt(Rt.DragCancel)});na.current=nn;function Pt(dt){return async function(){const{active:C,collisions:M,over:$,scrollAdjustedTranslate:X}=le.current;let Q=null;if(C&&X){const{cancelDrop:G}=re.current;Q={activatorEvent:bt,active:C,collisions:M,delta:X,over:$},dt===Rt.DragEnd&&typeof G=="function"&&await Promise.resolve(G(Q))&&(dt=Rt.DragCancel)}P.current=null,gs.unstable_batchedUpdates(()=>{v({type:dt}),w(Ia.Uninitialized),ta(null),k(null),H(null),na.current=null;const G=dt===Rt.DragEnd?"onDragEnd":"onDragCancel";if(Q){const ae=re.current[G];ae==null||ae(Q),g({type:G,event:Q})}})}}},[j]),bi=S.useCallback((ft,ut)=>(zt,bn)=>{const It=zt.nativeEvent,bt=j.get(bn);if(P.current!==null||!bt||It.dndKit||It.defaultPrevented)return;const nn={active:bt};ft(zt,ut.options,nn)===!0&&(It.dndKit={capturedBy:ut.sensor},P.current=bn,pi(zt,ut))},[j,pi]),_i=NT(h,bi);$T(h),Fn(()=>{z&&_===Ia.Initializing&&w(Ia.Initialized)},[z,_]),S.useEffect(()=>{const{onDragMove:ft}=re.current,{active:ut,activatorEvent:zt,collisions:bn,over:It}=le.current;if(!ut||!zt)return;const bt={active:ut,activatorEvent:zt,collisions:bn,delta:{x:Zt.x,y:Zt.y},over:It};gs.unstable_batchedUpdates(()=>{ft==null||ft(bt),g({type:"onDragMove",event:bt})})},[Zt.x,Zt.y]),S.useEffect(()=>{const{active:ft,activatorEvent:ut,collisions:zt,droppableContainers:bn,scrollAdjustedTranslate:It}=le.current;if(!ft||P.current==null||!ut||!It)return;const{onDragOver:bt}=re.current,nn=bn.get(za),Pt=nn&&nn.rect.current?{id:nn.id,rect:nn.rect.current,data:nn.data,disabled:nn.disabled}:null,dt={active:ft,activatorEvent:ut,collisions:zt,delta:{x:It.x,y:It.y},over:Pt};gs.unstable_batchedUpdates(()=>{ta(Pt),bt==null||bt(dt),g({type:"onDragOver",event:dt})})},[za]),Fn(()=>{le.current={activatorEvent:U,active:se,activeNode:Oe,collisionRect:tn,collisions:Vt,droppableRects:Ce,draggableNodes:j,draggingNode:it,draggingNodeRect:De,droppableContainers:N,over:ct,scrollableAncestors:ye,scrollAdjustedTranslate:Zt},ne.current={initial:De,translated:tn}},[se,Oe,Vt,tn,j,it,De,Ce,N,ct,ye,Zt]),TT({...St,delta:O,draggingRect:tn,pointerCoordinates:At,scrollableAncestors:ye,scrollableAncestorRects:Ge});const wi=S.useMemo(()=>({active:se,activeNode:Oe,activeNodeRect:z,activatorEvent:U,collisions:Vt,containerNodeRect:F,dragOverlay:He,draggableNodes:j,droppableContainers:N,droppableRects:Ce,over:ct,measureDroppableContainers:Re,scrollableAncestors:ye,scrollableAncestorRects:Ge,measuringConfiguration:_e,measuringScheduled:Ve,windowRect:de}),[se,Oe,z,U,Vt,F,He,j,N,Ce,ct,Re,ye,Ge,_e,Ve,de]),Gn=S.useMemo(()=>({activatorEvent:U,activators:_i,active:se,activeNodeRect:z,ariaDescribedById:{draggable:me},dispatch:v,draggableNodes:j,over:ct,measureDroppableContainers:Re}),[U,_i,se,z,v,me,j,ct,Re]);return nt.createElement(W0.Provider,{value:y},nt.createElement(Al.Provider,{value:Gn},nt.createElement(yb.Provider,{value:wi},nt.createElement(Hc.Provider,{value:ha},u)),nt.createElement(KT,{disabled:(l==null?void 0:l.restoreFocus)===!1})),nt.createElement(WE,{...l,hiddenTextDescribedById:me}));function fa(){const ft=(fe==null?void 0:fe.autoScrollEnabled)===!1,ut=typeof o=="object"?o.enabled===!1:o===!1,zt=x&&!ft&&!ut;return typeof o=="object"?{...o,enabled:zt}:{enabled:zt}}}),JT=S.createContext(null),Bg="button",ZT="Draggable";function PT(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=Nl(ZT),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:h,draggableNodes:d,over:f}=S.useContext(Al),{role:m=Bg,roleDescription:p="draggable",tabIndex:b=0}=i??{},T=(o==null?void 0:o.id)===t,v=S.useContext(T?Hc:JT),[g,y]=lc(),[_,w]=lc(),x=LT(r,t),E=dl(n);Fn(()=>(d.set(t,{id:t,key:s,node:g,activatorNode:_,data:E}),()=>{const O=d.get(t);O&&O.key===s&&d.delete(t)}),[d,t]);const j=S.useMemo(()=>({role:m,tabIndex:b,"aria-disabled":a,"aria-pressed":T&&m===Bg?!0:void 0,"aria-roledescription":p,"aria-describedby":h.draggable}),[a,m,b,T,p,h.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:j,isDragging:T,listeners:a?void 0:x,node:g,over:f,setNodeRef:y,setActivatorNodeRef:w,transform:v}}function pb(){return S.useContext(yb)}const FT="Droppable",WT={timeout:25};function ej(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=Nl(FT),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=S.useContext(Al),h=S.useRef({disabled:n}),d=S.useRef(!1),f=S.useRef(null),m=S.useRef(null),{disabled:p,updateMeasurementsFor:b,timeout:T}={...WT,...i},v=dl(b??a),g=S.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),m.current=null},T)},[T]),y=Bc({callback:g,disabled:p||!r}),_=S.useCallback((j,O)=>{y&&(O&&(y.unobserve(O),d.current=!1),j&&y.observe(j))},[y]),[w,x]=lc(_),E=dl(t);return S.useEffect(()=>{!y||!w.current||(y.disconnect(),d.current=!1,y.observe(w.current))},[w,y]),S.useEffect(()=>(l({type:Rt.RegisterDroppable,element:{id:a,key:s,disabled:n,node:w,rect:f,data:E}}),()=>l({type:Rt.UnregisterDroppable,key:s,id:a})),[a]),S.useEffect(()=>{n!==h.current.disabled&&(l({type:Rt.SetDroppableDisabled,id:a,key:s,disabled:n}),h.current.disabled=n)},[a,s,n,l]),{active:r,rect:f,isOver:(o==null?void 0:o.id)===a,node:w,over:o,setNodeRef:x}}function tj(e){let{animation:t,children:n}=e;const[a,i]=S.useState(null),[s,r]=S.useState(null),l=oc(n);return!n&&!a&&l&&i(l),Fn(()=>{if(!s)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,a,s]),nt.createElement(nt.Fragment,null,n,a?S.cloneElement(a,{ref:r}):null)}const nj={x:0,y:0,scaleX:1,scaleY:1};function aj(e){let{children:t}=e;return nt.createElement(Al.Provider,{value:gb},nt.createElement(Hc.Provider,{value:nj},t))}const ij={position:"fixed",touchAction:"none"},sj=e=>zc(e)?"transform 250ms ease":void 0,rj=S.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:u,transition:h=sj}=e;if(!l)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...ij,width:l.width,height:l.height,top:l.top,left:l.left,transform:mi.Transform.toString(d),transformOrigin:i&&a?eT(a,l):void 0,transition:typeof h=="function"?h(a):h,...o};return nt.createElement(n,{className:r,style:f,ref:t},s)}),lj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,u]of Object.entries(i))n.node.style.setProperty(o,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},oj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:mi.Transform.toString(t)},{transform:mi.Transform.toString(n)}]},cj={duration:250,easing:"ease",keyframes:oj,sideEffects:lj({styles:{active:{opacity:"0"}}})};function uj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Uc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const u=mb(r);if(!u)return;const{transform:h}=un(r).getComputedStyle(r),d=ib(h);if(!d)return;const f=typeof t=="function"?t:dj(t);return db(o,i.draggable.measure),f({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:i,transform:d})})}function dj(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...cj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...u}=s;if(!t)return;const h={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},d={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},f={x:o.x-h.x,y:o.y-h.y,...d},m=i({...u,active:r,dragOverlay:l,transform:{initial:o,final:f}}),[p]=m,b=m[m.length-1];if(JSON.stringify(p)===JSON.stringify(b))return;const T=a==null?void 0:a({active:r,dragOverlay:l,...u}),v=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{T==null||T(),g()}})}}let Hg=0;function hj(e){return S.useMemo(()=>{if(e!=null)return Hg++,Hg},[e])}const fj=nt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:h,active:d,activeNodeRect:f,containerNodeRect:m,draggableNodes:p,droppableContainers:b,dragOverlay:T,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:_,windowRect:w}=pb(),x=S.useContext(Hc),E=hj(d==null?void 0:d.id),j=vb(r,{activatorEvent:h,active:d,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:T.rect,over:v,overlayNodeRect:T.rect,scrollableAncestors:y,scrollableAncestorRects:_,transform:x,windowRect:w}),O=vf(f),N=uj({config:a,draggableNodes:p,droppableContainers:b,measuringConfiguration:g}),B=O?T.setRef:void 0;return nt.createElement(aj,null,nt.createElement(tj,{animation:N},d&&E?nt.createElement(rj,{key:E,id:d.id,ref:B,as:l,activatorEvent:h,adjustScale:t,className:o,transition:s,rect:O,style:{zIndex:u,...i},transform:j},n):null))});function pf(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function mj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function io(e){return e!==null&&e>=0}function gj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const so={scaleX:1,scaleY:1},vj=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:i,overIndex:s,index:r}=e;const l=(t=n[i])!=null?t:a;if(!l)return null;const o=pj(n,r,i);if(r===i){const u=n[s];return u?{x:i<s?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...so}:null}return r>i&&r<=s?{x:-l.width-o,y:0,...so}:r<i&&r>=s?{x:l.width+o,y:0,...so}:{x:0,y:0,...so}};function pj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return!a||!i&&!s?0:n<t?i?a.left-(i.left+i.width):s.left-(a.left+a.width):s?s.left-(a.left+a.width):a.left-(i.left+i.width)}const bb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=pf(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},ro={scaleX:1,scaleY:1},To=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const u=s[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...ro}:null}const o=bj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...ro}:i<n&&i>=r?{x:0,y:l.height+o,...ro}:{x:0,y:0,...ro}};function bj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const _b="Sortable",wb=nt.createContext({activeIndex:-1,containerId:_b,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bb,disabled:{draggable:!1,droppable:!1}});function Or(e){let{children:t,id:n,items:a,strategy:i=bb,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:h}=pb(),d=Nl(_b,n),f=l.rect!==null,m=S.useMemo(()=>a.map(x=>typeof x=="object"&&"id"in x?x.id:x),[a]),p=r!=null,b=r?m.indexOf(r.id):-1,T=u?m.indexOf(u.id):-1,v=S.useRef(m),g=!gj(m,v.current),y=T!==-1&&b===-1||g,_=yj(s);Fn(()=>{g&&p&&h(m)},[g,m,p,h]),S.useEffect(()=>{v.current=m},[m]);const w=S.useMemo(()=>({activeIndex:b,containerId:d,disabled:_,disableTransforms:y,items:m,overIndex:T,useDragOverlay:f,sortedRects:mj(m,o),strategy:i}),[b,d,_.draggable,_.droppable,y,m,T,o,f,i]);return nt.createElement(wb.Provider,{value:w},t)}const _j=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return pf(n,a,i).indexOf(t)},wj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},Sj={duration:200,easing:"ease"},Sb="transform",xj=mi.Transition.toString({property:Sb,duration:0,easing:"linear"}),Ej={roleDescription:"sortable"};function Tj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=S.useState(null),l=S.useRef(n);return Fn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const u=dr(a.current,{ignoreTransform:!0}),h={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(h.x||h.y)&&r(h)}}n!==l.current&&(l.current=n)},[t,n,a,i]),S.useEffect(()=>{s&&r(null)},[s]),s}function bf(e){let{animateLayoutChanges:t=wj,attributes:n,disabled:a,data:i,getNewIndex:s=_j,id:r,strategy:l,resizeObserverConfig:o,transition:u=Sj}=e;const{items:h,containerId:d,activeIndex:f,disabled:m,disableTransforms:p,sortedRects:b,overIndex:T,useDragOverlay:v,strategy:g}=S.useContext(wb),y=jj(a,m),_=h.indexOf(r),w=S.useMemo(()=>({sortable:{containerId:d,index:_,items:h},...i}),[d,i,_,h]),x=S.useMemo(()=>h.slice(h.indexOf(r)),[h,r]),{rect:E,node:j,isOver:O,setNodeRef:N}=ej({id:r,data:w,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...o}}),{active:B,activatorEvent:ne,activeNodeRect:se,attributes:P,setNodeRef:fe,listeners:k,isDragging:U,over:H,setActivatorNodeRef:re,transform:me}=PT({id:r,data:w,attributes:{...Ej,...n},disabled:y.draggable}),Ye=HE(N,fe),_e=!!B,Ce=_e&&!p&&io(f)&&io(T),Re=!v&&U,Ve=Re&&Ce?me:null,en=Ce?Ve??(l??g)({rects:b,activeNodeRect:se,activeIndex:f,overIndex:T,index:_}):null,St=io(f)&&io(T)?s({id:r,items:h,activeIndex:f,overIndex:T}):_,Ut=B==null?void 0:B.id,z=S.useRef({activeId:Ut,items:h,newIndex:St,containerId:d}),F=h!==z.current.items,le=t({active:B,containerId:d,isDragging:U,isSorting:_e,id:r,index:_,items:h,newIndex:z.current.newIndex,previousItems:z.current.items,previousContainerId:z.current.containerId,transition:u,wasDragging:z.current.activeId!=null}),Ie=Tj({disabled:!le,index:_,node:j,rect:E});return S.useEffect(()=>{_e&&z.current.newIndex!==St&&(z.current.newIndex=St),d!==z.current.containerId&&(z.current.containerId=d),h!==z.current.items&&(z.current.items=h)},[_e,St,d,h]),S.useEffect(()=>{if(Ut===z.current.activeId)return;if(Ut!=null&&z.current.activeId==null){z.current.activeId=Ut;return}const it=setTimeout(()=>{z.current.activeId=Ut},50);return()=>clearTimeout(it)},[Ut]),{active:B,activeIndex:f,attributes:P,data:w,rect:E,index:_,newIndex:St,items:h,isOver:O,isSorting:_e,isDragging:U,listeners:k,node:j,overIndex:T,over:H,setNodeRef:Ye,setActivatorNodeRef:re,setDroppableNodeRef:N,setDraggableNodeRef:fe,transform:Ie??en,transition:He()};function He(){if(Ie||F&&z.current.newIndex===_)return xj;if(!(Re&&!zc(ne)||!u)&&(_e||le))return mi.Transition.toString({...u,property:Sb})}}function jj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function hc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Oj=[Te.Down,Te.Right,Te.Up,Te.Left],xb=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(Oj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const f=i.get(d.id);if(f)switch(e.code){case Te.Down:a.top<f.top&&o.push(d);break;case Te.Up:a.top>f.top&&o.push(d);break;case Te.Left:a.left>f.left&&o.push(d);break;case Te.Right:a.left<f.left&&o.push(d);break}});const u=nT({collisionRect:a,droppableRects:i,droppableContainers:o});let h=nb(u,"id");if(h===(r==null?void 0:r.id)&&u.length>1&&(h=u[1].id),h!=null){const d=s.get(n.id),f=s.get(h),m=f?i.get(f.id):null,p=f==null?void 0:f.node.current;if(p&&m&&d&&f){const T=$c(p).some((x,E)=>l[E]!==x),v=Eb(d,f),g=Dj(d,f),y=T||!v?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},_={x:m.left,y:m.top};return y.x&&y.y?_:hl(_,y)}}}};function Eb(e,t){return!hc(e)||!hc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Dj(e,t){return!hc(e)||!hc(t)||!Eb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Yi=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Bu=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`,Nj="09",Aj="00",$e=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},ia=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},Oi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},Cj=e=>{const t=new Date;return $e(e)===$e(t)},Rj=()=>{const[e,t]=S.useState(null),[n,a]=S.useState(!0);return S.useEffect(()=>{Se.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=Se.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await Se.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await Se.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function _f({value:e,onChange:t}){const n=S.useRef(null),a=S.useRef(null),i=S.useRef(e),s=S.useRef(!1),[r,l]=S.useState(()=>e&&e.includes(":")?e.split(":")[0]:Nj),[o,u]=S.useState(()=>e&&e.includes(":")?e.split(":")[1]:Aj);S.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,y]=e.split(":");i.current=e,l(g),u(y)}},[e]),S.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const h=(g,y,_)=>{if(!g.current)return;const w=g.current.scrollTop,E=Math.round(w/40),j=String(E).padStart(2,"0");y(j)},d=(g,y)=>{if(!g.current)return;const _=40,w=parseInt(y,10);g.current.scrollTop=w*_};S.useEffect(()=>{d(n,r)},[]),S.useEffect(()=>{d(a,o)},[]);const f=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),m=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),p=()=>{const g=(parseInt(r,10)+1)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},b=()=>{const g=(parseInt(r,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},T=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),d(a,y)},v=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),d(a,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:T,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>h(n,l),children:[c.jsx("div",{className:"picker-spacer"}),f.map(g=>c.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),d(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>h(a,u),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),d(a,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function qg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:a,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function Mj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenTrash:s,onOpenRoutine:r,onOpenMemo:l,onScrollToKeyThoughts:o,onOpenGanttChart:u,onOpenEncouragementModal:h,onOpenDummyModal:d,onLogout:f}){var m,p;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((m=n.user.user_metadata)==null?void 0:m.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((p=n.user.user_metadata)==null?void 0:p.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const b=a==="vertical"?"horizontal":"vertical";i(b),localStorage.setItem("viewMode",b),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),c.jsx("span",{children:a==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{h(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&f()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function kj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:ia(e)}),c.jsx("input",{type:"date",value:$e(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Uj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:u,isReorderMode:h,setIsReorderMode:d}){return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx(kj,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),c.jsx("div",{className:"encouragement-section",children:Cj(n)?c.jsx("div",{className:"encouragement-message",onClick:u,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):c.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),h&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>d(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function zj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const i=a.touches[0];a.currentTarget.dataset.touchStartX=i.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const i=parseFloat(a.currentTarget.dataset.touchStartX||"0"),s=parseInt(a.currentTarget.dataset.touchStartTime||"0"),r=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,o=Date.now()-s;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,r&&o<500){const u=i-l,h=n.current;if(!h)return;const d=h.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<d.length-1?d[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&d[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>c.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const i=n.current;if(!i)return;const s=i.querySelectorAll(".section-block");s[a]&&s[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function Yg({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),c.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}function jo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:h,level:d=0,onCreateRoutine:f,routines:m,onShowRoutineHistory:p,onOpenRoutineSetupModal:b,onOpenHistoryModal:T,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:_}){const[w,x]=S.useState(!1),[E,j]=S.useState(!1),[O,N]=S.useState(e.text),[B,ne]=S.useState(!1),[se,P]=S.useState(!1),[fe,k]=S.useState(!1),[U,H]=S.useState(""),[re,me]=S.useState(!1),[Ye,_e]=S.useState([]),[Ce,Re]=S.useState(!1),[Ve,Oe]=S.useState(!1),[en,St]=S.useState([]),[Ut,z]=S.useState([]),[F,le]=S.useState([]),[Ie,He]=S.useState(null),[it,De]=S.useState(!1),[ge,Ue]=S.useState(null),[de,ye]=S.useState(!1),[Ge,ze]=S.useState([]),[At,Yt]=S.useState(""),[da,Ua]=S.useState({}),[Zt,tn]=S.useState(!1),[Vt,za]=S.useState(null),[ct,ta]=S.useState([]),pt=e.routine_id?m.find(A=>A.id===e.routine_id):null,[ha,na]=S.useState(0),[pi,bi]=S.useState(0),[_i,wi]=S.useState(0),[Gn,fa]=S.useState(!1),[ft,ut]=S.useState(!1),{attributes:zt,listeners:bn,setNodeRef:It,transform:bt,transition:nn,isDragging:Pt}=bf({id:e.id}),dt={transform:mi.Transform.toString(bt),transition:nn,cursor:Pt?"grabbing":"grab"},dn=e.text.length>30,C=()=>{j(!0),N(e.text)},M=async()=>{O.trim()&&O!==e.text&&await i(e.id,O.trim()),j(!1)},$=async A=>{A.key==="Enter"?(A.preventDefault(),await M()):A.key==="Escape"&&(j(!1),N(e.text))},X=A=>{ze(L=>L.includes(A)?L.filter(he=>he!==A):[...L,A])},Q=A=>["sun","mon","tue","wed","thu","fri","sat"][A],G=async A=>{try{const L=typeof v=="string"?v:$e(v),ce=[...A.hidden_dates||[],L],W=A.routine_id!==null&&A.routine_id!==void 0;let ve={hidden_dates:ce};W||(ve.deleted=!0,ve.deleted_date=new Date().toISOString());const{error:ke}=await Se.from("todos").update(ve).eq("id",A.id);if(ke)throw ke;y&&y(A.id);const Ke=A.routine_id!==null&&A.routine_id!==void 0;_(Ke?"  ":"   ",{type:"hideOnDate",todoId:A.id,hiddenDate:L,wasDeleted:!W})}catch(L){console.error("  :",L.message),alert("   .")}},ae=async A=>{try{const{error:L}=await Se.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",A.id);if(L)throw L;y&&y(A.id)}catch(L){console.error(" :",L.message),alert(" .")}},Ee=async A=>{try{if(!A.routine_id){alert("  .");return}const{error:L}=await Se.from("routines").update({deleted:!0}).eq("id",A.routine_id);if(L)throw L;const he=typeof v=="string"?v:$e(v),W=[...A.hidden_dates||[],he],{error:ve}=await Se.from("todos").update({hidden_dates:W}).eq("id",A.id);if(ve)throw ve;y&&y(A.id),_("   ",{type:"stopRoutineFromToday",todoId:A.id,routineId:A.routine_id,hiddenDate:he})}catch(L){console.error("  :",L.message),alert("   .")}},We=async A=>{try{if(!A.routine_id){alert("  .");return}const{error:L}=await Se.from("routines").update({deleted:!0}).eq("id",A.routine_id);if(L)throw L;const{error:he}=await Se.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",A.id);if(he)throw he;y&&y(A.id),_("   ",{type:"deleteRoutineCompletely",todoId:A.id,routineId:A.routine_id})}catch(L){console.error("   :",L.message),alert("   .")}};S.useEffect(()=>{ge==="history"&&!da[e.id]&&!Zt&&(async()=>{tn(!0);try{const{data:L,error:he}=await Se.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(he)throw he;Ua(ce=>({...ce,[e.id]:L||[]}))}catch(L){console.error("Error fetching history:",L)}finally{tn(!1)}})()},[ge,e.id,da,Zt]),S.useEffect(()=>{ge==="routine-stats"&&pt&&(!Vt||Vt.id!==pt.id)&&(async()=>{try{const{data:L,error:he}=await Se.from("todos").select("*").eq("routine_id",pt.id).eq("deleted",!1).maybeSingle();if(he)throw he;if(L&&L.visible_dates){const ce=L.visible_dates.sort().map(W=>{var ve;return{id:`${L.id}-${W}`,date:W,text:L.text,completed:((ve=L.completed_dates)==null?void 0:ve.includes(W))||!1}});ta(ce),za(pt)}}catch(L){console.error("Error fetching routine history:",L)}})()},[ge,pt,Vt]);const Me=A=>{if(E||Pt)return;const L=A.type.includes("touch")?A.touches[0].clientX:A.clientX,he=A.type.includes("touch")?A.touches[0].clientY:A.clientY;bi(L),wi(he),fa(!1),ut(!0)},Je=A=>{if(E||Pt||!ft)return;const L=A.type.includes("touch")?A.touches[0].clientX:A.clientX,he=A.type.includes("touch")?A.touches[0].clientY:A.clientY,ce=pi-L,W=Math.abs(_i-he);if(!Gn){const ve=Math.abs(ce)+W;if(ve>10){if(Math.abs(ce)>ve*.8)fa(!0),A.type.includes("touch")&&A.preventDefault();else if(W>Math.abs(ce)){ut(!1);return}}}if(Gn){if(A.type.includes("touch")&&A.preventDefault(),ce>0&&ce<=100)na(ce);else if(ce<0&&ha>0){const ve=ha+ce;na(Math.max(0,ve)),bi(L)}}},Ft=()=>{ut(!1),Gn&&(fa(!1),na(ha>40?80:0))},Wt=()=>{a(e.id)},Mn=A=>{z(L=>L.includes(A)?L.filter(he=>he!==A):[...L,A])};return c.jsxs("div",{ref:It,style:dt,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:Wt,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...zt,...bn,className:`todo-item ${e.completed?"completed":""} ${w?"expanded":""} ${Pt?"drag-mode":""}`,style:{transform:`translateX(-${ha}px)`,transition:Gn||Pt?"none":"transform 0.3s ease"},onMouseDown:Me,onMouseMove:Je,onMouseUp:Ft,onMouseLeave:Ft,onTouchStart:Me,onTouchMove:Je,onTouchEnd:Ft,onContextMenu:A=>A.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!E&&dn&&x(!w),onDoubleClick:C,style:{cursor:E?"text":dn?"pointer":"default"},children:E?c.jsx("input",{type:"text",value:O,onChange:A=>N(A.target.value),onBlur:M,onKeyDown:$,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${w?"expanded":""}`,children:e.text})}),(()=>{const A=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,L=e.routine_id&&pt,he=g||e.is_pending_routine;return(h.length>0||A||L||he)&&c.jsxs("div",{className:"todo-badges",children:[A&&(()=>{const ce=new Date(e.completed_at).toISOString().split("T")[0],W=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${ce} `,children:[W,""]})})(),L&&(()=>{const ce=v||e.date,W=new Date(ce+"T00:00:00"),ve=W.getMonth()+1,ke=W.getDate(),an=["","","","","","",""][W.getDay()],$a=`${ve}/${ke}(${an})`;return c.jsxs("span",{className:"routine-date-badge",title:`${pt.text} `,children:["for ",$a]})})(),he&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),h.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:ce=>{ce.stopPropagation(),se?(ne(!1),P(!1),k(!1)):(ne(!0),P(!0),k(!1),me(!1),Oe(!1))},children:""})]})})(),!E&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:A=>{A.stopPropagation(),De(!0),Ue(null),ye(!1),ze([]),Yt("")},title:"",children:""}),se&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[h&&h.length>0&&h.map((A,L)=>c.jsx(jo,{todo:A,index:L,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:d+1,routines:m,onShowRoutineHistory:p,showSuccessMessage:_,onOpenRoutineSetupModal:b,onOpenHistoryModal:T,currentPageDate:v},A.id)),fe&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:U,onChange:A=>H(A.target.value),onKeyDown:A=>{A.key==="Enter"&&U.trim()&&(u(e.id,U.trim()),H(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{U.trim()&&(u(e.id,U.trim()),H(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{H("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),it&&c.jsx("div",{className:"modal-overlay",onClick:()=>De(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>De(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:O,onChange:A=>N(A.target.value),onBlur:()=>{O.trim()!==""&&O!==e.text?i(e.id,O):O.trim()===""&&N(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${ge==="nanotodo"?"active":""}`,onClick:()=>Ue("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${ge==="routine"?"active":""}`,onClick:()=>{Ue("routine");const A=m.find(L=>L.id===e.routine_id);A?(ze(A.days||[]),Yt(A.time_slot||""),ye(!1)):(ze([]),Yt(""),ye(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${ge==="history"?"active":""}`,onClick:()=>Ue("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&pt&&c.jsxs("button",{className:`action-menu-item ${ge==="routine-stats"?"active":""}`,onClick:()=>Ue("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${ge==="delete"?"active":""}`,onClick:()=>Ue("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!ge&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),ge==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[h&&h.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:h.map(A=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:A.completed,onChange:()=>n(A.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${A.completed?"completed":""}`,children:A.text}),c.jsx("button",{onClick:()=>a(A.id),className:"subtodo-delete-modal",title:"",children:""})]},A.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:U,onChange:A=>H(A.target.value),onKeyDown:A=>{A.key==="Enter"&&U.trim()&&(u(e.id,U.trim()),H(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{U.trim()&&(u(e.id,U.trim()),H(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),ge==="routine"&&(()=>{const A=m.find(L=>L.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:A&&!de?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Yi.filter(L=>A.days.includes(L.key)).map(L=>c.jsx("span",{className:"routine-day-badge",children:L.label},L.key))}),A.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",A.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:L=>{L.stopPropagation(),A&&(ze(A.days),Yt(A.time_slot||""),ye(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async L=>{L.stopPropagation(),A&&e&&(await f(e.id,e.text,[],null,!0),De(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:de?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Yi.map(L=>c.jsx("button",{onClick:he=>{he.stopPropagation(),X(L.key)},className:`day-button-inline ${Ge.includes(L.key)?"selected":""}`,children:L.label},L.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(_f,{value:At,onChange:L=>Yt(L)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async L=>{L.stopPropagation(),e&&(de&&A?await f(e.id,e.text,Ge,A.id,!1,At):await f(e.id,e.text,Ge,null,!1,At),ye(!1),De(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:L=>{L.stopPropagation(),ye(!1),ze([]),Yt("")},className:"routine-cancel-button",children:""})]})]})})]})})(),ge==="history"&&(()=>{const A=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],L=A[0],he=A.map(W=>({id:`${e.id}-${W}`,date:W})),ce=da[e.id]||[];return Zt?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:s(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(L?new Date(L+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),he.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:he.map((W,ve)=>{const ke=W.date===e.date,Ke=r(new Date(W.date+"T00:00:00"));return c.jsxs("span",{children:[ve>0&&"  ",c.jsxs("span",{style:ke?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ke.split("(")[0],ke?"()":""]})]},W.id)})})]}),(()=>{const W=new Date(e.created_at).toISOString().split("T")[0],ve=e.date;return W!==ve&&he.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),ce.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",ce.length,")"]}),ce.map(W=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[s(W.changed_at),W.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(W.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:ve=>{ve.stopPropagation(),Mn(W.id)},children:Ut.includes(W.id)?"":""})]}),Ut.includes(W.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:W.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:W.new_text})]})]})]},W.id))]})]})]})})(),ge==="routine-stats"&&pt&&(()=>{if(!Vt||Vt.id!==pt.id||ct.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",pt.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Vt||Vt.id!==pt.id?" ...":" ."})]});const A=ct[0],L=new Date(A.date),he=new Date,ce={};ct.forEach(ke=>{ce[ke.date]=ke.completed});const W=[];let ve=new Date(L);for(;ve<=he;){const ke=ve.getFullYear(),Ke=ve.getMonth(),an=`${ke}-${Ke+1}`;W.find(Cl=>Cl.key===an)||W.push({key:an,year:ke,month:Ke,days:[]});const $a=W.find(Cl=>Cl.key===an),aa=$e(ve),$t=ve.getDay(),ma=Q($t),Si=pt.days.includes(ma);$a.days.push({date:new Date(ve),dateStr:aa,day:ve.getDate(),dayOfWeek:$t,isCompleted:ce[aa]===!0,isRoutineDay:Si,hasTodo:ce[aa]!==void 0}),ve.setDate(ve.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",pt.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:W.map(ke=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[ke.year," ",ke.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),ke.days.length>0&&Array(ke.days[0].dayOfWeek).fill(null).map((Ke,an)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${an}`)),ke.days.map((Ke,an)=>{if(an>0&&Ke.day===1){const aa=6-ke.days[an-1].dayOfWeek;return c.jsxs(nt.Fragment,{children:[Array(aa).fill(null).map(($t,ma)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${an}-${ma}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${Ke.isCompleted?"completed":""} ${Ke.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:Ke.day}),Ke.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},Ke.dateStr)}return c.jsxs("div",{className:`history-day-cell ${Ke.isCompleted?"completed":""} ${Ke.isRoutineDay?"":"not-routine-day"}`,title:`${Ke.dateStr}${Ke.isRoutineDay?"":" (  )"}${Ke.isCompleted?" - ":Ke.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:Ke.day}),Ke.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},Ke.dateStr)})]})]},ke.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[ct.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[ct.filter(ke=>ke.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[ct.filter(ke=>!ke.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[ct.length>0?Math.round(ct.filter(ke=>ke.completed).length/ct.length*100):0,"%"]})]})]})]})]})})(),ge==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var ce;const A=((ce=e.visible_dates)==null?void 0:ce.length)>0?e.visible_dates:[e.date||e.created_date],L=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await G(e),De(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Ee(e),De(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await We(e),De(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):A.length>1||L?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await G(e),De(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await ae(e),De(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await ae(e),De(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}function $j({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:h,editingRoutineId:d,editingRoutineText:f,setEditingRoutineText:m,editingRoutineDays:p,onToggleEditDay:b,onStartEdit:T,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:_}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:w=>a(w.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),c.jsx("div",{className:"day-selector",children:Yi.map(w=>c.jsx("button",{onClick:()=>r(w.key),className:`day-button ${s.includes(w.key)?"selected":""}`,disabled:i,children:w.label},w.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(_f,{value:l,onChange:w=>o(w)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:h.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):h.map(w=>c.jsx("div",{className:"routine-item",children:d===w.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:f,onChange:x=>m(x.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Yi.map(x=>c.jsx("button",{onClick:()=>b(x.key),className:`day-button-inline ${p.includes(x.key)?"selected":""}`,children:x.label},x.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v,className:"routine-save-button",disabled:f.trim()===""||p.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:w.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Yi.filter(x=>w.days.includes(x.key)).map(x=>c.jsx("span",{className:"routine-day-badge",children:x.label},x.key))}),w.time_slot&&c.jsx("span",{className:"routine-time-slot",children:w.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>_(w),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>T(w),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(w.id),className:"routine-delete-button",title:"",children:""})]})]})},w.id))})]})}):null}const Lj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Bj({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(h=>{l[h.date]=h.completed});const o=[];let u=new Date(s);for(;u<=r;){const h=u.getFullYear(),d=u.getMonth(),f=`${h}-${d+1}`;o.find(g=>g.key===f)||o.push({key:f,year:h,month:d,days:[]});const m=o.find(g=>g.key===f),p=$e(u),b=u.getDay(),T=Lj(b),v=n.days.includes(T);m.days.push({date:new Date(u),dateStr:p,day:u.getDate(),dayOfWeek:b,isCompleted:l[p]===!0,isRoutineDay:v,hasTodo:l[p]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(h=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[h.year," ",h.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),h.days.length>0&&Array(h.days[0].dayOfWeek).fill(null).map((d,f)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${f}`)),h.days.map((d,f)=>{if(f>0&&d.day===1){const p=6-h.days[f-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(p).fill(null).map((b,T)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${f}-${T}`)),c.jsx("div",{className:"history-day-header",children:""},d.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,title:`${d.dateStr}${d.isRoutineDay?"":" (  )"}${d.isCompleted?" - ":d.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},d.dateStr)})]})]},h.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Hj({title:e,className:t,content:n,setContent:a,isEditing:i,isSaving:s,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:h,placeholder:d,emptyMessage:f,children:m}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!i&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),i&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:s,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:s,children:" "})]})]})]}),i?c.jsx("textarea",{ref:r,value:n,onChange:p=>a(p.target.value),onKeyDown:h,className:"memo-textarea",placeholder:d}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((p,b)=>c.jsx("div",{className:"memo-preview-line",children:p||""},b))}):c.jsx("div",{className:"memo-empty",children:f})}),m]})}function Tb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,parentBlock:s,rootSetBlocks:r,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:h,listeners:d,setNodeRef:f,transform:m,transition:p,isDragging:b}=bf({id:e.id}),T=e.id===o,v=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:T?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:f,style:g,children:c.jsx(jb,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:{...h,...d},parentBlock:s,rootSetBlocks:r,draggingChildIds:l,activeId:o,overId:u})})}function jb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:s,parentBlock:r,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:h}){const d=S.useRef(null),f=S.useRef(!1);S.useEffect(()=>{if(a===e.id&&d.current){d.current.focus();const w=d.current.value.length;d.current.setSelectionRange(w,w)}},[a,e.id]),S.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+"px")},[e.content]);const m=(w,x,E)=>w.map(j=>{if(j.id===x){const O=E(j);return{...O,children:Array.isArray(O.children)?O.children:[]}}return Array.isArray(j.children)&&j.children.length>0?{...j,children:m(j.children,x,E)}:j}),p=w=>{n(x=>m(x,e.id,E=>({...E,content:w})))},b=w=>{n(x=>m(x,e.id,E=>({...E,children:typeof w=="function"?w(E.children):w})))},T=()=>{n(w=>m(w,e.id,x=>{const E=!x.isOpen;if(E&&(!Array.isArray(x.children)||x.children.length===0)){const j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...x,isOpen:E,children:[j]}}return{...x,isOpen:E,children:Array.isArray(x.children)?x.children:[]}}))},v=()=>{const w=t.findIndex(E=>E.id===e.id);if(w<=0)return;const x=t[w-1];n(E=>{const j=[...E];j.splice(w,1);const O={...x,children:[...Array.isArray(x.children)?x.children:[],e],isOpen:!0};return j[w-1]=O,j})},g=()=>{!r||!l||l(w=>{const x=(O,N,B)=>{const ne=[];for(let se=0;se<O.length;se++){const P=O[se];if(P.id===N){const fe=P.children.filter(U=>U.id!==B.id),k={...P,children:fe};ne.push(k),ne.push(B)}else if(Array.isArray(P.children)&&P.children.length>0){const fe=x(P.children,N,B);fe!==P.children?ne.push({...P,children:fe}):ne.push(P)}else ne.push(P)}return ne},E=O=>O.map(N=>{const B=Array.isArray(N.children)&&N.children.length>0;return!B&&N.isOpen?{...N,isOpen:!1}:B?{...N,children:E(N.children)}:N}),j=x(w,r.id,e);return E(j)})},y=w=>{const x=[],E=j=>{for(const O of j)x.push(O),O.isOpen&&Array.isArray(O.children)&&O.children.length>0&&E(O.children)};return E(w),x},_=w=>{if(w.key==="Enter"){if(w.shiftKey)return;{if(f.current){w.preventDefault(),w.stopPropagation();return}w.preventDefault(),w.stopPropagation(),f.current=!0;const x=w.target.selectionStart,E={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};x===0?(n(j=>{const O=j.findIndex(B=>B.id===e.id);if(O===-1)return j;const N=[...j];return N.splice(O,0,E),N}),setTimeout(()=>{i(e.id),setTimeout(()=>{f.current=!1},100)},0)):(n(j=>{const O=j.findIndex(B=>B.id===e.id);if(O===-1)return j;const N=[...j];return N.splice(O+1,0,E),N}),setTimeout(()=>{i(E.id),setTimeout(()=>{f.current=!1},100)},0))}}else if(w.key==="Tab"&&w.shiftKey)w.preventDefault(),w.stopPropagation(),r&&l&&g();else if(w.key==="Tab"&&!w.shiftKey)w.preventDefault(),w.stopPropagation(),v();else if(w.key==="Backspace"){const x=w.target.selectionStart;if(e.content===""||x===0){const N=(()=>{if(l){let se=[];return l(P=>(se=P,P)),se}return t})(),B=y(N),ne=B.findIndex(se=>se.id===e.id);if(ne>0){w.preventDefault(),w.stopPropagation();const se=B[ne-1],P=(k,U)=>k.filter(H=>H.id!==U).map(H=>Array.isArray(H.children)&&H.children.length>0?{...H,children:P(H.children,U)}:H),fe=k=>k.map(U=>{const H=Array.isArray(U.children)&&U.children.length>0;return!H&&U.isOpen?{...U,isOpen:!1}:H?{...U,children:fe(U.children)}:U});l?l(k=>{const U=P(k,e.id);return fe(U)}):n(k=>{const U=P(k,e.id);return fe(U)}),setTimeout(()=>{i(se.id)},0)}}}else if(w.key==="ArrowUp"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const E=(()=>{if(l){let N=[];return l(B=>(N=B,B)),N}return t})(),j=y(E),O=j.findIndex(N=>N.id===e.id);O>0&&i(j[O-1].id)}else if(w.key==="ArrowDown"&&!w.shiftKey){w.preventDefault(),w.stopPropagation();const E=(()=>{if(l){let N=[];return l(B=>(N=B,B)),N}return t})(),j=y(E),O=j.findIndex(N=>N.id===e.id);O<j.length-1&&i(j[O+1].id)}};return c.jsxs("div",{className:"notion-block",children:[s&&c.jsx("div",{className:"notion-drag-handle",...s,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:T,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:d,value:e.content,onChange:w=>p(w.target.value),onKeyDown:_,onFocus:()=>i(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(w=>c.jsx(Tb,{block:w,blocks:e.children,setBlocks:b,focusedBlockId:a,setFocusedBlockId:i,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:h},w.id))})]})}function qj({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:i}){const[s,r]=S.useState(null),[l,o]=S.useState(null),u=Jd(Ui(fl,{activationConstraint:{distance:3}}),Ui(Lc,{coordinateGetter:xb})),h=w=>w.map(x=>{const E=Array.isArray(x.children)&&x.children.length>0;return!E&&x.isOpen?{...x,isOpen:!1}:E?{...x,children:h(x.children)}:x});S.useEffect(()=>{const w=h(e);JSON.stringify(w)!==JSON.stringify(e)&&t(w)},[e]);const d=w=>{const x=[],E=j=>{for(const O of j)x.push(O),O.isOpen&&Array.isArray(O.children)&&O.children.length>0&&E(O.children)};return E(w),x},f=w=>{const x=[],E=j=>{if(Array.isArray(j.children)&&j.children.length>0)for(const O of j.children)x.push(O.id),E(O)};return E(w),x},m=w=>{const{active:x}=w,j=d(e).find(O=>O.id===x.id);r(j)},p=w=>{const{over:x}=w;o((x==null?void 0:x.id)||null)},b=nt.useMemo(()=>s?f(s):[],[s]),T=w=>{const{active:x,over:E}=w;if(r(null),o(null),!E||x.id===E.id)return;const j=d(e),O=j.find(Ye=>Ye.id===x.id),N=j.find(Ye=>Ye.id===E.id);if(!O||!N||f(O).includes(E.id))return;const ne=JSON.parse(JSON.stringify(O)),se=(Ye,_e)=>Ye.filter(Ce=>Ce.id!==_e).map(Ce=>({...Ce,children:Array.isArray(Ce.children)?se(Ce.children,_e):[]})),P=(Ye,_e,Ce)=>{let Re=!1;const Ve=[];for(const Oe of Ye)if(Ve.push(Oe),Oe.id===_e&&(Ve.push(Ce),Re=!0),Array.isArray(Oe.children)&&Oe.children.length>0){const{newChildren:en,wasInserted:St}=fe(Oe.children,_e,Ce);St&&(Ve[Ve.length-1]={...Oe,children:en},Re=!0)}return{newTree:Ve,inserted:Re}},fe=(Ye,_e,Ce)=>{let Re=!1;const Ve=[];for(const Oe of Ye)if(Ve.push(Oe),Oe.id===_e&&(Ve.push(Ce),Re=!0),Array.isArray(Oe.children)&&Oe.children.length>0){const{newChildren:en,wasInserted:St}=fe(Oe.children,_e,Ce);St&&(Ve[Ve.length-1]={...Oe,children:en},Re=!0)}return{newChildren:Ve,wasInserted:Re}};let k=se(e,O.id);const U=k.length>0&&k[0].id===N.id;let H,re=!1;if(U)H=[ne,...k],re=!0;else{const Ye=P(k,N.id,ne);H=Ye.newTree,re=Ye.inserted}if(!re){console.warn("Failed to insert block, keeping original state");return}const me=h(H);t(me)},v=d(e).filter(w=>!b.includes(w.id)).map(w=>w.id),g=w=>{const x=E=>E.map(j=>({...j,isOpen:w,children:Array.isArray(j.children)?x(j.children):[]}));t(x(e))},y=w=>{for(const x of w)if(!x.isOpen&&Array.isArray(x.children)&&x.children.length>0||Array.isArray(x.children)&&x.children.length>0&&!y(x.children))return!1;return!0},_=y(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"toggle-all-button",onClick:()=>i&&i(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>g(!_),title:_?" ":" ",children:_?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(th,{sensors:u,collisionDetection:Zd,onDragStart:m,onDragOver:p,onDragEnd:T,measuring:{droppable:{strategy:Zs.Always}},children:[c.jsx(Or,{items:v,strategy:To,children:e.map(w=>c.jsx(Tb,{block:w,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:b,activeId:s==null?void 0:s.id,overId:l},w.id))}),c.jsx(fj,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(jb,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Yj({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:i,onPermanentDelete:s,formatDate:r}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&c.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const o=l.visible_dates||(l.date?[l.date]:[]),u=o.length>1||l.original_todo_id,h=l.original_todo_id!==null&&l.original_todo_id!==void 0,d=l.hidden_dates&&l.hidden_dates.length>0;let f="  ";return h?f="   ( )":d?f="  ":l.deleted===!0&&(f=o.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",r(l.created_at)]}),l.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${h?"old-style":d?"partial":"complete"}`,children:f})]}),u&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:o.length>0?o.map((m,p)=>c.jsx("span",{className:"carryover-date-badge",children:m},p)):l.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),d&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((m,p)=>c.jsx("span",{className:"hidden-date-badge",children:m},p))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>i(l.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>s(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function Vj({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:i,onDeleteDummySession:s,onDeleteAllDummies:r,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),i.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[i.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&s(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&r()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function Ij({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>c.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(d=>d.dates),l=[...new Set(r)].sort((d,f)=>new Date(d)-new Date(f));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),h=[];for(let d=new Date(o);d<=u;d.setDate(d.getDate()+1))h.push(new Date(d).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:h.map(d=>c.jsx("div",{className:"gantt-date-cell",children:s(new Date(d+"T00:00:00")).split("(")[0]},d))})]}),n.map((d,f)=>{const m=new Set(d.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:d.text,children:c.jsx("span",{className:d.completed?"completed-task":"",children:d.text})}),c.jsx("div",{className:"gantt-timeline",children:h.map(p=>{if(!m.has(p))return c.jsx("div",{className:"gantt-date-cell"},p);const T=p===d.startDate,v=p===d.completedDate;let g="gantt-date-cell has-task";return T?g+=" start-date":v?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:v?c.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},d.originalId)})]})})()})})]})}):null}function Gj({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:h,onDeleteEncouragementMessage:d}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:f=>f.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async f=>{f.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),c.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((f,m)=>c.jsx("div",{className:"encouragement-item",children:r===m?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await h(m,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:f}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(m),u(f)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await d(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function Kj({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(i=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(i.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i.description})]}),c.jsx("button",{onClick:()=>a(i.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(i.content)?i.content.map((s,r)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[s.type==="toggle"?" ":"",s.content||"( )"]},r)):"( )"})]},i.id))})})]})}):null}function Xj({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function Qj(e){const[t,n]=S.useState(["memo","routine","normal","key-thoughts"]),[a,i]=S.useState(!1),s=async()=>{try{const{data:d,error:f}=await Se.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(f){console.error("   :",f.message);return}if(d&&d.setting_value){const m=JSON.parse(d.setting_value);n(m),localStorage.setItem("sectionOrder",JSON.stringify(m))}else{const m=localStorage.getItem("sectionOrder");m&&n(JSON.parse(m))}}catch(d){console.error("   :",d.message);const f=localStorage.getItem("sectionOrder");f&&n(JSON.parse(f))}},r=async d=>{var f;try{if(localStorage.setItem("sectionOrder",JSON.stringify(d)),!((f=e==null?void 0:e.user)!=null&&f.id))return;const{data:m,error:p}=await Se.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(p){console.error("   :",p.message);return}m?await Se.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await Se.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(m){console.error("   :",m.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,moveSectionLeft:d=>{n(f=>{const m=f.indexOf(d);if(m<=0)return f;const p=[...f];return[p[m-1],p[m]]=[p[m],p[m-1]],r(p),p})},moveSectionRight:d=>{n(f=>{const m=f.indexOf(d);if(m===-1||m>=f.length-1)return f;const p=[...f];return[p[m],p[m+1]]=[p[m+1],p[m]],r(p),p})},handleSectionDragEnd:d=>{const{active:f,over:m}=d;f.id!==(m==null?void 0:m.id)&&n(p=>{const b=p.indexOf(f.id),T=p.indexOf(m.id),v=pf(p,b,T);return r(v),v})},handleSectionsContainerDoubleClick:d=>{a&&d.target===d.currentTarget&&i(!1)}}}function Jj(e){const[t,n]=S.useState(""),[a,i]=S.useState(!1),[s,r]=S.useState(!1),[l,o]=S.useState(""),u=S.useRef(null),h=async()=>{try{const{data:b,error:T}=await Se.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(T)throw T;const v=b&&b.length>0?b[0].content:Bu;n(v),o(v)}catch(b){console.error("   :",b.message),n(Bu),o(Bu)}},d=()=>{i(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},f=async()=>{var b;if(!s)try{r(!0);const{data:T}=await Se.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);T&&T.length>0?await Se.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",T[0].id):await Se.from("spec_memos").insert([{content:t,user_id:(b=e==null?void 0:e.user)==null?void 0:b.id}]),o(t),i(!1)}catch(T){console.error("  :",T.message),alert("  .")}finally{r(!1)}},m=()=>{n(l),i(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:i,isSavingMemo:s,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:h,handleStartEditMemoInline:d,handleSaveMemoInline:f,handleCancelEditMemoInline:m,handleMemoKeyDown:b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),f()),b.key==="Escape"&&(b.preventDefault(),m())}}}function Zj(e){const[t,n]=S.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,i]=S.useState(!1),s=S.useRef(null),[r,l]=S.useState(null),[o,u]=S.useState([]),[h,d]=S.useState(!1),f=_=>Array.isArray(_)?_.map(w=>({...w,children:Array.isArray(w.children)?f(w.children):[]})):[],m=async()=>{try{const{data:_,error:w}=await Se.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(w){console.error("   :",w.message);return}if(_&&_.setting_value){const x=JSON.parse(_.setting_value),E=f(x);n(E),s.current=JSON.parse(JSON.stringify(E))}else{const x=localStorage.getItem("keyThoughtsBlocks");if(x){const E=JSON.parse(x),j=f(E);n(j),s.current=JSON.parse(JSON.stringify(j))}}}catch(_){console.error("   :",_.message)}},p=async()=>{var _;if((_=e==null?void 0:e.user)!=null&&_.id)try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(t));const{data:w,error:x}=await Se.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(x){console.error("   :",x.message);return}w?await Se.from("user_settings").update({setting_value:JSON.stringify(t)}).eq("setting_key","key_thoughts_blocks"):await Se.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(t),user_id:e.user.id}]),await v(t)}catch(w){console.error("   :",w.message)}},b=(_,w)=>{if(!_||_.length===0||_.length!==w.length)return!0;const x=(E,j)=>{for(let O=0;O<E.length;O++){const N=E[O],B=j[O];if(N.type!==B.type)return!0;const ne=N.children?N.children.length:0,se=B.children?B.children.length:0;if(ne!==se)return!0;const P=N.content||"",fe=B.content||"";if(Math.abs(P.length-fe.length)>=20||se>0&&x(N.children,B.children))return!0}return!1};return x(_,w)},T=async()=>{try{const _=localStorage.getItem("lastHistoryCleanup"),w=new Date().toDateString();if(_===w)return;const x=new Date;x.setDate(x.getDate()-30);const{error:E}=await Se.from("key_thoughts_history").delete().lt("created_at",x.toISOString());E?console.error("   :",E.message):(localStorage.setItem("lastHistoryCleanup",w),console.log("   "))}catch(_){console.error("   :",_.message)}},v=async _=>{var w;if((w=e==null?void 0:e.user)!=null&&w.id)try{if(!b(s.current,_))return;const{error:x}=await Se.from("key_thoughts_history").insert([{content:_,description:" ",user_id:e.user.id}]);x?console.error("   :",x.message):s.current=JSON.parse(JSON.stringify(_))}catch(x){console.error("   :",x.message)}};return{keyThoughtsBlocks:t,setKeyThoughtsBlocks:n,isSavingKeyThoughts:a,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:s,focusedBlockId:r,setFocusedBlockId:l,keyThoughtsHistory:o,setKeyThoughtsHistory:u,showKeyThoughtsHistory:h,setShowKeyThoughtsHistory:d,normalizeBlocks:f,fetchKeyThoughtsContent:m,handleSaveKeyThoughts:p,cleanupOldHistory:T,fetchKeyThoughtsHistory:async()=>{try{const{data:_,error:w}=await Se.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(w){console.error("   :",w.message);return}u(_||[])}catch(_){console.error("   :",_.message)}},restoreKeyThoughtsVersion:async _=>{try{const w=o.find(E=>E.id===_);if(!w){alert("    .");return}if(!window.confirm("  ?     ."))return;const x=f(w.content);n(x),s.current=JSON.parse(JSON.stringify(x)),await p(),alert("!"),d(!1)}catch(w){console.error("  :",w.message)}}}}const Pj=e=>["sun","mon","tue","wed","thu","fri","sat"][e],Fj=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=S.useState([]),[o,u]=S.useState(""),[h,d]=S.useState([]),[f,m]=S.useState(""),[p,b]=S.useState(!1),[T,v]=S.useState(!1),[g,y]=S.useState(null),[_,w]=S.useState(""),[x,E]=S.useState([]),[j,O]=S.useState(!1),[N,B]=S.useState(null),[ne,se]=S.useState([]),P=S.useRef(new Set),fe=async()=>{try{const{data:z,error:F}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(F)throw F;l(z||[])}catch(z){console.error("  :",z.message)}},k=async()=>{var z;if(!(o.trim()===""||p))try{b(!0);const F={text:o,days:h,start_date:$e(n),user_id:(z=e==null?void 0:e.user)==null?void 0:z.id};f&&(F.time_slot=f);const{data:le,error:Ie}=await t.from("routines").insert([F]).select();if(Ie)throw Ie;l([le[0],...r]),u(""),d([]),m("")}catch(F){console.error("  :",F.message)}finally{b(!1)}},U=async(z,F,le,Ie=null,He=!1,it="",De=null)=>{var ge;try{if(He){const{error:Ue}=await t.from("todos").update({routine_id:null}).eq("id",z);if(Ue)throw Ue;a(de=>de.map(ye=>ye.id===z?{...ye,routine_id:null}:ye));return}if(Ie){const{error:Ue}=await t.from("routines").update({days:le,time_slot:it}).eq("id",Ie);if(Ue)throw Ue;const{error:de}=await t.from("todos").update({is_pending_routine:le.length===0}).eq("id",z);if(de)throw de;l(ye=>ye.map(Ge=>Ge.id===Ie?{...Ge,days:le,time_slot:it}:Ge)),a(ye=>ye.map(Ge=>Ge.id===z?{...Ge,is_pending_routine:le.length===0}:Ge))}else{const Ue={text:F,days:le,time_slot:it,start_date:De||$e(n),user_id:(ge=e==null?void 0:e.user)==null?void 0:ge.id},{data:de,error:ye}=await t.from("routines").insert([Ue]).select();if(ye)throw ye;const{error:Ge}=await t.from("todos").update({routine_id:de[0].id,is_pending_routine:le.length===0}).eq("id",z);if(Ge)throw Ge;a(ze=>ze.map(At=>At.id===z?{...At,routine_id:de[0].id,is_pending_routine:le.length===0}:At)),l(ze=>[de[0],...ze])}}catch(Ue){console.error("  :",Ue.message)}},H=z=>{y(z.id),w(z.text),E(z.days)},re=()=>{y(null),w(""),E([])},me=async()=>{if(!(!g||_.trim()===""||x.length===0))try{const{error:z}=await t.from("routines").update({text:_.trim(),days:x}).eq("id",g);if(z)throw z;l(r.map(F=>F.id===g?{...F,text:_.trim(),days:x}:F)),re()}catch(z){console.error("  :",z.message)}},Ye=z=>{E(F=>F.includes(z)?F.filter(le=>le!==z):[...F,z])},_e=async z=>{const F=r.find(He=>He.id===z),le=F?F.text:" ";if(window.confirm(`  "${le}"() ?

    ,     .
(   )`))try{const{error:He}=await t.from("routines").update({deleted:!0}).eq("id",z);if(He)throw He;const{error:it}=await t.from("todos").update({routine_id:null}).eq("routine_id",z);it&&console.error("  ID  :",it.message),l(r.filter(De=>De.id!==z)),a(De=>De.map(ge=>ge.routine_id===z?{...ge,routine_id:null}:ge))}catch(He){console.error("  :",He.message)}},Ce=async z=>{var F;if(!P.current.has(z))try{P.current.add(z);const le=new Date(z),Ie=Pj(le.getDay()),{data:He,error:it}=await t.from("routines").select("*").eq("deleted",!1);if(it)throw it;const De=He.filter(ge=>{const Ue=ge.days||[],de=Ue.length===0||Ue.includes(Ie);if(ge.start_date){const ye=new Date(ge.start_date),Ge=le>=ye;return de&&Ge}return de});if(De.length===0)return;for(const ge of De){const Ue=ge.text,{data:de,error:ye}=await t.from("todos").select("*").eq("routine_id",ge.id).eq("deleted",!1);if(ye)throw ye;if(de&&de.length>1){console.warn(` ${ge.id}    (${de.length}).     .`);for(let ze=1;ze<de.length;ze++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",de[ze].id)}const Ge=de&&de.length>0?de[0]:null;if(Ge){const ze=Ge.visible_dates||[];if(ze.includes(z))continue;const At=[...ze,z].sort(),{error:Yt}=await t.from("todos").update({visible_dates:At}).eq("id",Ge.id);Yt&&console.error("    :",Yt.message)}else{const{error:ze}=await t.from("todos").insert([{text:Ue,completed:!1,date:z,visible_dates:[z],hidden_dates:[],order_index:0,routine_id:ge.id,user_id:(F=e==null?void 0:e.user)==null?void 0:F.id}]);ze&&console.error("   :",ze.message)}}}catch(le){console.error("   :",le.message)}finally{setTimeout(()=>{P.current.delete(z)},1e3)}},Re=async()=>{const F=$e(new Date);await Ce(F)},Ve=async z=>{try{const{data:F,error:le}=await t.from("todos").select("*").eq("routine_id",z.id).eq("deleted",!1);if(le)throw le;const Ie=F&&F.length>0?F[0]:null;if(Ie&&Ie.visible_dates){const He=Ie.visible_dates.sort().map(it=>({id:`${Ie.id}-${it}`,date:it,text:Ie.text,completed:Ie.completed,routine_id:Ie.routine_id}));se(He)}else se([]);B(z),O(!0)}catch(F){console.error("   :",F.message),alert("   : "+F.message)}},Oe=()=>{O(!1),B(null),se([])},en=()=>{v(!0),fe()},St=()=>{v(!1),u(""),d([])},Ut=z=>{d(F=>F.includes(z)?F.filter(le=>le!==z):[...F,z])};return S.useEffect(()=>{e&&fe()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:h,selectedTimeSlot:f,isAddingRoutine:p,showRoutineModal:T,editingRoutineId:g,editingRoutineText:_,editingRoutineDays:x,showRoutineHistory:j,selectedRoutineForHistory:N,routineHistoryData:ne,routineCreationInProgress:P,setRoutineInput:u,setSelectedTimeSlot:m,fetchRoutines:fe,handleAddRoutine:k,handleDeleteRoutine:_e,handleStartEditRoutine:H,handleSaveEditRoutine:me,handleCancelEditRoutine:re,handleToggleEditDay:Ye,handleCreateRoutineFromTodo:U,createRoutineTodosForDate:Ce,createRoutineTodos:Re,fetchRoutineHistory:Ve,handleCloseRoutineHistory:Oe,handleOpenRoutine:en,handleCloseRoutine:St,handleToggleDay:Ut}},Wj=(e,t,n,a,i,s,r)=>{const[l,o]=S.useState(""),[u,h]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(!0),[b,T]=S.useState(!1),[v,g]=S.useState(!1),[y,_]=S.useState(null),[w,x]=S.useState(!1),[E,j]=S.useState(!1),[O,N]=S.useState(""),[B,ne]=S.useState(null),[se,P]=S.useState(!1),[fe,k]=S.useState([]),[U,H]=S.useState(null),[re,me]=S.useState(!1),[Ye,_e]=S.useState(!1),[Ce,Re]=S.useState(null),[Ve,Oe]=S.useState({}),[en,St]=S.useState([]),[Ut,z]=S.useState([]),[F,le]=S.useState(!1),[Ie,He]=S.useState(""),[it,De]=S.useState(!1),[ge,Ue]=S.useState(null),de=S.useRef(!1),ye=S.useRef(new Set),Ge=C=>["sun","mon","tue","wed","thu","fri","sat"][C],ze=async C=>{if(!de.current)try{de.current=!0;const{data:M,error:$}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if($)throw $;if(!M||M.length===0)return;const X=M.filter(Q=>{const G=new Date(Q.created_at);return!($e(G)>=C||(Q.visible_dates||[]).includes(C)||(Q.hidden_dates||[]).includes(C))});for(const Q of X){const G=[...Q.visible_dates||[],C],{error:ae}=await t.from("todos").update({visible_dates:G}).eq("id",Q.id);ae&&console.error(` ${Q.id}  :`,ae.message)}}catch(M){console.error("  :",M.message)}finally{de.current=!1}},At=async()=>{if(!de.current)try{de.current=!0;const C=new Date,M=$e(C),{data:$,error:X}=await t.from("todos").select("date").lt("date",M).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(X)throw X;if(!$||$.length===0)return;const Q=new Date($[0].date+"T00:00:00");let G=new Date(Q);const ae=new Date(C);ae.setDate(ae.getDate()-1);let Ee=0;for(;G<=ae;){const We=$e(G),Me=new Date(G);Me.setDate(Me.getDate()+1);const Je=$e(Me),{data:Ft,error:Wt}=await t.from("todos").select("*").eq("date",We).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(Wt)throw Wt;if(Ft&&Ft.length>0){const{data:Mn,error:A}=await t.from("todos").select("*").eq("date",Je).eq("deleted",!1).order("order_index",{ascending:!0});if(A)throw A;const L=new Set;Mn==null||Mn.forEach(ce=>{ce.original_todo_id!==null&&L.add(ce.original_todo_id)});const he=Ft.filter(ce=>{const W=ce.original_todo_id||ce.id;return!L.has(W)});if(he.length>0){const ce=he.map($t=>$t.original_todo_id||$t.id).filter(($t,ma,Si)=>Si.indexOf($t)===ma),{data:W,error:ve}=await t.from("todos").select("id, created_at").in("id",ce);if(ve)throw ve;const ke={};W==null||W.forEach($t=>{ke[$t.id]=$t.created_at});const an=(Mn?Mn.length:0)+1,$a=he.map(($t,ma)=>{const Si=$t.original_todo_id||$t.id;return{text:$t.text,completed:!1,date:Je,created_at:ke[Si]||$t.created_at,order_index:an+ma,original_todo_id:Si,parent_id:null,routine_id:null}}),{error:aa}=await t.from("todos").insert($a);if(aa)throw aa;Ee+=he.length}}G.setDate(G.getDate()+1)}Ee>0}catch(C){console.error("    :",C.message)}finally{de.current=!1}},Yt=async C=>{var M;if(!ye.current.has(C))try{ye.current.add(C);const $=new Date(C),X=Ge($.getDay()),{data:Q,error:G}=await t.from("routines").select("*").eq("deleted",!1);if(G)throw G;const ae=Q.filter(Ee=>{const We=Ee.days||[],Me=We.length===0||We.includes(X);if(Ee.start_date){const Je=new Date(Ee.start_date),Ft=$>=Je;return Me&&Ft}return Me});if(ae.length===0)return;for(const Ee of ae){const We=Ee.text,{data:Me,error:Je}=await t.from("todos").select("*").eq("routine_id",Ee.id).eq("deleted",!1);if(Je)throw Je;if(Me&&Me.length>1){console.warn(` ${Ee.id}    (${Me.length}).     .`);for(let Wt=1;Wt<Me.length;Wt++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Me[Wt].id)}const Ft=Me&&Me.length>0?Me[0]:null;if(Ft){const Wt=Ft.visible_dates||[];if(Wt.includes(C))continue;const Mn=[...Wt,C].sort(),{error:A}=await t.from("todos").update({visible_dates:Mn}).eq("id",Ft.id);A&&console.error("    :",A.message)}else{const{error:Wt}=await t.from("todos").insert([{text:We,completed:!1,date:C,visible_dates:[C],hidden_dates:[],order_index:0,routine_id:Ee.id,user_id:(M=e==null?void 0:e.user)==null?void 0:M.id}]);Wt&&console.error("   :",Wt.message)}}}catch($){console.error("   :",$.message)}finally{setTimeout(()=>{ye.current.delete(C)},1e3)}},da=async()=>{try{p(!0);const C=$e(n),M=new Date;M.setHours(0,0,0,0),n.getTime()===M.getTime()&&await ze(C),await Yt(C);const{data:X,error:Q}=await t.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(Q)throw Q;const G=(X||[]).filter(ae=>ae.hidden_dates&&Array.isArray(ae.hidden_dates)&&ae.hidden_dates.includes(C)?!1:ae.visible_dates&&Array.isArray(ae.visible_dates)&&ae.visible_dates.length>0?ae.visible_dates.includes(C):ae.date===C);i(G)}catch(C){console.error("   :",C.message)}finally{p(!1)}},Ua=async()=>{try{const{data:C,error:M}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(M)throw M;k(C||[])}catch(C){console.error("  :",C.message)}},Zt=async()=>{var C;if(!(l.trim()===""||v))try{g(!0);const M=a.length>0?Math.max(...a.map(G=>G.order_index))+1:1,$=$e(n),{data:X,error:Q}=await t.from("todos").insert([{text:l,completed:!1,order_index:M,date:$,visible_dates:[$],hidden_dates:[],user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(Q)throw Q;i([...a,X[0]]),o("")}catch(M){console.error("   :",M.message)}finally{g(!1)}},tn=async()=>{var C,M;if(!(u.trim()===""||v))try{g(!0);const $=$e(n),{data:X,error:Q}=await t.from("routines").insert([{text:u,days:[],start_date:$,user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(Q)throw Q;const G=X[0],ae=a.filter(Je=>!Je.parent_id&&Je.is_pending_routine),Ee=ae.length>0?Math.max(...ae.map(Je=>Je.order_index))+1:1,{data:We,error:Me}=await t.from("todos").insert([{text:u,completed:!1,order_index:Ee,date:$,visible_dates:[$],hidden_dates:[],routine_id:G.id,is_pending_routine:!0,user_id:(M=e==null?void 0:e.user)==null?void 0:M.id}]).select();if(Me)throw Me;r([G,...s]),i([...a,We[0]]),h("")}catch($){console.error("   :",$.message)}finally{g(!1)}},Vt=async()=>{var C;if(!(d.trim()===""||v))try{g(!0);const M=a.filter(ae=>!ae.parent_id&&ae.routine_id===null),$=M.length>0?Math.max(...M.map(ae=>ae.order_index))+1:1,X=$e(n),{data:Q,error:G}=await t.from("todos").insert([{text:d,completed:!1,order_index:$,date:X,visible_dates:[X],hidden_dates:[],user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}]).select();if(G)throw G;i([...a,Q[0]]),f("")}catch(M){console.error("   :",M.message)}finally{g(!1)}},za=async C=>{const M=a.find($=>$.id===C);if(M)try{const $=!M.completed,X=$?new Date().toISOString():null,{error:Q}=await t.from("todos").update({completed:$,completed_at:X}).eq("id",C);if(Q)throw Q;i(a.map(G=>G.id===C?{...G,completed:$,completed_at:X}:G))}catch($){console.error("   :",$.message)}},ct=C=>{i(a.filter(M=>M.id!==C))},ta=async C=>{var Q;const M=a.find(G=>G.id===C);if(!M)return;const $=((Q=M.visible_dates)==null?void 0:Q.length)>0?M.visible_dates:[M.date||M.created_date],X=M.original_todo_id!==null&&M.original_todo_id!==void 0;$.length>1||X?(Ue(M),De(!0)):await pt(C)},pt=async C=>{try{const M=a.find(Q=>Q.id===C);if(!M)return;_(M);const $=$e(n),{error:X}=await t.from("todos").update({deleted:!0,deleted_date:$}).eq("id",C);if(X)throw X;i(a.filter(Q=>Q.id!==C)),x(!0),setTimeout(()=>{x(!1),_(null)},5e3)}catch(M){console.error("   :",M.message)}};return{inputValue:l,setInputValue:o,routineInputValue:u,setRoutineInputValue:h,normalInputValue:d,setNormalInputValue:f,loading:m,isDraggingAny:b,isAdding:v,deletedTodo:y,showUndoToast:w,showSuccessToast:E,successToastMessage:O,lastDeleteAction:B,showTrashModal:se,trashedItems:fe,focusedTodoId:U,setFocusedTodoId:H,showTodoHistoryModal:re,showTodoRoutineSetupModal:Ye,selectedTodoForModal:Ce,todoHistory:Ve,expandedHistoryIds:en,routineDaysForModal:Ut,setRoutineDaysForModal:z,isEditingRoutineInModal:F,setIsEditingRoutineInModal:le,routineTimeSlotForModal:Ie,setRoutineTimeSlotForModal:He,showDeleteConfirmModal:it,setShowDeleteConfirmModal:De,todoToDelete:ge,setTodoToDelete:Ue,carryOverInProgress:de,fetchTodos:da,handleAddTodo:Zt,handleAddRoutineTodo:tn,handleAddNormalTodo:Vt,handleToggleTodo:za,handleDeleteTodo:ta,executeSimpleDelete:pt,hideOnThisDateOnly:async C=>{try{const M=$e(n),X=[...C.hidden_dates||[],M],{error:Q}=await t.from("todos").update({hidden_dates:X}).eq("id",C.id);if(Q)throw Q;i(a.filter(G=>G.id!==C.id)),De(!1),Ue(null)}catch(M){console.error(" :",M.message)}},deleteCompletely:async C=>{try{const M=$e(n),{error:$}=await t.from("todos").update({deleted:!0,deleted_date:M}).eq("id",C.id);if($)throw $;i(a.filter(X=>X.id!==C.id)),De(!1),Ue(null)}catch(M){console.error(" :",M.message)}},handleUndoDelete:async()=>{if(y)try{const{error:C}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",y.id);if(C)throw C;i(M=>{const $={...y,deleted:!1,deleted_date:null};return[...M,$].sort((Q,G)=>Q.order_index-G.order_index)}),x(!1),_(null)}catch(C){console.error("  :",C.message)}},handleRestoreFromTrash:async C=>{if(window.confirm(`  ?

      .`))try{const{error:$}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",C);if($)throw $;k(fe.filter(X=>X.id!==C)),alert(" !")}catch($){console.error(" :",$.message),alert("  : "+$.message)}},handlePermanentDelete:async C=>{if(window.confirm(`     ?

    .`))try{const{error:$}=await t.from("todos").delete().eq("id",C);if($)throw $;k(fe.filter(X=>X.id!==C)),alert("  .")}catch($){console.error("  :",$.message),alert("   : "+$.message)}},handleEditTodo:async(C,M,$)=>{var X,Q;try{let G=null;$.current.add(C);const ae=new Date().toISOString();if(i(Me=>(G=Me.find(Je=>Je.id===C),!G||G.text===M?($.current.delete(C),Me):Me.map(Je=>Je.id===C?{...Je,text:M,updated_at:ae}:Je))),!G||G.text===M)return;const{error:Ee}=await t.from("todo_history").insert([{todo_id:C,previous_text:G.text,new_text:M,changed_on_date:G.date,user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]);if(Ee&&console.error("  :",Ee.message),G.original_todo_id){const{data:Me,error:Je}=await t.from("todos").select("text, date").eq("id",G.original_todo_id).single();!Je&&Me&&await t.from("todo_history").insert([{todo_id:G.original_todo_id,previous_text:G.text,new_text:M,changed_on_date:G.date,user_id:(Q=e==null?void 0:e.user)==null?void 0:Q.id}])}const{error:We}=await t.from("todos").update({text:M}).eq("id",C);We?(console.error("   :",We.message),i(Me=>Me.map(Je=>Je.id===C?G:Je)),$.current.delete(C)):setTimeout(()=>{$.current.delete(C)},5e3)}catch(G){console.error("   :",G.message),$.current.delete(C)}},handleAddSubTodo:async(C,M)=>{var $;if(!(!M||M.trim()===""))try{const Q=a.filter(We=>We.parent_id===C).length+1,G=$e(n),{data:ae,error:Ee}=await t.from("todos").insert([{text:M.trim(),completed:!1,order_index:Q,date:G,parent_id:C,user_id:($=e==null?void 0:e.user)==null?void 0:$.id}]).select();if(Ee)throw Ee;i([...a,ae[0]])}catch(X){console.error("    :",X.message)}},handleDragEnd:async(C,M)=>{T(!1);const{active:$,over:X}=C;if(!X||$.id===X.id)return;const Q=a.findIndex(Ee=>Ee.id===$.id),G=a.findIndex(Ee=>Ee.id===X.id),ae=M(a,Q,G);i(ae);try{const Ee=ae.map((We,Me)=>({id:We.id,order_index:Me+1}));for(const We of Ee)await t.from("todos").update({order_index:We.order_index}).eq("id",We.id)}catch(Ee){console.error("  :",Ee.message)}},carryOverIncompleteTodos:ze,movePastIncompleteTodosToToday:At,fetchTrash:Ua,handleEmptyTrash:async()=>{if(!(fe.length===0||!window.confirm(`   ?

${fe.length}   .
    .`)))try{const M=fe.map(X=>X.id),{error:$}=await t.from("todos").delete().in("id",M);if($)throw $;k([]),alert(` ${M.length}   .`)}catch(M){console.error("  :",M.message),alert("   : "+M.message)}},handleRemoveTodoFromUI:ct,handleOpenTrash:()=>{P(!0),Ua()},handleCloseTrash:()=>{P(!1)},handleDragStart:()=>{T(!0)},handleDragCancel:()=>{T(!1)},handleOpenTodoHistoryModal:async C=>{Re(C);try{const{data:M,error:$}=await t.from("todo_history").select("*").eq("todo_id",C.id).order("changed_at",{ascending:!1});if($)throw $;Oe(X=>({...X,[C.id]:M||[]}))}catch(M){console.error("Error fetching history:",M)}me(!0)},handleCloseTodoHistoryModal:()=>{me(!1),Re(null),St([])},handleOpenTodoRoutineSetupModal:C=>{Re(C);const M=s.find($=>$.id===C.routine_id);M?(z(M.days||[]),He(M.time_slot||""),le(!1)):(z([]),He(""),le(!0)),_e(!0)},handleCloseTodoRoutineSetupModal:()=>{_e(!1),Re(null),z([]),He(""),le(!1)},toggleHistoryDetail:C=>{St(M=>M.includes(C)?M.filter($=>$!==C):[...M,C])}}};function eO(e,t,n){const[a,i]=S.useState([]),[s,r]=S.useState(!1),[l,o]=S.useState(!1);return{dummySessions:a,showDummyModal:s,setShowDummyModal:r,showDummySQL:l,setShowDummySQL:o,handleCreateDummyData:async()=>{try{const m=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),b=[],T=[],v="2025-11-14";b.push({text:`[${m}] : 14--`,date:v,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${m}] : 14-14`,date:v,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${m}] : 14-15`,date:v,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${m}] : 14-16`,date:v,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const g="2025-11-15";b.push({text:`[${m}] : 15--`,date:g,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${m}] : 15-15`,date:g,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${m}] : 15-16`,date:g,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const y="2025-11-16";b.push({text:`[${m}] : 16-`,date:y,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${m}] : 16-16`,date:y,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),b.push({text:`[${m}] : 14-15-`,date:g,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${m}] : 14-15-15`,date:g,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),b.push({text:`[${m}] : 15-16-`,date:y,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${m}] : 15-16-16`,date:y,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${m}] : 14-16-`,date:y,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${m}] : 14-16-16`,date:y,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const _="2025-11-17";b.push({text:`[${m}] : 16-17-`,date:_,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${m}] : 15-17-`,date:_,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${m}] : 14-17-`,date:_,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const w="2025-11-18";b.push({text:`[${m}] : 16-18-`,date:w,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${m}] : 15-18-`,date:w,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:x,error:E}=await t.from("todos").insert(b).select();if(E)throw E;const j=x.find(N=>N.text.includes("14--"));j&&T.push({todo_id:j.id,previous_text:`[${m}] : 14--1`,new_text:`[${m}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:g},{todo_id:j.id,previous_text:`[${m}] : 14--2`,new_text:`[${m}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:y});const O=x.find(N=>N.text.includes("15--"));if(O&&T.push({todo_id:O.id,previous_text:`[${m}] : 15--1`,new_text:`[${m}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:y}),T.length>0){const{error:N}=await t.from("todo_history").insert(T);N&&console.error("  :",N.message)}i(N=>[...N,{sessionId:m,createdAt:new Date().toISOString(),count:b.length,historyCount:T.length}]),alert(`    !
: ${b.length}
: ${T.length}
 ID: ${m}`),n()}catch(m){console.error("   :",m.message),alert("    : "+m.message)}},handleDeleteDummySession:async m=>{if(window.confirm(`   "${m}"   ?

      ,     .`))try{const{data:b,error:T}=await t.from("todos").select("id").like("text",`[${m}]%`);if(T)throw T;if(b&&b.length>0){const g=b.map(_=>_.id),{error:y}=await t.from("todo_history").delete().in("todo_id",g);y&&console.error("  :",y.message)}const{error:v}=await t.from("todos").delete().like("text",`[${m}]%`);if(v)throw v;i(g=>g.filter(y=>y.sessionId!==m)),alert(`  ${m}  !`),n()}catch(b){console.error("   :",b.message),alert("    : "+b.message)}},handleDeleteAllDummies:async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:b}=await t.from("todos").select("id").like("text","[DUMMY-%");if(b)throw b;if(p&&p.length>0){const v=p.map(y=>y.id),{error:g}=await t.from("todo_history").delete().in("todo_id",v);g&&console.error("  :",g.message)}const{error:T}=await t.from("todos").delete().like("text","[DUMMY-%");if(T)throw T;i([]),alert("     !"),n()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},handleRemoveDuplicates:async()=>{try{const{data:m,error:p}=await t.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!m||m.length===0){alert(" .");return}const b={};m.forEach(E=>{b[E.text]||(b[E.text]=[]),b[E.text].push(E)});const T=Object.entries(b).filter(([E,j])=>j.length>1);if(T.length===0){alert("  .");return}let v=`  :

`,g=[];if(T.forEach(([E,j])=>{v+=`"${E}" - ${j.length}
`;const O=j.slice(1);g.push(...O),O.forEach(ne=>{const se=new Date(ne.created_at).toLocaleString("ko-KR");v+=`    : ${se}
`});const N=j[0],B=new Date(N.created_at).toLocaleString("ko-KR");v+=`   : ${B}

`}),v+=`
 ${g.length}   .`,!window.confirm(v+`

     ,     .

?`))return;const _=g.map(E=>E.id),{error:w}=await t.from("todo_history").delete().in("todo_id",_);w&&console.error("  :",w.message);const{error:x}=await t.from("todos").delete().in("id",_);if(x)throw x;alert(` ${g.length}   .`),n()}catch(m){console.error("   :",m.message),alert("    : "+m.message)}}}}function tO(e,t){const[n,a]=S.useState([]),[i,s]=S.useState(!1),[r,l]=S.useState(""),[o,u]=S.useState(null),[h,d]=S.useState(""),[f,m]=S.useState(!1),[p,b]=S.useState(""),T=()=>{if(n.length===0)return"";const x=Math.floor(Math.random()*n.length);return n[x]},v=()=>{let x=0;m(!0),setTimeout(()=>{let E=T();for(;E===p&&n.length>1&&x<10;)E=T(),x++;m(!1),b(E)},300)},g=async()=>{try{const{data:x,error:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(E)throw E;if(x&&x.length>0){const j=x.map(O=>O.message);a(j),p||b(j[0])}}catch(x){console.error("   :",x.message)}},y=async x=>{var E;try{const{data:j}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),O=j&&j.length>0?j[0].order_index:0,{error:N}=await t.from("encouragement_messages").insert([{message:x,order_index:O+1,user_id:(E=e==null?void 0:e.user)==null?void 0:E.id}]);if(N)throw N;await g()}catch(j){console.error("   :",j.message),alert("   .")}},_=async(x,E)=>{try{const{data:j}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!j||x>=j.length)throw new Error("   .");const O=j[x],{error:N}=await t.from("encouragement_messages").update({message:E}).eq("id",O.id);if(N)throw N;await g()}catch(j){console.error("   :",j.message),alert("   .")}},w=async x=>{try{const{data:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!E||x>=E.length)throw new Error("   .");const j=E[x],{error:O}=await t.from("encouragement_messages").delete().eq("id",j.id);if(O)throw O;await g()}catch(E){console.error("   :",E.message),alert("   .")}};return S.useEffect(()=>{n.length>0&&!p&&b(T())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:s,newEncouragementMessage:r,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:u,editingEncouragementText:h,setEditingEncouragementText:d,showEncouragementEmoji:f,currentEncouragementMessage:p,handleEncouragementClick:v,fetchEncouragementMessages:g,addEncouragementMessage:y,updateEncouragementMessage:_,deleteEncouragementMessage:w}}function nO(e){const[t,n]=S.useState(!1),[a,i]=S.useState([]),[s,r]=S.useState("1week"),l=async()=>{try{const h=new Date,d=$e(h);let f=null;if(s!=="all")switch(f=new Date(h),s){case"1week":f.setDate(h.getDate()-7);break;case"2weeks":f.setDate(h.getDate()-14);break;case"1month":f.setMonth(h.getMonth()-1);break;case"3months":f.setMonth(h.getMonth()-3);break;case"6months":f.setMonth(h.getMonth()-6);break}let m=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});f&&(m=m.gte("date",$e(f)));const{data:p,error:b}=await m;if(b)throw b;const T={};for(const g of p||[]){const y=g.original_todo_id||g.id;T[y]||(T[y]=[]),T[y].push(g)}const v=Object.entries(T).map(([g,y])=>{const _=y.sort((O,N)=>new Date(O.date)-new Date(N.date)),w=_[0],x=_.map(O=>O.date);let E=null;for(const O of _)if(O.completed&&O.completed_at){const N=new Date(O.completed_at);E=$e(N);break}const j=_.find(O=>O.date===d);return{text:w.text,originalId:parseInt(g),createdAt:w.created_at,startDate:x[0],endDate:x[x.length-1],dates:x,completed:(j==null?void 0:j.completed)||!1,completedDate:E}}).sort((g,y)=>new Date(g.createdAt)-new Date(y.createdAt));i(v)}catch(h){console.error("   :",h.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:s,setGanttPeriod:r,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function lo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:i,listeners:s,setNodeRef:r,transform:l,transition:o,isDragging:u}=bf({id:e,disabled:n}),h=S.useRef(null),[d,f]=S.useState(!1),m=w=>{if(n&&a){if(!w.target.closest(".section-header"))return;f(!0),h.current=setTimeout(()=>{a(),f(!1)},500)}},p=()=>{h.current&&(clearTimeout(h.current),h.current=null,f(!1))},b=()=>{h.current&&(clearTimeout(h.current),h.current=null),f(!1)},T=()=>{h.current&&(clearTimeout(h.current),h.current=null),f(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},y=n?{onPointerDown:m,onPointerMove:p,onPointerUp:b,onPointerCancel:T,onPointerLeave:T}:{...i,...s},_=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:g,className:_,...y,children:t})}function aO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=Rj(),[i,s]=S.useState(new Date),[r,l]=S.useState(!1),o=S.useRef(new Set),u=Jd(Ui(fl,{activationConstraint:{distance:8}}),Ui(Wd,{activationConstraint:{delay:200,tolerance:8}}),Ui(Lc,{coordinateGetter:xb})),h=Jd(Ui(fl,{activationConstraint:{distance:8}}),Ui(Wd,{activationConstraint:{delay:200,tolerance:8}})),[d,f]=S.useState([]),{showRoutineModal:m,routines:p,setRoutines:b,routineInput:T,setRoutineInput:v,selectedDays:g,selectedTimeSlot:y,setSelectedTimeSlot:_,isAddingRoutine:w,editingRoutineId:x,editingRoutineText:E,setEditingRoutineText:j,showRoutineHistory:O,selectedRoutineForHistory:N,routineHistoryData:B,editingRoutineDays:ne,handleAddRoutine:se,handleCreateRoutineFromTodo:P,handleStartEditRoutine:fe,handleCancelEditRoutine:k,handleSaveEditRoutine:U,handleToggleEditDay:H,handleDeleteRoutine:re,fetchRoutineHistory:me,handleCloseRoutineHistory:Ye,handleOpenRoutine:_e,handleCloseRoutine:Ce,handleToggleDay:Re,createRoutineTodos:Ve}=Fj({session:e,supabase:Se,selectedDate:i,setTodos:f,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{routineInputValue:Oe,setRoutineInputValue:en,normalInputValue:St,setNormalInputValue:Ut,loading:z,isDraggingAny:F,isAdding:le,showUndoToast:Ie,showSuccessToast:He,successToastMessage:it,lastDeleteAction:De,showTrashModal:ge,trashedItems:Ue,focusedTodoId:de,setFocusedTodoId:ye,showDeleteConfirmModal:Ge,setShowDeleteConfirmModal:ze,todoToDelete:At,fetchTodos:Yt,handleAddRoutineTodo:da,handleAddNormalTodo:Ua,handleToggleTodo:Zt,handleDeleteTodo:tn,handleRestoreFromTrash:Vt,handlePermanentDelete:za,handleAddSubTodo:ct,handleEditTodo:ta,handleDragStart:pt,handleDragCancel:ha,handleDragEnd:na,handleOpenTrash:pi,handleCloseTrash:bi,handleEmptyTrash:_i,handleUndoDelete:wi,handleOpenTodoHistoryModal:Gn,handleCloseTodoHistoryModal:fa,handleOpenTodoRoutineSetupModal:ft,handleCloseTodoRoutineSetupModal:ut,toggleHistoryDetail:zt,showTodoHistoryModal:bn,showTodoRoutineSetupModal:It,selectedTodoForModal:bt,todoHistory:nn,expandedHistoryIds:Pt,routineDaysForModal:dt,setRoutineDaysForModal:dn,isEditingRoutineInModal:C,setIsEditingRoutineInModal:M,routineTimeSlotForModal:$,setRoutineTimeSlotForModal:X,hideOnThisDateOnly:Q,deleteCompletely:G,handleRemoveTodoFromUI:ae}=Wj(e,Se,i,d,f,p,b),Ee=D=>{ye(D)},We=D=>{console.log("Success:",D)},Me=()=>{wi()},Je=()=>{const D=document.querySelector(".memo-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},{showGanttChart:Ft,ganttData:Wt,ganttPeriod:Mn,setGanttPeriod:A,handleOpenGanttChart:L,handleCloseGanttChart:he,fetchGanttData:ce}=nO(Se),{dummySessions:W,showDummyModal:ve,setShowDummyModal:ke,showDummySQL:Ke,setShowDummySQL:an,handleCreateDummyData:$a,handleDeleteDummySession:aa,handleDeleteAllDummies:$t,handleRemoveDuplicates:ma}=eO(e,Se,Yt),[Si,Cl]=S.useState(!1),{memoContent:Ob,setMemoContent:Db,isSavingMemo:Nb,isEditingMemoInline:qc,memoTextareaRef:Ab,handleStartEditMemoInline:Cb,handleSaveMemoInline:Rb,handleCancelEditMemoInline:Mb,handleMemoKeyDown:kb}=Jj(e),{keyThoughtsBlocks:Ub,setKeyThoughtsBlocks:zb,focusedBlockId:$b,setFocusedBlockId:Lb,keyThoughtsHistory:Bb,showKeyThoughtsHistory:Hb,setShowKeyThoughtsHistory:wf,fetchKeyThoughtsHistory:qb,restoreKeyThoughtsVersion:Yb}=Zj(e),{encouragementMessages:Vb,showEncouragementModal:Ib,setShowEncouragementModal:Sf,newEncouragementMessage:Gb,setNewEncouragementMessage:Kb,editingEncouragementId:Xb,setEditingEncouragementId:Qb,editingEncouragementText:Jb,setEditingEncouragementText:Zb,showEncouragementEmoji:Pb,currentEncouragementMessage:Fb,handleEncouragementClick:Wb,fetchEncouragementMessages:e_,addEncouragementMessage:t_,updateEncouragementMessage:n_,deleteEncouragementMessage:a_}=tO(e,Se),[La,i_]=S.useState(()=>localStorage.getItem("viewMode")||"horizontal"),s_=Qj(e),{sectionOrder:xf,isReorderMode:hr,setIsReorderMode:fr,handleSectionDragEnd:r_,handleSectionsContainerDoubleClick:l_}=s_,es=S.useRef(null),[o_,c_]=S.useState(0),Yc=S.useRef(null),u_=()=>{const D=new Date(i);D.setDate(D.getDate()-1),s(D)},d_=()=>{const D=new Date(i);D.setDate(D.getDate()+1),s(D)},h_=D=>{const Z=new Date(D.target.value+"T00:00:00");s(Z)},f_=async(D,Z)=>{try{const I=$e(D),ie=$e(Z),{data:Y,error:q}=await Se.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(q)throw q;const Ne=(Y||[]).filter(V=>V.hidden_dates&&Array.isArray(V.hidden_dates)&&V.hidden_dates.includes(I)?!1:V.visible_dates&&Array.isArray(V.visible_dates)&&V.visible_dates.length>0?V.visible_dates.includes(I):V.date===I);if(Ne.length===0)return;for(const V of Ne){let Ae=V.visible_dates||[V.date];if(Ae.includes(ie))continue;const we=[...Ae,ie].sort(),{error:qe}=await Se.from("todos").update({visible_dates:we}).eq("id",V.id);qe&&console.error(` ${V.id}  :`,qe.message)}}catch(I){console.error("   :",I.message)}};S.useEffect(()=>{let D=null;const Z=()=>{document.body.classList.add("is-scrolling"),D&&clearTimeout(D),D=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z),D&&clearTimeout(D)}},[]),S.useEffect(()=>{e&&e_()},[e]),S.useEffect(()=>{if(!es.current)return;const D=es.current,Z=La==="horizontal";let I=!1,ie=0,Y=0,q=0;const Ne=et=>et.type.includes("touch")?Z?et.touches[0].pageX:et.touches[0].pageY:Z?et.pageX:et.pageY,V=et=>{et.target.closest(".section-block")||(I=!0,ie=Ne(et),Y=Z?D.scrollLeft:D.scrollTop,D.style.transition="none",D.style.transform=Z?"translateX(0)":"translateY(0)",q=0)},Ae=()=>{I&&q!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=Z?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",q=0},300)),I=!1},we=()=>{q!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=Z?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",q=0},300)),I=!1},qe=et=>{if(!I)return;et.preventDefault();const Et=(Ne(et)-ie)*1.5,gt=Y-Et,Ba=Z?D.scrollWidth-D.clientWidth:D.scrollHeight-D.clientHeight;if(gt<0){const ts=-gt;q=Math.min(ts*.3,100),Z?(D.scrollLeft=0,D.style.transform=`translateX(${q}px)`):(D.scrollTop=0,D.style.transform=`translateY(${q}px)`)}else if(gt>Ba){const ts=gt-Ba;q=-Math.min(ts*.3,100),Z?(D.scrollLeft=Ba,D.style.transform=`translateX(${q}px)`):(D.scrollTop=Ba,D.style.transform=`translateY(${q}px)`)}else q=0,D.style.transform=Z?"translateX(0)":"translateY(0)",Z?D.scrollLeft=gt:D.scrollTop=gt},_n=et=>{Z&&et.target.closest(".section-block")&&et.deltaX!==0&&et.preventDefault()};return D.addEventListener("mousedown",V),document.addEventListener("mouseup",we),document.addEventListener("mouseleave",Ae),D.addEventListener("mousemove",qe),D.addEventListener("touchstart",V,{passive:!0}),D.addEventListener("touchmove",qe,{passive:!1}),D.addEventListener("touchend",we),D.addEventListener("touchcancel",we),D.addEventListener("wheel",_n,{passive:!1}),()=>{D.removeEventListener("mousedown",V),document.removeEventListener("mouseup",we),document.removeEventListener("mouseleave",Ae),D.removeEventListener("mousemove",qe),D.removeEventListener("touchstart",V),D.removeEventListener("touchmove",qe),D.removeEventListener("touchend",we),D.removeEventListener("touchcancel",we),D.removeEventListener("wheel",_n)}},[La,d,p]),S.useEffect(()=>{if(La!=="horizontal"||!es.current)return;const D=es.current,Z=()=>{const I=D.querySelectorAll(".section-block");if(I.length===0)return;const ie=D.getBoundingClientRect(),Y=ie.left+ie.width/2;let q=0,Ne=1/0;I.forEach((V,Ae)=>{const we=V.getBoundingClientRect(),qe=we.left+we.width/2,_n=Math.abs(qe-Y);_n<Ne&&(Ne=_n,q=Ae)}),c_(q)};return D.addEventListener("scroll",Z),Z(),()=>D.removeEventListener("scroll",Z)},[La,d,p]),S.useEffect(()=>{if(!Yc.current)return;const D=Yc.current;let Z=!1,I=0,ie=0,Y=0;const q=we=>{we.target.closest(".section-block")||(Z=!0,I=we.pageY,ie=D.scrollTop,D.style.transition="none",D.style.transform="translateY(0)",Y=0)},Ne=()=>{Z&&Y!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",Y=0},300)),Z=!1},V=()=>{Y!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",Y=0},300)),Z=!1},Ae=we=>{if(!Z)return;we.preventDefault();const _n=(we.pageY-I)*1.5,et=ie-_n,xt=D.scrollHeight-D.clientHeight;if(et<0){const Et=-et;Y=Math.min(Et*.3,100),D.scrollTop=0,D.style.transform=`translateY(${Y}px)`}else if(et>xt){const Et=et-xt;Y=-Math.min(Et*.3,100),D.scrollTop=xt,D.style.transform=`translateY(${Y}px)`}else Y=0,D.style.transform="translateY(0)",D.scrollTop=et};return D.addEventListener("mousedown",q),document.addEventListener("mouseup",V),document.addEventListener("mouseleave",Ne),D.addEventListener("mousemove",Ae),()=>{D.removeEventListener("mousedown",q),document.removeEventListener("mouseup",V),document.removeEventListener("mouseleave",Ne),D.removeEventListener("mousemove",Ae)}},[d,p]),S.useEffect(()=>{Ft&&ce()},[Mn]),S.useEffect(()=>{const D=async()=>{const I=new Date,ie=new Date(I);ie.setHours(24,0,0,0);const Y=ie.getTime()-I.getTime();return setTimeout(async()=>{const Ne=new Date(I),V=new Date(I);V.setDate(V.getDate()+1),await f_(Ne,V),await Ve(),s(new Date),D()},Y)},Z=D();return()=>clearTimeout(Z)},[]),S.useEffect(()=>{Yt();const D=$e(i),Z=Se.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${D}`},I=>{I.eventType==="INSERT"?f(ie=>ie.some(q=>q.id===I.new.id)?ie:[...ie,I.new].sort((q,Ne)=>q.order_index-Ne.order_index)):I.eventType==="UPDATE"?f(ie=>o.current.has(I.new.id)?ie:ie.map(Y=>Y.id===I.new.id?I.new:Y).sort((Y,q)=>Y.order_index-q.order_index)):I.eventType==="DELETE"&&f(ie=>ie.filter(Y=>Y.id!==I.old.id))}).subscribe(I=>{});return()=>{Se.removeChannel(Z)}},[i]),S.useEffect(()=>{if(F){const D=window.scrollY,Z=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${D}px`,document.body.style.left="0",document.body.style.right="0",Z>0&&(document.body.style.paddingRight=`${Z}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,D)}}},[F]);const Ef=Xj({authLoading:t,session:e,handleGoogleLogin:n});return Ef||c.jsxs("div",{className:`app ${F?"dragging-active":""}`,children:[c.jsx(Mj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:La,setViewMode:i_,onOpenTrash:pi,onOpenRoutine:_e,onOpenMemo:Je,onScrollToKeyThoughts:()=>{const D=document.querySelector(".key-thoughts-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:L,onOpenEncouragementModal:()=>Sf(!0),onOpenDummyModal:()=>ke(!0),onLogout:a}),c.jsxs("div",{className:`container ${La==="horizontal"?"container-wide":""}`,children:[c.jsx(Uj,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:h_,onPrevDay:u_,onNextDay:d_,showEncouragementEmoji:Pb,currentEncouragementMessage:Fb,onEncouragementClick:Wb,isReorderMode:hr,setIsReorderMode:fr,setSelectedDate:s}),c.jsxs("div",{className:"content-scrollable",ref:Yc,children:[c.jsx(th,{sensors:u,collisionDetection:Zd,onDragStart:pt,onDragEnd:na,onDragCancel:ha,children:c.jsx("div",{className:"todo-list",children:z?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const D=d.filter(ie=>!ie.parent_id&&ie.routine_id!==null&&!ie.is_pending_routine),Z=d.filter(ie=>!ie.parent_id&&ie.is_pending_routine),I=d.filter(ie=>!ie.parent_id&&ie.routine_id===null&&!ie.is_pending_routine);return c.jsx(th,{sensors:h,collisionDetection:Zd,onDragEnd:r_,children:c.jsx(Or,{items:xf,strategy:vj,children:c.jsx("div",{ref:es,className:`sections-container ${La==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:l_,children:xf.map(ie=>ie==="memo"?c.jsx(lo,{id:"memo",disabled:!hr,onLongPress:()=>fr(!0),children:c.jsxs(Hj,{title:"  ",className:"memo-section section-block",content:Ob,setContent:Db,isEditing:qc,isSaving:Nb,textareaRef:Ab,onStartEdit:Cb,onSave:Rb,onCancel:Mb,onKeyDown:kb,placeholder:" ...",emptyMessage:" ",children:[!qc&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>an(!Ke),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.currentTarget.style.background="rgba(255, 255, 255, 0.1)",Y.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:Y=>{Y.currentTarget.style.background="rgba(255, 255, 255, 0.05)",Y.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:Ke?"":""})]})}),Ke&&!qc&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const Y=new Date,q=Rl=>{const xi=new Date(Y);return xi.setDate(xi.getDate()+Rl),xi.toISOString().split("T")[0]},Ne=Rl=>{const xi=new Date(Y);return xi.setDate(xi.getDate()+Rl),xi.getDate()},V=Date.now(),Ae=Ne(-2),we=Ne(-1),qe=Ne(0),_n=Ne(1),et=Ne(2),xt=q(-2),Et=q(-1),gt=q(0),Ba=q(1),ts=q(2),m_=`--         (${gt} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${Ae}--', '${xt}', false, '${xt}T09:00:00+09:00', 1001),
  ('[DUMMY-${V}] : ${Ae}-${Ae}', '${xt}', true, '${xt}T09:10:00+09:00', 1002),
  ('[DUMMY-${V}] : ${Ae}-${we}', '${xt}', true, '${xt}T09:20:00+09:00', 1003),
  ('[DUMMY-${V}] : ${Ae}-${qe}', '${xt}', true, '${xt}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${we}--', '${Et}', false, '${Et}T10:00:00+09:00', 1005),
  ('[DUMMY-${V}] : ${we}-${we}', '${Et}', true, '${Et}T10:10:00+09:00', 1006),
  ('[DUMMY-${V}] : ${we}-${qe}', '${Et}', true, '${Et}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${qe}-', '${gt}', false, '${gt}T11:00:00+09:00', 1008),
  ('[DUMMY-${V}] : ${qe}-${qe}', '${gt}', true, '${gt}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${Ae}-${we}-', '${Et}', false, '${xt}T14:00:00+09:00', 1010),
  ('[DUMMY-${V}] : ${Ae}-${we}-${we}', '${Et}', true, '${xt}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${we}-${qe}-', '${gt}', false, '${Et}T15:00:00+09:00', 1012),
  ('[DUMMY-${V}] : ${we}-${qe}-${qe}', '${gt}', true, '${Et}T15:10:00+09:00', 1013),
  ('[DUMMY-${V}] : ${Ae}-${qe}-', '${gt}', false, '${xt}T15:00:00+09:00', 1014),
  ('[DUMMY-${V}] : ${Ae}-${qe}-${qe}', '${gt}', true, '${xt}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${qe}-${_n}-', '${Ba}', false, '${gt}T16:00:00+09:00', 1016),
  ('[DUMMY-${V}] : ${we}-${_n}-', '${Ba}', false, '${Et}T16:00:00+09:00', 1017),
  ('[DUMMY-${V}] : ${Ae}-${_n}-', '${Ba}', false, '${xt}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${qe}-${et}-', '${ts}', false, '${gt}T17:00:00+09:00', 1019),
  ('[DUMMY-${V}] : ${we}-${et}-', '${ts}', false, '${Et}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${Ae}--1', '[DUMMY-${V}] : ${Ae}--2', '${Et}T12:00:00+09:00', '${Et}'
FROM todos WHERE text = '[DUMMY-${V}] : ${Ae}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${Ae}--2', '[DUMMY-${V}] : ${Ae}--', '${gt}T12:00:00+09:00', '${gt}'
FROM todos WHERE text = '[DUMMY-${V}] : ${Ae}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${we}--1', '[DUMMY-${V}] : ${we}--', '${gt}T13:00:00+09:00', '${gt}'
FROM todos WHERE text = '[DUMMY-${V}] : ${we}--' LIMIT 1;`,ns=document.createElement("textarea");ns.value=m_,ns.style.position="fixed",ns.style.opacity="0",document.body.appendChild(ns),ns.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ns)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const Y=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,q=document.createElement("textarea");q.value=Y,q.style.position="fixed",q.style.opacity="0",document.body.appendChild(q),q.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(q)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):ie==="routine"?c.jsx(lo,{id:"routine",disabled:!hr,onLongPress:()=>fr(!0),children:c.jsxs(Yg,{title:" ",className:"routine-section section-block",inputValue:Oe,setInputValue:en,onAddTodo:da,isAdding:le,placeholder:"   ...",children:[D.length>0&&c.jsx(Or,{items:D.map(Y=>Y.id),strategy:To,children:D.map((Y,q)=>{const Ne=d.filter(V=>V.parent_id===Y.id);return c.jsx(jo,{todo:Y,index:q,onToggle:Zt,onDelete:tn,onEdit:ta,formatDate:Oi,formatDateOnly:ia,isFocused:de===Y.id,onFocus:Ee,onAddSubTodo:ct,subtodos:Ne,level:0,onCreateRoutine:P,routines:p,onShowRoutineHistory:me,onOpenRoutineSetupModal:ft,onOpenHistoryModal:Gn,currentPageDate:$e(i),onRemoveFromUI:ae,showSuccessMessage:We},Y.id)})}),D.length>0&&Z.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),Z.length>0&&c.jsx(Or,{items:Z.map(Y=>Y.id),strategy:To,children:Z.map((Y,q)=>{const Ne=d.filter(V=>V.parent_id===Y.id);return c.jsx(jo,{todo:Y,index:q,onToggle:Zt,onDelete:tn,onEdit:ta,formatDate:Oi,formatDateOnly:ia,isFocused:de===Y.id,onFocus:Ee,onAddSubTodo:ct,subtodos:Ne,level:0,onCreateRoutine:P,routines:p,onShowRoutineHistory:me,onOpenRoutineSetupModal:ft,onOpenHistoryModal:Gn,currentPageDate:$e(i),isPendingRoutine:!0,onRemoveFromUI:ae,showSuccessMessage:We},Y.id)})})]})},"routine"):ie==="normal"?c.jsx(lo,{id:"normal",disabled:!hr,onLongPress:()=>fr(!0),children:c.jsx(Yg,{title:"  ",className:"normal-section section-block",inputValue:St,setInputValue:Ut,onAddTodo:Ua,isAdding:le,placeholder:"   ...",children:I.length>0&&c.jsx(Or,{items:I.map(Y=>Y.id),strategy:To,children:I.map((Y,q,Ne)=>{const V=d.filter(xt=>xt.parent_id===Y.id),Ae=$e(i),we=Y.created_at?Y.created_at.split("T")[0]:Y.date,qe=Ne[q+1],_n=qe?qe.created_at?qe.created_at.split("T")[0]:qe.date:null,et=we<Ae&&_n>=Ae;return c.jsxs(nt.Fragment,{children:[c.jsx(jo,{todo:Y,index:q,onToggle:Zt,onDelete:tn,onEdit:ta,formatDate:Oi,formatDateOnly:ia,isFocused:de===Y.id,onFocus:Ee,onAddSubTodo:ct,subtodos:V,level:0,onCreateRoutine:P,routines:p,onShowRoutineHistory:me,onOpenRoutineSetupModal:ft,onOpenHistoryModal:Gn,currentPageDate:Ae,onRemoveFromUI:ae,showSuccessMessage:We}),et&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},Y.id)})})})},"normal"):ie==="key-thoughts"?c.jsx(lo,{id:"key-thoughts",disabled:!hr,onLongPress:()=>fr(!0),children:c.jsx(qj,{blocks:Ub,setBlocks:zb,focusedBlockId:$b,setFocusedBlockId:Lb,onShowHistory:()=>{qb(),wf(!0)}})},"key-thoughts"):null)})})})})()})}),c.jsx(zj,{viewMode:La,currentSectionIndex:o_,sectionsContainerRef:es})]}),Ie&&c.jsx(qg,{message:"",onUndo:wi}),He&&c.jsx(qg,{message:it,onUndo:De?Me:null,variant:"success"}),Ge&&At&&c.jsx("div",{className:"modal-overlay",onClick:()=>ze(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>ze(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:At.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Q(At),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>G(At),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),bn&&bt&&(()=>{const D=bt,Z=D.visible_dates&&D.visible_dates.length>0?D.visible_dates:[D.date],I=Z[0],ie=Z.map(q=>({id:`${D.id}-${q}`,date:q})),Y=nn[D.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:fa,children:c.jsxs("div",{className:"modal-content",onClick:q=>q.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:fa,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:Oi(D.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(I?new Date(I+"T00:00:00"):new Date(D.date+"T00:00:00"))})]}),ie.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ie.map((q,Ne)=>{const V=q.date===D.date,Ae=ia(new Date(q.date+"T00:00:00"));return c.jsxs("span",{children:[Ne>0&&"  ",c.jsxs("span",{style:V?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ae.split("(")[0],V?"()":""]})]},q.id)})})]}),(()=>{const q=new Date(D.created_at).toISOString().split("T")[0],Ne=D.date;return q!==Ne&&ie.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(new Date(D.date+"T00:00:00"))})]}):null})(),Y.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",Y.length,")"]}),Y.map(q=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[Oi(q.changed_at),q.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",ia(new Date(q.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:Ne=>{Ne.stopPropagation(),zt(q.id)},children:Pt.includes(q.id)?"":""})]}),Pt.includes(q.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:q.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:q.new_text})]})]})]},q.id))]})]})})]})})})(),It&&bt&&(()=>{const D=bt,Z=p.find(I=>I.id===D.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:ut,children:c.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:ut,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:Z&&!C?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Yi.filter(I=>Z.days.includes(I.key)).map(I=>c.jsx("span",{className:"routine-day-badge",children:I.label},I.key))}),Z.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",Z.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:I=>{I.stopPropagation(),Z&&(dn(Z.days),X(Z.time_slot||""),M(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async I=>{I.stopPropagation(),Z&&D&&(await P(D.id,D.text,[],null,!0),ut())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:C?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Yi.map(I=>c.jsx("button",{onClick:ie=>{ie.stopPropagation(),handleToggleRoutineDayInModal(I.key)},className:`day-button-inline ${dt.includes(I.key)?"selected":""}`,children:I.label},I.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(_f,{value:$,onChange:I=>X(I)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async I=>{I.stopPropagation(),D&&(C&&Z?await P(D.id,D.text,dt,Z.id,!1,$):await P(D.id,D.text,dt,null,!1,$),ut())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:I=>{I.stopPropagation(),ut()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx($j,{showRoutineModal:m,onClose:Ce,routineInput:T,setRoutineInput:v,isAddingRoutine:w,selectedDays:g,onToggleDay:Re,selectedTimeSlot:y,setSelectedTimeSlot:_,onAddRoutine:se,routines:p,editingRoutineId:x,editingRoutineText:E,setEditingRoutineText:j,editingRoutineDays:ne,onToggleEditDay:H,onStartEdit:fe,onSaveEdit:U,onCancelEdit:k,onDelete:re,onShowHistory:me}),c.jsx(Bj,{showRoutineHistory:O,onClose:Ye,selectedRoutine:N,routineHistoryData:B}),c.jsx(Yj,{showTrashModal:ge,onClose:bi,trashedItems:Ue,onEmptyTrash:_i,onRestoreFromTrash:Vt,onPermanentDelete:za,formatDate:Oi}),c.jsx(Vj,{showDummyModal:ve,onClose:()=>ke(!1),onCreateDummyData:$a,onRemoveDuplicates:ma,dummySessions:W,onDeleteDummySession:aa,onDeleteAllDummies:$t,formatDate:Oi}),c.jsx(Ij,{showGanttChart:Ft,onClose:he,ganttData:Wt,ganttPeriod:Mn,setGanttPeriod:A,formatDateOnly:ia}),c.jsx(Gj,{showEncouragementModal:Ib,onClose:()=>Sf(!1),encouragementMessages:Vb,newEncouragementMessage:Gb,setNewEncouragementMessage:Kb,onAddEncouragementMessage:t_,editingEncouragementId:Xb,editingEncouragementText:Jb,setEditingEncouragementId:Qb,setEditingEncouragementText:Zb,onUpdateEncouragementMessage:n_,onDeleteEncouragementMessage:a_}),c.jsx(Kj,{showKeyThoughtsHistory:Hb,onClose:()=>wf(!1),keyThoughtsHistory:Bb,onRestoreVersion:Yb})]})]})}hx.createRoot(document.getElementById("root")).render(c.jsx(S.StrictMode,{children:c.jsx(aO,{})}));
