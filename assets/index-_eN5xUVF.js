function w_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(a,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function S_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ig(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Gg={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=Symbol.for("react.transitional.element"),E_=Symbol.for("react.fragment");function Kg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:x_,type:e,key:a,ref:t!==void 0?t:null,props:n}}mc.Fragment=E_;mc.jsx=Kg;mc.jsxs=Kg;Gg.exports=mc;var c=Gg.exports,Xg={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.transitional.element"),T_=Symbol.for("react.portal"),j_=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),N_=Symbol.for("react.consumer"),A_=Symbol.for("react.context"),C_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),Qg=Symbol.for("react.lazy"),k_=Symbol.for("react.activity"),jf=Symbol.iterator;function U_(e){return e===null||typeof e!="object"?null:(e=jf&&e[jf]||e["@@iterator"],typeof e=="function"?e:null)}var Jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zg=Object.assign,Pg={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Jg}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fg(){}Fg.prototype=Kr.prototype;function ah(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Jg}var ih=ah.prototype=new Fg;ih.constructor=ah;Zg(ih,Kr.prototype);ih.isPureReactComponent=!0;var Of=Array.isArray;function Vu(){}var ct={H:null,A:null,T:null,S:null},Wg=Object.prototype.hasOwnProperty;function rh(e,t,n){var a=n.ref;return{$$typeof:nh,type:e,key:t,ref:a!==void 0?a:null,props:n}}function z_(e,t){return rh(e.type,t,e.props)}function sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===nh}function $_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Df=/\/+/g;function Xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$_(""+e.key):t.toString(36)}function B_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Vu,Vu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ar(e,t,n,a,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nh:case T_:s=!0;break;case Qg:return s=e._init,ar(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+Xc(e,0):a,Of(i)?(n="",s!=null&&(n=s.replace(Df,"$&/")+"/"),ar(i,t,n,"",function(u){return u})):i!=null&&(sh(i)&&(i=z_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Df,"$&/")+"/")+s)),t.push(i)),1;s=0;var l=a===""?".":a+":";if(Of(e))for(var o=0;o<e.length;o++)a=e[o],r=l+Xc(a,o),s+=ar(a,t,n,r,i);else if(o=U_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,r=l+Xc(a,o++),s+=ar(a,t,n,r,i);else if(r==="object"){if(typeof e.then=="function")return ar(B_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Rl(e,t,n){if(e==null)return e;var a=[],i=0;return ar(e,a,"","",function(r){return t.call(n,r,i++)}),a}function L_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},H_={map:Rl,forEach:function(e,t,n){Rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rl(e,function(){t++}),t},toArray:function(e){return Rl(e,function(t){return t})||[]},only:function(e){if(!sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Activity=k_;fe.Children=H_;fe.Component=Kr;fe.Fragment=j_;fe.Profiler=D_;fe.PureComponent=ah;fe.StrictMode=O_;fe.Suspense=R_;fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct;fe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ct.H.useMemoCache(e)}};fe.cache=function(e){return function(){return e.apply(null,arguments)}};fe.cacheSignal=function(){return null};fe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Zg({},e.props),i=e.key;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)!Wg.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var s=Array(r),l=0;l<r;l++)s[l]=arguments[l+2];a.children=s}return rh(e.type,i,a)};fe.createContext=function(e){return e={$$typeof:A_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:N_,_context:e},e};fe.createElement=function(e,t,n){var a,i={},r=null;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)Wg.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return rh(e,r,i)};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:C_,render:e}};fe.isValidElement=sh;fe.lazy=function(e){return{$$typeof:Qg,_payload:{_status:-1,_result:e},_init:L_}};fe.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=ct.T,n={};ct.T=n;try{var a=e(),i=ct.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Vu,Nf)}catch(r){Nf(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),ct.T=t}};fe.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()};fe.use=function(e){return ct.H.use(e)};fe.useActionState=function(e,t,n){return ct.H.useActionState(e,t,n)};fe.useCallback=function(e,t){return ct.H.useCallback(e,t)};fe.useContext=function(e){return ct.H.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e,t){return ct.H.useDeferredValue(e,t)};fe.useEffect=function(e,t){return ct.H.useEffect(e,t)};fe.useEffectEvent=function(e){return ct.H.useEffectEvent(e)};fe.useId=function(){return ct.H.useId()};fe.useImperativeHandle=function(e,t,n){return ct.H.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return ct.H.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return ct.H.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return ct.H.useMemo(e,t)};fe.useOptimistic=function(e,t){return ct.H.useOptimistic(e,t)};fe.useReducer=function(e,t,n){return ct.H.useReducer(e,t,n)};fe.useRef=function(e){return ct.H.useRef(e)};fe.useState=function(e){return ct.H.useState(e)};fe.useSyncExternalStore=function(e,t,n){return ct.H.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return ct.H.useTransition()};fe.version="19.2.0";Xg.exports=fe;var _=Xg.exports;const it=S_(_);var ey={exports:{}},gc={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,A){var z=N.length;N.push(A);e:for(;0<z;){var I=z-1>>>1,Q=N[I];if(0<i(Q,A))N[I]=A,N[z]=Q,z=I;else break e}}function n(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var A=N[0],z=N.pop();if(z!==A){N[0]=z;e:for(var I=0,Q=N.length,P=Q>>>1;I<P;){var K=2*(I+1)-1,J=N[K],ae=K+1,de=N[ae];if(0>i(J,z))ae<Q&&0>i(de,J)?(N[I]=de,N[ae]=z,I=ae):(N[I]=J,N[K]=z,I=K);else if(ae<Q&&0>i(de,z))N[I]=de,N[ae]=z,I=ae;else break e}}return A}function i(N,A){var z=N.sortIndex-A.sortIndex;return z!==0?z:N.id-A.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],u=[],d=1,f=null,m=3,h=!1,p=!1,b=!1,T=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function E(N){for(var A=n(u);A!==null;){if(A.callback===null)a(u);else if(A.startTime<=N)a(u),A.sortIndex=A.expirationTime,t(o,A);else break;A=n(u)}}function S(N){if(b=!1,E(N),!p)if(n(o)!==null)p=!0,x||(x=!0,ne());else{var A=n(u);A!==null&&k(S,A.startTime-N)}}var x=!1,w=-1,j=5,O=-1;function D(){return T?!0:!(e.unstable_now()-O<j)}function q(){if(T=!1,x){var N=e.unstable_now();O=N;var A=!0;try{e:{p=!1,b&&(b=!1,g(w),w=-1),h=!0;var z=m;try{t:{for(E(N),f=n(o);f!==null&&!(f.expirationTime>N&&D());){var I=f.callback;if(typeof I=="function"){f.callback=null,m=f.priorityLevel;var Q=I(f.expirationTime<=N);if(N=e.unstable_now(),typeof Q=="function"){f.callback=Q,E(N),A=!0;break t}f===n(o)&&a(o),E(N)}else a(o);f=n(o)}if(f!==null)A=!0;else{var P=n(u);P!==null&&k(S,P.startTime-N),A=!1}}break e}finally{f=null,m=z,h=!1}A=void 0}}finally{A?ne():x=!1}}}var ne;if(typeof y=="function")ne=function(){y(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,$=ce.port2;ce.port1.onmessage=q,ne=function(){$.postMessage(null)}}else ne=function(){v(q,0)};function k(N,A){w=v(function(){N(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var z=m;m=A;try{return N()}finally{m=z}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=m;m=N;try{return A()}finally{m=z}},e.unstable_scheduleCallback=function(N,A,z){var I=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?I+z:I):z=I,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,N={id:d++,callback:A,priorityLevel:N,startTime:z,expirationTime:Q,sortIndex:-1},z>I?(N.sortIndex=z,t(u,N),n(o)===null&&N===n(u)&&(b?(g(w),w=-1):b=!0,k(S,z-I))):(N.sortIndex=Q,t(o,N),p||h||(p=!0,x||(x=!0,ne()))),N},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(N){var A=m;return function(){var z=m;m=A;try{return N.apply(this,arguments)}finally{m=z}}}})(ny);ty.exports=ny;var q_=ty.exports,ay={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=_;function iy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ca(){}var nn={d:{f:Ca,r:function(){throw Error(iy(522))},D:Ca,C:Ca,L:Ca,m:Ca,X:Ca,S:Ca,M:Ca},p:0,findDOMNode:null},V_=Symbol.for("react.portal");function I_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ts=Y_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nn;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(iy(299));return I_(e,t,null,n)};an.flushSync=function(e){var t=Ts.T,n=nn.p;try{if(Ts.T=null,nn.p=2,e)return e()}finally{Ts.T=t,nn.p=n,nn.d.f()}};an.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,nn.d.C(e,t))};an.prefetchDNS=function(e){typeof e=="string"&&nn.d.D(e)};an.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=yc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?nn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:r}):n==="script"&&nn.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};an.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=yc(t.as,t.crossOrigin);nn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&nn.d.M(e)};an.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=yc(n,t.crossOrigin);nn.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};an.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=yc(t.as,t.crossOrigin);nn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else nn.d.m(e)};an.requestFormReset=function(e){nn.d.r(e)};an.unstable_batchedUpdates=function(e,t){return e(t)};an.useFormState=function(e,t,n){return Ts.H.useFormState(e,t,n)};an.useFormStatus=function(){return Ts.H.useHostTransitionStatus()};an.version="19.2.0";function ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ry)}catch(e){console.error(e)}}ry(),ay.exports=an;var or=ay.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=q_,sy=_,G_=or;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ly(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Af(e){if(dl(e)!==e)throw Error(M(188))}function K_(e){var t=e.alternate;if(!t){if(t=dl(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Af(i),e;if(r===a)return Af(i),t;r=r.sibling}throw Error(M(188))}if(n.return!==a.return)n=i,a=r;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,a=r;break}if(l===a){s=!0,a=i,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,a=i;break}if(l===a){s=!0,a=r,n=i;break}l=l.sibling}if(!s)throw Error(M(189))}}if(n.alternate!==a)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function uy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=uy(e),t!==null)return t;e=e.sibling}return null}var ut=Object.assign,X_=Symbol.for("react.element"),Ml=Symbol.for("react.transitional.element"),bs=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),hy=Symbol.for("react.consumer"),ya=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),Xu=Symbol.for("react.activity"),Q_=Symbol.for("react.memo_cache_sentinel"),Cf=Symbol.iterator;function hs(e){return e===null||typeof e!="object"?null:(e=Cf&&e[Cf]||e["@@iterator"],typeof e=="function"?e:null)}var J_=Symbol.for("react.client.reference");function Qu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case Iu:return"Profiler";case dy:return"StrictMode";case Gu:return"Suspense";case Ku:return"SuspenseList";case Xu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case bs:return"Portal";case ya:return e.displayName||"Context";case hy:return(e._context.displayName||"Context")+".Consumer";case lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oh:return t=e.displayName||null,t!==null?t:Qu(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return Qu(e(t))}catch{}}return null}var _s=Array.isArray,oe=sy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=G_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oi={pending:!1,data:null,method:null,action:null},Ju=[],ur=-1;function ia(e){return{current:e}}function zt(e){0>ur||(e.current=Ju[ur],Ju[ur]=null,ur--)}function rt(e,t){ur++,Ju[ur]=e.current,e.current=t}var aa=ia(null),Ks=ia(null),Xa=ia(null),To=ia(null);function jo(e,t){switch(rt(Xa,t),rt(Ks,e),rt(aa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$m(t),e=Rp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}zt(aa),rt(aa,e)}function Cr(){zt(aa),zt(Ks),zt(Xa)}function Zu(e){e.memoizedState!==null&&rt(To,e);var t=aa.current,n=Rp(t,e.type);t!==n&&(rt(Ks,e),rt(aa,n))}function Oo(e){Ks.current===e&&(zt(aa),zt(Ks)),To.current===e&&(zt(To),al._currentValue=Oi)}var Qc,Rf;function bi(e){if(Qc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qc=t&&t[1]||"",Rf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qc+e+Rf}var Jc=!1;function Zc(e,t){if(!e||Jc)return"";Jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),s=r[0],l=r[1];if(s&&l){var o=s.split(`
`),u=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===u.length)for(a=o.length-1,i=u.length-1;1<=a&&0<=i&&o[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==u[i]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=i);break}}}finally{Jc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?bi(n):""}function Z_(e,t){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return e.child!==t&&t!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Zc(e.type,!1);case 11:return Zc(e.type.render,!1);case 1:return Zc(e.type,!0);case 31:return bi("Activity");default:return""}}function Mf(e){try{var t="",n=null;do t+=Z_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pu=Object.prototype.hasOwnProperty,ch=Rt.unstable_scheduleCallback,Pc=Rt.unstable_cancelCallback,P_=Rt.unstable_shouldYield,F_=Rt.unstable_requestPaint,xn=Rt.unstable_now,W_=Rt.unstable_getCurrentPriorityLevel,fy=Rt.unstable_ImmediatePriority,my=Rt.unstable_UserBlockingPriority,Do=Rt.unstable_NormalPriority,ew=Rt.unstable_LowPriority,gy=Rt.unstable_IdlePriority,tw=Rt.log,nw=Rt.unstable_setDisableYieldValue,hl=null,En=null;function Ya(e){if(typeof tw=="function"&&nw(e),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(hl,e)}catch{}}var Tn=Math.clz32?Math.clz32:rw,aw=Math.log,iw=Math.LN2;function rw(e){return e>>>=0,e===0?32:31-(aw(e)/iw|0)|0}var kl=256,Ul=262144,zl=4194304;function _i(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~r,a!==0?i=_i(a):(s&=l,s!==0?i=_i(s):n||(n=l&~e,n!==0&&(i=_i(n))))):(l=a&~r,l!==0?i=_i(l):s!==0?i=_i(s):n||(n=a&~e,n!==0&&(i=_i(n)))),i===0?0:t!==0&&t!==i&&!(t&r)&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yy(){var e=zl;return zl<<=1,!(zl&62914560)&&(zl=4194304),e}function Fc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ml(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lw(e,t,n,a,i,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Tn(n),f=1<<d;l[d]=0,o[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}a!==0&&vy(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function vy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function py(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Tn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function by(e,t){var n=t&-t;return n=n&42?1:uh(n),n&(e.suspendedLanes|t)?0:n}function uh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _y(){var e=$e.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function kf(e,t){var n=$e.p;try{return $e.p=e,t()}finally{$e.p=n}}var li=Math.random().toString(36).slice(2),qt="__reactFiber$"+li,dn="__reactProps$"+li,Xr="__reactContainer$"+li,Fu="__reactEvents$"+li,ow="__reactListeners$"+li,cw="__reactHandles$"+li,Uf="__reactResources$"+li,gl="__reactMarker$"+li;function hh(e){delete e[qt],delete e[dn],delete e[Fu],delete e[ow],delete e[cw]}function dr(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ym(e);e!==null;){if(n=e[qt])return n;e=Ym(e)}return t}e=n,n=e.parentNode}return null}function Qr(e){if(e=e[qt]||e[Xr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ws(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function Sr(e){var t=e[Uf];return t||(t=e[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ut(e){e[gl]=!0}var wy=new Set,Sy={};function Bi(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(Sy[e]=t,e=0;e<t.length;e++)wy.add(t[e])}var uw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zf={},$f={};function dw(e){return Pu.call($f,e)?!0:Pu.call(zf,e)?!1:uw.test(e)?$f[e]=!0:(zf[e]=!0,!1)}function lo(e,t,n){if(dw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $l(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function oa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){if(!e._valueTracker){var t=xy(e)?"checked":"value";e._valueTracker=hw(e,t,""+e[t])}}function Ey(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xy(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fw=/[\n"\\]/g;function $n(e){return e.replace(fw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ed(e,t,n,a,i,r,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kn(t)):e.value!==""+kn(t)&&(e.value=""+kn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?td(e,s,kn(t)):n!=null?td(e,s,kn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+kn(l):e.removeAttribute("name")}function Ty(e,t,n,a,i,r,s,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Wu(e);return}n=n!=null?""+kn(n):"",t=t!=null?""+kn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Wu(e)}function td(e,t,n){t==="number"&&No(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xr(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jy(e,t,n){if(t!=null&&(t=""+kn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+kn(n):""}function Oy(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(M(92));if(_s(a)){if(1<a.length)throw Error(M(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=kn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Wu(e)}function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bf(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||mw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dy(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Bf(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&Bf(e,r,t[r])}function fh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(e){return yw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var nd=null;function mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,Er=null;function Lf(e){var t=Qr(e);if(t&&(e=t.stateNode)){var n=e[dn]||null;e:switch(e=t.stateNode,t.type){case"input":if(ed(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[dn]||null;if(!i)throw Error(M(90));ed(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ey(a)}break e;case"textarea":jy(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xr(e,!!n.multiple,t,!1)}}}var Wc=!1;function Ny(e,t,n){if(Wc)return e(t,n);Wc=!0;try{var a=e(t);return a}finally{if(Wc=!1,(hr!==null||Er!==null)&&(Nc(),hr&&(t=hr,e=Er,Er=hr=null,Lf(t),e)))for(t=0;t<e.length;t++)Lf(e[t])}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var a=n[dn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(Sa)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){ad=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{ad=!1}var Va=null,gh=null,co=null;function Ay(){if(co)return co;var e,t=gh,n=t.length,a,i="value"in Va?Va.value:Va.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[r-a];a++);return co=i.slice(e,1<a?1-a:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function Hf(){return!1}function hn(e){function t(n,a,i,r,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bl:Hf,this.isPropagationStopped=Hf,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=hn(Li),yl=ut({},Li,{view:0,detail:0}),vw=hn(yl),eu,tu,ms,bc=ut({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(eu=e.screenX-ms.screenX,tu=e.screenY-ms.screenY):tu=eu=0,ms=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),qf=hn(bc),pw=ut({},bc,{dataTransfer:0}),bw=hn(pw),_w=ut({},yl,{relatedTarget:0}),nu=hn(_w),ww=ut({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Sw=hn(ww),xw=ut({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ew=hn(xw),Tw=ut({},Li,{data:0}),Yf=hn(Tw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dw[e])?!!t[e]:!1}function yh(){return Nw}var Aw=ut({},yl,{key:function(e){if(e.key){var t=jw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cw=hn(Aw),Rw=ut({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=hn(Rw),Mw=ut({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),kw=hn(Mw),Uw=ut({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),zw=hn(Uw),$w=ut({},bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=hn($w),Lw=ut({},Li,{newState:0,oldState:0}),Hw=hn(Lw),qw=[9,13,27,32],vh=Sa&&"CompositionEvent"in window,js=null;Sa&&"documentMode"in document&&(js=document.documentMode);var Yw=Sa&&"TextEvent"in window&&!js,Cy=Sa&&(!vh||js&&8<js&&11>=js),If=" ",Gf=!1;function Ry(e,t){switch(e){case"keyup":return qw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Vw(e,t){switch(e){case"compositionend":return My(t);case"keypress":return t.which!==32?null:(Gf=!0,If);case"textInput":return e=t.data,e===If&&Gf?null:e;default:return null}}function Iw(e,t){if(fr)return e==="compositionend"||!vh&&Ry(e,t)?(e=Ay(),co=gh=Va=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cy&&t.locale!=="ko"?null:t.data;default:return null}}var Gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gw[e.type]:t==="textarea"}function ky(e,t,n,a){hr?Er?Er.push(a):Er=[a]:hr=a,t=Xo(t,"onChange"),0<t.length&&(n=new pc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Os=null,Qs=null;function Kw(e){Np(e,0)}function _c(e){var t=ws(e);if(Ey(t))return e}function Xf(e,t){if(e==="change")return t}var Uy=!1;if(Sa){var au;if(Sa){var iu="oninput"in document;if(!iu){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),iu=typeof Qf.oninput=="function"}au=iu}else au=!1;Uy=au&&(!document.documentMode||9<document.documentMode)}function Jf(){Os&&(Os.detachEvent("onpropertychange",zy),Qs=Os=null)}function zy(e){if(e.propertyName==="value"&&_c(Qs)){var t=[];ky(t,Qs,e,mh(e)),Ny(Kw,t)}}function Xw(e,t,n){e==="focusin"?(Jf(),Os=t,Qs=n,Os.attachEvent("onpropertychange",zy)):e==="focusout"&&Jf()}function Qw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(Qs)}function Jw(e,t){if(e==="click")return _c(t)}function Zw(e,t){if(e==="input"||e==="change")return _c(t)}function Pw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:Pw;function Js(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Pu.call(t,i)||!On(e[i],t[i]))return!1}return!0}function Zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var n=Zf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zf(n)}}function $y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function By(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=No(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=No(e.document)}return t}function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fw=Sa&&"documentMode"in document&&11>=document.documentMode,mr=null,id=null,Ds=null,rd=!1;function Ff(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||mr==null||mr!==No(a)||(a=mr,"selectionStart"in a&&ph(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ds&&Js(Ds,a)||(Ds=a,a=Xo(id,"onSelect"),0<a.length&&(t=new pc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=mr)))}function gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},ru={},Ly={};Sa&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Hi(e){if(ru[e])return ru[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ly)return ru[e]=t[n];return e}var Hy=Hi("animationend"),qy=Hi("animationiteration"),Yy=Hi("animationstart"),Ww=Hi("transitionrun"),eS=Hi("transitionstart"),tS=Hi("transitioncancel"),Vy=Hi("transitionend"),Iy=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function Pn(e,t){Iy.set(e,t),Bi(t,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],yr=0,bh=0;function wc(){for(var e=yr,t=bh=yr=0;t<e;){var n=Rn[t];Rn[t++]=null;var a=Rn[t];Rn[t++]=null;var i=Rn[t];Rn[t++]=null;var r=Rn[t];if(Rn[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}r!==0&&Gy(n,i,r)}}function Sc(e,t,n,a){Rn[yr++]=e,Rn[yr++]=t,Rn[yr++]=n,Rn[yr++]=a,bh|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _h(e,t,n,a){return Sc(e,t,n,a),Co(e)}function qi(e,t){return Sc(e,null,null,t),Co(e)}function Gy(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Tn(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Co(e){if(50<$s)throw $s=0,Od=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vr={};function nS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,a){return new nS(e,t,n,a)}function wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ky(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ho(e,t,n,a,i,r){var s=0;if(a=e,typeof e=="function")wh(e)&&(s=1);else if(typeof e=="string")s=lx(e,n,aa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xu:return e=bn(31,n,t,i),e.elementType=Xu,e.lanes=r,e;case cr:return Di(n.children,i,r,t);case dy:s=8,i|=24;break;case Iu:return e=bn(12,n,t,i|2),e.elementType=Iu,e.lanes=r,e;case Gu:return e=bn(13,n,t,i),e.elementType=Gu,e.lanes=r,e;case Ku:return e=bn(19,n,t,i),e.elementType=Ku,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ya:s=10;break e;case hy:s=9;break e;case lh:s=11;break e;case oh:s=14;break e;case Ma:s=16,a=null;break e}s=29,n=Error(M(130,e===null?"null":typeof e,"")),a=null}return t=bn(s,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function Di(e,t,n,a){return e=bn(7,e,a,t),e.lanes=n,e}function su(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function Xy(e){var t=bn(18,null,null,0);return t.stateNode=e,t}function lu(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mf(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:Mf(t)}}var pr=[],br=0,Ro=null,Zs=0,Un=[],zn=0,ni=null,ea=1,ta="";function ma(e,t){pr[br++]=Zs,pr[br++]=Ro,Ro=e,Zs=t}function Qy(e,t,n){Un[zn++]=ea,Un[zn++]=ta,Un[zn++]=ni,ni=e;var a=ea;e=ta;var i=32-Tn(a)-1;a&=~(1<<i),n+=1;var r=32-Tn(t)+i;if(30<r){var s=i-i%5;r=(a&(1<<s)-1).toString(32),a>>=s,i-=s,ea=1<<32-Tn(t)+i|n<<i|a,ta=r+e}else ea=1<<r|n<<i|a,ta=e}function Sh(e){e.return!==null&&(ma(e,1),Qy(e,1,0))}function xh(e){for(;e===Ro;)Ro=pr[--br],pr[br]=null,Zs=pr[--br],pr[br]=null;for(;e===ni;)ni=Un[--zn],Un[zn]=null,ta=Un[--zn],Un[zn]=null,ea=Un[--zn],Un[zn]=null}function Jy(e,t){Un[zn++]=ea,Un[zn++]=ta,Un[zn++]=ni,ea=t.id,ta=t.overflow,ni=e}var Yt=null,ot=null,De=!1,Qa=null,Ln=!1,ld=Error(M(519));function ai(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Bn(t,e)),ld}function em(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[qt]=e,t[dn]=a,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<tl.length;n++)we(tl[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Ty(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Oy(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Cp(t.textContent,n)?(a.popover!=null&&(we("beforetoggle",t),we("toggle",t)),a.onScroll!=null&&we("scroll",t),a.onScrollEnd!=null&&we("scrollend",t),a.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||ai(e,!0)}function tm(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Yt=Yt.return}}function Zi(e){if(e!==Yt)return!1;if(!De)return tm(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rd(e.type,e.memoizedProps)),n=!n),n&&ot&&ai(e),tm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));ot=qm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));ot=qm(e)}else t===27?(t=ot,oi(e.type)?(e=zd,zd=null,ot=e):ot=t):ot=Yt?qn(e.stateNode.nextSibling):null;return!0}function Mi(){ot=Yt=null,De=!1}function ou(){var e=Qa;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Qa=null),e}function Ps(e){Qa===null?Qa=[e]:Qa.push(e)}var od=ia(null),Yi=null,pa=null;function za(e,t,n){rt(od,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=od.current,zt(od)}function cd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ud(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var s=i.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),cd(r.return,n,e),a||(s=null);break e}r=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(M(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),cd(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Jr(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(M(387));if(s=s.memoizedProps,s!==null){var l=i.type;On(i.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(i===To.current){if(s=i.alternate,s===null)throw Error(M(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}i=i.return}e!==null&&ud(t,e,n,a),t.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Yi=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vt(e){return Zy(Yi,e)}function Ll(e,t){return Yi===null&&ki(e),Zy(e,t)}function Zy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pa===null){if(e===null)throw Error(M(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return n}var aS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},iS=Rt.unstable_scheduleCallback,rS=Rt.unstable_NormalPriority,jt={$$typeof:ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new aS,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&iS(rS,function(){e.controller.abort()})}var Ns=null,dd=0,kr=0,Tr=null;function sS(e,t){if(Ns===null){var n=Ns=[];dd=0,kr=Jh(),Tr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return dd++,t.then(nm,nm),t}function nm(){if(--dd===0&&Ns!==null){Tr!==null&&(Tr.status="fulfilled");var e=Ns;Ns=null,kr=0,Tr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var am=oe.S;oe.S=function(e,t){up=xn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sS(e,t),am!==null&&am(e,t)};var Ni=ia(null);function Th(){var e=Ni.current;return e!==null?e:Fe.pooledCache}function fo(e,t){t===null?rt(Ni,Ni.current):rt(Ni,t.pool)}function Py(){var e=Th();return e===null?null:{parent:jt._currentValue,pool:e}}var Zr=Error(M(460)),jh=Error(M(474)),xc=Error(M(542)),ko={then:function(){}};function im(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(va,va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sm(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sm(e),e}throw Ai=t,Zr}}function wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ai=n,Zr):n}}var Ai=null;function rm(){if(Ai===null)throw Error(M(459));var e=Ai;return Ai=null,e}function sm(e){if(e===Zr||e===xc)throw Error(M(483))}var jr=null,Fs=0;function Hl(e){var t=Fs;return Fs+=1,jr===null&&(jr=[]),Fy(jr,e,t)}function gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ql(e,t){throw t.$$typeof===X_?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wy(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(v,g){return v=ba(v,g),v.index=0,v.sibling=null,v}function r(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,E){return g===null||g.tag!==6?(g=su(y,v.mode,E),g.return=v,g):(g=i(g,y),g.return=v,g)}function o(v,g,y,E){var S=y.type;return S===cr?d(v,g,y.props.children,E,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ma&&wi(S)===g.type)?(g=i(g,y.props),gs(g,y),g.return=v,g):(g=ho(y.type,y.key,y.props,null,v.mode,E),gs(g,y),g.return=v,g)}function u(v,g,y,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=lu(y,v.mode,E),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function d(v,g,y,E,S){return g===null||g.tag!==7?(g=Di(y,v.mode,E,S),g.return=v,g):(g=i(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=su(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ml:return y=ho(g.type,g.key,g.props,null,v.mode,y),gs(y,g),y.return=v,y;case bs:return g=lu(g,v.mode,y),g.return=v,g;case Ma:return g=wi(g),f(v,g,y)}if(_s(g)||hs(g))return g=Di(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return f(v,Hl(g),y);if(g.$$typeof===ya)return f(v,Ll(v,g),y);ql(v,g)}return null}function m(v,g,y,E){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return S!==null?null:l(v,g,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:return y.key===S?o(v,g,y,E):null;case bs:return y.key===S?u(v,g,y,E):null;case Ma:return y=wi(y),m(v,g,y,E)}if(_s(y)||hs(y))return S!==null?null:d(v,g,y,E,null);if(typeof y.then=="function")return m(v,g,Hl(y),E);if(y.$$typeof===ya)return m(v,g,Ll(v,y),E);ql(v,y)}return null}function h(v,g,y,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return v=v.get(y)||null,l(g,v,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ml:return v=v.get(E.key===null?y:E.key)||null,o(g,v,E,S);case bs:return v=v.get(E.key===null?y:E.key)||null,u(g,v,E,S);case Ma:return E=wi(E),h(v,g,y,E,S)}if(_s(E)||hs(E))return v=v.get(y)||null,d(g,v,E,S,null);if(typeof E.then=="function")return h(v,g,y,Hl(E),S);if(E.$$typeof===ya)return h(v,g,y,Ll(g,E),S);ql(g,E)}return null}function p(v,g,y,E){for(var S=null,x=null,w=g,j=g=0,O=null;w!==null&&j<y.length;j++){w.index>j?(O=w,w=null):O=w.sibling;var D=m(v,w,y[j],E);if(D===null){w===null&&(w=O);break}e&&w&&D.alternate===null&&t(v,w),g=r(D,g,j),x===null?S=D:x.sibling=D,x=D,w=O}if(j===y.length)return n(v,w),De&&ma(v,j),S;if(w===null){for(;j<y.length;j++)w=f(v,y[j],E),w!==null&&(g=r(w,g,j),x===null?S=w:x.sibling=w,x=w);return De&&ma(v,j),S}for(w=a(w);j<y.length;j++)O=h(w,v,j,y[j],E),O!==null&&(e&&O.alternate!==null&&w.delete(O.key===null?j:O.key),g=r(O,g,j),x===null?S=O:x.sibling=O,x=O);return e&&w.forEach(function(q){return t(v,q)}),De&&ma(v,j),S}function b(v,g,y,E){if(y==null)throw Error(M(151));for(var S=null,x=null,w=g,j=g=0,O=null,D=y.next();w!==null&&!D.done;j++,D=y.next()){w.index>j?(O=w,w=null):O=w.sibling;var q=m(v,w,D.value,E);if(q===null){w===null&&(w=O);break}e&&w&&q.alternate===null&&t(v,w),g=r(q,g,j),x===null?S=q:x.sibling=q,x=q,w=O}if(D.done)return n(v,w),De&&ma(v,j),S;if(w===null){for(;!D.done;j++,D=y.next())D=f(v,D.value,E),D!==null&&(g=r(D,g,j),x===null?S=D:x.sibling=D,x=D);return De&&ma(v,j),S}for(w=a(w);!D.done;j++,D=y.next())D=h(w,v,j,D.value,E),D!==null&&(e&&D.alternate!==null&&w.delete(D.key===null?j:D.key),g=r(D,g,j),x===null?S=D:x.sibling=D,x=D);return e&&w.forEach(function(ne){return t(v,ne)}),De&&ma(v,j),S}function T(v,g,y,E){if(typeof y=="object"&&y!==null&&y.type===cr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:e:{for(var S=y.key;g!==null;){if(g.key===S){if(S=y.type,S===cr){if(g.tag===7){n(v,g.sibling),E=i(g,y.props.children),E.return=v,v=E;break e}}else if(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ma&&wi(S)===g.type){n(v,g.sibling),E=i(g,y.props),gs(E,y),E.return=v,v=E;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===cr?(E=Di(y.props.children,v.mode,E,y.key),E.return=v,v=E):(E=ho(y.type,y.key,y.props,null,v.mode,E),gs(E,y),E.return=v,v=E)}return s(v);case bs:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),E=i(g,y.children||[]),E.return=v,v=E;break e}else{n(v,g);break}else t(v,g);g=g.sibling}E=lu(y,v.mode,E),E.return=v,v=E}return s(v);case Ma:return y=wi(y),T(v,g,y,E)}if(_s(y))return p(v,g,y,E);if(hs(y)){if(S=hs(y),typeof S!="function")throw Error(M(150));return y=S.call(y),b(v,g,y,E)}if(typeof y.then=="function")return T(v,g,Hl(y),E);if(y.$$typeof===ya)return T(v,g,Ll(v,y),E);ql(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),E=i(g,y),E.return=v,v=E):(n(v,g),E=su(y,v.mode,E),E.return=v,v=E),s(v)):n(v,g)}return function(v,g,y,E){try{Fs=0;var S=T(v,g,y,E);return jr=null,S}catch(w){if(w===Zr||w===xc)throw w;var x=bn(29,w,null,v.mode);return x.lanes=E,x.return=v,x}finally{}}}var Ui=Wy(!0),ev=Wy(!1),ka=!1;function Oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ze&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Co(e),Gy(e,null,n),t}return Sc(e,a,t,n),Co(e)}function As(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,py(e,n)}}function cu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fd=!1;function Cs(){if(fd){var e=Tr;if(e!==null)throw e}}function Rs(e,t,n,a){fd=!1;var i=e.updateQueue;ka=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,s===null?r=u:s.next=u,s=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=o))}if(r!==null){var f=i.baseState;s=0,d=u=o=null,l=r;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(Te&m)===m:(a&m)===m){m!==0&&m===kr&&(fd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,b=l;m=t;var T=n;switch(b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(T,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,m=typeof p=="function"?p.call(T,f,m):p,m==null)break e;f=ut({},f,m);break e;case 2:ka=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=i.callbacks,h===null?i.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,o=f):d=d.next=h,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);d===null&&(o=f),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,r===null&&(i.shared.lanes=0),ri|=s,e.lanes=s,e.memoizedState=f}}function tv(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function nv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)tv(n[e],t)}var Ur=ia(null),Uo=ia(0);function lm(e,t){e=ja,rt(Uo,e),rt(Ur,t),ja=e|t.baseLanes}function md(){rt(Uo,ja),rt(Ur,Ur.current)}function Dh(){ja=Uo.current,zt(Ur),zt(Uo)}var Dn=ia(null),Hn=null;function $a(e){var t=e.alternate;rt(bt,bt.current&1),rt(Dn,e),Hn===null&&(t===null||Ur.current!==null||t.memoizedState!==null)&&(Hn=e)}function gd(e){rt(bt,bt.current),rt(Dn,e),Hn===null&&(Hn=e)}function av(e){e.tag===22?(rt(bt,bt.current),rt(Dn,e),Hn===null&&(Hn=e)):Ba()}function Ba(){rt(bt,bt.current),rt(Dn,Dn.current)}function pn(e){zt(Dn),Hn===e&&(Hn=null),zt(bt)}var bt=ia(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||kd(n)||Ud(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=0,ve=null,Je=null,Et=null,$o=!1,Or=!1,zi=!1,Bo=0,Ws=0,Dr=null,oS=0;function yt(){throw Error(M(321))}function Nh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Ah(e,t,n,a,i,r){return xa=r,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oe.H=e===null||e.memoizedState===null?kv:qh,zi=!1,r=n(a,i),zi=!1,Or&&(r=rv(t,n,a,i)),iv(e),r}function iv(e){oe.H=el;var t=Je!==null&&Je.next!==null;if(xa=0,Et=Je=ve=null,$o=!1,Ws=0,Dr=null,t)throw Error(M(300));e===null||Ot||(e=e.dependencies,e!==null&&Mo(e)&&(Ot=!0))}function rv(e,t,n,a){ve=e;var i=0;do{if(Or&&(Dr=null),Ws=0,Or=!1,25<=i)throw Error(M(301));if(i+=1,Et=Je=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}oe.H=Uv,r=t(n,a)}while(Or);return r}function cS(){var e=oe.H,t=e.useState()[0];return t=typeof t.then=="function"?pl(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(ve.flags|=1024),t}function Ch(){var e=Bo!==0;return Bo=0,e}function Rh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mh(e){if($o){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$o=!1}xa=0,Et=Je=ve=null,Or=!1,Ws=Bo=0,Dr=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ve.memoizedState=Et=e:Et=Et.next=e,Et}function _t(){if(Je===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Et===null?ve.memoizedState:Et.next;if(t!==null)Et=t,Je=e;else{if(e===null)throw ve.alternate===null?Error(M(467)):Error(M(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Et===null?ve.memoizedState=Et=e:Et=Et.next=e}return Et}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var t=Ws;return Ws+=1,Dr===null&&(Dr=[]),e=Fy(Dr,e,t),t=ve,(Et===null?t.memoizedState:Et.next)===null&&(t=t.alternate,oe.H=t===null||t.memoizedState===null?kv:qh),e}function Tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===ya)return Vt(e)}throw Error(M(438,String(e)))}function kh(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ec(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Q_;return t.index++,n}function Ea(e,t){return typeof t=="function"?t(e):t}function mo(e){var t=_t();return Uh(t,Je,e)}function Uh(e,t,n){var a=e.queue;if(a===null)throw Error(M(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var l=s=null,o=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Te&f)===f:(xa&f)===f){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===kr&&(d=!0);else if((xa&m)===m){u=u.next,m===kr&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,s=r):o=o.next=f,ve.lanes|=m,ri|=m;f=u.action,zi&&n(r,f),r=u.hasEagerState?u.eagerState:n(r,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,s=r):o=o.next=m,ve.lanes|=f,ri|=f;u=u.next}while(u!==null&&u!==t);if(o===null?s=r:o.next=l,!On(r,e.memoizedState)&&(Ot=!0,d&&(n=Tr,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=o,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function uu(e){var t=_t(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);On(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function sv(e,t,n){var a=ve,i=_t(),r=De;if(r){if(n===void 0)throw Error(M(407));n=n()}else n=t();var s=!On((Je||i).memoizedState,n);if(s&&(i.memoizedState=n,Ot=!0),i=i.queue,zh(cv.bind(null,a,i,e),[e]),i.getSnapshot!==t||s||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,zr(9,{destroy:void 0},ov.bind(null,a,i,n,t),null),Fe===null)throw Error(M(349));r||xa&127||lv(a,t,n)}return n}function lv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=Ec(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ov(e,t,n,a){t.value=n,t.getSnapshot=a,uv(t)&&dv(e)}function cv(e,t,n){return n(function(){uv(t)&&dv(e)})}function uv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function dv(e){var t=qi(e,2);t!==null&&un(t,e,2)}function yd(e){var t=en();if(typeof e=="function"){var n=e;if(e=n(),zi){Ya(!0);try{n()}finally{Ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function hv(e,t,n,a){return e.baseState=n,Uh(e,Je,typeof a=="function"?a:Ea)}function uS(e,t,n,a,i){if(Oc(e))throw Error(M(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};oe.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,fv(t,r)):(r.next=n.next,t.pending=n.next=r)}}function fv(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=oe.T,s={};oe.T=s;try{var l=n(i,a),o=oe.S;o!==null&&o(s,l),om(e,t,l)}catch(u){vd(e,t,u)}finally{r!==null&&s.types!==null&&(r.types=s.types),oe.T=r}}else try{r=n(i,a),om(e,t,r)}catch(u){vd(e,t,u)}}function om(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){cm(e,t,a)},function(a){return vd(e,t,a)}):cm(e,t,n)}function cm(e,t,n){t.status="fulfilled",t.value=n,mv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,fv(e,n)))}function vd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,mv(t),t=t.next;while(t!==a)}e.action=null}function mv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gv(e,t){return t}function um(e,t){if(De){var n=Fe.formState;if(n!==null){e:{var a=ve;if(De){if(ot){t:{for(var i=ot,r=Ln;i.nodeType!==8;){if(!r){i=null;break t}if(i=qn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){ot=qn(i.nextSibling),a=i.data==="F!";break e}}ai(a)}a=!1}a&&(t=n[0])}}return n=en(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:t},n.queue=a,n=Cv.bind(null,ve,a),a.dispatch=n,a=yd(!1),r=Hh.bind(null,ve,!1,a.queue),a=en(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=uS.bind(null,ve,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function dm(e){var t=_t();return yv(t,Je,e)}function yv(e,t,n){if(t=Uh(e,t,gv)[0],e=mo(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=pl(t)}catch(s){throw s===Zr?xc:s}else a=t;t=_t();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,zr(9,{destroy:void 0},dS.bind(null,i,n),null)),[a,r,e]}function dS(e,t){e.action=t}function hm(e){var t=_t(),n=Je;if(n!==null)return yv(t,n,e);_t(),t=t.memoizedState,n=_t();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function zr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Ec(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function vv(){return _t().memoizedState}function go(e,t,n,a){var i=en();ve.flags|=e,i.memoizedState=zr(1|t,{destroy:void 0},n,a===void 0?null:a)}function jc(e,t,n,a){var i=_t();a=a===void 0?null:a;var r=i.memoizedState.inst;Je!==null&&a!==null&&Nh(a,Je.memoizedState.deps)?i.memoizedState=zr(t,r,n,a):(ve.flags|=e,i.memoizedState=zr(1|t,r,n,a))}function fm(e,t){go(8390656,8,e,t)}function zh(e,t){jc(2048,8,e,t)}function hS(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Ec(),ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function pv(e){var t=_t().memoizedState;return hS({ref:t,nextImpl:e}),function(){if(ze&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function bv(e,t){return jc(4,2,e,t)}function _v(e,t){return jc(4,4,e,t)}function wv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sv(e,t,n){n=n!=null?n.concat([e]):null,jc(4,4,wv.bind(null,t,e),n)}function $h(){}function xv(e,t){var n=_t();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Nh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ev(e,t){var n=_t();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Nh(t,a[1]))return a[0];if(a=e(),zi){Ya(!0);try{e()}finally{Ya(!1)}}return n.memoizedState=[a,t],a}function Bh(e,t,n){return n===void 0||xa&1073741824&&!(Te&261930)?e.memoizedState=t:(e.memoizedState=n,e=hp(),ve.lanes|=e,ri|=e,n)}function Tv(e,t,n,a){return On(n,t)?n:Ur.current!==null?(e=Bh(e,n,a),On(e,t)||(Ot=!0),e):!(xa&42)||xa&1073741824&&!(Te&261930)?(Ot=!0,e.memoizedState=n):(e=hp(),ve.lanes|=e,ri|=e,t)}function jv(e,t,n,a,i){var r=$e.p;$e.p=r!==0&&8>r?r:8;var s=oe.T,l={};oe.T=l,Hh(e,!1,t,n);try{var o=i(),u=oe.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=lS(o,a);Ms(e,t,d,jn(e))}else Ms(e,t,a,jn(e))}catch(f){Ms(e,t,{then:function(){},status:"rejected",reason:f},jn())}finally{$e.p=r,s!==null&&l.types!==null&&(s.types=l.types),oe.T=s}}function fS(){}function pd(e,t,n,a){if(e.tag!==5)throw Error(M(476));var i=Ov(e).queue;jv(e,i,t,Oi,n===null?fS:function(){return Dv(e),n(a)})}function Ov(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Oi,baseState:Oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Oi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dv(e){var t=Ov(e);t.next===null&&(t=e.alternate.memoizedState),Ms(e,t.next.queue,{},jn())}function Lh(){return Vt(al)}function Nv(){return _t().memoizedState}function Av(){return _t().memoizedState}function mS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=jn();e=Ja(n);var a=Za(t,e,n);a!==null&&(un(a,t,n),As(a,t,n)),t={cache:Eh()},e.payload=t;return}t=t.return}}function gS(e,t,n){var a=jn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Oc(e)?Rv(t,n):(n=_h(e,t,n,a),n!==null&&(un(n,e,a),Mv(n,t,a)))}function Cv(e,t,n){var a=jn();Ms(e,t,n,a)}function Ms(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oc(e))Rv(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,On(l,s))return Sc(e,t,i,0),Fe===null&&wc(),!1}catch{}finally{}if(n=_h(e,t,i,a),n!==null)return un(n,e,a),Mv(n,t,a),!0}return!1}function Hh(e,t,n,a){if(a={lane:2,revertLane:Jh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(e)){if(t)throw Error(M(479))}else t=_h(e,n,a,2),t!==null&&un(t,e,2)}function Oc(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Rv(e,t){Or=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,py(e,n)}}var el={readContext:Vt,use:Tc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};el.useEffectEvent=yt;var kv={readContext:Vt,use:Tc,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:fm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,go(4194308,4,wv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=en();t=t===void 0?null:t;var a=e();if(zi){Ya(!0);try{e()}finally{Ya(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=en();if(n!==void 0){var i=n(t);if(zi){Ya(!0);try{n(t)}finally{Ya(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gS.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=yd(e);var t=e.queue,n=Cv.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$h,useDeferredValue:function(e,t){var n=en();return Bh(n,e,t)},useTransition:function(){var e=yd(!1);return e=jv.bind(null,ve,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ve,i=en();if(De){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Fe===null)throw Error(M(349));Te&127||lv(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,fm(cv.bind(null,a,r,e),[e]),a.flags|=2048,zr(9,{destroy:void 0},ov.bind(null,a,r,n,t),null),n},useId:function(){var e=en(),t=Fe.identifierPrefix;if(De){var n=ta,a=ea;n=(a&~(1<<32-Tn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Bo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=oS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lh,useFormState:um,useActionState:um,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hh.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:kh,useCacheRefresh:function(){return en().memoizedState=mS.bind(null,ve)},useEffectEvent:function(e){var t=en(),n={impl:e};return t.memoizedState=n,function(){if(ze&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},qh={readContext:Vt,use:Tc,useCallback:xv,useContext:Vt,useEffect:zh,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:_v,useMemo:Ev,useReducer:mo,useRef:vv,useState:function(){return mo(Ea)},useDebugValue:$h,useDeferredValue:function(e,t){var n=_t();return Tv(n,Je.memoizedState,e,t)},useTransition:function(){var e=mo(Ea)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:sv,useId:Nv,useHostTransitionStatus:Lh,useFormState:dm,useActionState:dm,useOptimistic:function(e,t){var n=_t();return hv(n,Je,e,t)},useMemoCache:kh,useCacheRefresh:Av};qh.useEffectEvent=pv;var Uv={readContext:Vt,use:Tc,useCallback:xv,useContext:Vt,useEffect:zh,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:_v,useMemo:Ev,useReducer:uu,useRef:vv,useState:function(){return uu(Ea)},useDebugValue:$h,useDeferredValue:function(e,t){var n=_t();return Je===null?Bh(n,e,t):Tv(n,Je.memoizedState,e,t)},useTransition:function(){var e=uu(Ea)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:sv,useId:Nv,useHostTransitionStatus:Lh,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var n=_t();return Je!==null?hv(n,Je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:kh,useCacheRefresh:Av};Uv.useEffectEvent=pv;function du(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jn(),i=Ja(a);i.payload=t,n!=null&&(i.callback=n),t=Za(e,i,a),t!==null&&(un(t,e,a),As(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jn(),i=Ja(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Za(e,i,a),t!==null&&(un(t,e,a),As(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),a=Ja(n);a.tag=2,t!=null&&(a.callback=t),t=Za(e,a,n),t!==null&&(un(t,e,n),As(t,e,n))}};function mm(e,t,n,a,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,s):t.prototype&&t.prototype.isPureReactComponent?!Js(n,a)||!Js(i,r):!0}function gm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&bd.enqueueReplaceState(t,t.state,null)}function $i(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ut({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function zv(e){Ao(e)}function $v(e){console.error(e)}function Bv(e){Ao(e)}function Lo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ym(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function _d(e,t,n){return n=Ja(n),n.tag=3,n.payload={element:null},n.callback=function(){Lo(e,t)},n}function Lv(e){return e=Ja(e),e.tag=3,e}function Hv(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ym(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){ym(t,n,a),typeof i!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function yS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Jr(t,n,i,!0),n=Dn.current,n!==null){switch(n.tag){case 31:case 13:return Hn===null?Io():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Su(e,a,i)),!1;case 22:return n.flags|=65536,a===ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Su(e,a,i)),!1}throw Error(M(435,n.tag))}return Su(e,a,i),Io(),!1}if(De)return t=Dn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ld&&(e=Error(M(422),{cause:a}),Ps(Bn(e,n)))):(a!==ld&&(t=Error(M(423),{cause:a}),Ps(Bn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Bn(a,n),i=_d(e.stateNode,a,i),cu(e,i),vt!==4&&(vt=2)),!1;var r=Error(M(520),{cause:a});if(r=Bn(r,n),zs===null?zs=[r]:zs.push(r),vt!==4&&(vt=2),t===null)return!0;a=Bn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=_d(n.stateNode,a,e),cu(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Pa===null||!Pa.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Lv(i),Hv(i,e,n,a),cu(n,i),!1}n=n.return}while(n!==null);return!1}var Yh=Error(M(461)),Ot=!1;function Ht(e,t,n,a){t.child=e===null?ev(t,null,n,a):Ui(t,e.child,n,a)}function vm(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}else s=a;return ki(t),a=Ah(e,t,n,s,r,i),l=Ch(),e!==null&&!Ot?(Rh(e,t,i),Ta(e,t,i)):(De&&l&&Sh(t),t.flags|=1,Ht(e,t,a,i),t.child)}function pm(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!wh(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,qv(e,t,r,a,i)):(e=ho(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Vh(e,i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(s,a)&&e.ref===t.ref)return Ta(e,t,i)}return t.flags|=1,e=ba(r,a),e.ref=t.ref,e.return=t,t.child=e}function qv(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(Js(r,a)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=a=r,Vh(e,i))e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Ta(e,t,i)}return wd(e,t,n,a,i)}function Yv(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return bm(e,t,r,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fo(t,r!==null?r.cachePool:null),r!==null?lm(t,r):md(),av(t);else return a=t.lanes=536870912,bm(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(fo(t,r.cachePool),lm(t,r),Ba(),t.memoizedState=null):(e!==null&&fo(t,null),md(),Ba());return Ht(e,t,i,n),t.child}function Ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bm(e,t,n,a,i){var r=Th();return r=r===null?null:{parent:jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&fo(t,null),md(),av(t),e!==null&&Jr(e,t,a,!0),t.childLanes=i,null}function yo(e,t){return t=Ho({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _m(e,t,n){return Ui(t,e.child,null,n),e=yo(t,t.pendingProps),e.flags|=2,pn(t),t.memoizedState=null,e}function vS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=yo(t,a),t.lanes=536870912,Ss(null,e);if(gd(t),(e=ot)?(e=kp(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ni!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Xy(e),n.return=t,t.child=n,Yt=t,ot=null)):e=null,e===null)throw ai(t);return t.lanes=536870912,null}return yo(t,a)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(gd(t),i)if(t.flags&256)t.flags&=-257,t=_m(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(Ot||Jr(e,t,n,!1),i=(n&e.childLanes)!==0,Ot||i){if(a=Fe,a!==null&&(s=by(a,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,qi(e,s),un(a,e,s),Yh;Io(),t=_m(e,t,n)}else e=r.treeContext,ot=qn(s.nextSibling),Yt=t,De=!0,Qa=null,Ln=!1,e!==null&&Jy(t,e),t=yo(t,a),t.flags|=4096;return t}return e=ba(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wd(e,t,n,a,i){return ki(t),n=Ah(e,t,n,a,void 0,i),a=Ch(),e!==null&&!Ot?(Rh(e,t,i),Ta(e,t,i)):(De&&a&&Sh(t),t.flags|=1,Ht(e,t,n,i),t.child)}function wm(e,t,n,a,i,r){return ki(t),t.updateQueue=null,n=rv(t,a,n,i),iv(e),a=Ch(),e!==null&&!Ot?(Rh(e,t,r),Ta(e,t,r)):(De&&a&&Sh(t),t.flags|=1,Ht(e,t,n,r),t.child)}function Sm(e,t,n,a,i){if(ki(t),t.stateNode===null){var r=vr,s=n.contextType;typeof s=="object"&&s!==null&&(r=Vt(s)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=bd,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Oh(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?Vt(s):vr,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(du(t,n,s,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&bd.enqueueReplaceState(r,r.state,null),Rs(t,a,r,i),Cs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,o=$i(n,l);r.props=o;var u=r.context,d=n.contextType;s=vr,typeof d=="object"&&d!==null&&(s=Vt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||u!==s)&&gm(t,r,a,s),ka=!1;var m=t.memoizedState;r.state=m,Rs(t,a,r,i),Cs(),u=t.memoizedState,l||m!==u||ka?(typeof f=="function"&&(du(t,n,f,a),u=t.memoizedState),(o=ka||mm(t,n,o,a,m,u,s))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),r.props=a,r.state=u,r.context=s,a=o):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,hd(e,t),s=t.memoizedProps,d=$i(n,s),r.props=d,f=t.pendingProps,m=r.context,u=n.contextType,o=vr,typeof u=="object"&&u!==null&&(o=Vt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==f||m!==o)&&gm(t,r,a,o),ka=!1,m=t.memoizedState,r.state=m,Rs(t,a,r,i),Cs();var h=t.memoizedState;s!==f||m!==h||ka||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof l=="function"&&(du(t,n,l,a),h=t.memoizedState),(d=ka||mm(t,n,d,a,m,h,o)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,h,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,h,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),r.props=a,r.state=h,r.context=o,a=d):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,vo(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ui(t,e.child,null,i),t.child=Ui(t,null,n,i)):Ht(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Ta(e,t,i),e}function xm(e,t,n,a){return Mi(),t.flags|=256,Ht(e,t,n,a),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(e){return{baseLanes:e,cachePool:Py()}}function mu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Sn),e}function Vv(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(i?$a(t):Ba(),(e=ot)?(e=kp(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ni!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Xy(e),n.return=t,t.child=n,Yt=t,ot=null)):e=null,e===null)throw ai(t);return Ud(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ba(),i=t.mode,l=Ho({mode:"hidden",children:l},i),a=Di(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=fu(n),a.childLanes=mu(e,s,n),t.memoizedState=hu,Ss(null,a)):($a(t),Sd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(r)t.flags&256?($a(t),t.flags&=-257,t=gu(e,t,n)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),l=a.fallback,i=t.mode,a=Ho({mode:"visible",children:a.children},i),l=Di(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Ui(t,e.child,null,n),a=t.child,a.memoizedState=fu(n),a.childLanes=mu(e,s,n),t.memoizedState=hu,t=Ss(null,a));else if($a(t),Ud(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,a=Error(M(419)),a.stack="",a.digest=s,Ps({value:a,source:null,stack:null}),t=gu(e,t,n)}else if(Ot||Jr(e,t,n,!1),s=(n&e.childLanes)!==0,Ot||s){if(s=Fe,s!==null&&(a=by(s,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,qi(e,a),un(s,e,a),Yh;kd(l)||Io(),t=gu(e,t,n)}else kd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ot=qn(l.nextSibling),Yt=t,De=!0,Qa=null,Ln=!1,e!==null&&Jy(t,e),t=Sd(t,a.children),t.flags|=4096);return t}return i?(Ba(),l=a.fallback,i=t.mode,o=e.child,u=o.sibling,a=ba(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=ba(u,l):(l=Di(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Ss(null,a),a=t.child,l=e.child.memoizedState,l===null?l=fu(n):(i=l.cachePool,i!==null?(o=jt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Py(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=mu(e,s,n),t.memoizedState=hu,Ss(e.child,a)):($a(t),n=e.child,e=n.sibling,n=ba(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Sd(e,t){return t=Ho({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ho(e,t){return e=bn(22,e,null,t),e.lanes=0,e}function gu(e,t,n){return Ui(t,e.child,null,n),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Em(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),cd(e.return,t,n)}function yu(e,t,n,a,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=r)}function Iv(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var s=bt.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,rt(bt,s),Ht(e,t,a,n),a=De?Zs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Em(e,n,t);else if(e.tag===19)Em(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yu(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yu(t,!0,n,null,r,a);break;case"together":yu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,!(n&t.childLanes))if(e!==null){if(Jr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=ba(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ba(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function pS(e,t,n){switch(t.tag){case 3:jo(t,t.stateNode.containerInfo),za(t,jt,e.memoizedState.cache),Mi();break;case 27:case 5:Zu(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,gd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?($a(t),t.flags|=128,null):n&t.child.childLanes?Vv(e,t,n):($a(t),e=Ta(e,t,n),e!==null?e.sibling:null);$a(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Jr(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Iv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(bt,bt.current),a)break;return null;case 22:return t.lanes=0,Yv(e,t,n,t.pendingProps);case 24:za(t,jt,e.memoizedState.cache)}return Ta(e,t,n)}function Gv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ot=!0;else{if(!Vh(e,n)&&!(t.flags&128))return Ot=!1,pS(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,De&&t.flags&1048576&&Qy(t,Zs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=wi(t.elementType),t.type=e,typeof e=="function")wh(e)?(a=$i(e,a),t.tag=1,t=Sm(null,t,e,a,n)):(t.tag=0,t=wd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===lh){t.tag=11,t=vm(null,t,e,a,n);break e}else if(i===oh){t.tag=14,t=pm(null,t,e,a,n);break e}}throw t=Qu(e)||e,Error(M(306,t,""))}}return t;case 0:return wd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=$i(a,t.pendingProps),Sm(e,t,a,i,n);case 3:e:{if(jo(t,t.stateNode.containerInfo),e===null)throw Error(M(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,hd(e,t),Rs(t,a,null,n);var s=t.memoizedState;if(a=s.cache,za(t,jt,a),a!==r.cache&&ud(t,[jt],n,!0),Cs(),a=s.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=xm(e,t,a,n);break e}else if(a!==i){i=Bn(Error(M(424)),t),Ps(i),t=xm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ot=qn(e.firstChild),Yt=t,De=!0,Qa=null,Ln=!0,n=ev(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Mi(),a===i){t=Ta(e,t,n);break e}Ht(e,t,a,n)}t=t.child}return t;case 26:return vo(e,t),e===null?(n=Im(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,a=Qo(Xa.current).createElement(n),a[qt]=t,a[dn]=e,It(a,n,e),Ut(a),t.stateNode=a):t.memoizedState=Im(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zu(t),e===null&&De&&(a=t.stateNode=Up(t.type,t.pendingProps,Xa.current),Yt=t,Ln=!0,i=ot,oi(t.type)?(zd=i,ot=qn(a.firstChild)):ot=i),Ht(e,t,t.pendingProps.children,n),vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((i=a=ot)&&(a=QS(a,t.type,t.pendingProps,Ln),a!==null?(t.stateNode=a,Yt=t,ot=qn(a.firstChild),Ln=!1,i=!0):i=!1),i||ai(t)),Zu(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,a=r.children,Rd(i,r)?a=null:s!==null&&Rd(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Ah(e,t,cS,null,null,n),al._currentValue=i),vo(e,t),Ht(e,t,a,n),t.child;case 6:return e===null&&De&&((e=n=ot)&&(n=JS(n,t.pendingProps,Ln),n!==null?(t.stateNode=n,Yt=t,ot=null,e=!0):e=!1),e||ai(t)),null;case 13:return Vv(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ui(t,null,a,n):Ht(e,t,a,n),t.child;case 11:return vm(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,za(t,t.type,a.value),Ht(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ki(t),i=Vt(i),a=a(i),t.flags|=1,Ht(e,t,a,n),t.child;case 14:return pm(e,t,t.type,t.pendingProps,n);case 15:return qv(e,t,t.type,t.pendingProps,n);case 19:return Iv(e,t,n);case 31:return vS(e,t,n);case 22:return Yv(e,t,n,t.pendingProps);case 24:return ki(t),a=Vt(jt),e===null?(i=Th(),i===null&&(i=Fe,r=Eh(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Oh(t),za(t,jt,i)):(e.lanes&n&&(hd(e,t),Rs(t,null,null,n),Cs()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),za(t,jt,a)):(a=r.cache,za(t,jt,a),a!==i.cache&&ud(t,[jt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function ca(e){e.flags|=4}function vu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(gp())e.flags|=8192;else throw Ai=ko,jh}else e.flags&=-16777217}function Tm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Bp(t))if(gp())e.flags|=8192;else throw Ai=ko,jh}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yy():536870912,e.lanes|=t,$r|=t)}function ys(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function bS(e,t,n){var a=t.pendingProps;switch(xh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(jt),Cr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zi(t)?ca(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ou())),lt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ca(t),r!==null?(lt(t),Tm(t,r)):(lt(t),vu(t,i,null,a,n))):r?r!==e.memoizedState?(ca(t),lt(t),Tm(t,r)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ca(t),lt(t),vu(t,i,e,a,n)),null;case 27:if(Oo(t),n=Xa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error(M(166));return lt(t),null}e=aa.current,Zi(t)?em(t):(e=Up(i,a,n),t.stateNode=e,ca(t))}return lt(t),null;case 5:if(Oo(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error(M(166));return lt(t),null}if(r=aa.current,Zi(t))em(t);else{var s=Qo(Xa.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}r[qt]=t,r[dn]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;e:switch(It(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ca(t)}}return lt(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(M(166));if(e=Xa.current,Zi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Yt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Cp(e.nodeValue,n)),e||ai(t,!0)}else e=Qo(e).createTextNode(a),e[qt]=t,t.stateNode=e}return lt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Zi(t),n!==null){if(e===null){if(!a)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[qt]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else n=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(pn(t),t):(pn(t),null);if(t.flags&128)throw Error(M(558))}return lt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Zi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[qt]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),i=!1}else i=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(pn(t),t):(pn(t),null)}return pn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),lt(t),null);case 4:return Cr(),e===null&&Zh(t.stateNode.containerInfo),lt(t),null;case 10:return _a(t.type),lt(t),null;case 19:if(zt(bt),a=t.memoizedState,a===null)return lt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)ys(a,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=zo(e),r!==null){for(t.flags|=128,ys(a,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ky(n,e),n=n.sibling;return rt(bt,bt.current&1|2),De&&ma(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&xn()>Yo&&(t.flags|=128,i=!0,ys(a,!1),t.lanes=4194304)}else{if(!i)if(e=zo(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!De)return lt(t),null}else 2*xn()-a.renderingStartTime>Yo&&n!==536870912&&(t.flags|=128,i=!0,ys(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=xn(),e.sibling=null,n=bt.current,rt(bt,i?n&1|2:n&1),De&&ma(t,a.treeForkCount),e):(lt(t),null);case 22:case 23:return pn(t),Dh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&zt(Ni),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(jt),lt(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function _S(e,t){switch(xh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(jt),Cr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oo(t),null;case 31:if(t.memoizedState!==null){if(pn(t),t.alternate===null)throw Error(M(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(bt),null;case 4:return Cr(),null;case 10:return _a(t.type),null;case 22:case 23:return pn(t),Dh(),e!==null&&zt(Ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(jt),null;case 25:return null;default:return null}}function Kv(e,t){switch(xh(t),t.tag){case 3:_a(jt),Cr();break;case 26:case 27:case 5:Oo(t);break;case 4:Cr();break;case 31:t.memoizedState!==null&&pn(t);break;case 13:pn(t);break;case 19:zt(bt);break;case 10:_a(t.type);break;case 22:case 23:pn(t),Dh(),e!==null&&zt(Ni);break;case 24:_a(jt)}}function bl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,s=n.inst;a=r(),s.destroy=a}n=n.next}while(n!==i)}}catch(l){Ge(t,t.return,l)}}function ii(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var s=a.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(d){Ge(i,o,d)}}}a=a.next}while(a!==r)}}catch(d){Ge(t,t.return,d)}}function Xv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{nv(t,n)}catch(a){Ge(e,e.return,a)}}}function Qv(e,t,n){n.props=$i(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ge(e,t,a)}}function ks(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Ge(e,t,i)}}function na(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Ge(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ge(e,t,i)}else n.current=null}function Jv(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Ge(e,e.return,i)}}function pu(e,t,n){try{var a=e.stateNode;YS(a,e.type,n,t),a[dn]=t}catch(i){Ge(e,e.return,i)}}function Zv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(a!==4&&(a===27&&oi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(xd(e,t,n),e=e.sibling;e!==null;)xd(e,t,n),e=e.sibling}function qo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&oi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}function Pv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);It(t,a,n),t[qt]=e,t[dn]=n}catch(r){Ge(e,e.return,r)}}var ga=!1,Tt=!1,_u=!1,jm=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function wS(e,t){if(e=e.containerInfo,Ad=Fo,e=By(e),ph(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,l=-1,o=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==r||a!==0&&f.nodeType!==3||(o=s+a),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=s),m===r&&++d===a&&(o=s),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cd={focusedElem:e,selectionRange:n},Fo=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var p=$i(n.type,i);e=a.getSnapshotBeforeUpdate(p,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){Ge(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function Fv(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:da(e,n),a&4&&bl(5,n);break;case 1:if(da(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ge(n,n.return,s)}else{var i=$i(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ge(n,n.return,s)}}a&64&&Xv(n),a&512&&ks(n,n.return);break;case 3:if(da(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{nv(e,t)}catch(s){Ge(n,n.return,s)}}break;case 27:t===null&&a&4&&Pv(n);case 26:case 5:da(e,n),t===null&&a&4&&Jv(n),a&512&&ks(n,n.return);break;case 12:da(e,n);break;case 31:da(e,n),a&4&&tp(e,n);break;case 13:da(e,n),a&4&&np(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=AS.bind(null,n),ZS(e,n))));break;case 22:if(a=n.memoizedState!==null||ga,!a){t=t!==null&&t.memoizedState!==null||Tt,i=ga;var r=Tt;ga=a,(Tt=t)&&!r?ha(e,n,(n.subtreeFlags&8772)!==0):da(e,n),ga=i,Tt=r}break;case 30:break;default:da(e,n)}}function Wv(e){var t=e.alternate;t!==null&&(e.alternate=null,Wv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,on=!1;function ua(e,t,n){for(n=n.child;n!==null;)ep(e,t,n),n=n.sibling}function ep(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 26:Tt||na(n,t),ua(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Tt||na(n,t);var a=dt,i=on;oi(n.type)&&(dt=n.stateNode,on=!1),ua(e,t,n),Bs(n.stateNode),dt=a,on=i;break;case 5:Tt||na(n,t);case 6:if(a=dt,i=on,dt=null,ua(e,t,n),dt=a,on=i,dt!==null)if(on)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(r){Ge(n,t,r)}else try{dt.removeChild(n.stateNode)}catch(r){Ge(n,t,r)}break;case 18:dt!==null&&(on?(e=dt,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),qr(e)):Lm(dt,n.stateNode));break;case 4:a=dt,i=on,dt=n.stateNode.containerInfo,on=!0,ua(e,t,n),dt=a,on=i;break;case 0:case 11:case 14:case 15:ii(2,n,t),Tt||ii(4,n,t),ua(e,t,n);break;case 1:Tt||(na(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Qv(n,t,a)),ua(e,t,n);break;case 21:ua(e,t,n);break;case 22:Tt=(a=Tt)||n.memoizedState!==null,ua(e,t,n),Tt=a;break;default:ua(e,t,n)}}function tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qr(e)}catch(n){Ge(t,t.return,n)}}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qr(e)}catch(n){Ge(t,t.return,n)}}function SS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jm),t;default:throw Error(M(435,e.tag))}}function Vl(e,t){var n=SS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=CS.bind(null,e,a);a.then(i,i)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(oi(l.type)){dt=l.stateNode,on=!1;break e}break;case 5:dt=l.stateNode,on=!1;break e;case 3:case 4:dt=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(dt===null)throw Error(M(160));ep(r,s,i),dt=null,on=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}var Xn=null;function ap(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),ln(e),a&4&&(ii(3,e,e.return),bl(3,e),ii(5,e,e.return));break;case 1:sn(t,e),ln(e),a&512&&(Tt||n===null||na(n,n.return)),a&64&&ga&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Xn;if(sn(t,e),ln(e),a&512&&(Tt||n===null||na(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[gl]||r[qt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),It(r,a,n),r[qt]=e,Ut(r),a=r;break e;case"link":var s=Km("link","href",i).get(a+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(r=s[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}r=i.createElement(a),It(r,a,n),i.head.appendChild(r);break;case"meta":if(s=Km("meta","content",i).get(a+(n.content||""))){for(l=0;l<s.length;l++)if(r=s[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}r=i.createElement(a),It(r,a,n),i.head.appendChild(r);break;default:throw Error(M(468,a))}r[qt]=e,Ut(r),a=r}e.stateNode=a}else Xm(i,e.type,e.stateNode);else e.stateNode=Gm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Xm(i,e.type,e.stateNode):Gm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),ln(e),a&512&&(Tt||n===null||na(n,n.return)),n!==null&&a&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),ln(e),a&512&&(Tt||n===null||na(n,n.return)),e.flags&32){i=e.stateNode;try{Mr(i,"")}catch(p){Ge(e,e.return,p)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,pu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(_u=!0);break;case 6:if(sn(t,e),ln(e),a&4){if(e.stateNode===null)throw Error(M(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){Ge(e,e.return,p)}}break;case 3:if(_o=null,i=Xn,Xn=Jo(t.containerInfo),sn(t,e),Xn=i,ln(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(p){Ge(e,e.return,p)}_u&&(_u=!1,ip(e));break;case 4:a=Xn,Xn=Jo(e.stateNode.containerInfo),sn(t,e),ln(e),Xn=a;break;case 12:sn(t,e),ln(e);break;case 31:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vl(e,a)));break;case 13:sn(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Dc=xn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vl(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=ga,d=Tt;if(ga=u||i,Tt=d||o,sn(t,e),Tt=d,ga=u,ln(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||ga||Tt||Si(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(r=o.stateNode,i)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(p){Ge(o,o.return,p)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(p){Ge(o,o.return,p)}}}else if(t.tag===18){if(n===null){o=t;try{var h=o.stateNode;i?Hm(h,!0):Hm(o.stateNode,!1)}catch(p){Ge(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Vl(e,n))));break;case 19:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vl(e,a)));break;case 30:break;case 21:break;default:sn(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Zv(a)){n=a;break}a=a.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var i=n.stateNode,r=bu(e);qo(e,r,i);break;case 5:var s=n.stateNode;n.flags&32&&(Mr(s,""),n.flags&=-33);var l=bu(e);qo(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=bu(e);xd(e,u,o);break;default:throw Error(M(161))}}catch(d){Ge(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ip(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fv(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ii(4,t,t.return),Si(t);break;case 1:na(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Qv(t,t.return,n),Si(t);break;case 27:Bs(t.stateNode);case 26:case 5:na(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function ha(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:ha(i,r,n),bl(4,r);break;case 1:if(ha(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ge(a,a.return,u)}if(a=r,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)tv(o[i],l)}catch(u){Ge(a,a.return,u)}}n&&s&64&&Xv(r),ks(r,r.return);break;case 27:Pv(r);case 26:case 5:ha(i,r,n),n&&a===null&&s&4&&Jv(r),ks(r,r.return);break;case 12:ha(i,r,n);break;case 31:ha(i,r,n),n&&s&4&&tp(i,r);break;case 13:ha(i,r,n),n&&s&4&&np(i,r);break;case 22:r.memoizedState===null&&ha(i,r,n),ks(r,r.return);break;case 30:break;default:ha(i,r,n)}t=t.sibling}}function Ih(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vl(n))}function Gh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e))}function Vn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(e,t,n,a),t=t.sibling}function rp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,n,a),i&2048&&bl(9,t);break;case 1:Vn(e,t,n,a);break;case 3:Vn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e)));break;case 12:if(i&2048){Vn(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,l=r.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ge(t,t.return,o)}}else Vn(e,t,n,a);break;case 31:Vn(e,t,n,a);break;case 13:Vn(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?Vn(e,t,n,a):Us(e,t):r._visibility&2?Vn(e,t,n,a):(r._visibility|=2,ir(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ih(s,t);break;case 24:Vn(e,t,n,a),i&2048&&Gh(t.alternate,t);break;default:Vn(e,t,n,a)}}function ir(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,l=n,o=a,u=s.flags;switch(s.tag){case 0:case 11:case 15:ir(r,s,l,o,i),bl(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?ir(r,s,l,o,i):Us(r,s):(d._visibility|=2,ir(r,s,l,o,i)),i&&u&2048&&Ih(s.alternate,s);break;case 24:ir(r,s,l,o,i),i&&u&2048&&Gh(s.alternate,s);break;default:ir(r,s,l,o,i)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Us(n,a),i&2048&&Ih(a.alternate,a);break;case 24:Us(n,a),i&2048&&Gh(a.alternate,a);break;default:Us(n,a)}t=t.sibling}}var xs=8192;function Pi(e,t,n){if(e.subtreeFlags&xs)for(e=e.child;e!==null;)sp(e,t,n),e=e.sibling}function sp(e,t,n){switch(e.tag){case 26:Pi(e,t,n),e.flags&xs&&e.memoizedState!==null&&ox(n,Xn,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,t,n);break;case 3:case 4:var a=Xn;Xn=Jo(e.stateNode.containerInfo),Pi(e,t,n),Xn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=xs,xs=16777216,Pi(e,t,n),xs=a):Pi(e,t,n));break;default:Pi(e,t,n)}}function lp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Mt=a,cp(a,e)}lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&ii(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,po(e)):vs(e);break;default:vs(e)}}function po(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Mt=a,cp(a,e)}lp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ii(8,t,t.return),po(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,po(t));break;default:po(t)}e=e.sibling}}function cp(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:ii(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:vl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Mt=a;else e:for(n=e;Mt!==null;){a=Mt;var i=a.sibling,r=a.return;if(Wv(a),a===n){Mt=null;break e}if(i!==null){i.return=r,Mt=i;break e}Mt=r}}}var xS={getCacheForType:function(e){var t=Vt(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Vt(jt).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,ze=0,Fe=null,Se=null,Te=0,Ie=0,vn=null,Ia=!1,Pr=!1,Kh=!1,ja=0,vt=0,ri=0,Ci=0,Xh=0,Sn=0,$r=0,zs=null,cn=null,Ed=!1,Dc=0,up=0,Yo=1/0,Vo=null,Pa=null,Ct=0,Fa=null,Br=null,wa=0,Td=0,jd=null,dp=null,$s=0,Od=null;function jn(){return ze&2&&Te!==0?Te&-Te:oe.T!==null?Jh():_y()}function hp(){if(Sn===0)if(!(Te&536870912)||De){var e=Ul;Ul<<=1,!(Ul&3932160)&&(Ul=262144),Sn=e}else Sn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Sn}function un(e,t,n){(e===Fe&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(Lr(e,0),Ga(e,Te,Sn,!1)),ml(e,n),(!(ze&2)||e!==Fe)&&(e===Fe&&(!(ze&2)&&(Ci|=n),vt===4&&Ga(e,Te,Sn,!1)),ra(e))}function fp(e,t,n){if(ze&6)throw Error(M(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||fl(e,t),i=a?OS(e,t):wu(e,t,!0),r=a;do{if(i===0){Pr&&!a&&Ga(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!TS(n)){i=wu(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;i=zs;var o=l.current.memoizedState.isDehydrated;if(o&&(Lr(l,s).flags|=256),s=wu(l,s,!1),s!==2){if(Kh&&!o){l.errorRecoveryDisabledLanes|=r,Ci|=r,i=4;break e}r=cn,cn=i,r!==null&&(cn===null?cn=r:cn.push.apply(cn,r))}i=s}if(r=!1,i!==2)continue}}if(i===1){Lr(e,0),Ga(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:Ga(a,t,Sn,!Ia);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(i=Dc+300-xn(),10<i)){if(Ga(a,t,Sn,!Ia),vc(a,0,!0)!==0)break e;wa=t,a.timeoutHandle=Mp(Om.bind(null,a,n,cn,Vo,Ed,t,Sn,Ci,$r,Ia,r,"Throttled",-0,0),i);break e}Om(a,n,cn,Vo,Ed,t,Sn,Ci,$r,Ia,r,null,-0,0)}}break}while(!0);ra(e)}function Om(e,t,n,a,i,r,s,l,o,u,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},sp(t,r,f);var p=(r&62914560)===r?Dc-xn():(r&4194048)===r?up-xn():0;if(p=cx(f,p),p!==null){wa=r,e.cancelPendingCommit=p(Nm.bind(null,e,t,r,n,a,i,s,l,o,d,f,null,m,h)),Ga(e,r,s,!u);return}}Nm(e,t,r,n,a,i,s,l,o)}function TS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!On(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,n,a){t&=~Xh,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Tn(i),s=1<<r;a[r]=-1,i&=~s}n!==0&&vy(e,n,t)}function Nc(){return ze&6?!0:(_l(0),!1)}function Qh(){if(Se!==null){if(Ie===0)var e=Se.return;else e=Se,pa=Yi=null,Mh(e),jr=null,Fs=0,e=Se;for(;e!==null;)Kv(e.alternate,e),e=e.return;Se=null}}function Lr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,GS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wa=0,Qh(),Fe=e,Se=n=ba(e.current,null),Te=t,Ie=0,vn=null,Ia=!1,Pr=fl(e,t),Kh=!1,$r=Sn=Xh=Ci=ri=vt=0,cn=zs=null,Ed=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Tn(a),r=1<<i;t|=e[i],a&=~r}return ja=t,wc(),n}function mp(e,t){ve=null,oe.H=el,t===Zr||t===xc?(t=rm(),Ie=3):t===jh?(t=rm(),Ie=4):Ie=t===Yh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,Se===null&&(vt=1,Lo(e,Bn(t,e.current)))}function gp(){var e=Dn.current;return e===null?!0:(Te&4194048)===Te?Hn===null:(Te&62914560)===Te||Te&536870912?e===Hn:!1}function yp(){var e=oe.H;return oe.H=el,e===null?el:e}function vp(){var e=oe.A;return oe.A=xS,e}function Io(){vt=4,Ia||(Te&4194048)!==Te&&Dn.current!==null||(Pr=!0),!(ri&134217727)&&!(Ci&134217727)||Fe===null||Ga(Fe,Te,Sn,!1)}function wu(e,t,n){var a=ze;ze|=2;var i=yp(),r=vp();(Fe!==e||Te!==t)&&(Vo=null,Lr(e,t)),t=!1;var s=vt;e:do try{if(Ie!==0&&Se!==null){var l=Se,o=vn;switch(Ie){case 8:Qh(),s=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(t=!0);var u=Ie;if(Ie=0,vn=null,_r(e,l,o,u),n&&Pr){s=0;break e}break;default:u=Ie,Ie=0,vn=null,_r(e,l,o,u)}}jS(),s=vt;break}catch(d){mp(e,d)}while(!0);return t&&e.shellSuspendCounter++,pa=Yi=null,ze=a,oe.H=i,oe.A=r,Se===null&&(Fe=null,Te=0,wc()),s}function jS(){for(;Se!==null;)pp(Se)}function OS(e,t){var n=ze;ze|=2;var a=yp(),i=vp();Fe!==e||Te!==t?(Vo=null,Yo=xn()+500,Lr(e,t)):Pr=fl(e,t);e:do try{if(Ie!==0&&Se!==null){t=Se;var r=vn;t:switch(Ie){case 1:Ie=0,vn=null,_r(e,t,r,1);break;case 2:case 9:if(im(r)){Ie=0,vn=null,Dm(t);break}t=function(){Ie!==2&&Ie!==9||Fe!==e||(Ie=7),ra(e)},r.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:im(r)?(Ie=0,vn=null,Dm(t)):(Ie=0,vn=null,_r(e,t,r,7));break;case 5:var s=null;switch(Se.tag){case 26:s=Se.memoizedState;case 5:case 27:var l=Se;if(s?Bp(s):l.stateNode.complete){Ie=0,vn=null;var o=l.sibling;if(o!==null)Se=o;else{var u=l.return;u!==null?(Se=u,Ac(u)):Se=null}break t}}Ie=0,vn=null,_r(e,t,r,5);break;case 6:Ie=0,vn=null,_r(e,t,r,6);break;case 8:Qh(),vt=6;break e;default:throw Error(M(462))}}DS();break}catch(d){mp(e,d)}while(!0);return pa=Yi=null,oe.H=a,oe.A=i,ze=n,Se!==null?0:(Fe=null,Te=0,wc(),vt)}function DS(){for(;Se!==null&&!P_();)pp(Se)}function pp(e){var t=Gv(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?Ac(e):Se=t}function Dm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wm(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=wm(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Mh(t);default:Kv(n,t),t=Se=Ky(t,ja),t=Gv(n,t,ja)}e.memoizedProps=e.pendingProps,t===null?Ac(e):Se=t}function _r(e,t,n,a){pa=Yi=null,Mh(t),jr=null,Fs=0;var i=t.return;try{if(yS(e,i,t,n,Te)){vt=1,Lo(e,Bn(n,e.current)),Se=null;return}}catch(r){if(i!==null)throw Se=i,r;vt=1,Lo(e,Bn(n,e.current)),Se=null;return}t.flags&32768?(De||a===1?e=!0:Pr||Te&536870912?e=!1:(Ia=e=!0,(a===2||a===9||a===3||a===6)&&(a=Dn.current,a!==null&&a.tag===13&&(a.flags|=16384))),bp(t,e)):Ac(t)}function Ac(e){var t=e;do{if(t.flags&32768){bp(t,Ia);return}e=t.return;var n=bS(t.alternate,t,ja);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);vt===0&&(vt=5)}function bp(e,t){do{var n=_S(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);vt=6,Se=null}function Nm(e,t,n,a,i,r,s,l,o){e.cancelPendingCommit=null;do Cc();while(Ct!==0);if(ze&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(r=t.lanes|t.childLanes,r|=bh,lw(e,n,r,s,l,o),e===Fe&&(Se=Fe=null,Te=0),Br=t,Fa=e,wa=n,Td=r,jd=i,dp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,RS(Do,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=oe.T,oe.T=null,i=$e.p,$e.p=2,s=ze,ze|=4;try{wS(e,t,n)}finally{ze=s,$e.p=i,oe.T=a}}Ct=1,_p(),wp(),Sp()}}function _p(){if(Ct===1){Ct=0;var e=Fa,t=Br,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=oe.T,oe.T=null;var a=$e.p;$e.p=2;var i=ze;ze|=4;try{ap(t,e);var r=Cd,s=By(e.containerInfo),l=r.focusedElem,o=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&$y(l.ownerDocument.documentElement,l)){if(o!==null&&ph(l)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=l.textContent.length,b=Math.min(o.start,p),T=o.end===void 0?b:Math.min(o.end,p);!h.extend&&b>T&&(s=T,T=b,b=s);var v=Pf(l,b),g=Pf(l,T);if(v&&g&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var y=f.createRange();y.setStart(v.node,v.offset),h.removeAllRanges(),b>T?(h.addRange(y),h.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),h.addRange(y))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var E=f[l];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Fo=!!Ad,Cd=Ad=null}finally{ze=i,$e.p=a,oe.T=n}}e.current=t,Ct=2}}function wp(){if(Ct===2){Ct=0;var e=Fa,t=Br,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=oe.T,oe.T=null;var a=$e.p;$e.p=2;var i=ze;ze|=4;try{Fv(e,t.alternate,t)}finally{ze=i,$e.p=a,oe.T=n}}Ct=3}}function Sp(){if(Ct===4||Ct===3){Ct=0,F_();var e=Fa,t=Br,n=wa,a=dp;t.subtreeFlags&10256||t.flags&10256?Ct=5:(Ct=0,Br=Fa=null,xp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Pa=null),dh(n),t=t.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(hl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=oe.T,i=$e.p,$e.p=2,oe.T=null;try{for(var r=e.onRecoverableError,s=0;s<a.length;s++){var l=a[s];r(l.value,{componentStack:l.stack})}}finally{oe.T=t,$e.p=i}}wa&3&&Cc(),ra(e),i=e.pendingLanes,n&261930&&i&42?e===Od?$s++:($s=0,Od=e):$s=0,_l(0)}}function xp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vl(t)))}function Cc(){return _p(),wp(),Sp(),Ep()}function Ep(){if(Ct!==5)return!1;var e=Fa,t=Td;Td=0;var n=dh(wa),a=oe.T,i=$e.p;try{$e.p=32>n?32:n,oe.T=null,n=jd,jd=null;var r=Fa,s=wa;if(Ct=0,Br=Fa=null,wa=0,ze&6)throw Error(M(331));var l=ze;if(ze|=4,op(r.current),rp(r,r.current,s,n),ze=l,_l(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(hl,r)}catch{}return!0}finally{$e.p=i,oe.T=a,xp(e,t)}}function Am(e,t,n){t=Bn(n,t),t=_d(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(ml(e,2),ra(e))}function Ge(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pa===null||!Pa.has(a))){e=Bn(n,e),n=Lv(2),a=Za(t,n,2),a!==null&&(Hv(n,a,t,e),ml(a,2),ra(a));break}}t=t.return}}function Su(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ES;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Kh=!0,i.add(n),e=NS.bind(null,e,t,n),t.then(e,e))}function NS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Te&n)===n&&(vt===4||vt===3&&(Te&62914560)===Te&&300>xn()-Dc?!(ze&2)&&Lr(e,0):Xh|=n,$r===Te&&($r=0)),ra(e)}function Tp(e,t){t===0&&(t=yy()),e=qi(e,t),e!==null&&(ml(e,t),ra(e))}function AS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tp(e,n)}function CS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(M(314))}a!==null&&a.delete(t),Tp(e,n)}function RS(e,t){return ch(e,t)}var Go=null,rr=null,Dd=!1,Ko=!1,xu=!1,Ka=0;function ra(e){e!==rr&&e.next===null&&(rr===null?Go=rr=e:rr=rr.next=e),Ko=!0,Dd||(Dd=!0,kS())}function _l(e,t){if(!xu&&Ko){xu=!0;do for(var n=!1,a=Go;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var s=a.suspendedLanes,l=a.pingedLanes;r=(1<<31-Tn(42|e)+1)-1,r&=i&~(s&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Cm(a,r))}else r=Te,r=vc(a,a===Fe?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(r&3)||fl(a,r)||(n=!0,Cm(a,r));a=a.next}while(n);xu=!1}}function MS(){jp()}function jp(){Ko=Dd=!1;var e=0;Ka!==0&&IS()&&(e=Ka);for(var t=xn(),n=null,a=Go;a!==null;){var i=a.next,r=Op(a,t);r===0?(a.next=null,n===null?Go=i:n.next=i,i===null&&(rr=n)):(n=a,(e!==0||r&3)&&(Ko=!0)),a=i}Ct!==0&&Ct!==5||_l(e),Ka!==0&&(Ka=0)}function Op(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-Tn(r),l=1<<s,o=i[s];o===-1?(!(l&n)||l&a)&&(i[s]=sw(l,t)):o<=t&&(e.expiredLanes|=l),r&=~l}if(t=Fe,n=Te,n=vc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Pc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||fl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Pc(a),dh(n)){case 2:case 8:n=my;break;case 32:n=Do;break;case 268435456:n=gy;break;default:n=Do}return a=Dp.bind(null,e),n=ch(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Pc(a),e.callbackPriority=2,e.callbackNode=null,2}function Dp(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var a=Te;return a=vc(e,e===Fe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(fp(e,a,t),Op(e,xn()),e.callbackNode!=null&&e.callbackNode===n?Dp.bind(null,e):null)}function Cm(e,t){if(Cc())return null;fp(e,t,!0)}function kS(){KS(function(){ze&6?ch(fy,MS):jp()})}function Jh(){if(Ka===0){var e=kr;e===0&&(e=kl,kl<<=1,!(kl&261888)&&(kl=256)),Ka=e}return Ka}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oo(""+e)}function Mm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function US(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=Rm((i[dn]||null).action),s=a.submitter;s&&(t=(t=s[dn]||null)?Rm(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var l=new pc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ka!==0){var o=s?Mm(i,s):new FormData(i);pd(n,{pending:!0,data:o,method:i.method,action:r},null,o)}}else typeof r=="function"&&(l.preventDefault(),o=s?Mm(i,s):new FormData(i),pd(n,{pending:!0,data:o,method:i.method,action:r},r,o))},currentTarget:i}]})}}for(var Eu=0;Eu<sd.length;Eu++){var Tu=sd[Eu],zS=Tu.toLowerCase(),$S=Tu[0].toUpperCase()+Tu.slice(1);Pn(zS,"on"+$S)}Pn(Hy,"onAnimationEnd");Pn(qy,"onAnimationIteration");Pn(Yy,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Ww,"onTransitionRun");Pn(eS,"onTransitionStart");Pn(tS,"onTransitionCancel");Pn(Vy,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Np(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(d){Ao(d)}i.currentTarget=null,r=o}else for(s=0;s<a.length;s++){if(l=a[s],o=l.instance,u=l.currentTarget,l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(d){Ao(d)}i.currentTarget=null,r=o}}}}function we(e,t){var n=t[Fu];n===void 0&&(n=t[Fu]=new Set);var a=e+"__bubble";n.has(a)||(Ap(t,e,2,!1),n.add(a))}function ju(e,t,n){var a=0;t&&(a|=4),Ap(n,e,a,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Zh(e){if(!e[Il]){e[Il]=!0,wy.forEach(function(n){n!=="selectionchange"&&(BS.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,ju("selectionchange",!1,t))}}function Ap(e,t,n,a){switch(Vp(t)){case 2:var i=hx;break;case 8:i=fx;break;default:i=ef}n=i.bind(null,t,n,e),i=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ou(e,t,n,a,i){var r=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var l=a.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=a.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=dr(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){a=r=s;continue e}l=l.parentNode}}a=a.return}Ny(function(){var u=r,d=mh(n),f=[];e:{var m=Iy.get(e);if(m!==void 0){var h=pc,p=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":h=Cw;break;case"focusin":p="focus",h=nu;break;case"focusout":p="blur",h=nu;break;case"beforeblur":case"afterblur":h=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kw;break;case Hy:case qy:case Yy:h=Sw;break;case Vy:h=zw;break;case"scroll":case"scrollend":h=vw;break;case"wheel":h=Bw;break;case"copy":case"cut":case"paste":h=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Vf;break;case"toggle":case"beforetoggle":h=Hw}var b=(t&4)!==0,T=!b&&(e==="scroll"||e==="scrollend"),v=b?m!==null?m+"Capture":null:m;b=[];for(var g=u,y;g!==null;){var E=g;if(y=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||y===null||v===null||(E=Xs(g,v),E!=null&&b.push(nl(g,E,y))),T)break;g=g.return}0<b.length&&(m=new h(m,p,null,n,d),f.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==nd&&(p=n.relatedTarget||n.fromElement)&&(dr(p)||p[Xr]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?dr(p):null,p!==null&&(T=dl(p),b=p.tag,p!==T||b!==5&&b!==27&&b!==6)&&(p=null)):(h=null,p=u),h!==p)){if(b=qf,E="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Vf,E="onPointerLeave",v="onPointerEnter",g="pointer"),T=h==null?m:ws(h),y=p==null?m:ws(p),m=new b(E,g+"leave",h,n,d),m.target=T,m.relatedTarget=y,E=null,dr(d)===u&&(b=new b(v,g+"enter",p,n,d),b.target=y,b.relatedTarget=T,E=b),T=E,h&&p)t:{for(b=LS,v=h,g=p,y=0,E=v;E;E=b(E))y++;E=0;for(var S=g;S;S=b(S))E++;for(;0<y-E;)v=b(v),y--;for(;0<E-y;)g=b(g),E--;for(;y--;){if(v===g||g!==null&&v===g.alternate){b=v;break t}v=b(v),g=b(g)}b=null}else b=null;h!==null&&km(f,m,h,b,!1),p!==null&&T!==null&&km(f,T,p,b,!0)}}e:{if(m=u?ws(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var x=Xf;else if(Kf(m))if(Uy)x=Zw;else{x=Qw;var w=Xw}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&fh(u.elementType)&&(x=Xf):x=Jw;if(x&&(x=x(e,u))){ky(f,x,n,d);break e}w&&w(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&td(m,"number",m.value)}switch(w=u?ws(u):window,e){case"focusin":(Kf(w)||w.contentEditable==="true")&&(mr=w,id=u,Ds=null);break;case"focusout":Ds=id=mr=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Ff(f,n,d);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":Ff(f,n,d)}var j;if(vh)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fr?Ry(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Cy&&n.locale!=="ko"&&(fr||O!=="onCompositionStart"?O==="onCompositionEnd"&&fr&&(j=Ay()):(Va=d,gh="value"in Va?Va.value:Va.textContent,fr=!0)),w=Xo(u,O),0<w.length&&(O=new Yf(O,e,null,n,d),f.push({event:O,listeners:w}),j?O.data=j:(j=My(n),j!==null&&(O.data=j)))),(j=Yw?Vw(e,n):Iw(e,n))&&(O=Xo(u,"onBeforeInput"),0<O.length&&(w=new Yf("onBeforeInput","beforeinput",null,n,d),f.push({event:w,listeners:O}),w.data=j)),US(f,e,u,n,d)}Np(f,t)})}function nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Xs(e,n),i!=null&&a.unshift(nl(e,i,r)),i=Xs(e,t),i!=null&&a.push(nl(e,i,r))),e.tag===3)return a;e=e.return}return[]}function LS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function km(e,t,n,a,i){for(var r=t._reactName,s=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=Xs(n,r),u!=null&&s.unshift(nl(n,u,o))):i||(u=Xs(n,r),u!=null&&s.push(nl(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var HS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(HS,`
`).replace(qS,"")}function Cp(e,t){return t=Um(t),Um(e)===t}function Qe(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Mr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Mr(e,""+a);break;case"className":$l(e,"class",a);break;case"tabIndex":$l(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,n,a);break;case"style":Dy(e,a,r);break;case"data":if(t!=="object"){$l(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=oo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Qe(e,t,"name",i.name,i,null),Qe(e,t,"formEncType",i.formEncType,i,null),Qe(e,t,"formMethod",i.formMethod,i,null),Qe(e,t,"formTarget",i.formTarget,i,null)):(Qe(e,t,"encType",i.encType,i,null),Qe(e,t,"method",i.method,i,null),Qe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=oo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=va);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(M(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=oo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":we("beforetoggle",e),we("toggle",e),lo(e,"popover",a);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":lo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gw.get(n)||n,lo(e,n,a))}}function Nd(e,t,n,a,i,r){switch(n){case"style":Dy(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(M(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Mr(e,a):(typeof a=="number"||typeof a=="bigint")&&Mr(e,""+a);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"onClick":a!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sy.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[dn]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):lo(e,n,a)}}}function It(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:Qe(e,t,r,s,n,null)}}i&&Qe(e,t,"srcSet",n.srcSet,n,null),a&&Qe(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var l=r=s=i=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,t));break;default:Qe(e,t,a,d,n,null)}}Ty(e,r,l,o,u,s,i,!1);return;case"select":we("invalid",e),a=s=r=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Qe(e,t,i,l,n,null)}t=r,n=s,e.multiple=!!a,t!=null?xr(e,!!a,t,!1):n!=null&&xr(e,!!a,n,!0);return;case"textarea":we("invalid",e),r=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:Qe(e,t,s,l,n,null)}Oy(e,a,i,r);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Qe(e,t,o,a,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(a=0;a<tl.length;a++)we(tl[a],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:Qe(e,t,u,a,n,null)}return;default:if(fh(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&Nd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Qe(e,t,l,a,n,null))}function YS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,s=null,l=null,o=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=f;default:a.hasOwnProperty(h)||Qe(e,t,h,null,a,f)}}for(var m in a){var h=a[m];if(f=n[m],a.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":r=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,t));break;default:h!==f&&Qe(e,t,m,h,a,f)}}ed(e,s,l,o,u,d,r,i);return;case"select":h=s=l=m=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":h=o;default:a.hasOwnProperty(r)||Qe(e,t,r,null,a,o)}for(i in a)if(r=a[i],o=n[i],a.hasOwnProperty(i)&&(r!=null||o!=null))switch(i){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":s=r;default:r!==o&&Qe(e,t,i,r,a,o)}t=l,n=s,a=h,m!=null?xr(e,!!n,m,!1):!!a!=!!n&&(t!=null?xr(e,!!n,t,!0):xr(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Qe(e,t,l,null,a,i)}for(s in a)if(i=a[s],r=n[s],a.hasOwnProperty(s)&&(i!=null||r!=null))switch(s){case"value":m=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(M(91));break;default:i!==r&&Qe(e,t,s,i,a,r)}jy(e,m,h);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Qe(e,t,p,null,a,m)}for(o in a)if(m=a[o],h=n[o],a.hasOwnProperty(o)&&m!==h&&(m!=null||h!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Qe(e,t,o,m,a,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Qe(e,t,b,null,a,m);for(u in a)if(m=a[u],h=n[u],a.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(M(137,t));break;default:Qe(e,t,u,m,a,h)}return;default:if(fh(t)){for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!==void 0&&!a.hasOwnProperty(T)&&Nd(e,t,T,void 0,a,m);for(d in a)m=a[d],h=n[d],!a.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Nd(e,t,d,m,a,h);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v)&&Qe(e,t,v,null,a,m);for(f in a)m=a[f],h=n[f],!a.hasOwnProperty(f)||m===h||m==null&&h==null||Qe(e,t,f,m,a,h)}function zm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,s=i.initiatorType,l=i.duration;if(r&&l&&zm(s)){for(s=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var d=o.transferSize,f=o.initiatorType;d&&zm(f)&&(o=o.responseEnd,s+=d*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(r+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Cd=null;function Qo(e){return e.nodeType===9?e:e.ownerDocument}function $m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=null;function IS(){var e=window.event;return e&&e.type==="popstate"?e===Du?!1:(Du=e,!0):(Du=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,GS=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(XS)}:Mp;function XS(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function Lm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),qr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Bs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Bs(n);for(var r=n.firstChild;r;){var s=r.nextSibling,l=r.nodeName;r[gl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&Bs(e.ownerDocument.body);n=i}while(n);qr(t)}function Hm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Md(n),hh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function QS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function JS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function kp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zd=null;function qm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Up(e,t,n){switch(t=Qo(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hh(e)}var Yn=new Map,Vm=new Set;function Jo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=$e.d;$e.d={f:PS,r:FS,D:WS,C:ex,L:tx,m:nx,X:ix,S:ax,M:rx};function PS(){var e=Oa.f(),t=Nc();return e||t}function FS(e){var t=Qr(e);t!==null&&t.tag===5&&t.type==="form"?Dv(t):Oa.r(e)}var Fr=typeof document>"u"?null:document;function zp(e,t,n){var a=Fr;if(a&&typeof t=="string"&&t){var i=$n(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Vm.has(i)||(Vm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),It(t,"link",e),Ut(t),a.head.appendChild(t)))}}function WS(e){Oa.D(e),zp("dns-prefetch",e,null)}function ex(e,t){Oa.C(e,t),zp("preconnect",e,t)}function tx(e,t,n){Oa.L(e,t,n);var a=Fr;if(a&&e&&t){var i='link[rel="preload"][as="'+$n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+$n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+$n(n.imageSizes)+'"]')):i+='[href="'+$n(e)+'"]';var r=i;switch(t){case"style":r=Hr(e);break;case"script":r=Wr(e)}Yn.has(r)||(e=ut({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yn.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(wl(r))||t==="script"&&a.querySelector(Sl(r))||(t=a.createElement("link"),It(t,"link",e),Ut(t),a.head.appendChild(t)))}}function nx(e,t){Oa.m(e,t);var n=Fr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+$n(a)+'"][href="'+$n(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Wr(e)}if(!Yn.has(r)&&(e=ut({rel:"modulepreload",href:e},t),Yn.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sl(r)))return}a=n.createElement("link"),It(a,"link",e),Ut(a),n.head.appendChild(a)}}}function ax(e,t,n){Oa.S(e,t,n);var a=Fr;if(a&&e){var i=Sr(a).hoistableStyles,r=Hr(e);t=t||"default";var s=i.get(r);if(!s){var l={loading:0,preload:null};if(s=a.querySelector(wl(r)))l.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yn.get(r))&&Ph(e,n);var o=s=a.createElement("link");Ut(o),It(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,bo(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(r,s)}}}function ix(e,t){Oa.X(e,t);var n=Fr;if(n&&e){var a=Sr(n).hoistableScripts,i=Wr(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=ut({src:e,async:!0},t),(t=Yn.get(i))&&Fh(e,t),r=n.createElement("script"),Ut(r),It(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function rx(e,t){Oa.M(e,t);var n=Fr;if(n&&e){var a=Sr(n).hoistableScripts,i=Wr(e),r=a.get(i);r||(r=n.querySelector(Sl(i)),r||(e=ut({src:e,async:!0,type:"module"},t),(t=Yn.get(i))&&Fh(e,t),r=n.createElement("script"),Ut(r),It(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Im(e,t,n,a){var i=(i=Xa.current)?Jo(i):null;if(!i)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Hr(n.href),n=Sr(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Hr(n.href);var r=Sr(i).hoistableStyles,s=r.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=i.querySelector(wl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),Yn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yn.set(e,n),r||sx(i,e,n,s.state))),t&&a===null)throw Error(M(528,""));return s}if(t&&a!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wr(n),n=Sr(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function Hr(e){return'href="'+$n(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function $p(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function sx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),It(t,"link",n),Ut(t),e.head.appendChild(t))}function Wr(e){return'[src="'+$n(e)+'"]'}function Sl(e){return"script[async]"+e}function Gm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$n(n.href)+'"]');if(a)return t.instance=a,Ut(a),a;var i=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ut(a),It(a,"style",i),bo(a,n.precedence,e),t.instance=a;case"stylesheet":i=Hr(n.href);var r=e.querySelector(wl(i));if(r)return t.state.loading|=4,t.instance=r,Ut(r),r;a=$p(n),(i=Yn.get(i))&&Ph(a,i),r=(e.ownerDocument||e).createElement("link"),Ut(r);var s=r;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),It(r,"link",a),t.state.loading|=4,bo(r,n.precedence,e),t.instance=r;case"script":return r=Wr(n.src),(i=e.querySelector(Sl(r)))?(t.instance=i,Ut(i),i):(a=n,(i=Yn.get(r))&&(a=ut({},n),Fh(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ut(i),It(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,bo(a,n.precedence,e));return t.instance}function bo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,s=0;s<a.length;s++){var l=a[s];if(l.dataset.precedence===t)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _o=null;function Km(e,t,n){if(_o===null){var a=new Map,i=_o=new Map;i.set(n,a)}else i=_o,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[gl]||r[qt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var l=a.get(s);l?l.push(r):a.set(s,[r])}}return a}function Xm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ox(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Hr(a.href),r=t.querySelector(wl(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Ut(r);return}r=t.ownerDocument||t,a=$p(a),(i=Yn.get(i))&&Ph(a,i),r=r.createElement("link"),Ut(r);var s=r;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),It(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Nu=0;function cx(e,t){return e.stylesheets&&e.count===0&&wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Nu===0&&(Nu=62500*VS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Nu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Zo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Po=null;function wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Po=new Map,t.forEach(ux,e),Po=null,Zo.call(e))}function ux(e,t){if(!(t.state.loading&4)){var n=Po.get(e);if(n)var a=n.get(null);else{n=new Map,Po.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var s=i[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),r=n.get(s)||a,r===a&&n.set(null,i),n.set(s,i),this.count++,a=Zo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var al={$$typeof:ya,Provider:null,Consumer:null,_currentValue:Oi,_currentValue2:Oi,_threadCount:0};function dx(e,t,n,a,i,r,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Lp(e,t,n,a,i,r,s,l,o,u,d,f){return e=new dx(e,t,n,s,o,u,d,f,l),t=1,r===!0&&(t|=24),r=bn(3,null,null,t),e.current=r,r.stateNode=e,t=Eh(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Oh(r),e}function Hp(e){return e?(e=vr,e):vr}function qp(e,t,n,a,i,r){i=Hp(i),a.context===null?a.context=i:a.pendingContext=i,a=Ja(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Za(e,a,t),n!==null&&(un(n,e,t),As(n,e,t))}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wh(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function Yp(e){if(e.tag===13||e.tag===31){var t=qi(e,67108864);t!==null&&un(t,e,67108864),Wh(e,67108864)}}function Jm(e){if(e.tag===13||e.tag===31){var t=jn();t=uh(t);var n=qi(e,t);n!==null&&un(n,e,t),Wh(e,t)}}var Fo=!0;function hx(e,t,n,a){var i=oe.T;oe.T=null;var r=$e.p;try{$e.p=2,ef(e,t,n,a)}finally{$e.p=r,oe.T=i}}function fx(e,t,n,a){var i=oe.T;oe.T=null;var r=$e.p;try{$e.p=8,ef(e,t,n,a)}finally{$e.p=r,oe.T=i}}function ef(e,t,n,a){if(Fo){var i=$d(a);if(i===null)Ou(e,t,a,Wo,n),Zm(e,a);else if(gx(i,e,t,n,a))a.stopPropagation();else if(Zm(e,a),t&4&&-1<mx.indexOf(e)){for(;i!==null;){var r=Qr(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=_i(r.pendingLanes);if(s!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-Tn(s);l.entanglements[1]|=o,s&=~o}ra(r),!(ze&6)&&(Yo=xn()+500,_l(0))}}break;case 31:case 13:l=qi(r,2),l!==null&&un(l,r,2),Nc(),Wh(r,2)}if(r=$d(a),r===null&&Ou(e,t,a,Wo,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else Ou(e,t,a,null,n)}}function $d(e){return e=mh(e),tf(e)}var Wo=null;function tf(e){if(Wo=null,e=dr(e),e!==null){var t=dl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=oy(t),e!==null)return e;e=null}else if(n===31){if(e=cy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wo=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W_()){case fy:return 2;case my:return 8;case Do:case ew:return 32;case gy:return 268435456;default:return 32}default:return 32}}var Bd=!1,Wa=null,ei=null,ti=null,il=new Map,rl=new Map,La=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function ps(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Qr(t),t!==null&&Yp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gx(e,t,n,a,i){switch(t){case"focusin":return Wa=ps(Wa,e,t,n,a,i),!0;case"dragenter":return ei=ps(ei,e,t,n,a,i),!0;case"mouseover":return ti=ps(ti,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return il.set(r,ps(il.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,rl.set(r,ps(rl.get(r)||null,e,t,n,a,i)),!0}return!1}function Ip(e){var t=dr(e.target);if(t!==null){var n=dl(t);if(n!==null){if(t=n.tag,t===13){if(t=oy(n),t!==null){e.blockedOn=t,kf(e.priority,function(){Jm(n)});return}}else if(t===31){if(t=cy(n),t!==null){e.blockedOn=t,kf(e.priority,function(){Jm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$d(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);nd=a,n.target.dispatchEvent(a),nd=null}else return t=Qr(n),t!==null&&Yp(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){So(e)&&n.delete(t)}function yx(){Bd=!1,Wa!==null&&So(Wa)&&(Wa=null),ei!==null&&So(ei)&&(ei=null),ti!==null&&So(ti)&&(ti=null),il.forEach(Pm),rl.forEach(Pm)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Bd||(Bd=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,yx)))}var Kl=null;function Fm(e){Kl!==e&&(Kl=e,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(tf(a||n)===null)continue;break}var r=Qr(n);r!==null&&(e.splice(t,3),t-=3,pd(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function qr(e){function t(o){return Gl(o,e)}Wa!==null&&Gl(Wa,e),ei!==null&&Gl(ei,e),ti!==null&&Gl(ti,e),il.forEach(t),rl.forEach(t);for(var n=0;n<La.length;n++){var a=La[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<La.length&&(n=La[0],n.blockedOn===null);)Ip(n),n.blockedOn===null&&La.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],s=i[dn]||null;if(typeof r=="function")s||Fm(n);else if(s){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,s=r[dn]||null)l=s.formAction;else if(tf(i)!==null)continue}else l=s.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Fm(n)}}}function Gp(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function nf(e){this._internalRoot=e}Rc.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,a=jn();qp(n,a,e,t,null,null)};Rc.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qp(e.current,2,null,e,null,null),Nc(),t[Xr]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_y();e={blockedOn:null,target:e,priority:t};for(var n=0;n<La.length&&t!==0&&t<La[n].priority;n++);La.splice(n,0,e),n===0&&Ip(e)}};var Wm=sy.version;if(Wm!=="19.2.0")throw Error(M(527,Wm,"19.2.0"));$e.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=K_(t),e=e!==null?uy(e):null,e=e===null?null:e.stateNode,e};var vx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{hl=Xl.inject(vx),En=Xl}catch{}}gc.createRoot=function(e,t){if(!ly(e))throw Error(M(299));var n=!1,a="",i=zv,r=$v,s=Bv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lp(e,1,!1,null,null,n,a,null,i,r,s,Gp),e[Xr]=t.current,Zh(e),new nf(t)};gc.hydrateRoot=function(e,t,n){if(!ly(e))throw Error(M(299));var a=!1,i="",r=zv,s=$v,l=Bv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Lp(e,1,!0,t,n??null,a,i,o,r,s,l,Gp),t.context=Hp(null),n=t.current,a=jn(),a=uh(a),i=Ja(a),i.callback=null,Za(n,i,a),n=a,t.current.lanes=n,ml(t,n),ra(t),e[Xr]=t.current,Zh(e),new Rc(t)};gc.version="19.2.0";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),ey.exports=gc;var px=ey.exports,Ld=function(e,t){return Ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Ld(e,t)};function Xp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ld(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ec=function(){return ec=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)};function es(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Qp(e,t,n,a){var i=arguments.length,r=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function Jp(e,t){return function(n,a){t(n,a,e)}}function Zp(e,t,n,a,i,r){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),f,m=!1,h=n.length-1;h>=0;h--){var p={};for(var b in a)p[b]=b==="access"?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");r.push(s(v||null))};var T=(0,n[h])(l==="accessor"?{get:d.get,set:d.set}:d[o],p);if(l==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(f=s(T.get))&&(d.get=f),(f=s(T.set))&&(d.set=f),(f=s(T.init))&&i.unshift(f)}else(f=s(T))&&(l==="field"?i.unshift(f):d[o]=f)}u&&Object.defineProperty(u,a.name,d),m=!0}function Pp(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function Fp(e){return typeof e=="symbol"?e:"".concat(e)}function Wp(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function e0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Z(e,t,n,a){function i(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(d){try{u(a.next(d))}catch(f){s(f)}}function o(d){try{u(a.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):i(d.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function t0(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,i,r,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return o([u,d])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(r=u[0]&2?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{a=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Mc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function n0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Mc(t,e,n)}function tc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function af(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,r=[],s;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)r.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return r}function a0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(af(arguments[t]));return e}function i0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],s=0,l=r.length;s<l;s++,i++)a[i]=r[s];return a}function r0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,r;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Yr(e){return this instanceof Yr?(this.v=e,this):new Yr(e)}function s0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,f)}}function l(h,p){a[h]&&(i[h]=function(b){return new Promise(function(T,v){r.push([h,b,T,v])>1||o(h,b)})},p&&(i[h]=p(i[h])))}function o(h,p){try{u(a[h](p))}catch(b){m(r[0][3],b)}}function u(h){h.value instanceof Yr?Promise.resolve(h.value.v).then(d,f):m(r[0][2],h)}function d(h){o("next",h)}function f(h){o("throw",h)}function m(h,p){h(p),r.shift(),r.length&&o(r[0][0],r[0][1])}}function l0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,r){t[i]=e[i]?function(s){return(n=!n)?{value:Yr(e[i](s)),done:!1}:r?r(s):s}:r}}function o0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof tc=="function"?tc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(r){n[r]=e[r]&&function(s){return new Promise(function(l,o){s=e[r](s),i(l,o,s.done,s.value)})}}function i(r,s,l,o){Promise.resolve(o).then(function(u){r({value:u,done:l})},s)}}function c0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Hd=function(e){return Hd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Hd(e)};function u0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Hd(e),a=0;a<n.length;a++)n[a]!=="default"&&Mc(t,e,n[a]);return bx(t,e),t}function d0(e){return e&&e.__esModule?e:{default:e}}function h0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function f0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function m0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function g0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var _x=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function y0(e){function t(r){e.error=e.hasError?new _x(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(r).then(i,function(s){return t(s),i()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function v0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,r,s){return a?t?".jsx":".js":i&&(!r||!s)?n:i+r+"."+s.toLowerCase()+"js"}):e}const wx={__extends:Xp,__assign:ec,__rest:es,__decorate:Qp,__param:Jp,__esDecorate:Zp,__runInitializers:Pp,__propKey:Fp,__setFunctionName:Wp,__metadata:e0,__awaiter:Z,__generator:t0,__createBinding:Mc,__exportStar:n0,__values:tc,__read:af,__spread:a0,__spreadArrays:i0,__spreadArray:r0,__await:Yr,__asyncGenerator:s0,__asyncDelegator:l0,__asyncValues:o0,__makeTemplateObject:c0,__importStar:u0,__importDefault:d0,__classPrivateFieldGet:h0,__classPrivateFieldSet:f0,__classPrivateFieldIn:m0,__addDisposableResource:g0,__disposeResources:y0,__rewriteRelativeImportExtension:v0},Sx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:g0,get __assign(){return ec},__asyncDelegator:l0,__asyncGenerator:s0,__asyncValues:o0,__await:Yr,__awaiter:Z,__classPrivateFieldGet:h0,__classPrivateFieldIn:m0,__classPrivateFieldSet:f0,__createBinding:Mc,__decorate:Qp,__disposeResources:y0,__esDecorate:Zp,__exportStar:n0,__extends:Xp,__generator:t0,__importDefault:d0,__importStar:u0,__makeTemplateObject:c0,__metadata:e0,__param:Jp,__propKey:Fp,__read:af,__rest:es,__rewriteRelativeImportExtension:v0,__runInitializers:Pp,__setFunctionName:Wp,__spread:a0,__spreadArray:r0,__spreadArrays:i0,__values:tc,default:wx},Symbol.toStringTag,{value:"Module"})),xx="modulepreload",Ex=function(e){return"/todo-note/"+e},eg={},ts=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=Ex(o),o in eg)return;eg[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xx,u||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Tx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ts(async()=>{const{default:a}=await Promise.resolve().then(()=>Vi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class rf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class tg extends rf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ng extends rf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ag extends rf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qd||(qd={}));class jx{constructor(t,{headers:n={},customFetch:a,region:i=qd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Tx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:r,method:s,body:l,signal:o}=a;let u={},{region:d}=a;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const h=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:m,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new tg(v)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new ng(h);if(!h.ok)throw new ag(h);let b=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield h.json():b==="application/octet-stream"||b==="application/pdf"?T=yield h.blob():b==="text/event-stream"?T=h:b==="multipart/form-data"?T=yield h.formData():T=yield h.text(),{data:T,error:null,response:h}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new tg(r)}:{data:null,error:r,response:r instanceof ag||r instanceof ng?r.context:void 0}}})}}var tn={};const ns=Ig(Sx);var Ql={},Jl={},Zl={},Pl={},Fl={},Ox=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vr=Ox();const Dx=Vr.fetch,p0=Vr.fetch.bind(Vr),b0=Vr.Headers,Nx=Vr.Request,Ax=Vr.Response,Vi=Object.freeze(Object.defineProperty({__proto__:null,Headers:b0,Request:Nx,Response:Ax,default:p0,fetch:Dx},Symbol.toStringTag,{value:"Module"})),Cx=Ig(Vi);var Wl={},ig;function _0(){if(ig)return Wl;ig=1,Object.defineProperty(Wl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wl.default=e,Wl}var rg;function w0(){if(rg)return Fl;rg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const e=ns,t=e.__importDefault(Cx),n=e.__importDefault(_0());class a{constructor(r){var s,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(s=r.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=r.signal,this.isMaybeSingle=(l=r.isMaybeSingle)!==null&&l!==void 0?l:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,s){return this.headers=new Headers(this.headers),this.headers.set(r,s),this}then(r,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,h;let p=null,b=null,T=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const x=await u.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=x:b=JSON.parse(x))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&S&&S.length>1&&(T=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,v=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await u.text();try{p=JSON.parse(E),Array.isArray(p)&&u.status===404&&(b=[],p=null,v=200,g="OK")}catch{u.status===404&&E===""?(v=204,g="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:b,count:T,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var d,f,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(r,s)}returns(){return this}overrideTypes(){return this}}return Fl.default=a,Fl}var sg;function S0(){if(sg)return Pl;sg=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=ns.__importDefault(w0());class n extends t.default{select(i){let r=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:s,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:s=r}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,r,{foreignTable:s,referencedTable:l=s}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(u,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:s=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,r?"verbose":null,s?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Pl.default=n,Pl}var lg;function sf(){if(lg)return Zl;lg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const t=ns.__importDefault(S0()),n=new RegExp("[,()]");class a extends t.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const l=Array.from(new Set(s)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${l})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(r,s,l){return this.url.searchParams.append(r,`not.${s}.${l}`),this}or(r,{foreignTable:s,referencedTable:l=s}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,s,l){return this.url.searchParams.append(r,`${s}.${l}`),this}}return Zl.default=a,Zl}var og;function x0(){if(og)return Jl;og=1,Object.defineProperty(Jl,"__esModule",{value:!0});const t=ns.__importDefault(sf());class n{constructor(i,{headers:r={},schema:s,fetch:l}){this.url=i,this.headers=new Headers(r),this.schema=s,this.fetch=l}select(i,r){const{head:s=!1,count:l}=r??{},o=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:s=!0}={}){var l;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:s=!1,count:l,defaultToNull:o=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:r}={}){var s;const l="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var r;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Jl.default=n,Jl}var cg;function Rx(){if(cg)return Ql;cg=1,Object.defineProperty(Ql,"__esModule",{value:!0});const e=ns,t=e.__importDefault(x0()),n=e.__importDefault(sf());class a{constructor(r,{headers:s={},schema:l,fetch:o}={}){this.url=r,this.headers=new Headers(s),this.schemaName=l,this.fetch=o}from(r){const s=new URL(`${this.url}/${r}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new a(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:l=!1,get:o=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${r}`);let h;l||o?(f=l?"HEAD":"GET",Object.entries(s).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{m.searchParams.append(b,T)})):(f="POST",h=s);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:f,url:m,headers:p,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ql.default=a,Ql}Object.defineProperty(tn,"__esModule",{value:!0});var E0=tn.PostgrestError=k0=tn.PostgrestBuilder=R0=tn.PostgrestTransformBuilder=A0=tn.PostgrestFilterBuilder=D0=tn.PostgrestQueryBuilder=j0=tn.PostgrestClient=void 0;const as=ns,T0=as.__importDefault(Rx());var j0=tn.PostgrestClient=T0.default;const O0=as.__importDefault(x0());var D0=tn.PostgrestQueryBuilder=O0.default;const N0=as.__importDefault(sf());var A0=tn.PostgrestFilterBuilder=N0.default;const C0=as.__importDefault(S0());var R0=tn.PostgrestTransformBuilder=C0.default;const M0=as.__importDefault(w0());var k0=tn.PostgrestBuilder=M0.default;const U0=as.__importDefault(_0());E0=tn.PostgrestError=U0.default;var z0=tn.default={PostgrestClient:T0.default,PostgrestQueryBuilder:O0.default,PostgrestFilterBuilder:N0.default,PostgrestTransformBuilder:C0.default,PostgrestBuilder:M0.default,PostgrestError:U0.default};const Mx=w_({__proto__:null,get PostgrestBuilder(){return k0},get PostgrestClient(){return j0},get PostgrestError(){return E0},get PostgrestFilterBuilder(){return A0},get PostgrestQueryBuilder(){return D0},get PostgrestTransformBuilder(){return R0},default:z0},[tn]),{PostgrestClient:kx,PostgrestQueryBuilder:yO,PostgrestFilterBuilder:vO,PostgrestTransformBuilder:pO,PostgrestBuilder:bO,PostgrestError:_O}=z0||Mx;class Ux{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zx="2.78.0",$x=`realtime-js/${zx}`,Bx="1.0.0",Yd=1e4,Lx=1e3,Hx=100;var Ls;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ls||(Ls={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var Qn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qn||(Qn={}));var Vd;(function(e){e.websocket="websocket"})(Vd||(Vd={}));var Ei;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ei||(Ei={}));class qx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),r=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=a.decode(t.slice(s,s+i));s=s+i;const o=a.decode(t.slice(s,s+r));s=s+r;const u=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class $0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const ug=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=Yx(s,e,t,i),r),{}):{}},Yx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),r=i==null?void 0:i.type,s=n[e];return r&&!a.includes(r)?B0(r,s):Id(s)},B0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Kx(t,n)}switch(e){case at.bool:return Vx(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return Ix(t);case at.json:case at.jsonb:return Gx(t);case at.timestamp:return Xx(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Id(t);default:return Id(t)}},Id=e=>e,Vx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ix=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch{r=s?s.split(","):[]}return r.map(l=>B0(t,l))}return e},Xx=e=>typeof e=="string"?e.replace(" ","T"):e,L0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Au{constructor(t,n,a={},i=Yd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dg||(dg={}));class Hs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hs.syncState(this.state,i,r,s),this.pendingDiffs.forEach(o=>{this.state=Hs.syncDiff(this.state,o,r,s)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hs.syncDiff(this.state,i,r,s),l())}),this.onJoin((i,r,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:s})}),this.onLeave((i,r,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const r=this.cloneDeep(t),s=this.transformState(n),l={},o={};return this.map(r,(u,d)=>{s[u]||(o[u]=d)}),this.map(s,(u,d)=>{const f=r[u];if(f){const m=d.map(T=>T.presence_ref),h=f.map(T=>T.presence_ref),p=d.filter(T=>h.indexOf(T.presence_ref)<0),b=f.filter(T=>m.indexOf(T.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(o[u]=b)}else l[u]=d}),this.syncDiff(r,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:r,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(r,(l,o)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),d.length>0){const f=t[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...m)}a(l,d,o)}),this.map(s,(l,o)=>{let u=t[l];if(!u)return;const d=o.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hg||(hg={}));var qs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qs||(qs={}));var fa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fa||(fa={}));class lf{constructor(t,n={config:{}},a){var i,r;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Au(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new $0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Hs(this),this.broadcastEndpointURL=L0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:s,presence:l,private:o}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[qs.PRESENCE]&&this.bindings[qs.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,f={},m={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(fa.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(fa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(fa.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,T=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<T;g++){const y=b[g],{filter:{event:E,schema:S,table:x,filter:w}}=y,j=h&&h[g];if(j&&j.event===E&&j.schema===S&&j.table===x&&j.filter===w)v.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Nt.errored,t==null||t(fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fa.SUBSCRIBED);return}}).receive("error",h=>{this.state=Nt.errored,t==null||t(fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Nt.joined&&t===qs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:s}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var s,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Au(this,Qn.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,r=setTimeout(()=>i.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),s}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Au(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,r;const s=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:d}=Qn;if(a&&[l,o,u,d].indexOf(s)>=0&&a!==this._joinRef())return;let m=this._onMessage(s,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,b,T;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((T=(b=h.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(h=>h.callback(m,a)):(r=this.bindings[s])===null||r===void 0||r.filter(h=>{var p,b,T,v,g,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const E=h.id,S=(p=h.filter)===null||p===void 0?void 0:p.event;return E&&((b=n.ids)===null||b===void 0?void 0:b.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const E=(g=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return E==="*"||E===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:b,table:T,commit_timestamp:v,type:g,errors:y}=p;m=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(p))}h.callback(m,a)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===a&&lf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qn.close,{},t)}_onError(t){this._on(Qn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ug(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ug(t.columns,t.old_record)),n}}const Cu=()=>{},eo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qx=[1e3,2e3,5e3,1e4],Jx=1e4,Zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Px{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yd,this.transport=null,this.heartbeatIntervalMs=eo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cu,this.ref=0,this.reconnectTimer=null,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new qx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...s)=>ts(async()=>{const{default:l}=await Promise.resolve().then(()=>Vi);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...s)=>r(...s)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Vd.websocket}`,this.httpEndpoint=L0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ux.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return Ei.Connecting;case Ls.open:return Ei.Open;case Ls.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===a);if(i)return i;{const r=new lf(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:a,payload:i,ref:r}=t,s=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${r})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},eo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:r,ref:s}=n,l=s?`(${s})`:"",o=r.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),r),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,r,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Zx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:$x};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Qn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new $0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,r,s,l,o,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Yd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:eo.HEARTBEAT_INTERVAL,this.worker=(r=t==null?void 0:t.worker)!==null&&r!==void 0?r:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Cu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:f=>Qx[f-1]||Jx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class of extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fx extends of{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gd extends of{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const cf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ts(async()=>{const{default:a}=await Promise.resolve().then(()=>Vi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Wx=()=>Z(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ts(()=>Promise.resolve().then(()=>Vi),void 0)).Response:Response}),Kd=e=>{if(Array.isArray(e))return e.map(n=>Kd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=Kd(a)}),t},e1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ru=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},t1=(e,t,n)=>Z(void 0,void 0,void 0,function*(){const a=yield Wx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const r=e.status||500,s=(i==null?void 0:i.statusCode)||r+"";t(new Fx(Ru(i),r,s))}).catch(i=>{t(new Gd(Ru(i),i))}):t(new Gd(Ru(e),e))}),n1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(e1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function xl(e,t,n,a,i,r){return Z(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,n1(t,a,i,r)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>s(o)).catch(o=>t1(o,l,a))})})}function sl(e,t,n,a){return Z(this,void 0,void 0,function*(){return xl(e,"GET",t,n,a)})}function Kn(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return xl(e,"POST",t,a,i,n)})}function Xd(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return xl(e,"PUT",t,a,i,n)})}function a1(e,t,n,a){return Z(this,void 0,void 0,function*(){return xl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function uf(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return xl(e,"DELETE",t,a,i,n)})}class i1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var H0;class r1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[H0]="BlobDownloadBuilder",this.promise=null}asStream(){return new i1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}H0=Symbol.toStringTag;const s1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l1{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=cf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return Z(this,void 0,void 0,function*(){try{let r;const s=Object.assign(Object.assign({},fg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&a instanceof Blob?(r=new FormData,r.append("cacheControl",s.cacheControl),o&&r.append("metadata",this.encodeMetadata(o)),r.append("",a)):typeof FormData<"u"&&a instanceof FormData?(r=a,r.append("cacheControl",s.cacheControl),o&&r.append("metadata",this.encodeMetadata(o))):(r=a,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Xd:Kn)(this.fetch,`${this.url}/object/${d}`,r,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}upload(t,n,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return Z(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),s=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:fg.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Xd(this.fetch,l.toString(),o,{headers:d});return{data:{path:r,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield Kn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),s=new URL(this.url+r.url),l=s.searchParams.get("token");if(!l)throw new of("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}update(t,n,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Z(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}copy(t,n,a){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield Kn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${s}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return Z(this,void 0,void 0,function*(){try{const i=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=r?`?${r}`:"",l=this._getFinalPath(t),o=()=>sl(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new r1(o,this.shouldThrowOnError)}info(t){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield sl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}exists(t){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield a1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a)&&a instanceof Gd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Z(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}list(t,n,a){return Z(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},s1),n),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}listV2(t,n){return Z(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const q0="2.78.0",Y0={"X-Client-Info":`storage-js/${q0}`};class o1{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const r=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y0),n),this.fetch=cf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield sl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}createBucket(t){return Z(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class c1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y0),n),this.fetch=cf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield sl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}const df={"X-Client-Info":`storage-js/${q0}`,"Content-Type":"application/json"};class V0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mu extends V0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class u1 extends V0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var mg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(mg||(mg={}));const hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ts(async()=>{const{default:a}=await Promise.resolve().then(()=>Vi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},d1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h1=(e,t,n)=>Z(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Mu(gg(s),i,l))}).catch(()=>{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Mu(l,i,s))});else{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Mu(l,i,s))}}else t(new u1(gg(e),e))}),f1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(d1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function m1(e,t,n,a,i,r){return Z(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,f1(t,a,i,r)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>s(o)).catch(o=>h1(o,l,a))})})}function wn(e,t,n,a,i){return Z(this,void 0,void 0,function*(){return m1(e,"POST",t,a,i,n)})}class g1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Z(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}listIndexes(t){return Z(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Z(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}}class y1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}queryVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class v1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),n),this.fetch=hf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listBuckets(){return Z(this,arguments,void 0,function*(t={}){try{return{data:yield wn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class p1 extends v1{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new b1(this.url,this.headers,t,this.fetch)}}class b1 extends g1{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _1 extends y1{constructor(t,n,a,i,r){super(t,n,r),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class w1 extends o1{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new l1(this.url,this.headers,t,this.fetch)}get vectors(){return new p1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new c1(this.url+"/iceberg",this.headers,this.fetch)}}const S1="2.78.0";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const x1={"X-Client-Info":`supabase-js-${Es}/${S1}`},E1={headers:x1},T1={schema:"public"},j1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O1={},D1=e=>{let t;return e?t=e:typeof fetch>"u"?t=p0:t=fetch,(...n)=>t(...n)},N1=()=>typeof Headers>"u"?b0:Headers,A1=(e,t,n)=>{const a=D1(n),i=N1();return async(r,s)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(r,Object.assign(Object.assign({},s),{headers:u}))}};function C1(e){return e.endsWith("/")?e:e+"/"}function R1(e,t){var n,a;const{db:i,auth:r,realtime:s,global:l}=e,{db:o,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function M1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const I0="2.78.0",sr=30*1e3,Qd=3,ku=Qd*sr,k1="http://localhost:9999",U1="supabase.auth.token",z1={"X-Client-Info":`gotrue-js/${I0}`},Jd="X-Supabase-Api-Version",G0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,B1=10*60*1e3;class ll extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L1 extends ll{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function H1(e){return W(e)&&e.name==="AuthApiError"}class Ti extends ll{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ci extends ll{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class In extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q1(e){return W(e)&&e.name==="AuthSessionMissingError"}class Fi extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class no extends ci{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y1(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class yg extends ci{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zd extends ci{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Uu(e){return W(e)&&e.name==="AuthRetryableFetchError"}class vg extends ci{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Pd extends ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pg=` 	
\r=`.split(""),V1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pg.length;t+=1)e[pg[t].charCodeAt(0)]=-2;for(let t=0;t<nc.length;t+=1)e[nc[t].charCodeAt(0)]=t;return e})();function bg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(nc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(nc[a]),t.queuedBits-=6}}function K0(e,t,n){const a=V1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _g(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=s=>{K1(s,a,n)};for(let s=0;s<e.length;s+=1)K0(e.charCodeAt(s),i,r);return t.join("")}function I1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function G1(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}I1(a,t)}}function K1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Nr(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)K0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function X1(e){const t=[];return G1(e,n=>t.push(n)),new Uint8Array(t)}function ji(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>bg(i,n,a)),bg(null,n,a),t.join("")}function Q1(e){return Math.round(Date.now()/1e3)+e}function J1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},X0=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function Z1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const Q0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ts(async()=>{const{default:a}=await Promise.resolve().then(()=>Vi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},P1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ra=async(e,t)=>{await e.removeItem(t)};class kc{constructor(){this.promise=new kc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kc.promiseConstructor=Promise;function zu(e){const t=e.split(".");if(t.length!==3)throw new Pd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!$1.test(t[a]))throw new Pd("JWT not in base64url format");return{header:JSON.parse(_g(t[0])),payload:JSON.parse(_g(t[1])),signature:Nr(t[2]),raw:{header:t[0],payload:t[1]}}}async function F1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W1(e,t){return new Promise((a,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const s=await e(r);if(!t(r,null,s)){a(s);return}}catch(s){if(!t(r,s)){i(s);return}}})()})}function eE(e){return("0"+e.toString(16)).substr(-2)}function tE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,eE).join("")}async function nE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function aE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wi(e,t,n=!1){const a=tE();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await lr(e,`${t}-code-verifier`,i);const r=await aE(a);return[r,a===r?"plain":"s256"]}const iE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rE(e){const t=e.headers.get(Jd);if(!t||!t.match(iE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function er(e){if(!oE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $u(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cE(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function wg(e){return JSON.parse(JSON.stringify(e))}const xi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uE=[502,503,504];async function Sg(e){var t;if(!P1(e))throw new Zd(xi(e),0);if(uE.includes(e.status))throw new Zd(xi(e),e.status);let n;try{n=await e.json()}catch(r){throw new Ti(xi(r),r)}let a;const i=rE(e);if(i&&i.getTime()>=G0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new vg(xi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new In}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0))throw new vg(xi(n),e.status,n.weak_password.reasons);throw new L1(xi(n),e.status||500,a)}const dE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function le(e,t,n,a){var i;const r=Object.assign({},a==null?void 0:a.headers);r[Jd]||(r[Jd]=G0["2024-01-01"].name),a!=null&&a.jwt&&(r.Authorization=`Bearer ${a.jwt}`);const s=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await hE(e,t,n+l,{headers:r,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function hE(e,t,n,a,i,r){const s=dE(t,a,i,r);let l;try{l=await e(n,Object.assign({},s))}catch(o){throw console.error(o),new Zd(xi(o),0)}if(l.ok||await Sg(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Sg(o)}}function Gn(e){var t;let n=null;gE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Q1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function xg(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ha(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fE(e){return{data:e,error:null}}function mE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r}=e,s=es(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r},o=Object.assign({},s);return{data:{properties:l,user:o},error:null}}function Eg(e){return e}function gE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bu=["global","local","others"];class yE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Q0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Bu[0]){if(Bu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ha})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=es(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ha})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,r,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Eg});if(d.error)throw d.error;const f=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(p.split(";")[1].split("=")[1]);u[`${T}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){er(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ha})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){er(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ha})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){er(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ha})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){er(t.userId);try{const{data:n,error:a}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(t){er(t.userId),er(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,r,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Eg});if(d.error)throw d.error;const f=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(p.split(";")[1].split("=")[1]);u[`${T}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(W(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}}function Tg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const tr={debug:!!(globalThis&&X0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vE extends J0{}async function pE(e,t,n){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tr.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _E(e){return parseInt(e,16)}function wE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function SE(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:r=new Date,nonce:s,notBefore:l,requestId:o,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Z0(e.address),p=d?`${d}://${a}`:a,b=e.statement?`${e.statement}
`:"",T=`${p} wants you to sign in with your Ethereum account:
${h}

${b}`;let v=`URI: ${f}
Version: ${m}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${r.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${T}
${v}`}class xt extends Error{constructor({message:t,code:n,cause:a,name:i}){var r;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(r=i??(a instanceof Error?a.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class ac extends xt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xE({error:e,options:t}){var n,a,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=r.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(P0(s)){if(r.rp.id!==s)return new xt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function EE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(P0(a)){if(n.rpId!==a)return new xt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class TE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jE=new TE;function OE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=es(e,["challenge","user","excludeCredentials"]),r=Nr(t).buffer,s=Object.assign(Object.assign({},n),{id:Nr(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:r,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Nr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function DE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=es(e,["challenge","allowCredentials"]),i=Nr(t).buffer,r=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];r.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Nr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return r}function NE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ji(new Uint8Array(e.response.attestationObject)),clientDataJSON:ji(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ji(new Uint8Array(i.authenticatorData)),clientDataJSON:ji(new Uint8Array(i.clientDataJSON)),signature:ji(new Uint8Array(i.signature)),userHandle:i.userHandle?ji(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function P0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function jg(){var e,t;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:xE({error:t,options:e})}}}async function RE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:EE({error:t,options:e})}}}const ME={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kE={userVerification:"preferred",hints:["security-key"]};function ic(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const r in i){const s=i[r];if(s!==void 0)if(Array.isArray(s))a[r]=s;else if(n(s))a[r]=s;else if(t(s)){const l=a[r];t(l)?a[r]=ic(l,s):a[r]=ic(s)}else a[r]=s}return a}function UE(e,t){return ic(ME,e,t||{})}function zE(e,t){return ic(kE,e,t||{})}class $E{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},r){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const o=i??jE.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=UE(s.webauthn.credential_options.publicKey,r==null?void 0:r.create),{data:d,error:f}=await CE({publicKey:u,signal:o});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=zE(s.webauthn.credential_options.publicKey,r==null?void 0:r.request),{data:d,error:f}=await RE(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:o}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return W(s)?{data:null,error:s}:{data:null,error:new Ti("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!jg())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:r});if(!s)return{data:null,error:l};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(s){return W(s)?{data:null,error:s}:{data:null,error:new Ti("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!jg())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:r});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(s){return W(s)?{data:null,error:s}:{data:null,error:new Ti("Unexpected error in register",s)}}}}bE();const BE={url:k1,storageKey:U1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:z1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Og(e,t,n){return await n()}const nr={};class ol{get jwks(){var t,n;return(n=(t=nr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=nr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ol.nextInstanceID,ol.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},BE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Q0(i.fetch),this.lock=i.lock||Og,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pE:this.lock=Og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $E(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:X0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Z1(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Wt()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,a);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Y1(r)){const o=(t=r.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?{error:n}:{error:new Ti("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gn}),{data:s,error:l}=r;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,a,i;try{let r;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Wi(this.storage,this.storageKey)),r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:p},xform:Gn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gn})}else throw new to("You must provide either an email or phone number and a password");const{data:s,error:l}=r;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:s,options:l}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xg})}else if("phone"in t){const{phone:r,password:s,options:l}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xg})}else throw new to("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Fi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,r,s,l,o,u,d,f,m;let h,p;if("message"in t)h=t.message,p=t.signature;else{const{chain:b,wallet:T,statement:v,options:g}=t;let y;if(Wt())if(typeof T=="object")y=T;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")y=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=T}const E=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Z0(S[0]);let w=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!w){const O=await y.request({method:"eth_chainId"});w=_E(O)}const j={domain:E.host,address:x,statement:v,uri:E.href,version:"1",chainId:w,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=SE(j),p=await y.request({method:"personal_sign",params:[wE(h),x]})}try{const{data:b,error:T}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gn});if(T)throw T;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Fi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:T})}catch(b){if(W(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,a,i,r,s,l,o,u,d,f,m,h;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:T,wallet:v,statement:g,options:y}=t;let E;if(Wt())if(typeof v=="object")E=v;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let w;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")w=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)w=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)p=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),b=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=x}}try{const{data:T,error:v}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:ji(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gn});if(v)throw v;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Fi}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:v})}catch(T){if(W(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await vi(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:r,error:s}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Gn});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Fi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:s})}catch(r){if(W(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:r,nonce:s}=t,l=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:r,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Fi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,r,s;try{if("email"in t){const{email:l,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wi(this.storage,this.storageKey));const{error:f}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(r=o==null?void 0:o.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new to("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:l}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Gn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,u=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let r=null,s=null;return this.flowType==="pkce"&&([r,s]=await Wi(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:s}),headers:this.headers,xform:fE})}catch(r){if(W(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new In;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:r}=t,{error:s}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:a,type:i,options:r}=t,{data:s,error:l}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new to("You must provide either an email or phone number and a type")}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ku:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await vi(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=$u()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=cE(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ha}):await this._useSession(async n=>{var a,i,r;const{data:s,error:l}=n;if(l)throw l;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new In}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Ha})})}catch(n){if(W(n))return q1(n)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:r}=a;if(r)throw r;if(!i.session)throw new In;const s=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Wi(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:s.access_token,xform:Ha});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new In;const n=Date.now()/1e3;let a=n,i=!0,r=null;const{payload:s}=zu(t.access_token);if(s.exp&&(a=s.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;r={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(W(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new In;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Wt())throw new no("No browser detected.");if(t.error||t.error_description||t.error_code)throw new no(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new no("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:r,refresh_token:s,expires_in:l,expires_at:o,token_type:u}=t;if(!r||!l||!s||!u)throw new no("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;o&&(m=parseInt(o));const h=m-d;h*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=m-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:b,error:T}=await this._getUser(r);if(T)throw T;const v={provider_token:a,provider_refresh_token:i,access_token:r,expires_in:f,expires_at:m,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(W(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{error:r};const s=(a=i.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(H1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=J1(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:r},error:s}=n;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Wi(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(W(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async r=>{var s,l,o,u,d;const{data:f,error:m}=r;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(W(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:s,provider:l,token:o,access_token:u,nonce:d}=t,f=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=r==null?void 0:r.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gn}),{data:m,error:h}=f;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Fi}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)throw s;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await W1(async i=>(i>0&&await F1(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(i,r)=>{const s=200*Math.pow(2,i);return r&&Uu(r)&&Date.now()+s-a<sr})}catch(a){if(this._debug(n,"error",a),W(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Wt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await vi(this.storage,this.storageKey);if(i&&this.userStorage){let s=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await lr(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:$u()}else if(i&&!i.user&&!i.user){const s=await vi(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ra(this.storage,this.storageKey+"-user"),await lr(this.storage,this.storageKey,i)):i.user=$u()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ku;if(this._debug(a,`session has${r?"":" not"} expired with margin of ${ku}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Uu(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new In;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kc;const{data:r,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!r.session)throw new In;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={data:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(i,"error",r),W(r)){const s={data:null,error:r};return Uu(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){r.push(o)}});if(await Promise.all(s),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await lr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=wg(i);await lr(this.storage,this.storageKey,r)}else{const i=wg(n);await lr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sr}ms, refresh threshold is ${Qd} ticks`),i<=Qd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof J0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[r,s]=await Wi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const r=new URLSearchParams(a.queryParams);i.push(r.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;return r?{data:null,error:r}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{data:null,error:r};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NE(t.webauthn.credential_response):AE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return{data:null,error:r};const s=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=zu(a.access_token);let s=null;r.aal&&(s=r.aal);let l=s;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=r.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:r=>({data:r,error:null})}):{data:null,error:new In}})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return{data:null,error:r};if(!i)return{data:null,error:new In};const s=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(W(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return{data:null,error:r};if(!i)return{data:null,error:new In};const s=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(W(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+B1>i)return a;const{data:r,error:s}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,a=r.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};a=h.session.access_token}const{header:i,payload:r,signature:s,raw:{header:l,payload:o}}=zu(a);n!=null&&n.allowExpired||sE(r.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(a);if(h)throw h;return{data:{claims:r,header:i,signature:s},error:null}}const d=lE(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,X1(`${l}.${o}`)))throw new Pd("Invalid JWT signature");return{data:{claims:r,header:i,signature:s},error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}}ol.nextInstanceID=0;const LE=ol;class HE extends LE{constructor(t){super(t)}}class qE{constructor(t,n,a){var i,r,s;this.supabaseUrl=t,this.supabaseKey=n;const l=M1(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:T1,realtime:O1,auth:Object.assign(Object.assign({},j1),{storageKey:o}),global:E1},d=R1(a??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=A1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new w1(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new jx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,storageKey:s,flowType:l,lock:o,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HE({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,flowType:l,lock:o,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Px(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YE=(e,t,n)=>new qE(e,t,n);function VE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}VE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IE="https://vqpubtahhvtkftafdlrp.supabase.co",GE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",he=YE(IE,GE);function KE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const Uc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function is(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ff(e){return"nodeType"in e}function rn(e){var t,n;return e?is(e)?e:ff(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mf(e){const{Document:t}=rn(e);return e instanceof t}function El(e){return is(e)?!1:e instanceof rn(e).HTMLElement}function F0(e){return e instanceof rn(e).SVGElement}function rs(e){return e?is(e)?e.document:ff(e)?mf(e)?e:El(e)||F0(e)?e.ownerDocument:document:document:document}const Jn=Uc?_.useLayoutEffect:_.useEffect;function zc(e){const t=_.useRef(e);return Jn(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function XE(){const e=_.useRef(null),t=_.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function cl(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return Jn(()=>{n.current!==e&&(n.current=e)},t),n}function Tl(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function rc(e){const t=zc(e),n=_.useRef(null),a=_.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function sc(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Lu={};function jl(e,t){return _.useMemo(()=>{if(t)return t;const n=Lu[e]==null?0:Lu[e]+1;return Lu[e]=n,e+"-"+n},[e,t])}function W0(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((r,s)=>{const l=Object.entries(s);for(const[o,u]of l){const d=r[o];d!=null&&(r[o]=d+e*u)}return r},{...t})}}const Ar=W0(1),ul=W0(-1);function QE(e){return"clientX"in e&&"clientY"in e}function $c(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function JE(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function lc(e){if(JE(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QE(e)?{x:e.clientX,y:e.clientY}:null}const si=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[si.Translate.toString(e),si.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Dg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZE(e){return e.matches(Dg)?e:e.querySelector(Dg)}const PE={display:"none"};function FE(e){let{id:t,value:n}=e;return it.createElement("div",{id:t,style:PE},n)}function WE(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return it.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function eT(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const eb=_.createContext(null);function tT(e){const t=_.useContext(eb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function nT(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:i,event:r}=a;e.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,r)})},[e]),t]}const aT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},iT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function rT(e){let{announcements:t=iT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=aT}=e;const{announce:r,announcement:s}=eT(),l=jl("DndLiveRegion"),[o,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),tT(_.useMemo(()=>({onDragStart(f){let{active:m}=f;r(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;t.onDragMove&&r(t.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;r(t.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;r(t.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;r(t.onDragCancel({active:m,over:h}))}}),[r,t])),!o)return null;const d=it.createElement(it.Fragment,null,it.createElement(FE,{id:a,value:i.draggable}),it.createElement(WE,{id:l,announcement:s}));return n?or.createPortal(d,n):d}var At;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(At||(At={}));function oc(){}function qa(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function cc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Zn=Object.freeze({x:0,y:0});function tb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sT(e,t){const n=lc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function nb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function lT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Ng(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function ab(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ag(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const uc=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ag(t,t.left,t.top),r=[];for(const s of a){const{id:l}=s,o=n.get(l);if(o){const u=tb(Ag(o),i);r.push({id:l,data:{droppableContainer:s,value:u}})}}return r.sort(nb)},oT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ng(t),r=[];for(const s of a){const{id:l}=s,o=n.get(l);if(o){const u=Ng(o),d=i.reduce((m,h,p)=>m+tb(u[p],h),0),f=Number((d/4).toFixed(4));r.push({id:l,data:{droppableContainer:s,value:f}})}}return r.sort(nb)};function cT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),r=Math.min(t.top+t.height,e.top+e.height),s=i-a,l=r-n;if(a<i&&n<r){const o=t.width*t.height,u=e.width*e.height,d=s*l,f=d/(o+u-d);return Number(f.toFixed(4))}return 0}const uT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const r of a){const{id:s}=r,l=n.get(s);if(l){const o=cT(l,t);o>0&&i.push({id:s,data:{droppableContainer:r,value:o}})}}return i.sort(lT)};function dT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ib(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Zn}function hT(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return i.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const fT=hT(1);function rb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function mT(e,t,n){const a=rb(t);if(!a)return e;const{scaleX:i,scaleY:r,x:s,y:l}=a,o=e.left-s-(1-i)*parseFloat(n),u=e.top-l-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=r?e.height/r:e.height;return{width:d,height:f,top:u,right:o+d,bottom:u+f,left:o}}const gT={ignoreTransform:!1};function ss(e,t){t===void 0&&(t=gT);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=rn(e).getComputedStyle(e);u&&(n=mT(n,u,d))}const{top:a,left:i,width:r,height:s,bottom:l,right:o}=n;return{top:a,left:i,width:r,height:s,bottom:l,right:o}}function Cg(e){return ss(e,{ignoreTransform:!0})}function yT(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function vT(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function pT(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const r=t[i];return typeof r=="string"?n.test(r):!1})}function Bc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(mf(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!El(i)||F0(i)||n.includes(i))return n;const r=rn(e).getComputedStyle(i);return i!==e&&pT(i,r)&&n.push(i),vT(i,r)?n:a(i.parentNode)}return e?a(e):n}function sb(e){const[t]=Bc(e,1);return t??null}function Hu(e){return!Uc||!e?null:is(e)?e:ff(e)?mf(e)||e===rs(e).scrollingElement?window:El(e)?e:null:null}function lb(e){return is(e)?e.scrollX:e.scrollLeft}function ob(e){return is(e)?e.scrollY:e.scrollTop}function Fd(e){return{x:lb(e),y:ob(e)}}var kt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(kt||(kt={}));function cb(e){return!Uc||!e?!1:e===document.scrollingElement}function ub(e){const t={x:0,y:0},n=cb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,r=e.scrollLeft<=t.x,s=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:r,isBottom:s,isRight:l,maxScroll:a,minScroll:t}}const bT={x:.2,y:.2};function _T(e,t,n,a,i){let{top:r,left:s,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=bT);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=ub(e),h={x:0,y:0},p={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!u&&r<=t.top+b.height?(h.y=kt.Backward,p.y=a*Math.abs((t.top+b.height-r)/b.height)):!d&&o>=t.bottom-b.height&&(h.y=kt.Forward,p.y=a*Math.abs((t.bottom-b.height-o)/b.height)),!m&&l>=t.right-b.width?(h.x=kt.Forward,p.x=a*Math.abs((t.right-b.width-l)/b.width)):!f&&s<=t.left+b.width&&(h.x=kt.Backward,p.x=a*Math.abs((t.left+b.width-s)/b.width)),{direction:h,speed:p}}function wT(e){if(e===document.scrollingElement){const{innerWidth:r,innerHeight:s}=window;return{top:0,left:0,right:r,bottom:s,width:r,height:s}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function db(e){return e.reduce((t,n)=>Ar(t,Fd(n)),Zn)}function ST(e){return e.reduce((t,n)=>t+lb(n),0)}function xT(e){return e.reduce((t,n)=>t+ob(n),0)}function hb(e,t){if(t===void 0&&(t=ss),!e)return;const{top:n,left:a,bottom:i,right:r}=t(e);sb(e)&&(i<=0||r<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ET=[["x",["left","right"],ST],["y",["top","bottom"],xT]];class gf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Bc(n),i=db(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[r,s,l]of ET)for(const o of s)Object.defineProperty(this,o,{get:()=>{const u=l(a),d=i[r]-u;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ys{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function TT(e){const{EventTarget:t}=rn(e);return e instanceof t?e:rs(e)}function qu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Mn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function Rg(e){e.preventDefault()}function jT(e){e.stopPropagation()}var Oe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Oe||(Oe={}));const fb={start:[Oe.Space,Oe.Enter],cancel:[Oe.Esc],end:[Oe.Space,Oe.Enter,Oe.Tab]},OT=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Oe.Right:return{...n,x:n.x+25};case Oe.Left:return{...n,x:n.x-25};case Oe.Down:return{...n,y:n.y+25};case Oe.Up:return{...n,y:n.y-25}}};class Lc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ys(rs(n)),this.windowListeners=new Ys(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&hb(a),n(Zn)}handleKeyDown(t){if($c(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:r=fb,coordinateGetter:s=OT,scrollBehavior:l="smooth"}=i,{code:o}=t;if(r.end.includes(o)){this.handleEnd(t);return}if(r.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,d=u?{x:u.left,y:u.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:a.current,currentCoordinates:d});if(f){const m=ul(f,d),h={x:0,y:0},{scrollableAncestors:p}=a.current;for(const b of p){const T=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:E,maxScroll:S,minScroll:x}=ub(b),w=wT(b),j={x:Math.min(T===Oe.Right?w.right-w.width/2:w.right,Math.max(T===Oe.Right?w.left:w.left+w.width/2,f.x)),y:Math.min(T===Oe.Down?w.bottom-w.height/2:w.bottom,Math.max(T===Oe.Down?w.top:w.top+w.height/2,f.y))},O=T===Oe.Right&&!g||T===Oe.Left&&!y,D=T===Oe.Down&&!E||T===Oe.Up&&!v;if(O&&j.x!==f.x){const q=b.scrollLeft+m.x,ne=T===Oe.Right&&q<=S.x||T===Oe.Left&&q>=x.x;if(ne&&!m.y){b.scrollTo({left:q,behavior:l});return}ne?h.x=b.scrollLeft-q:h.x=T===Oe.Right?b.scrollLeft-S.x:b.scrollLeft-x.x,h.x&&b.scrollBy({left:-h.x,behavior:l});break}else if(D&&j.y!==f.y){const q=b.scrollTop+m.y,ne=T===Oe.Down&&q<=S.y||T===Oe.Up&&q>=x.y;if(ne&&!m.x){b.scrollTo({top:q,behavior:l});return}ne?h.y=b.scrollTop-q:h.y=T===Oe.Down?b.scrollTop-S.y:b.scrollTop-x.y,h.y&&b.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,Ar(ul(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=fb,onActivation:i}=t,{active:r}=n;const{code:s}=e.nativeEvent;if(a.start.includes(s)){const l=r.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Mg(e){return!!(e&&"distance"in e)}function kg(e){return!!(e&&"delay"in e)}class yf{constructor(t,n,a){var i;a===void 0&&(a=TT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:r}=t,{target:s}=r;this.props=t,this.events=n,this.document=rs(s),this.documentListeners=new Ys(this.document),this.listeners=new Ys(a),this.windowListeners=new Ys(rn(s)),this.initialCoordinates=(i=lc(r))!=null?i:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,Rg),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,Rg),this.documentListeners.add(Mn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(kg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Mg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Mn.Click,jT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:r}=this,{onMove:s,options:{activationConstraint:l}}=r;if(!i)return;const o=(n=lc(t))!=null?n:Zn,u=ul(i,o);if(!a&&l){if(Mg(l)){if(l.tolerance!=null&&qu(u,l.tolerance))return this.handleCancel();if(qu(u,l.distance))return this.handleStart()}if(kg(l)&&qu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Oe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const DT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ir extends yf{constructor(t){const{event:n}=t,a=rs(n.target);super(t,DT,a)}}Ir.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const NT={move:{name:"mousemove"},end:{name:"mouseup"}};var Wd;(function(e){e[e.RightClick=2]="RightClick"})(Wd||(Wd={}));class AT extends yf{constructor(t){super(t,NT,rs(t.event.target))}}AT.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Wd.RightClick?!1:(a==null||a({event:n}),!0)}}];const Yu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eh extends yf{constructor(t){super(t,Yu)}static setup(){return window.addEventListener(Yu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yu.move.name,t)};function t(){}}}eh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Vs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Vs||(Vs={}));var dc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dc||(dc={}));function CT(e){let{acceleration:t,activator:n=Vs.Pointer,canScroll:a,draggingRect:i,enabled:r,interval:s=5,order:l=dc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const h=MT({delta:f,disabled:!r}),[p,b]=XE(),T=_.useRef({x:0,y:0}),v=_.useRef({x:0,y:0}),g=_.useMemo(()=>{switch(n){case Vs.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Vs.DraggableRect:return i}},[n,i,o]),y=_.useRef(null),E=_.useCallback(()=>{const x=y.current;if(!x)return;const w=T.current.x*v.current.x,j=T.current.y*v.current.y;x.scrollBy(w,j)},[]),S=_.useMemo(()=>l===dc.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!r||!u.length||!g){b();return}for(const x of S){if((a==null?void 0:a(x))===!1)continue;const w=u.indexOf(x),j=d[w];if(!j)continue;const{direction:O,speed:D}=_T(x,j,g,t,m);for(const q of["x","y"])h[q][O[q]]||(D[q]=0,O[q]=0);if(D.x>0||D.y>0){b(),y.current=x,p(E,s),T.current=D,v.current=O;return}}T.current={x:0,y:0},v.current={x:0,y:0},b()},[t,E,a,b,r,s,JSON.stringify(g),JSON.stringify(h),p,u,S,d,JSON.stringify(m)])}const RT={x:{[kt.Backward]:!1,[kt.Forward]:!1},y:{[kt.Backward]:!1,[kt.Forward]:!1}};function MT(e){let{delta:t,disabled:n}=e;const a=sc(t);return Tl(i=>{if(n||!a||!i)return RT;const r={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[kt.Backward]:i.x[kt.Backward]||r.x===-1,[kt.Forward]:i.x[kt.Forward]||r.x===1},y:{[kt.Backward]:i.y[kt.Backward]||r.y===-1,[kt.Forward]:i.y[kt.Forward]||r.y===1}}},[n,t,a])}function kT(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Tl(i=>{var r;return t==null?null:(r=a??i)!=null?r:null},[a,t])}function UT(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,r=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,a)}));return[...n,...r]},[]),[e,t])}var Gr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gr||(Gr={}));var th;(function(e){e.Optimized="optimized"})(th||(th={}));const Ug=new Map;function zT(e,t){let{dragging:n,dependencies:a,config:i}=t;const[r,s]=_.useState(null),{frequency:l,measure:o,strategy:u}=i,d=_.useRef(e),f=T(),m=cl(f),h=_.useCallback(function(v){v===void 0&&(v=[]),!m.current&&s(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[m]),p=_.useRef(null),b=Tl(v=>{if(f&&!n)return Ug;if(!v||v===Ug||d.current!==e||r!=null){const g=new Map;for(let y of e){if(!y)continue;if(r&&r.length>0&&!r.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const E=y.node.current,S=E?new gf(o(E),E):null;y.rect.current=S,S&&g.set(y.id,S)}return g}return v},[e,r,n,f,o]);return _.useEffect(()=>{d.current=e},[e]),_.useEffect(()=>{f||h()},[n,f]),_.useEffect(()=>{r&&r.length>0&&s(null)},[JSON.stringify(r)]),_.useEffect(()=>{f||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},l))},[l,f,h,...a]),{droppableRects:b,measureDroppableContainers:h,measuringScheduled:r!=null};function T(){switch(u){case Gr.Always:return!1;case Gr.BeforeDragging:return n;default:return!n}}}function vf(e,t){return Tl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function $T(e,t){return vf(e,t)}function BT(e){let{callback:t,disabled:n}=e;const a=zc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:r}=window;return new r(a)},[a,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Hc(e){let{callback:t,disabled:n}=e;const a=zc(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:r}=window;return new r(a)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function LT(e){return new gf(ss(e),e)}function zg(e,t,n){t===void 0&&(t=LT);const[a,i]=_.useState(null);function r(){i(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const d=t(e);return JSON.stringify(o)===JSON.stringify(d)?o:d})}const s=BT({callback(o){if(e)for(const u of o){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){r();break}}}}),l=Hc({callback:r});return Jn(()=>{r(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),a}function HT(e){const t=vf(e);return ib(e,t)}const $g=[];function qT(e){const t=_.useRef(e),n=Tl(a=>e?a&&a!==$g&&e&&t.current&&e.parentNode===t.current.parentNode?a:Bc(e):$g,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function YT(e){const[t,n]=_.useState(null),a=_.useRef(e),i=_.useCallback(r=>{const s=Hu(r.target);s&&n(l=>l?(l.set(s,Fd(s)),new Map(l)):null)},[]);return _.useEffect(()=>{const r=a.current;if(e!==r){s(r);const l=e.map(o=>{const u=Hu(o);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Fd(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{s(e),s(r)};function s(l){l.forEach(o=>{const u=Hu(o);u==null||u.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((r,s)=>Ar(r,s),Zn):db(e):Zn,[e,t])}function Bg(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==Zn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?ul(e,n.current):Zn}function VT(e){_.useEffect(()=>{if(!Uc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function IT(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:r}=a;return n[i]=s=>{r(s,t)},n},{}),[e,t])}function mb(e){return _.useMemo(()=>e?yT(e):null,[e])}const Lg=[];function GT(e,t){t===void 0&&(t=ss);const[n]=e,a=mb(n?rn(n):null),[i,r]=_.useState(Lg);function s(){r(()=>e.length?e.map(o=>cb(o)?a:new gf(t(o),o)):Lg)}const l=Hc({callback:s});return Jn(()=>{l==null||l.disconnect(),s(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function gb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return El(t)?t:e}function KT(e){let{measure:t}=e;const[n,a]=_.useState(null),i=_.useCallback(u=>{for(const{target:d}of u)if(El(d)){a(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),r=Hc({callback:i}),s=_.useCallback(u=>{const d=gb(u);r==null||r.disconnect(),d&&(r==null||r.observe(d)),a(d?t(d):null)},[t,r]),[l,o]=rc(s);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const XT=[{sensor:Ir,options:{}},{sensor:Lc,options:{}}],QT={current:{}},xo={draggable:{measure:Cg},droppable:{measure:Cg,strategy:Gr.WhileDragging,frequency:th.Optimized},dragOverlay:{measure:ss}};class Is extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const JT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Is,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xo,measureDroppableContainers:oc,windowRect:null,measuringScheduled:!1},yb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oc,draggableNodes:new Map,over:null,measureDroppableContainers:oc},Ol=_.createContext(yb),vb=_.createContext(JT);function ZT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Is}}}function PT(e,t){switch(t.type){case At.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case At.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case At.DragEnd:case At.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case At.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Is(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case At.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const s=new Is(e.droppable.containers);return s.set(n,{...r,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case At.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Is(e.droppable.containers);return r.delete(n),{...e,droppable:{...e.droppable,containers:r}}}default:return e}}function FT(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=_.useContext(Ol),r=sc(a),s=sc(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&r&&s!=null){if(!$c(r)||document.activeElement===r.target)return;const l=i.get(s);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[o.current,u.current]){if(!d)continue;const f=ZE(d);if(f){f.focus();break}}})}},[a,t,i,s,r]),null}function pb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,r)=>r({transform:i,...a}),n):n}function WT(e){return _.useMemo(()=>({draggable:{...xo.draggable,...e==null?void 0:e.draggable},droppable:{...xo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...xo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ej(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const r=_.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Jn(()=>{if(!s&&!l||!t){r.current=!1;return}if(r.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=ib(d,a);if(s||(f.x=0),l||(f.y=0),r.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=sb(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,s,l,a,n])}const qc=_.createContext({...Zn,scaleX:1,scaleY:1});var Ua;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ua||(Ua={}));const hc=_.memo(function(t){var n,a,i,r;let{id:s,accessibility:l,autoScroll:o=!0,children:u,sensors:d=XT,collisionDetection:f=uT,measuring:m,modifiers:h,...p}=t;const b=_.useReducer(PT,void 0,ZT),[T,v]=b,[g,y]=nT(),[E,S]=_.useState(Ua.Uninitialized),x=E===Ua.Initialized,{draggable:{active:w,nodes:j,translate:O},droppable:{containers:D}}=T,q=w!=null?j.get(w):null,ne=_.useRef({initial:null,translated:null}),ce=_.useMemo(()=>{var et;return w!=null?{id:w,data:(et=q==null?void 0:q.data)!=null?et:QT,rect:ne}:null},[w,q]),$=_.useRef(null),[k,N]=_.useState(null),[A,z]=_.useState(null),I=cl(p,Object.values(p)),Q=jl("DndDescribedBy",s),P=_.useMemo(()=>D.getEnabled(),[D]),K=WT(m),{droppableRects:J,measureDroppableContainers:ae,measuringScheduled:de}=zT(P,{dragging:x,dependencies:[O.x,O.y],config:K.droppable}),me=kT(j,w),Ke=_.useMemo(()=>A?lc(A):null,[A]),Dt=Bt(),ft=$T(me,K.draggable.measure);ej({activeNode:w!=null?j.get(w):null,config:Dt.layoutShiftCompensation,initialRect:ft,measure:K.draggable.measure});const B=zg(me,K.draggable.measure,ft),ie=zg(me?me.parentElement:null),ge=_.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=D.getNodeFor((n=ge.current.over)==null?void 0:n.id),Ze=KT({measure:K.dragOverlay.measure}),st=(a=Ze.nodeRef.current)!=null?a:me,ke=x?(i=Ze.rect)!=null?i:B:null,pe=!!(Ze.nodeRef.current&&Ze.rect),Ye=HT(pe?null:B),Ue=mb(st?rn(st):null),xe=qT(x?qe??me:null),Xe=GT(xe),Be=pb(h,{transform:{x:O.x-Ye.x,y:O.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:A,active:ce,activeNodeRect:B,containerNodeRect:ie,draggingNodeRect:ke,over:ge.current.over,overlayNodeRect:Ze.rect,scrollableAncestors:xe,scrollableAncestorRects:Xe,windowRect:Ue}),Gt=Ke?Ar(Ke,O):null,$t=YT(xe),Nn=Bg($t),Ii=Bg($t,[B]),fn=Ar(Be,Nn),An=ke?fT(ke,Be):null,Kt=ce&&An?f({active:ce,collisionRect:An,droppableRects:J,droppableContainers:P,pointerCoordinates:Gt}):null,ui=ab(Kt,"id"),[U,L]=_.useState(null),Y=pe?Be:Ar(Be,Ii),se=dT(Y,(r=U==null?void 0:U.rect)!=null?r:null,B),F=_.useRef(null),ye=_.useCallback((et,Le)=>{let{sensor:mt,options:Xt}=Le;if($.current==null)return;const Qt=j.get($.current);if(!Qt)return;const Lt=et.nativeEvent,Jt=new mt({active:$.current,activeNode:Qt,event:Lt,options:Xt,context:ge,onAbort(pt){if(!j.get(pt))return;const{onDragAbort:Pt}=I.current,Ft={id:pt};Pt==null||Pt(Ft),g({type:"onDragAbort",event:Ft})},onPending(pt,mn,Pt,Ft){if(!j.get(pt))return;const{onDragPending:la}=I.current,Cn={id:pt,constraint:mn,initialCoordinates:Pt,offset:Ft};la==null||la(Cn),g({type:"onDragPending",event:Cn})},onStart(pt){const mn=$.current;if(mn==null)return;const Pt=j.get(mn);if(!Pt)return;const{onDragStart:Ft}=I.current,sa={activatorEvent:Lt,active:{id:mn,data:Pt.data,rect:ne}};or.unstable_batchedUpdates(()=>{Ft==null||Ft(sa),S(Ua.Initializing),v({type:At.DragStart,initialCoordinates:pt,active:mn}),g({type:"onDragStart",event:sa}),N(F.current),z(Lt)})},onMove(pt){v({type:At.DragMove,coordinates:pt})},onEnd:Zt(At.DragEnd),onCancel:Zt(At.DragCancel)});F.current=Jt;function Zt(pt){return async function(){const{active:Pt,collisions:Ft,over:sa,scrollAdjustedTranslate:la}=ge.current;let Cn=null;if(Pt&&la){const{cancelDrop:Fn}=I.current;Cn={activatorEvent:Lt,active:Pt,collisions:Ft,delta:la,over:sa},pt===At.DragEnd&&typeof Fn=="function"&&await Promise.resolve(Fn(Cn))&&(pt=At.DragCancel)}$.current=null,or.unstable_batchedUpdates(()=>{v({type:pt}),S(Ua.Uninitialized),L(null),N(null),z(null),F.current=null;const Fn=pt===At.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const Da=I.current[Fn];Da==null||Da(Cn),g({type:Fn,event:Cn})}})}}},[j]),We=_.useCallback((et,Le)=>(mt,Xt)=>{const Qt=mt.nativeEvent,Lt=j.get(Xt);if($.current!==null||!Lt||Qt.dndKit||Qt.defaultPrevented)return;const Jt={active:Lt};et(mt,Le.options,Jt)===!0&&(Qt.dndKit={capturedBy:Le.sensor},$.current=Xt,ye(mt,Le))},[j,ye]),Re=UT(d,We);VT(d),Jn(()=>{B&&E===Ua.Initializing&&S(Ua.Initialized)},[B,E]),_.useEffect(()=>{const{onDragMove:et}=I.current,{active:Le,activatorEvent:mt,collisions:Xt,over:Qt}=ge.current;if(!Le||!mt)return;const Lt={active:Le,activatorEvent:mt,collisions:Xt,delta:{x:fn.x,y:fn.y},over:Qt};or.unstable_batchedUpdates(()=>{et==null||et(Lt),g({type:"onDragMove",event:Lt})})},[fn.x,fn.y]),_.useEffect(()=>{const{active:et,activatorEvent:Le,collisions:mt,droppableContainers:Xt,scrollAdjustedTranslate:Qt}=ge.current;if(!et||$.current==null||!Le||!Qt)return;const{onDragOver:Lt}=I.current,Jt=Xt.get(ui),Zt=Jt&&Jt.rect.current?{id:Jt.id,rect:Jt.rect.current,data:Jt.data,disabled:Jt.disabled}:null,pt={active:et,activatorEvent:Le,collisions:mt,delta:{x:Qt.x,y:Qt.y},over:Zt};or.unstable_batchedUpdates(()=>{L(Zt),Lt==null||Lt(pt),g({type:"onDragOver",event:pt})})},[ui]),Jn(()=>{ge.current={activatorEvent:A,active:ce,activeNode:me,collisionRect:An,collisions:Kt,droppableRects:J,draggableNodes:j,draggingNode:st,draggingNodeRect:ke,droppableContainers:D,over:U,scrollableAncestors:xe,scrollAdjustedTranslate:fn},ne.current={initial:ke,translated:An}},[ce,me,Kt,An,j,st,ke,J,D,U,xe,fn]),CT({...Dt,delta:O,draggingRect:An,pointerCoordinates:Gt,scrollableAncestors:xe,scrollableAncestorRects:Xe});const Pe=_.useMemo(()=>({active:ce,activeNode:me,activeNodeRect:B,activatorEvent:A,collisions:Kt,containerNodeRect:ie,dragOverlay:Ze,draggableNodes:j,droppableContainers:D,droppableRects:J,over:U,measureDroppableContainers:ae,scrollableAncestors:xe,scrollableAncestorRects:Xe,measuringConfiguration:K,measuringScheduled:de,windowRect:Ue}),[ce,me,B,A,Kt,ie,Ze,j,D,J,U,ae,xe,Xe,K,de,Ue]),_e=_.useMemo(()=>({activatorEvent:A,activators:Re,active:ce,activeNodeRect:B,ariaDescribedById:{draggable:Q},dispatch:v,draggableNodes:j,over:U,measureDroppableContainers:ae}),[A,Re,ce,B,v,Q,j,U,ae]);return it.createElement(eb.Provider,{value:y},it.createElement(Ol.Provider,{value:_e},it.createElement(vb.Provider,{value:Pe},it.createElement(qc.Provider,{value:se},u)),it.createElement(FT,{disabled:(l==null?void 0:l.restoreFocus)===!1})),it.createElement(rT,{...l,hiddenTextDescribedById:Q}));function Bt(){const et=(k==null?void 0:k.autoScrollEnabled)===!1,Le=typeof o=="object"?o.enabled===!1:o===!1,mt=x&&!et&&!Le;return typeof o=="object"?{...o,enabled:mt}:{enabled:mt}}}),tj=_.createContext(null),Hg="button",nj="Draggable";function aj(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const r=jl(nj),{activators:s,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=_.useContext(Ol),{role:h=Hg,roleDescription:p="draggable",tabIndex:b=0}=i??{},T=(o==null?void 0:o.id)===t,v=_.useContext(T?qc:tj),[g,y]=rc(),[E,S]=rc(),x=IT(s,t),w=cl(n);Jn(()=>(f.set(t,{id:t,key:r,node:g,activatorNode:E,data:w}),()=>{const O=f.get(t);O&&O.key===r&&f.delete(t)}),[f,t]);const j=_.useMemo(()=>({role:h,tabIndex:b,"aria-disabled":a,"aria-pressed":T&&h===Hg?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[a,h,b,T,p,d.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:j,isDragging:T,listeners:a?void 0:x,node:g,over:m,setNodeRef:y,setActivatorNodeRef:S,transform:v}}function bb(){return _.useContext(vb)}const ij="Droppable",rj={timeout:25};function sj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const r=jl(ij),{active:s,dispatch:l,over:o,measureDroppableContainers:u}=_.useContext(Ol),d=_.useRef({disabled:n}),f=_.useRef(!1),m=_.useRef(null),h=_.useRef(null),{disabled:p,updateMeasurementsFor:b,timeout:T}={...rj,...i},v=cl(b??a),g=_.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},T)},[T]),y=Hc({callback:g,disabled:p||!s}),E=_.useCallback((j,O)=>{y&&(O&&(y.unobserve(O),f.current=!1),j&&y.observe(j))},[y]),[S,x]=rc(E),w=cl(t);return _.useEffect(()=>{!y||!S.current||(y.disconnect(),f.current=!1,y.observe(S.current))},[S,y]),_.useEffect(()=>(l({type:At.RegisterDroppable,element:{id:a,key:r,disabled:n,node:S,rect:m,data:w}}),()=>l({type:At.UnregisterDroppable,key:r,id:a})),[a]),_.useEffect(()=>{n!==d.current.disabled&&(l({type:At.SetDroppableDisabled,id:a,key:r,disabled:n}),d.current.disabled=n)},[a,r,n,l]),{active:s,rect:m,isOver:(o==null?void 0:o.id)===a,node:S,over:o,setNodeRef:x}}function lj(e){let{animation:t,children:n}=e;const[a,i]=_.useState(null),[r,s]=_.useState(null),l=sc(n);return!n&&!a&&l&&i(l),Jn(()=>{if(!r)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){i(null);return}Promise.resolve(t(u,r)).then(()=>{i(null)})},[t,a,r]),it.createElement(it.Fragment,null,n,a?_.cloneElement(a,{ref:s}):null)}const oj={x:0,y:0,scaleX:1,scaleY:1};function cj(e){let{children:t}=e;return it.createElement(Ol.Provider,{value:yb},it.createElement(qc.Provider,{value:oj},t))}const uj={position:"fixed",touchAction:"none"},dj=e=>$c(e)?"transform 250ms ease":void 0,hj=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:r,className:s,rect:l,style:o,transform:u,transition:d=dj}=e;if(!l)return null;const f=i?u:{...u,scaleX:1,scaleY:1},m={...uj,width:l.width,height:l.height,top:l.top,left:l.left,transform:si.Transform.toString(f),transformOrigin:i&&a?sT(a,l):void 0,transition:typeof d=="function"?d(a):d,...o};return it.createElement(n,{className:s,style:m,ref:t},r)}),fj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:r,className:s}=e;if(r!=null&&r.active)for(const[l,o]of Object.entries(r.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(r!=null&&r.dragOverlay)for(const[l,o]of Object.entries(r.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&a.node.classList.add(s.dragOverlay),function(){for(const[o,u]of Object.entries(i))n.node.style.setProperty(o,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},mj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:si.Transform.toString(t)},{transform:si.Transform.toString(n)}]},gj={duration:250,easing:"ease",keyframes:mj,sideEffects:fj({styles:{active:{opacity:"0"}}})};function yj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return zc((r,s)=>{if(t===null)return;const l=n.get(r);if(!l)return;const o=l.node.current;if(!o)return;const u=gb(s);if(!u)return;const{transform:d}=rn(s).getComputedStyle(s),f=rb(d);if(!f)return;const m=typeof t=="function"?t:vj(t);return hb(o,i.draggable.measure),m({active:{id:r,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:i,transform:f})})}function vj(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...gj,...e};return r=>{let{active:s,dragOverlay:l,transform:o,...u}=r;if(!t)return;const d={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},f={scaleX:o.scaleX!==1?s.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?s.rect.height*o.scaleY/l.rect.height:1},m={x:o.x-d.x,y:o.y-d.y,...f},h=i({...u,active:s,dragOverlay:l,transform:{initial:o,final:m}}),[p]=h,b=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(b))return;const T=a==null?void 0:a({active:s,dragOverlay:l,...u}),v=l.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{T==null||T(),g()}})}}let qg=0;function pj(e){return _.useMemo(()=>{if(e!=null)return qg++,qg},[e])}const _b=it.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:r,modifiers:s,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggableNodes:p,droppableContainers:b,dragOverlay:T,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:E,windowRect:S}=bb(),x=_.useContext(qc),w=pj(f==null?void 0:f.id),j=pb(s,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:T.rect,over:v,overlayNodeRect:T.rect,scrollableAncestors:y,scrollableAncestorRects:E,transform:x,windowRect:S}),O=vf(m),D=yj({config:a,draggableNodes:p,droppableContainers:b,measuringConfiguration:g}),q=O?T.setRef:void 0;return it.createElement(cj,null,it.createElement(lj,{animation:D},f&&w?it.createElement(hj,{key:w,id:f.id,ref:q,as:l,activatorEvent:d,adjustScale:t,className:o,transition:r,rect:O,style:{zIndex:u,...i},transform:j},n):null))});function pf(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function bj(e,t){return e.reduce((n,a,i)=>{const r=t.get(a);return r&&(n[i]=r),n},Array(e.length))}function ao(e){return e!==null&&e>=0}function _j(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const io={scaleX:1,scaleY:1},Sj=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:i,overIndex:r,index:s}=e;const l=(t=n[i])!=null?t:a;if(!l)return null;const o=xj(n,s,i);if(s===i){const u=n[r];return u?{x:i<r?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...io}:null}return s>i&&s<=r?{x:-l.width-o,y:0,...io}:s<i&&s>=r?{x:l.width+o,y:0,...io}:{x:0,y:0,...io}};function xj(e,t,n){const a=e[t],i=e[t-1],r=e[t+1];return!a||!i&&!r?0:n<t?i?a.left-(i.left+i.width):r.left-(a.left+a.width):r?r.left-(a.left+a.width):a.left-(i.left+i.width)}const wb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const r=pf(t,a,n),s=t[i],l=r[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},ro={scaleX:1,scaleY:1},Gs=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:r,overIndex:s}=e;const l=(t=r[n])!=null?t:a;if(!l)return null;if(i===n){const u=r[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...ro}:null}const o=Ej(r,i,n);return i>n&&i<=s?{x:0,y:-l.height-o,...ro}:i<n&&i>=s?{x:0,y:l.height+o,...ro}:{x:0,y:0,...ro}};function Ej(e,t,n){const a=e[t],i=e[t-1],r=e[t+1];return a?n<t?i?a.top-(i.top+i.height):r?r.top-(a.top+a.height):0:r?r.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Sb="Sortable",xb=it.createContext({activeIndex:-1,containerId:Sb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:wb,disabled:{draggable:!1,droppable:!1}});function wr(e){let{children:t,id:n,items:a,strategy:i=wb,disabled:r=!1}=e;const{active:s,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:d}=bb(),f=jl(Sb,n),m=l.rect!==null,h=_.useMemo(()=>a.map(x=>typeof x=="object"&&"id"in x?x.id:x),[a]),p=s!=null,b=s?h.indexOf(s.id):-1,T=u?h.indexOf(u.id):-1,v=_.useRef(h),g=!_j(h,v.current),y=T!==-1&&b===-1||g,E=wj(r);Jn(()=>{g&&p&&d(h)},[g,h,p,d]),_.useEffect(()=>{v.current=h},[h]);const S=_.useMemo(()=>({activeIndex:b,containerId:f,disabled:E,disableTransforms:y,items:h,overIndex:T,useDragOverlay:m,sortedRects:bj(h,o),strategy:i}),[b,f,E.draggable,E.droppable,y,h,T,o,m,i]);return it.createElement(xb.Provider,{value:S},t)}const Tj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return pf(n,a,i).indexOf(t)},jj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:r,newIndex:s,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==r&&i===s?!1:n?!0:s!==i&&t===o},Oj={duration:200,easing:"ease"},Eb="transform",Dj=si.Transition.toString({property:Eb,duration:0,easing:"linear"}),Nj={roleDescription:"sortable"};function Aj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[r,s]=_.useState(null),l=_.useRef(n);return Jn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const u=ss(a.current,{ignoreTransform:!0}),d={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(d.x||d.y)&&s(d)}}n!==l.current&&(l.current=n)},[t,n,a,i]),_.useEffect(()=>{r&&s(null)},[r]),r}function Yc(e){let{animateLayoutChanges:t=jj,attributes:n,disabled:a,data:i,getNewIndex:r=Tj,id:s,strategy:l,resizeObserverConfig:o,transition:u=Oj}=e;const{items:d,containerId:f,activeIndex:m,disabled:h,disableTransforms:p,sortedRects:b,overIndex:T,useDragOverlay:v,strategy:g}=_.useContext(xb),y=Cj(a,h),E=d.indexOf(s),S=_.useMemo(()=>({sortable:{containerId:f,index:E,items:d},...i}),[f,i,E,d]),x=_.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:w,node:j,isOver:O,setNodeRef:D}=sj({id:s,data:S,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...o}}),{active:q,activatorEvent:ne,activeNodeRect:ce,attributes:$,setNodeRef:k,listeners:N,isDragging:A,over:z,setActivatorNodeRef:I,transform:Q}=aj({id:s,data:S,attributes:{...Nj,...n},disabled:y.draggable}),P=KE(D,k),K=!!q,J=K&&!p&&ao(m)&&ao(T),ae=!v&&A,de=ae&&J?Q:null,Ke=J?de??(l??g)({rects:b,activeNodeRect:ce,activeIndex:m,overIndex:T,index:E}):null,Dt=ao(m)&&ao(T)?r({id:s,items:d,activeIndex:m,overIndex:T}):E,ft=q==null?void 0:q.id,B=_.useRef({activeId:ft,items:d,newIndex:Dt,containerId:f}),ie=d!==B.current.items,ge=t({active:q,containerId:f,isDragging:A,isSorting:K,id:s,index:E,items:d,newIndex:B.current.newIndex,previousItems:B.current.items,previousContainerId:B.current.containerId,transition:u,wasDragging:B.current.activeId!=null}),qe=Aj({disabled:!ge,index:E,node:j,rect:w});return _.useEffect(()=>{K&&B.current.newIndex!==Dt&&(B.current.newIndex=Dt),f!==B.current.containerId&&(B.current.containerId=f),d!==B.current.items&&(B.current.items=d)},[K,Dt,f,d]),_.useEffect(()=>{if(ft===B.current.activeId)return;if(ft!=null&&B.current.activeId==null){B.current.activeId=ft;return}const st=setTimeout(()=>{B.current.activeId=ft},50);return()=>clearTimeout(st)},[ft]),{active:q,activeIndex:m,attributes:$,data:S,rect:w,index:E,newIndex:Dt,items:d,isOver:O,isSorting:K,isDragging:A,listeners:N,node:j,overIndex:T,over:z,setNodeRef:P,setActivatorNodeRef:I,setDroppableNodeRef:D,setDraggableNodeRef:k,transform:qe??Ke,transition:Ze()};function Ze(){if(qe||ie&&B.current.newIndex===E)return Dj;if(!(ae&&!$c(ne)||!u)&&(K||ge))return si.Transition.toString({...u,property:Eb})}}function Cj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function fc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Rj=[Oe.Down,Oe.Right,Oe.Up,Oe.Left],Tb=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:r,over:s,scrollableAncestors:l}}=t;if(Rj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];r.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(e.code){case Oe.Down:a.top<m.top&&o.push(f);break;case Oe.Up:a.top>m.top&&o.push(f);break;case Oe.Left:a.left>m.left&&o.push(f);break;case Oe.Right:a.left<m.left&&o.push(f);break}});const u=oT({collisionRect:a,droppableRects:i,droppableContainers:o});let d=ab(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=r.get(n.id),m=r.get(d),h=m?i.get(m.id):null,p=m==null?void 0:m.node.current;if(p&&h&&f&&m){const T=Bc(p).some((x,w)=>l[w]!==x),v=jb(f,m),g=Mj(f,m),y=T||!v?{x:0,y:0}:{x:g?a.width-h.width:0,y:g?a.height-h.height:0},E={x:h.left,y:h.top};return y.x&&y.y?E:ul(E,y)}}}};function jb(e,t){return!fc(e)||!fc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Mj(e,t){return!fc(e)||!fc(t)||!jb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ri=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],kj="09",Uj="00",Me=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Wn=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${r})`},pi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${r}:${s}`},zj=e=>{const t=new Date;return Me(e)===Me(t)},$j=()=>{const[e,t]=_.useState(null),[n,a]=_.useState(!0);return _.useEffect(()=>{he.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:s}}=he.auth.onAuthStateChange((l,o)=>{t(o)});return()=>s.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:s}=await he.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(s)throw s}catch(s){alert(" : "+s.message)}},handleLogout:async()=>{try{const{error:s}=await he.auth.signOut();if(s)throw s}catch(s){alert(" : "+s.message)}}}};function bf({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),i=_.useRef(e),r=_.useRef(!1),[s,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:kj),[o,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:Uj);_.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,y]=e.split(":");i.current=e,l(g),u(y)}},[e]),_.useEffect(()=>{if(!r.current){r.current=!0;return}const g=`${s}:${o}`;i.current=g,t&&t(g)},[s,o]);const d=(g,y,E)=>{if(!g.current)return;const S=g.current.scrollTop,w=Math.round(S/40),j=String(w).padStart(2,"0");y(j)},f=(g,y)=>{if(!g.current)return;const E=40,S=parseInt(y,10);g.current.scrollTop=S*E};_.useEffect(()=>{f(n,s)},[]),_.useEffect(()=>{f(a,o)},[]);const m=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),h=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),p=()=>{const g=(parseInt(s,10)+1)%24,y=String(g).padStart(2,"0");l(y),f(n,y)},b=()=>{const g=(parseInt(s,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),f(n,y)},T=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),f(a,y)},v=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),f(a,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:T,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===s?"selected":""}`,onClick:()=>{l(g),f(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,u),children:[c.jsx("div",{className:"picker-spacer"}),h.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),f(a,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function Yg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:a,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function Bj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenTrash:r,onOpenRoutine:s,onOpenMemo:l,onScrollToKeyThoughts:o,onOpenGanttChart:u,onOpenEncouragementModal:d,onOpenDummyModal:f,onLogout:m}){var h,p;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((h=n.user.user_metadata)==null?void 0:h.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((p=n.user.user_metadata)==null?void 0:p.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const b=a==="vertical"?"horizontal":"vertical";i(b),localStorage.setItem("viewMode",b),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),c.jsx("span",{children:a==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{f(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&m()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function Lj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Wn(e)}),c.jsx("input",{type:"date",value:Me(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Hj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:r,onNextDay:s,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:u,isReorderMode:d,setIsReorderMode:f}){return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx(Lj,{selectedDate:n,onDateChange:i,onPrevDay:r,onNextDay:s}),c.jsx("div",{className:"encouragement-section",children:zj(n)?c.jsx("div",{className:"encouragement-message",onClick:u,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):c.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),d&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>f(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function qj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const i=a.touches[0];a.currentTarget.dataset.touchStartX=i.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const i=parseFloat(a.currentTarget.dataset.touchStartX||"0"),r=parseInt(a.currentTarget.dataset.touchStartTime||"0"),s=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,o=Date.now()-r;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,s&&o<500){const u=i-l,d=n.current;if(!d)return;const f=d.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<f.length-1?f[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&f[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>c.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const i=n.current;if(!i)return;const r=i.querySelectorAll(".section-block");r[a]&&r[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function Vg({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:r,placeholder:s,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&i()},placeholder:s,className:"todo-input",disabled:r}),c.jsx("button",{onClick:i,className:"add-button",disabled:r,children:""})]}),l]})}function Eo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:r,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:d,level:f=0,onCreateRoutine:m,routines:h,onShowRoutineHistory:p,onOpenRoutineSetupModal:b,onOpenHistoryModal:T,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:E}){const[S,x]=_.useState(!1),[w,j]=_.useState(!1),[O,D]=_.useState(e.text),[q,ne]=_.useState(!1),[ce,$]=_.useState(!1),[k,N]=_.useState(!1),[A,z]=_.useState(""),[I,Q]=_.useState(!1),[P,K]=_.useState([]),[J,ae]=_.useState(!1),[de,me]=_.useState(!1),[Ke,Dt]=_.useState([]),[ft,B]=_.useState([]),[ie,ge]=_.useState([]),[qe,Ze]=_.useState(null),[st,ke]=_.useState(!1),[pe,Ye]=_.useState(null),[Ue,xe]=_.useState(!1),[Xe,Be]=_.useState([]),[Gt,$t]=_.useState(""),[Nn,Ii]=_.useState({}),[fn,An]=_.useState(!1),[Kt,ui]=_.useState(null),[U,L]=_.useState([]),Y=e.routine_id?h.find(R=>R.id===e.routine_id):null,[se,F]=_.useState(0),[ye,We]=_.useState(0),[Re,Pe]=_.useState(0),[_e,Bt]=_.useState(!1),[et,Le]=_.useState(!1),{attributes:mt,listeners:Xt,setNodeRef:Qt,transform:Lt,transition:Jt,isDragging:Zt}=Yc({id:e.id}),pt={transform:si.Transform.toString(Lt),transition:Jt,cursor:Zt?"grabbing":"grab"},mn=e.text.length>30,Pt=()=>{j(!0),D(e.text)},Ft=async()=>{O.trim()&&O!==e.text&&await i(e.id,O.trim()),j(!1)},sa=async R=>{R.key==="Enter"?(R.preventDefault(),await Ft()):R.key==="Escape"&&(j(!1),D(e.text))},la=R=>{Be(H=>H.includes(R)?H.filter(je=>je!==R):[...H,R])},Cn=R=>["sun","mon","tue","wed","thu","fri","sat"][R],Fn=async R=>{try{const H=typeof v=="string"?v:Me(v),Ne=[...R.hidden_dates||[],H],ue=R.routine_id!==null&&R.routine_id!==void 0;let Ae={hidden_dates:Ne};ue||(Ae.deleted=!0,Ae.deleted_date=new Date().toISOString());const{error:Ve}=await he.from("todos").update(Ae).eq("id",R.id);if(Ve)throw Ve;y&&y(R.id);const tt=R.routine_id!==null&&R.routine_id!==void 0;E(tt?"  ":"   ",{type:"hideOnDate",todoId:R.id,hiddenDate:H,wasDeleted:!ue})}catch(H){console.error("  :",H.message),alert("   .")}},Da=async R=>{try{const{error:H}=await he.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",R.id);if(H)throw H;y&&y(R.id)}catch(H){console.error(" :",H.message),alert(" .")}},Vc=async R=>{try{if(!R.routine_id){alert("  .");return}const{error:H}=await he.from("routines").update({deleted:!0}).eq("id",R.routine_id);if(H)throw H;const je=typeof v=="string"?v:Me(v),ue=[...R.hidden_dates||[],je],{error:Ae}=await he.from("todos").update({hidden_dates:ue}).eq("id",R.id);if(Ae)throw Ae;y&&y(R.id),E("   ",{type:"stopRoutineFromToday",todoId:R.id,routineId:R.routine_id,hiddenDate:je})}catch(H){console.error("  :",H.message),alert("   .")}},Dl=async R=>{try{if(!R.routine_id){alert("  .");return}const{error:H}=await he.from("routines").update({deleted:!0}).eq("id",R.routine_id);if(H)throw H;const{error:je}=await he.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",R.id);if(je)throw je;y&&y(R.id),E("   ",{type:"deleteRoutineCompletely",todoId:R.id,routineId:R.routine_id})}catch(H){console.error("   :",H.message),alert("   .")}};_.useEffect(()=>{pe==="history"&&!Nn[e.id]&&!fn&&(async()=>{An(!0);try{const{data:H,error:je}=await he.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(je)throw je;Ii(Ne=>({...Ne,[e.id]:H||[]}))}catch(H){console.error("Error fetching history:",H)}finally{An(!1)}})()},[pe,e.id,Nn,fn]),_.useEffect(()=>{pe==="routine-stats"&&Y&&(!Kt||Kt.id!==Y.id)&&(async()=>{try{const{data:H,error:je}=await he.from("todos").select("*").eq("routine_id",Y.id).eq("deleted",!1).maybeSingle();if(je)throw je;if(H&&H.visible_dates){const Ne=H.visible_dates.sort().map(ue=>{var Ae;return{id:`${H.id}-${ue}`,date:ue,text:H.text,completed:((Ae=H.completed_dates)==null?void 0:Ae.includes(ue))||!1}});L(Ne),ui(Y)}}catch(H){console.error("Error fetching routine history:",H)}})()},[pe,Y,Kt]);const Nl=R=>{if(w||Zt)return;const H=R.type.includes("touch")?R.touches[0].clientX:R.clientX,je=R.type.includes("touch")?R.touches[0].clientY:R.clientY;We(H),Pe(je),Bt(!1),Le(!0)},Al=R=>{if(w||Zt||!et)return;const H=R.type.includes("touch")?R.touches[0].clientX:R.clientX,je=R.type.includes("touch")?R.touches[0].clientY:R.clientY,Ne=ye-H,ue=Math.abs(Re-je);if(!_e){const Ae=Math.abs(Ne)+ue;if(Ae>10){if(Math.abs(Ne)>Ae*.8)Bt(!0),R.type.includes("touch")&&R.preventDefault();else if(ue>Math.abs(Ne)){Le(!1);return}}}if(_e){if(R.type.includes("touch")&&R.preventDefault(),Ne>0&&Ne<=100)F(Ne);else if(Ne<0&&se>0){const Ae=se+Ne;F(Math.max(0,Ae)),We(H)}}},di=()=>{Le(!1),_e&&(Bt(!1),F(se>40?80:0))},ls=()=>{a(e.id)},os=R=>{B(H=>H.includes(R)?H.filter(je=>je!==R):[...H,R])};return c.jsxs("div",{ref:Qt,style:pt,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:ls,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...mt,...Xt,className:`todo-item ${e.completed?"completed":""} ${S?"expanded":""} ${Zt?"drag-mode":""}`,style:{transform:`translateX(-${se}px)`,transition:_e||Zt?"none":"transform 0.3s ease"},onMouseDown:Nl,onMouseMove:Al,onMouseUp:di,onMouseLeave:di,onTouchStart:Nl,onTouchMove:Al,onTouchEnd:di,onContextMenu:R=>R.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!w&&mn&&x(!S),onDoubleClick:Pt,style:{cursor:w?"text":mn?"pointer":"default"},children:w?c.jsx("input",{type:"text",value:O,onChange:R=>D(R.target.value),onBlur:Ft,onKeyDown:sa,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${S?"expanded":""}`,children:e.text})}),(()=>{const R=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,H=e.routine_id&&Y,je=g||e.is_pending_routine;return(d.length>0||R||H||je)&&c.jsxs("div",{className:"todo-badges",children:[R&&(()=>{const Ne=new Date(e.completed_at).toISOString().split("T")[0],ue=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${Ne} `,children:[ue,""]})})(),H&&(()=>{const Ne=v||e.date,ue=new Date(Ne+"T00:00:00"),Ae=ue.getMonth()+1,Ve=ue.getDate(),gn=["","","","","","",""][ue.getDay()],Gi=`${Ae}/${Ve}(${gn})`;return c.jsxs("span",{className:"routine-date-badge",title:`${Y.text} `,children:["for ",Gi]})})(),je&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:Ne=>{Ne.stopPropagation(),ce?(ne(!1),$(!1),N(!1)):(ne(!0),$(!0),N(!1),Q(!1),me(!1))},children:""})]})})(),!w&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:R=>{R.stopPropagation(),ke(!0),Ye(null),xe(!1),Be([]),$t("")},title:"",children:""}),ce&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((R,H)=>c.jsx(Eo,{todo:R,index:H,onToggle:n,onDelete:a,onEdit:i,formatDate:r,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:f+1,routines:h,onShowRoutineHistory:p,showSuccessMessage:E,onOpenRoutineSetupModal:b,onOpenHistoryModal:T,currentPageDate:v},R.id)),k&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:A,onChange:R=>z(R.target.value),onKeyDown:R=>{R.key==="Enter"&&A.trim()&&(u(e.id,A.trim()),z(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{A.trim()&&(u(e.id,A.trim()),z(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{z("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),st&&c.jsx("div",{className:"modal-overlay",onClick:()=>ke(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:R=>R.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>ke(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:O,onChange:R=>D(R.target.value),onBlur:()=>{O.trim()!==""&&O!==e.text?i(e.id,O):O.trim()===""&&D(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${pe==="nanotodo"?"active":""}`,onClick:()=>Ye("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${pe==="routine"?"active":""}`,onClick:()=>{Ye("routine");const R=h.find(H=>H.id===e.routine_id);R?(Be(R.days||[]),$t(R.time_slot||""),xe(!1)):(Be([]),$t(""),xe(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${pe==="history"?"active":""}`,onClick:()=>Ye("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&Y&&c.jsxs("button",{className:`action-menu-item ${pe==="routine-stats"?"active":""}`,onClick:()=>Ye("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${pe==="delete"?"active":""}`,onClick:()=>Ye("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!pe&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),pe==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[d&&d.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:d.map(R=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:R.completed,onChange:()=>n(R.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${R.completed?"completed":""}`,children:R.text}),c.jsx("button",{onClick:()=>a(R.id),className:"subtodo-delete-modal",title:"",children:""})]},R.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:A,onChange:R=>z(R.target.value),onKeyDown:R=>{R.key==="Enter"&&A.trim()&&(u(e.id,A.trim()),z(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{A.trim()&&(u(e.id,A.trim()),z(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),pe==="routine"&&(()=>{const R=h.find(H=>H.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:R&&!Ue?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ri.filter(H=>R.days.includes(H.key)).map(H=>c.jsx("span",{className:"routine-day-badge",children:H.label},H.key))}),R.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",R.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:H=>{H.stopPropagation(),R&&(Be(R.days),$t(R.time_slot||""),xe(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async H=>{H.stopPropagation(),R&&e&&(await m(e.id,e.text,[],null,!0),ke(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:Ue?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ri.map(H=>c.jsx("button",{onClick:je=>{je.stopPropagation(),la(H.key)},className:`day-button-inline ${Xe.includes(H.key)?"selected":""}`,children:H.label},H.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(bf,{value:Gt,onChange:H=>$t(H)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async H=>{H.stopPropagation(),e&&(Ue&&R?await m(e.id,e.text,Xe,R.id,!1,Gt):await m(e.id,e.text,Xe,null,!1,Gt),xe(!1),ke(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:H=>{H.stopPropagation(),xe(!1),Be([]),$t("")},className:"routine-cancel-button",children:""})]})]})})]})})(),pe==="history"&&(()=>{const R=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],H=R[0],je=R.map(ue=>({id:`${e.id}-${ue}`,date:ue})),Ne=Nn[e.id]||[];return fn?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:r(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(H?new Date(H+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),je.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:je.map((ue,Ae)=>{const Ve=ue.date===e.date,tt=s(new Date(ue.date+"T00:00:00"));return c.jsxs("span",{children:[Ae>0&&"  ",c.jsxs("span",{style:Ve?{fontWeight:"bold",color:"#4CAF50"}:{},children:[tt.split("(")[0],Ve?"()":""]})]},ue.id)})})]}),(()=>{const ue=new Date(e.created_at).toISOString().split("T")[0],Ae=e.date;return ue!==Ae&&je.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),Ne.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",Ne.length,")"]}),Ne.map(ue=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[r(ue.changed_at),ue.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(ue.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:Ae=>{Ae.stopPropagation(),os(ue.id)},children:ft.includes(ue.id)?"":""})]}),ft.includes(ue.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ue.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ue.new_text})]})]})]},ue.id))]})]})]})})(),pe==="routine-stats"&&Y&&(()=>{if(!Kt||Kt.id!==Y.id||U.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Y.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Kt||Kt.id!==Y.id?" ...":" ."})]});const R=U[0],H=new Date(R.date),je=new Date,Ne={};U.forEach(Ve=>{Ne[Ve.date]=Ve.completed});const ue=[];let Ae=new Date(H);for(;Ae<=je;){const Ve=Ae.getFullYear(),tt=Ae.getMonth(),gn=`${Ve}-${tt+1}`;ue.find(cs=>cs.key===gn)||ue.push({key:gn,year:Ve,month:tt,days:[]});const Gi=ue.find(cs=>cs.key===gn),hi=Me(Ae),Ki=Ae.getDay(),fi=Cn(Ki),Ic=Y.days.includes(fi);Gi.days.push({date:new Date(Ae),dateStr:hi,day:Ae.getDate(),dayOfWeek:Ki,isCompleted:Ne[hi]===!0,isRoutineDay:Ic,hasTodo:Ne[hi]!==void 0}),Ae.setDate(Ae.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Y.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:ue.map(Ve=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[Ve.year," ",Ve.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),Ve.days.length>0&&Array(Ve.days[0].dayOfWeek).fill(null).map((tt,gn)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${gn}`)),Ve.days.map((tt,gn)=>{if(gn>0&&tt.day===1){const hi=6-Ve.days[gn-1].dayOfWeek;return c.jsxs(it.Fragment,{children:[Array(hi).fill(null).map((Ki,fi)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${gn}-${fi}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${tt.isCompleted?"completed":""} ${tt.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:tt.day}),tt.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},tt.dateStr)}return c.jsxs("div",{className:`history-day-cell ${tt.isCompleted?"completed":""} ${tt.isRoutineDay?"":"not-routine-day"}`,title:`${tt.dateStr}${tt.isRoutineDay?"":" (  )"}${tt.isCompleted?" - ":tt.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:tt.day}),tt.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},tt.dateStr)})]})]},Ve.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[U.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[U.filter(Ve=>Ve.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[U.filter(Ve=>!Ve.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[U.length>0?Math.round(U.filter(Ve=>Ve.completed).length/U.length*100):0,"%"]})]})]})]})]})})(),pe==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var Ne;const R=((Ne=e.visible_dates)==null?void 0:Ne.length)>0?e.visible_dates:[e.date||e.created_date],H=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Fn(e),ke(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Vc(e),ke(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Dl(e),ke(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):R.length>1||H?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Fn(e),ke(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Da(e),ke(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Da(e),ke(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}function Yj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:r,onToggleDay:s,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:d,editingRoutineId:f,editingRoutineText:m,setEditingRoutineText:h,editingRoutineDays:p,onToggleEditDay:b,onStartEdit:T,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:E}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),c.jsx("div",{className:"day-selector",children:Ri.map(S=>c.jsx("button",{onClick:()=>s(S.key),className:`day-button ${r.includes(S.key)?"selected":""}`,disabled:i,children:S.label},S.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(bf,{value:l,onChange:S=>o(S)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:d.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):d.map(S=>c.jsx("div",{className:"routine-item",children:f===S.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:m,onChange:x=>h(x.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Ri.map(x=>c.jsx("button",{onClick:()=>b(x.key),className:`day-button-inline ${p.includes(x.key)?"selected":""}`,children:x.label},x.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v,className:"routine-save-button",disabled:m.trim()===""||p.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:S.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Ri.filter(x=>S.days.includes(x.key)).map(x=>c.jsx("span",{className:"routine-day-badge",children:x.label},x.key))}),S.time_slot&&c.jsx("span",{className:"routine-time-slot",children:S.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>E(S),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>T(S),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(S.id),className:"routine-delete-button",title:"",children:""})]})]})},S.id))})]})}):null}const Vj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Ij({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],r=new Date(i.date),s=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const o=[];let u=new Date(r);for(;u<=s;){const d=u.getFullYear(),f=u.getMonth(),m=`${d}-${f+1}`;o.find(g=>g.key===m)||o.push({key:m,year:d,month:f,days:[]});const h=o.find(g=>g.key===m),p=Me(u),b=u.getDay(),T=Vj(b),v=n.days.includes(T);h.days.push({date:new Date(u),dateStr:p,day:u.getDate(),dayOfWeek:b,isCompleted:l[p]===!0,isRoutineDay:v,hasTodo:l[p]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(d=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((f,m)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${m}`)),d.days.map((f,m)=>{if(m>0&&f.day===1){const p=6-d.days[m-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(p).fill(null).map((b,T)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${m}-${T}`)),c.jsx("div",{className:"history-day-header",children:""},f.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,title:`${f.dateStr}${f.isRoutineDay?"":" (  )"}${f.isCompleted?" - ":f.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},f.dateStr)})]})]},d.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Gj({title:e,className:t,content:n,setContent:a,isEditing:i,isSaving:r,textareaRef:s,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:d,placeholder:f,emptyMessage:m,children:h}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!i&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),i&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:r,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:r,children:" "})]})]})]}),i?c.jsx("textarea",{ref:s,value:n,onChange:p=>a(p.target.value),onKeyDown:d,className:"memo-textarea",placeholder:f}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((p,b)=>c.jsx("div",{className:"memo-preview-line",children:p||""},b))}):c.jsx("div",{className:"memo-empty",children:m})}),h]})}function Ob({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,parentBlock:r,rootSetBlocks:s,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:d,listeners:f,setNodeRef:m,transform:h,transition:p,isDragging:b}=Yc({id:e.id}),T=e.id===o,v=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:T?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:m,style:g,children:c.jsx(Db,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:{...d,...f},parentBlock:r,rootSetBlocks:s,draggingChildIds:l,activeId:o,overId:u})})}function Db({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:r,parentBlock:s,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:d}){const f=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(a===e.id&&f.current){f.current.focus();const S=f.current.value.length;f.current.setSelectionRange(S,S)}},[a,e.id]),_.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=f.current.scrollHeight+"px")},[e.content]);const h=(S,x,w)=>S.map(j=>{if(j.id===x){const O=w(j);return{...O,children:Array.isArray(O.children)?O.children:[]}}return Array.isArray(j.children)&&j.children.length>0?{...j,children:h(j.children,x,w)}:j}),p=S=>{n(x=>h(x,e.id,w=>({...w,content:S})))},b=S=>{n(x=>h(x,e.id,w=>({...w,children:typeof S=="function"?S(w.children):S})))},T=()=>{n(S=>h(S,e.id,x=>{const w=!x.isOpen;if(w&&(!Array.isArray(x.children)||x.children.length===0)){const j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...x,isOpen:w,children:[j]}}return{...x,isOpen:w,children:Array.isArray(x.children)?x.children:[]}}))},v=()=>{const S=t.findIndex(w=>w.id===e.id);if(S<=0)return;const x=t[S-1];n(w=>{const j=[...w];j.splice(S,1);const O={...x,children:[...Array.isArray(x.children)?x.children:[],e],isOpen:!0};return j[S-1]=O,j})},g=()=>{!s||!l||l(S=>{const x=(O,D,q)=>{const ne=[];for(let ce=0;ce<O.length;ce++){const $=O[ce];if($.id===D){const k=$.children.filter(A=>A.id!==q.id),N={...$,children:k};ne.push(N),ne.push(q)}else if(Array.isArray($.children)&&$.children.length>0){const k=x($.children,D,q);k!==$.children?ne.push({...$,children:k}):ne.push($)}else ne.push($)}return ne},w=O=>O.map(D=>{const q=Array.isArray(D.children)&&D.children.length>0;return!q&&D.isOpen?{...D,isOpen:!1}:q?{...D,children:w(D.children)}:D}),j=x(S,s.id,e);return w(j)})},y=S=>{const x=[],w=j=>{for(const O of j)x.push(O),O.isOpen&&Array.isArray(O.children)&&O.children.length>0&&w(O.children)};return w(S),x},E=S=>{if(S.key==="Enter"){if(S.shiftKey)return;{if(m.current){S.preventDefault(),S.stopPropagation();return}S.preventDefault(),S.stopPropagation(),m.current=!0;const x=S.target.selectionStart,w={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};x===0?(n(j=>{const O=j.findIndex(q=>q.id===e.id);if(O===-1)return j;const D=[...j];return D.splice(O,0,w),D}),setTimeout(()=>{i(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(j=>{const O=j.findIndex(q=>q.id===e.id);if(O===-1)return j;const D=[...j];return D.splice(O+1,0,w),D}),setTimeout(()=>{i(w.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(S.key==="Tab"&&S.shiftKey)S.preventDefault(),S.stopPropagation(),s&&l&&g();else if(S.key==="Tab"&&!S.shiftKey)S.preventDefault(),S.stopPropagation(),v();else if(S.key==="Backspace"){const x=S.target.selectionStart;if(e.content===""||x===0){const D=(()=>{if(l){let ce=[];return l($=>(ce=$,$)),ce}return t})(),q=y(D),ne=q.findIndex(ce=>ce.id===e.id);if(ne>0){S.preventDefault(),S.stopPropagation();const ce=q[ne-1],$=(N,A)=>N.filter(z=>z.id!==A).map(z=>Array.isArray(z.children)&&z.children.length>0?{...z,children:$(z.children,A)}:z),k=N=>N.map(A=>{const z=Array.isArray(A.children)&&A.children.length>0;return!z&&A.isOpen?{...A,isOpen:!1}:z?{...A,children:k(A.children)}:A});l?l(N=>{const A=$(N,e.id);return k(A)}):n(N=>{const A=$(N,e.id);return k(A)}),setTimeout(()=>{i(ce.id)},0)}}}else if(S.key==="ArrowUp"&&!S.shiftKey){S.preventDefault(),S.stopPropagation();const w=(()=>{if(l){let D=[];return l(q=>(D=q,q)),D}return t})(),j=y(w),O=j.findIndex(D=>D.id===e.id);O>0&&i(j[O-1].id)}else if(S.key==="ArrowDown"&&!S.shiftKey){S.preventDefault(),S.stopPropagation();const w=(()=>{if(l){let D=[];return l(q=>(D=q,q)),D}return t})(),j=y(w),O=j.findIndex(D=>D.id===e.id);O<j.length-1&&i(j[O+1].id)}};return c.jsxs("div",{className:"notion-block",children:[r&&c.jsx("div",{className:"notion-drag-handle",...r,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:T,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:f,value:e.content,onChange:S=>p(S.target.value),onKeyDown:E,onFocus:()=>i(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(S=>c.jsx(Ob,{block:S,blocks:e.children,setBlocks:b,focusedBlockId:a,setFocusedBlockId:i,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:d},S.id))})]})}function Kj({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:i,onOpenViewer:r}){const[s,l]=_.useState(null),[o,u]=_.useState(null),d=cc(qa(Ir,{activationConstraint:{distance:3}}),qa(Lc,{coordinateGetter:Tb})),f=x=>x.map(w=>{const j=Array.isArray(w.children)&&w.children.length>0;return!j&&w.isOpen?{...w,isOpen:!1}:j?{...w,children:f(w.children)}:w});_.useEffect(()=>{const x=f(e);JSON.stringify(x)!==JSON.stringify(e)&&t(x)},[e]);const m=x=>{const w=[],j=O=>{for(const D of O)w.push(D),D.isOpen&&Array.isArray(D.children)&&D.children.length>0&&j(D.children)};return j(x),w},h=x=>{const w=[],j=O=>{if(Array.isArray(O.children)&&O.children.length>0)for(const D of O.children)w.push(D.id),j(D)};return j(x),w},p=x=>{const{active:w}=x,O=m(e).find(D=>D.id===w.id);l(O)},b=x=>{const{over:w}=x;u((w==null?void 0:w.id)||null)},T=it.useMemo(()=>s?h(s):[],[s]),v=x=>{const{active:w,over:j}=x;if(l(null),u(null),!j||w.id===j.id)return;const O=m(e),D=O.find(K=>K.id===w.id),q=O.find(K=>K.id===j.id);if(!D||!q||h(D).includes(j.id))return;const ce=JSON.parse(JSON.stringify(D)),$=(K,J)=>K.filter(ae=>ae.id!==J).map(ae=>({...ae,children:Array.isArray(ae.children)?$(ae.children,J):[]})),k=(K,J,ae)=>{let de=!1;const me=[];for(const Ke of K)if(me.push(Ke),Ke.id===J&&(me.push(ae),de=!0),Array.isArray(Ke.children)&&Ke.children.length>0){const{newChildren:Dt,wasInserted:ft}=N(Ke.children,J,ae);ft&&(me[me.length-1]={...Ke,children:Dt},de=!0)}return{newTree:me,inserted:de}},N=(K,J,ae)=>{let de=!1;const me=[];for(const Ke of K)if(me.push(Ke),Ke.id===J&&(me.push(ae),de=!0),Array.isArray(Ke.children)&&Ke.children.length>0){const{newChildren:Dt,wasInserted:ft}=N(Ke.children,J,ae);ft&&(me[me.length-1]={...Ke,children:Dt},de=!0)}return{newChildren:me,wasInserted:de}};let A=$(e,D.id);const z=A.length>0&&A[0].id===q.id;let I,Q=!1;if(z)I=[ce,...A],Q=!0;else{const K=k(A,q.id,ce);I=K.newTree,Q=K.inserted}if(!Q){console.warn("Failed to insert block, keeping original state");return}const P=f(I);t(P)},g=m(e).filter(x=>!T.includes(x.id)).map(x=>x.id),y=x=>{const w=j=>j.map(O=>({...O,isOpen:x,children:Array.isArray(O.children)?w(O.children):[]}));t(w(e))},E=x=>{for(const w of x)if(!w.isOpen&&Array.isArray(w.children)&&w.children.length>0||Array.isArray(w.children)&&w.children.length>0&&!E(w.children))return!1;return!0},S=E(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"toggle-all-button",onClick:()=>r&&r(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>i&&i(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>y(!S),title:S?" ":" ",children:S?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(hc,{sensors:d,collisionDetection:uc,onDragStart:p,onDragOver:b,onDragEnd:v,measuring:{droppable:{strategy:Gr.Always}},children:[c.jsx(wr,{items:g,strategy:Gs,children:e.map(x=>c.jsx(Ob,{block:x,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:T,activeId:s==null?void 0:s.id,overId:o},x.id))}),c.jsx(_b,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(Db,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Xj({block:e,depth:t,isSelected:n,isOver:a,dropPosition:i,activeId:r,hasChildren:s,text:l,onClick:o}){const{attributes:u,listeners:d,setNodeRef:f}=Yc({id:e.id}),m=e.id===r,h=a&&i==="top"&&r&&r!==e.id,p=a&&i==="bottom"&&r&&r!==e.id,b=a&&i==="center"&&r&&r!==e.id,T={cursor:"grab",opacity:m?.4:1};return c.jsxs("div",{ref:f,style:T,"data-block-id":e.id,"data-drop-zone":a?i:"",className:`viewer-block ${n?"selected":""} ${s?"has-children":""} ${h?"show-drop-line-top":""} ${p?"show-drop-line-bottom":""} ${b?"show-as-child-target":""}`,onClick:o,...u,...d,children:[c.jsx("div",{className:"block-text",children:l||"(:  )"}),s&&c.jsx("div",{className:"block-arrow",children:""})]})}function Qj({blocks:e=[],setBlocks:t,onClose:n}){const[a,i]=_.useState([]),[r,s]=_.useState(null),[l,o]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),h=_.useRef({x:0,y:0}),p=_.useRef(null),b=_.useRef(null),T=cc(qa(Ir,{activationConstraint:{delay:500,tolerance:8}})),v=$=>{if($===0)return e||[];let k=e;for(let N=0;N<$;N++){const A=a[N];if(!A)return[];const z=k.find(I=>I.id===A);if(!z||!z.children||z.children.length===0)return[];k=z.children}return k},g=($,k,N)=>{if(r)return;const A=a.slice(0,$);A[$]=k,i(A)},y=($,k)=>{for(const N of $){if(N.id===k)return N;if(N.children){const A=y(N.children,k);if(A)return A}}return null},E=($,k,N=0)=>{for(const A of $){if(A.id===k)return N;if(A.children){const z=E(A.children,k,N+1);if(z!==-1)return z}}return-1},S=($,k)=>{if(!$||k===0)return null;const N=document.querySelector(`[data-block-id="${$}"]`);if(!N)return console.log(" overElement not found for id:",$),"top";const A=N.getBoundingClientRect(),I=(k-A.top)/A.height;let Q;if(I<0?Q="top":I>1?Q="bottom":I<.25?Q="top":I>.75?Q="bottom":Q="center",m({overId:$,mouseY:k.toFixed(0),percentage:(I*100).toFixed(0)+"%",position:Q,isCenter:Q==="center",rectTop:A.top.toFixed(0),rectBottom:A.bottom.toFixed(0)}),Q==="center"){const P=y(e,$);if(P&&P.children&&P.children.length>0){const K=E(e,$);if(K!==-1){const J=a.slice(0,K);J[K]=$,JSON.stringify(J)!==JSON.stringify(a)&&i(J)}}}return Q},x=($,k,N)=>{if(!t)return;const A=JSON.parse(JSON.stringify(e));let z=null;const I=(P,K)=>{for(let J=0;J<P.length;J++){if(P[J].id===K)return z=P.splice(J,1)[0],!0;if(P[J].children&&I(P[J].children,K))return!0}return!1};if(I(A,$),!z)return;const Q=(P,K,J,ae)=>{for(let de=0;de<P.length;de++){if(P[de].id===K){const me=ae==="bottom"?de+1:de;return P.splice(me,0,J),!0}if(P[de].children&&Q(P[de].children,K,J,ae))return!0}return!1};Q(A,k,z,N)&&t(A)},w=($,k)=>{if(!t)return;const N=JSON.parse(JSON.stringify(e));let A=null;const z=(P,K)=>{for(let J=0;J<P.length;J++){if(P[J].id===K)return A=P.splice(J,1)[0],!0;if(P[J].children&&z(P[J].children,K))return!0}return!1};if(z(N,$),!A)return;const I=(P,K,J)=>{for(let ae=0;ae<P.length;ae++){if(P[ae].id===K)return P[ae].children||(P[ae].children=[]),P[ae].children.push(J),!0;if(P[ae].children&&I(P[ae].children,K,J))return!0}return!1};if(!I(N,k,A))return;if(t(N),y(N,k)){const P=(J,ae,de=0)=>{for(const me of J){if(me.id===ae)return de;if(me.children){const Ke=P(me.children,ae,de+1);if(Ke!==-1)return Ke}}return-1},K=P(N,k);if(K!==-1){const J=a.slice(0,K);J[K]=k,i(J)}}},j=$=>{const{active:k,activatorEvent:N}=$,A=y(e,k.id);s(A),b.current=k.id,document.body.classList.add("dragging"),N&&N.clientY!==void 0&&(h.current={x:N.clientX||0,y:N.clientY},console.log("   :",h.current));const z=Q=>{h.current={x:Q.clientX,y:Q.clientY};const P=p.current||b.current;if(console.log(" targetId:",P,"currentOver:",p.current,"active:",b.current),P){const K=S(P,Q.clientY);K&&d(K)}},I=Q=>{if(Q.touches[0]){h.current={x:Q.touches[0].clientX,y:Q.touches[0].clientY};const P=p.current||b.current;if(P){const K=S(P,Q.touches[0].clientY);K&&d(K)}}};window.addEventListener("mousemove",z),window.addEventListener("touchmove",I),window._dragMoveCleanup=()=>{window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",I)}},O=$=>{const{over:k}=$;if(console.log(" handleDragOver - over:",k==null?void 0:k.id,"active:",b.current),!k){o(null),d(null),p.current=null,console.log(" over null");return}p.current=k.id,o(k.id);const N=h.current.y,A=S(k.id,N);A&&d(A)},D=$=>{const{active:k,over:N}=$;N&&k.id!==N.id&&(u==="center"?w(k.id,N.id):x(k.id,N.id,u)),s(null),o(null),d(null),m(null),p.current=null,b.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null)},q=()=>{s(null),o(null),d(null),m(null),p.current=null,b.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null)},ne=$=>typeof $.content=="string"?$.content:Array.isArray($.content)?$.content.map(k=>k.text||"").join(""):"",ce=Math.min(a.length+1,10);return c.jsx(hc,{sensors:T,collisionDetection:uc,onDragStart:j,onDragOver:O,onDragEnd:D,onDragCancel:q,children:c.jsxs("div",{className:"key-thoughts-viewer-page",children:[c.jsxs("header",{className:"viewer-header",children:[c.jsx("button",{className:"viewer-close-button",onClick:n,"aria-label":" ",children:""}),c.jsx("h2",{className:"viewer-title",children:"  "}),f&&r&&c.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:f.isCenter?"#22c55e":"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",zIndex:1e4,boxShadow:"0 4px 12px rgba(0,0,0,0.3)",display:"flex",gap:"16px",alignItems:"center"},children:[c.jsxs("div",{children:[": ",f.overId]}),c.jsx("div",{children:"|"}),c.jsxs("div",{children:[": ",f.percentage]}),c.jsx("div",{children:"|"}),c.jsxs("div",{style:{fontSize:"20px",padding:"4px 12px",background:"rgba(255,255,255,0.2)",borderRadius:"4px"},children:[f.position==="top"&&" ",f.position==="center"&&" ",f.position==="bottom"&&" "]})]})]}),c.jsx("main",{className:"viewer-content",children:c.jsx("div",{className:"columns-container",children:Array.from({length:ce}).map(($,k)=>{const N=v(k),A=a[k];if(N.length===0&&k>0)return null;const z=N.map(I=>I.id);return c.jsxs("div",{className:"viewer-column",children:[c.jsx("div",{className:"column-header",children:k===0?"A":k===1?"B":k===2?"C":String.fromCharCode(65+k)}),c.jsx(wr,{items:z,strategy:Gs,children:c.jsx("div",{className:"column-blocks",children:N.map(I=>{const Q=I.id===A,P=I.id===l,K=I.children&&I.children.length>0,J=ne(I);return c.jsx(Xj,{block:I,depth:k,isSelected:Q,isOver:P,dropPosition:u,activeId:r==null?void 0:r.id,hasChildren:K,text:J,onClick:()=>g(k,I.id)},I.id)})})})]},k)})})}),c.jsx(_b,{children:r?c.jsxs("div",{className:"viewer-block dragging-overlay",children:[c.jsx("div",{className:"block-text",children:ne(r)||"(:  )"}),r.children&&r.children.length>0&&c.jsx("div",{className:"block-arrow",children:""})]}):null})]})})}function Jj({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:i,onPermanentDelete:r,formatDate:s}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&c.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const o=l.visible_dates||(l.date?[l.date]:[]),u=o.length>1||l.original_todo_id,d=l.original_todo_id!==null&&l.original_todo_id!==void 0,f=l.hidden_dates&&l.hidden_dates.length>0;let m="  ";return d?m="   ( )":f?m="  ":l.deleted===!0&&(m=o.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",s(l.created_at)]}),l.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${d?"old-style":f?"partial":"complete"}`,children:m})]}),u&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:o.length>0?o.map((h,p)=>c.jsx("span",{className:"carryover-date-badge",children:h},p)):l.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),f&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((h,p)=>c.jsx("span",{className:"hidden-date-badge",children:h},p))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>i(l.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>r(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function Zj({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:i,onDeleteDummySession:r,onDeleteAllDummies:s,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),i.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[i.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&r(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&s()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function Pj({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:r}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:s=>s.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(s=>c.jsx("button",{className:`period-button ${a===s.value?"active":""}`,onClick:()=>i(s.value),children:s.label},s.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const s=n.flatMap(f=>f.dates),l=[...new Set(s)].sort((f,m)=>new Date(f)-new Date(m));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),d=[];for(let f=new Date(o);f<=u;f.setDate(f.getDate()+1))d.push(new Date(f).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:d.map(f=>c.jsx("div",{className:"gantt-date-cell",children:r(new Date(f+"T00:00:00")).split("(")[0]},f))})]}),n.map((f,m)=>{const h=new Set(f.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:f.text,children:c.jsx("span",{className:f.completed?"completed-task":"",children:f.text})}),c.jsx("div",{className:"gantt-timeline",children:d.map(p=>{if(!h.has(p))return c.jsx("div",{className:"gantt-date-cell"},p);const T=p===f.startDate,v=p===f.completedDate;let g="gantt-date-cell has-task";return T?g+=" start-date":v?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:v?c.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},f.originalId)})]})})()})})]})}):null}function Fj({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:r,editingEncouragementId:s,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:f}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async m=>{m.key==="Enter"&&a.trim()!==""&&(await r(a.trim()),i(""))}}),c.jsx("button",{onClick:async()=>{a.trim()!==""&&(await r(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((m,h)=>c.jsx("div",{className:"encouragement-item",children:s===h?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(h,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:m}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(h),u(m)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await f(h)},className:"encouragement-delete-button",title:"",children:""})]})]})},h))})]})}):null}function Wj({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(i=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(i.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i.description})]}),c.jsx("button",{onClick:()=>a(i.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(i.content)?i.content.map((r,s)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[r.type==="toggle"?" ":"",r.content||"( )"]},s)):"( )"})]},i.id))})})]})}):null}function eO({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function tO(e){const[t,n]=_.useState(["memo","routine","normal","key-thoughts"]),[a,i]=_.useState(!1),r=async()=>{var f;if((f=e==null?void 0:e.user)!=null&&f.id)try{const{data:m,error:h}=await he.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(h){console.error("   :",h.message);return}if(m&&m.setting_value){const p=JSON.parse(m.setting_value);n(p)}}catch(m){console.error("   :",m.message)}},s=async f=>{var m;if((m=e==null?void 0:e.user)!=null&&m.id)try{const{data:h,error:p}=await he.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(p){console.error("   :",p.message);return}h?await he.from("user_settings").update({setting_value:JSON.stringify(f),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await he.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(f),user_id:e.user.id}])}catch(h){console.error("   :",h.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:r,moveSectionLeft:f=>{n(m=>{const h=m.indexOf(f);if(h<=0)return m;const p=[...m];return[p[h-1],p[h]]=[p[h],p[h-1]],s(p),p})},moveSectionRight:f=>{n(m=>{const h=m.indexOf(f);if(h===-1||h>=m.length-1)return m;const p=[...m];return[p[h],p[h+1]]=[p[h+1],p[h]],s(p),p})},handleSectionDragEnd:f=>{const{active:m,over:h}=f;m.id!==(h==null?void 0:h.id)&&n(p=>{const b=p.indexOf(m.id),T=p.indexOf(h.id),v=pf(p,b,T);return s(v),v})},handleSectionsContainerDoubleClick:f=>{a&&f.target===f.currentTarget&&i(!1)}}}function nO(e){const[t,n]=_.useState(""),[a,i]=_.useState(!1),[r,s]=_.useState(!1),[l,o]=_.useState(""),u=_.useRef(null),d=async()=>{try{const{data:b,error:T}=await he.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(T)throw T;const v=b&&b.length>0?b[0].content:"";n(v),o(v)}catch(b){console.error("   :",b.message),n(""),o("")}},f=()=>{i(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},m=async()=>{var b;if(!r)try{s(!0);const{data:T}=await he.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);T&&T.length>0?await he.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",T[0].id):await he.from("spec_memos").insert([{content:t,user_id:(b=e==null?void 0:e.user)==null?void 0:b.id}]),o(t),i(!1)}catch(T){console.error("  :",T.message),alert("  .")}finally{s(!1)}},h=()=>{n(l),i(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:i,isSavingMemo:r,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:d,handleStartEditMemoInline:f,handleSaveMemoInline:m,handleCancelEditMemoInline:h,handleMemoKeyDown:b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),m()),b.key==="Escape"&&(b.preventDefault(),h())}}}function aO(e){const[t,n]=_.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,i]=_.useState(!1),r=_.useRef(null),s=_.useRef(null),[l,o]=_.useState(null),[u,d]=_.useState([]),[f,m]=_.useState(!1),h=S=>Array.isArray(S)?S.map(x=>({...x,children:Array.isArray(x.children)?h(x.children):[]})):[],p=async()=>{try{const{data:S,error:x}=await he.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(x){console.error("   :",x.message);return}if(S&&S.setting_value){const w=JSON.parse(S.setting_value),j=h(w);n(j),r.current=JSON.parse(JSON.stringify(j))}}catch(S){console.error("   :",S.message)}},b=async()=>{var S;if((S=e==null?void 0:e.user)!=null&&S.id)try{const{data:x,error:w}=await he.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(w){console.error("   :",w.message);return}x?await he.from("user_settings").update({setting_value:JSON.stringify(t)}).eq("setting_key","key_thoughts_blocks"):await he.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(t),user_id:e.user.id}]),await g(t)}catch(x){console.error("   :",x.message)}},T=(S,x)=>{if(!S||S.length===0||S.length!==x.length)return!0;const w=(j,O)=>{for(let D=0;D<j.length;D++){const q=j[D],ne=O[D];if(q.type!==ne.type)return!0;const ce=q.children?q.children.length:0,$=ne.children?ne.children.length:0;if(ce!==$)return!0;const k=q.content||"",N=ne.content||"";if(Math.abs(k.length-N.length)>=20||$>0&&w(q.children,ne.children))return!0}return!1};return w(S,x)},v=async()=>{try{const S=new Date().toDateString();if(s.current===S)return;const x=new Date;x.setDate(x.getDate()-30);const{error:w}=await he.from("key_thoughts_history").delete().lt("created_at",x.toISOString());w?console.error("   :",w.message):(s.current=S,console.log("   "))}catch(S){console.error("   :",S.message)}},g=async S=>{var x;if((x=e==null?void 0:e.user)!=null&&x.id)try{if(!T(r.current,S))return;const{error:w}=await he.from("key_thoughts_history").insert([{content:S,description:" ",user_id:e.user.id}]);w?console.error("   :",w.message):r.current=JSON.parse(JSON.stringify(S))}catch(w){console.error("   :",w.message)}},y=async()=>{try{const{data:S,error:x}=await he.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(x){console.error("   :",x.message);return}d(S||[])}catch(S){console.error("   :",S.message)}};return{keyThoughtsBlocks:t,setKeyThoughtsBlocks:n,isSavingKeyThoughts:a,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:r,focusedBlockId:l,setFocusedBlockId:o,keyThoughtsHistory:u,setKeyThoughtsHistory:d,showKeyThoughtsHistory:f,setShowKeyThoughtsHistory:m,normalizeBlocks:h,fetchKeyThoughtsContent:p,handleSaveKeyThoughts:b,cleanupOldHistory:v,fetchKeyThoughtsHistory:y,restoreKeyThoughtsVersion:async S=>{try{const x=u.find(D=>D.id===S);if(!x){alert("    .");return}if(!window.confirm(`  ?
    .`))return;T(r.current,t)&&await he.from("key_thoughts_history").insert([{content:t,description:"   ",user_id:e.user.id}]);const w=h(x.content);n(w);const{data:j,error:O}=await he.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(O){console.error("   :",O.message),alert(" .");return}j?await he.from("user_settings").update({setting_value:JSON.stringify(w)}).eq("setting_key","key_thoughts_blocks"):await he.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(w),user_id:e.user.id}]),await he.from("key_thoughts_history").insert([{content:w,description:`  (${new Date(x.created_at).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})`,user_id:e.user.id}]),r.current=JSON.parse(JSON.stringify(w)),alert("  !"),m(!1),await y()}catch(x){console.error("  :",x.message),alert("    : "+x.message)}}}}const iO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],rO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:r})=>{const[s,l]=_.useState([]),[o,u]=_.useState(""),[d,f]=_.useState([]),[m,h]=_.useState(""),[p,b]=_.useState(!1),[T,v]=_.useState(!1),[g,y]=_.useState(null),[E,S]=_.useState(""),[x,w]=_.useState([]),[j,O]=_.useState(!1),[D,q]=_.useState(null),[ne,ce]=_.useState([]),$=_.useRef(new Set),k=async()=>{var B;if((B=e==null?void 0:e.user)!=null&&B.id)try{const{data:ie,error:ge}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(ge)throw ge;l(ie||[])}catch(ie){console.error("  :",ie.message)}},N=async()=>{var B;if(!(o.trim()===""||p))try{b(!0);const ie={text:o,days:d,start_date:Me(n),user_id:(B=e==null?void 0:e.user)==null?void 0:B.id};m&&(ie.time_slot=m);const{data:ge,error:qe}=await t.from("routines").insert([ie]).select();if(qe)throw qe;l([ge[0],...s]),u(""),f([]),h("")}catch(ie){console.error("  :",ie.message)}finally{b(!1)}},A=async(B,ie,ge,qe=null,Ze=!1,st="",ke=null)=>{var pe;try{if(Ze){const{error:Ye}=await t.from("todos").update({routine_id:null}).eq("id",B);if(Ye)throw Ye;a(Ue=>Ue.map(xe=>xe.id===B?{...xe,routine_id:null}:xe));return}if(qe){const{error:Ye}=await t.from("routines").update({days:ge,time_slot:st}).eq("id",qe);if(Ye)throw Ye;const{error:Ue}=await t.from("todos").update({is_pending_routine:ge.length===0}).eq("id",B);if(Ue)throw Ue;l(xe=>xe.map(Xe=>Xe.id===qe?{...Xe,days:ge,time_slot:st}:Xe)),a(xe=>xe.map(Xe=>Xe.id===B?{...Xe,is_pending_routine:ge.length===0}:Xe))}else{const Ye={text:ie,days:ge,time_slot:st,start_date:ke||Me(n),user_id:(pe=e==null?void 0:e.user)==null?void 0:pe.id},{data:Ue,error:xe}=await t.from("routines").insert([Ye]).select();if(xe)throw xe;const{error:Xe}=await t.from("todos").update({routine_id:Ue[0].id,is_pending_routine:ge.length===0}).eq("id",B);if(Xe)throw Xe;a(Be=>Be.map(Gt=>Gt.id===B?{...Gt,routine_id:Ue[0].id,is_pending_routine:ge.length===0}:Gt)),l(Be=>[Ue[0],...Be])}}catch(Ye){console.error("  :",Ye.message)}},z=B=>{y(B.id),S(B.text),w(B.days)},I=()=>{y(null),S(""),w([])},Q=async()=>{if(!(!g||E.trim()===""||x.length===0))try{const{error:B}=await t.from("routines").update({text:E.trim(),days:x}).eq("id",g);if(B)throw B;l(s.map(ie=>ie.id===g?{...ie,text:E.trim(),days:x}:ie)),I()}catch(B){console.error("  :",B.message)}},P=B=>{w(ie=>ie.includes(B)?ie.filter(ge=>ge!==B):[...ie,B])},K=async B=>{const ie=s.find(Ze=>Ze.id===B),ge=ie?ie.text:" ";if(window.confirm(`  "${ge}"() ?

    ,     .
(   )`))try{const{error:Ze}=await t.from("routines").update({deleted:!0}).eq("id",B);if(Ze)throw Ze;const{error:st}=await t.from("todos").update({routine_id:null}).eq("routine_id",B);st&&console.error("  ID  :",st.message),l(s.filter(ke=>ke.id!==B)),a(ke=>ke.map(pe=>pe.routine_id===B?{...pe,routine_id:null}:pe))}catch(Ze){console.error("  :",Ze.message)}},J=async B=>{var ie;if(!$.current.has(B))try{$.current.add(B);const ge=new Date(B),qe=iO(ge.getDay()),{data:Ze,error:st}=await t.from("routines").select("*").eq("deleted",!1);if(st)throw st;const ke=Ze.filter(pe=>{const Ye=pe.days||[],Ue=Ye.length===0||Ye.includes(qe);if(pe.start_date){const xe=new Date(pe.start_date),Xe=ge>=xe;return Ue&&Xe}return Ue});if(ke.length===0)return;for(const pe of ke){const Ye=pe.text,{data:Ue,error:xe}=await t.from("todos").select("*").eq("routine_id",pe.id).eq("deleted",!1);if(xe)throw xe;if(Ue&&Ue.length>1){console.warn(` ${pe.id}    (${Ue.length}).     .`);for(let Be=1;Be<Ue.length;Be++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Ue[Be].id)}const Xe=Ue&&Ue.length>0?Ue[0]:null;if(Xe){const Be=Xe.visible_dates||[];if(Be.includes(B))continue;const Gt=[...Be,B].sort(),{error:$t}=await t.from("todos").update({visible_dates:Gt}).eq("id",Xe.id);$t&&console.error("    :",$t.message)}else{const{error:Be}=await t.from("todos").insert([{text:Ye,completed:!1,date:B,visible_dates:[B],hidden_dates:[],order_index:0,routine_id:pe.id,user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);Be&&console.error("   :",Be.message)}}}catch(ge){console.error("   :",ge.message)}finally{setTimeout(()=>{$.current.delete(B)},1e3)}},ae=async()=>{const ie=Me(new Date);await J(ie)},de=async B=>{try{const{data:ie,error:ge}=await t.from("todos").select("*").eq("routine_id",B.id).eq("deleted",!1);if(ge)throw ge;const qe=ie&&ie.length>0?ie[0]:null;if(qe&&qe.visible_dates){const Ze=qe.visible_dates.sort().map(st=>({id:`${qe.id}-${st}`,date:st,text:qe.text,completed:qe.completed,routine_id:qe.routine_id}));ce(Ze)}else ce([]);q(B),O(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},me=()=>{O(!1),q(null),ce([])},Ke=()=>{v(!0),k()},Dt=()=>{v(!1),u(""),f([])},ft=B=>{f(ie=>ie.includes(B)?ie.filter(ge=>ge!==B):[...ie,B])};return _.useEffect(()=>{e&&k()},[e]),{routines:s,setRoutines:l,routineInput:o,selectedDays:d,selectedTimeSlot:m,isAddingRoutine:p,showRoutineModal:T,editingRoutineId:g,editingRoutineText:E,editingRoutineDays:x,showRoutineHistory:j,selectedRoutineForHistory:D,routineHistoryData:ne,routineCreationInProgress:$,setRoutineInput:u,setSelectedTimeSlot:h,fetchRoutines:k,handleAddRoutine:N,handleDeleteRoutine:K,handleStartEditRoutine:z,handleSaveEditRoutine:Q,handleCancelEditRoutine:I,handleToggleEditDay:P,handleCreateRoutineFromTodo:A,createRoutineTodosForDate:J,createRoutineTodos:ae,fetchRoutineHistory:de,handleCloseRoutineHistory:me,handleOpenRoutine:Ke,handleCloseRoutine:Dt,handleToggleDay:ft}},sO=(e,t,n,a,i,r,s,l,o)=>{const[u,d]=_.useState(""),[f,m]=_.useState(""),[h,p]=_.useState(""),[b,T]=_.useState(!0),[v,g]=_.useState(!1),[y,E]=_.useState(!1),[S,x]=_.useState(null),[w,j]=_.useState(!1),[O,D]=_.useState(!1),[q,ne]=_.useState(""),[ce,$]=_.useState(null),[k,N]=_.useState(!1),[A,z]=_.useState([]),[I,Q]=_.useState(null),[P,K]=_.useState(!1),[J,ae]=_.useState(null),de=_.useRef(new Set),me=_.useRef(new Set),Ke=U=>["sun","mon","tue","wed","thu","fri","sat"][U],Dt=async U=>{var L;if(!de.current.has(U))try{de.current.add(U);const Y=new Date(U),se=Ke(Y.getDay()),{data:F,error:ye}=await t.from("routines").select("*").eq("deleted",!1);if(ye)throw ye;const We=F.filter(Re=>{const Pe=Re.days||[],_e=Pe.length===0||Pe.includes(se);if(Re.start_date){const Bt=new Date(Re.start_date),et=Y>=Bt;return _e&&et}return _e});if(We.length===0)return;for(const Re of We){const Pe=Re.text,{data:_e,error:Bt}=await t.from("todos").select("*").eq("routine_id",Re.id).eq("deleted",!1);if(Bt)throw Bt;if(_e&&_e.length>1){console.warn(` ${Re.id}    (${_e.length}).     .`);for(let Le=1;Le<_e.length;Le++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",_e[Le].id)}const et=_e&&_e.length>0?_e[0]:null;if(et){const Le=et.visible_dates||[];if(Le.includes(U))continue;const mt=[...Le,U].sort(),{error:Xt}=await t.from("todos").update({visible_dates:mt}).eq("id",et.id);Xt&&console.error("    :",Xt.message)}else{const{error:Le}=await t.from("todos").insert([{text:Pe,completed:!1,date:U,visible_dates:[U],hidden_dates:[],order_index:0,routine_id:Re.id,user_id:(L=e==null?void 0:e.user)==null?void 0:L.id}]);Le&&console.error("   :",Le.message)}}}catch(Y){console.error("   :",Y.message)}finally{setTimeout(()=>{de.current.delete(U)},1e3)}},ft=async()=>{var U;if(!((U=e==null?void 0:e.user)!=null&&U.id)){T(!1);return}try{T(!0);const L=Me(n);await Dt(L);const{data:Y,error:se}=await t.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(se)throw se;const F=(Y||[]).filter(ye=>ye.hidden_dates&&Array.isArray(ye.hidden_dates)&&ye.hidden_dates.includes(L)?!1:ye.visible_dates&&Array.isArray(ye.visible_dates)&&ye.visible_dates.length>0?ye.visible_dates.includes(L):ye.date===L);i(F)}catch(L){console.error("   :",L.message)}finally{T(!1)}},B=async()=>{try{const{data:U,error:L}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(L)throw L;z(U||[])}catch(U){console.error("  :",U.message)}},ie=async()=>{var U;if(!(u.trim()===""||y))try{E(!0);const L=a.length>0?Math.max(...a.map(ye=>ye.order_index))+1:1,Y=Me(n),{data:se,error:F}=await t.from("todos").insert([{text:u,completed:!1,order_index:L,date:Y,visible_dates:[Y],hidden_dates:[],user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(F)throw F;i([...a,se[0]]),d("")}catch(L){console.error("   :",L.message)}finally{E(!1)}},ge=async()=>{var U,L;if(!(f.trim()===""||y))try{E(!0);const Y=Me(n),{data:se,error:F}=await t.from("routines").insert([{text:f,days:[],start_date:Y,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(F)throw F;const ye=se[0],We=a.filter(Bt=>!Bt.parent_id&&Bt.is_pending_routine),Re=We.length>0?Math.max(...We.map(Bt=>Bt.order_index))+1:1,{data:Pe,error:_e}=await t.from("todos").insert([{text:f,completed:!1,order_index:Re,date:Y,visible_dates:[Y],hidden_dates:[],routine_id:ye.id,is_pending_routine:!0,user_id:(L=e==null?void 0:e.user)==null?void 0:L.id}]).select();if(_e)throw _e;s([ye,...r]),i([...a,Pe[0]]),m("")}catch(Y){console.error("   :",Y.message)}finally{E(!1)}},qe=async()=>{var U;if(!(h.trim()===""||y))try{E(!0);const L=a.filter(We=>!We.parent_id&&We.routine_id===null),Y=L.length>0?Math.max(...L.map(We=>We.order_index))+1:1,se=Me(n),{data:F,error:ye}=await t.from("todos").insert([{text:h,completed:!1,order_index:Y,date:se,visible_dates:[se],hidden_dates:[],user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(ye)throw ye;i([...a,F[0]]),p("")}catch(L){console.error("   :",L.message)}finally{E(!1)}},Ze=async U=>{const L=a.find(Y=>Y.id===U);if(L)try{const Y=!L.completed,se=Y?new Date().toISOString():null,{error:F}=await t.from("todos").update({completed:Y,completed_at:se}).eq("id",U);if(F)throw F;i(a.map(ye=>ye.id===U?{...ye,completed:Y,completed_at:se}:ye))}catch(Y){console.error("   :",Y.message)}},st=U=>{i(a.filter(L=>L.id!==U))},ke=async U=>{var F;const L=a.find(ye=>ye.id===U);if(!L)return;const Y=((F=L.visible_dates)==null?void 0:F.length)>0?L.visible_dates:[L.date||L.created_date],se=L.original_todo_id!==null&&L.original_todo_id!==void 0;Y.length>1||se?(ae(L),K(!0)):await pe(U)},pe=async U=>{try{const L=a.find(F=>F.id===U);if(!L)return;x(L);const Y=Me(n),{error:se}=await t.from("todos").update({deleted:!0,deleted_date:Y}).eq("id",U);if(se)throw se;i(a.filter(F=>F.id!==U)),j(!0),setTimeout(()=>{j(!1),x(null)},5e3)}catch(L){console.error("   :",L.message)}};return{inputValue:u,setInputValue:d,routineInputValue:f,setRoutineInputValue:m,normalInputValue:h,setNormalInputValue:p,loading:b,isDraggingAny:v,isAdding:y,deletedTodo:S,showUndoToast:w,showSuccessToast:O,successToastMessage:q,lastDeleteAction:ce,showTrashModal:k,trashedItems:A,focusedTodoId:I,setFocusedTodoId:Q,selectedTodoForModal:l,showDeleteConfirmModal:P,setShowDeleteConfirmModal:K,todoToDelete:J,setTodoToDelete:ae,fetchTodos:ft,handleAddTodo:ie,handleAddRoutineTodo:ge,handleAddNormalTodo:qe,handleToggleTodo:Ze,handleDeleteTodo:ke,executeSimpleDelete:pe,hideOnThisDateOnly:async U=>{try{const L=Me(n),se=[...U.hidden_dates||[],L],{error:F}=await t.from("todos").update({hidden_dates:se}).eq("id",U.id);if(F)throw F;i(a.filter(ye=>ye.id!==U.id)),K(!1),ae(null)}catch(L){console.error(" :",L.message)}},deleteCompletely:async U=>{try{const L=Me(n),{error:Y}=await t.from("todos").update({deleted:!0,deleted_date:L}).eq("id",U.id);if(Y)throw Y;i(a.filter(se=>se.id!==U.id)),K(!1),ae(null)}catch(L){console.error(" :",L.message)}},handleUndoDelete:async()=>{if(S)try{const{error:U}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",S.id);if(U)throw U;i(L=>{const Y={...S,deleted:!1,deleted_date:null};return[...L,Y].sort((F,ye)=>F.order_index-ye.order_index)}),j(!1),x(null)}catch(U){console.error("  :",U.message)}},handleRestoreFromTrash:async U=>{if(window.confirm(`  ?

      .`))try{const{error:Y}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",U);if(Y)throw Y;z(A.filter(se=>se.id!==U)),alert(" !")}catch(Y){console.error(" :",Y.message),alert("  : "+Y.message)}},handlePermanentDelete:async U=>{if(window.confirm(`     ?

    .`))try{const{error:Y}=await t.from("todos").delete().eq("id",U);if(Y)throw Y;z(A.filter(se=>se.id!==U)),alert("  .")}catch(Y){console.error("  :",Y.message),alert("   : "+Y.message)}},handleEditTodo:async(U,L)=>{var Y,se;try{let F=null;me.current.add(U);const ye=new Date().toISOString();if(i(Pe=>(F=Pe.find(_e=>_e.id===U),!F||F.text===L?(me.current.delete(U),Pe):Pe.map(_e=>_e.id===U?{..._e,text:L,updated_at:ye}:_e))),!F||F.text===L)return;const{error:We}=await t.from("todo_history").insert([{todo_id:U,previous_text:F.text,new_text:L,changed_on_date:F.date,user_id:(Y=e==null?void 0:e.user)==null?void 0:Y.id}]);if(We&&console.error("  :",We.message),F.original_todo_id){const{data:Pe,error:_e}=await t.from("todos").select("text, date").eq("id",F.original_todo_id).single();!_e&&Pe&&await t.from("todo_history").insert([{todo_id:F.original_todo_id,previous_text:F.text,new_text:L,changed_on_date:F.date,user_id:(se=e==null?void 0:e.user)==null?void 0:se.id}])}const{error:Re}=await t.from("todos").update({text:L}).eq("id",U);Re?(console.error("   :",Re.message),i(Pe=>Pe.map(_e=>_e.id===U?F:_e)),me.current.delete(U)):setTimeout(()=>{me.current.delete(U)},5e3)}catch(F){console.error("   :",F.message),me.current.delete(U)}},handleAddSubTodo:async(U,L)=>{var Y;if(!(!L||L.trim()===""))try{const F=a.filter(Pe=>Pe.parent_id===U).length+1,ye=Me(n),{data:We,error:Re}=await t.from("todos").insert([{text:L.trim(),completed:!1,order_index:F,date:ye,parent_id:U,user_id:(Y=e==null?void 0:e.user)==null?void 0:Y.id}]).select();if(Re)throw Re;i([...a,We[0]])}catch(se){console.error("    :",se.message)}},handleDragEnd:async(U,L)=>{g(!1);const{active:Y,over:se}=U;if(!se||Y.id===se.id)return;const F=a.findIndex(Re=>Re.id===Y.id),ye=a.findIndex(Re=>Re.id===se.id),We=L(a,F,ye);i(We);try{const Re=We.map((Pe,_e)=>({id:Pe.id,order_index:_e+1}));for(const Pe of Re)await t.from("todos").update({order_index:Pe.order_index}).eq("id",Pe.id)}catch(Re){console.error("  :",Re.message)}},fetchTrash:B,handleEmptyTrash:async()=>{if(!(A.length===0||!window.confirm(`   ?

${A.length}   .
    .`)))try{const L=A.map(se=>se.id),{error:Y}=await t.from("todos").delete().in("id",L);if(Y)throw Y;z([]),alert(` ${L.length}   .`)}catch(L){console.error("  :",L.message),alert("   : "+L.message)}},handleRemoveTodoFromUI:st,handleOpenTrash:()=>{N(!0),B()},handleCloseTrash:()=>{N(!1)},handleDragStart:()=>{g(!0)},handleDragCancel:()=>{g(!1)}}},lO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,r]=_.useState(!1),[s,l]=_.useState({}),[o,u]=_.useState([]);return{showTodoHistoryModal:i,todoHistory:s,expandedHistoryIds:o,handleOpenTodoHistoryModal:async h=>{a(h);try{const{data:p,error:b}=await t.from("todo_history").select("*").eq("todo_id",h.id).order("changed_at",{ascending:!1});if(b)throw b;l(T=>({...T,[h.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}r(!0)},handleCloseTodoHistoryModal:()=>{r(!1),a(null),u([])},toggleHistoryDetail:h=>{u(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])}}},oO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=_.useState(!1),[r,s]=_.useState([]),[l,o]=_.useState(!1),[u,d]=_.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:r,setRoutineDaysForModal:s,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:u,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:h=>{t(h);const p=n.find(b=>b.id===h.routine_id);p?(s(p.days||[]),d(p.time_slot||""),o(!1)):(s([]),d(""),o(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),s([]),d(""),o(!1)}}},cO=({session:e,supabase:t,selectedDate:n})=>{const a=_.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async s=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const u=l.filter(d=>(d.hidden_dates||[]).includes(s)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(s)?!1:d.visible_dates.some(h=>h<s):!!(d.date&&d.date<s));if(u.length===0)return;for(const d of u){let f=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?f=[...d.visible_dates,s]:f=d.date?[d.date,s]:[s];const{error:m}=await t.from("todos").update({visible_dates:f}).eq("id",d.id);m&&console.error(` ${d.id}  :`,m.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const s=new Date,l=Me(s),{data:o,error:u}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(u)throw u;if(!o||o.length===0)return;const d=new Date(o[0].date+"T00:00:00");let f=new Date(d);const m=new Date(s);m.setDate(m.getDate()-1);let h=0;for(;f<=m;){const p=Me(f),b=new Date(f);b.setDate(b.getDate()+1);const T=Me(b),{data:v,error:g}=await t.from("todos").select("*").eq("date",p).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(v&&v.length>0){const{data:y,error:E}=await t.from("todos").select("*").eq("date",T).eq("deleted",!1).order("order_index",{ascending:!0});if(E)throw E;const S=new Set;y==null||y.forEach(w=>{w.original_todo_id!==null&&S.add(w.original_todo_id)});const x=v.filter(w=>{const j=w.original_todo_id||w.id;return!S.has(j)});if(x.length>0){const w=x.map(k=>k.original_todo_id||k.id).filter((k,N,A)=>A.indexOf(k)===N),{data:j,error:O}=await t.from("todos").select("id, created_at").in("id",w);if(O)throw O;const D={};j==null||j.forEach(k=>{D[k.id]=k.created_at});const ne=(y?y.length:0)+1,ce=x.map((k,N)=>{const A=k.original_todo_id||k.id;return{text:k.text,completed:!1,date:T,created_at:D[A]||k.created_at,order_index:ne+N,original_todo_id:A,parent_id:null,routine_id:null}}),{error:$}=await t.from("todos").insert(ce);if($)throw $;h+=x.length}}f.setDate(f.getDate()+1)}h>0}catch(s){console.error("    :",s.message)}finally{a.current=!1}}}};function uO(e,t,n){const[a,i]=_.useState([]),[r,s]=_.useState(!1),[l,o]=_.useState(!1);return{dummySessions:a,showDummyModal:r,setShowDummyModal:s,showDummySQL:l,setShowDummySQL:o,handleCreateDummyData:async()=>{try{const h=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),b=[],T=[],v="2025-11-14";b.push({text:`[${h}] : 14--`,date:v,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${h}] : 14-14`,date:v,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${h}] : 14-15`,date:v,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${h}] : 14-16`,date:v,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const g="2025-11-15";b.push({text:`[${h}] : 15--`,date:g,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${h}] : 15-15`,date:g,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${h}] : 15-16`,date:g,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const y="2025-11-16";b.push({text:`[${h}] : 16-`,date:y,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${h}] : 16-16`,date:y,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),b.push({text:`[${h}] : 14-15-`,date:g,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${h}] : 14-15-15`,date:g,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),b.push({text:`[${h}] : 15-16-`,date:y,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${h}] : 15-16-16`,date:y,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${h}] : 14-16-`,date:y,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${h}] : 14-16-16`,date:y,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const E="2025-11-17";b.push({text:`[${h}] : 16-17-`,date:E,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${h}] : 15-17-`,date:E,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${h}] : 14-17-`,date:E,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const S="2025-11-18";b.push({text:`[${h}] : 16-18-`,date:S,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${h}] : 15-18-`,date:S,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:x,error:w}=await t.from("todos").insert(b).select();if(w)throw w;const j=x.find(D=>D.text.includes("14--"));j&&T.push({todo_id:j.id,previous_text:`[${h}] : 14--1`,new_text:`[${h}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:g},{todo_id:j.id,previous_text:`[${h}] : 14--2`,new_text:`[${h}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:y});const O=x.find(D=>D.text.includes("15--"));if(O&&T.push({todo_id:O.id,previous_text:`[${h}] : 15--1`,new_text:`[${h}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:y}),T.length>0){const{error:D}=await t.from("todo_history").insert(T);D&&console.error("  :",D.message)}i(D=>[...D,{sessionId:h,createdAt:new Date().toISOString(),count:b.length,historyCount:T.length}]),alert(`    !
: ${b.length}
: ${T.length}
 ID: ${h}`),n()}catch(h){console.error("   :",h.message),alert("    : "+h.message)}},handleDeleteDummySession:async h=>{if(window.confirm(`   "${h}"   ?

      ,     .`))try{const{data:b,error:T}=await t.from("todos").select("id").like("text",`[${h}]%`);if(T)throw T;if(b&&b.length>0){const g=b.map(E=>E.id),{error:y}=await t.from("todo_history").delete().in("todo_id",g);y&&console.error("  :",y.message)}const{error:v}=await t.from("todos").delete().like("text",`[${h}]%`);if(v)throw v;i(g=>g.filter(y=>y.sessionId!==h)),alert(`  ${h}  !`),n()}catch(b){console.error("   :",b.message),alert("    : "+b.message)}},handleDeleteAllDummies:async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:b}=await t.from("todos").select("id").like("text","[DUMMY-%");if(b)throw b;if(p&&p.length>0){const v=p.map(y=>y.id),{error:g}=await t.from("todo_history").delete().in("todo_id",v);g&&console.error("  :",g.message)}const{error:T}=await t.from("todos").delete().like("text","[DUMMY-%");if(T)throw T;i([]),alert("     !"),n()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},handleRemoveDuplicates:async()=>{try{const{data:h,error:p}=await t.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!h||h.length===0){alert(" .");return}const b={};h.forEach(w=>{b[w.text]||(b[w.text]=[]),b[w.text].push(w)});const T=Object.entries(b).filter(([w,j])=>j.length>1);if(T.length===0){alert("  .");return}let v=`  :

`,g=[];if(T.forEach(([w,j])=>{v+=`"${w}" - ${j.length}
`;const O=j.slice(1);g.push(...O),O.forEach(ne=>{const ce=new Date(ne.created_at).toLocaleString("ko-KR");v+=`    : ${ce}
`});const D=j[0],q=new Date(D.created_at).toLocaleString("ko-KR");v+=`   : ${q}

`}),v+=`
 ${g.length}   .`,!window.confirm(v+`

     ,     .

?`))return;const E=g.map(w=>w.id),{error:S}=await t.from("todo_history").delete().in("todo_id",E);S&&console.error("  :",S.message);const{error:x}=await t.from("todos").delete().in("id",E);if(x)throw x;alert(` ${g.length}   .`),n()}catch(h){console.error("   :",h.message),alert("    : "+h.message)}}}}function dO(e,t){const[n,a]=_.useState([]),[i,r]=_.useState(!1),[s,l]=_.useState(""),[o,u]=_.useState(null),[d,f]=_.useState(""),[m,h]=_.useState(!1),[p,b]=_.useState(""),T=()=>{if(n.length===0)return"";const x=Math.floor(Math.random()*n.length);return n[x]},v=()=>{let x=0;h(!0),setTimeout(()=>{let w=T();for(;w===p&&n.length>1&&x<10;)w=T(),x++;h(!1),b(w)},300)},g=async()=>{try{const{data:x,error:w}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(w)throw w;if(x&&x.length>0){const j=x.map(O=>O.message);a(j),p||b(j[0])}}catch(x){console.error("   :",x.message)}},y=async x=>{var w;try{const{data:j}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),O=j&&j.length>0?j[0].order_index:0,{error:D}=await t.from("encouragement_messages").insert([{message:x,order_index:O+1,user_id:(w=e==null?void 0:e.user)==null?void 0:w.id}]);if(D)throw D;await g()}catch(j){console.error("   :",j.message),alert("   .")}},E=async(x,w)=>{try{const{data:j}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!j||x>=j.length)throw new Error("   .");const O=j[x],{error:D}=await t.from("encouragement_messages").update({message:w}).eq("id",O.id);if(D)throw D;await g()}catch(j){console.error("   :",j.message),alert("   .")}},S=async x=>{try{const{data:w}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!w||x>=w.length)throw new Error("   .");const j=w[x],{error:O}=await t.from("encouragement_messages").delete().eq("id",j.id);if(O)throw O;await g()}catch(w){console.error("   :",w.message),alert("   .")}};return _.useEffect(()=>{n.length>0&&!p&&b(T())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:r,newEncouragementMessage:s,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:u,editingEncouragementText:d,setEditingEncouragementText:f,showEncouragementEmoji:m,currentEncouragementMessage:p,handleEncouragementClick:v,fetchEncouragementMessages:g,addEncouragementMessage:y,updateEncouragementMessage:E,deleteEncouragementMessage:S}}function hO(e){const[t,n]=_.useState(!1),[a,i]=_.useState([]),[r,s]=_.useState("1week"),l=async()=>{try{const d=new Date,f=Me(d);let m=null;if(r!=="all")switch(m=new Date(d),r){case"1week":m.setDate(d.getDate()-7);break;case"2weeks":m.setDate(d.getDate()-14);break;case"1month":m.setMonth(d.getMonth()-1);break;case"3months":m.setMonth(d.getMonth()-3);break;case"6months":m.setMonth(d.getMonth()-6);break}let h=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});m&&(h=h.gte("date",Me(m)));const{data:p,error:b}=await h;if(b)throw b;const T={};for(const g of p||[]){const y=g.original_todo_id||g.id;T[y]||(T[y]=[]),T[y].push(g)}const v=Object.entries(T).map(([g,y])=>{const E=y.sort((O,D)=>new Date(O.date)-new Date(D.date)),S=E[0],x=E.map(O=>O.date);let w=null;for(const O of E)if(O.completed&&O.completed_at){const D=new Date(O.completed_at);w=Me(D);break}const j=E.find(O=>O.date===f);return{text:S.text,originalId:parseInt(g),createdAt:S.created_at,startDate:x[0],endDate:x[x.length-1],dates:x,completed:(j==null?void 0:j.completed)||!1,completedDate:w}}).sort((g,y)=>new Date(g.createdAt)-new Date(y.createdAt));i(v)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:r,setGanttPeriod:s,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function so({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:i,listeners:r,setNodeRef:s,transform:l,transition:o,isDragging:u}=Yc({id:e,disabled:n}),d=_.useRef(null),[f,m]=_.useState(!1),h=S=>{if(n&&a){if(!S.target.closest(".section-header"))return;m(!0),d.current=setTimeout(()=>{a(),m(!1)},500)}},p=()=>{d.current&&(clearTimeout(d.current),d.current=null,m(!1))},b=()=>{d.current&&(clearTimeout(d.current),d.current=null),m(!1)},T=()=>{d.current&&(clearTimeout(d.current),d.current=null),m(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},y=n?{onPointerDown:h,onPointerMove:p,onPointerUp:b,onPointerCancel:T,onPointerLeave:T}:{...i,...r},E=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:s,style:g,className:E,...y,children:t})}function fO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=$j(),[i,r]=_.useState(new Date),[s,l]=_.useState(!1),[o,u]=_.useState("home"),d=_.useRef(new Set),f=cc(qa(Ir,{activationConstraint:{distance:8}}),qa(eh,{activationConstraint:{delay:200,tolerance:8}}),qa(Lc,{coordinateGetter:Tb})),m=cc(qa(Ir,{activationConstraint:{distance:8}}),qa(eh,{activationConstraint:{delay:200,tolerance:8}})),[h,p]=_.useState([]),[b,T]=_.useState(null),{showTodoHistoryModal:v,todoHistory:g,expandedHistoryIds:y,handleOpenTodoHistoryModal:E,handleCloseTodoHistoryModal:S,toggleHistoryDetail:x}=lO({session:e,supabase:he,selectedTodoForModal:b,setSelectedTodoForModal:T}),{showRoutineModal:w,routines:j,setRoutines:O,routineInput:D,setRoutineInput:q,selectedDays:ne,selectedTimeSlot:ce,setSelectedTimeSlot:$,isAddingRoutine:k,editingRoutineId:N,editingRoutineText:A,setEditingRoutineText:z,showRoutineHistory:I,selectedRoutineForHistory:Q,routineHistoryData:P,editingRoutineDays:K,fetchRoutines:J,handleAddRoutine:ae,handleCreateRoutineFromTodo:de,handleStartEditRoutine:me,handleCancelEditRoutine:Ke,handleSaveEditRoutine:Dt,handleToggleEditDay:ft,handleDeleteRoutine:B,fetchRoutineHistory:ie,handleCloseRoutineHistory:ge,handleOpenRoutine:qe,handleCloseRoutine:Ze,handleToggleDay:st,createRoutineTodos:ke}=rO({session:e,supabase:he,selectedDate:i,setTodos:p,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:pe,routineDaysForModal:Ye,setRoutineDaysForModal:Ue,isEditingRoutineInModal:xe,setIsEditingRoutineInModal:Xe,routineTimeSlotForModal:Be,setRoutineTimeSlotForModal:Gt,handleOpenTodoRoutineSetupModal:$t,handleCloseTodoRoutineSetupModal:Nn}=oO({selectedTodoForModal:b,setSelectedTodoForModal:T,routines:j}),{carryOverIncompleteTodos:Ii}=cO({session:e,supabase:he,selectedDate:i}),{routineInputValue:fn,setRoutineInputValue:An,normalInputValue:Kt,setNormalInputValue:ui,loading:U,isDraggingAny:L,isAdding:Y,showUndoToast:se,showSuccessToast:F,successToastMessage:ye,lastDeleteAction:We,showTrashModal:Re,trashedItems:Pe,focusedTodoId:_e,setFocusedTodoId:Bt,showDeleteConfirmModal:et,setShowDeleteConfirmModal:Le,todoToDelete:mt,fetchTodos:Xt,handleAddRoutineTodo:Qt,handleAddNormalTodo:Lt,handleToggleTodo:Jt,handleDeleteTodo:Zt,handleRestoreFromTrash:pt,handlePermanentDelete:mn,handleAddSubTodo:Pt,handleEditTodo:Ft,handleDragStart:sa,handleDragCancel:la,handleDragEnd:Cn,handleOpenTrash:Fn,handleCloseTrash:Da,handleEmptyTrash:Vc,handleUndoDelete:Dl,hideOnThisDateOnly:Nl,deleteCompletely:Al,handleRemoveTodoFromUI:di}=sO(e,he,i,h,p,j,O,b),ls=C=>{Bt(C)},os=C=>{console.log("Success:",C)},R=()=>{Dl()},H=()=>{const C=document.querySelector(".memo-section");C&&C.scrollIntoView({behavior:"smooth",block:"start"})},{showGanttChart:je,ganttData:Ne,ganttPeriod:ue,setGanttPeriod:Ae,handleOpenGanttChart:Ve,handleCloseGanttChart:tt,fetchGanttData:gn}=hO(he),{dummySessions:Gi,showDummyModal:hi,setShowDummyModal:Ki,showDummySQL:fi,setShowDummySQL:Ic,handleCreateDummyData:cs,handleDeleteDummySession:Nb,handleDeleteAllDummies:Ab,handleRemoveDuplicates:Cb}=uO(e,he,Xt),[mO,gO]=_.useState(!1),{memoContent:Rb,setMemoContent:Mb,isSavingMemo:kb,isEditingMemoInline:Gc,memoTextareaRef:Ub,fetchMemoContent:zb,handleStartEditMemoInline:$b,handleSaveMemoInline:Bb,handleCancelEditMemoInline:Lb,handleMemoKeyDown:Hb}=nO(e),{keyThoughtsBlocks:_f,setKeyThoughtsBlocks:wf,focusedBlockId:qb,setFocusedBlockId:Yb,keyThoughtsHistory:Vb,showKeyThoughtsHistory:Ib,setShowKeyThoughtsHistory:Sf,fetchKeyThoughtsContent:Gb,fetchKeyThoughtsHistory:Kb,restoreKeyThoughtsVersion:Xb}=aO(e),{encouragementMessages:Qb,showEncouragementModal:Jb,setShowEncouragementModal:xf,newEncouragementMessage:Zb,setNewEncouragementMessage:Pb,editingEncouragementId:Fb,setEditingEncouragementId:Wb,editingEncouragementText:e_,setEditingEncouragementText:t_,showEncouragementEmoji:n_,currentEncouragementMessage:a_,handleEncouragementClick:i_,fetchEncouragementMessages:r_,addEncouragementMessage:s_,updateEncouragementMessage:l_,deleteEncouragementMessage:o_}=dO(e,he),[Na,c_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),u_=tO(e),{sectionOrder:Ef,isReorderMode:us,setIsReorderMode:ds,fetchSectionOrder:d_,handleSectionDragEnd:h_,handleSectionsContainerDoubleClick:f_}=u_,Xi=_.useRef(null),[m_,g_]=_.useState(0),Kc=_.useRef(null),y_=()=>{const C=new Date(i);C.setDate(C.getDate()-1),r(C)},v_=()=>{const C=new Date(i);C.setDate(C.getDate()+1),r(C)},p_=C=>{const ee=new Date(C.target.value+"T00:00:00");r(ee)},b_=async(C,ee)=>{try{const te=Me(C),re=Me(ee),{data:X,error:V}=await he.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(V)throw V;const be=(X||[]).filter(G=>G.hidden_dates&&Array.isArray(G.hidden_dates)&&G.hidden_dates.includes(te)?!1:G.visible_dates&&Array.isArray(G.visible_dates)&&G.visible_dates.length>0?G.visible_dates.includes(te):G.date===te);if(be.length===0)return;for(const G of be){let Ce=G.visible_dates||[G.date];if(Ce.includes(re))continue;const Ee=[...Ce,re].sort(),{error:He}=await he.from("todos").update({visible_dates:Ee}).eq("id",G.id);He&&console.error(` ${G.id}  :`,He.message)}}catch(te){console.error("   :",te.message)}};_.useEffect(()=>{let C=null;const ee=()=>{document.body.classList.add("is-scrolling"),C&&clearTimeout(C),C=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",ee),()=>{window.removeEventListener("scroll",ee),C&&clearTimeout(C)}},[]),_.useEffect(()=>{e&&(r_(),zb(),Gb(),J(),d_())},[e]),_.useEffect(()=>{if(!Xi.current)return;const C=Xi.current,ee=Na==="horizontal";let te=!1,re=0,X=0,V=0;const be=nt=>nt.type.includes("touch")?ee?nt.touches[0].pageX:nt.touches[0].pageY:ee?nt.pageX:nt.pageY,G=nt=>{nt.target.closest(".section-block")||(te=!0,re=be(nt),X=ee?C.scrollLeft:C.scrollTop,C.style.transition="none",C.style.transform=ee?"translateX(0)":"translateY(0)",V=0)},Ce=()=>{te&&V!==0&&(C.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",C.style.transform=ee?"translateX(0)":"translateY(0)",setTimeout(()=>{C.style.transition="none",V=0},300)),te=!1},Ee=()=>{V!==0&&(C.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",C.style.transform=ee?"translateX(0)":"translateY(0)",setTimeout(()=>{C.style.transition="none",V=0},300)),te=!1},He=nt=>{if(!te)return;nt.preventDefault();const St=(be(nt)-re)*1.5,gt=X-St,Aa=ee?C.scrollWidth-C.clientWidth:C.scrollHeight-C.clientHeight;if(gt<0){const Qi=-gt;V=Math.min(Qi*.3,100),ee?(C.scrollLeft=0,C.style.transform=`translateX(${V}px)`):(C.scrollTop=0,C.style.transform=`translateY(${V}px)`)}else if(gt>Aa){const Qi=gt-Aa;V=-Math.min(Qi*.3,100),ee?(C.scrollLeft=Aa,C.style.transform=`translateX(${V}px)`):(C.scrollTop=Aa,C.style.transform=`translateY(${V}px)`)}else V=0,C.style.transform=ee?"translateX(0)":"translateY(0)",ee?C.scrollLeft=gt:C.scrollTop=gt},yn=nt=>{ee&&nt.target.closest(".section-block")&&nt.deltaX!==0&&nt.preventDefault()};return C.addEventListener("mousedown",G),document.addEventListener("mouseup",Ee),document.addEventListener("mouseleave",Ce),C.addEventListener("mousemove",He),C.addEventListener("touchstart",G,{passive:!0}),C.addEventListener("touchmove",He,{passive:!1}),C.addEventListener("touchend",Ee),C.addEventListener("touchcancel",Ee),C.addEventListener("wheel",yn,{passive:!1}),()=>{C.removeEventListener("mousedown",G),document.removeEventListener("mouseup",Ee),document.removeEventListener("mouseleave",Ce),C.removeEventListener("mousemove",He),C.removeEventListener("touchstart",G),C.removeEventListener("touchmove",He),C.removeEventListener("touchend",Ee),C.removeEventListener("touchcancel",Ee),C.removeEventListener("wheel",yn)}},[Na,h,j]),_.useEffect(()=>{if(Na!=="horizontal"||!Xi.current)return;const C=Xi.current,ee=()=>{const te=C.querySelectorAll(".section-block");if(te.length===0)return;const re=C.getBoundingClientRect(),X=re.left+re.width/2;let V=0,be=1/0;te.forEach((G,Ce)=>{const Ee=G.getBoundingClientRect(),He=Ee.left+Ee.width/2,yn=Math.abs(He-X);yn<be&&(be=yn,V=Ce)}),g_(V)};return C.addEventListener("scroll",ee),ee(),()=>C.removeEventListener("scroll",ee)},[Na,h,j]),_.useEffect(()=>{if(!Kc.current)return;const C=Kc.current;let ee=!1,te=0,re=0,X=0;const V=Ee=>{Ee.target.closest(".section-block")||(ee=!0,te=Ee.pageY,re=C.scrollTop,C.style.transition="none",C.style.transform="translateY(0)",X=0)},be=()=>{ee&&X!==0&&(C.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",C.style.transform="translateY(0)",setTimeout(()=>{C.style.transition="none",X=0},300)),ee=!1},G=()=>{X!==0&&(C.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",C.style.transform="translateY(0)",setTimeout(()=>{C.style.transition="none",X=0},300)),ee=!1},Ce=Ee=>{if(!ee)return;Ee.preventDefault();const yn=(Ee.pageY-te)*1.5,nt=re-yn,wt=C.scrollHeight-C.clientHeight;if(nt<0){const St=-nt;X=Math.min(St*.3,100),C.scrollTop=0,C.style.transform=`translateY(${X}px)`}else if(nt>wt){const St=nt-wt;X=-Math.min(St*.3,100),C.scrollTop=wt,C.style.transform=`translateY(${X}px)`}else X=0,C.style.transform="translateY(0)",C.scrollTop=nt};return C.addEventListener("mousedown",V),document.addEventListener("mouseup",G),document.addEventListener("mouseleave",be),C.addEventListener("mousemove",Ce),()=>{C.removeEventListener("mousedown",V),document.removeEventListener("mouseup",G),document.removeEventListener("mouseleave",be),C.removeEventListener("mousemove",Ce)}},[h,j]),_.useEffect(()=>{je&&gn()},[ue]),_.useEffect(()=>{const C=async()=>{const te=new Date,re=new Date(te);re.setHours(24,0,0,0);const X=re.getTime()-te.getTime();return setTimeout(async()=>{const be=new Date(te),G=new Date(te);G.setDate(G.getDate()+1),await b_(be,G),await ke(),r(new Date),C()},X)},ee=C();return()=>clearTimeout(ee)},[]),_.useEffect(()=>{(async()=>{var G;const re=Me(i),V=Me(new Date);re===V&&((G=e==null?void 0:e.user)!=null&&G.id)&&await Ii(re),await Xt()})();const ee=Me(i),te=he.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${ee}`},re=>{re.eventType==="INSERT"?p(X=>X.some(be=>be.id===re.new.id)?X:[...X,re.new].sort((be,G)=>be.order_index-G.order_index)):re.eventType==="UPDATE"?p(X=>d.current.has(re.new.id)?X:X.map(V=>V.id===re.new.id?re.new:V).sort((V,be)=>V.order_index-be.order_index)):re.eventType==="DELETE"&&p(X=>X.filter(V=>V.id!==re.old.id))}).subscribe(re=>{});return()=>{he.removeChannel(te)}},[i,e]),_.useEffect(()=>{if(L){const C=window.scrollY,ee=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${C}px`,document.body.style.left="0",document.body.style.right="0",ee>0&&(document.body.style.paddingRight=`${ee}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,C)}}},[L]);const Tf=eO({authLoading:t,session:e,handleGoogleLogin:n});return Tf||(o==="keyThoughtsViewer"?c.jsx(Qj,{blocks:_f,setBlocks:wf,onClose:()=>u("home")}):c.jsxs("div",{className:`app ${L?"dragging-active":""}`,children:[c.jsx(Bj,{showSidebar:s,setShowSidebar:l,session:e,viewMode:Na,setViewMode:c_,onOpenTrash:Fn,onOpenRoutine:qe,onOpenMemo:H,onScrollToKeyThoughts:()=>{const C=document.querySelector(".key-thoughts-section");C&&C.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:Ve,onOpenEncouragementModal:()=>xf(!0),onOpenDummyModal:()=>Ki(!0),onLogout:a}),c.jsxs("div",{className:`container ${Na==="horizontal"?"container-wide":""}`,children:[c.jsx(Hj,{showSidebar:s,setShowSidebar:l,selectedDate:i,onDateChange:p_,onPrevDay:y_,onNextDay:v_,showEncouragementEmoji:n_,currentEncouragementMessage:a_,onEncouragementClick:i_,isReorderMode:us,setIsReorderMode:ds,setSelectedDate:r}),c.jsxs("div",{className:"content-scrollable",ref:Kc,children:[c.jsx(hc,{sensors:f,collisionDetection:uc,onDragStart:sa,onDragEnd:Cn,onDragCancel:la,children:c.jsx("div",{className:"todo-list",children:U?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const C=h.filter(re=>!re.parent_id&&re.routine_id!==null&&!re.is_pending_routine),ee=h.filter(re=>!re.parent_id&&re.is_pending_routine),te=h.filter(re=>!re.parent_id&&re.routine_id===null&&!re.is_pending_routine);return c.jsx(hc,{sensors:m,collisionDetection:uc,onDragEnd:h_,children:c.jsx(wr,{items:Ef,strategy:Sj,children:c.jsx("div",{ref:Xi,className:`sections-container ${Na==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:f_,children:Ef.map(re=>re==="memo"?c.jsx(so,{id:"memo",disabled:!us,onLongPress:()=>ds(!0),children:c.jsxs(Gj,{title:"  ",className:"memo-section section-block",content:Rb,setContent:Mb,isEditing:Gc,isSaving:kb,textareaRef:Ub,onStartEdit:$b,onSave:Bb,onCancel:Lb,onKeyDown:Hb,placeholder:" ...",emptyMessage:" ",children:[!Gc&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>Ic(!fi),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:X=>{X.currentTarget.style.background="rgba(255, 255, 255, 0.1)",X.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:X=>{X.currentTarget.style.background="rgba(255, 255, 255, 0.05)",X.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:fi?"":""})]})}),fi&&!Gc&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const X=new Date,V=Cl=>{const mi=new Date(X);return mi.setDate(mi.getDate()+Cl),mi.toISOString().split("T")[0]},be=Cl=>{const mi=new Date(X);return mi.setDate(mi.getDate()+Cl),mi.getDate()},G=Date.now(),Ce=be(-2),Ee=be(-1),He=be(0),yn=be(1),nt=be(2),wt=V(-2),St=V(-1),gt=V(0),Aa=V(1),Qi=V(2),__=`--         (${gt} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${Ce}--', '${wt}', false, '${wt}T09:00:00+09:00', 1001),
  ('[DUMMY-${G}] : ${Ce}-${Ce}', '${wt}', true, '${wt}T09:10:00+09:00', 1002),
  ('[DUMMY-${G}] : ${Ce}-${Ee}', '${wt}', true, '${wt}T09:20:00+09:00', 1003),
  ('[DUMMY-${G}] : ${Ce}-${He}', '${wt}', true, '${wt}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${Ee}--', '${St}', false, '${St}T10:00:00+09:00', 1005),
  ('[DUMMY-${G}] : ${Ee}-${Ee}', '${St}', true, '${St}T10:10:00+09:00', 1006),
  ('[DUMMY-${G}] : ${Ee}-${He}', '${St}', true, '${St}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${He}-', '${gt}', false, '${gt}T11:00:00+09:00', 1008),
  ('[DUMMY-${G}] : ${He}-${He}', '${gt}', true, '${gt}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${Ce}-${Ee}-', '${St}', false, '${wt}T14:00:00+09:00', 1010),
  ('[DUMMY-${G}] : ${Ce}-${Ee}-${Ee}', '${St}', true, '${wt}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${Ee}-${He}-', '${gt}', false, '${St}T15:00:00+09:00', 1012),
  ('[DUMMY-${G}] : ${Ee}-${He}-${He}', '${gt}', true, '${St}T15:10:00+09:00', 1013),
  ('[DUMMY-${G}] : ${Ce}-${He}-', '${gt}', false, '${wt}T15:00:00+09:00', 1014),
  ('[DUMMY-${G}] : ${Ce}-${He}-${He}', '${gt}', true, '${wt}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${He}-${yn}-', '${Aa}', false, '${gt}T16:00:00+09:00', 1016),
  ('[DUMMY-${G}] : ${Ee}-${yn}-', '${Aa}', false, '${St}T16:00:00+09:00', 1017),
  ('[DUMMY-${G}] : ${Ce}-${yn}-', '${Aa}', false, '${wt}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${G}] : ${He}-${nt}-', '${Qi}', false, '${gt}T17:00:00+09:00', 1019),
  ('[DUMMY-${G}] : ${Ee}-${nt}-', '${Qi}', false, '${St}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${G}] : ${Ce}--1', '[DUMMY-${G}] : ${Ce}--2', '${St}T12:00:00+09:00', '${St}'
FROM todos WHERE text = '[DUMMY-${G}] : ${Ce}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${G}] : ${Ce}--2', '[DUMMY-${G}] : ${Ce}--', '${gt}T12:00:00+09:00', '${gt}'
FROM todos WHERE text = '[DUMMY-${G}] : ${Ce}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${G}] : ${Ee}--1', '[DUMMY-${G}] : ${Ee}--', '${gt}T13:00:00+09:00', '${gt}'
FROM todos WHERE text = '[DUMMY-${G}] : ${Ee}--' LIMIT 1;`,Ji=document.createElement("textarea");Ji.value=__,Ji.style.position="fixed",Ji.style.opacity="0",document.body.appendChild(Ji),Ji.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(Ji)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const X=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,V=document.createElement("textarea");V.value=X,V.style.position="fixed",V.style.opacity="0",document.body.appendChild(V),V.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(V)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):re==="routine"?c.jsx(so,{id:"routine",disabled:!us,onLongPress:()=>ds(!0),children:c.jsxs(Vg,{title:" ",className:"routine-section section-block",inputValue:fn,setInputValue:An,onAddTodo:Qt,isAdding:Y,placeholder:"   ...",children:[C.length>0&&c.jsx(wr,{items:C.map(X=>X.id),strategy:Gs,children:C.map((X,V)=>{const be=h.filter(G=>G.parent_id===X.id);return c.jsx(Eo,{todo:X,index:V,onToggle:Jt,onDelete:Zt,onEdit:Ft,formatDate:pi,formatDateOnly:Wn,isFocused:_e===X.id,onFocus:ls,onAddSubTodo:Pt,subtodos:be,level:0,onCreateRoutine:de,routines:j,onShowRoutineHistory:ie,onOpenRoutineSetupModal:$t,onOpenHistoryModal:E,currentPageDate:Me(i),onRemoveFromUI:di,showSuccessMessage:os},X.id)})}),C.length>0&&ee.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),ee.length>0&&c.jsx(wr,{items:ee.map(X=>X.id),strategy:Gs,children:ee.map((X,V)=>{const be=h.filter(G=>G.parent_id===X.id);return c.jsx(Eo,{todo:X,index:V,onToggle:Jt,onDelete:Zt,onEdit:Ft,formatDate:pi,formatDateOnly:Wn,isFocused:_e===X.id,onFocus:ls,onAddSubTodo:Pt,subtodos:be,level:0,onCreateRoutine:de,routines:j,onShowRoutineHistory:ie,onOpenRoutineSetupModal:$t,onOpenHistoryModal:E,currentPageDate:Me(i),isPendingRoutine:!0,onRemoveFromUI:di,showSuccessMessage:os},X.id)})})]})},"routine"):re==="normal"?c.jsx(so,{id:"normal",disabled:!us,onLongPress:()=>ds(!0),children:c.jsx(Vg,{title:"  ",className:"normal-section section-block",inputValue:Kt,setInputValue:ui,onAddTodo:Lt,isAdding:Y,placeholder:"   ...",children:te.length>0&&c.jsx(wr,{items:te.map(X=>X.id),strategy:Gs,children:te.map((X,V,be)=>{const G=h.filter(wt=>wt.parent_id===X.id),Ce=Me(i),Ee=X.created_at?X.created_at.split("T")[0]:X.date,He=be[V+1],yn=He?He.created_at?He.created_at.split("T")[0]:He.date:null,nt=Ee<Ce&&yn>=Ce;return c.jsxs(it.Fragment,{children:[c.jsx(Eo,{todo:X,index:V,onToggle:Jt,onDelete:Zt,onEdit:Ft,formatDate:pi,formatDateOnly:Wn,isFocused:_e===X.id,onFocus:ls,onAddSubTodo:Pt,subtodos:G,level:0,onCreateRoutine:de,routines:j,onShowRoutineHistory:ie,onOpenRoutineSetupModal:$t,onOpenHistoryModal:E,currentPageDate:Ce,onRemoveFromUI:di,showSuccessMessage:os}),nt&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},X.id)})})})},"normal"):re==="key-thoughts"?c.jsx(so,{id:"key-thoughts",disabled:!us,onLongPress:()=>ds(!0),children:c.jsx(Kj,{blocks:_f,setBlocks:wf,focusedBlockId:qb,setFocusedBlockId:Yb,onOpenViewer:()=>u("keyThoughtsViewer"),onShowHistory:()=>{Kb(),Sf(!0)}})},"key-thoughts"):null)})})})})()})}),c.jsx(qj,{viewMode:Na,currentSectionIndex:m_,sectionsContainerRef:Xi})]}),se&&c.jsx(Yg,{message:"",onUndo:Dl}),F&&c.jsx(Yg,{message:ye,onUndo:We?R:null,variant:"success"}),et&&mt&&c.jsx("div",{className:"modal-overlay",onClick:()=>Le(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>Le(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:mt.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Nl(mt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>Al(mt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),v&&b&&(()=>{const C=b,ee=C.visible_dates&&C.visible_dates.length>0?C.visible_dates:[C.date],te=ee[0],re=ee.map(V=>({id:`${C.id}-${V}`,date:V})),X=g[C.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:S,children:c.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:S,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:pi(C.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Wn(te?new Date(te+"T00:00:00"):new Date(C.date+"T00:00:00"))})]}),re.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:re.map((V,be)=>{const G=V.date===C.date,Ce=Wn(new Date(V.date+"T00:00:00"));return c.jsxs("span",{children:[be>0&&"  ",c.jsxs("span",{style:G?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ce.split("(")[0],G?"()":""]})]},V.id)})})]}),(()=>{const V=new Date(C.created_at).toISOString().split("T")[0],be=C.date;return V!==be&&re.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Wn(new Date(C.date+"T00:00:00"))})]}):null})(),X.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",X.length,")"]}),X.map(V=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[pi(V.changed_at),V.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Wn(new Date(V.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:be=>{be.stopPropagation(),x(V.id)},children:y.includes(V.id)?"":""})]}),y.includes(V.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:V.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:V.new_text})]})]})]},V.id))]})]})})]})})})(),pe&&b&&(()=>{const C=b,ee=j.find(te=>te.id===C.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:Nn,children:c.jsxs("div",{className:"modal-content",onClick:te=>te.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:Nn,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:ee&&!xe?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ri.filter(te=>ee.days.includes(te.key)).map(te=>c.jsx("span",{className:"routine-day-badge",children:te.label},te.key))}),ee.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",ee.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:te=>{te.stopPropagation(),ee&&(Ue(ee.days),Gt(ee.time_slot||""),Xe(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async te=>{te.stopPropagation(),ee&&C&&(await de(C.id,C.text,[],null,!0),Nn())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:xe?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ri.map(te=>c.jsx("button",{onClick:re=>{re.stopPropagation(),handleToggleRoutineDayInModal(te.key)},className:`day-button-inline ${Ye.includes(te.key)?"selected":""}`,children:te.label},te.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(bf,{value:Be,onChange:te=>Gt(te)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async te=>{te.stopPropagation(),C&&(xe&&ee?await de(C.id,C.text,Ye,ee.id,!1,Be):await de(C.id,C.text,Ye,null,!1,Be),Nn())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:te=>{te.stopPropagation(),Nn()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx(Yj,{showRoutineModal:w,onClose:Ze,routineInput:D,setRoutineInput:q,isAddingRoutine:k,selectedDays:ne,onToggleDay:st,selectedTimeSlot:ce,setSelectedTimeSlot:$,onAddRoutine:ae,routines:j,editingRoutineId:N,editingRoutineText:A,setEditingRoutineText:z,editingRoutineDays:K,onToggleEditDay:ft,onStartEdit:me,onSaveEdit:Dt,onCancelEdit:Ke,onDelete:B,onShowHistory:ie}),c.jsx(Ij,{showRoutineHistory:I,onClose:ge,selectedRoutine:Q,routineHistoryData:P}),c.jsx(Jj,{showTrashModal:Re,onClose:Da,trashedItems:Pe,onEmptyTrash:Vc,onRestoreFromTrash:pt,onPermanentDelete:mn,formatDate:pi}),c.jsx(Zj,{showDummyModal:hi,onClose:()=>Ki(!1),onCreateDummyData:cs,onRemoveDuplicates:Cb,dummySessions:Gi,onDeleteDummySession:Nb,onDeleteAllDummies:Ab,formatDate:pi}),c.jsx(Pj,{showGanttChart:je,onClose:tt,ganttData:Ne,ganttPeriod:ue,setGanttPeriod:Ae,formatDateOnly:Wn}),c.jsx(Fj,{showEncouragementModal:Jb,onClose:()=>xf(!1),encouragementMessages:Qb,newEncouragementMessage:Zb,setNewEncouragementMessage:Pb,onAddEncouragementMessage:s_,editingEncouragementId:Fb,editingEncouragementText:e_,setEditingEncouragementId:Wb,setEditingEncouragementText:t_,onUpdateEncouragementMessage:l_,onDeleteEncouragementMessage:o_}),c.jsx(Wj,{showKeyThoughtsHistory:Ib,onClose:()=>Sf(!1),keyThoughtsHistory:Vb,onRestoreVersion:Xb})]})]}))}px.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(fO,{})}));
