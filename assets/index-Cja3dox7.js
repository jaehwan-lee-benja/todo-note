function Pb(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Xg={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=Symbol.for("react.transitional.element"),e_=Symbol.for("react.fragment");function Qg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:Wb,type:e,key:a,ref:t!==void 0?t:null,props:n}}fc.Fragment=e_;fc.jsx=Qg;fc.jsxs=Qg;Xg.exports=fc;var c=Xg.exports,Jg={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.transitional.element"),t_=Symbol.for("react.portal"),n_=Symbol.for("react.fragment"),a_=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),s_=Symbol.for("react.consumer"),r_=Symbol.for("react.context"),l_=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),c_=Symbol.for("react.memo"),Zg=Symbol.for("react.lazy"),u_=Symbol.for("react.activity"),Of=Symbol.iterator;function d_(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var Pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fg=Object.assign,Wg={};function Xs(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Pg}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ey(){}ey.prototype=Xs.prototype;function nh(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Pg}var ah=nh.prototype=new ey;ah.constructor=nh;Fg(ah,Xs.prototype);ah.isPureReactComponent=!0;var Nf=Array.isArray;function qu(){}var lt={H:null,A:null,T:null,S:null},ty=Object.prototype.hasOwnProperty;function ih(e,t,n){var a=n.ref;return{$$typeof:th,type:e,key:t,ref:a!==void 0?a:null,props:n}}function h_(e,t){return ih(e.type,t,e.props)}function sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function f_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Df=/\/+/g;function Ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f_(""+e.key):t.toString(36)}function m_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(qu,qu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rs(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case th:case t_:r=!0;break;case Zg:return r=e._init,rs(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Ic(e,0):a,Nf(i)?(n="",r!=null&&(n=r.replace(Df,"$&/")+"/"),rs(i,t,n,"",function(u){return u})):i!=null&&(sh(i)&&(i=h_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Df,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(Nf(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Ic(a,o),r+=rs(a,t,n,s,i);else if(o=d_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Ic(a,o++),r+=rs(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return rs(m_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Ml(e,t,n){if(e==null)return e;var a=[],i=0;return rs(e,a,"","",function(s){return t.call(n,s,i++)}),a}function g_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Af=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},y_={map:Ml,forEach:function(e,t,n){Ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Activity=u_;ce.Children=y_;ce.Component=Xs;ce.Fragment=n_;ce.Profiler=i_;ce.PureComponent=nh;ce.StrictMode=a_;ce.Suspense=o_;ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt;ce.__COMPILER_RUNTIME={__proto__:null,c:function(e){return lt.H.useMemoCache(e)}};ce.cache=function(e){return function(){return e.apply(null,arguments)}};ce.cacheSignal=function(){return null};ce.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Fg({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!ty.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return ih(e.type,i,a)};ce.createContext=function(e){return e={$$typeof:r_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:s_,_context:e},e};ce.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)ty.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return ih(e,s,i)};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:l_,render:e}};ce.isValidElement=sh;ce.lazy=function(e){return{$$typeof:Zg,_payload:{_status:-1,_result:e},_init:g_}};ce.memo=function(e,t){return{$$typeof:c_,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=lt.T,n={};lt.T=n;try{var a=e(),i=lt.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(qu,Af)}catch(s){Af(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),lt.T=t}};ce.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()};ce.use=function(e){return lt.H.use(e)};ce.useActionState=function(e,t,n){return lt.H.useActionState(e,t,n)};ce.useCallback=function(e,t){return lt.H.useCallback(e,t)};ce.useContext=function(e){return lt.H.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e,t){return lt.H.useDeferredValue(e,t)};ce.useEffect=function(e,t){return lt.H.useEffect(e,t)};ce.useEffectEvent=function(e){return lt.H.useEffectEvent(e)};ce.useId=function(){return lt.H.useId()};ce.useImperativeHandle=function(e,t,n){return lt.H.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return lt.H.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return lt.H.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return lt.H.useMemo(e,t)};ce.useOptimistic=function(e,t){return lt.H.useOptimistic(e,t)};ce.useReducer=function(e,t,n){return lt.H.useReducer(e,t,n)};ce.useRef=function(e){return lt.H.useRef(e)};ce.useState=function(e){return lt.H.useState(e)};ce.useSyncExternalStore=function(e,t,n){return lt.H.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return lt.H.useTransition()};ce.version="19.2.0";Jg.exports=ce;var p=Jg.exports;const nt=Fb(p);var ny={exports:{}},mc={},ay={exports:{}},iy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,H){var V=U.length;U.push(H);e:for(;0<V;){var le=V-1>>>1,Te=U[le];if(0<i(Te,H))U[le]=H,U[V]=Te,V=le;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var H=U[0],V=U.pop();if(V!==H){U[0]=V;e:for(var le=0,Te=U.length,Ie=Te>>>1;le<Ie;){var je=2*(le+1)-1,ke=U[je],ze=je+1,Ge=U[ze];if(0>i(ke,V))ze<Te&&0>i(Ge,ke)?(U[le]=Ge,U[ze]=V,le=ze):(U[le]=ke,U[je]=V,le=je);else if(ze<Te&&0>i(Ge,V))U[le]=Ge,U[ze]=V,le=ze;else break e}}return H}function i(U,H){var V=U.sortIndex-H.sortIndex;return V!==0?V:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],h=1,d=null,f=3,m=!1,b=!1,S=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(U){for(var H=n(u);H!==null;){if(H.callback===null)a(u);else if(H.startTime<=U)a(u),H.sortIndex=H.expirationTime,t(o,H);else break;H=n(u)}}function _(U){if(S=!1,w(U),!b)if(n(o)!==null)b=!0,x||(x=!0,ee());else{var H=n(u);H!==null&&ve(_,H.startTime-U)}}var x=!1,T=-1,O=5,N=-1;function M(){return E?!0:!(e.unstable_now()-N<O)}function G(){if(E=!1,x){var U=e.unstable_now();N=U;var H=!0;try{e:{b=!1,S&&(S=!1,g(T),T=-1),m=!0;var V=f;try{t:{for(w(U),d=n(o);d!==null&&!(d.expirationTime>U&&M());){var le=d.callback;if(typeof le=="function"){d.callback=null,f=d.priorityLevel;var Te=le(d.expirationTime<=U);if(U=e.unstable_now(),typeof Te=="function"){d.callback=Te,w(U),H=!0;break t}d===n(o)&&a(o),w(U)}else a(o);d=n(o)}if(d!==null)H=!0;else{var Ie=n(u);Ie!==null&&ve(_,Ie.startTime-U),H=!1}}break e}finally{d=null,f=V,m=!1}H=void 0}}finally{H?ee():x=!1}}}var ee;if(typeof y=="function")ee=function(){y(G)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ae=ue.port2;ue.port1.onmessage=G,ee=function(){ae.postMessage(null)}}else ee=function(){v(G,0)};function ve(U,H){T=v(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var V=f;f=H;try{return U()}finally{f=V}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=f;f=U;try{return H()}finally{f=V}},e.unstable_scheduleCallback=function(U,H,V){var le=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,U){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=V+Te,U={id:h++,callback:H,priorityLevel:U,startTime:V,expirationTime:Te,sortIndex:-1},V>le?(U.sortIndex=V,t(u,U),n(o)===null&&U===n(u)&&(S?(g(T),T=-1):S=!0,ve(_,V-le))):(U.sortIndex=Te,t(o,U),b||m||(b=!0,x||(x=!0,ee()))),U},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(U){var H=f;return function(){var V=f;f=H;try{return U.apply(this,arguments)}finally{f=V}}}})(iy);ay.exports=iy;var v_=ay.exports,sy={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=p;function ry(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var ln={d:{f:Ha,r:function(){throw Error(ry(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},b_=Symbol.for("react.portal");function __(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Or=p_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ln;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ry(299));return __(e,t,null,n)};on.flushSync=function(e){var t=Or.T,n=ln.p;try{if(Or.T=null,ln.p=2,e)return e()}finally{Or.T=t,ln.p=n,ln.d.f()}};on.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ln.d.C(e,t))};on.prefetchDNS=function(e){typeof e=="string"&&ln.d.D(e)};on.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=gc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ln.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&ln.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};on.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=gc(t.as,t.crossOrigin);ln.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ln.d.M(e)};on.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=gc(n,t.crossOrigin);ln.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};on.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=gc(t.as,t.crossOrigin);ln.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ln.d.m(e)};on.requestFormReset=function(e){ln.d.r(e)};on.unstable_batchedUpdates=function(e,t){return e(t)};on.useFormState=function(e,t,n){return Or.H.useFormState(e,t,n)};on.useFormStatus=function(){return Or.H.useHostTransitionStatus()};on.version="19.2.0";function ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ly)}catch(e){console.error(e)}}ly(),sy.exports=on;var ds=sy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=v_,oy=p,w_=ds;function C(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cf(e){if(hl(e)!==e)throw Error(C(188))}function S_(e){var t=e.alternate;if(!t){if(t=hl(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cf(i),e;if(s===a)return Cf(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(C(189))}}if(n.alternate!==a)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function hy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=hy(e),t!==null)return t;e=e.sibling}return null}var ot=Object.assign,x_=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),_r=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),my=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),rh=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),Iu=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Gu=Symbol.for("react.activity"),E_=Symbol.for("react.memo_cache_sentinel"),Rf=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Rf&&e[Rf]||e["@@iterator"],typeof e=="function"?e:null)}var T_=Symbol.for("react.client.reference");function Ku(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hs:return"Fragment";case Yu:return"Profiler";case fy:return"StrictMode";case Vu:return"Suspense";case Iu:return"SuspenseList";case Gu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _r:return"Portal";case Ta:return e.displayName||"Context";case my:return(e._context.displayName||"Context")+".Consumer";case rh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lh:return t=e.displayName||null,t!==null?t:Ku(e.type)||"Memo";case Ya:t=e._payload,e=e._init;try{return Ku(e(t))}catch{}}return null}var wr=Array.isArray,ne=oy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ye=w_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ri={pending:!1,data:null,method:null,action:null},Xu=[],fs=-1;function ca(e){return{current:e}}function Vt(e){0>fs||(e.current=Xu[fs],Xu[fs]=null,fs--)}function at(e,t){fs++,Xu[fs]=e.current,e.current=t}var oa=ca(null),Xr=ca(null),ti=ca(null),Oo=ca(null);function No(e,t){switch(at(ti,t),at(Xr,e),at(oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lm(t),e=kp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Vt(oa),at(oa,e)}function Ms(){Vt(oa),Vt(Xr),Vt(ti)}function Qu(e){e.memoizedState!==null&&at(Oo,e);var t=oa.current,n=kp(t,e.type);t!==n&&(at(Xr,e),at(oa,n))}function Do(e){Xr.current===e&&(Vt(oa),Vt(Xr)),Oo.current===e&&(Vt(Oo),il._currentValue=Ri)}var Gc,Mf;function Ei(e){if(Gc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||"",Mf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gc+e+Mf}var Kc=!1;function Xc(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){f=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===u.length)for(a=o.length-1,i=u.length-1;1<=a&&0<=i&&o[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==u[i]){var h=`
`+o[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=i);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ei(n):""}function j_(e,t){switch(e.tag){case 26:case 27:case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return e.child!==t&&t!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Xc(e.type,!1);case 11:return Xc(e.type.render,!1);case 1:return Xc(e.type,!0);case 31:return Ei("Activity");default:return""}}function kf(e){try{var t="",n=null;do t+=j_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ju=Object.prototype.hasOwnProperty,oh=Ut.unstable_scheduleCallback,Qc=Ut.unstable_cancelCallback,O_=Ut.unstable_shouldYield,N_=Ut.unstable_requestPaint,On=Ut.unstable_now,D_=Ut.unstable_getCurrentPriorityLevel,gy=Ut.unstable_ImmediatePriority,yy=Ut.unstable_UserBlockingPriority,Ao=Ut.unstable_NormalPriority,A_=Ut.unstable_LowPriority,vy=Ut.unstable_IdlePriority,C_=Ut.log,R_=Ut.unstable_setDisableYieldValue,fl=null,Nn=null;function Za(e){if(typeof C_=="function"&&R_(e),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(fl,e)}catch{}}var Dn=Math.clz32?Math.clz32:U_,M_=Math.log,k_=Math.LN2;function U_(e){return e>>>=0,e===0?32:31-(M_(e)/k_|0)|0}var Ul=256,zl=262144,$l=4194304;function Ti(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=Ti(a):(r&=l,r!==0?i=Ti(r):n||(n=l&~e,n!==0&&(i=Ti(n))))):(l=a&~s,l!==0?i=Ti(l):r!==0?i=Ti(r):n||(n=a&~e,n!==0&&(i=Ti(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function ml(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function z_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(){var e=$l;return $l<<=1,!($l&62914560)&&($l=4194304),e}function Jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $_(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var h=31-Dn(n),d=1<<h;l[h]=0,o[h]=-1;var f=u[h];if(f!==null)for(u[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}n&=~d}a!==0&&by(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function by(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Dn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function _y(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Dn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function wy(e,t){var n=t&-t;return n=n&42?1:ch(n),n&(e.suspendedLanes|t)?0:n}function ch(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Sy(){var e=Ye.p;return e!==0?e:(e=window.event,e===void 0?32:Gp(e.type))}function Uf(e,t){var n=Ye.p;try{return Ye.p=e,t()}finally{Ye.p=n}}var gi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+gi,pn="__reactProps$"+gi,Qs="__reactContainer$"+gi,Zu="__reactEvents$"+gi,L_="__reactListeners$"+gi,B_="__reactHandles$"+gi,zf="__reactResources$"+gi,yl="__reactMarker$"+gi;function dh(e){delete e[Xt],delete e[pn],delete e[Zu],delete e[L_],delete e[B_]}function ms(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qs]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vm(e);e!==null;){if(n=e[Xt])return n;e=Vm(e)}return t}e=n,n=e.parentNode}return null}function Js(e){if(e=e[Xt]||e[Qs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Sr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(C(33))}function Es(e){var t=e[zf];return t||(t=e[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Yt(e){e[yl]=!0}var xy=new Set,Ey={};function Vi(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Ey[e]=t,e=0;e<t.length;e++)xy.add(t[e])}var H_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},Lf={};function q_(e){return Ju.call(Lf,e)?!0:Ju.call($f,e)?!1:H_.test(e)?Lf[e]=!0:($f[e]=!0,!1)}function oo(e,t,n){if(q_(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ll(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function va(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function $n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ty(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y_(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pu(e){if(!e._valueTracker){var t=Ty(e)?"checked":"value";e._valueTracker=Y_(e,t,""+e[t])}}function jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ty(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V_=/[\n"\\]/g;function Hn(e){return e.replace(V_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fu(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$n(t)):e.value!==""+$n(t)&&(e.value=""+$n(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Wu(e,r,$n(t)):n!=null?Wu(e,r,$n(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+$n(l):e.removeAttribute("name")}function Oy(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Pu(e);return}n=n!=null?""+$n(n):"",t=t!=null?""+$n(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Pu(e)}function Wu(e,t,n){t==="number"&&Co(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ts(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+$n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ny(e,t,n){if(t!=null&&(t=""+$n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$n(n):""}function Dy(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(C(92));if(wr(a)){if(1<a.length)throw Error(C(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=$n(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Pu(e)}function Us(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var I_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bf(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||I_.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ay(e,t,n){if(t!=null&&typeof t!="object")throw Error(C(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Bf(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Bf(e,s,t[s])}function hh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return K_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ja(){}var ed=null;function fh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,js=null;function Hf(e){var t=Js(e);if(t&&(e=t.stateNode)){var n=e[pn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[pn]||null;if(!i)throw Error(C(90));Fu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&jy(a)}break e;case"textarea":Ny(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ts(e,!!n.multiple,t,!1)}}}var Zc=!1;function Cy(e,t,n){if(Zc)return e(t,n);Zc=!0;try{var a=e(t);return a}finally{if(Zc=!1,(gs!==null||js!==null)&&(Nc(),gs&&(t=gs,e=js,js=gs=null,Hf(t),e)))for(t=0;t<e.length;t++)Hf(e[t])}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[pn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(Ca)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){td=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{td=!1}var Pa=null,mh=null,uo=null;function Ry(){if(uo)return uo;var e,t=mh,n=t.length,a,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return uo=i.slice(e,1<a?1-a:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function qf(){return!1}function bn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:qf,this.isPropagationStopped=qf,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=bn(Ii),vl=ot({},Ii,{view:0,detail:0}),X_=bn(vl),Pc,Fc,gr,pc=ot({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Pc=e.screenX-gr.screenX,Fc=e.screenY-gr.screenY):Fc=Pc=0,gr=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),Yf=bn(pc),Q_=ot({},pc,{dataTransfer:0}),J_=bn(Q_),Z_=ot({},vl,{relatedTarget:0}),Wc=bn(Z_),P_=ot({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),F_=bn(P_),W_=ot({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ew=bn(W_),tw=ot({},Ii,{data:0}),Vf=bn(tw),nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iw[e])?!!t[e]:!1}function gh(){return sw}var rw=ot({},vl,{key:function(e){if(e.key){var t=nw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lw=bn(rw),ow=ot({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=bn(ow),cw=ot({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),uw=bn(cw),dw=ot({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=bn(dw),fw=ot({},pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mw=bn(fw),gw=ot({},Ii,{newState:0,oldState:0}),yw=bn(gw),vw=[9,13,27,32],yh=Ca&&"CompositionEvent"in window,Nr=null;Ca&&"documentMode"in document&&(Nr=document.documentMode);var pw=Ca&&"TextEvent"in window&&!Nr,My=Ca&&(!yh||Nr&&8<Nr&&11>=Nr),Gf=" ",Kf=!1;function ky(e,t){switch(e){case"keyup":return vw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function bw(e,t){switch(e){case"compositionend":return Uy(t);case"keypress":return t.which!==32?null:(Kf=!0,Gf);case"textInput":return e=t.data,e===Gf&&Kf?null:e;default:return null}}function _w(e,t){if(ys)return e==="compositionend"||!yh&&ky(e,t)?(e=Ry(),uo=mh=Pa=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return My&&t.locale!=="ko"?null:t.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ww[e.type]:t==="textarea"}function zy(e,t,n,a){gs?js?js.push(a):js=[a]:gs=a,t=Jo(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Dr=null,Jr=null;function Sw(e){Cp(e,0)}function bc(e){var t=Sr(e);if(jy(t))return e}function Qf(e,t){if(e==="change")return t}var $y=!1;if(Ca){var eu;if(Ca){var tu="oninput"in document;if(!tu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),tu=typeof Jf.oninput=="function"}eu=tu}else eu=!1;$y=eu&&(!document.documentMode||9<document.documentMode)}function Zf(){Dr&&(Dr.detachEvent("onpropertychange",Ly),Jr=Dr=null)}function Ly(e){if(e.propertyName==="value"&&bc(Jr)){var t=[];zy(t,Jr,e,fh(e)),Cy(Sw,t)}}function xw(e,t,n){e==="focusin"?(Zf(),Dr=t,Jr=n,Dr.attachEvent("onpropertychange",Ly)):e==="focusout"&&Zf()}function Ew(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bc(Jr)}function Tw(e,t){if(e==="click")return bc(t)}function jw(e,t){if(e==="input"||e==="change")return bc(t)}function Ow(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Ow;function Zr(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ju.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ff(e,t){var n=Pf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pf(n)}}function By(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?By(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Co(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Co(e.document)}return t}function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Nw=Ca&&"documentMode"in document&&11>=document.documentMode,vs=null,nd=null,Ar=null,ad=!1;function Wf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ad||vs==null||vs!==Co(a)||(a=vs,"selectionStart"in a&&vh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ar&&Zr(Ar,a)||(Ar=a,a=Jo(nd,"onSelect"),0<a.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=vs)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},nu={},qy={};Ca&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Gi(e){if(nu[e])return nu[e];if(!ps[e])return e;var t=ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qy)return nu[e]=t[n];return e}var Yy=Gi("animationend"),Vy=Gi("animationiteration"),Iy=Gi("animationstart"),Dw=Gi("transitionrun"),Aw=Gi("transitionstart"),Cw=Gi("transitioncancel"),Gy=Gi("transitionend"),Ky=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function ta(e,t){Ky.set(e,t),Vi(t,[e])}var Ro=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],bs=0,ph=0;function _c(){for(var e=bs,t=ph=bs=0;t<e;){var n=Un[t];Un[t++]=null;var a=Un[t];Un[t++]=null;var i=Un[t];Un[t++]=null;var s=Un[t];if(Un[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Xy(n,i,s)}}function wc(e,t,n,a){Un[bs++]=e,Un[bs++]=t,Un[bs++]=n,Un[bs++]=a,ph|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function bh(e,t,n,a){return wc(e,t,n,a),Mo(e)}function Ki(e,t){return wc(e,null,null,t),Mo(e)}function Xy(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Dn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Mo(e){if(50<Br)throw Br=0,Td=null,Error(C(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _s={};function Rw(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,a){return new Rw(e,t,n,a)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Qy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fo(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")_h(e)&&(r=1);else if(typeof e=="string")r=$S(e,n,oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Gu:return e=xn(31,n,t,i),e.elementType=Gu,e.lanes=s,e;case hs:return Mi(n.children,i,s,t);case fy:r=8,i|=24;break;case Yu:return e=xn(12,n,t,i|2),e.elementType=Yu,e.lanes=s,e;case Vu:return e=xn(13,n,t,i),e.elementType=Vu,e.lanes=s,e;case Iu:return e=xn(19,n,t,i),e.elementType=Iu,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ta:r=10;break e;case my:r=9;break e;case rh:r=11;break e;case lh:r=14;break e;case Ya:r=16,a=null;break e}r=29,n=Error(C(130,e===null?"null":typeof e,"")),a=null}return t=xn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Mi(e,t,n,a){return e=xn(7,e,a,t),e.lanes=n,e}function au(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Jy(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function iu(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var em=new WeakMap;function qn(e,t){if(typeof e=="object"&&e!==null){var n=em.get(e);return n!==void 0?n:(t={value:e,source:t,stack:kf(t)},em.set(e,t),t)}return{value:e,source:t,stack:kf(t)}}var ws=[],Ss=0,ko=null,Pr=0,Ln=[],Bn=0,ui=null,sa=1,ra="";function xa(e,t){ws[Ss++]=Pr,ws[Ss++]=ko,ko=e,Pr=t}function Zy(e,t,n){Ln[Bn++]=sa,Ln[Bn++]=ra,Ln[Bn++]=ui,ui=e;var a=sa;e=ra;var i=32-Dn(a)-1;a&=~(1<<i),n+=1;var s=32-Dn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,sa=1<<32-Dn(t)+i|n<<i|a,ra=s+e}else sa=1<<s|n<<i|a,ra=e}function wh(e){e.return!==null&&(xa(e,1),Zy(e,1,0))}function Sh(e){for(;e===ko;)ko=ws[--Ss],ws[Ss]=null,Pr=ws[--Ss],ws[Ss]=null;for(;e===ui;)ui=Ln[--Bn],Ln[Bn]=null,ra=Ln[--Bn],Ln[Bn]=null,sa=Ln[--Bn],Ln[Bn]=null}function Py(e,t){Ln[Bn++]=sa,Ln[Bn++]=ra,Ln[Bn++]=ui,sa=t.id,ra=t.overflow,ui=e}var Qt=null,rt=null,De=!1,ni=null,Yn=!1,sd=Error(C(519));function di(e){var t=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(qn(t,e)),sd}function tm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Xt]=e,t[pn]=a,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<nl.length;n++)we(nl[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Oy(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Dy(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Mp(t.textContent,n)?(a.popover!=null&&(we("beforetoggle",t),we("toggle",t)),a.onScroll!=null&&we("scroll",t),a.onScrollEnd!=null&&we("scrollend",t),a.onClick!=null&&(t.onclick=ja),t=!0):t=!1,t||di(e,!0)}function nm(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Qt=Qt.return}}function Wi(e){if(e!==Qt)return!1;if(!De)return nm(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ad(e.type,e.memoizedProps)),n=!n),n&&rt&&di(e),nm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));rt=Ym(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));rt=Ym(e)}else t===27?(t=rt,yi(e.type)?(e=kd,kd=null,rt=e):rt=t):rt=Qt?In(e.stateNode.nextSibling):null;return!0}function Li(){rt=Qt=null,De=!1}function su(){var e=ni;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),ni=null),e}function Fr(e){ni===null?ni=[e]:ni.push(e)}var rd=ca(null),Xi=null,Oa=null;function Ga(e,t,n){at(rd,t._currentValue),t._currentValue=n}function Da(e){e._currentValue=rd.current,Vt(rd)}function ld(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function od(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ld(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(C(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),ld(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Zs(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(C(387));if(r=r.memoizedProps,r!==null){var l=i.type;Cn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===Oo.current){if(r=i.alternate,r===null)throw Error(C(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}i=i.return}e!==null&&od(t,e,n,a),t.flags|=262144}function Uo(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Xi=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return Fy(Xi,e)}function Hl(e,t){return Xi===null&&Bi(e),Fy(e,t)}function Fy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Oa===null){if(e===null)throw Error(C(308));Oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oa=Oa.next=t;return n}var Mw=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},kw=Ut.unstable_scheduleCallback,Uw=Ut.unstable_NormalPriority,Dt={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new Mw,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&kw(Uw,function(){e.controller.abort()})}var Cr=null,cd=0,zs=0,Os=null;function zw(e,t){if(Cr===null){var n=Cr=[];cd=0,zs=Qh(),Os={status:"pending",value:void 0,then:function(a){n.push(a)}}}return cd++,t.then(am,am),t}function am(){if(--cd===0&&Cr!==null){Os!==null&&(Os.status="fulfilled");var e=Cr;Cr=null,zs=0,Os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $w(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var im=ne.S;ne.S=function(e,t){hp=On(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zw(e,t),im!==null&&im(e,t)};var ki=ca(null);function Eh(){var e=ki.current;return e!==null?e:et.pooledCache}function mo(e,t){t===null?at(ki,ki.current):at(ki,t.pool)}function Wy(){var e=Eh();return e===null?null:{parent:Dt._currentValue,pool:e}}var Ps=Error(C(460)),Th=Error(C(474)),Sc=Error(C(542)),zo={then:function(){}};function sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ev(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ja,ja),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lm(e),e;default:if(typeof t.status=="string")t.then(ja,ja);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(C(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lm(e),e}throw Ui=t,Ps}}function ji(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ui=n,Ps):n}}var Ui=null;function rm(){if(Ui===null)throw Error(C(459));var e=Ui;return Ui=null,e}function lm(e){if(e===Ps||e===Sc)throw Error(C(483))}var Ns=null,Wr=0;function ql(e){var t=Wr;return Wr+=1,Ns===null&&(Ns=[]),ev(Ns,e,t)}function yr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yl(e,t){throw t.$$typeof===x_?Error(C(525)):(e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tv(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(v,g){return v=Na(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function r(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,w){return g===null||g.tag!==6?(g=au(y,v.mode,w),g.return=v,g):(g=i(g,y),g.return=v,g)}function o(v,g,y,w){var _=y.type;return _===hs?h(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ya&&ji(_)===g.type)?(g=i(g,y.props),yr(g,y),g.return=v,g):(g=fo(y.type,y.key,y.props,null,v.mode,w),yr(g,y),g.return=v,g)}function u(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=iu(y,v.mode,w),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function h(v,g,y,w,_){return g===null||g.tag!==7?(g=Mi(y,v.mode,w,_),g.return=v,g):(g=i(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=au(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kl:return y=fo(g.type,g.key,g.props,null,v.mode,y),yr(y,g),y.return=v,y;case _r:return g=iu(g,v.mode,y),g.return=v,g;case Ya:return g=ji(g),d(v,g,y)}if(wr(g)||fr(g))return g=Mi(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return d(v,ql(g),y);if(g.$$typeof===Ta)return d(v,Hl(v,g),y);Yl(v,g)}return null}function f(v,g,y,w){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return _!==null?null:l(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:return y.key===_?o(v,g,y,w):null;case _r:return y.key===_?u(v,g,y,w):null;case Ya:return y=ji(y),f(v,g,y,w)}if(wr(y)||fr(y))return _!==null?null:h(v,g,y,w,null);if(typeof y.then=="function")return f(v,g,ql(y),w);if(y.$$typeof===Ta)return f(v,g,Hl(v,y),w);Yl(v,y)}return null}function m(v,g,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(y)||null,l(g,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return v=v.get(w.key===null?y:w.key)||null,o(g,v,w,_);case _r:return v=v.get(w.key===null?y:w.key)||null,u(g,v,w,_);case Ya:return w=ji(w),m(v,g,y,w,_)}if(wr(w)||fr(w))return v=v.get(y)||null,h(g,v,w,_,null);if(typeof w.then=="function")return m(v,g,y,ql(w),_);if(w.$$typeof===Ta)return m(v,g,y,Hl(g,w),_);Yl(g,w)}return null}function b(v,g,y,w){for(var _=null,x=null,T=g,O=g=0,N=null;T!==null&&O<y.length;O++){T.index>O?(N=T,T=null):N=T.sibling;var M=f(v,T,y[O],w);if(M===null){T===null&&(T=N);break}e&&T&&M.alternate===null&&t(v,T),g=s(M,g,O),x===null?_=M:x.sibling=M,x=M,T=N}if(O===y.length)return n(v,T),De&&xa(v,O),_;if(T===null){for(;O<y.length;O++)T=d(v,y[O],w),T!==null&&(g=s(T,g,O),x===null?_=T:x.sibling=T,x=T);return De&&xa(v,O),_}for(T=a(T);O<y.length;O++)N=m(T,v,O,y[O],w),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?O:N.key),g=s(N,g,O),x===null?_=N:x.sibling=N,x=N);return e&&T.forEach(function(G){return t(v,G)}),De&&xa(v,O),_}function S(v,g,y,w){if(y==null)throw Error(C(151));for(var _=null,x=null,T=g,O=g=0,N=null,M=y.next();T!==null&&!M.done;O++,M=y.next()){T.index>O?(N=T,T=null):N=T.sibling;var G=f(v,T,M.value,w);if(G===null){T===null&&(T=N);break}e&&T&&G.alternate===null&&t(v,T),g=s(G,g,O),x===null?_=G:x.sibling=G,x=G,T=N}if(M.done)return n(v,T),De&&xa(v,O),_;if(T===null){for(;!M.done;O++,M=y.next())M=d(v,M.value,w),M!==null&&(g=s(M,g,O),x===null?_=M:x.sibling=M,x=M);return De&&xa(v,O),_}for(T=a(T);!M.done;O++,M=y.next())M=m(T,v,O,M.value,w),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?O:M.key),g=s(M,g,O),x===null?_=M:x.sibling=M,x=M);return e&&T.forEach(function(ee){return t(v,ee)}),De&&xa(v,O),_}function E(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===hs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:e:{for(var _=y.key;g!==null;){if(g.key===_){if(_=y.type,_===hs){if(g.tag===7){n(v,g.sibling),w=i(g,y.props.children),w.return=v,v=w;break e}}else if(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ya&&ji(_)===g.type){n(v,g.sibling),w=i(g,y.props),yr(w,y),w.return=v,v=w;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===hs?(w=Mi(y.props.children,v.mode,w,y.key),w.return=v,v=w):(w=fo(y.type,y.key,y.props,null,v.mode,w),yr(w,y),w.return=v,v=w)}return r(v);case _r:e:{for(_=y.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),w=i(g,y.children||[]),w.return=v,v=w;break e}else{n(v,g);break}else t(v,g);g=g.sibling}w=iu(y,v.mode,w),w.return=v,v=w}return r(v);case Ya:return y=ji(y),E(v,g,y,w)}if(wr(y))return b(v,g,y,w);if(fr(y)){if(_=fr(y),typeof _!="function")throw Error(C(150));return y=_.call(y),S(v,g,y,w)}if(typeof y.then=="function")return E(v,g,ql(y),w);if(y.$$typeof===Ta)return E(v,g,Hl(v,y),w);Yl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),w=i(g,y),w.return=v,v=w):(n(v,g),w=au(y,v.mode,w),w.return=v,v=w),r(v)):n(v,g)}return function(v,g,y,w){try{Wr=0;var _=E(v,g,y,w);return Ns=null,_}catch(T){if(T===Ps||T===Sc)throw T;var x=xn(29,T,null,v.mode);return x.lanes=w,x.return=v,x}finally{}}}var Hi=tv(!0),nv=tv(!1),Va=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,qe&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Mo(e),Xy(e,null,n),t}return wc(e,a,t,n),Mo(e)}function Rr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_y(e,n)}}function ru(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var dd=!1;function Mr(){if(dd){var e=Os;if(e!==null)throw e}}function kr(e,t,n,a){dd=!1;var i=e.updateQueue;Va=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?s=u:r.next=u,r=o;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;r=0,h=u=o=null,l=s;do{var f=l.lane&-536870913,m=f!==l.lane;if(m?(Ee&f)===f:(a&f)===f){f!==0&&f===zs&&(dd=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,S=l;f=t;var E=n;switch(S.tag){case 1:if(b=S.payload,typeof b=="function"){d=b.call(E,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,f=typeof b=="function"?b.call(E,d,f):b,f==null)break e;d=ot({},d,f);break e;case 2:Va=!0}}f=l.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,o=d):h=h.next=m,r|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(o=d),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),fi|=r,e.lanes=r,e.memoizedState=d}}function av(e,t){if(typeof e!="function")throw Error(C(191,e));e.call(t)}function iv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)av(n[e],t)}var $s=ca(null),$o=ca(0);function om(e,t){e=Ua,at($o,e),at($s,t),Ua=e|t.baseLanes}function hd(){at($o,Ua),at($s,$s.current)}function Oh(){Ua=$o.current,Vt($s),Vt($o)}var Rn=ca(null),Vn=null;function Ka(e){var t=e.alternate;at(xt,xt.current&1),at(Rn,e),Vn===null&&(t===null||$s.current!==null||t.memoizedState!==null)&&(Vn=e)}function fd(e){at(xt,xt.current),at(Rn,e),Vn===null&&(Vn=e)}function sv(e){e.tag===22?(at(xt,xt.current),at(Rn,e),Vn===null&&(Vn=e)):Xa()}function Xa(){at(xt,xt.current),at(Rn,Rn.current)}function Sn(e){Vt(Rn),Vn===e&&(Vn=null),Vt(xt)}var xt=ca(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Rd(n)||Md(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=0,he=null,We=null,Ot=null,Bo=!1,Ds=!1,qi=!1,Ho=0,el=0,As=null,Lw=0;function pt(){throw Error(C(321))}function Nh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Dh(e,t,n,a,i,s){return Ra=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ne.H=e===null||e.memoizedState===null?zv:Hh,qi=!1,s=n(a,i),qi=!1,Ds&&(s=lv(t,n,a,i)),rv(e),s}function rv(e){ne.H=tl;var t=We!==null&&We.next!==null;if(Ra=0,Ot=We=he=null,Bo=!1,el=0,As=null,t)throw Error(C(300));e===null||At||(e=e.dependencies,e!==null&&Uo(e)&&(At=!0))}function lv(e,t,n,a){he=e;var i=0;do{if(Ds&&(As=null),el=0,Ds=!1,25<=i)throw Error(C(301));if(i+=1,Ot=We=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ne.H=$v,s=t(n,a)}while(Ds);return s}function Bw(){var e=ne.H,t=e.useState()[0];return t=typeof t.then=="function"?bl(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(he.flags|=1024),t}function Ah(){var e=Ho!==0;return Ho=0,e}function Ch(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Rh(e){if(Bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bo=!1}Ra=0,Ot=We=he=null,Ds=!1,el=Ho=0,As=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?he.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Et(){if(We===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ot===null?he.memoizedState:Ot.next;if(t!==null)Ot=t,We=e;else{if(e===null)throw he.alternate===null?Error(C(467)):Error(C(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ot===null?he.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var t=el;return el+=1,As===null&&(As=[]),e=ev(As,e,t),t=he,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,ne.H=t===null||t.memoizedState===null?zv:Hh),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===Ta)return Jt(e)}throw Error(C(438,String(e)))}function Mh(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=he.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=xc(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E_;return t.index++,n}function Ma(e,t){return typeof t=="function"?t(e):t}function go(e){var t=Et();return kh(t,We,e)}function kh(e,t,n){var a=e.queue;if(a===null)throw Error(C(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,u=t,h=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Ee&d)===d:(Ra&d)===d){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===zs&&(h=!0);else if((Ra&f)===f){u=u.next,f===zs&&(h=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=d,r=s):o=o.next=d,he.lanes|=f,fi|=f;d=u.action,qi&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=s):o=o.next=f,he.lanes|=d,fi|=d;u=u.next}while(u!==null&&u!==t);if(o===null?r=s:o.next=l,!Cn(s,e.memoizedState)&&(At=!0,h&&(n=Os,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function lu(e){var t=Et(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);Cn(s,t.memoizedState)||(At=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ov(e,t,n){var a=he,i=Et(),s=De;if(s){if(n===void 0)throw Error(C(407));n=n()}else n=t();var r=!Cn((We||i).memoizedState,n);if(r&&(i.memoizedState=n,At=!0),i=i.queue,Uh(dv.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||Ot!==null&&Ot.memoizedState.tag&1){if(a.flags|=2048,Ls(9,{destroy:void 0},uv.bind(null,a,i,n,t),null),et===null)throw Error(C(349));s||Ra&127||cv(a,t,n)}return n}function cv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=xc(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uv(e,t,n,a){t.value=n,t.getSnapshot=a,hv(t)&&fv(e)}function dv(e,t,n){return n(function(){hv(t)&&fv(e)})}function hv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function fv(e){var t=Ki(e,2);t!==null&&vn(t,e,2)}function md(e){var t=sn();if(typeof e=="function"){var n=e;if(e=n(),qi){Za(!0);try{n()}finally{Za(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t}function mv(e,t,n,a){return e.baseState=n,kh(e,We,typeof a=="function"?a:Ma)}function Hw(e,t,n,a,i){if(jc(e))throw Error(C(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};ne.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,gv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function gv(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=ne.T,r={};ne.T=r;try{var l=n(i,a),o=ne.S;o!==null&&o(r,l),cm(e,t,l)}catch(u){gd(e,t,u)}finally{s!==null&&r.types!==null&&(s.types=r.types),ne.T=s}}else try{s=n(i,a),cm(e,t,s)}catch(u){gd(e,t,u)}}function cm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){um(e,t,a)},function(a){return gd(e,t,a)}):um(e,t,n)}function um(e,t,n){t.status="fulfilled",t.value=n,yv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,gv(e,n)))}function gd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,yv(t),t=t.next;while(t!==a)}e.action=null}function yv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vv(e,t){return t}function dm(e,t){if(De){var n=et.formState;if(n!==null){e:{var a=he;if(De){if(rt){t:{for(var i=rt,s=Yn;i.nodeType!==8;){if(!s){i=null;break t}if(i=In(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){rt=In(i.nextSibling),a=i.data==="F!";break e}}di(a)}a=!1}a&&(t=n[0])}}return n=sn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:t},n.queue=a,n=Mv.bind(null,he,a),a.dispatch=n,a=md(!1),s=Bh.bind(null,he,!1,a.queue),a=sn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Hw.bind(null,he,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function hm(e){var t=Et();return pv(t,We,e)}function pv(e,t,n){if(t=kh(e,t,vv)[0],e=go(Ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=bl(t)}catch(r){throw r===Ps?Sc:r}else a=t;t=Et();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(he.flags|=2048,Ls(9,{destroy:void 0},qw.bind(null,i,n),null)),[a,s,e]}function qw(e,t){e.action=t}function fm(e){var t=Et(),n=We;if(n!==null)return pv(t,n,e);Et(),t=t.memoizedState,n=Et();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ls(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=he.updateQueue,t===null&&(t=xc(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function bv(){return Et().memoizedState}function yo(e,t,n,a){var i=sn();he.flags|=e,i.memoizedState=Ls(1|t,{destroy:void 0},n,a===void 0?null:a)}function Tc(e,t,n,a){var i=Et();a=a===void 0?null:a;var s=i.memoizedState.inst;We!==null&&a!==null&&Nh(a,We.memoizedState.deps)?i.memoizedState=Ls(t,s,n,a):(he.flags|=e,i.memoizedState=Ls(1|t,s,n,a))}function mm(e,t){yo(8390656,8,e,t)}function Uh(e,t){Tc(2048,8,e,t)}function Yw(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=xc(),he.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function _v(e){var t=Et().memoizedState;return Yw({ref:t,nextImpl:e}),function(){if(qe&2)throw Error(C(440));return t.impl.apply(void 0,arguments)}}function wv(e,t){return Tc(4,2,e,t)}function Sv(e,t){return Tc(4,4,e,t)}function xv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ev(e,t,n){n=n!=null?n.concat([e]):null,Tc(4,4,xv.bind(null,t,e),n)}function zh(){}function Tv(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Nh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function jv(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Nh(t,a[1]))return a[0];if(a=e(),qi){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a}function $h(e,t,n){return n===void 0||Ra&1073741824&&!(Ee&261930)?e.memoizedState=t:(e.memoizedState=n,e=mp(),he.lanes|=e,fi|=e,n)}function Ov(e,t,n,a){return Cn(n,t)?n:$s.current!==null?(e=$h(e,n,a),Cn(e,t)||(At=!0),e):!(Ra&42)||Ra&1073741824&&!(Ee&261930)?(At=!0,e.memoizedState=n):(e=mp(),he.lanes|=e,fi|=e,t)}function Nv(e,t,n,a,i){var s=Ye.p;Ye.p=s!==0&&8>s?s:8;var r=ne.T,l={};ne.T=l,Bh(e,!1,t,n);try{var o=i(),u=ne.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=$w(o,a);Ur(e,t,h,An(e))}else Ur(e,t,a,An(e))}catch(d){Ur(e,t,{then:function(){},status:"rejected",reason:d},An())}finally{Ye.p=s,r!==null&&l.types!==null&&(r.types=l.types),ne.T=r}}function Vw(){}function yd(e,t,n,a){if(e.tag!==5)throw Error(C(476));var i=Dv(e).queue;Nv(e,i,t,Ri,n===null?Vw:function(){return Av(e),n(a)})}function Dv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ri,baseState:Ri,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:Ri},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Av(e){var t=Dv(e);t.next===null&&(t=e.alternate.memoizedState),Ur(e,t.next.queue,{},An())}function Lh(){return Jt(il)}function Cv(){return Et().memoizedState}function Rv(){return Et().memoizedState}function Iw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=ai(n);var a=ii(t,e,n);a!==null&&(vn(a,t,n),Rr(a,t,n)),t={cache:xh()},e.payload=t;return}t=t.return}}function Gw(e,t,n){var a=An();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jc(e)?kv(t,n):(n=bh(e,t,n,a),n!==null&&(vn(n,e,a),Uv(n,t,a)))}function Mv(e,t,n){var a=An();Ur(e,t,n,a)}function Ur(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(e))kv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,r))return wc(e,t,i,0),et===null&&_c(),!1}catch{}finally{}if(n=bh(e,t,i,a),n!==null)return vn(n,e,a),Uv(n,t,a),!0}return!1}function Bh(e,t,n,a){if(a={lane:2,revertLane:Qh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(t)throw Error(C(479))}else t=bh(e,n,a,2),t!==null&&vn(t,e,2)}function jc(e){var t=e.alternate;return e===he||t!==null&&t===he}function kv(e,t){Ds=Bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_y(e,n)}}var tl={readContext:Jt,use:Ec,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};tl.useEffectEvent=pt;var zv={readContext:Jt,use:Ec,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:mm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,yo(4194308,4,xv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var n=sn();t=t===void 0?null:t;var a=e();if(qi){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=sn();if(n!==void 0){var i=n(t);if(qi){Za(!0);try{n(t)}finally{Za(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Gw.bind(null,he,e),[a.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:function(e){e=md(e);var t=e.queue,n=Mv.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:zh,useDeferredValue:function(e,t){var n=sn();return $h(n,e,t)},useTransition:function(){var e=md(!1);return e=Nv.bind(null,he,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=he,i=sn();if(De){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),et===null)throw Error(C(349));Ee&127||cv(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,mm(dv.bind(null,a,s,e),[e]),a.flags|=2048,Ls(9,{destroy:void 0},uv.bind(null,a,s,n,t),null),n},useId:function(){var e=sn(),t=et.identifierPrefix;if(De){var n=ra,a=sa;n=(a&~(1<<32-Dn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ho++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Lw++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lh,useFormState:dm,useActionState:dm,useOptimistic:function(e){var t=sn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bh.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mh,useCacheRefresh:function(){return sn().memoizedState=Iw.bind(null,he)},useEffectEvent:function(e){var t=sn(),n={impl:e};return t.memoizedState=n,function(){if(qe&2)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},Hh={readContext:Jt,use:Ec,useCallback:Tv,useContext:Jt,useEffect:Uh,useImperativeHandle:Ev,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:jv,useReducer:go,useRef:bv,useState:function(){return go(Ma)},useDebugValue:zh,useDeferredValue:function(e,t){var n=Et();return Ov(n,We.memoizedState,e,t)},useTransition:function(){var e=go(Ma)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:bl(e),t]},useSyncExternalStore:ov,useId:Cv,useHostTransitionStatus:Lh,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var n=Et();return mv(n,We,e,t)},useMemoCache:Mh,useCacheRefresh:Rv};Hh.useEffectEvent=_v;var $v={readContext:Jt,use:Ec,useCallback:Tv,useContext:Jt,useEffect:Uh,useImperativeHandle:Ev,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:jv,useReducer:lu,useRef:bv,useState:function(){return lu(Ma)},useDebugValue:zh,useDeferredValue:function(e,t){var n=Et();return We===null?$h(n,e,t):Ov(n,We.memoizedState,e,t)},useTransition:function(){var e=lu(Ma)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:bl(e),t]},useSyncExternalStore:ov,useId:Cv,useHostTransitionStatus:Lh,useFormState:fm,useActionState:fm,useOptimistic:function(e,t){var n=Et();return We!==null?mv(n,We,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Rv};$v.useEffectEvent=_v;function ou(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(vn(t,e,a),Rr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(vn(t,e,a),Rr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),a=ai(n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(vn(t,e,n),Rr(t,e,n))}};function gm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Zr(n,a)||!Zr(i,s):!0}function ym(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&vd.enqueueReplaceState(t,t.state,null)}function Yi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ot({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Lv(e){Ro(e)}function Bv(e){console.error(e)}function Hv(e){Ro(e)}function qo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function vm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function pd(e,t,n){return n=ai(n),n.tag=3,n.payload={element:null},n.callback=function(){qo(e,t)},n}function qv(e){return e=ai(e),e.tag=3,e}function Yv(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){vm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){vm(t,n,a),typeof i!="function"&&(si===null?si=new Set([this]):si.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function Kw(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Zs(t,n,i,!0),n=Rn.current,n!==null){switch(n.tag){case 31:case 13:return Vn===null?Ko():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===zo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),bu(e,a,i)),!1;case 22:return n.flags|=65536,a===zo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),bu(e,a,i)),!1}throw Error(C(435,n.tag))}return bu(e,a,i),Ko(),!1}if(De)return t=Rn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==sd&&(e=Error(C(422),{cause:a}),Fr(qn(e,n)))):(a!==sd&&(t=Error(C(423),{cause:a}),Fr(qn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=qn(a,n),i=pd(e.stateNode,a,i),ru(e,i),bt!==4&&(bt=2)),!1;var s=Error(C(520),{cause:a});if(s=qn(s,n),Lr===null?Lr=[s]:Lr.push(s),bt!==4&&(bt=2),t===null)return!0;a=qn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=pd(n.stateNode,a,e),ru(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(si===null||!si.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qv(i),Yv(i,e,n,a),ru(n,i),!1}n=n.return}while(n!==null);return!1}var qh=Error(C(461)),At=!1;function Kt(e,t,n,a){t.child=e===null?nv(t,null,n,a):Hi(t,e.child,n,a)}function pm(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Bi(t),a=Dh(e,t,n,r,s,i),l=Ah(),e!==null&&!At?(Ch(e,t,i),ka(e,t,i)):(De&&l&&wh(t),t.flags|=1,Kt(e,t,a,i),t.child)}function bm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!_h(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Vv(e,t,s,a,i)):(e=fo(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Yh(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zr,n(r,a)&&e.ref===t.ref)return ka(e,t,i)}return t.flags|=1,e=Na(s,a),e.ref=t.ref,e.return=t,t.child=e}function Vv(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Zr(s,a)&&e.ref===t.ref)if(At=!1,t.pendingProps=a=s,Yh(e,i))e.flags&131072&&(At=!0);else return t.lanes=e.lanes,ka(e,t,i)}return bd(e,t,n,a,i)}function Iv(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return _m(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(t,s!==null?s.cachePool:null),s!==null?om(t,s):hd(),sv(t);else return a=t.lanes=536870912,_m(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(mo(t,s.cachePool),om(t,s),Xa(),t.memoizedState=null):(e!==null&&mo(t,null),hd(),Xa());return Kt(e,t,i,n),t.child}function xr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _m(e,t,n,a,i){var s=Eh();return s=s===null?null:{parent:Dt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&mo(t,null),hd(),sv(t),e!==null&&Zs(e,t,a,!0),t.childLanes=i,null}function vo(e,t){return t=Yo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wm(e,t,n){return Hi(t,e.child,null,n),e=vo(t,t.pendingProps),e.flags|=2,Sn(t),t.memoizedState=null,e}function Xw(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=vo(t,a),t.lanes=536870912,xr(null,e);if(fd(t),(e=rt)?(e=zp(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Jy(e),n.return=t,t.child=n,Qt=t,rt=null)):e=null,e===null)throw di(t);return t.lanes=536870912,null}return vo(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(fd(t),i)if(t.flags&256)t.flags&=-257,t=wm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(C(558));else if(At||Zs(e,t,n,!1),i=(n&e.childLanes)!==0,At||i){if(a=et,a!==null&&(r=wy(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Ki(e,r),vn(a,e,r),qh;Ko(),t=wm(e,t,n)}else e=s.treeContext,rt=In(r.nextSibling),Qt=t,De=!0,ni=null,Yn=!1,e!==null&&Py(t,e),t=vo(t,a),t.flags|=4096;return t}return e=Na(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function po(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bd(e,t,n,a,i){return Bi(t),n=Dh(e,t,n,a,void 0,i),a=Ah(),e!==null&&!At?(Ch(e,t,i),ka(e,t,i)):(De&&a&&wh(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Sm(e,t,n,a,i,s){return Bi(t),t.updateQueue=null,n=lv(t,a,n,i),rv(e),a=Ah(),e!==null&&!At?(Ch(e,t,s),ka(e,t,s)):(De&&a&&wh(t),t.flags|=1,Kt(e,t,n,s),t.child)}function xm(e,t,n,a,i){if(Bi(t),t.stateNode===null){var s=_s,r=n.contextType;typeof r=="object"&&r!==null&&(s=Jt(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},jh(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Jt(r):_s,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ou(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&vd.enqueueReplaceState(s,s.state,null),kr(t,a,s,i),Mr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=Yi(n,l);s.props=o;var u=s.context,h=n.contextType;r=_s,typeof h=="object"&&h!==null&&(r=Jt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==r)&&ym(t,s,a,r),Va=!1;var f=t.memoizedState;s.state=f,kr(t,a,s,i),Mr(),u=t.memoizedState,l||f!==u||Va?(typeof d=="function"&&(ou(t,n,d,a),u=t.memoizedState),(o=Va||gm(t,n,o,a,f,u,r))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ud(e,t),r=t.memoizedProps,h=Yi(n,r),s.props=h,d=t.pendingProps,f=s.context,u=n.contextType,o=_s,typeof u=="object"&&u!==null&&(o=Jt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==d||f!==o)&&ym(t,s,a,o),Va=!1,f=t.memoizedState,s.state=f,kr(t,a,s,i),Mr();var m=t.memoizedState;r!==d||f!==m||Va||e!==null&&e.dependencies!==null&&Uo(e.dependencies)?(typeof l=="function"&&(ou(t,n,l,a),m=t.memoizedState),(h=Va||gm(t,n,h,a,f,m,o)||e!==null&&e.dependencies!==null&&Uo(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=h):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,po(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Hi(t,e.child,null,i),t.child=Hi(t,null,n,i)):Kt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ka(e,t,i),e}function Em(e,t,n,a){return Li(),t.flags|=256,Kt(e,t,n,a),t.child}var cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:Wy()}}function du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function Gv(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(i?Ka(t):Xa(),(e=rt)?(e=zp(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Jy(e),n.return=t,t.child=n,Qt=t,rt=null)):e=null,e===null)throw di(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Xa(),i=t.mode,l=Yo({mode:"hidden",children:l},i),a=Mi(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=uu(n),a.childLanes=du(e,r,n),t.memoizedState=cu,xr(null,a)):(Ka(t),_d(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Ka(t),t.flags&=-257,t=hu(e,t,n)):t.memoizedState!==null?(Xa(),t.child=e.child,t.flags|=128,t=null):(Xa(),l=a.fallback,i=t.mode,a=Yo({mode:"visible",children:a.children},i),l=Mi(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Hi(t,e.child,null,n),a=t.child,a.memoizedState=uu(n),a.childLanes=du(e,r,n),t.memoizedState=cu,t=xr(null,a));else if(Ka(t),Md(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(C(419)),a.stack="",a.digest=r,Fr({value:a,source:null,stack:null}),t=hu(e,t,n)}else if(At||Zs(e,t,n,!1),r=(n&e.childLanes)!==0,At||r){if(r=et,r!==null&&(a=wy(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ki(e,a),vn(r,e,a),qh;Rd(l)||Ko(),t=hu(e,t,n)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,rt=In(l.nextSibling),Qt=t,De=!0,ni=null,Yn=!1,e!==null&&Py(t,e),t=_d(t,a.children),t.flags|=4096);return t}return i?(Xa(),l=a.fallback,i=t.mode,o=e.child,u=o.sibling,a=Na(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Na(u,l):(l=Mi(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,xr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=uu(n):(i=l.cachePool,i!==null?(o=Dt._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Wy(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=du(e,r,n),t.memoizedState=cu,xr(e.child,a)):(Ka(t),n=e.child,e=n.sibling,n=Na(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function _d(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function hu(e,t,n){return Hi(t,e.child,null,n),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ld(e.return,t,n)}function fu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Kv(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=xt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,at(xt,r),Kt(e,t,a,n),a=De?Pr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,n,t);else if(e.tag===19)Tm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Lo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Lo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fu(t,!0,n,null,s,a);break;case"together":fu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ka(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Zs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Na(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Na(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Uo(e)))}function Qw(e,t,n){switch(t.tag){case 3:No(t,t.stateNode.containerInfo),Ga(t,Dt,e.memoizedState.cache),Li();break;case 27:case 5:Qu(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:Ga(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ka(t),t.flags|=128,null):n&t.child.childLanes?Gv(e,t,n):(Ka(t),e=ka(e,t,n),e!==null?e.sibling:null);Ka(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Zs(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Kv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(xt,xt.current),a)break;return null;case 22:return t.lanes=0,Iv(e,t,n,t.pendingProps);case 24:Ga(t,Dt,e.memoizedState.cache)}return ka(e,t,n)}function Xv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)At=!0;else{if(!Yh(e,n)&&!(t.flags&128))return At=!1,Qw(e,t,n);At=!!(e.flags&131072)}else At=!1,De&&t.flags&1048576&&Zy(t,Pr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ji(t.elementType),t.type=e,typeof e=="function")_h(e)?(a=Yi(e,a),t.tag=1,t=xm(null,t,e,a,n)):(t.tag=0,t=bd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===rh){t.tag=11,t=pm(null,t,e,a,n);break e}else if(i===lh){t.tag=14,t=bm(null,t,e,a,n);break e}}throw t=Ku(e)||e,Error(C(306,t,""))}}return t;case 0:return bd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Yi(a,t.pendingProps),xm(e,t,a,i,n);case 3:e:{if(No(t,t.stateNode.containerInfo),e===null)throw Error(C(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ud(e,t),kr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Ga(t,Dt,a),a!==s.cache&&od(t,[Dt],n,!0),Mr(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Em(e,t,a,n);break e}else if(a!==i){i=qn(Error(C(424)),t),Fr(i),t=Em(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=In(e.firstChild),Qt=t,De=!0,ni=null,Yn=!0,n=nv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),a===i){t=ka(e,t,n);break e}Kt(e,t,a,n)}t=t.child}return t;case 26:return po(e,t),e===null?(n=Gm(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,a=Zo(ti.current).createElement(n),a[Xt]=t,a[pn]=e,Zt(a,n,e),Yt(a),t.stateNode=a):t.memoizedState=Gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qu(t),e===null&&De&&(a=t.stateNode=$p(t.type,t.pendingProps,ti.current),Qt=t,Yn=!0,i=rt,yi(t.type)?(kd=i,rt=In(a.firstChild)):rt=i),Kt(e,t,t.pendingProps.children,n),po(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((i=a=rt)&&(a=ES(a,t.type,t.pendingProps,Yn),a!==null?(t.stateNode=a,Qt=t,rt=In(a.firstChild),Yn=!1,i=!0):i=!1),i||di(t)),Qu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Ad(i,s)?a=null:r!==null&&Ad(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Dh(e,t,Bw,null,null,n),il._currentValue=i),po(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&De&&((e=n=rt)&&(n=TS(n,t.pendingProps,Yn),n!==null?(t.stateNode=n,Qt=t,rt=null,e=!0):e=!1),e||di(t)),null;case 13:return Gv(e,t,n);case 4:return No(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Hi(t,null,a,n):Kt(e,t,a,n),t.child;case 11:return pm(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ga(t,t.type,a.value),Kt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Bi(t),i=Jt(i),a=a(i),t.flags|=1,Kt(e,t,a,n),t.child;case 14:return bm(e,t,t.type,t.pendingProps,n);case 15:return Vv(e,t,t.type,t.pendingProps,n);case 19:return Kv(e,t,n);case 31:return Xw(e,t,n);case 22:return Iv(e,t,n,t.pendingProps);case 24:return Bi(t),a=Jt(Dt),e===null?(i=Eh(),i===null&&(i=et,s=xh(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},jh(t),Ga(t,Dt,i)):(e.lanes&n&&(ud(e,t),kr(t,null,null,n),Mr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ga(t,Dt,a)):(a=s.cache,Ga(t,Dt,a),a!==i.cache&&od(t,[Dt],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(C(156,t.tag))}function pa(e){e.flags|=4}function mu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(vp())e.flags|=8192;else throw Ui=zo,Th}else e.flags&=-16777217}function jm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Hp(t))if(vp())e.flags|=8192;else throw Ui=zo,Th}function Vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?py():536870912,e.lanes|=t,Bs|=t)}function vr(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Jw(e,t,n){var a=t.pendingProps;switch(Sh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Da(Dt),Ms(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?pa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,su())),st(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(pa(t),s!==null?(st(t),jm(t,s)):(st(t),mu(t,i,null,a,n))):s?s!==e.memoizedState?(pa(t),st(t),jm(t,s)):(st(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&pa(t),st(t),mu(t,i,e,a,n)),null;case 27:if(Do(t),n=ti.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return st(t),null}e=oa.current,Wi(t)?tm(t):(e=$p(i,a,n),t.stateNode=e,pa(t))}return st(t),null;case 5:if(Do(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return st(t),null}if(s=oa.current,Wi(t))tm(t);else{var r=Zo(ti.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Xt]=t,s[pn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Zt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&pa(t)}}return st(t),mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(C(166));if(e=ti.current,Wi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Mp(e.nodeValue,n)),e||di(t,!0)}else e=Zo(e).createTextNode(a),e[Xt]=t,t.stateNode=e}return st(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Wi(t),n!==null){if(e===null){if(!a)throw Error(C(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(557));e[Xt]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),e=!1}else n=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Sn(t),t):(Sn(t),null);if(t.flags&128)throw Error(C(558))}return st(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Wi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Xt]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else i=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Sn(t),t):(Sn(t),null)}return Sn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vl(t,t.updateQueue),st(t),null);case 4:return Ms(),e===null&&Jh(t.stateNode.containerInfo),st(t),null;case 10:return Da(t.type),st(t),null;case 19:if(Vt(xt),a=t.memoizedState,a===null)return st(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)vr(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Lo(e),s!==null){for(t.flags|=128,vr(a,!1),e=s.updateQueue,t.updateQueue=e,Vl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Qy(n,e),n=n.sibling;return at(xt,xt.current&1|2),De&&xa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&On()>Io&&(t.flags|=128,i=!0,vr(a,!1),t.lanes=4194304)}else{if(!i)if(e=Lo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Vl(t,e),vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!De)return st(t),null}else 2*On()-a.renderingStartTime>Io&&n!==536870912&&(t.flags|=128,i=!0,vr(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=On(),e.sibling=null,n=xt.current,at(xt,i?n&1|2:n&1),De&&xa(t,a.treeForkCount),e):(st(t),null);case 22:case 23:return Sn(t),Oh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&Vl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Vt(ki),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Da(Dt),st(t),null;case 25:return null;case 30:return null}throw Error(C(156,t.tag))}function Zw(e,t){switch(Sh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(Dt),Ms(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Do(t),null;case 31:if(t.memoizedState!==null){if(Sn(t),t.alternate===null)throw Error(C(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(xt),null;case 4:return Ms(),null;case 10:return Da(t.type),null;case 22:case 23:return Sn(t),Oh(),e!==null&&Vt(ki),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(Dt),null;case 25:return null;default:return null}}function Qv(e,t){switch(Sh(t),t.tag){case 3:Da(Dt),Ms();break;case 26:case 27:case 5:Do(t);break;case 4:Ms();break;case 31:t.memoizedState!==null&&Sn(t);break;case 13:Sn(t);break;case 19:Vt(xt);break;case 10:Da(t.type);break;case 22:case 23:Sn(t),Oh(),e!==null&&Vt(ki);break;case 24:Da(Dt)}}function _l(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){Je(t,t.return,l)}}function hi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(h){Je(i,o,h)}}}a=a.next}while(a!==s)}}catch(h){Je(t,t.return,h)}}function Jv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{iv(t,n)}catch(a){Je(e,e.return,a)}}}function Zv(e,t,n){n.props=Yi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Je(e,t,a)}}function zr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Je(e,t,i)}}function la(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Je(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Je(e,t,i)}else n.current=null}function Pv(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Je(e,e.return,i)}}function gu(e,t,n){try{var a=e.stateNode;pS(a,e.type,n,t),a[pn]=t}catch(i){Je(e,e.return,i)}}function Fv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(wd(e,t,n),e=e.sibling;e!==null;)wd(e,t,n),e=e.sibling}function Vo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vo(e,t,n),e=e.sibling;e!==null;)Vo(e,t,n),e=e.sibling}function Wv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Zt(t,a,n),t[Xt]=e,t[pn]=n}catch(s){Je(e,e.return,s)}}var Ea=!1,Nt=!1,vu=!1,Om=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Pw(e,t){if(e=e.containerInfo,Nd=ec,e=Hy(e),vh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=r+i),d!==s||a!==0&&d.nodeType!==3||(o=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=r),f===s&&++h===a&&(o=r),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:e,selectionRange:n},ec=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var b=Yi(n.type,i);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(S){Je(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(C(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function ep(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:_a(e,n),a&4&&_l(5,n);break;case 1:if(_a(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Je(n,n.return,r)}else{var i=Yi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Je(n,n.return,r)}}a&64&&Jv(n),a&512&&zr(n,n.return);break;case 3:if(_a(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{iv(e,t)}catch(r){Je(n,n.return,r)}}break;case 27:t===null&&a&4&&Wv(n);case 26:case 5:_a(e,n),t===null&&a&4&&Pv(n),a&512&&zr(n,n.return);break;case 12:_a(e,n);break;case 31:_a(e,n),a&4&&ap(e,n);break;case 13:_a(e,n),a&4&&ip(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=rS.bind(null,n),jS(e,n))));break;case 22:if(a=n.memoizedState!==null||Ea,!a){t=t!==null&&t.memoizedState!==null||Nt,i=Ea;var s=Nt;Ea=a,(Nt=t)&&!s?wa(e,n,(n.subtreeFlags&8772)!==0):_a(e,n),Ea=i,Nt=s}break;case 30:break;default:_a(e,n)}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,gn=!1;function ba(e,t,n){for(n=n.child;n!==null;)np(e,t,n),n=n.sibling}function np(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(fl,n)}catch{}switch(n.tag){case 26:Nt||la(n,t),ba(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Nt||la(n,t);var a=dt,i=gn;yi(n.type)&&(dt=n.stateNode,gn=!1),ba(e,t,n),Hr(n.stateNode),dt=a,gn=i;break;case 5:Nt||la(n,t);case 6:if(a=dt,i=gn,dt=null,ba(e,t,n),dt=a,gn=i,dt!==null)if(gn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(s){Je(n,t,s)}else try{dt.removeChild(n.stateNode)}catch(s){Je(n,t,s)}break;case 18:dt!==null&&(gn?(e=dt,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Vs(e)):Hm(dt,n.stateNode));break;case 4:a=dt,i=gn,dt=n.stateNode.containerInfo,gn=!0,ba(e,t,n),dt=a,gn=i;break;case 0:case 11:case 14:case 15:hi(2,n,t),Nt||hi(4,n,t),ba(e,t,n);break;case 1:Nt||(la(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Zv(n,t,a)),ba(e,t,n);break;case 21:ba(e,t,n);break;case 22:Nt=(a=Nt)||n.memoizedState!==null,ba(e,t,n),Nt=a;break;default:ba(e,t,n)}}function ap(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vs(e)}catch(n){Je(t,t.return,n)}}}function ip(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vs(e)}catch(n){Je(t,t.return,n)}}function Fw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Om),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Om),t;default:throw Error(C(435,e.tag))}}function Il(e,t){var n=Fw(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=lS.bind(null,e,a);a.then(i,i)}})}function fn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(yi(l.type)){dt=l.stateNode,gn=!1;break e}break;case 5:dt=l.stateNode,gn=!1;break e;case 3:case 4:dt=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(dt===null)throw Error(C(160));np(s,r,i),dt=null,gn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sp(t,e),t=t.sibling}var Pn=null;function sp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),mn(e),a&4&&(hi(3,e,e.return),_l(3,e),hi(5,e,e.return));break;case 1:fn(t,e),mn(e),a&512&&(Nt||n===null||la(n,n.return)),a&64&&Ea&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Pn;if(fn(t,e),mn(e),a&512&&(Nt||n===null||la(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[yl]||s[Xt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Zt(s,a,n),s[Xt]=e,Yt(s),a=s;break e;case"link":var r=Xm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Xm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;default:throw Error(C(468,a))}s[Xt]=e,Yt(s),a=s}e.stateNode=a}else Qm(i,e.type,e.stateNode);else e.stateNode=Km(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Qm(i,e.type,e.stateNode):Km(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:fn(t,e),mn(e),a&512&&(Nt||n===null||la(n,n.return)),n!==null&&a&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fn(t,e),mn(e),a&512&&(Nt||n===null||la(n,n.return)),e.flags&32){i=e.stateNode;try{Us(i,"")}catch(b){Je(e,e.return,b)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,gu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(vu=!0);break;case 6:if(fn(t,e),mn(e),a&4){if(e.stateNode===null)throw Error(C(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(b){Je(e,e.return,b)}}break;case 3:if(wo=null,i=Pn,Pn=Po(t.containerInfo),fn(t,e),Pn=i,mn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(b){Je(e,e.return,b)}vu&&(vu=!1,rp(e));break;case 4:a=Pn,Pn=Po(e.stateNode.containerInfo),fn(t,e),mn(e),Pn=a;break;case 12:fn(t,e),mn(e);break;case 31:fn(t,e),mn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 13:fn(t,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Oc=On()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Ea,h=Nt;if(Ea=u||i,Nt=h||o,fn(t,e),Nt=h,Ea=u,mn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Ea||Nt||Oi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(b){Je(o,o.return,b)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){Je(o,o.return,b)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?qm(m,!0):qm(o.stateNode,!1)}catch(b){Je(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Il(e,n))));break;case 19:fn(t,e),mn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Il(e,a)));break;case 30:break;case 21:break;default:fn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Fv(a)){n=a;break}a=a.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var i=n.stateNode,s=yu(e);Vo(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Us(r,""),n.flags&=-33);var l=yu(e);Vo(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=yu(e);wd(e,u,o);break;default:throw Error(C(161))}}catch(h){Je(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ep(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hi(4,t,t.return),Oi(t);break;case 1:la(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Zv(t,t.return,n),Oi(t);break;case 27:Hr(t.stateNode);case 26:case 5:la(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function wa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:wa(i,s,n),_l(4,s);break;case 1:if(wa(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Je(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)av(o[i],l)}catch(u){Je(a,a.return,u)}}n&&r&64&&Jv(s),zr(s,s.return);break;case 27:Wv(s);case 26:case 5:wa(i,s,n),n&&a===null&&r&4&&Pv(s),zr(s,s.return);break;case 12:wa(i,s,n);break;case 31:wa(i,s,n),n&&r&4&&ap(i,s);break;case 13:wa(i,s,n),n&&r&4&&ip(i,s);break;case 22:s.memoizedState===null&&wa(i,s,n),zr(s,s.return);break;case 30:break;default:wa(i,s,n)}t=t.sibling}}function Vh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&pl(n))}function Ih(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e))}function Xn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(e,t,n,a),t=t.sibling}function lp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,n,a),i&2048&&_l(9,t);break;case 1:Xn(e,t,n,a);break;case 3:Xn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pl(e)));break;case 12:if(i&2048){Xn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Je(t,t.return,o)}}else Xn(e,t,n,a);break;case 31:Xn(e,t,n,a);break;case 13:Xn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Xn(e,t,n,a):$r(e,t):s._visibility&2?Xn(e,t,n,a):(s._visibility|=2,ls(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Vh(r,t);break;case 24:Xn(e,t,n,a),i&2048&&Ih(t.alternate,t);break;default:Xn(e,t,n,a)}}function ls(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ls(s,r,l,o,i),_l(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ls(s,r,l,o,i):$r(s,r):(h._visibility|=2,ls(s,r,l,o,i)),i&&u&2048&&Vh(r.alternate,r);break;case 24:ls(s,r,l,o,i),i&&u&2048&&Ih(r.alternate,r);break;default:ls(s,r,l,o,i)}t=t.sibling}}function $r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:$r(n,a),i&2048&&Vh(a.alternate,a);break;case 24:$r(n,a),i&2048&&Ih(a.alternate,a);break;default:$r(n,a)}t=t.sibling}}var Er=8192;function es(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)op(e,t,n),e=e.sibling}function op(e,t,n){switch(e.tag){case 26:es(e,t,n),e.flags&Er&&e.memoizedState!==null&&LS(n,Pn,e.memoizedState,e.memoizedProps);break;case 5:es(e,t,n);break;case 3:case 4:var a=Pn;Pn=Po(e.stateNode.containerInfo),es(e,t,n),Pn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,es(e,t,n),Er=a):es(e,t,n));break;default:es(e,t,n)}}function cp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,dp(a,e)}cp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)up(e),e=e.sibling}function up(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&hi(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bo(e)):pr(e);break;default:pr(e)}}function bo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,dp(a,e)}cp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hi(8,t,t.return),bo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bo(t));break;default:bo(t)}e=e.sibling}}function dp(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:hi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:pl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ht=a;else e:for(n=e;Ht!==null;){a=Ht;var i=a.sibling,s=a.return;if(tp(a),a===n){Ht=null;break e}if(i!==null){i.return=s,Ht=i;break e}Ht=s}}}var Ww={getCacheForType:function(e){var t=Jt(Dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Jt(Dt).controller.signal}},eS=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Se=null,Ee=0,Qe=0,wn=null,Fa=!1,Fs=!1,Gh=!1,Ua=0,bt=0,fi=0,zi=0,Kh=0,jn=0,Bs=0,Lr=null,yn=null,Sd=!1,Oc=0,hp=0,Io=1/0,Go=null,si=null,kt=0,ri=null,Hs=null,Aa=0,xd=0,Ed=null,fp=null,Br=0,Td=null;function An(){return qe&2&&Ee!==0?Ee&-Ee:ne.T!==null?Qh():Sy()}function mp(){if(jn===0)if(!(Ee&536870912)||De){var e=zl;zl<<=1,!(zl&3932160)&&(zl=262144),jn=e}else jn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),jn}function vn(e,t,n){(e===et&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(qs(e,0),Wa(e,Ee,jn,!1)),gl(e,n),(!(qe&2)||e!==et)&&(e===et&&(!(qe&2)&&(zi|=n),bt===4&&Wa(e,Ee,jn,!1)),ua(e))}function gp(e,t,n){if(qe&6)throw Error(C(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ml(e,t),i=a?aS(e,t):pu(e,t,!0),s=a;do{if(i===0){Fs&&!a&&Wa(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!tS(n)){i=pu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Lr;var o=l.current.memoizedState.isDehydrated;if(o&&(qs(l,r).flags|=256),r=pu(l,r,!1),r!==2){if(Gh&&!o){l.errorRecoveryDisabledLanes|=s,zi|=s,i=4;break e}s=yn,yn=i,s!==null&&(yn===null?yn=s:yn.push.apply(yn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){qs(e,0),Wa(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(C(345));case 4:if((t&4194048)!==t)break;case 6:Wa(a,t,jn,!Fa);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(C(329))}if((t&62914560)===t&&(i=Oc+300-On(),10<i)){if(Wa(a,t,jn,!Fa),yc(a,0,!0)!==0)break e;Aa=t,a.timeoutHandle=Up(Nm.bind(null,a,n,yn,Go,Sd,t,jn,zi,Bs,Fa,s,"Throttled",-0,0),i);break e}Nm(a,n,yn,Go,Sd,t,jn,zi,Bs,Fa,s,null,-0,0)}}break}while(!0);ua(e)}function Nm(e,t,n,a,i,s,r,l,o,u,h,d,f,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},op(t,s,d);var b=(s&62914560)===s?Oc-On():(s&4194048)===s?hp-On():0;if(b=BS(d,b),b!==null){Aa=s,e.cancelPendingCommit=b(Am.bind(null,e,t,s,n,a,i,r,l,o,h,d,null,f,m)),Wa(e,s,r,!u);return}}Am(e,t,s,n,a,i,r,l,o)}function tS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t,n,a){t&=~Kh,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Dn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&by(e,n,t)}function Nc(){return qe&6?!0:(wl(0),!1)}function Xh(){if(Se!==null){if(Qe===0)var e=Se.return;else e=Se,Oa=Xi=null,Rh(e),Ns=null,Wr=0,e=Se;for(;e!==null;)Qv(e.alternate,e),e=e.return;Se=null}}function qs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,wS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Aa=0,Xh(),et=e,Se=n=Na(e.current,null),Ee=t,Qe=0,wn=null,Fa=!1,Fs=ml(e,t),Gh=!1,Bs=jn=Kh=zi=fi=bt=0,yn=Lr=null,Sd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Dn(a),s=1<<i;t|=e[i],a&=~s}return Ua=t,_c(),n}function yp(e,t){he=null,ne.H=tl,t===Ps||t===Sc?(t=rm(),Qe=3):t===Th?(t=rm(),Qe=4):Qe=t===qh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Se===null&&(bt=1,qo(e,qn(t,e.current)))}function vp(){var e=Rn.current;return e===null?!0:(Ee&4194048)===Ee?Vn===null:(Ee&62914560)===Ee||Ee&536870912?e===Vn:!1}function pp(){var e=ne.H;return ne.H=tl,e===null?tl:e}function bp(){var e=ne.A;return ne.A=Ww,e}function Ko(){bt=4,Fa||(Ee&4194048)!==Ee&&Rn.current!==null||(Fs=!0),!(fi&134217727)&&!(zi&134217727)||et===null||Wa(et,Ee,jn,!1)}function pu(e,t,n){var a=qe;qe|=2;var i=pp(),s=bp();(et!==e||Ee!==t)&&(Go=null,qs(e,t)),t=!1;var r=bt;e:do try{if(Qe!==0&&Se!==null){var l=Se,o=wn;switch(Qe){case 8:Xh(),r=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(t=!0);var u=Qe;if(Qe=0,wn=null,xs(e,l,o,u),n&&Fs){r=0;break e}break;default:u=Qe,Qe=0,wn=null,xs(e,l,o,u)}}nS(),r=bt;break}catch(h){yp(e,h)}while(!0);return t&&e.shellSuspendCounter++,Oa=Xi=null,qe=a,ne.H=i,ne.A=s,Se===null&&(et=null,Ee=0,_c()),r}function nS(){for(;Se!==null;)_p(Se)}function aS(e,t){var n=qe;qe|=2;var a=pp(),i=bp();et!==e||Ee!==t?(Go=null,Io=On()+500,qs(e,t)):Fs=ml(e,t);e:do try{if(Qe!==0&&Se!==null){t=Se;var s=wn;t:switch(Qe){case 1:Qe=0,wn=null,xs(e,t,s,1);break;case 2:case 9:if(sm(s)){Qe=0,wn=null,Dm(t);break}t=function(){Qe!==2&&Qe!==9||et!==e||(Qe=7),ua(e)},s.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:sm(s)?(Qe=0,wn=null,Dm(t)):(Qe=0,wn=null,xs(e,t,s,7));break;case 5:var r=null;switch(Se.tag){case 26:r=Se.memoizedState;case 5:case 27:var l=Se;if(r?Hp(r):l.stateNode.complete){Qe=0,wn=null;var o=l.sibling;if(o!==null)Se=o;else{var u=l.return;u!==null?(Se=u,Dc(u)):Se=null}break t}}Qe=0,wn=null,xs(e,t,s,5);break;case 6:Qe=0,wn=null,xs(e,t,s,6);break;case 8:Xh(),bt=6;break e;default:throw Error(C(462))}}iS();break}catch(h){yp(e,h)}while(!0);return Oa=Xi=null,ne.H=a,ne.A=i,qe=n,Se!==null?0:(et=null,Ee=0,_c(),bt)}function iS(){for(;Se!==null&&!O_();)_p(Se)}function _p(e){var t=Xv(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,t===null?Dc(e):Se=t}function Dm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sm(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Sm(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Rh(t);default:Qv(n,t),t=Se=Qy(t,Ua),t=Xv(n,t,Ua)}e.memoizedProps=e.pendingProps,t===null?Dc(e):Se=t}function xs(e,t,n,a){Oa=Xi=null,Rh(t),Ns=null,Wr=0;var i=t.return;try{if(Kw(e,i,t,n,Ee)){bt=1,qo(e,qn(n,e.current)),Se=null;return}}catch(s){if(i!==null)throw Se=i,s;bt=1,qo(e,qn(n,e.current)),Se=null;return}t.flags&32768?(De||a===1?e=!0:Fs||Ee&536870912?e=!1:(Fa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),wp(t,e)):Dc(t)}function Dc(e){var t=e;do{if(t.flags&32768){wp(t,Fa);return}e=t.return;var n=Jw(t.alternate,t,Ua);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);bt===0&&(bt=5)}function wp(e,t){do{var n=Zw(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);bt=6,Se=null}function Am(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do Ac();while(kt!==0);if(qe&6)throw Error(C(327));if(t!==null){if(t===e.current)throw Error(C(177));if(s=t.lanes|t.childLanes,s|=ph,$_(e,n,s,r,l,o),e===et&&(Se=et=null,Ee=0),Hs=t,ri=e,Aa=n,xd=s,Ed=i,fp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,oS(Ao,function(){return jp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ne.T,ne.T=null,i=Ye.p,Ye.p=2,r=qe,qe|=4;try{Pw(e,t,n)}finally{qe=r,Ye.p=i,ne.T=a}}kt=1,Sp(),xp(),Ep()}}function Sp(){if(kt===1){kt=0;var e=ri,t=Hs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ne.T,ne.T=null;var a=Ye.p;Ye.p=2;var i=qe;qe|=4;try{sp(t,e);var s=Dd,r=Hy(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&By(l.ownerDocument.documentElement,l)){if(o!==null&&vh(l)){var u=o.start,h=o.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),b=l.textContent.length,S=Math.min(o.start,b),E=o.end===void 0?S:Math.min(o.end,b);!m.extend&&S>E&&(r=E,E=S,S=r);var v=Ff(l,S),g=Ff(l,E);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=d.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),S>E?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(d=[],m=l;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ec=!!Nd,Dd=Nd=null}finally{qe=i,Ye.p=a,ne.T=n}}e.current=t,kt=2}}function xp(){if(kt===2){kt=0;var e=ri,t=Hs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ne.T,ne.T=null;var a=Ye.p;Ye.p=2;var i=qe;qe|=4;try{ep(e,t.alternate,t)}finally{qe=i,Ye.p=a,ne.T=n}}kt=3}}function Ep(){if(kt===4||kt===3){kt=0,N_();var e=ri,t=Hs,n=Aa,a=fp;t.subtreeFlags&10256||t.flags&10256?kt=5:(kt=0,Hs=ri=null,Tp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(si=null),uh(n),t=t.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ne.T,i=Ye.p,Ye.p=2,ne.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{ne.T=t,Ye.p=i}}Aa&3&&Ac(),ua(e),i=e.pendingLanes,n&261930&&i&42?e===Td?Br++:(Br=0,Td=e):Br=0,wl(0)}}function Tp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pl(t)))}function Ac(){return Sp(),xp(),Ep(),jp()}function jp(){if(kt!==5)return!1;var e=ri,t=xd;xd=0;var n=uh(Aa),a=ne.T,i=Ye.p;try{Ye.p=32>n?32:n,ne.T=null,n=Ed,Ed=null;var s=ri,r=Aa;if(kt=0,Hs=ri=null,Aa=0,qe&6)throw Error(C(331));var l=qe;if(qe|=4,up(s.current),lp(s,s.current,r,n),qe=l,wl(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(fl,s)}catch{}return!0}finally{Ye.p=i,ne.T=a,Tp(e,t)}}function Cm(e,t,n){t=qn(n,t),t=pd(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(gl(e,2),ua(e))}function Je(e,t,n){if(e.tag===3)Cm(e,e,n);else for(;t!==null;){if(t.tag===3){Cm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=qn(n,e),n=qv(2),a=ii(t,n,2),a!==null&&(Yv(n,a,t,e),gl(a,2),ua(a));break}}t=t.return}}function bu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new eS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Gh=!0,i.add(n),e=sS.bind(null,e,t,n),t.then(e,e))}function sS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,et===e&&(Ee&n)===n&&(bt===4||bt===3&&(Ee&62914560)===Ee&&300>On()-Oc?!(qe&2)&&qs(e,0):Kh|=n,Bs===Ee&&(Bs=0)),ua(e)}function Op(e,t){t===0&&(t=py()),e=Ki(e,t),e!==null&&(gl(e,t),ua(e))}function rS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Op(e,n)}function lS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(C(314))}a!==null&&a.delete(t),Op(e,n)}function oS(e,t){return oh(e,t)}var Xo=null,os=null,jd=!1,Qo=!1,_u=!1,ei=0;function ua(e){e!==os&&e.next===null&&(os===null?Xo=os=e:os=os.next=e),Qo=!0,jd||(jd=!0,uS())}function wl(e,t){if(!_u&&Qo){_u=!0;do for(var n=!1,a=Xo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Dn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Rm(a,s))}else s=Ee,s=yc(a,a===et?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||ml(a,s)||(n=!0,Rm(a,s));a=a.next}while(n);_u=!1}}function cS(){Np()}function Np(){Qo=jd=!1;var e=0;ei!==0&&_S()&&(e=ei);for(var t=On(),n=null,a=Xo;a!==null;){var i=a.next,s=Dp(a,t);s===0?(a.next=null,n===null?Xo=i:n.next=i,i===null&&(os=n)):(n=a,(e!==0||s&3)&&(Qo=!0)),a=i}kt!==0&&kt!==5||wl(e),ei!==0&&(ei=0)}function Dp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Dn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=z_(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=et,n=Ee,n=yc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Qc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ml(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Qc(a),uh(n)){case 2:case 8:n=yy;break;case 32:n=Ao;break;case 268435456:n=vy;break;default:n=Ao}return a=Ap.bind(null,e),n=oh(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Qc(a),e.callbackPriority=2,e.callbackNode=null,2}function Ap(e,t){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var a=Ee;return a=yc(e,e===et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(gp(e,a,t),Dp(e,On()),e.callbackNode!=null&&e.callbackNode===n?Ap.bind(null,e):null)}function Rm(e,t){if(Ac())return null;gp(e,t,!0)}function uS(){SS(function(){qe&6?oh(gy,cS):Np()})}function Qh(){if(ei===0){var e=zs;e===0&&(e=Ul,Ul<<=1,!(Ul&261888)&&(Ul=256)),ei=e}return ei}function Mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function km(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function dS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Mm((i[pn]||null).action),r=a.submitter;r&&(t=(t=r[pn]||null)?Mm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new vc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ei!==0){var o=r?km(i,r):new FormData(i);yd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?km(i,r):new FormData(i),yd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var wu=0;wu<id.length;wu++){var Su=id[wu],hS=Su.toLowerCase(),fS=Su[0].toUpperCase()+Su.slice(1);ta(hS,"on"+fS)}ta(Yy,"onAnimationEnd");ta(Vy,"onAnimationIteration");ta(Iy,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(Dw,"onTransitionRun");ta(Aw,"onTransitionStart");ta(Cw,"onTransitionCancel");ta(Gy,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(h){Ro(h)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(h){Ro(h)}i.currentTarget=null,s=o}}}}function we(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var a=e+"__bubble";n.has(a)||(Rp(t,e,2,!1),n.add(a))}function xu(e,t,n){var a=0;t&&(a|=4),Rp(n,e,a,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Jh(e){if(!e[Gl]){e[Gl]=!0,xy.forEach(function(n){n!=="selectionchange"&&(mS.has(n)||xu(n,!1,e),xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,xu("selectionchange",!1,t))}}function Rp(e,t,n,a){switch(Gp(t)){case 2:var i=YS;break;case 8:i=VS;break;default:i=Wh}n=i.bind(null,t,n,e),i=void 0,!td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=ms(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Cy(function(){var u=s,h=fh(n),d=[];e:{var f=Ky.get(e);if(f!==void 0){var m=vc,b=e;switch(e){case"keypress":if(ho(n)===0)break e;case"keydown":case"keyup":m=lw;break;case"focusin":b="focus",m=Wc;break;case"focusout":b="blur",m=Wc;break;case"beforeblur":case"afterblur":m=Wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uw;break;case Yy:case Vy:case Iy:m=F_;break;case Gy:m=hw;break;case"scroll":case"scrollend":m=X_;break;case"wheel":m=mw;break;case"copy":case"cut":case"paste":m=ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=If;break;case"toggle":case"beforetoggle":m=yw}var S=(t&4)!==0,E=!S&&(e==="scroll"||e==="scrollend"),v=S?f!==null?f+"Capture":null:f;S=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||v===null||(w=Qr(g,v),w!=null&&S.push(al(g,w,y))),E)break;g=g.return}0<S.length&&(f=new m(f,b,null,n,h),d.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==ed&&(b=n.relatedTarget||n.fromElement)&&(ms(b)||b[Qs]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?ms(b):null,b!==null&&(E=hl(b),S=b.tag,b!==E||S!==5&&S!==27&&S!==6)&&(b=null)):(m=null,b=u),m!==b)){if(S=Yf,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(S=If,w="onPointerLeave",v="onPointerEnter",g="pointer"),E=m==null?f:Sr(m),y=b==null?f:Sr(b),f=new S(w,g+"leave",m,n,h),f.target=E,f.relatedTarget=y,w=null,ms(h)===u&&(S=new S(v,g+"enter",b,n,h),S.target=y,S.relatedTarget=E,w=S),E=w,m&&b)t:{for(S=gS,v=m,g=b,y=0,w=v;w;w=S(w))y++;w=0;for(var _=g;_;_=S(_))w++;for(;0<y-w;)v=S(v),y--;for(;0<w-y;)g=S(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate){S=v;break t}v=S(v),g=S(g)}S=null}else S=null;m!==null&&Um(d,f,m,S,!1),b!==null&&E!==null&&Um(d,E,b,S,!0)}}e:{if(f=u?Sr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=Qf;else if(Xf(f))if($y)x=jw;else{x=Ew;var T=xw}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&hh(u.elementType)&&(x=Qf):x=Tw;if(x&&(x=x(e,u))){zy(d,x,n,h);break e}T&&T(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Wu(f,"number",f.value)}switch(T=u?Sr(u):window,e){case"focusin":(Xf(T)||T.contentEditable==="true")&&(vs=T,nd=u,Ar=null);break;case"focusout":Ar=nd=vs=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Wf(d,n,h);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":Wf(d,n,h)}var O;if(yh)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ys?ky(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(My&&n.locale!=="ko"&&(ys||N!=="onCompositionStart"?N==="onCompositionEnd"&&ys&&(O=Ry()):(Pa=h,mh="value"in Pa?Pa.value:Pa.textContent,ys=!0)),T=Jo(u,N),0<T.length&&(N=new Vf(N,e,null,n,h),d.push({event:N,listeners:T}),O?N.data=O:(O=Uy(n),O!==null&&(N.data=O)))),(O=pw?bw(e,n):_w(e,n))&&(N=Jo(u,"onBeforeInput"),0<N.length&&(T=new Vf("onBeforeInput","beforeinput",null,n,h),d.push({event:T,listeners:N}),T.data=O)),dS(d,e,u,n,h)}Cp(d,t)})}function al(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Qr(e,n),i!=null&&a.unshift(al(e,i,s)),i=Qr(e,t),i!=null&&a.push(al(e,i,s))),e.tag===3)return a;e=e.return}return[]}function gS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Um(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=Qr(n,s),u!=null&&r.unshift(al(n,u,o))):i||(u=Qr(n,s),u!=null&&r.push(al(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var yS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function zm(e){return(typeof e=="string"?e:""+e).replace(yS,`
`).replace(vS,"")}function Mp(e,t){return t=zm(t),zm(e)===t}function Pe(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Us(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Us(e,""+a);break;case"className":Ll(e,"class",a);break;case"tabIndex":Ll(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(e,n,a);break;case"style":Ay(e,a,s);break;case"data":if(t!=="object"){Ll(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=co(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",i.name,i,null),Pe(e,t,"formEncType",i.formEncType,i,null),Pe(e,t,"formMethod",i.formMethod,i,null),Pe(e,t,"formTarget",i.formTarget,i,null)):(Pe(e,t,"encType",i.encType,i,null),Pe(e,t,"method",i.method,i,null),Pe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=co(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ja);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=co(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":we("beforetoggle",e),we("toggle",e),oo(e,"popover",a);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":oo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=G_.get(n)||n,oo(e,n,a))}}function Od(e,t,n,a,i,s){switch(n){case"style":Ay(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Us(e,a):(typeof a=="number"||typeof a=="bigint")&&Us(e,""+a);break;case"onScroll":a!=null&&we("scroll",e);break;case"onScrollEnd":a!=null&&we("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ey.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[pn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):oo(e,n,a)}}}function Zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:Pe(e,t,s,r,n,null)}}i&&Pe(e,t,"srcSet",n.srcSet,n,null),a&&Pe(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var l=s=r=i=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(h!=null)switch(a){case"name":i=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(C(137,t));break;default:Pe(e,t,a,h,n,null)}}Oy(e,s,l,o,u,r,i,!1);return;case"select":we("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Pe(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?Ts(e,!!a,t,!1):n!=null&&Ts(e,!!a,n,!0);return;case"textarea":we("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(C(91));break;default:Pe(e,t,r,l,n,null)}Dy(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pe(e,t,o,a,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(a=0;a<nl.length;a++)we(nl[a],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:Pe(e,t,u,a,n,null)}return;default:if(hh(t)){for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!==void 0&&Od(e,t,h,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Pe(e,t,l,a,n,null))}function pS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,u=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(m)||Pe(e,t,m,null,a,d)}}for(var f in a){var m=a[f];if(d=n[f],a.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(C(137,t));break;default:m!==d&&Pe(e,t,f,m,a,d)}}Fu(e,r,l,o,u,h,s,i);return;case"select":m=r=l=f=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Pe(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Pe(e,t,i,s,a,o)}t=l,n=r,a=m,f!=null?Ts(e,!!n,f,!1):!!a!=!!n&&(t!=null?Ts(e,!!n,t,!0):Ts(e,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Pe(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(C(91));break;default:i!==s&&Pe(e,t,r,i,a,s)}Ny(e,f,m);return;case"option":for(var b in n)if(f=n[b],n.hasOwnProperty(b)&&f!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:Pe(e,t,b,null,a,f)}for(o in a)if(f=a[o],m=n[o],a.hasOwnProperty(o)&&f!==m&&(f!=null||m!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pe(e,t,o,f,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)f=n[S],n.hasOwnProperty(S)&&f!=null&&!a.hasOwnProperty(S)&&Pe(e,t,S,null,a,f);for(u in a)if(f=a[u],m=n[u],a.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(C(137,t));break;default:Pe(e,t,u,f,a,m)}return;default:if(hh(t)){for(var E in n)f=n[E],n.hasOwnProperty(E)&&f!==void 0&&!a.hasOwnProperty(E)&&Od(e,t,E,void 0,a,f);for(h in a)f=a[h],m=n[h],!a.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||Od(e,t,h,f,a,m);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!a.hasOwnProperty(v)&&Pe(e,t,v,null,a,f);for(d in a)f=a[d],m=n[d],!a.hasOwnProperty(d)||f===m||f==null&&m==null||Pe(e,t,d,f,a,m)}function $m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&$m(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var h=o.transferSize,d=o.initiatorType;h&&$m(d)&&(o=o.responseEnd,r+=h*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nd=null,Dd=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function Lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=null;function _S(){var e=window.event;return e&&e.type==="popstate"?e===Tu?!1:(Tu=e,!0):(Tu=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(xS)}:Up;function xS(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function Hm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Vs(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Hr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[yl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Hr(e.ownerDocument.body);n=i}while(n);Vs(t)}function qm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Cd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cd(n),dh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ES(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[yl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function TS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=In(e.nextSibling),e===null))return null;return e}function zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var kd=null;function Ym(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return In(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function $p(e,t,n){switch(t=Zo(n),e){case"html":if(e=t.documentElement,!e)throw Error(C(452));return e;case"head":if(e=t.head,!e)throw Error(C(453));return e;case"body":if(e=t.body,!e)throw Error(C(454));return e;default:throw Error(C(451))}}function Hr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dh(e)}var Gn=new Map,Im=new Set;function Po(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=Ye.d;Ye.d={f:OS,r:NS,D:DS,C:AS,L:CS,m:RS,X:kS,S:MS,M:US};function OS(){var e=za.f(),t=Nc();return e||t}function NS(e){var t=Js(e);t!==null&&t.tag===5&&t.type==="form"?Av(t):za.r(e)}var Ws=typeof document>"u"?null:document;function Lp(e,t,n){var a=Ws;if(a&&typeof t=="string"&&t){var i=Hn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Im.has(i)||(Im.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Zt(t,"link",e),Yt(t),a.head.appendChild(t)))}}function DS(e){za.D(e),Lp("dns-prefetch",e,null)}function AS(e,t){za.C(e,t),Lp("preconnect",e,t)}function CS(e,t,n){za.L(e,t,n);var a=Ws;if(a&&e&&t){var i='link[rel="preload"][as="'+Hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Hn(n.imageSizes)+'"]')):i+='[href="'+Hn(e)+'"]';var s=i;switch(t){case"style":s=Ys(e);break;case"script":s=er(e)}Gn.has(s)||(e=ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Gn.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Sl(s))||t==="script"&&a.querySelector(xl(s))||(t=a.createElement("link"),Zt(t,"link",e),Yt(t),a.head.appendChild(t)))}}function RS(e,t){za.m(e,t);var n=Ws;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Hn(a)+'"][href="'+Hn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=er(e)}if(!Gn.has(s)&&(e=ot({rel:"modulepreload",href:e},t),Gn.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xl(s)))return}a=n.createElement("link"),Zt(a,"link",e),Yt(a),n.head.appendChild(a)}}}function MS(e,t,n){za.S(e,t,n);var a=Ws;if(a&&e){var i=Es(a).hoistableStyles,s=Ys(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Sl(s)))l.loading=5;else{e=ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Gn.get(s))&&Zh(e,n);var o=r=a.createElement("link");Yt(o),Zt(o,"link",e),o._p=new Promise(function(u,h){o.onload=u,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,_o(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function kS(e,t){za.X(e,t);var n=Ws;if(n&&e){var a=Es(n).hoistableScripts,i=er(e),s=a.get(i);s||(s=n.querySelector(xl(i)),s||(e=ot({src:e,async:!0},t),(t=Gn.get(i))&&Ph(e,t),s=n.createElement("script"),Yt(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function US(e,t){za.M(e,t);var n=Ws;if(n&&e){var a=Es(n).hoistableScripts,i=er(e),s=a.get(i);s||(s=n.querySelector(xl(i)),s||(e=ot({src:e,async:!0,type:"module"},t),(t=Gn.get(i))&&Ph(e,t),s=n.createElement("script"),Yt(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Gm(e,t,n,a){var i=(i=ti.current)?Po(i):null;if(!i)throw Error(C(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ys(n.href),n=Es(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ys(n.href);var s=Es(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(Sl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Gn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Gn.set(e,n),s||zS(i,e,n,r.state))),t&&a===null)throw Error(C(528,""));return r}if(t&&a!==null)throw Error(C(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=er(n),n=Es(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,e))}}function Ys(e){return'href="'+Hn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function Bp(e){return ot({},e,{"data-precedence":e.precedence,precedence:null})}function zS(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Zt(t,"link",n),Yt(t),e.head.appendChild(t))}function er(e){return'[src="'+Hn(e)+'"]'}function xl(e){return"script[async]"+e}function Km(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Hn(n.href)+'"]');if(a)return t.instance=a,Yt(a),a;var i=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Yt(a),Zt(a,"style",i),_o(a,n.precedence,e),t.instance=a;case"stylesheet":i=Ys(n.href);var s=e.querySelector(Sl(i));if(s)return t.state.loading|=4,t.instance=s,Yt(s),s;a=Bp(n),(i=Gn.get(i))&&Zh(a,i),s=(e.ownerDocument||e).createElement("link"),Yt(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),t.state.loading|=4,_o(s,n.precedence,e),t.instance=s;case"script":return s=er(n.src),(i=e.querySelector(xl(s)))?(t.instance=i,Yt(i),i):(a=n,(i=Gn.get(s))&&(a=ot({},n),Ph(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Yt(i),Zt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(C(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,_o(a,n.precedence,e));return t.instance}function _o(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wo=null;function Xm(e,t,n){if(wo===null){var a=new Map,i=wo=new Map;i.set(n,a)}else i=wo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[yl]||s[Xt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Qm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $S(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function LS(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ys(a.href),s=t.querySelector(Sl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Fo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Yt(s);return}s=t.ownerDocument||t,a=Bp(a),(i=Gn.get(i))&&Zh(a,i),s=s.createElement("link"),Yt(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Fo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ju=0;function BS(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*bS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Fo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wo=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wo=new Map,t.forEach(HS,e),Wo=null,Fo.call(e))}function HS(e,t){if(!(t.state.loading&4)){var n=Wo.get(e);if(n)var a=n.get(null);else{n=new Map,Wo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Fo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var il={$$typeof:Ta,Provider:null,Consumer:null,_currentValue:Ri,_currentValue2:Ri,_threadCount:0};function qS(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function qp(e,t,n,a,i,s,r,l,o,u,h,d){return e=new qS(e,t,n,r,o,u,h,d,l),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=xh(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},jh(s),e}function Yp(e){return e?(e=_s,e):_s}function Vp(e,t,n,a,i,s){i=Yp(i),a.context===null?a.context=i:a.pendingContext=i,a=ai(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ii(e,a,t),n!==null&&(vn(n,e,t),Rr(n,e,t))}function Jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){Jm(e,t),(e=e.alternate)&&Jm(e,t)}function Ip(e){if(e.tag===13||e.tag===31){var t=Ki(e,67108864);t!==null&&vn(t,e,67108864),Fh(e,67108864)}}function Zm(e){if(e.tag===13||e.tag===31){var t=An();t=ch(t);var n=Ki(e,t);n!==null&&vn(n,e,t),Fh(e,t)}}var ec=!0;function YS(e,t,n,a){var i=ne.T;ne.T=null;var s=Ye.p;try{Ye.p=2,Wh(e,t,n,a)}finally{Ye.p=s,ne.T=i}}function VS(e,t,n,a){var i=ne.T;ne.T=null;var s=Ye.p;try{Ye.p=8,Wh(e,t,n,a)}finally{Ye.p=s,ne.T=i}}function Wh(e,t,n,a){if(ec){var i=Ud(a);if(i===null)Eu(e,t,a,tc,n),Pm(e,a);else if(GS(i,e,t,n,a))a.stopPropagation();else if(Pm(e,a),t&4&&-1<IS.indexOf(e)){for(;i!==null;){var s=Js(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Ti(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Dn(r);l.entanglements[1]|=o,r&=~o}ua(s),!(qe&6)&&(Io=On()+500,wl(0))}}break;case 31:case 13:l=Ki(s,2),l!==null&&vn(l,s,2),Nc(),Fh(s,2)}if(s=Ud(a),s===null&&Eu(e,t,a,tc,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Eu(e,t,a,null,n)}}function Ud(e){return e=fh(e),ef(e)}var tc=null;function ef(e){if(tc=null,e=ms(e),e!==null){var t=hl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=uy(t),e!==null)return e;e=null}else if(n===31){if(e=dy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tc=e,null}function Gp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(D_()){case gy:return 2;case yy:return 8;case Ao:case A_:return 32;case vy:return 268435456;default:return 32}default:return 32}}var zd=!1,li=null,oi=null,ci=null,sl=new Map,rl=new Map,Qa=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function br(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Js(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GS(e,t,n,a,i){switch(t){case"focusin":return li=br(li,e,t,n,a,i),!0;case"dragenter":return oi=br(oi,e,t,n,a,i),!0;case"mouseover":return ci=br(ci,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return sl.set(s,br(sl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,br(rl.get(s)||null,e,t,n,a,i)),!0}return!1}function Kp(e){var t=ms(e.target);if(t!==null){var n=hl(t);if(n!==null){if(t=n.tag,t===13){if(t=uy(n),t!==null){e.blockedOn=t,Uf(e.priority,function(){Zm(n)});return}}else if(t===31){if(t=dy(n),t!==null){e.blockedOn=t,Uf(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ud(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ed=a,n.target.dispatchEvent(a),ed=null}else return t=Js(n),t!==null&&Ip(t),e.blockedOn=n,!1;t.shift()}return!0}function Fm(e,t,n){xo(e)&&n.delete(t)}function KS(){zd=!1,li!==null&&xo(li)&&(li=null),oi!==null&&xo(oi)&&(oi=null),ci!==null&&xo(ci)&&(ci=null),sl.forEach(Fm),rl.forEach(Fm)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,zd||(zd=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,KS)))}var Xl=null;function Wm(e){Xl!==e&&(Xl=e,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(ef(a||n)===null)continue;break}var s=Js(n);s!==null&&(e.splice(t,3),t-=3,yd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Vs(e){function t(o){return Kl(o,e)}li!==null&&Kl(li,e),oi!==null&&Kl(oi,e),ci!==null&&Kl(ci,e),sl.forEach(t),rl.forEach(t);for(var n=0;n<Qa.length;n++){var a=Qa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)Kp(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[pn]||null;if(typeof s=="function")r||Wm(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[pn]||null)l=r.formAction;else if(ef(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Wm(n)}}}function Xp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function tf(e){this._internalRoot=e}Cc.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));var n=t.current,a=An();Vp(n,a,e,t,null,null)};Cc.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(e.current,2,null,e,null,null),Nc(),t[Qs]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&Kp(e)}};var eg=oy.version;if(eg!=="19.2.0")throw Error(C(527,eg,"19.2.0"));Ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=S_(t),e=e!==null?hy(e):null,e=e===null?null:e.stateNode,e};var XS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{fl=Ql.inject(XS),Nn=Ql}catch{}}mc.createRoot=function(e,t){if(!cy(e))throw Error(C(299));var n=!1,a="",i=Lv,s=Bv,r=Hv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=qp(e,1,!1,null,null,n,a,null,i,s,r,Xp),e[Qs]=t.current,Jh(e),new tf(t)};mc.hydrateRoot=function(e,t,n){if(!cy(e))throw Error(C(299));var a=!1,i="",s=Lv,r=Bv,l=Hv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=qp(e,1,!0,t,n??null,a,i,o,s,r,l,Xp),t.context=Yp(null),n=t.current,a=An(),a=ch(a),i=ai(a),i.callback=null,ii(n,i,a),n=a,t.current.lanes=n,gl(t,n),ua(t),e[Qs]=t.current,Jh(e),new Cc(t)};mc.version="19.2.0";function Qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qp)}catch(e){console.error(e)}}Qp(),ny.exports=mc;var QS=ny.exports,$d=function(e,t){return $d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},$d(e,t)};function Jp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$d(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var nc=function(){return nc=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nc.apply(this,arguments)};function tr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function Zp(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Pp(e,t){return function(n,a){t(n,a,e)}}function Fp(e,t,n,a,i,s){function r(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),d,f=!1,m=n.length-1;m>=0;m--){var b={};for(var S in a)b[S]=S==="access"?{}:a[S];for(var S in a.access)b.access[S]=a.access[S];b.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(v||null))};var E=(0,n[m])(l==="accessor"?{get:h.get,set:h.set}:h[o],b);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(d=r(E.get))&&(h.get=d),(d=r(E.set))&&(h.set=d),(d=r(E.init))&&i.unshift(d)}else(d=r(E))&&(l==="field"?i.unshift(d):h[o]=d)}u&&Object.defineProperty(u,a.name,h),f=!0}function Wp(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function e0(e){return typeof e=="symbol"?e:"".concat(e)}function t0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function n0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function J(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(h){try{u(a.next(h))}catch(d){r(d)}}function o(h){try{u(a.throw(h))}catch(d){r(d)}}function u(h){h.done?s(h.value):i(h.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function a0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(h){return o([u,h])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(h){u=[6,h],i=0}finally{a=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Rc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function i0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rc(t,e,n)}function ac(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function s0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nf(arguments[t]));return e}function r0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function l0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function Is(e){return this instanceof Is?(this.v=e,this):new Is(e)}function o0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(b){return Promise.resolve(b).then(m,d)}}function l(m,b){a[m]&&(i[m]=function(S){return new Promise(function(E,v){s.push([m,S,E,v])>1||o(m,S)})},b&&(i[m]=b(i[m])))}function o(m,b){try{u(a[m](b))}catch(S){f(s[0][3],S)}}function u(m){m.value instanceof Is?Promise.resolve(m.value.v).then(h,d):f(s[0][2],m)}function h(m){o("next",m)}function d(m){o("throw",m)}function f(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}}function c0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:Is(e[i](r)),done:!1}:s?s(r):r}:s}}function u0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ac=="function"?ac(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(u){s({value:u,done:l})},r)}}function d0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var JS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ld=function(e){return Ld=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Ld(e)};function h0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ld(e),a=0;a<n.length;a++)n[a]!=="default"&&Rc(t,e,n[a]);return JS(t,e),t}function f0(e){return e&&e.__esModule?e:{default:e}}function m0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function g0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function y0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function v0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var ZS=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function p0(e){function t(s){e.error=e.hasError?new ZS(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function b0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const PS={__extends:Jp,__assign:nc,__rest:tr,__decorate:Zp,__param:Pp,__esDecorate:Fp,__runInitializers:Wp,__propKey:e0,__setFunctionName:t0,__metadata:n0,__awaiter:J,__generator:a0,__createBinding:Rc,__exportStar:i0,__values:ac,__read:nf,__spread:s0,__spreadArrays:r0,__spreadArray:l0,__await:Is,__asyncGenerator:o0,__asyncDelegator:c0,__asyncValues:u0,__makeTemplateObject:d0,__importStar:h0,__importDefault:f0,__classPrivateFieldGet:m0,__classPrivateFieldSet:g0,__classPrivateFieldIn:y0,__addDisposableResource:v0,__disposeResources:p0,__rewriteRelativeImportExtension:b0},FS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:v0,get __assign(){return nc},__asyncDelegator:c0,__asyncGenerator:o0,__asyncValues:u0,__await:Is,__awaiter:J,__classPrivateFieldGet:m0,__classPrivateFieldIn:y0,__classPrivateFieldSet:g0,__createBinding:Rc,__decorate:Zp,__disposeResources:p0,__esDecorate:Fp,__exportStar:i0,__extends:Jp,__generator:a0,__importDefault:f0,__importStar:h0,__makeTemplateObject:d0,__metadata:n0,__param:Pp,__propKey:e0,__read:nf,__rest:tr,__rewriteRelativeImportExtension:b0,__runInitializers:Wp,__setFunctionName:t0,__spread:s0,__spreadArray:l0,__spreadArrays:r0,__values:ac,default:PS},Symbol.toStringTag,{value:"Module"})),WS="modulepreload",ex=function(e){return"/todo-note/"+e},tg={},nr=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=ex(o),o in tg)return;tg[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":WS,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},tx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Qi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class af extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class ng extends af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ag extends af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ig extends af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bd||(Bd={}));class nx{constructor(t,{headers:n={},customFetch:a,region:i=Bd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=tx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return J(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let u={},{region:h}=a;h||(h=this.region);const d=new URL(`${this.url}/${n}`);h&&h!=="any"&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(d.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new ng(v)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new ag(m);if(!m.ok)throw new ig(m);let S=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield m.json():S==="application/octet-stream"||S==="application/pdf"?E=yield m.blob():S==="text/event-stream"?E=m:S==="multipart/form-data"?E=yield m.formData():E=yield m.text(),{data:E,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new ng(s)}:{data:null,error:s,response:s instanceof ig||s instanceof ag?s.context:void 0}}})}}var rn={};const ar=Kg(FS);var Jl={},Zl={},Pl={},Fl={},Wl={},ax=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gs=ax();const ix=Gs.fetch,_0=Gs.fetch.bind(Gs),w0=Gs.Headers,sx=Gs.Request,rx=Gs.Response,Qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:w0,Request:sx,Response:rx,default:_0,fetch:ix},Symbol.toStringTag,{value:"Module"})),lx=Kg(Qi);var eo={},sg;function S0(){if(sg)return eo;sg=1,Object.defineProperty(eo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return eo.default=e,eo}var rg;function x0(){if(rg)return Wl;rg=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=ar,t=e.__importDefault(lx),n=e.__importDefault(S0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,d,f,m;let b=null,S=null,E=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const x=await u.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=x:S=JSON.parse(x))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&_&&_.length>1&&(E=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,v=406,g="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const w=await u.text();try{b=JSON.parse(w),Array.isArray(b)&&u.status===404&&(S=[],b=null,v=200,g="OK")}catch{u.status===404&&w===""?(v=204,g="No Content"):b={message:w}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,v=200,g="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:S,count:E,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var h,d,f;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return Wl.default=a,Wl}var lg;function E0(){if(lg)return Fl;lg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const t=ar.__importDefault(x0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var h;const d=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fl.default=n,Fl}var og;function sf(){if(og)return Pl;og=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=ar.__importDefault(E0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${h}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Pl.default=a,Pl}var cg;function T0(){if(cg)return Zl;cg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const t=ar.__importDefault(sf());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Zl.default=n,Zl}var ug;function ox(){if(ug)return Jl;ug=1,Object.defineProperty(Jl,"__esModule",{value:!0});const e=ar,t=e.__importDefault(T0()),n=e.__importDefault(sf());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:u}={}){var h;let d;const f=new URL(`${this.url}/rpc/${s}`);let m;l||o?(d=l?"HEAD":"GET",Object.entries(r).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{f.searchParams.append(S,E)})):(d="POST",m=r);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:b,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Jl.default=a,Jl}Object.defineProperty(rn,"__esModule",{value:!0});var j0=rn.PostgrestError=z0=rn.PostgrestBuilder=k0=rn.PostgrestTransformBuilder=R0=rn.PostgrestFilterBuilder=A0=rn.PostgrestQueryBuilder=N0=rn.PostgrestClient=void 0;const ir=ar,O0=ir.__importDefault(ox());var N0=rn.PostgrestClient=O0.default;const D0=ir.__importDefault(T0());var A0=rn.PostgrestQueryBuilder=D0.default;const C0=ir.__importDefault(sf());var R0=rn.PostgrestFilterBuilder=C0.default;const M0=ir.__importDefault(E0());var k0=rn.PostgrestTransformBuilder=M0.default;const U0=ir.__importDefault(x0());var z0=rn.PostgrestBuilder=U0.default;const $0=ir.__importDefault(S0());j0=rn.PostgrestError=$0.default;var L0=rn.default={PostgrestClient:O0.default,PostgrestQueryBuilder:D0.default,PostgrestFilterBuilder:C0.default,PostgrestTransformBuilder:M0.default,PostgrestBuilder:U0.default,PostgrestError:$0.default};const cx=Pb({__proto__:null,get PostgrestBuilder(){return z0},get PostgrestClient(){return N0},get PostgrestError(){return j0},get PostgrestFilterBuilder(){return R0},get PostgrestQueryBuilder(){return A0},get PostgrestTransformBuilder(){return k0},default:L0},[rn]),{PostgrestClient:ux,PostgrestQueryBuilder:Ij,PostgrestFilterBuilder:Gj,PostgrestTransformBuilder:Kj,PostgrestBuilder:Xj,PostgrestError:Qj}=L0||cx;class dx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hx="2.78.0",fx=`realtime-js/${hx}`,mx="1.0.0",Hd=1e4,gx=1e3,yx=100;var qr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qr||(qr={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var Fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fn||(Fn={}));var qd;(function(e){e.websocket="websocket"})(qd||(qd={}));var Di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Di||(Di={}));class vx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class B0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tt||(tt={}));const dg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=px(r,e,t,i),s),{}):{}},px=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?H0(s,r):Yd(r)},H0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Sx(t,n)}switch(e){case tt.bool:return bx(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return _x(t);case tt.json:case tt.jsonb:return wx(t);case tt.timestamp:return xx(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Yd(t);default:return Yd(t)}},Yd=e=>e,bx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_x=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>H0(t,l))}return e},xx=e=>typeof e=="string"?e.replace(" ","T"):e,q0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ou{constructor(t,n,a={},i=Hd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hg||(hg={}));class Yr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Yr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(u,h)=>{r[u]||(o[u]=h)}),this.map(r,(u,h)=>{const d=s[u];if(d){const f=h.map(E=>E.presence_ref),m=d.map(E=>E.presence_ref),b=h.filter(E=>m.indexOf(E.presence_ref)<0),S=d.filter(E=>f.indexOf(E.presence_ref)<0);b.length>0&&(l[u]=b),S.length>0&&(o[u]=S)}else l[u]=h}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),h.length>0){const d=t[l].map(m=>m.presence_ref),f=h.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...f)}a(l,h,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const h=o.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fg||(fg={}));var Vr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vr||(Vr={}));var Sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class rf{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ou(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new B0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Yr(this),this.broadcastEndpointURL=q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Sa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(Sa.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,v=[];for(let g=0;g<E;g++){const y=S[g],{filter:{event:w,schema:_,table:x,filter:T}}=y,O=m&&m[g];if(O&&O.event===w&&O.schema===_&&O.table===x&&O.filter===T)v.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=Rt.errored,t==null||t(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Sa.SUBSCRIBED);return}}).receive("error",m=>{this.state=Rt.errored,t==null||t(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Rt.joined&&t===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Ou(this,Fn.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ou(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:h}=Fn;if(a&&[l,o,u,h].indexOf(r)>=0&&a!==this._joinRef())return;let f=this._onMessage(r,n,a);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,S,E;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(S=m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===r}).map(m=>m.callback(f,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var b,S,E,v,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,_=(b=m.filter)===null||b===void 0?void 0:b.event;return w&&((S=n.ids)===null||S===void 0?void 0:S.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const w=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:S,table:E,commit_timestamp:v,type:g,errors:y}=b;f=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(b))}m.callback(f,a)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&rf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fn.close,{},t)}_onError(t){this._on(Fn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dg(t.columns,t.old_record)),n}}const Nu=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ex=[1e3,2e3,5e3,1e4],Tx=1e4,jx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ox{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hd,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nu,this.ref=0,this.reconnectTimer=null,this.logger=Nu,this.conn=null,this.sendBuffer=[],this.serializer=new vx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>nr(async()=>{const{default:l}=await Promise.resolve().then(()=>Qi);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qd.websocket}`,this.httpEndpoint=q0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return Di.Connecting;case qr.open:return Di.Open;case qr.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new rf(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([jx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:fx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Fn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new B0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,u,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Hd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:to.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Nu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>Ex[d-1]||Tx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Nx extends lf{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vd extends lf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const of=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Qi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Dx=()=>J(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nr(()=>Promise.resolve().then(()=>Qi),void 0)).Response:Response}),Id=e=>{if(Array.isArray(e))return e.map(n=>Id(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Id(a)}),t},Ax=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Du=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Cx=(e,t,n)=>J(void 0,void 0,void 0,function*(){const a=yield Dx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Nx(Du(i),s,r))}).catch(i=>{t(new Vd(Du(i),i))}):t(new Vd(Du(e),e))}),Rx=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(Ax(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function El(e,t,n,a,i,s){return J(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,Rx(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Cx(o,l,a))})})}function ll(e,t,n,a){return J(this,void 0,void 0,function*(){return El(e,"GET",t,n,a)})}function Zn(e,t,n,a,i){return J(this,void 0,void 0,function*(){return El(e,"POST",t,a,i,n)})}function Gd(e,t,n,a,i){return J(this,void 0,void 0,function*(){return El(e,"PUT",t,a,i,n)})}function Mx(e,t,n,a){return J(this,void 0,void 0,function*(){return El(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function cf(e,t,n,a,i){return J(this,void 0,void 0,function*(){return El(e,"DELETE",t,a,i,n)})}class kx{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return J(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}var Y0;class Ux{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Y0]="BlobDownloadBuilder",this.promise=null}asStream(){return new kx(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return J(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}Y0=Symbol.toStringTag;const zx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $x{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=of(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return J(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},mg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),d=yield(t=="PUT"?Gd:Zn)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}upload(t,n,a){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return J(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:mg.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield Gd(this.fetch,l.toString(),o,{headers:h});return{data:{path:s,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return J(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Zn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new lf("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}update(t,n,a){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return J(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}copy(t,n,a){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return J(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Zn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return J(this,void 0,void 0,function*(){try{const i=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>ll(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new Ux(o,this.shouldThrowOnError)}info(t){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield ll(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Id(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}exists(t){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Mx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a)&&a instanceof Vd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return J(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}list(t,n,a){return J(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zx),n),{prefix:t||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}listV2(t,n){return J(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const V0="2.78.0",I0={"X-Client-Info":`storage-js/${V0}`};class Lx{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I0),n),this.fetch=of(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return J(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ll(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}getBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}createBucket(t){return J(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return J(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}emptyBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Bx{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I0),n),this.fetch=of(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}listBuckets(t){return J(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ll(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}const uf={"X-Client-Info":`storage-js/${V0}`,"Content-Type":"application/json"};class G0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Au extends G0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hx extends G0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var gg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const df=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Qi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},qx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yx=(e,t,n)=>J(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new Au(yg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Au(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Au(l,i,r))}}else t(new Hx(yg(e),e))}),Vx=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(qx(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function Ix(e,t,n,a,i,s){return J(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,Vx(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>Yx(o,l,a))})})}function Tn(e,t,n,a,i){return J(this,void 0,void 0,function*(){return Ix(e,"POST",t,a,i,n)})}class Gx{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),n),this.fetch=df(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return J(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getIndex(t,n){return J(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}listIndexes(t){return J(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return J(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}}class Kx{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),n),this.fetch=df(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return J(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getVectors(t){return J(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listVectors(t){return J(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}queryVectors(t){return J(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteVectors(t){return J(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class Xx{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),n),this.fetch=df(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return J(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getBucket(t){return J(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listBuckets(){return J(this,arguments,void 0,function*(t={}){try{return{data:yield Tn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteBucket(t){return J(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class Qx extends Xx{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Jx(this.url,this.headers,t,this.fetch)}}class Jx extends Gx{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return J(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return J(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return J(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return J(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Zx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Zx extends Kx{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return J(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return J(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return J(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return J(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return J(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Px extends Lx{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new $x(this.url,this.headers,t,this.fetch)}get vectors(){return new Qx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bx(this.url+"/iceberg",this.headers,this.fetch)}}const Fx="2.78.0";let Tr="";typeof Deno<"u"?Tr="deno":typeof document<"u"?Tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tr="react-native":Tr="node";const Wx={"X-Client-Info":`supabase-js-${Tr}/${Fx}`},e1={headers:Wx},t1={schema:"public"},n1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a1={},i1=e=>{let t;return e?t=e:typeof fetch>"u"?t=_0:t=fetch,(...n)=>t(...n)},s1=()=>typeof Headers>"u"?w0:Headers,r1=(e,t,n)=>{const a=i1(n),i=s1();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:u}))}};function l1(e){return e.endsWith("/")?e:e+"/"}function o1(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:u,realtime:h,global:d}=t,f={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),r),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function c1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const K0="2.78.0",cs=30*1e3,Kd=3,Cu=Kd*cs,u1="http://localhost:9999",d1="supabase.auth.token",h1={"X-Client-Info":`gotrue-js/${K0}`},Xd="X-Supabase-Api-Version",X0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m1=10*60*1e3;class ol extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class g1 extends ol{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function y1(e){return Z(e)&&e.name==="AuthApiError"}class Ai extends ol{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vi extends ol{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Qn extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v1(e){return Z(e)&&e.name==="AuthSessionMissingError"}class ts extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ao extends vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p1(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class vg extends vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qd extends vi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ru(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class pg extends vi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Jd extends vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bg=` 	
\r=`.split(""),b1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bg.length;t+=1)e[bg[t].charCodeAt(0)]=-2;for(let t=0;t<ic.length;t+=1)e[ic[t].charCodeAt(0)]=t;return e})();function _g(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}}function Q0(e,t,n){const a=b1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{S1(r,a,n)};for(let r=0;r<e.length;r+=1)Q0(e.charCodeAt(r),i,s);return t.join("")}function _1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function w1(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}_1(a,t)}}function S1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Cs(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Q0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function x1(e){const t=[];return w1(e,n=>t.push(n)),new Uint8Array(t)}function Ci(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>_g(i,n,a)),_g(null,n,a),t.join("")}function E1(e){return Math.round(Date.now()/1e3)+e}function T1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const an=()=>typeof window<"u"&&typeof document<"u",wi={tested:!1,writable:!1},J0=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wi.tested)return wi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wi.tested=!0,wi.writable=!0}catch{wi.tested=!0,wi.writable=!1}return wi.writable};function j1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const Z0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nr(async()=>{const{default:a}=await Promise.resolve().then(()=>Qi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},O1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",us=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Si=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qa=async(e,t)=>{await e.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mc.promiseConstructor=Promise;function Mu(e){const t=e.split(".");if(t.length!==3)throw new Jd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!f1.test(t[a]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(wg(t[0])),payload:JSON.parse(wg(t[1])),signature:Cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function N1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function D1(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function A1(e){return("0"+e.toString(16)).substr(-2)}function C1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,A1).join("")}async function R1(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function M1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await R1(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(e,t,n=!1){const a=C1();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await us(e,`${t}-code-verifier`,i);const s=await M1(a);return[s,a===s?"plain":"s256"]}const k1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U1(e){const t=e.headers.get(Xd);if(!t||!t.match(k1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function as(e){if(!L1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B1(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function Sg(e){return JSON.parse(JSON.stringify(e))}const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H1=[502,503,504];async function xg(e){var t;if(!O1(e))throw new Qd(Ni(e),0);if(H1.includes(e.status))throw new Qd(Ni(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ai(Ni(s),s)}let a;const i=U1(e);if(i&&i.getTime()>=X0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new pg(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Qn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new pg(Ni(n),e.status,n.weak_password.reasons);throw new g1(Ni(n),e.status||500,a)}const q1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function te(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Xd]||(s[Xd]=X0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await Y1(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function Y1(e,t,n,a,i,s){const r=q1(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Qd(Ni(o),0)}if(l.ok||await xg(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await xg(o)}}function Jn(e){var t;let n=null;G1(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=E1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Eg(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ja(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V1(e){return{data:e,error:null}}function I1(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=tr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Tg(e){return e}function G1(e){return e.access_token&&e.refresh_token&&e.expires_in}const Uu=["global","local","others"];class K1{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Z0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Uu[0]){if(Uu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uu.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=tr(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:I1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ja})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},h=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Tg});if(h.error)throw h.error;const d=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){as(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ja})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){as(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){as(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){as(t.userId);try{const{data:n,error:a}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){as(t.userId),as(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},h=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Tg});if(h.error)throw h.error;const d=await h.json(),f=(r=h.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function jg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const is={debug:!!(globalThis&&J0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X1 extends P0{}async function Q1(e,t,n){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new X1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(is.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function J1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function F0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Z1(e){return parseInt(e,16)}function P1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function F1(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=F0(e.address),b=h?`${h}://${a}`:a,S=e.statement?`${e.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${m}

${S}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${E}
${v}`}class jt extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class sc extends jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function W1({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(W0(r)){if(s.rp.id!==r)return new jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(W0(a)){if(n.rpId!==a)return new jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nE=new tE;function aE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=tr(e,["challenge","user","excludeCredentials"]),s=Cs(t).buffer,r=Object.assign(Object.assign({},n),{id:Cs(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Cs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function iE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=tr(e,["challenge","allowCredentials"]),i=Cs(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Cs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function sE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ci(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ci(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ci(new Uint8Array(i.authenticatorData)),clientDataJSON:Ci(new Uint8Array(i.clientDataJSON)),signature:Ci(new Uint8Array(i.signature)),userHandle:i.userHandle?Ci(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function W0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Og(){var e,t;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:W1({error:t,options:e})}}}async function oE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:eE({error:t,options:e})}}}const cE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},uE={userVerification:"preferred",hints:["security-key"]};function rc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=rc(l,r):a[s]=rc(r)}else a[s]=r}return a}function dE(e,t){return rc(cE,e,t||{})}function hE(e,t){return rc(uE,e,t||{})}class fE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??nE.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=dE(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:d}=await lE({publicKey:u,signal:o});return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=hE(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:d}=await oE(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return h?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new Ai("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new ol("rpId is required for WebAuthn authentication")};try{if(!Og())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new Ai("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new ol("rpId is required for WebAuthn registration")};try{if(!Og())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new Ai("Unexpected error in register",r)}}}}J1();const mE={url:u1,storageKey:d1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ng(e,t,n){return await n()}const ss={};class cl{get jwks(){var t,n;return(n=(t=ss[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ss[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cl.nextInstanceID,cl.nextInstanceID+=1,this.instanceID>0&&an()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new K1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Z0(i.fetch),this.lock=i.lock||Ng,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:an()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Q1:this.lock=Ng,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:J0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jg(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${K0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=j1(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),an()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),p1(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new Ai("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:h,password:d,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await ns(this.storage,this.storageKey)),s=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:Jn})}else if("phone"in t){const{phone:h,password:d,options:f}=t;s=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jn})}else throw new no("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Eg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Eg})}else throw new no("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ts}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,u,h,d,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:S,wallet:E,statement:v,options:g}=t;let y;if(an())if(typeof E=="object")y=E;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=E}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=F0(_[0]);let T=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!T){const N=await y.request({method:"eth_chainId"});T=Z1(N)}const O={domain:w.host,address:x,statement:v,uri:w.href,version:"1",chainId:T,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=F1(O),b=await y.request({method:"personal_sign",params:[P1(m),x]})}try{const{data:S,error:E}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jn});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ts}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(Z(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,a,i,s,r,l,o,u,h,d,f,m;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:E,wallet:v,statement:g,options:y}=t;let w;if(an())if(typeof v=="object")w=v;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let T;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")T=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)T=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),S=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const x=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=x}}try{const{data:E,error:v}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ci(S)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jn});if(v)throw v;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ts}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:v})}catch(E){if(Z(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Jn});if(await qa(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ts}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(Z(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ts}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await ns(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new no("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await ns(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:V1})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Qn;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new no("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Cu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await Si(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=ku()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=B1(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ja}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ja})})}catch(n){if(Z(n))return v1(n)&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Qn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await ns(this.storage,this.storageKey));const{data:u,error:h}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ja});if(h)throw h;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=Mu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Qn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!an())throw new ao("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ao(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ao("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!s||!l||!r||!u)throw new ao("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;o&&(f=parseInt(o));const m=f-h;m*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const b=f-d;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,h);const{data:S,error:E}=await this._getUser(s);if(E)throw E;const v={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:r,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(Z(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(y1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=T1(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await ns(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,u,h;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return an()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Z(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:u,nonce:h}=t,d=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ts}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await D1(async i=>(i>0&&await N1(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&Ru(s)&&Date.now()+r-a<cs})}catch(a){if(this._debug(n,"error",a),Z(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),an()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Si(this.storage,this.storageKey);if(i&&this.userStorage){let r=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await us(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:ku()}else if(i&&!i.user&&!i.user){const r=await Si(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await qa(this.storage,this.storageKey+"-user"),await us(this.storage,this.storageKey,i)):i.user=ku()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Cu;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Cu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Ru(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Qn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Z(s)){const r={data:null,error:s};return Ru(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await us(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Sg(i);await us(this.storage,this.storageKey,s)}else{const i=Sg(n);await us(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qa(this.storage,this.storageKey),await qa(this.storage,this.storageKey+"-code-verifier"),await qa(this.storage,this.storageKey+"-user"),this.userStorage&&await qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&an()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cs}ms, refresh threshold is ${Kd} ticks`),i<=Kd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof P0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await ns(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sE(t.webauthn.credential_response):rE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Mu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Qn}})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Qn};const r=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&an()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Qn};const r=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&an()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+m1>i)return a;const{data:s,error:r}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=Mu(a);n!=null&&n.allowExpired||z1(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const h=$1(i.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,r,x1(`${l}.${o}`)))throw new Jd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}}cl.nextInstanceID=0;const gE=cl;class yE extends gE{constructor(t){super(t)}}class vE{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=c1(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:t1,realtime:a1,auth:Object.assign(Object.assign({},n1),{storageKey:o}),global:e1},h=o1(a??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=r1(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ux(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Px(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new nx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ox(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pE=(e,t,n)=>new vE(e,t,n);function bE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _E="https://vqpubtahhvtkftafdlrp.supabase.co",wE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",W=pE(_E,wE);function SE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const kc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hf(e){return"nodeType"in e}function cn(e){var t,n;return e?sr(e)?e:hf(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ff(e){const{Document:t}=cn(e);return e instanceof t}function Tl(e){return sr(e)?!1:e instanceof cn(e).HTMLElement}function eb(e){return e instanceof cn(e).SVGElement}function rr(e){return e?sr(e)?e.document:hf(e)?ff(e)?e:Tl(e)||eb(e)?e.ownerDocument:document:document:document}const Wn=kc?p.useLayoutEffect:p.useEffect;function Uc(e){const t=p.useRef(e);return Wn(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function xE(){const e=p.useRef(null),t=p.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ul(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Wn(()=>{n.current!==e&&(n.current=e)},t),n}function jl(e,t){const n=p.useRef();return p.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function lc(e){const t=Uc(e),n=p.useRef(null),a=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function oc(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let zu={};function Ol(e,t){return p.useMemo(()=>{if(t)return t;const n=zu[e]==null?0:zu[e]+1;return zu[e]=n,e+"-"+n},[e,t])}function tb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,u]of l){const h=s[o];h!=null&&(s[o]=h+e*u)}return s},{...t})}}const Rs=tb(1),dl=tb(-1);function EE(e){return"clientX"in e&&"clientY"in e}function zc(e){if(!e)return!1;const{KeyboardEvent:t}=cn(e.target);return t&&e instanceof t}function TE(e){if(!e)return!1;const{TouchEvent:t}=cn(e.target);return t&&e instanceof t}function cc(e){if(TE(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return EE(e)?{x:e.clientX,y:e.clientY}:null}const mi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mi.Translate.toString(e),mi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Dg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jE(e){return e.matches(Dg)?e:e.querySelector(Dg)}const OE={display:"none"};function NE(e){let{id:t,value:n}=e;return nt.createElement("div",{id:t,style:OE},n)}function DE(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nt.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function AE(){const[e,t]=p.useState("");return{announce:p.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const nb=p.createContext(null);function CE(e){const t=p.useContext(nb);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function RE(){const[e]=p.useState(()=>new Set),t=p.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[p.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const ME={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kE={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function UE(e){let{announcements:t=kE,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=ME}=e;const{announce:s,announcement:r}=AE(),l=Ol("DndLiveRegion"),[o,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),CE(p.useMemo(()=>({onDragStart(d){let{active:f}=d;s(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:m}=d;t.onDragMove&&s(t.onDragMove({active:f,over:m}))},onDragOver(d){let{active:f,over:m}=d;s(t.onDragOver({active:f,over:m}))},onDragEnd(d){let{active:f,over:m}=d;s(t.onDragEnd({active:f,over:m}))},onDragCancel(d){let{active:f,over:m}=d;s(t.onDragCancel({active:f,over:m}))}}),[s,t])),!o)return null;const h=nt.createElement(nt.Fragment,null,nt.createElement(NE,{id:a,value:i.draggable}),nt.createElement(DE,{id:l,announcement:r}));return n?ds.createPortal(h,n):h}var Mt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Mt||(Mt={}));function uc(){}function Ag(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function zE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const ea=Object.freeze({x:0,y:0});function ab(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $E(e,t){const n=cc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function ib(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function LE(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Cg(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function sb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Rg(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Zd=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Rg(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=ab(Rg(o),i);s.push({id:l,data:{droppableContainer:r,value:u}})}}return s.sort(ib)},BE=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Cg(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Cg(o),h=i.reduce((f,m,b)=>f+ab(u[b],m),0),d=Number((h/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:d}})}}return s.sort(ib)};function HE(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,u=e.width*e.height,h=r*l,d=h/(o+u-h);return Number(d.toFixed(4))}return 0}const qE=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=HE(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(LE)};function YE(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function rb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ea}function VE(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const IE=VE(1);function lb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function GE(e,t,n){const a=lb(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:h,height:d,top:u,right:o+h,bottom:u+d,left:o}}const KE={ignoreTransform:!1};function lr(e,t){t===void 0&&(t=KE);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=cn(e).getComputedStyle(e);u&&(n=GE(n,u,h))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function Mg(e){return lr(e,{ignoreTransform:!0})}function XE(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function QE(e,t){return t===void 0&&(t=cn(e).getComputedStyle(e)),t.position==="fixed"}function JE(e,t){t===void 0&&(t=cn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function $c(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(ff(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Tl(i)||eb(i)||n.includes(i))return n;const s=cn(e).getComputedStyle(i);return i!==e&&JE(i,s)&&n.push(i),QE(i,s)?n:a(i.parentNode)}return e?a(e):n}function ob(e){const[t]=$c(e,1);return t??null}function $u(e){return!kc||!e?null:sr(e)?e:hf(e)?ff(e)||e===rr(e).scrollingElement?window:Tl(e)?e:null:null}function cb(e){return sr(e)?e.scrollX:e.scrollLeft}function ub(e){return sr(e)?e.scrollY:e.scrollTop}function Pd(e){return{x:cb(e),y:ub(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function db(e){return!kc||!e?!1:e===document.scrollingElement}function hb(e){const t={x:0,y:0},n=db(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const ZE={x:.2,y:.2};function PE(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=ZE);const{isTop:u,isBottom:h,isLeft:d,isRight:f}=hb(e),m={x:0,y:0},b={x:0,y:0},S={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+S.height?(m.y=qt.Backward,b.y=a*Math.abs((t.top+S.height-s)/S.height)):!h&&o>=t.bottom-S.height&&(m.y=qt.Forward,b.y=a*Math.abs((t.bottom-S.height-o)/S.height)),!f&&l>=t.right-S.width?(m.x=qt.Forward,b.x=a*Math.abs((t.right-S.width-l)/S.width)):!d&&r<=t.left+S.width&&(m.x=qt.Backward,b.x=a*Math.abs((t.left+S.width-r)/S.width)),{direction:m,speed:b}}function FE(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function fb(e){return e.reduce((t,n)=>Rs(t,Pd(n)),ea)}function WE(e){return e.reduce((t,n)=>t+cb(n),0)}function eT(e){return e.reduce((t,n)=>t+ub(n),0)}function mb(e,t){if(t===void 0&&(t=lr),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);ob(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const tT=[["x",["left","right"],WE],["y",["top","bottom"],eT]];class mf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=$c(n),i=fb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of tT)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),h=i[s]-u;return this.rect[o]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ir{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function nT(e){const{EventTarget:t}=cn(e);return e instanceof t?e:rr(e)}function Lu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var zn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(zn||(zn={}));function kg(e){e.preventDefault()}function aT(e){e.stopPropagation()}var Ne;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ne||(Ne={}));const gb={start:[Ne.Space,Ne.Enter],cancel:[Ne.Esc],end:[Ne.Space,Ne.Enter,Ne.Tab]},iT=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ne.Right:return{...n,x:n.x+25};case Ne.Left:return{...n,x:n.x-25};case Ne.Down:return{...n,y:n.y+25};case Ne.Up:return{...n,y:n.y-25}}};class gf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ir(rr(n)),this.windowListeners=new Ir(cn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&mb(a),n(ea)}handleKeyDown(t){if(zc(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=gb,coordinateGetter:r=iT,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,h=u?{x:u.left,y:u.top}:ea;this.referenceCoordinates||(this.referenceCoordinates=h);const d=r(t,{active:n,context:a.current,currentCoordinates:h});if(d){const f=dl(d,h),m={x:0,y:0},{scrollableAncestors:b}=a.current;for(const S of b){const E=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:w,maxScroll:_,minScroll:x}=hb(S),T=FE(S),O={x:Math.min(E===Ne.Right?T.right-T.width/2:T.right,Math.max(E===Ne.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(E===Ne.Down?T.bottom-T.height/2:T.bottom,Math.max(E===Ne.Down?T.top:T.top+T.height/2,d.y))},N=E===Ne.Right&&!g||E===Ne.Left&&!y,M=E===Ne.Down&&!w||E===Ne.Up&&!v;if(N&&O.x!==d.x){const G=S.scrollLeft+f.x,ee=E===Ne.Right&&G<=_.x||E===Ne.Left&&G>=x.x;if(ee&&!f.y){S.scrollTo({left:G,behavior:l});return}ee?m.x=S.scrollLeft-G:m.x=E===Ne.Right?S.scrollLeft-_.x:S.scrollLeft-x.x,m.x&&S.scrollBy({left:-m.x,behavior:l});break}else if(M&&O.y!==d.y){const G=S.scrollTop+f.y,ee=E===Ne.Down&&G<=_.y||E===Ne.Up&&G>=x.y;if(ee&&!f.x){S.scrollTo({top:G,behavior:l});return}ee?m.y=S.scrollTop-G:m.y=E===Ne.Down?S.scrollTop-_.y:S.scrollTop-x.y,m.y&&S.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Rs(dl(d,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=gb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Ug(e){return!!(e&&"distance"in e)}function zg(e){return!!(e&&"delay"in e)}class yf{constructor(t,n,a){var i;a===void 0&&(a=nT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=rr(r),this.documentListeners=new Ir(this.document),this.listeners=new Ir(a),this.windowListeners=new Ir(cn(r)),this.initialCoordinates=(i=cc(s))!=null?i:ea,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(zn.Resize,this.handleCancel),this.windowListeners.add(zn.DragStart,kg),this.windowListeners.add(zn.VisibilityChange,this.handleCancel),this.windowListeners.add(zn.ContextMenu,kg),this.documentListeners.add(zn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ug(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(zn.Click,aT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=cc(t))!=null?n:ea,u=dl(i,o);if(!a&&l){if(Ug(l)){if(l.tolerance!=null&&Lu(u,l.tolerance))return this.handleCancel();if(Lu(u,l.distance))return this.handleStart()}if(zg(l)&&Lu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ne.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const sT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vf extends yf{constructor(t){const{event:n}=t,a=rr(n.target);super(t,sT,a)}}vf.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const rT={move:{name:"mousemove"},end:{name:"mouseup"}};var Fd;(function(e){e[e.RightClick=2]="RightClick"})(Fd||(Fd={}));class lT extends yf{constructor(t){super(t,rT,rr(t.event.target))}}lT.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Fd.RightClick?!1:(a==null||a({event:n}),!0)}}];const Bu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class oT extends yf{constructor(t){super(t,Bu)}static setup(){return window.addEventListener(Bu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Bu.move.name,t)};function t(){}}}oT.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Gr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Gr||(Gr={}));var dc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dc||(dc={}));function cT(e){let{acceleration:t,activator:n=Gr.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=dc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:h,delta:d,threshold:f}=e;const m=dT({delta:d,disabled:!s}),[b,S]=xE(),E=p.useRef({x:0,y:0}),v=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(n){case Gr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Gr.DraggableRect:return i}},[n,i,o]),y=p.useRef(null),w=p.useCallback(()=>{const x=y.current;if(!x)return;const T=E.current.x*v.current.x,O=E.current.y*v.current.y;x.scrollBy(T,O)},[]),_=p.useMemo(()=>l===dc.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!s||!u.length||!g){S();return}for(const x of _){if((a==null?void 0:a(x))===!1)continue;const T=u.indexOf(x),O=h[T];if(!O)continue;const{direction:N,speed:M}=PE(x,O,g,t,f);for(const G of["x","y"])m[G][N[G]]||(M[G]=0,N[G]=0);if(M.x>0||M.y>0){S(),y.current=x,b(w,r),E.current=M,v.current=N;return}}E.current={x:0,y:0},v.current={x:0,y:0},S()},[t,w,a,S,s,r,JSON.stringify(g),JSON.stringify(m),b,u,_,h,JSON.stringify(f)])}const uT={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function dT(e){let{delta:t,disabled:n}=e;const a=oc(t);return jl(i=>{if(n||!a||!i)return uT;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[qt.Backward]:i.x[qt.Backward]||s.x===-1,[qt.Forward]:i.x[qt.Forward]||s.x===1},y:{[qt.Backward]:i.y[qt.Backward]||s.y===-1,[qt.Forward]:i.y[qt.Forward]||s.y===1}}},[n,t,a])}function hT(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return jl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function fT(e,t){return p.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Ks;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ks||(Ks={}));var Wd;(function(e){e.Optimized="optimized"})(Wd||(Wd={}));const $g=new Map;function mT(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=p.useState(null),{frequency:l,measure:o,strategy:u}=i,h=p.useRef(e),d=E(),f=ul(d),m=p.useCallback(function(v){v===void 0&&(v=[]),!f.current&&r(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[f]),b=p.useRef(null),S=jl(v=>{if(d&&!n)return $g;if(!v||v===$g||h.current!==e||s!=null){const g=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const w=y.node.current,_=w?new mf(o(w),w):null;y.rect.current=_,_&&g.set(y.id,_)}return g}return v},[e,s,n,d,o]);return p.useEffect(()=>{h.current=e},[e]),p.useEffect(()=>{d||m()},[n,d]),p.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),p.useEffect(()=>{d||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},l))},[l,d,m,...a]),{droppableRects:S,measureDroppableContainers:m,measuringScheduled:s!=null};function E(){switch(u){case Ks.Always:return!1;case Ks.BeforeDragging:return n;default:return!n}}}function pf(e,t){return jl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function gT(e,t){return pf(e,t)}function yT(e){let{callback:t,disabled:n}=e;const a=Uc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Lc(e){let{callback:t,disabled:n}=e;const a=Uc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function vT(e){return new mf(lr(e),e)}function Lg(e,t,n){t===void 0&&(t=vT);const[a,i]=p.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const h=t(e);return JSON.stringify(o)===JSON.stringify(h)?o:h})}const r=yT({callback(o){if(e)for(const u of o){const{type:h,target:d}=u;if(h==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Lc({callback:s});return Wn(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function pT(e){const t=pf(e);return rb(e,t)}const Bg=[];function bT(e){const t=p.useRef(e),n=jl(a=>e?a&&a!==Bg&&e&&t.current&&e.parentNode===t.current.parentNode?a:$c(e):Bg,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function _T(e){const[t,n]=p.useState(null),a=p.useRef(e),i=p.useCallback(s=>{const r=$u(s.target);r&&n(l=>l?(l.set(r,Pd(r)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const u=$u(o);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Pd(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const u=$u(o);u==null||u.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>Rs(s,r),ea):fb(e):ea,[e,t])}function Hg(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const a=e!==ea;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?dl(e,n.current):ea}function wT(e){p.useEffect(()=>{if(!kc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ST(e,t){return p.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function yb(e){return p.useMemo(()=>e?XE(e):null,[e])}const qg=[];function xT(e,t){t===void 0&&(t=lr);const[n]=e,a=yb(n?cn(n):null),[i,s]=p.useState(qg);function r(){s(()=>e.length?e.map(o=>db(o)?a:new mf(t(o),o)):qg)}const l=Lc({callback:r});return Wn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function vb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tl(t)?t:e}function ET(e){let{measure:t}=e;const[n,a]=p.useState(null),i=p.useCallback(u=>{for(const{target:h}of u)if(Tl(h)){a(d=>{const f=t(h);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),s=Lc({callback:i}),r=p.useCallback(u=>{const h=vb(u);s==null||s.disconnect(),h&&(s==null||s.observe(h)),a(h?t(h):null)},[t,s]),[l,o]=lc(r);return p.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const TT=[{sensor:vf,options:{}},{sensor:gf,options:{}}],jT={current:{}},Eo={draggable:{measure:Mg},droppable:{measure:Mg,strategy:Ks.WhileDragging,frequency:Wd.Optimized},dragOverlay:{measure:lr}};class Kr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const OT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:uc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Eo,measureDroppableContainers:uc,windowRect:null,measuringScheduled:!1},pb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:uc,draggableNodes:new Map,over:null,measureDroppableContainers:uc},Nl=p.createContext(pb),bb=p.createContext(OT);function NT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kr}}}function DT(e,t){switch(t.type){case Mt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Mt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Mt.DragEnd:case Mt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Mt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Kr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Mt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Kr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case Mt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Kr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function AT(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=p.useContext(Nl),s=oc(a),r=oc(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!zc(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[o.current,u.current]){if(!h)continue;const d=jE(h);if(d){d.focus();break}}})}},[a,t,i,r,s]),null}function _b(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function CT(e){return p.useMemo(()=>({draggable:{...Eo.draggable,...e==null?void 0:e.draggable},droppable:{...Eo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Eo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function RT(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=p.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Wn(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),d=rb(h,a);if(r||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=ob(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,r,l,a,n])}const Bc=p.createContext({...ea,scaleX:1,scaleY:1});var Ia;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ia||(Ia={}));const eh=p.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:h=TT,collisionDetection:d=qE,measuring:f,modifiers:m,...b}=t;const S=p.useReducer(DT,void 0,NT),[E,v]=S,[g,y]=RE(),[w,_]=p.useState(Ia.Uninitialized),x=w===Ia.Initialized,{draggable:{active:T,nodes:O,translate:N},droppable:{containers:M}}=E,G=T!=null?O.get(T):null,ee=p.useRef({initial:null,translated:null}),ue=p.useMemo(()=>{var wt;return T!=null?{id:T,data:(wt=G==null?void 0:G.data)!=null?wt:jT,rect:ee}:null},[T,G]),ae=p.useRef(null),[ve,U]=p.useState(null),[H,V]=p.useState(null),le=ul(b,Object.values(b)),Te=Ol("DndDescribedBy",r),Ie=p.useMemo(()=>M.getEnabled(),[M]),je=CT(f),{droppableRects:ke,measureDroppableContainers:ze,measuringScheduled:Ge}=mT(Ie,{dragging:x,dependencies:[N.x,N.y],config:je.droppable}),Ae=hT(O,T),Wt=p.useMemo(()=>H?cc(H):null,[H]),mt=La(),Ct=gT(Ae,je.draggable.measure);RT({activeNode:T!=null?O.get(T):null,config:mt.layoutShiftCompensation,initialRect:Ct,measure:je.draggable.measure});const q=Lg(Ae,je.draggable.measure,Ct),ie=Lg(Ae?Ae.parentElement:null),fe=p.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:ke,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ke=M.getNodeFor((n=fe.current.over)==null?void 0:n.id),Xe=ET({measure:je.dragOverlay.measure}),it=(a=Xe.nodeRef.current)!=null?a:Ae,xe=x?(i=Xe.rect)!=null?i:q:null,pe=!!(Xe.nodeRef.current&&Xe.rect),$e=pT(pe?null:q),me=yb(it?cn(it):null),be=bT(x?Ke??Ae:null),Ve=xT(be),Ue=_b(m,{transform:{x:N.x-$e.x,y:N.y-$e.y,scaleX:1,scaleY:1},activatorEvent:H,active:ue,activeNodeRect:q,containerNodeRect:ie,draggingNodeRect:xe,over:fe.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:be,scrollableAncestorRects:Ve,windowRect:me}),zt=Wt?Rs(Wt,N):null,$t=_T(be),na=Hg($t),da=Hg($t,[q]),Pt=Rs(Ue,na),en=xe?IE(xe,Ue):null,It=ue&&en?d({active:ue,collisionRect:en,droppableRects:ke,droppableContainers:Ie,pointerCoordinates:zt}):null,$a=sb(It,"id"),[gt,ha]=p.useState(null),_t=pe?Ue:Rs(Ue,da),fa=YE(_t,(s=gt==null?void 0:gt.rect)!=null?s:null,q),Kn=p.useRef(null),ma=p.useCallback((wt,yt)=>{let{sensor:Lt,options:_n}=yt;if(ae.current==null)return;const Gt=O.get(ae.current);if(!Gt)return;const Bt=wt.nativeEvent,tn=new Lt({active:ae.current,activeNode:Gt,event:Bt,options:_n,context:fe,onAbort(A){if(!O.get(A))return;const{onDragAbort:z}=le.current,X={id:A};z==null||z(X),g({type:"onDragAbort",event:X})},onPending(A,k,z,X){if(!O.get(A))return;const{onDragPending:Q}=le.current,se={id:A,constraint:k,initialCoordinates:z,offset:X};Q==null||Q(se),g({type:"onDragPending",event:se})},onStart(A){const k=ae.current;if(k==null)return;const z=O.get(k);if(!z)return;const{onDragStart:X}=le.current,P={activatorEvent:Bt,active:{id:k,data:z.data,rect:ee}};ds.unstable_batchedUpdates(()=>{X==null||X(P),_(Ia.Initializing),v({type:Mt.DragStart,initialCoordinates:A,active:k}),g({type:"onDragStart",event:P}),U(Kn.current),V(Bt)})},onMove(A){v({type:Mt.DragMove,coordinates:A})},onEnd:nn(Mt.DragEnd),onCancel:nn(Mt.DragCancel)});Kn.current=tn;function nn(A){return async function(){const{active:z,collisions:X,over:P,scrollAdjustedTranslate:Q}=fe.current;let se=null;if(z&&Q){const{cancelDrop:Ce}=le.current;se={activatorEvent:Bt,active:z,collisions:X,delta:Q,over:P},A===Mt.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(se))&&(A=Mt.DragCancel)}ae.current=null,ds.unstable_batchedUpdates(()=>{v({type:A}),_(Ia.Uninitialized),ha(null),U(null),V(null),Kn.current=null;const Ce=A===Mt.DragEnd?"onDragEnd":"onDragCancel";if(se){const Re=le.current[Ce];Re==null||Re(se),g({type:Ce,event:se})}})}}},[O]),pi=p.useCallback((wt,yt)=>(Lt,_n)=>{const Gt=Lt.nativeEvent,Bt=O.get(_n);if(ae.current!==null||!Bt||Gt.dndKit||Gt.defaultPrevented)return;const tn={active:Bt};wt(Lt,yt.options,tn)===!0&&(Gt.dndKit={capturedBy:yt.sensor},ae.current=_n,ma(Lt,yt))},[O,ma]),Ji=fT(h,pi);wT(h),Wn(()=>{q&&w===Ia.Initializing&&_(Ia.Initialized)},[q,w]),p.useEffect(()=>{const{onDragMove:wt}=le.current,{active:yt,activatorEvent:Lt,collisions:_n,over:Gt}=fe.current;if(!yt||!Lt)return;const Bt={active:yt,activatorEvent:Lt,collisions:_n,delta:{x:Pt.x,y:Pt.y},over:Gt};ds.unstable_batchedUpdates(()=>{wt==null||wt(Bt),g({type:"onDragMove",event:Bt})})},[Pt.x,Pt.y]),p.useEffect(()=>{const{active:wt,activatorEvent:yt,collisions:Lt,droppableContainers:_n,scrollAdjustedTranslate:Gt}=fe.current;if(!wt||ae.current==null||!yt||!Gt)return;const{onDragOver:Bt}=le.current,tn=_n.get($a),nn=tn&&tn.rect.current?{id:tn.id,rect:tn.rect.current,data:tn.data,disabled:tn.disabled}:null,A={active:wt,activatorEvent:yt,collisions:Lt,delta:{x:Gt.x,y:Gt.y},over:nn};ds.unstable_batchedUpdates(()=>{ha(nn),Bt==null||Bt(A),g({type:"onDragOver",event:A})})},[$a]),Wn(()=>{fe.current={activatorEvent:H,active:ue,activeNode:Ae,collisionRect:en,collisions:It,droppableRects:ke,draggableNodes:O,draggingNode:it,draggingNodeRect:xe,droppableContainers:M,over:gt,scrollableAncestors:be,scrollAdjustedTranslate:Pt},ee.current={initial:xe,translated:en}},[ue,Ae,It,en,O,it,xe,ke,M,gt,be,Pt]),cT({...mt,delta:N,draggingRect:en,pointerCoordinates:zt,scrollableAncestors:be,scrollableAncestorRects:Ve});const or=p.useMemo(()=>({active:ue,activeNode:Ae,activeNodeRect:q,activatorEvent:H,collisions:It,containerNodeRect:ie,dragOverlay:Xe,draggableNodes:O,droppableContainers:M,droppableRects:ke,over:gt,measureDroppableContainers:ze,scrollableAncestors:be,scrollableAncestorRects:Ve,measuringConfiguration:je,measuringScheduled:Ge,windowRect:me}),[ue,Ae,q,H,It,ie,Xe,O,M,ke,gt,ze,be,Ve,je,Ge,me]),ga=p.useMemo(()=>({activatorEvent:H,activators:Ji,active:ue,activeNodeRect:q,ariaDescribedById:{draggable:Te},dispatch:v,draggableNodes:O,over:gt,measureDroppableContainers:ze}),[H,Ji,ue,q,v,Te,O,gt,ze]);return nt.createElement(nb.Provider,{value:y},nt.createElement(Nl.Provider,{value:ga},nt.createElement(bb.Provider,{value:or},nt.createElement(Bc.Provider,{value:fa},u)),nt.createElement(AT,{disabled:(l==null?void 0:l.restoreFocus)===!1})),nt.createElement(UE,{...l,hiddenTextDescribedById:Te}));function La(){const wt=(ve==null?void 0:ve.autoScrollEnabled)===!1,yt=typeof o=="object"?o.enabled===!1:o===!1,Lt=x&&!wt&&!yt;return typeof o=="object"?{...o,enabled:Lt}:{enabled:Lt}}}),MT=p.createContext(null),Yg="button",kT="Draggable";function UT(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=Ol(kT),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:h,draggableNodes:d,over:f}=p.useContext(Nl),{role:m=Yg,roleDescription:b="draggable",tabIndex:S=0}=i??{},E=(o==null?void 0:o.id)===t,v=p.useContext(E?Bc:MT),[g,y]=lc(),[w,_]=lc(),x=ST(r,t),T=ul(n);Wn(()=>(d.set(t,{id:t,key:s,node:g,activatorNode:w,data:T}),()=>{const N=d.get(t);N&&N.key===s&&d.delete(t)}),[d,t]);const O=p.useMemo(()=>({role:m,tabIndex:S,"aria-disabled":a,"aria-pressed":E&&m===Yg?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[a,m,S,E,b,h.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:O,isDragging:E,listeners:a?void 0:x,node:g,over:f,setNodeRef:y,setActivatorNodeRef:_,transform:v}}function wb(){return p.useContext(bb)}const zT="Droppable",$T={timeout:25};function LT(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=Ol(zT),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=p.useContext(Nl),h=p.useRef({disabled:n}),d=p.useRef(!1),f=p.useRef(null),m=p.useRef(null),{disabled:b,updateMeasurementsFor:S,timeout:E}={...$T,...i},v=ul(S??a),g=p.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),m.current=null},E)},[E]),y=Lc({callback:g,disabled:b||!r}),w=p.useCallback((O,N)=>{y&&(N&&(y.unobserve(N),d.current=!1),O&&y.observe(O))},[y]),[_,x]=lc(w),T=ul(t);return p.useEffect(()=>{!y||!_.current||(y.disconnect(),d.current=!1,y.observe(_.current))},[_,y]),p.useEffect(()=>(l({type:Mt.RegisterDroppable,element:{id:a,key:s,disabled:n,node:_,rect:f,data:T}}),()=>l({type:Mt.UnregisterDroppable,key:s,id:a})),[a]),p.useEffect(()=>{n!==h.current.disabled&&(l({type:Mt.SetDroppableDisabled,id:a,key:s,disabled:n}),h.current.disabled=n)},[a,s,n,l]),{active:r,rect:f,isOver:(o==null?void 0:o.id)===a,node:_,over:o,setNodeRef:x}}function BT(e){let{animation:t,children:n}=e;const[a,i]=p.useState(null),[s,r]=p.useState(null),l=oc(n);return!n&&!a&&l&&i(l),Wn(()=>{if(!s)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,a,s]),nt.createElement(nt.Fragment,null,n,a?p.cloneElement(a,{ref:r}):null)}const HT={x:0,y:0,scaleX:1,scaleY:1};function qT(e){let{children:t}=e;return nt.createElement(Nl.Provider,{value:pb},nt.createElement(Bc.Provider,{value:HT},t))}const YT={position:"fixed",touchAction:"none"},VT=e=>zc(e)?"transform 250ms ease":void 0,IT=p.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:u,transition:h=VT}=e;if(!l)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...YT,width:l.width,height:l.height,top:l.top,left:l.left,transform:mi.Transform.toString(d),transformOrigin:i&&a?$E(a,l):void 0,transition:typeof h=="function"?h(a):h,...o};return nt.createElement(n,{className:r,style:f,ref:t},s)}),GT=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,u]of Object.entries(i))n.node.style.setProperty(o,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},KT=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:mi.Transform.toString(t)},{transform:mi.Transform.toString(n)}]},XT={duration:250,easing:"ease",keyframes:KT,sideEffects:GT({styles:{active:{opacity:"0"}}})};function QT(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Uc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const u=vb(r);if(!u)return;const{transform:h}=cn(r).getComputedStyle(r),d=lb(h);if(!d)return;const f=typeof t=="function"?t:JT(t);return mb(o,i.draggable.measure),f({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:i,transform:d})})}function JT(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...XT,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...u}=s;if(!t)return;const h={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},d={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},f={x:o.x-h.x,y:o.y-h.y,...d},m=i({...u,active:r,dragOverlay:l,transform:{initial:o,final:f}}),[b]=m,S=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(S))return;const E=a==null?void 0:a({active:r,dragOverlay:l,...u}),v=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{E==null||E(),g()}})}}let Vg=0;function ZT(e){return p.useMemo(()=>{if(e!=null)return Vg++,Vg},[e])}const PT=nt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:h,active:d,activeNodeRect:f,containerNodeRect:m,draggableNodes:b,droppableContainers:S,dragOverlay:E,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:_}=wb(),x=p.useContext(Bc),T=ZT(d==null?void 0:d.id),O=_b(r,{activatorEvent:h,active:d,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:E.rect,over:v,overlayNodeRect:E.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:x,windowRect:_}),N=pf(f),M=QT({config:a,draggableNodes:b,droppableContainers:S,measuringConfiguration:g}),G=N?E.setRef:void 0;return nt.createElement(qT,null,nt.createElement(BT,{animation:M},d&&T?nt.createElement(IT,{key:T,id:d.id,ref:G,as:l,activatorEvent:h,adjustScale:t,className:o,transition:s,rect:N,style:{zIndex:u,...i},transform:O},n):null))});function bf(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function FT(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function io(e){return e!==null&&e>=0}function WT(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ej(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const so={scaleX:1,scaleY:1},tj=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:i,overIndex:s,index:r}=e;const l=(t=n[i])!=null?t:a;if(!l)return null;const o=nj(n,r,i);if(r===i){const u=n[s];return u?{x:i<s?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...so}:null}return r>i&&r<=s?{x:-l.width-o,y:0,...so}:r<i&&r>=s?{x:l.width+o,y:0,...so}:{x:0,y:0,...so}};function nj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return!a||!i&&!s?0:n<t?i?a.left-(i.left+i.width):s.left-(a.left+a.width):s?s.left-(a.left+a.width):a.left-(i.left+i.width)}const Sb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=bf(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},ro={scaleX:1,scaleY:1},To=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const u=s[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...ro}:null}const o=aj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...ro}:i<n&&i>=r?{x:0,y:l.height+o,...ro}:{x:0,y:0,...ro}};function aj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const xb="Sortable",Eb=nt.createContext({activeIndex:-1,containerId:xb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sb,disabled:{draggable:!1,droppable:!1}});function jr(e){let{children:t,id:n,items:a,strategy:i=Sb,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:h}=wb(),d=Ol(xb,n),f=l.rect!==null,m=p.useMemo(()=>a.map(x=>typeof x=="object"&&"id"in x?x.id:x),[a]),b=r!=null,S=r?m.indexOf(r.id):-1,E=u?m.indexOf(u.id):-1,v=p.useRef(m),g=!WT(m,v.current),y=E!==-1&&S===-1||g,w=ej(s);Wn(()=>{g&&b&&h(m)},[g,m,b,h]),p.useEffect(()=>{v.current=m},[m]);const _=p.useMemo(()=>({activeIndex:S,containerId:d,disabled:w,disableTransforms:y,items:m,overIndex:E,useDragOverlay:f,sortedRects:FT(m,o),strategy:i}),[S,d,w.draggable,w.droppable,y,m,E,o,f,i]);return nt.createElement(Eb.Provider,{value:_},t)}const ij=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return bf(n,a,i).indexOf(t)},sj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},rj={duration:200,easing:"ease"},Tb="transform",lj=mi.Transition.toString({property:Tb,duration:0,easing:"linear"}),oj={roleDescription:"sortable"};function cj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=p.useState(null),l=p.useRef(n);return Wn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const u=lr(a.current,{ignoreTransform:!0}),h={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(h.x||h.y)&&r(h)}}n!==l.current&&(l.current=n)},[t,n,a,i]),p.useEffect(()=>{s&&r(null)},[s]),s}function _f(e){let{animateLayoutChanges:t=sj,attributes:n,disabled:a,data:i,getNewIndex:s=ij,id:r,strategy:l,resizeObserverConfig:o,transition:u=rj}=e;const{items:h,containerId:d,activeIndex:f,disabled:m,disableTransforms:b,sortedRects:S,overIndex:E,useDragOverlay:v,strategy:g}=p.useContext(Eb),y=uj(a,m),w=h.indexOf(r),_=p.useMemo(()=>({sortable:{containerId:d,index:w,items:h},...i}),[d,i,w,h]),x=p.useMemo(()=>h.slice(h.indexOf(r)),[h,r]),{rect:T,node:O,isOver:N,setNodeRef:M}=LT({id:r,data:_,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...o}}),{active:G,activatorEvent:ee,activeNodeRect:ue,attributes:ae,setNodeRef:ve,listeners:U,isDragging:H,over:V,setActivatorNodeRef:le,transform:Te}=UT({id:r,data:_,attributes:{...oj,...n},disabled:y.draggable}),Ie=SE(M,ve),je=!!G,ke=je&&!b&&io(f)&&io(E),ze=!v&&H,Ge=ze&&ke?Te:null,Wt=ke?Ge??(l??g)({rects:S,activeNodeRect:ue,activeIndex:f,overIndex:E,index:w}):null,mt=io(f)&&io(E)?s({id:r,items:h,activeIndex:f,overIndex:E}):w,Ct=G==null?void 0:G.id,q=p.useRef({activeId:Ct,items:h,newIndex:mt,containerId:d}),ie=h!==q.current.items,fe=t({active:G,containerId:d,isDragging:H,isSorting:je,id:r,index:w,items:h,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),Ke=cj({disabled:!fe,index:w,node:O,rect:T});return p.useEffect(()=>{je&&q.current.newIndex!==mt&&(q.current.newIndex=mt),d!==q.current.containerId&&(q.current.containerId=d),h!==q.current.items&&(q.current.items=h)},[je,mt,d,h]),p.useEffect(()=>{if(Ct===q.current.activeId)return;if(Ct!=null&&q.current.activeId==null){q.current.activeId=Ct;return}const it=setTimeout(()=>{q.current.activeId=Ct},50);return()=>clearTimeout(it)},[Ct]),{active:G,activeIndex:f,attributes:ae,data:_,rect:T,index:w,newIndex:mt,items:h,isOver:N,isSorting:je,isDragging:H,listeners:U,node:O,overIndex:E,over:V,setNodeRef:Ie,setActivatorNodeRef:le,setDroppableNodeRef:M,setDraggableNodeRef:ve,transform:Ke??Wt,transition:Xe()};function Xe(){if(Ke||ie&&q.current.newIndex===w)return lj;if(!(ze&&!zc(ee)||!u)&&(je||fe))return mi.Transition.toString({...u,property:Tb})}}function uj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function hc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const dj=[Ne.Down,Ne.Right,Ne.Up,Ne.Left],hj=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(dj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const f=i.get(d.id);if(f)switch(e.code){case Ne.Down:a.top<f.top&&o.push(d);break;case Ne.Up:a.top>f.top&&o.push(d);break;case Ne.Left:a.left>f.left&&o.push(d);break;case Ne.Right:a.left<f.left&&o.push(d);break}});const u=BE({collisionRect:a,droppableRects:i,droppableContainers:o});let h=sb(u,"id");if(h===(r==null?void 0:r.id)&&u.length>1&&(h=u[1].id),h!=null){const d=s.get(n.id),f=s.get(h),m=f?i.get(f.id):null,b=f==null?void 0:f.node.current;if(b&&m&&d&&f){const E=$c(b).some((x,T)=>l[T]!==x),v=jb(d,f),g=fj(d,f),y=E||!v?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return y.x&&y.y?w:dl(w,y)}}}};function jb(e,t){return!hc(e)||!hc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function fj(e,t){return!hc(e)||!hc(t)||!jb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const $i=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Hu=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`,mj="09",gj="00",Fe=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},ia=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},xi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},yj=e=>{const t=new Date;return Fe(e)===Fe(t)},vj=()=>{const[e,t]=p.useState(null),[n,a]=p.useState(!0);return p.useEffect(()=>{W.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=W.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await W.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await W.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function wf({value:e,onChange:t}){const n=p.useRef(null),a=p.useRef(null),i=p.useRef(e),s=p.useRef(!1),[r,l]=p.useState(()=>e&&e.includes(":")?e.split(":")[0]:mj),[o,u]=p.useState(()=>e&&e.includes(":")?e.split(":")[1]:gj);p.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,y]=e.split(":");i.current=e,l(g),u(y)}},[e]),p.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const h=(g,y,w)=>{if(!g.current)return;const _=g.current.scrollTop,T=Math.round(_/40),O=String(T).padStart(2,"0");y(O)},d=(g,y)=>{if(!g.current)return;const w=40,_=parseInt(y,10);g.current.scrollTop=_*w};p.useEffect(()=>{d(n,r)},[]),p.useEffect(()=>{d(a,o)},[]);const f=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),m=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),b=()=>{const g=(parseInt(r,10)+1)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},S=()=>{const g=(parseInt(r,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},E=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),d(a,y)},v=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),d(a,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:E,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>h(n,l),children:[c.jsx("div",{className:"picker-spacer"}),f.map(g=>c.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),d(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>h(a,u),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),d(a,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:S,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function Ig({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:a,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function pj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenTrash:s,onOpenRoutine:r,onOpenMemo:l,onScrollToKeyThoughts:o,onOpenGanttChart:u,onOpenEncouragementModal:h,onOpenDummyModal:d,onLogout:f}){var m,b;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((m=n.user.user_metadata)==null?void 0:m.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((b=n.user.user_metadata)==null?void 0:b.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const S=a==="vertical"?"horizontal":"vertical";i(S),localStorage.setItem("viewMode",S),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),c.jsx("span",{children:a==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{h(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&f()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function bj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:ia(e)}),c.jsx("input",{type:"date",value:Fe(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function _j({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,getRandomEncouragement:u,onEncouragementClick:h,isReorderMode:d,setIsReorderMode:f}){return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx(bj,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),c.jsx("div",{className:"encouragement-section",children:yj(n)?c.jsx("div",{className:"encouragement-message",onClick:h,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||u()}):c.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),d&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>f(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function wj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const i=a.touches[0];a.currentTarget.dataset.touchStartX=i.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const i=parseFloat(a.currentTarget.dataset.touchStartX||"0"),s=parseInt(a.currentTarget.dataset.touchStartTime||"0"),r=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,o=Date.now()-s;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,r&&o<500){const u=i-l,h=n.current;if(!h)return;const d=h.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<d.length-1?d[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&d[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>c.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const i=n.current;if(!i)return;const s=i.querySelectorAll(".section-block");s[a]&&s[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function Gg({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),c.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}function jo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:h,level:d=0,onCreateRoutine:f,routines:m,onShowRoutineHistory:b,onOpenRoutineSetupModal:S,onOpenHistoryModal:E,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:w}){const[_,x]=p.useState(!1),[T,O]=p.useState(!1),[N,M]=p.useState(e.text),[G,ee]=p.useState(!1),[ue,ae]=p.useState(!1),[ve,U]=p.useState(!1),[H,V]=p.useState(""),[le,Te]=p.useState(!1),[Ie,je]=p.useState([]),[ke,ze]=p.useState(!1),[Ge,Ae]=p.useState(!1),[Wt,mt]=p.useState([]),[Ct,q]=p.useState([]),[ie,fe]=p.useState([]),[Ke,Xe]=p.useState(null),[it,xe]=p.useState(!1),[pe,$e]=p.useState(null),[me,be]=p.useState(!1),[Ve,Ue]=p.useState([]),[zt,$t]=p.useState(""),[na,da]=p.useState({}),[Pt,en]=p.useState(!1),[It,$a]=p.useState(null),[gt,ha]=p.useState([]),_t=e.routine_id?m.find(D=>D.id===e.routine_id):null,[fa,Kn]=p.useState(0),[ma,pi]=p.useState(0),[Ji,or]=p.useState(0),[ga,La]=p.useState(!1),[wt,yt]=p.useState(!1),{attributes:Lt,listeners:_n,setNodeRef:Gt,transform:Bt,transition:tn,isDragging:nn}=_f({id:e.id}),A={transform:mi.Transform.toString(Bt),transition:tn,cursor:nn?"grabbing":"grab"},k=e.text.length>30,z=()=>{O(!0),M(e.text)},X=async()=>{N.trim()&&N!==e.text&&await i(e.id,N.trim()),O(!1)},P=async D=>{D.key==="Enter"?(D.preventDefault(),await X()):D.key==="Escape"&&(O(!1),M(e.text))},Q=D=>{Ue($=>$.includes(D)?$.filter(ge=>ge!==D):[...$,D])},se=D=>["sun","mon","tue","wed","thu","fri","sat"][D],Ce=async D=>{try{const $=typeof v=="string"?v:Fe(v),_e=[...D.hidden_dates||[],$],re=D.routine_id!==null&&D.routine_id!==void 0;let Oe={hidden_dates:_e};re||(Oe.deleted=!0,Oe.deleted_date=new Date().toISOString());const{error:Be}=await W.from("todos").update(Oe).eq("id",D.id);if(Be)throw Be;y&&y(D.id);const Ze=D.routine_id!==null&&D.routine_id!==void 0;w(Ze?"  ":"   ",{type:"hideOnDate",todoId:D.id,hiddenDate:$,wasDeleted:!re})}catch($){console.error("  :",$.message),alert("   .")}},Re=async D=>{try{const{error:$}=await W.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",D.id);if($)throw $;y&&y(D.id)}catch($){console.error(" :",$.message),alert(" .")}},ct=async D=>{try{if(!D.routine_id){alert("  .");return}const{error:$}=await W.from("routines").update({deleted:!0}).eq("id",D.routine_id);if($)throw $;const ge=typeof v=="string"?v:Fe(v),re=[...D.hidden_dates||[],ge],{error:Oe}=await W.from("todos").update({hidden_dates:re}).eq("id",D.id);if(Oe)throw Oe;y&&y(D.id),w("   ",{type:"stopRoutineFromToday",todoId:D.id,routineId:D.routine_id,hiddenDate:ge})}catch($){console.error("  :",$.message),alert("   .")}},Me=async D=>{try{if(!D.routine_id){alert("  .");return}const{error:$}=await W.from("routines").update({deleted:!0}).eq("id",D.routine_id);if($)throw $;const{error:ge}=await W.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",D.id);if(ge)throw ge;y&&y(D.id),w("   ",{type:"deleteRoutineCompletely",todoId:D.id,routineId:D.routine_id})}catch($){console.error("   :",$.message),alert("   .")}};p.useEffect(()=>{pe==="history"&&!na[e.id]&&!Pt&&(async()=>{en(!0);try{const{data:$,error:ge}=await W.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(ge)throw ge;da(_e=>({..._e,[e.id]:$||[]}))}catch($){console.error("Error fetching history:",$)}finally{en(!1)}})()},[pe,e.id,na,Pt]),p.useEffect(()=>{pe==="routine-stats"&&_t&&(!It||It.id!==_t.id)&&(async()=>{try{const{data:$,error:ge}=await W.from("todos").select("*").eq("routine_id",_t.id).eq("deleted",!1).maybeSingle();if(ge)throw ge;if($&&$.visible_dates){const _e=$.visible_dates.sort().map(re=>{var Oe;return{id:`${$.id}-${re}`,date:re,text:$.text,completed:((Oe=$.completed_dates)==null?void 0:Oe.includes(re))||!1}});ha(_e),$a(_t)}}catch($){console.error("Error fetching routine history:",$)}})()},[pe,_t,It]);const Mn=D=>{if(T||nn)return;const $=D.type.includes("touch")?D.touches[0].clientX:D.clientX,ge=D.type.includes("touch")?D.touches[0].clientY:D.clientY;pi($),or(ge),La(!1),yt(!0)},un=D=>{if(T||nn||!wt)return;const $=D.type.includes("touch")?D.touches[0].clientX:D.clientX,ge=D.type.includes("touch")?D.touches[0].clientY:D.clientY,_e=ma-$,re=Math.abs(Ji-ge);if(!ga){const Oe=Math.abs(_e)+re;if(Oe>10){if(Math.abs(_e)>Oe*.8)La(!0),D.type.includes("touch")&&D.preventDefault();else if(re>Math.abs(_e)){yt(!1);return}}}if(ga){if(D.type.includes("touch")&&D.preventDefault(),_e>0&&_e<=100)Kn(_e);else if(_e<0&&fa>0){const Oe=fa+_e;Kn(Math.max(0,Oe)),pi($)}}},St=()=>{yt(!1),ga&&(La(!1),Kn(fa>40?80:0))},dn=()=>{a(e.id)},ya=D=>{q($=>$.includes(D)?$.filter(ge=>ge!==D):[...$,D])};return c.jsxs("div",{ref:Gt,style:A,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:dn,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...Lt,..._n,className:`todo-item ${e.completed?"completed":""} ${_?"expanded":""} ${nn?"drag-mode":""}`,style:{transform:`translateX(-${fa}px)`,transition:ga||nn?"none":"transform 0.3s ease"},onMouseDown:Mn,onMouseMove:un,onMouseUp:St,onMouseLeave:St,onTouchStart:Mn,onTouchMove:un,onTouchEnd:St,onContextMenu:D=>D.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!T&&k&&x(!_),onDoubleClick:z,style:{cursor:T?"text":k?"pointer":"default"},children:T?c.jsx("input",{type:"text",value:N,onChange:D=>M(D.target.value),onBlur:X,onKeyDown:P,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${_?"expanded":""}`,children:e.text})}),(()=>{const D=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,$=e.routine_id&&_t,ge=g||e.is_pending_routine;return(h.length>0||D||$||ge)&&c.jsxs("div",{className:"todo-badges",children:[D&&(()=>{const _e=new Date(e.completed_at).toISOString().split("T")[0],re=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${_e} `,children:[re,""]})})(),$&&(()=>{const _e=v||e.date,re=new Date(_e+"T00:00:00"),Oe=re.getMonth()+1,Be=re.getDate(),Ft=["","","","","","",""][re.getDay()],Tt=`${Oe}/${Be}(${Ft})`;return c.jsxs("span",{className:"routine-date-badge",title:`${_t.text} `,children:["for ",Tt]})})(),ge&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),h.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:_e=>{_e.stopPropagation(),ue?(ee(!1),ae(!1),U(!1)):(ee(!0),ae(!0),U(!1),Te(!1),Ae(!1))},children:""})]})})(),!T&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:D=>{D.stopPropagation(),xe(!0),$e(null),be(!1),Ue([]),$t("")},title:"",children:""}),ue&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[h&&h.length>0&&h.map((D,$)=>c.jsx(jo,{todo:D,index:$,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:d+1,routines:m,onShowRoutineHistory:b,showSuccessMessage:w,onOpenRoutineSetupModal:S,onOpenHistoryModal:E,currentPageDate:v},D.id)),ve&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:H,onChange:D=>V(D.target.value),onKeyDown:D=>{D.key==="Enter"&&H.trim()&&(u(e.id,H.trim()),V(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{H.trim()&&(u(e.id,H.trim()),V(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{V("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),it&&c.jsx("div",{className:"modal-overlay",onClick:()=>xe(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>xe(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:N,onChange:D=>M(D.target.value),onBlur:()=>{N.trim()!==""&&N!==e.text?i(e.id,N):N.trim()===""&&M(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${pe==="nanotodo"?"active":""}`,onClick:()=>$e("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${pe==="routine"?"active":""}`,onClick:()=>{$e("routine");const D=m.find($=>$.id===e.routine_id);D?(Ue(D.days||[]),$t(D.time_slot||""),be(!1)):(Ue([]),$t(""),be(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${pe==="history"?"active":""}`,onClick:()=>$e("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&_t&&c.jsxs("button",{className:`action-menu-item ${pe==="routine-stats"?"active":""}`,onClick:()=>$e("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${pe==="delete"?"active":""}`,onClick:()=>$e("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!pe&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),pe==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[h&&h.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:h.map(D=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:D.completed,onChange:()=>n(D.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${D.completed?"completed":""}`,children:D.text}),c.jsx("button",{onClick:()=>a(D.id),className:"subtodo-delete-modal",title:"",children:""})]},D.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:H,onChange:D=>V(D.target.value),onKeyDown:D=>{D.key==="Enter"&&H.trim()&&(u(e.id,H.trim()),V(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{H.trim()&&(u(e.id,H.trim()),V(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),pe==="routine"&&(()=>{const D=m.find($=>$.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:D&&!me?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:$i.filter($=>D.days.includes($.key)).map($=>c.jsx("span",{className:"routine-day-badge",children:$.label},$.key))}),D.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",D.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:$=>{$.stopPropagation(),D&&(Ue(D.days),$t(D.time_slot||""),be(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async $=>{$.stopPropagation(),D&&e&&(await f(e.id,e.text,[],null,!0),xe(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:me?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:$i.map($=>c.jsx("button",{onClick:ge=>{ge.stopPropagation(),Q($.key)},className:`day-button-inline ${Ve.includes($.key)?"selected":""}`,children:$.label},$.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(wf,{value:zt,onChange:$=>$t($)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async $=>{$.stopPropagation(),e&&(me&&D?await f(e.id,e.text,Ve,D.id,!1,zt):await f(e.id,e.text,Ve,null,!1,zt),be(!1),xe(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:$=>{$.stopPropagation(),be(!1),Ue([]),$t("")},className:"routine-cancel-button",children:""})]})]})})]})})(),pe==="history"&&(()=>{const D=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],$=D[0],ge=D.map(re=>({id:`${e.id}-${re}`,date:re})),_e=na[e.id]||[];return Pt?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:s(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r($?new Date($+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),ge.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ge.map((re,Oe)=>{const Be=re.date===e.date,Ze=r(new Date(re.date+"T00:00:00"));return c.jsxs("span",{children:[Oe>0&&"  ",c.jsxs("span",{style:Be?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ze.split("(")[0],Be?"()":""]})]},re.id)})})]}),(()=>{const re=new Date(e.created_at).toISOString().split("T")[0],Oe=e.date;return re!==Oe&&ge.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),_e.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",_e.length,")"]}),_e.map(re=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[s(re.changed_at),re.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(re.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:Oe=>{Oe.stopPropagation(),ya(re.id)},children:Ct.includes(re.id)?"":""})]}),Ct.includes(re.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:re.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:re.new_text})]})]})]},re.id))]})]})]})})(),pe==="routine-stats"&&_t&&(()=>{if(!It||It.id!==_t.id||gt.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",_t.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!It||It.id!==_t.id?" ...":" ."})]});const D=gt[0],$=new Date(D.date),ge=new Date,_e={};gt.forEach(Be=>{_e[Be.date]=Be.completed});const re=[];let Oe=new Date($);for(;Oe<=ge;){const Be=Oe.getFullYear(),Ze=Oe.getMonth(),Ft=`${Be}-${Ze+1}`;re.find(ur=>ur.key===Ft)||re.push({key:Ft,year:Be,month:Ze,days:[]});const Tt=re.find(ur=>ur.key===Ft),hn=Fe(Oe),kn=Oe.getDay(),cr=se(kn),Sf=_t.days.includes(cr);Tt.days.push({date:new Date(Oe),dateStr:hn,day:Oe.getDate(),dayOfWeek:kn,isCompleted:_e[hn]===!0,isRoutineDay:Sf,hasTodo:_e[hn]!==void 0}),Oe.setDate(Oe.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",_t.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:re.map(Be=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[Be.year," ",Be.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),Be.days.length>0&&Array(Be.days[0].dayOfWeek).fill(null).map((Ze,Ft)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${Ft}`)),Be.days.map((Ze,Ft)=>{if(Ft>0&&Ze.day===1){const hn=6-Be.days[Ft-1].dayOfWeek;return c.jsxs(nt.Fragment,{children:[Array(hn).fill(null).map((kn,cr)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${Ft}-${cr}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${Ze.isCompleted?"completed":""} ${Ze.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:Ze.day}),Ze.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},Ze.dateStr)}return c.jsxs("div",{className:`history-day-cell ${Ze.isCompleted?"completed":""} ${Ze.isRoutineDay?"":"not-routine-day"}`,title:`${Ze.dateStr}${Ze.isRoutineDay?"":" (  )"}${Ze.isCompleted?" - ":Ze.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:Ze.day}),Ze.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},Ze.dateStr)})]})]},Be.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[gt.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[gt.filter(Be=>Be.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[gt.filter(Be=>!Be.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[gt.length>0?Math.round(gt.filter(Be=>Be.completed).length/gt.length*100):0,"%"]})]})]})]})]})})(),pe==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var _e;const D=((_e=e.visible_dates)==null?void 0:_e.length)>0?e.visible_dates:[e.date||e.created_date],$=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Ce(e),xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await ct(e),xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Me(e),xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):D.length>1||$?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Ce(e),xe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Re(e),xe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Re(e),xe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}function Sj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:h,editingRoutineId:d,editingRoutineText:f,setEditingRoutineText:m,editingRoutineDays:b,onToggleEditDay:S,onStartEdit:E,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:w}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:_=>a(_.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),c.jsx("div",{className:"day-selector",children:$i.map(_=>c.jsx("button",{onClick:()=>r(_.key),className:`day-button ${s.includes(_.key)?"selected":""}`,disabled:i,children:_.label},_.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(wf,{value:l,onChange:_=>o(_)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:h.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):h.map(_=>c.jsx("div",{className:"routine-item",children:d===_.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:f,onChange:x=>m(x.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:$i.map(x=>c.jsx("button",{onClick:()=>S(x.key),className:`day-button-inline ${b.includes(x.key)?"selected":""}`,children:x.label},x.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v,className:"routine-save-button",disabled:f.trim()===""||b.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:_.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:$i.filter(x=>_.days.includes(x.key)).map(x=>c.jsx("span",{className:"routine-day-badge",children:x.label},x.key))}),_.time_slot&&c.jsx("span",{className:"routine-time-slot",children:_.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>w(_),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>E(_),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(_.id),className:"routine-delete-button",title:"",children:""})]})]})},_.id))})]})}):null}const xj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Ej({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(h=>{l[h.date]=h.completed});const o=[];let u=new Date(s);for(;u<=r;){const h=u.getFullYear(),d=u.getMonth(),f=`${h}-${d+1}`;o.find(g=>g.key===f)||o.push({key:f,year:h,month:d,days:[]});const m=o.find(g=>g.key===f),b=Fe(u),S=u.getDay(),E=xj(S),v=n.days.includes(E);m.days.push({date:new Date(u),dateStr:b,day:u.getDate(),dayOfWeek:S,isCompleted:l[b]===!0,isRoutineDay:v,hasTodo:l[b]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(h=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[h.year," ",h.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),h.days.length>0&&Array(h.days[0].dayOfWeek).fill(null).map((d,f)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${f}`)),h.days.map((d,f)=>{if(f>0&&d.day===1){const b=6-h.days[f-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(b).fill(null).map((S,E)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${f}-${E}`)),c.jsx("div",{className:"history-day-header",children:""},d.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,title:`${d.dateStr}${d.isRoutineDay?"":" (  )"}${d.isCompleted?" - ":d.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},d.dateStr)})]})]},h.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Tj({title:e,className:t,content:n,setContent:a,isEditing:i,isSaving:s,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:h,placeholder:d,emptyMessage:f,children:m}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!i&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),i&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:s,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:s,children:" "})]})]})]}),i?c.jsx("textarea",{ref:r,value:n,onChange:b=>a(b.target.value),onKeyDown:h,className:"memo-textarea",placeholder:d}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((b,S)=>c.jsx("div",{className:"memo-preview-line",children:b||""},S))}):c.jsx("div",{className:"memo-empty",children:f})}),m]})}function Ob({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,parentBlock:s,rootSetBlocks:r,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:h,listeners:d,setNodeRef:f,transform:m,transition:b,isDragging:S}=_f({id:e.id}),E=e.id===o,v=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:E?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:f,style:g,children:c.jsx(Nb,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:{...h,...d},parentBlock:s,rootSetBlocks:r,draggingChildIds:l,activeId:o,overId:u})})}function Nb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:s,parentBlock:r,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:h}){const d=p.useRef(null),f=p.useRef(!1);p.useEffect(()=>{if(a===e.id&&d.current){d.current.focus();const _=d.current.value.length;d.current.setSelectionRange(_,_)}},[a,e.id]),p.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+"px")},[e.content]);const m=(_,x,T)=>_.map(O=>{if(O.id===x){const N=T(O);return{...N,children:Array.isArray(N.children)?N.children:[]}}return Array.isArray(O.children)&&O.children.length>0?{...O,children:m(O.children,x,T)}:O}),b=_=>{n(x=>m(x,e.id,T=>({...T,content:_})))},S=_=>{n(x=>m(x,e.id,T=>({...T,children:typeof _=="function"?_(T.children):_})))},E=()=>{n(_=>m(_,e.id,x=>{const T=!x.isOpen;if(T&&(!Array.isArray(x.children)||x.children.length===0)){const O={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...x,isOpen:T,children:[O]}}return{...x,isOpen:T,children:Array.isArray(x.children)?x.children:[]}}))},v=()=>{const _=t.findIndex(T=>T.id===e.id);if(_<=0)return;const x=t[_-1];n(T=>{const O=[...T];O.splice(_,1);const N={...x,children:[...Array.isArray(x.children)?x.children:[],e],isOpen:!0};return O[_-1]=N,O})},g=()=>{!r||!l||l(_=>{const x=(N,M,G)=>{const ee=[];for(let ue=0;ue<N.length;ue++){const ae=N[ue];if(ae.id===M){const ve=ae.children.filter(H=>H.id!==G.id),U={...ae,children:ve};ee.push(U),ee.push(G)}else if(Array.isArray(ae.children)&&ae.children.length>0){const ve=x(ae.children,M,G);ve!==ae.children?ee.push({...ae,children:ve}):ee.push(ae)}else ee.push(ae)}return ee},T=N=>N.map(M=>{const G=Array.isArray(M.children)&&M.children.length>0;return!G&&M.isOpen?{...M,isOpen:!1}:G?{...M,children:T(M.children)}:M}),O=x(_,r.id,e);return T(O)})},y=_=>{const x=[],T=O=>{for(const N of O)x.push(N),N.isOpen&&Array.isArray(N.children)&&N.children.length>0&&T(N.children)};return T(_),x},w=_=>{if(_.key==="Enter"){if(_.shiftKey)return;{if(f.current){_.preventDefault(),_.stopPropagation();return}_.preventDefault(),_.stopPropagation(),f.current=!0;const x=_.target.selectionStart,T={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};x===0?(n(O=>{const N=O.findIndex(G=>G.id===e.id);if(N===-1)return O;const M=[...O];return M.splice(N,0,T),M}),setTimeout(()=>{i(e.id),setTimeout(()=>{f.current=!1},100)},0)):(n(O=>{const N=O.findIndex(G=>G.id===e.id);if(N===-1)return O;const M=[...O];return M.splice(N+1,0,T),M}),setTimeout(()=>{i(T.id),setTimeout(()=>{f.current=!1},100)},0))}}else if(_.key==="Tab"&&_.shiftKey)_.preventDefault(),_.stopPropagation(),r&&l&&g();else if(_.key==="Tab"&&!_.shiftKey)_.preventDefault(),_.stopPropagation(),v();else if(_.key==="Backspace"){const x=_.target.selectionStart;if(e.content===""||x===0){const M=(()=>{if(l){let ue=[];return l(ae=>(ue=ae,ae)),ue}return t})(),G=y(M),ee=G.findIndex(ue=>ue.id===e.id);if(ee>0){_.preventDefault(),_.stopPropagation();const ue=G[ee-1],ae=(U,H)=>U.filter(V=>V.id!==H).map(V=>Array.isArray(V.children)&&V.children.length>0?{...V,children:ae(V.children,H)}:V),ve=U=>U.map(H=>{const V=Array.isArray(H.children)&&H.children.length>0;return!V&&H.isOpen?{...H,isOpen:!1}:V?{...H,children:ve(H.children)}:H});l?l(U=>{const H=ae(U,e.id);return ve(H)}):n(U=>{const H=ae(U,e.id);return ve(H)}),setTimeout(()=>{i(ue.id)},0)}}}else if(_.key==="ArrowUp"&&!_.shiftKey){_.preventDefault(),_.stopPropagation();const T=(()=>{if(l){let M=[];return l(G=>(M=G,G)),M}return t})(),O=y(T),N=O.findIndex(M=>M.id===e.id);N>0&&i(O[N-1].id)}else if(_.key==="ArrowDown"&&!_.shiftKey){_.preventDefault(),_.stopPropagation();const T=(()=>{if(l){let M=[];return l(G=>(M=G,G)),M}return t})(),O=y(T),N=O.findIndex(M=>M.id===e.id);N<O.length-1&&i(O[N+1].id)}};return c.jsxs("div",{className:"notion-block",children:[s&&c.jsx("div",{className:"notion-drag-handle",...s,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:E,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:d,value:e.content,onChange:_=>b(_.target.value),onKeyDown:w,onFocus:()=>i(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(_=>c.jsx(Ob,{block:_,blocks:e.children,setBlocks:S,focusedBlockId:a,setFocusedBlockId:i,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:h},_.id))})]})}function jj({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:i}){const[s,r]=p.useState(null),[l,o]=p.useState(null),u=zE(Ag(vf,{activationConstraint:{distance:3}}),Ag(gf,{coordinateGetter:hj})),h=_=>_.map(x=>{const T=Array.isArray(x.children)&&x.children.length>0;return!T&&x.isOpen?{...x,isOpen:!1}:T?{...x,children:h(x.children)}:x});p.useEffect(()=>{const _=h(e);JSON.stringify(_)!==JSON.stringify(e)&&t(_)},[e]);const d=_=>{const x=[],T=O=>{for(const N of O)x.push(N),N.isOpen&&Array.isArray(N.children)&&N.children.length>0&&T(N.children)};return T(_),x},f=_=>{const x=[],T=O=>{if(Array.isArray(O.children)&&O.children.length>0)for(const N of O.children)x.push(N.id),T(N)};return T(_),x},m=_=>{const{active:x}=_,O=d(e).find(N=>N.id===x.id);r(O)},b=_=>{const{over:x}=_;o((x==null?void 0:x.id)||null)},S=nt.useMemo(()=>s?f(s):[],[s]),E=_=>{const{active:x,over:T}=_;if(r(null),o(null),!T||x.id===T.id)return;const O=d(e),N=O.find(Ie=>Ie.id===x.id),M=O.find(Ie=>Ie.id===T.id);if(!N||!M||f(N).includes(T.id))return;const ee=JSON.parse(JSON.stringify(N)),ue=(Ie,je)=>Ie.filter(ke=>ke.id!==je).map(ke=>({...ke,children:Array.isArray(ke.children)?ue(ke.children,je):[]})),ae=(Ie,je,ke)=>{let ze=!1;const Ge=[];for(const Ae of Ie)if(Ge.push(Ae),Ae.id===je&&(Ge.push(ke),ze=!0),Array.isArray(Ae.children)&&Ae.children.length>0){const{newChildren:Wt,wasInserted:mt}=ve(Ae.children,je,ke);mt&&(Ge[Ge.length-1]={...Ae,children:Wt},ze=!0)}return{newTree:Ge,inserted:ze}},ve=(Ie,je,ke)=>{let ze=!1;const Ge=[];for(const Ae of Ie)if(Ge.push(Ae),Ae.id===je&&(Ge.push(ke),ze=!0),Array.isArray(Ae.children)&&Ae.children.length>0){const{newChildren:Wt,wasInserted:mt}=ve(Ae.children,je,ke);mt&&(Ge[Ge.length-1]={...Ae,children:Wt},ze=!0)}return{newChildren:Ge,wasInserted:ze}};let U=ue(e,N.id);const H=U.length>0&&U[0].id===M.id;let V,le=!1;if(H)V=[ee,...U],le=!0;else{const Ie=ae(U,M.id,ee);V=Ie.newTree,le=Ie.inserted}if(!le){console.warn("Failed to insert block, keeping original state");return}const Te=h(V);t(Te)},v=d(e).filter(_=>!S.includes(_.id)).map(_=>_.id),g=_=>{const x=T=>T.map(O=>({...O,isOpen:_,children:Array.isArray(O.children)?x(O.children):[]}));t(x(e))},y=_=>{for(const x of _)if(!x.isOpen&&Array.isArray(x.children)&&x.children.length>0||Array.isArray(x.children)&&x.children.length>0&&!y(x.children))return!1;return!0},w=y(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"toggle-all-button",onClick:()=>i&&i(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>g(!w),title:w?" ":" ",children:w?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(eh,{sensors:u,collisionDetection:Zd,onDragStart:m,onDragOver:b,onDragEnd:E,measuring:{droppable:{strategy:Ks.Always}},children:[c.jsx(jr,{items:v,strategy:To,children:e.map(_=>c.jsx(Ob,{block:_,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:S,activeId:s==null?void 0:s.id,overId:l},_.id))}),c.jsx(PT,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(Nb,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Oj({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:i,onPermanentDelete:s,formatDate:r}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&c.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const o=l.visible_dates||(l.date?[l.date]:[]),u=o.length>1||l.original_todo_id,h=l.original_todo_id!==null&&l.original_todo_id!==void 0,d=l.hidden_dates&&l.hidden_dates.length>0;let f="  ";return h?f="   ( )":d?f="  ":l.deleted===!0&&(f=o.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",r(l.created_at)]}),l.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${h?"old-style":d?"partial":"complete"}`,children:f})]}),u&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:o.length>0?o.map((m,b)=>c.jsx("span",{className:"carryover-date-badge",children:m},b)):l.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),d&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((m,b)=>c.jsx("span",{className:"hidden-date-badge",children:m},b))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>i(l.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>s(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function Nj({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:i,onDeleteDummySession:s,onDeleteAllDummies:r,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),i.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[i.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&s(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&r()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function Dj({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>c.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(d=>d.dates),l=[...new Set(r)].sort((d,f)=>new Date(d)-new Date(f));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),h=[];for(let d=new Date(o);d<=u;d.setDate(d.getDate()+1))h.push(new Date(d).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:h.map(d=>c.jsx("div",{className:"gantt-date-cell",children:s(new Date(d+"T00:00:00")).split("(")[0]},d))})]}),n.map((d,f)=>{const m=new Set(d.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:d.text,children:c.jsx("span",{className:d.completed?"completed-task":"",children:d.text})}),c.jsx("div",{className:"gantt-timeline",children:h.map(b=>{if(!m.has(b))return c.jsx("div",{className:"gantt-date-cell"},b);const E=b===d.startDate,v=b===d.completedDate;let g="gantt-date-cell has-task";return E?g+=" start-date":v?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:v?c.jsx("span",{className:"completed-circle",children:""}):""},b)})})]},d.originalId)})]})})()})})]})}):null}function Aj({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:h,onDeleteEncouragementMessage:d}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:f=>f.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async f=>{f.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),c.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((f,m)=>c.jsx("div",{className:"encouragement-item",children:r===m?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await h(m,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:f}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(m),u(f)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await d(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function Cj({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(i=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(i.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i.description})]}),c.jsx("button",{onClick:()=>a(i.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(i.content)?i.content.map((s,r)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[s.type==="toggle"?" ":"",s.content||"( )"]},r)):"( )"})]},i.id))})})]})}):null}function Rj({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function Mj(e){const[t,n]=p.useState(["memo","routine","normal","key-thoughts"]),[a,i]=p.useState(!1),s=async()=>{try{const{data:d,error:f}=await W.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(f){console.error("   :",f.message);return}if(d&&d.setting_value){const m=JSON.parse(d.setting_value);n(m),localStorage.setItem("sectionOrder",JSON.stringify(m))}else{const m=localStorage.getItem("sectionOrder");m&&n(JSON.parse(m))}}catch(d){console.error("   :",d.message);const f=localStorage.getItem("sectionOrder");f&&n(JSON.parse(f))}},r=async d=>{var f;try{if(localStorage.setItem("sectionOrder",JSON.stringify(d)),!((f=e==null?void 0:e.user)!=null&&f.id))return;const{data:m,error:b}=await W.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(b){console.error("   :",b.message);return}m?await W.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await W.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(m){console.error("   :",m.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,moveSectionLeft:d=>{n(f=>{const m=f.indexOf(d);if(m<=0)return f;const b=[...f];return[b[m-1],b[m]]=[b[m],b[m-1]],r(b),b})},moveSectionRight:d=>{n(f=>{const m=f.indexOf(d);if(m===-1||m>=f.length-1)return f;const b=[...f];return[b[m],b[m+1]]=[b[m+1],b[m]],r(b),b})},handleSectionDragEnd:d=>{const{active:f,over:m}=d;f.id!==(m==null?void 0:m.id)&&n(b=>{const S=b.indexOf(f.id),E=b.indexOf(m.id),v=bf(b,S,E);return r(v),v})},handleSectionsContainerDoubleClick:d=>{a&&d.target===d.currentTarget&&i(!1)}}}function kj(e){const[t,n]=p.useState(""),[a,i]=p.useState(!1),[s,r]=p.useState(!1),[l,o]=p.useState(""),u=p.useRef(null),h=async()=>{try{const{data:S,error:E}=await W.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(E)throw E;const v=S&&S.length>0?S[0].content:Hu;n(v),o(v)}catch(S){console.error("   :",S.message),n(Hu),o(Hu)}},d=()=>{i(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},f=async()=>{var S;if(!s)try{r(!0);const{data:E}=await W.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);E&&E.length>0?await W.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",E[0].id):await W.from("spec_memos").insert([{content:t,user_id:(S=e==null?void 0:e.user)==null?void 0:S.id}]),o(t),i(!1)}catch(E){console.error("  :",E.message),alert("  .")}finally{r(!1)}},m=()=>{n(l),i(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:i,isSavingMemo:s,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:h,handleStartEditMemoInline:d,handleSaveMemoInline:f,handleCancelEditMemoInline:m,handleMemoKeyDown:S=>{(S.metaKey||S.ctrlKey)&&S.key==="s"&&(S.preventDefault(),f()),S.key==="Escape"&&(S.preventDefault(),m())}}}function Uj(e){const[t,n]=p.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,i]=p.useState(!1),s=p.useRef(null),[r,l]=p.useState(null),[o,u]=p.useState([]),[h,d]=p.useState(!1),f=w=>Array.isArray(w)?w.map(_=>({..._,children:Array.isArray(_.children)?f(_.children):[]})):[],m=async()=>{try{const{data:w,error:_}=await W.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(_){console.error("   :",_.message);return}if(w&&w.setting_value){const x=JSON.parse(w.setting_value),T=f(x);n(T),s.current=JSON.parse(JSON.stringify(T))}else{const x=localStorage.getItem("keyThoughtsBlocks");if(x){const T=JSON.parse(x),O=f(T);n(O),s.current=JSON.parse(JSON.stringify(O))}}}catch(w){console.error("   :",w.message)}},b=async()=>{var w;if((w=e==null?void 0:e.user)!=null&&w.id)try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(t));const{data:_,error:x}=await W.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(x){console.error("   :",x.message);return}_?await W.from("user_settings").update({setting_value:JSON.stringify(t)}).eq("setting_key","key_thoughts_blocks"):await W.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(t),user_id:e.user.id}]),await v(t)}catch(_){console.error("   :",_.message)}},S=(w,_)=>{if(!w||w.length===0||w.length!==_.length)return!0;const x=(T,O)=>{for(let N=0;N<T.length;N++){const M=T[N],G=O[N];if(M.type!==G.type)return!0;const ee=M.children?M.children.length:0,ue=G.children?G.children.length:0;if(ee!==ue)return!0;const ae=M.content||"",ve=G.content||"";if(Math.abs(ae.length-ve.length)>=20||ue>0&&x(M.children,G.children))return!0}return!1};return x(w,_)},E=async()=>{try{const w=localStorage.getItem("lastHistoryCleanup"),_=new Date().toDateString();if(w===_)return;const x=new Date;x.setDate(x.getDate()-30);const{error:T}=await W.from("key_thoughts_history").delete().lt("created_at",x.toISOString());T?console.error("   :",T.message):(localStorage.setItem("lastHistoryCleanup",_),console.log("   "))}catch(w){console.error("   :",w.message)}},v=async w=>{var _;if((_=e==null?void 0:e.user)!=null&&_.id)try{if(!S(s.current,w))return;const{error:x}=await W.from("key_thoughts_history").insert([{content:w,description:" ",user_id:e.user.id}]);x?console.error("   :",x.message):s.current=JSON.parse(JSON.stringify(w))}catch(x){console.error("   :",x.message)}};return{keyThoughtsBlocks:t,setKeyThoughtsBlocks:n,isSavingKeyThoughts:a,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:s,focusedBlockId:r,setFocusedBlockId:l,keyThoughtsHistory:o,setKeyThoughtsHistory:u,showKeyThoughtsHistory:h,setShowKeyThoughtsHistory:d,normalizeBlocks:f,fetchKeyThoughtsContent:m,handleSaveKeyThoughts:b,cleanupOldHistory:E,fetchKeyThoughtsHistory:async()=>{try{const{data:w,error:_}=await W.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(_){console.error("   :",_.message);return}u(w||[])}catch(w){console.error("   :",w.message)}},restoreKeyThoughtsVersion:async w=>{try{const _=o.find(T=>T.id===w);if(!_){alert("    .");return}if(!window.confirm("  ?     ."))return;const x=f(_.content);n(x),s.current=JSON.parse(JSON.stringify(x)),await b(),alert("!"),d(!1)}catch(_){console.error("  :",_.message)}}}}const zj=e=>["sun","mon","tue","wed","thu","fri","sat"][e],$j=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=p.useState([]),[o,u]=p.useState(""),[h,d]=p.useState([]),[f,m]=p.useState(""),[b,S]=p.useState(!1),[E,v]=p.useState(!1),[g,y]=p.useState(null),[w,_]=p.useState(""),[x,T]=p.useState([]),[O,N]=p.useState(!1),[M,G]=p.useState(null),[ee,ue]=p.useState([]),ae=p.useRef(new Set),ve=async()=>{try{const{data:q,error:ie}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(ie)throw ie;l(q||[])}catch(q){console.error("  :",q.message)}},U=async()=>{var q;if(!(o.trim()===""||b))try{S(!0);const ie={text:o,days:h,start_date:Fe(n),user_id:(q=e==null?void 0:e.user)==null?void 0:q.id};f&&(ie.time_slot=f);const{data:fe,error:Ke}=await t.from("routines").insert([ie]).select();if(Ke)throw Ke;l([fe[0],...r]),u(""),d([]),m("")}catch(ie){console.error("  :",ie.message)}finally{S(!1)}},H=async(q,ie,fe,Ke=null,Xe=!1,it="",xe=null)=>{var pe;try{if(Xe){const{error:$e}=await t.from("todos").update({routine_id:null}).eq("id",q);if($e)throw $e;a(me=>me.map(be=>be.id===q?{...be,routine_id:null}:be));return}if(Ke){const{error:$e}=await t.from("routines").update({days:fe,time_slot:it}).eq("id",Ke);if($e)throw $e;const{error:me}=await t.from("todos").update({is_pending_routine:fe.length===0}).eq("id",q);if(me)throw me;l(be=>be.map(Ve=>Ve.id===Ke?{...Ve,days:fe,time_slot:it}:Ve)),a(be=>be.map(Ve=>Ve.id===q?{...Ve,is_pending_routine:fe.length===0}:Ve))}else{const $e={text:ie,days:fe,time_slot:it,start_date:xe||Fe(n),user_id:(pe=e==null?void 0:e.user)==null?void 0:pe.id},{data:me,error:be}=await t.from("routines").insert([$e]).select();if(be)throw be;const{error:Ve}=await t.from("todos").update({routine_id:me[0].id,is_pending_routine:fe.length===0}).eq("id",q);if(Ve)throw Ve;a(Ue=>Ue.map(zt=>zt.id===q?{...zt,routine_id:me[0].id,is_pending_routine:fe.length===0}:zt)),l(Ue=>[me[0],...Ue])}}catch($e){console.error("  :",$e.message)}},V=q=>{y(q.id),_(q.text),T(q.days)},le=()=>{y(null),_(""),T([])},Te=async()=>{if(!(!g||w.trim()===""||x.length===0))try{const{error:q}=await t.from("routines").update({text:w.trim(),days:x}).eq("id",g);if(q)throw q;l(r.map(ie=>ie.id===g?{...ie,text:w.trim(),days:x}:ie)),le()}catch(q){console.error("  :",q.message)}},Ie=q=>{T(ie=>ie.includes(q)?ie.filter(fe=>fe!==q):[...ie,q])},je=async q=>{const ie=r.find(Xe=>Xe.id===q),fe=ie?ie.text:" ";if(window.confirm(`  "${fe}"() ?

    ,     .
(   )`))try{const{error:Xe}=await t.from("routines").update({deleted:!0}).eq("id",q);if(Xe)throw Xe;const{error:it}=await t.from("todos").update({routine_id:null}).eq("routine_id",q);it&&console.error("  ID  :",it.message),l(r.filter(xe=>xe.id!==q)),a(xe=>xe.map(pe=>pe.routine_id===q?{...pe,routine_id:null}:pe))}catch(Xe){console.error("  :",Xe.message)}},ke=async q=>{var ie;if(!ae.current.has(q))try{ae.current.add(q);const fe=new Date(q),Ke=zj(fe.getDay()),{data:Xe,error:it}=await t.from("routines").select("*").eq("deleted",!1);if(it)throw it;const xe=Xe.filter(pe=>{const $e=pe.days||[],me=$e.length===0||$e.includes(Ke);if(pe.start_date){const be=new Date(pe.start_date),Ve=fe>=be;return me&&Ve}return me});if(xe.length===0)return;for(const pe of xe){const $e=pe.text,{data:me,error:be}=await t.from("todos").select("*").eq("routine_id",pe.id).eq("deleted",!1);if(be)throw be;if(me&&me.length>1){console.warn(` ${pe.id}    (${me.length}).     .`);for(let Ue=1;Ue<me.length;Ue++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",me[Ue].id)}const Ve=me&&me.length>0?me[0]:null;if(Ve){const Ue=Ve.visible_dates||[];if(Ue.includes(q))continue;const zt=[...Ue,q].sort(),{error:$t}=await t.from("todos").update({visible_dates:zt}).eq("id",Ve.id);$t&&console.error("    :",$t.message)}else{const{error:Ue}=await t.from("todos").insert([{text:$e,completed:!1,date:q,visible_dates:[q],hidden_dates:[],order_index:0,routine_id:pe.id,user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);Ue&&console.error("   :",Ue.message)}}}catch(fe){console.error("   :",fe.message)}finally{setTimeout(()=>{ae.current.delete(q)},1e3)}},ze=async()=>{const ie=Fe(new Date);await ke(ie)},Ge=async q=>{try{const{data:ie,error:fe}=await t.from("todos").select("*").eq("routine_id",q.id).eq("deleted",!1);if(fe)throw fe;const Ke=ie&&ie.length>0?ie[0]:null;if(Ke&&Ke.visible_dates){const Xe=Ke.visible_dates.sort().map(it=>({id:`${Ke.id}-${it}`,date:it,text:Ke.text,completed:Ke.completed,routine_id:Ke.routine_id}));ue(Xe)}else ue([]);G(q),N(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},Ae=()=>{N(!1),G(null),ue([])},Wt=()=>{v(!0),ve()},mt=()=>{v(!1),u(""),d([])},Ct=q=>{d(ie=>ie.includes(q)?ie.filter(fe=>fe!==q):[...ie,q])};return p.useEffect(()=>{e&&ve()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:h,selectedTimeSlot:f,isAddingRoutine:b,showRoutineModal:E,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:x,showRoutineHistory:O,selectedRoutineForHistory:M,routineHistoryData:ee,routineCreationInProgress:ae,setRoutineInput:u,setSelectedTimeSlot:m,fetchRoutines:ve,handleAddRoutine:U,handleDeleteRoutine:je,handleStartEditRoutine:V,handleSaveEditRoutine:Te,handleCancelEditRoutine:le,handleToggleEditDay:Ie,handleCreateRoutineFromTodo:H,createRoutineTodosForDate:ke,createRoutineTodos:ze,fetchRoutineHistory:Ge,handleCloseRoutineHistory:Ae,handleOpenRoutine:Wt,handleCloseRoutine:mt,handleToggleDay:Ct}},Lj=(e,t,n,a,i,s,r)=>{const[l,o]=p.useState(""),[u,h]=p.useState(""),[d,f]=p.useState(""),[m,b]=p.useState(!0),[S,E]=p.useState(!1),[v,g]=p.useState(!1),[y,w]=p.useState(null),[_,x]=p.useState(!1),[T,O]=p.useState(!1),[N,M]=p.useState(""),[G,ee]=p.useState(null),[ue,ae]=p.useState(!1),[ve,U]=p.useState([]),[H,V]=p.useState(null),[le,Te]=p.useState(!1),[Ie,je]=p.useState(!1),[ke,ze]=p.useState(null),[Ge,Ae]=p.useState({}),[Wt,mt]=p.useState([]),[Ct,q]=p.useState([]),[ie,fe]=p.useState(!1),[Ke,Xe]=p.useState(""),[it,xe]=p.useState(!1),[pe,$e]=p.useState(null),me=p.useRef(!1),be=A=>["sun","mon","tue","wed","thu","fri","sat"][A],Ve=async A=>{if(!me.current)try{me.current=!0;const{data:k,error:z}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(z)throw z;if(!k||k.length===0)return;const X=k.filter(P=>{const Q=new Date(P.created_at);return!(Fe(Q)>=A||(P.visible_dates||[]).includes(A)||(P.hidden_dates||[]).includes(A))});for(const P of X){const Q=[...P.visible_dates||[],A],{error:se}=await t.from("todos").update({visible_dates:Q}).eq("id",P.id);se&&console.error(` ${P.id}  :`,se.message)}}catch(k){console.error("  :",k.message)}finally{me.current=!1}},Ue=async()=>{if(!me.current)try{me.current=!0;const A=new Date,k=Fe(A),{data:z,error:X}=await t.from("todos").select("date").lt("date",k).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(X)throw X;if(!z||z.length===0)return;const P=new Date(z[0].date+"T00:00:00");let Q=new Date(P);const se=new Date(A);se.setDate(se.getDate()-1);let Ce=0;for(;Q<=se;){const Re=Fe(Q),ct=new Date(Q);ct.setDate(ct.getDate()+1);const Me=Fe(ct),{data:Mn,error:un}=await t.from("todos").select("*").eq("date",Re).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(un)throw un;if(Mn&&Mn.length>0){const{data:St,error:dn}=await t.from("todos").select("*").eq("date",Me).eq("deleted",!1).order("order_index",{ascending:!0});if(dn)throw dn;const ya=new Set;St==null||St.forEach($=>{$.original_todo_id!==null&&ya.add($.original_todo_id)});const D=Mn.filter($=>{const ge=$.original_todo_id||$.id;return!ya.has(ge)});if(D.length>0){const $=D.map(Tt=>Tt.original_todo_id||Tt.id).filter((Tt,hn,kn)=>kn.indexOf(Tt)===hn),{data:ge,error:_e}=await t.from("todos").select("id, created_at").in("id",$);if(_e)throw _e;const re={};ge==null||ge.forEach(Tt=>{re[Tt.id]=Tt.created_at});const Be=(St?St.length:0)+1,Ze=D.map((Tt,hn)=>{const kn=Tt.original_todo_id||Tt.id;return{text:Tt.text,completed:!1,date:Me,created_at:re[kn]||Tt.created_at,order_index:Be+hn,original_todo_id:kn,parent_id:null,routine_id:null}}),{error:Ft}=await t.from("todos").insert(Ze);if(Ft)throw Ft;Ce+=D.length}}Q.setDate(Q.getDate()+1)}Ce>0}catch(A){console.error("    :",A.message)}finally{me.current=!1}},zt=async(A,k)=>{var z;if(!k.current.has(A))try{k.current.add(A);const X=new Date(A),P=be(X.getDay()),{data:Q,error:se}=await t.from("routines").select("*").eq("deleted",!1);if(se)throw se;const Ce=Q.filter(Re=>{const ct=Re.days||[],Me=ct.length===0||ct.includes(P);if(Re.start_date){const Mn=new Date(Re.start_date),un=X>=Mn;return Me&&un}return Me});if(Ce.length===0)return;for(const Re of Ce){const ct=Re.text,{data:Me,error:Mn}=await t.from("todos").select("*").eq("routine_id",Re.id).eq("deleted",!1);if(Mn)throw Mn;if(Me&&Me.length>1){console.warn(` ${Re.id}    (${Me.length}).     .`);for(let St=1;St<Me.length;St++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Me[St].id)}const un=Me&&Me.length>0?Me[0]:null;if(un){const St=un.visible_dates||[];if(St.includes(A))continue;const dn=[...St,A].sort(),{error:ya}=await t.from("todos").update({visible_dates:dn}).eq("id",un.id);ya&&console.error("    :",ya.message)}else{const{error:St}=await t.from("todos").insert([{text:ct,completed:!1,date:A,visible_dates:[A],hidden_dates:[],order_index:0,routine_id:Re.id,user_id:(z=e==null?void 0:e.user)==null?void 0:z.id}]);St&&console.error("   :",St.message)}}}catch(X){console.error("   :",X.message)}finally{setTimeout(()=>{k.current.delete(A)},1e3)}},$t=async(A,k)=>{try{b(!0);const z=Fe(n);A&&await Ve(z),await zt(z,k);const{data:X,error:P}=await t.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(P)throw P;const Q=(X||[]).filter(se=>se.hidden_dates&&Array.isArray(se.hidden_dates)&&se.hidden_dates.includes(z)?!1:se.visible_dates&&Array.isArray(se.visible_dates)&&se.visible_dates.length>0?se.visible_dates.includes(z):se.date===z);i(Q)}catch(z){console.error("   :",z.message)}finally{b(!1)}},na=async()=>{try{const{data:A,error:k}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(k)throw k;U(A||[])}catch(A){console.error("  :",A.message)}},da=async()=>{var A;if(!(l.trim()===""||v))try{g(!0);const k=a.length>0?Math.max(...a.map(Q=>Q.order_index))+1:1,z=Fe(n),{data:X,error:P}=await t.from("todos").insert([{text:l,completed:!1,order_index:k,date:z,visible_dates:[z],hidden_dates:[],user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(P)throw P;i([...a,X[0]]),o("")}catch(k){console.error("   :",k.message)}finally{g(!1)}},Pt=async()=>{var A,k;if(!(u.trim()===""||v))try{g(!0);const z=Fe(n),{data:X,error:P}=await t.from("routines").insert([{text:u,days:[],start_date:z,user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(P)throw P;const Q=X[0],se=a.filter(Me=>!Me.parent_id&&Me.is_pending_routine),Ce=se.length>0?Math.max(...se.map(Me=>Me.order_index))+1:1,{data:Re,error:ct}=await t.from("todos").insert([{text:u,completed:!1,order_index:Ce,date:z,visible_dates:[z],hidden_dates:[],routine_id:Q.id,is_pending_routine:!0,user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]).select();if(ct)throw ct;r([Q,...s]),i([...a,Re[0]]),h("")}catch(z){console.error("   :",z.message)}finally{g(!1)}},en=async()=>{var A;if(!(d.trim()===""||v))try{g(!0);const k=a.filter(se=>!se.parent_id&&se.routine_id===null),z=k.length>0?Math.max(...k.map(se=>se.order_index))+1:1,X=Fe(n),{data:P,error:Q}=await t.from("todos").insert([{text:d,completed:!1,order_index:z,date:X,visible_dates:[X],hidden_dates:[],user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(Q)throw Q;i([...a,P[0]]),f("")}catch(k){console.error("   :",k.message)}finally{g(!1)}},It=async A=>{const k=a.find(z=>z.id===A);if(k)try{const z=!k.completed,X=z?new Date().toISOString():null,{error:P}=await t.from("todos").update({completed:z,completed_at:X}).eq("id",A);if(P)throw P;i(a.map(Q=>Q.id===A?{...Q,completed:z,completed_at:X}:Q))}catch(z){console.error("   :",z.message)}},$a=A=>{i(a.filter(k=>k.id!==A))},gt=async A=>{var P;const k=a.find(Q=>Q.id===A);if(!k)return;const z=((P=k.visible_dates)==null?void 0:P.length)>0?k.visible_dates:[k.date||k.created_date],X=k.original_todo_id!==null&&k.original_todo_id!==void 0;z.length>1||X?($e(k),xe(!0)):await ha(A)},ha=async A=>{try{const k=a.find(P=>P.id===A);if(!k)return;w(k);const z=Fe(n),{error:X}=await t.from("todos").update({deleted:!0,deleted_date:z}).eq("id",A);if(X)throw X;i(a.filter(P=>P.id!==A)),x(!0),setTimeout(()=>{x(!1),w(null)},5e3)}catch(k){console.error("   :",k.message)}};return{inputValue:l,setInputValue:o,routineInputValue:u,setRoutineInputValue:h,normalInputValue:d,setNormalInputValue:f,loading:m,isDraggingAny:S,isAdding:v,deletedTodo:y,showUndoToast:_,showSuccessToast:T,successToastMessage:N,lastDeleteAction:G,showTrashModal:ue,trashedItems:ve,focusedTodoId:H,setFocusedTodoId:V,showTodoHistoryModal:le,showTodoRoutineSetupModal:Ie,selectedTodoForModal:ke,todoHistory:Ge,expandedHistoryIds:Wt,routineDaysForModal:Ct,setRoutineDaysForModal:q,isEditingRoutineInModal:ie,setIsEditingRoutineInModal:fe,routineTimeSlotForModal:Ke,setRoutineTimeSlotForModal:Xe,showDeleteConfirmModal:it,setShowDeleteConfirmModal:xe,todoToDelete:pe,setTodoToDelete:$e,carryOverInProgress:me,fetchTodos:$t,handleAddTodo:da,handleAddRoutineTodo:Pt,handleAddNormalTodo:en,handleToggleTodo:It,handleDeleteTodo:gt,executeSimpleDelete:ha,hideOnThisDateOnly:async A=>{try{const k=Fe(n),X=[...A.hidden_dates||[],k],{error:P}=await t.from("todos").update({hidden_dates:X}).eq("id",A.id);if(P)throw P;i(a.filter(Q=>Q.id!==A.id)),xe(!1),$e(null)}catch(k){console.error(" :",k.message)}},deleteCompletely:async A=>{try{const k=Fe(n),{error:z}=await t.from("todos").update({deleted:!0,deleted_date:k}).eq("id",A.id);if(z)throw z;i(a.filter(X=>X.id!==A.id)),xe(!1),$e(null)}catch(k){console.error(" :",k.message)}},handleUndoDelete:async()=>{if(y)try{const{error:A}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",y.id);if(A)throw A;i(k=>{const z={...y,deleted:!1,deleted_date:null};return[...k,z].sort((P,Q)=>P.order_index-Q.order_index)}),x(!1),w(null)}catch(A){console.error("  :",A.message)}},handleRestoreFromTrash:async A=>{if(window.confirm(`  ?

      .`))try{const{error:z}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",A);if(z)throw z;U(ve.filter(X=>X.id!==A)),alert(" !")}catch(z){console.error(" :",z.message),alert("  : "+z.message)}},handlePermanentDelete:async A=>{if(window.confirm(`     ?

    .`))try{const{error:z}=await t.from("todos").delete().eq("id",A);if(z)throw z;U(ve.filter(X=>X.id!==A)),alert("  .")}catch(z){console.error("  :",z.message),alert("   : "+z.message)}},handleEditTodo:async(A,k,z)=>{var X,P;try{let Q=null;z.current.add(A);const se=new Date().toISOString();if(i(ct=>(Q=ct.find(Me=>Me.id===A),!Q||Q.text===k?(z.current.delete(A),ct):ct.map(Me=>Me.id===A?{...Me,text:k,updated_at:se}:Me))),!Q||Q.text===k)return;const{error:Ce}=await t.from("todo_history").insert([{todo_id:A,previous_text:Q.text,new_text:k,changed_on_date:Q.date,user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]);if(Ce&&console.error("  :",Ce.message),Q.original_todo_id){const{data:ct,error:Me}=await t.from("todos").select("text, date").eq("id",Q.original_todo_id).single();!Me&&ct&&await t.from("todo_history").insert([{todo_id:Q.original_todo_id,previous_text:Q.text,new_text:k,changed_on_date:Q.date,user_id:(P=e==null?void 0:e.user)==null?void 0:P.id}])}const{error:Re}=await t.from("todos").update({text:k}).eq("id",A);Re?(console.error("   :",Re.message),i(ct=>ct.map(Me=>Me.id===A?Q:Me)),z.current.delete(A)):setTimeout(()=>{z.current.delete(A)},5e3)}catch(Q){console.error("   :",Q.message),z.current.delete(A)}},handleAddSubTodo:async(A,k)=>{var z;if(!(!k||k.trim()===""))try{const P=a.filter(Re=>Re.parent_id===A).length+1,Q=Fe(n),{data:se,error:Ce}=await t.from("todos").insert([{text:k.trim(),completed:!1,order_index:P,date:Q,parent_id:A,user_id:(z=e==null?void 0:e.user)==null?void 0:z.id}]).select();if(Ce)throw Ce;i([...a,se[0]])}catch(X){console.error("    :",X.message)}},handleDragEnd:async(A,k)=>{E(!1);const{active:z,over:X}=A;if(!X||z.id===X.id)return;const P=a.findIndex(Ce=>Ce.id===z.id),Q=a.findIndex(Ce=>Ce.id===X.id),se=k(a,P,Q);i(se);try{const Ce=se.map((Re,ct)=>({id:Re.id,order_index:ct+1}));for(const Re of Ce)await t.from("todos").update({order_index:Re.order_index}).eq("id",Re.id)}catch(Ce){console.error("  :",Ce.message)}},carryOverIncompleteTodos:Ve,movePastIncompleteTodosToToday:Ue,fetchTrash:na,handleEmptyTrash:async()=>{if(!(ve.length===0||!window.confirm(`   ?

${ve.length}   .
    .`)))try{const k=ve.map(X=>X.id),{error:z}=await t.from("todos").delete().in("id",k);if(z)throw z;U([]),alert(` ${k.length}   .`)}catch(k){console.error("  :",k.message),alert("   : "+k.message)}},handleRemoveTodoFromUI:$a,handleOpenTrash:()=>{ae(!0),na()},handleCloseTrash:()=>{ae(!1)},handleDragStart:()=>{E(!0)},handleDragCancel:()=>{E(!1)},handleOpenTodoHistoryModal:async A=>{ze(A);try{const{data:k,error:z}=await t.from("todo_history").select("*").eq("todo_id",A.id).order("changed_at",{ascending:!1});if(z)throw z;Ae(X=>({...X,[A.id]:k||[]}))}catch(k){console.error("Error fetching history:",k)}Te(!0)},handleCloseTodoHistoryModal:()=>{Te(!1),ze(null),mt([])},handleOpenTodoRoutineSetupModal:A=>{ze(A);const k=s.find(z=>z.id===A.routine_id);k?(q(k.days||[]),Xe(k.time_slot||""),fe(!1)):(q([]),Xe(""),fe(!0)),je(!0)},toggleHistoryDetail:A=>{mt(k=>k.includes(A)?k.filter(z=>z!==A):[...k,A])}}};function lo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:i,listeners:s,setNodeRef:r,transform:l,transition:o,isDragging:u}=_f({id:e,disabled:n}),h=p.useRef(null),[d,f]=p.useState(!1),m=_=>{if(n&&a){if(!_.target.closest(".section-header"))return;f(!0),h.current=setTimeout(()=>{a(),f(!1)},500)}},b=()=>{h.current&&(clearTimeout(h.current),h.current=null,f(!1))},S=()=>{h.current&&(clearTimeout(h.current),h.current=null),f(!1)},E=()=>{h.current&&(clearTimeout(h.current),h.current=null),f(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},y=n?{onPointerDown:m,onPointerMove:b,onPointerUp:S,onPointerCancel:E,onPointerLeave:E}:{...i,...s},w=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:g,className:w,...y,children:t})}function Bj(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=vj(),[i,s]=p.useState(new Date),[r,l]=p.useState(!1),o=p.useRef(new Set),[u,h]=p.useState([]),{showRoutineModal:d,routines:f,setRoutines:m,routineInput:b,setRoutineInput:S,selectedDays:E,selectedTimeSlot:v,setSelectedTimeSlot:g,isAddingRoutine:y,editingRoutineId:w,editingRoutineText:_,setEditingRoutineText:x,showRoutineHistory:T,selectedRoutineForHistory:O,routineHistoryData:N,editingRoutineDays:M,handleAddRoutine:G,handleCreateRoutineFromTodo:ee,handleStartEditRoutine:ue,handleCancelEditRoutine:ae,handleSaveEditRoutine:ve,handleToggleEditDay:U,handleDeleteRoutine:H,fetchRoutineHistory:V,handleCloseRoutineHistory:le,handleOpenRoutine:Te,handleCloseRoutine:Ie,handleToggleDay:je}=$j({session:e,supabase:W,selectedDate:i,setTodos:h,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{routineInputValue:ke,setRoutineInputValue:ze,normalInputValue:Ge,setNormalInputValue:Ae,loading:Wt,isDraggingAny:mt,isAdding:Ct,showUndoToast:q,showSuccessToast:ie,successToastMessage:fe,lastDeleteAction:Ke,showTrashModal:Xe,trashedItems:it,focusedTodoId:xe,showDeleteConfirmModal:pe,setShowDeleteConfirmModal:$e,todoToDelete:me,showSuccessMessage:be,handleUndoRoutineDelete:Ve,fetchTodos:Ue,handleToggleTodo:zt,handleDeleteTodo:$t,createRoutineTodos:na,handleFocusTodo:da,handleAddSubTodo:Pt,handleEditTodo:en,handleDragStart:It,handleDragCancel:$a,handleDragEnd:gt}=Lj(e,W,i,u,h,f,m),[ha,_t]=p.useState([]),[fa,Kn]=p.useState(!1),[ma,pi]=p.useState(!1),[Ji,or]=p.useState(!1),{memoContent:ga,setMemoContent:La,isSavingMemo:wt,isEditingMemoInline:yt,memoTextareaRef:Lt,handleStartEditMemoInline:_n,handleSaveMemoInline:Gt,handleCancelEditMemoInline:Bt,handleMemoKeyDown:tn}=kj(e),{keyThoughtsBlocks:nn,setKeyThoughtsBlocks:A,focusedBlockId:k,setFocusedBlockId:z,keyThoughtsHistory:X,showKeyThoughtsHistory:P,setShowKeyThoughtsHistory:Q,fetchKeyThoughtsHistory:se,restoreKeyThoughtsVersion:Ce}=Uj(e),[Re,ct]=p.useState(!1),[Me,Mn]=p.useState([]),[un,St]=p.useState("1week"),[dn,ya]=p.useState([]),[D,$]=p.useState(!1),[ge,_e]=p.useState(""),[re,Oe]=p.useState(null),[Be,Ze]=p.useState(""),[Ft,Tt]=p.useState(!1),[hn,kn]=p.useState(""),[cr,Sf]=p.useState(!1),[ur,Hj]=p.useState(!1),[Dl,qj]=p.useState(null),[Db,Yj]=p.useState({}),[xf,Vj]=p.useState([]),[Hc,Ab]=p.useState([]),[qc,Cb]=p.useState(!1),[Yc,Ef]=p.useState(""),[Ba,Rb]=p.useState(()=>localStorage.getItem("viewMode")||"horizontal"),Mb=Mj(e),{sectionOrder:Tf,isReorderMode:dr,setIsReorderMode:hr,handleSectionDragEnd:kb,handleSectionsContainerDoubleClick:Ub}=Mb,Zi=p.useRef(null),[zb,$b]=p.useState(0),Vc=p.useRef(null),Al=()=>{if(dn.length===0)return"";const j=Math.floor(Math.random()*dn.length);return dn[j]},Lb=()=>{Tt(!0);let j=Al(),Y=0;for(;j===hn&&dn.length>1&&Y<10;)j=Al(),Y++;setTimeout(()=>{Tt(!1),kn(j)},1e3)},Bb=async()=>{try{const j=`DUMMY-${Date.now()}`,Y=new Date(2025,10,16),R=[],K=[],L="2025-11-14";R.push({text:`[${j}] : 14--`,date:L,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${j}] : 14-14`,date:L,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${j}] : 14-15`,date:L,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${j}] : 14-16`,date:L,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const B="2025-11-15";R.push({text:`[${j}] : 15--`,date:B,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${j}] : 15-15`,date:B,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${j}] : 15-16`,date:B,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const F="2025-11-16";R.push({text:`[${j}] : 16-`,date:F,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${j}] : 16-16`,date:F,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),R.push({text:`[${j}] : 14-15-`,date:B,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${j}] : 14-15-15`,date:B,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),R.push({text:`[${j}] : 15-16-`,date:F,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${j}] : 15-16-16`,date:F,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${j}] : 14-16-`,date:F,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${j}] : 14-16-16`,date:F,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const I="2025-11-17";R.push({text:`[${j}] : 16-17-`,date:I,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${j}] : 15-17-`,date:I,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${j}] : 14-17-`,date:I,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const ye="2025-11-18";R.push({text:`[${j}] : 16-18-`,date:ye,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${j}] : 15-18-`,date:ye,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:de,error:oe}=await W.from("todos").insert(R).select();if(oe)throw oe;const ht=de.find(He=>He.text.includes("14--"));ht&&K.push({todo_id:ht.id,previous_text:`[${j}] : 14--1`,new_text:`[${j}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:B},{todo_id:ht.id,previous_text:`[${j}] : 14--2`,new_text:`[${j}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:F});const Le=de.find(He=>He.text.includes("15--"));if(Le&&K.push({todo_id:Le.id,previous_text:`[${j}] : 15--1`,new_text:`[${j}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:F}),K.length>0){const{error:He}=await W.from("todo_history").insert(K);He&&console.error("  :",He.message)}_t(He=>[...He,{sessionId:j,createdAt:new Date().toISOString(),count:R.length,historyCount:K.length}]),alert(`    !
: ${R.length}
: ${K.length}
 ID: ${j}`),Ue()}catch(j){console.error("   :",j.message),alert("    : "+j.message)}},Hb=async j=>{if(window.confirm(`   "${j}"   ?

      ,     .`))try{const{data:R,error:K}=await W.from("todos").select("id").like("text",`[${j}]%`);if(K)throw K;if(R&&R.length>0){const B=R.map(I=>I.id),{error:F}=await W.from("todo_history").delete().in("todo_id",B);F&&console.error("  :",F.message)}const{error:L}=await W.from("todos").delete().like("text",`[${j}]%`);if(L)throw L;_t(B=>B.filter(F=>F.sessionId!==j)),alert(`  ${j}  !`),Ue()}catch(R){console.error("   :",R.message),alert("    : "+R.message)}},qb=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:Y,error:R}=await W.from("todos").select("id").like("text","[DUMMY-%");if(R)throw R;if(Y&&Y.length>0){const L=Y.map(F=>F.id),{error:B}=await W.from("todo_history").delete().in("todo_id",L);B&&console.error("  :",B.message)}const{error:K}=await W.from("todos").delete().like("text","[DUMMY-%");if(K)throw K;_t([]),alert("     !"),Ue()}catch(Y){console.error("    :",Y.message),alert("     : "+Y.message)}},Yb=async()=>{try{const{data:j,error:Y}=await W.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(Y)throw Y;if(!j||j.length===0){alert(" .");return}const R={};j.forEach(oe=>{R[oe.text]||(R[oe.text]=[]),R[oe.text].push(oe)});const K=Object.entries(R).filter(([oe,ht])=>ht.length>1);if(K.length===0){alert("  .");return}let L=`  :

`,B=[];if(K.forEach(([oe,ht])=>{L+=`"${oe}" - ${ht.length}
`;const Le=ht.slice(1);B.push(...Le),Le.forEach(ut=>{const aa=new Date(ut.created_at).toLocaleString("ko-KR");L+=`    : ${aa}
`});const He=ht[0],vt=new Date(He.created_at).toLocaleString("ko-KR");L+=`   : ${vt}

`}),L+=`
 ${B.length}   .`,!window.confirm(L+`

     ,     .

?`))return;const I=B.map(oe=>oe.id),{error:ye}=await W.from("todo_history").delete().in("todo_id",I);ye&&console.error("  :",ye.message);const{error:de}=await W.from("todos").delete().in("id",I);if(de)throw de;alert(` ${B.length}   .`),Ue()}catch(j){console.error("   :",j.message),alert("    : "+j.message)}},Vb=()=>{const j=new Date(i);j.setDate(j.getDate()-1),s(j)},Ib=()=>{const j=new Date(i);j.setDate(j.getDate()+1),s(j)},Gb=j=>{const Y=new Date(j.target.value+"T00:00:00");s(Y)},Kb=async(j,Y)=>{try{const R=Fe(j),K=Fe(Y),{data:L,error:B}=await W.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(B)throw B;const F=(L||[]).filter(I=>I.hidden_dates&&Array.isArray(I.hidden_dates)&&I.hidden_dates.includes(R)?!1:I.visible_dates&&Array.isArray(I.visible_dates)&&I.visible_dates.length>0?I.visible_dates.includes(R):I.date===R);if(F.length===0)return;for(const I of F){let ye=I.visible_dates||[I.date];if(ye.includes(K))continue;const de=[...ye,K].sort(),{error:oe}=await W.from("todos").update({visible_dates:de}).eq("id",I.id);oe&&console.error(` ${I.id}  :`,oe.message)}}catch(R){console.error("   :",R.message)}};p.useEffect(()=>{let j=null;const Y=()=>{document.body.classList.add("is-scrolling"),j&&clearTimeout(j),j=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",Y),()=>{window.removeEventListener("scroll",Y),j&&clearTimeout(j)}},[]),p.useEffect(()=>{e&&Cl()},[e]),p.useEffect(()=>{dn.length>0&&!hn&&kn(Al())},[dn]),p.useEffect(()=>{if(!Zi.current)return;const j=Zi.current,Y=Ba==="horizontal";let R=!1,K=0,L=0,B=0;const F=Le=>Le.type.includes("touch")?Y?Le.touches[0].pageX:Le.touches[0].pageY:Y?Le.pageX:Le.pageY,I=Le=>{Le.target.closest(".section-block")||(R=!0,K=F(Le),L=Y?j.scrollLeft:j.scrollTop,j.style.transition="none",j.style.transform=Y?"translateX(0)":"translateY(0)",B=0)},ye=()=>{R&&B!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=Y?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",B=0},300)),R=!1},de=()=>{B!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=Y?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",B=0},300)),R=!1},oe=Le=>{if(!R)return;Le.preventDefault();const vt=(F(Le)-K)*1.5,ut=L-vt,aa=Y?j.scrollWidth-j.clientWidth:j.scrollHeight-j.clientHeight;if(ut<0){const Pi=-ut;B=Math.min(Pi*.3,100),Y?(j.scrollLeft=0,j.style.transform=`translateX(${B}px)`):(j.scrollTop=0,j.style.transform=`translateY(${B}px)`)}else if(ut>aa){const Pi=ut-aa;B=-Math.min(Pi*.3,100),Y?(j.scrollLeft=aa,j.style.transform=`translateX(${B}px)`):(j.scrollTop=aa,j.style.transform=`translateY(${B}px)`)}else B=0,j.style.transform=Y?"translateX(0)":"translateY(0)",Y?j.scrollLeft=ut:j.scrollTop=ut},ht=Le=>{Y&&Le.target.closest(".section-block")&&Le.deltaX!==0&&Le.preventDefault()};return j.addEventListener("mousedown",I),document.addEventListener("mouseup",de),document.addEventListener("mouseleave",ye),j.addEventListener("mousemove",oe),j.addEventListener("touchstart",I,{passive:!0}),j.addEventListener("touchmove",oe,{passive:!1}),j.addEventListener("touchend",de),j.addEventListener("touchcancel",de),j.addEventListener("wheel",ht,{passive:!1}),()=>{j.removeEventListener("mousedown",I),document.removeEventListener("mouseup",de),document.removeEventListener("mouseleave",ye),j.removeEventListener("mousemove",oe),j.removeEventListener("touchstart",I),j.removeEventListener("touchmove",oe),j.removeEventListener("touchend",de),j.removeEventListener("touchcancel",de),j.removeEventListener("wheel",ht)}},[Ba,u,f]),p.useEffect(()=>{if(Ba!=="horizontal"||!Zi.current)return;const j=Zi.current,Y=()=>{const R=j.querySelectorAll(".section-block");if(R.length===0)return;const K=j.getBoundingClientRect(),L=K.left+K.width/2;let B=0,F=1/0;R.forEach((I,ye)=>{const de=I.getBoundingClientRect(),oe=de.left+de.width/2,ht=Math.abs(oe-L);ht<F&&(F=ht,B=ye)}),$b(B)};return j.addEventListener("scroll",Y),Y(),()=>j.removeEventListener("scroll",Y)},[Ba,u,f]),p.useEffect(()=>{if(!Vc.current)return;const j=Vc.current;let Y=!1,R=0,K=0,L=0;const B=de=>{de.target.closest(".section-block")||(Y=!0,R=de.pageY,K=j.scrollTop,j.style.transition="none",j.style.transform="translateY(0)",L=0)},F=()=>{Y&&L!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",L=0},300)),Y=!1},I=()=>{L!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",L=0},300)),Y=!1},ye=de=>{if(!Y)return;de.preventDefault();const ht=(de.pageY-R)*1.5,Le=K-ht,He=j.scrollHeight-j.clientHeight;if(Le<0){const vt=-Le;L=Math.min(vt*.3,100),j.scrollTop=0,j.style.transform=`translateY(${L}px)`}else if(Le>He){const vt=Le-He;L=-Math.min(vt*.3,100),j.scrollTop=He,j.style.transform=`translateY(${L}px)`}else L=0,j.style.transform="translateY(0)",j.scrollTop=Le};return j.addEventListener("mousedown",B),document.addEventListener("mouseup",I),document.addEventListener("mouseleave",F),j.addEventListener("mousemove",ye),()=>{j.removeEventListener("mousedown",B),document.removeEventListener("mouseup",I),document.removeEventListener("mouseleave",F),j.removeEventListener("mousemove",ye)}},[u,f]),p.useEffect(()=>{Re&&fetchGanttData()},[un]),p.useEffect(()=>{const j=async()=>{const R=new Date,K=new Date(R);K.setHours(24,0,0,0);const L=K.getTime()-R.getTime();return setTimeout(async()=>{const F=new Date(R),I=new Date(R);I.setDate(I.getDate()+1),await Kb(F,I),await na(),s(new Date),j()},L)},Y=j();return()=>clearTimeout(Y)},[]),p.useEffect(()=>{Ue();const j=Fe(i),Y=W.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${j}`},R=>{R.eventType==="INSERT"?h(K=>K.some(B=>B.id===R.new.id)?K:[...K,R.new].sort((B,F)=>B.order_index-F.order_index)):R.eventType==="UPDATE"?h(K=>o.current.has(R.new.id)?K:K.map(L=>L.id===R.new.id?R.new:L).sort((L,B)=>L.order_index-B.order_index)):R.eventType==="DELETE"&&h(K=>K.filter(L=>L.id!==R.old.id))}).subscribe(R=>{});return()=>{W.removeChannel(Y)}},[i]),p.useEffect(()=>{if(mt){const j=window.scrollY,Y=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${j}px`,document.body.style.left="0",document.body.style.right="0",Y>0&&(document.body.style.paddingRight=`${Y}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,j)}}},[mt]);const Cl=async()=>{try{const{data:j,error:Y}=await W.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(Y)throw Y;if(j&&j.length>0){const R=j.map(K=>K.message);ya(R),hn||kn(R[0])}}catch(j){console.error("   :",j.message)}},Xb=async j=>{var Y;try{const{data:R}=await W.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),K=R&&R.length>0?R[0].order_index:0,{error:L}=await W.from("encouragement_messages").insert([{message:j,order_index:K+1,user_id:(Y=e==null?void 0:e.user)==null?void 0:Y.id}]);if(L)throw L;await Cl()}catch(R){console.error("   :",R.message),alert("   .")}},Qb=async(j,Y)=>{try{const{data:R}=await W.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!R||j>=R.length)throw new Error("   .");const K=R[j],{error:L}=await W.from("encouragement_messages").update({message:Y}).eq("id",K.id);if(L)throw L;await Cl()}catch(R){console.error("   :",R.message),alert("   .")}},Jb=async j=>{try{const{data:Y}=await W.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!Y||j>=Y.length)throw new Error("   .");const R=Y[j],{error:K}=await W.from("encouragement_messages").delete().eq("id",R.id);if(K)throw K;await Cl()}catch(Y){console.error("   :",Y.message),alert("   .")}},jf=Rj({authLoading:t,session:e,handleGoogleLogin:n});return jf||c.jsxs("div",{className:`app ${mt?"dragging-active":""}`,children:[c.jsx(pj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:Ba,setViewMode:Rb,onOpenTrash:handleOpenTrash,onOpenRoutine:Te,onOpenMemo:handleOpenMemo,onScrollToKeyThoughts:()=>{const j=document.querySelector(".key-thoughts-section");j&&j.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:handleOpenGanttChart,onOpenEncouragementModal:()=>$(!0),onOpenDummyModal:()=>Kn(!0),onLogout:a}),c.jsxs("div",{className:`container ${Ba==="horizontal"?"container-wide":""}`,children:[c.jsx(_j,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:Gb,onPrevDay:Vb,onNextDay:Ib,showEncouragementEmoji:Ft,currentEncouragementMessage:hn,getRandomEncouragement:Al,onEncouragementClick:Lb,isReorderMode:dr,setIsReorderMode:hr,setSelectedDate:s}),c.jsxs("div",{className:"content-scrollable",ref:Vc,children:[c.jsx(eh,{sensors,collisionDetection:Zd,onDragStart:It,onDragEnd:gt,onDragCancel:$a,children:c.jsx("div",{className:"todo-list",children:Wt?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const j=u.filter(K=>!K.parent_id&&K.routine_id!==null&&!K.is_pending_routine),Y=u.filter(K=>!K.parent_id&&K.is_pending_routine),R=u.filter(K=>!K.parent_id&&K.routine_id===null&&!K.is_pending_routine);return c.jsx(eh,{sensors:sectionSensors,collisionDetection:Zd,onDragEnd:kb,children:c.jsx(jr,{items:Tf,strategy:tj,children:c.jsx("div",{ref:Zi,className:`sections-container ${Ba==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:Ub,children:Tf.map(K=>K==="memo"?c.jsx(lo,{id:"memo",disabled:!dr,onLongPress:()=>hr(!0),children:c.jsxs(Tj,{title:"  ",className:"memo-section section-block",content:ga,setContent:La,isEditing:yt,isSaving:wt,textareaRef:Lt,onStartEdit:_n,onSave:Gt,onCancel:Bt,onKeyDown:tn,placeholder:" ...",emptyMessage:" ",children:[!yt&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>pi(!ma),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.1)",L.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.05)",L.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:ma?"":""})]})}),ma&&!yt&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const L=new Date,B=Rl=>{const bi=new Date(L);return bi.setDate(bi.getDate()+Rl),bi.toISOString().split("T")[0]},F=Rl=>{const bi=new Date(L);return bi.setDate(bi.getDate()+Rl),bi.getDate()},I=Date.now(),ye=F(-2),de=F(-1),oe=F(0),ht=F(1),Le=F(2),He=B(-2),vt=B(-1),ut=B(0),aa=B(1),Pi=B(2),Zb=`--         (${ut} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${ye}--', '${He}', false, '${He}T09:00:00+09:00', 1001),
  ('[DUMMY-${I}] : ${ye}-${ye}', '${He}', true, '${He}T09:10:00+09:00', 1002),
  ('[DUMMY-${I}] : ${ye}-${de}', '${He}', true, '${He}T09:20:00+09:00', 1003),
  ('[DUMMY-${I}] : ${ye}-${oe}', '${He}', true, '${He}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${de}--', '${vt}', false, '${vt}T10:00:00+09:00', 1005),
  ('[DUMMY-${I}] : ${de}-${de}', '${vt}', true, '${vt}T10:10:00+09:00', 1006),
  ('[DUMMY-${I}] : ${de}-${oe}', '${vt}', true, '${vt}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${oe}-', '${ut}', false, '${ut}T11:00:00+09:00', 1008),
  ('[DUMMY-${I}] : ${oe}-${oe}', '${ut}', true, '${ut}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${ye}-${de}-', '${vt}', false, '${He}T14:00:00+09:00', 1010),
  ('[DUMMY-${I}] : ${ye}-${de}-${de}', '${vt}', true, '${He}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${de}-${oe}-', '${ut}', false, '${vt}T15:00:00+09:00', 1012),
  ('[DUMMY-${I}] : ${de}-${oe}-${oe}', '${ut}', true, '${vt}T15:10:00+09:00', 1013),
  ('[DUMMY-${I}] : ${ye}-${oe}-', '${ut}', false, '${He}T15:00:00+09:00', 1014),
  ('[DUMMY-${I}] : ${ye}-${oe}-${oe}', '${ut}', true, '${He}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${oe}-${ht}-', '${aa}', false, '${ut}T16:00:00+09:00', 1016),
  ('[DUMMY-${I}] : ${de}-${ht}-', '${aa}', false, '${vt}T16:00:00+09:00', 1017),
  ('[DUMMY-${I}] : ${ye}-${ht}-', '${aa}', false, '${He}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${I}] : ${oe}-${Le}-', '${Pi}', false, '${ut}T17:00:00+09:00', 1019),
  ('[DUMMY-${I}] : ${de}-${Le}-', '${Pi}', false, '${vt}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${I}] : ${ye}--1', '[DUMMY-${I}] : ${ye}--2', '${vt}T12:00:00+09:00', '${vt}'
FROM todos WHERE text = '[DUMMY-${I}] : ${ye}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${I}] : ${ye}--2', '[DUMMY-${I}] : ${ye}--', '${ut}T12:00:00+09:00', '${ut}'
FROM todos WHERE text = '[DUMMY-${I}] : ${ye}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${I}] : ${de}--1', '[DUMMY-${I}] : ${de}--', '${ut}T13:00:00+09:00', '${ut}'
FROM todos WHERE text = '[DUMMY-${I}] : ${de}--' LIMIT 1;`,Fi=document.createElement("textarea");Fi.value=Zb,Fi.style.position="fixed",Fi.style.opacity="0",document.body.appendChild(Fi),Fi.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(Fi)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const L=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,B=document.createElement("textarea");B.value=L,B.style.position="fixed",B.style.opacity="0",document.body.appendChild(B),B.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(B)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):K==="routine"?c.jsx(lo,{id:"routine",disabled:!dr,onLongPress:()=>hr(!0),children:c.jsxs(Gg,{title:" ",className:"routine-section section-block",inputValue:ke,setInputValue:ze,onAddTodo:handleAddRoutineTodo,isAdding:Ct,placeholder:"   ...",children:[j.length>0&&c.jsx(jr,{items:j.map(L=>L.id),strategy:To,children:j.map((L,B)=>{const F=u.filter(I=>I.parent_id===L.id);return c.jsx(jo,{todo:L,index:B,onToggle:zt,onDelete:$t,onEdit:en,formatDate:xi,formatDateOnly:ia,isFocused:xe===L.id,onFocus:da,onAddSubTodo:Pt,subtodos:F,level:0,onCreateRoutine:ee,routines:f,onShowRoutineHistory:V,onOpenRoutineSetupModal:handleOpenTodoRoutineSetupModal,onOpenHistoryModal:handleOpenTodoHistoryModal,currentPageDate:Fe(i),onRemoveFromUI:handleRemoveTodoFromUI,showSuccessMessage:be},L.id)})}),j.length>0&&Y.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),Y.length>0&&c.jsx(jr,{items:Y.map(L=>L.id),strategy:To,children:Y.map((L,B)=>{const F=u.filter(I=>I.parent_id===L.id);return c.jsx(jo,{todo:L,index:B,onToggle:zt,onDelete:$t,onEdit:en,formatDate:xi,formatDateOnly:ia,isFocused:xe===L.id,onFocus:da,onAddSubTodo:Pt,subtodos:F,level:0,onCreateRoutine:ee,routines:f,onShowRoutineHistory:V,onOpenRoutineSetupModal:handleOpenTodoRoutineSetupModal,onOpenHistoryModal:handleOpenTodoHistoryModal,currentPageDate:Fe(i),isPendingRoutine:!0,onRemoveFromUI:handleRemoveTodoFromUI,showSuccessMessage:be},L.id)})})]})},"routine"):K==="normal"?c.jsx(lo,{id:"normal",disabled:!dr,onLongPress:()=>hr(!0),children:c.jsx(Gg,{title:"  ",className:"normal-section section-block",inputValue:Ge,setInputValue:Ae,onAddTodo:handleAddNormalTodo,isAdding:Ct,placeholder:"   ...",children:R.length>0&&c.jsx(jr,{items:R.map(L=>L.id),strategy:To,children:R.map((L,B,F)=>{const I=u.filter(He=>He.parent_id===L.id),ye=Fe(i),de=L.created_at?L.created_at.split("T")[0]:L.date,oe=F[B+1],ht=oe?oe.created_at?oe.created_at.split("T")[0]:oe.date:null,Le=de<ye&&ht>=ye;return c.jsxs(nt.Fragment,{children:[c.jsx(jo,{todo:L,index:B,onToggle:zt,onDelete:$t,onEdit:en,formatDate:xi,formatDateOnly:ia,isFocused:xe===L.id,onFocus:da,onAddSubTodo:Pt,subtodos:I,level:0,onCreateRoutine:ee,routines:f,onShowRoutineHistory:V,onOpenRoutineSetupModal:handleOpenTodoRoutineSetupModal,onOpenHistoryModal:handleOpenTodoHistoryModal,currentPageDate:ye,onRemoveFromUI:handleRemoveTodoFromUI,showSuccessMessage:be}),Le&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},L.id)})})})},"normal"):K==="key-thoughts"?c.jsx(lo,{id:"key-thoughts",disabled:!dr,onLongPress:()=>hr(!0),children:c.jsx(jj,{blocks:nn,setBlocks:A,focusedBlockId:k,setFocusedBlockId:z,onShowHistory:()=>{se(),Q(!0)}})},"key-thoughts"):null)})})})})()})}),c.jsx(wj,{viewMode:Ba,currentSectionIndex:zb,sectionsContainerRef:Zi})]}),q&&c.jsx(Ig,{message:"",onUndo:handleUndoDelete}),ie&&c.jsx(Ig,{message:fe,onUndo:Ke?Ve:null,variant:"success"}),pe&&me&&c.jsx("div",{className:"modal-overlay",onClick:()=>$e(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>$e(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:me.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>hideOnThisDateOnly(me),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>deleteCompletely(me),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),cr&&Dl&&(()=>{const j=Dl,Y=j.visible_dates&&j.visible_dates.length>0?j.visible_dates:[j.date],R=Y[0],K=Y.map(B=>({id:`${j.id}-${B}`,date:B})),L=Db[j.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:handleCloseTodoHistoryModal,children:c.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:handleCloseTodoHistoryModal,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:xi(j.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(R?new Date(R+"T00:00:00"):new Date(j.date+"T00:00:00"))})]}),K.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:K.map((B,F)=>{const I=B.date===j.date,ye=ia(new Date(B.date+"T00:00:00"));return c.jsxs("span",{children:[F>0&&"  ",c.jsxs("span",{style:I?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ye.split("(")[0],I?"()":""]})]},B.id)})})]}),(()=>{const B=new Date(j.created_at).toISOString().split("T")[0],F=j.date;return B!==F&&K.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(new Date(j.date+"T00:00:00"))})]}):null})(),L.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",L.length,")"]}),L.map(B=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[xi(B.changed_at),B.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",ia(new Date(B.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:F=>{F.stopPropagation(),toggleHistoryDetail(B.id)},children:xf.includes(B.id)?"":""})]}),xf.includes(B.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:B.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:B.new_text})]})]})]},B.id))]})]})})]})})})(),ur&&Dl&&(()=>{const j=Dl,Y=f.find(R=>R.id===j.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:handleCloseTodoRoutineSetupModal,children:c.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:handleCloseTodoRoutineSetupModal,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:Y&&!qc?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:$i.filter(R=>Y.days.includes(R.key)).map(R=>c.jsx("span",{className:"routine-day-badge",children:R.label},R.key))}),Y.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",Y.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:R=>{R.stopPropagation(),Y&&(Ab(Y.days),Ef(Y.time_slot||""),Cb(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async R=>{R.stopPropagation(),Y&&j&&(await ee(j.id,j.text,[],null,!0),handleCloseTodoRoutineSetupModal())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:qc?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:$i.map(R=>c.jsx("button",{onClick:K=>{K.stopPropagation(),handleToggleRoutineDayInModal(R.key)},className:`day-button-inline ${Hc.includes(R.key)?"selected":""}`,children:R.label},R.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(wf,{value:Yc,onChange:R=>Ef(R)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async R=>{R.stopPropagation(),j&&(qc&&Y?await ee(j.id,j.text,Hc,Y.id,!1,Yc):await ee(j.id,j.text,Hc,null,!1,Yc),handleCloseTodoRoutineSetupModal())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:R=>{R.stopPropagation(),handleCloseTodoRoutineSetupModal()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx(Sj,{showRoutineModal:d,onClose:Ie,routineInput:b,setRoutineInput:S,isAddingRoutine:y,selectedDays:E,onToggleDay:je,selectedTimeSlot:v,setSelectedTimeSlot:g,onAddRoutine:G,routines:f,editingRoutineId:w,editingRoutineText:_,setEditingRoutineText:x,editingRoutineDays:M,onToggleEditDay:U,onStartEdit:ue,onSaveEdit:ve,onCancelEdit:ae,onDelete:H,onShowHistory:V}),c.jsx(Ej,{showRoutineHistory:T,onClose:le,selectedRoutine:O,routineHistoryData:N}),c.jsx(Oj,{showTrashModal:Xe,onClose:handleCloseTrash,trashedItems:it,onEmptyTrash:handleEmptyTrash,onRestoreFromTrash:handleRestoreFromTrash,onPermanentDelete:handlePermanentDelete,formatDate:xi}),c.jsx(Nj,{showDummyModal:fa,onClose:()=>Kn(!1),onCreateDummyData:Bb,onRemoveDuplicates:Yb,dummySessions:ha,onDeleteDummySession:Hb,onDeleteAllDummies:qb,formatDate:xi}),c.jsx(Dj,{showGanttChart:Re,onClose:handleCloseGanttChart,ganttData:Me,ganttPeriod:un,setGanttPeriod:St,formatDateOnly:ia}),c.jsx(Aj,{showEncouragementModal:D,onClose:()=>$(!1),encouragementMessages:dn,newEncouragementMessage:ge,setNewEncouragementMessage:_e,onAddEncouragementMessage:Xb,editingEncouragementId:re,editingEncouragementText:Be,setEditingEncouragementId:Oe,setEditingEncouragementText:Ze,onUpdateEncouragementMessage:Qb,onDeleteEncouragementMessage:Jb}),c.jsx(Cj,{showKeyThoughtsHistory:P,onClose:()=>Q(!1),keyThoughtsHistory:X,onRestoreVersion:Ce})]})]})}QS.createRoot(document.getElementById("root")).render(c.jsx(p.StrictMode,{children:c.jsx(Bj,{})}));
