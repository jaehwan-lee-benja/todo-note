function p_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function b_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Pg={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=Symbol.for("react.transitional.element"),w_=Symbol.for("react.fragment");function Fg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:__,type:e,key:a,ref:t!==void 0?t:null,props:n}}yc.Fragment=w_;yc.jsx=Fg;yc.jsxs=Fg;Pg.exports=yc;var c=Pg.exports,Wg={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Symbol.for("react.transitional.element"),S_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),E_=Symbol.for("react.strict_mode"),T_=Symbol.for("react.profiler"),j_=Symbol.for("react.consumer"),O_=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),D_=Symbol.for("react.suspense"),A_=Symbol.for("react.memo"),ey=Symbol.for("react.lazy"),C_=Symbol.for("react.activity"),Rh=Symbol.iterator;function R_(e){return e===null||typeof e!="object"?null:(e=Rh&&e[Rh]||e["@@iterator"],typeof e=="function"?e:null)}var ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ny=Object.assign,ay={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=ay,this.updater=n||ty}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iy(){}iy.prototype=Ps.prototype;function of(e,t,n){this.props=e,this.context=t,this.refs=ay,this.updater=n||ty}var cf=of.prototype=new iy;cf.constructor=of;ny(cf,Ps.prototype);cf.isPureReactComponent=!0;var Mh=Array.isArray;function Iu(){}var ot={H:null,A:null,T:null,S:null},sy=Object.prototype.hasOwnProperty;function uf(e,t,n){var a=n.ref;return{$$typeof:lf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function M_(e,t){return uf(e.type,t,e.props)}function df(e){return typeof e=="object"&&e!==null&&e.$$typeof===lf}function k_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kh=/\/+/g;function Xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k_(""+e.key):t.toString(36)}function U_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Iu,Iu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function us(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case lf:case S_:r=!0;break;case ey:return r=e._init,us(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Xc(e,0):a,Mh(i)?(n="",r!=null&&(n=r.replace(kh,"$&/")+"/"),us(i,t,n,"",function(u){return u})):i!=null&&(df(i)&&(i=M_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(kh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(Mh(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Xc(a,o),r+=us(a,t,n,s,i);else if(o=R_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Xc(a,o++),r+=us(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return us(U_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function zl(e,t,n){if(e==null)return e;var a=[],i=0;return us(e,a,"","",function(s){return t.call(n,s,i++)}),a}function z_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Uh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$_={map:zl,forEach:function(e,t,n){zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Activity=C_;ce.Children=$_;ce.Component=Ps;ce.Fragment=x_;ce.Profiler=T_;ce.PureComponent=of;ce.StrictMode=E_;ce.Suspense=D_;ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot;ce.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ot.H.useMemoCache(e)}};ce.cache=function(e){return function(){return e.apply(null,arguments)}};ce.cacheSignal=function(){return null};ce.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=ny({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!sy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return uf(e.type,i,a)};ce.createContext=function(e){return e={$$typeof:O_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:j_,_context:e},e};ce.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)sy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return uf(e,s,i)};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:N_,render:e}};ce.isValidElement=df;ce.lazy=function(e){return{$$typeof:ey,_payload:{_status:-1,_result:e},_init:z_}};ce.memo=function(e,t){return{$$typeof:A_,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=ot.T,n={};ot.T=n;try{var a=e(),i=ot.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Iu,Uh)}catch(s){Uh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),ot.T=t}};ce.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()};ce.use=function(e){return ot.H.use(e)};ce.useActionState=function(e,t,n){return ot.H.useActionState(e,t,n)};ce.useCallback=function(e,t){return ot.H.useCallback(e,t)};ce.useContext=function(e){return ot.H.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e,t){return ot.H.useDeferredValue(e,t)};ce.useEffect=function(e,t){return ot.H.useEffect(e,t)};ce.useEffectEvent=function(e){return ot.H.useEffectEvent(e)};ce.useId=function(){return ot.H.useId()};ce.useImperativeHandle=function(e,t,n){return ot.H.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return ot.H.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ot.H.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ot.H.useMemo(e,t)};ce.useOptimistic=function(e,t){return ot.H.useOptimistic(e,t)};ce.useReducer=function(e,t,n){return ot.H.useReducer(e,t,n)};ce.useRef=function(e){return ot.H.useRef(e)};ce.useState=function(e){return ot.H.useState(e)};ce.useSyncExternalStore=function(e,t,n){return ot.H.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return ot.H.useTransition()};ce.version="19.2.0";Wg.exports=ce;var p=Wg.exports;const at=b_(p);var ry={exports:{}},vc={},ly={exports:{}},oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,H){var G=U.length;U.push(H);e:for(;0<G;){var le=G-1>>>1,_e=U[le];if(0<i(_e,H))U[le]=H,U[G]=_e,G=le;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var H=U[0],G=U.pop();if(G!==H){U[0]=G;e:for(var le=0,_e=U.length,Ye=_e>>>1;le<Ye;){var Oe=2*(le+1)-1,Re=U[Oe],Me=Oe+1,Ve=U[Me];if(0>i(Re,G))Me<_e&&0>i(Ve,Re)?(U[le]=Ve,U[Me]=G,le=Me):(U[le]=Re,U[Oe]=G,le=Oe);else if(Me<_e&&0>i(Ve,G))U[le]=Ve,U[Me]=G,le=Me;else break e}}return H}function i(U,H){var G=U.sortIndex-H.sortIndex;return G!==0?G:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],f=1,d=null,h=3,m=!1,b=!1,S=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(U){for(var H=n(u);H!==null;){if(H.callback===null)a(u);else if(H.startTime<=U)a(u),H.sortIndex=H.expirationTime,t(o,H);else break;H=n(u)}}function _(U){if(S=!1,w(U),!b)if(n(o)!==null)b=!0,x||(x=!0,re());else{var H=n(u);H!==null&&be(_,H.startTime-U)}}var x=!1,T=-1,O=5,N=-1;function M(){return E?!0:!(e.unstable_now()-N<O)}function I(){if(E=!1,x){var U=e.unstable_now();N=U;var H=!0;try{e:{b=!1,S&&(S=!1,g(T),T=-1),m=!0;var G=h;try{t:{for(w(U),d=n(o);d!==null&&!(d.expirationTime>U&&M());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var _e=le(d.expirationTime<=U);if(U=e.unstable_now(),typeof _e=="function"){d.callback=_e,w(U),H=!0;break t}d===n(o)&&a(o),w(U)}else a(o);d=n(o)}if(d!==null)H=!0;else{var Ye=n(u);Ye!==null&&be(_,Ye.startTime-U),H=!1}}break e}finally{d=null,h=G,m=!1}H=void 0}}finally{H?re():x=!1}}}var re;if(typeof y=="function")re=function(){y(I)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,F=ue.port2;ue.port1.onmessage=I,re=function(){F.postMessage(null)}}else re=function(){v(I,0)};function be(U,H){T=v(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var G=h;h=H;try{return U()}finally{h=G}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=h;h=U;try{return H()}finally{h=G}},e.unstable_scheduleCallback=function(U,H,G){var le=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?le+G:le):G=le,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=G+_e,U={id:f++,callback:H,priorityLevel:U,startTime:G,expirationTime:_e,sortIndex:-1},G>le?(U.sortIndex=G,t(u,U),n(o)===null&&U===n(u)&&(S?(g(T),T=-1):S=!0,be(_,G-le))):(U.sortIndex=_e,t(o,U),b||m||(b=!0,x||(x=!0,re()))),U},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(U){var H=h;return function(){var G=h;h=H;try{return U.apply(this,arguments)}finally{h=G}}}})(oy);ly.exports=oy;var L_=ly.exports,cy={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=p;function uy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var on={d:{f:Ha,r:function(){throw Error(uy(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},H_=Symbol.for("react.portal");function q_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Dr=B_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function pc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=on;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(uy(299));return q_(e,t,null,n)};cn.flushSync=function(e){var t=Dr.T,n=on.p;try{if(Dr.T=null,on.p=2,e)return e()}finally{Dr.T=t,on.p=n,on.d.f()}};cn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,on.d.C(e,t))};cn.prefetchDNS=function(e){typeof e=="string"&&on.d.D(e)};cn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=pc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?on.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&on.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};cn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=pc(t.as,t.crossOrigin);on.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&on.d.M(e)};cn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=pc(n,t.crossOrigin);on.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};cn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=pc(t.as,t.crossOrigin);on.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else on.d.m(e)};cn.requestFormReset=function(e){on.d.r(e)};cn.unstable_batchedUpdates=function(e,t){return e(t)};cn.useFormState=function(e,t,n){return Dr.H.useFormState(e,t,n)};cn.useFormStatus=function(){return Dr.H.useHostTransitionStatus()};cn.version="19.2.0";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(e){console.error(e)}}dy(),cy.exports=cn;var gs=cy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=L_,fy=p,Y_=gs;function C(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zh(e){if(gl(e)!==e)throw Error(C(188))}function V_(e){var t=e.alternate;if(!t){if(t=gl(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zh(i),e;if(s===a)return zh(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(C(189))}}if(n.alternate!==a)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function yy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yy(e),t!==null)return t;e=e.sibling}return null}var ct=Object.assign,I_=Symbol.for("react.element"),$l=Symbol.for("react.transitional.element"),Sr=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),py=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Qu=Symbol.for("react.activity"),G_=Symbol.for("react.memo_cache_sentinel"),$h=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var K_=Symbol.for("react.client.reference");function Ju(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case Gu:return"Profiler";case vy:return"StrictMode";case Ku:return"Suspense";case Xu:return"SuspenseList";case Qu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Sr:return"Portal";case Ta:return e.displayName||"Context";case py:return(e._context.displayName||"Context")+".Consumer";case ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hf:return t=e.displayName||null,t!==null?t:Ju(e.type)||"Memo";case Ya:t=e._payload,e=e._init;try{return Ju(e(t))}catch{}}return null}var xr=Array.isArray,ae=fy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He=Y_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$i={pending:!1,data:null,method:null,action:null},Zu=[],vs=-1;function ca(e){return{current:e}}function Gt(e){0>vs||(e.current=Zu[vs],Zu[vs]=null,vs--)}function it(e,t){vs++,Zu[vs]=e.current,e.current=t}var oa=ca(null),Jr=ca(null),ti=ca(null),Ao=ca(null);function Co(e,t){switch(it(ti,t),it(Jr,e),it(oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vm(t),e=Lp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Gt(oa),it(oa,e)}function $s(){Gt(oa),Gt(Jr),Gt(ti)}function Pu(e){e.memoizedState!==null&&it(Ao,e);var t=oa.current,n=Lp(t,e.type);t!==n&&(it(Jr,e),it(oa,n))}function Ro(e){Jr.current===e&&(Gt(oa),Gt(Jr)),Ao.current===e&&(Gt(Ao),rl._currentValue=$i)}var Qc,Lh;function Ni(e){if(Qc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qc=t&&t[1]||"",Lh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qc+e+Lh}var Jc=!1;function Zc(e,t){if(!e||Jc)return"";Jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===u.length)for(a=o.length-1,i=u.length-1;1<=a&&0<=i&&o[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==u[i]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=i);break}}}finally{Jc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ni(n):""}function X_(e,t){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return e.child!==t&&t!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Zc(e.type,!1);case 11:return Zc(e.type.render,!1);case 1:return Zc(e.type,!0);case 31:return Ni("Activity");default:return""}}function Bh(e){try{var t="",n=null;do t+=X_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Fu=Object.prototype.hasOwnProperty,mf=$t.unstable_scheduleCallback,Pc=$t.unstable_cancelCallback,Q_=$t.unstable_shouldYield,J_=$t.unstable_requestPaint,On=$t.unstable_now,Z_=$t.unstable_getCurrentPriorityLevel,by=$t.unstable_ImmediatePriority,_y=$t.unstable_UserBlockingPriority,Mo=$t.unstable_NormalPriority,P_=$t.unstable_LowPriority,wy=$t.unstable_IdlePriority,F_=$t.log,W_=$t.unstable_setDisableYieldValue,yl=null,Nn=null;function Za(e){if(typeof F_=="function"&&W_(e),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(yl,e)}catch{}}var Dn=Math.clz32?Math.clz32:nw,ew=Math.log,tw=Math.LN2;function nw(e){return e>>>=0,e===0?32:31-(ew(e)/tw|0)|0}var Ll=256,Bl=262144,Hl=4194304;function Di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=Di(a):(r&=l,r!==0?i=Di(r):n||(n=l&~e,n!==0&&(i=Di(n))))):(l=a&~s,l!==0?i=Di(l):r!==0?i=Di(r):n||(n=a&~e,n!==0&&(i=Di(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function aw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sy(){var e=Hl;return Hl<<=1,!(Hl&62914560)&&(Hl=4194304),e}function Fc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-Dn(n),d=1<<f;l[f]=0,o[f]=-1;var h=u[f];if(h!==null)for(u[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}n&=~d}a!==0&&xy(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function xy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Dn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ey(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Dn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ty(e,t){var n=t&-t;return n=n&42?1:gf(n),n&(e.suspendedLanes|t)?0:n}function gf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function jy(){var e=He.p;return e!==0?e:(e=window.event,e===void 0?32:Jp(e.type))}function Hh(e,t){var n=He.p;try{return He.p=e,t()}finally{He.p=n}}var gi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+gi,vn="__reactProps$"+gi,Fs="__reactContainer$"+gi,Wu="__reactEvents$"+gi,sw="__reactListeners$"+gi,rw="__reactHandles$"+gi,qh="__reactResources$"+gi,bl="__reactMarker$"+gi;function vf(e){delete e[Zt],delete e[vn],delete e[Wu],delete e[sw],delete e[rw]}function ps(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qm(e);e!==null;){if(n=e[Zt])return n;e=Qm(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){if(e=e[Zt]||e[Fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Er(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(C(33))}function Ns(e){var t=e[qh];return t||(t=e[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function It(e){e[bl]=!0}var Oy=new Set,Ny={};function Qi(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(Ny[e]=t,e=0;e<t.length;e++)Oy.add(t[e])}var lw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yh={},Vh={};function ow(e){return Fu.call(Vh,e)?!0:Fu.call(Yh,e)?!1:lw.test(e)?Vh[e]=!0:(Yh[e]=!0,!1)}function fo(e,t,n){if(ow(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ql(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function va(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){if(!e._valueTracker){var t=Dy(e)?"checked":"value";e._valueTracker=cw(e,t,""+e[t])}}function Ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Dy(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uw=/[\n"\\]/g;function Ln(e){return e.replace(uw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function td(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Un(t)):e.value!==""+Un(t)&&(e.value=""+Un(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?nd(e,r,Un(t)):n!=null?nd(e,r,Un(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Un(l):e.removeAttribute("name")}function Cy(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){ed(e);return}n=n!=null?""+Un(n):"",t=t!=null?""+Un(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),ed(e)}function nd(e,t,n){t==="number"&&ko(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ds(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ry(e,t,n){if(t!=null&&(t=""+Un(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Un(n):""}function My(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(C(92));if(xr(a)){if(1<a.length)throw Error(C(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Un(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ed(e)}function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||dw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ky(e,t,n){if(t!=null&&typeof t!="object")throw Error(C(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Ih(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Ih(e,s,t[s])}function pf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return hw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ja(){}var ad=null;function bf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,As=null;function Gh(e){var t=Ws(e);if(t&&(e=t.stateNode)){var n=e[vn]||null;e:switch(e=t.stateNode,t.type){case"input":if(td(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ln(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[vn]||null;if(!i)throw Error(C(90));td(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ay(a)}break e;case"textarea":Ry(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ds(e,!!n.multiple,t,!1)}}}var Wc=!1;function Uy(e,t,n){if(Wc)return e(t,n);Wc=!0;try{var a=e(t);return a}finally{if(Wc=!1,(bs!==null||As!==null)&&(Cc(),bs&&(t=bs,e=As,As=bs=null,Gh(t),e)))for(t=0;t<e.length;t++)Gh(e[t])}}function Zr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[vn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=!1;if(Ca)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){id=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{id=!1}var Pa=null,_f=null,mo=null;function zy(){if(mo)return mo;var e,t=_f,n=t.length,a,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return mo=i.slice(e,1<a?1-a:void 0)}function go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Kh(){return!1}function pn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yl:Kh,this.isPropagationStopped=Kh,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=pn(Ji),_l=ct({},Ji,{view:0,detail:0}),mw=pn(_l),eu,tu,vr,wc=ct({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(eu=e.screenX-vr.screenX,tu=e.screenY-vr.screenY):tu=eu=0,vr=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Xh=pn(wc),gw=ct({},wc,{dataTransfer:0}),yw=pn(gw),vw=ct({},_l,{relatedTarget:0}),nu=pn(vw),pw=ct({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=pn(pw),_w=ct({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ww=pn(_w),Sw=ct({},Ji,{data:0}),Qh=pn(Sw),xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tw[e])?!!t[e]:!1}function wf(){return jw}var Ow=ct({},_l,{key:function(e){if(e.key){var t=xw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ew[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wf,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nw=pn(Ow),Dw=ct({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=pn(Dw),Aw=ct({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wf}),Cw=pn(Aw),Rw=ct({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mw=pn(Rw),kw=ct({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uw=pn(kw),zw=ct({},Ji,{newState:0,oldState:0}),$w=pn(zw),Lw=[9,13,27,32],Sf=Ca&&"CompositionEvent"in window,Ar=null;Ca&&"documentMode"in document&&(Ar=document.documentMode);var Bw=Ca&&"TextEvent"in window&&!Ar,$y=Ca&&(!Sf||Ar&&8<Ar&&11>=Ar),Zh=" ",Ph=!1;function Ly(e,t){switch(e){case"keyup":return Lw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function By(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function Hw(e,t){switch(e){case"compositionend":return By(t);case"keypress":return t.which!==32?null:(Ph=!0,Zh);case"textInput":return e=t.data,e===Zh&&Ph?null:e;default:return null}}function qw(e,t){if(_s)return e==="compositionend"||!Sf&&Ly(e,t)?(e=zy(),mo=_f=Pa=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $y&&t.locale!=="ko"?null:t.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yw[e.type]:t==="textarea"}function Hy(e,t,n,a){bs?As?As.push(a):As=[a]:bs=a,t=Fo(t,"onChange"),0<t.length&&(n=new _c("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Cr=null,Pr=null;function Vw(e){Up(e,0)}function Sc(e){var t=Er(e);if(Ay(t))return e}function Wh(e,t){if(e==="change")return t}var qy=!1;if(Ca){var au;if(Ca){var iu="oninput"in document;if(!iu){var em=document.createElement("div");em.setAttribute("oninput","return;"),iu=typeof em.oninput=="function"}au=iu}else au=!1;qy=au&&(!document.documentMode||9<document.documentMode)}function tm(){Cr&&(Cr.detachEvent("onpropertychange",Yy),Pr=Cr=null)}function Yy(e){if(e.propertyName==="value"&&Sc(Pr)){var t=[];Hy(t,Pr,e,bf(e)),Uy(Vw,t)}}function Iw(e,t,n){e==="focusin"?(tm(),Cr=t,Pr=n,Cr.attachEvent("onpropertychange",Yy)):e==="focusout"&&tm()}function Gw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Pr)}function Kw(e,t){if(e==="click")return Sc(t)}function Xw(e,t){if(e==="input"||e==="change")return Sc(t)}function Qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Qw;function Fr(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Fu.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function am(e,t){var n=nm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nm(n)}}function Vy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ko(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ko(e.document)}return t}function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jw=Ca&&"documentMode"in document&&11>=document.documentMode,ws=null,sd=null,Rr=null,rd=!1;function im(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||ws==null||ws!==ko(a)||(a=ws,"selectionStart"in a&&xf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Rr&&Fr(Rr,a)||(Rr=a,a=Fo(sd,"onSelect"),0<a.length&&(t=new _c("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ws)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},su={},Gy={};Ca&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Zi(e){if(su[e])return su[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gy)return su[e]=t[n];return e}var Ky=Zi("animationend"),Xy=Zi("animationiteration"),Qy=Zi("animationstart"),Zw=Zi("transitionrun"),Pw=Zi("transitionstart"),Fw=Zi("transitioncancel"),Jy=Zi("transitionend"),Zy=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Wn(e,t){Zy.set(e,t),Qi(t,[e])}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],xs=0,Ef=0;function xc(){for(var e=xs,t=Ef=xs=0;t<e;){var n=Mn[t];Mn[t++]=null;var a=Mn[t];Mn[t++]=null;var i=Mn[t];Mn[t++]=null;var s=Mn[t];if(Mn[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Py(n,i,s)}}function Ec(e,t,n,a){Mn[xs++]=e,Mn[xs++]=t,Mn[xs++]=n,Mn[xs++]=a,Ef|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Tf(e,t,n,a){return Ec(e,t,n,a),zo(e)}function Pi(e,t){return Ec(e,null,null,t),zo(e)}function Py(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Dn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function zo(e){if(50<qr)throw qr=0,Nd=null,Error(C(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function Ww(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,a){return new Ww(e,t,n,a)}function jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yo(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")jf(e)&&(r=1);else if(typeof e=="string")r=ix(e,n,oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qu:return e=xn(31,n,t,i),e.elementType=Qu,e.lanes=s,e;case ys:return Li(n.children,i,s,t);case vy:r=8,i|=24;break;case Gu:return e=xn(12,n,t,i|2),e.elementType=Gu,e.lanes=s,e;case Ku:return e=xn(13,n,t,i),e.elementType=Ku,e.lanes=s,e;case Xu:return e=xn(19,n,t,i),e.elementType=Xu,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ta:r=10;break e;case py:r=9;break e;case ff:r=11;break e;case hf:r=14;break e;case Ya:r=16,a=null;break e}r=29,n=Error(C(130,e===null?"null":typeof e,"")),a=null}return t=xn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Li(e,t,n,a){return e=xn(7,e,a,t),e.lanes=n,e}function ru(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Wy(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function lu(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sm=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var n=sm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Bh(t)},sm.set(e,t),t)}return{value:e,source:t,stack:Bh(t)}}var Ts=[],js=0,$o=null,Wr=0,zn=[],$n=0,ui=null,sa=1,ra="";function xa(e,t){Ts[js++]=Wr,Ts[js++]=$o,$o=e,Wr=t}function ev(e,t,n){zn[$n++]=sa,zn[$n++]=ra,zn[$n++]=ui,ui=e;var a=sa;e=ra;var i=32-Dn(a)-1;a&=~(1<<i),n+=1;var s=32-Dn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,sa=1<<32-Dn(t)+i|n<<i|a,ra=s+e}else sa=1<<s|n<<i|a,ra=e}function Of(e){e.return!==null&&(xa(e,1),ev(e,1,0))}function Nf(e){for(;e===$o;)$o=Ts[--js],Ts[js]=null,Wr=Ts[--js],Ts[js]=null;for(;e===ui;)ui=zn[--$n],zn[$n]=null,ra=zn[--$n],zn[$n]=null,sa=zn[--$n],zn[$n]=null}function tv(e,t){zn[$n++]=sa,zn[$n++]=ra,zn[$n++]=ui,sa=t.id,ra=t.overflow,ui=e}var Pt=null,lt=null,De=!1,ni=null,Hn=!1,od=Error(C(519));function di(e){var t=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Bn(t,e)),od}function rm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Zt]=e,t[vn]=a,n){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(n=0;n<il.length;n++)Ee(il[n],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Cy(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),My(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||$p(t.textContent,n)?(a.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),a.onScroll!=null&&Ee("scroll",t),a.onScrollEnd!=null&&Ee("scrollend",t),a.onClick!=null&&(t.onclick=ja),t=!0):t=!1,t||di(e,!0)}function lm(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Pt=Pt.return}}function as(e){if(e!==Pt)return!1;if(!De)return lm(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Md(e.type,e.memoizedProps)),n=!n),n&&lt&&di(e),lm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));lt=Xm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));lt=Xm(e)}else t===27?(t=lt,yi(e.type)?(e=$d,$d=null,lt=e):lt=t):lt=Pt?Yn(e.stateNode.nextSibling):null;return!0}function Vi(){lt=Pt=null,De=!1}function ou(){var e=ni;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),ni=null),e}function el(e){ni===null?ni=[e]:ni.push(e)}var cd=ca(null),Fi=null,Oa=null;function Ga(e,t,n){it(cd,t._currentValue),t._currentValue=n}function Da(e){e._currentValue=cd.current,Gt(cd)}function ud(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function dd(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ud(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(C(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),ud(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function er(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(C(387));if(r=r.memoizedProps,r!==null){var l=i.type;Cn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===Ao.current){if(r=i.alternate,r===null)throw Error(C(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}i=i.return}e!==null&&dd(t,e,n,a),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Fi=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ft(e){return nv(Fi,e)}function Vl(e,t){return Fi===null&&Ii(e),nv(e,t)}function nv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Oa===null){if(e===null)throw Error(C(308));Oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oa=Oa.next=t;return n}var eS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},tS=$t.unstable_scheduleCallback,nS=$t.unstable_NormalPriority,Ct={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new eS,data:new Map,refCount:0}}function wl(e){e.refCount--,e.refCount===0&&tS(nS,function(){e.controller.abort()})}var Mr=null,fd=0,Hs=0,Cs=null;function aS(e,t){if(Mr===null){var n=Mr=[];fd=0,Hs=eh(),Cs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return fd++,t.then(om,om),t}function om(){if(--fd===0&&Mr!==null){Cs!==null&&(Cs.status="fulfilled");var e=Mr;Mr=null,Hs=0,Cs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var cm=ae.S;ae.S=function(e,t){yp=On(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&aS(e,t),cm!==null&&cm(e,t)};var Bi=ca(null);function Af(){var e=Bi.current;return e!==null?e:et.pooledCache}function vo(e,t){t===null?it(Bi,Bi.current):it(Bi,t.pool)}function av(){var e=Af();return e===null?null:{parent:Ct._currentValue,pool:e}}var tr=Error(C(460)),Cf=Error(C(474)),Tc=Error(C(542)),Bo={then:function(){}};function um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function iv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ja,ja),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fm(e),e;default:if(typeof t.status=="string")t.then(ja,ja);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(C(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fm(e),e}throw Hi=t,tr}}function Ai(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hi=n,tr):n}}var Hi=null;function dm(){if(Hi===null)throw Error(C(459));var e=Hi;return Hi=null,e}function fm(e){if(e===tr||e===Tc)throw Error(C(483))}var Rs=null,tl=0;function Il(e){var t=tl;return tl+=1,Rs===null&&(Rs=[]),iv(Rs,e,t)}function pr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gl(e,t){throw t.$$typeof===I_?Error(C(525)):(e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sv(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(v,g){return v=Na(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function r(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,w){return g===null||g.tag!==6?(g=ru(y,v.mode,w),g.return=v,g):(g=i(g,y),g.return=v,g)}function o(v,g,y,w){var _=y.type;return _===ys?f(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ya&&Ai(_)===g.type)?(g=i(g,y.props),pr(g,y),g.return=v,g):(g=yo(y.type,y.key,y.props,null,v.mode,w),pr(g,y),g.return=v,g)}function u(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=lu(y,v.mode,w),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function f(v,g,y,w,_){return g===null||g.tag!==7?(g=Li(y,v.mode,w,_),g.return=v,g):(g=i(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=ru(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $l:return y=yo(g.type,g.key,g.props,null,v.mode,y),pr(y,g),y.return=v,y;case Sr:return g=lu(g,v.mode,y),g.return=v,g;case Ya:return g=Ai(g),d(v,g,y)}if(xr(g)||gr(g))return g=Li(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return d(v,Il(g),y);if(g.$$typeof===Ta)return d(v,Vl(v,g),y);Gl(v,g)}return null}function h(v,g,y,w){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return _!==null?null:l(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:return y.key===_?o(v,g,y,w):null;case Sr:return y.key===_?u(v,g,y,w):null;case Ya:return y=Ai(y),h(v,g,y,w)}if(xr(y)||gr(y))return _!==null?null:f(v,g,y,w,null);if(typeof y.then=="function")return h(v,g,Il(y),w);if(y.$$typeof===Ta)return h(v,g,Vl(v,y),w);Gl(v,y)}return null}function m(v,g,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(y)||null,l(g,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $l:return v=v.get(w.key===null?y:w.key)||null,o(g,v,w,_);case Sr:return v=v.get(w.key===null?y:w.key)||null,u(g,v,w,_);case Ya:return w=Ai(w),m(v,g,y,w,_)}if(xr(w)||gr(w))return v=v.get(y)||null,f(g,v,w,_,null);if(typeof w.then=="function")return m(v,g,y,Il(w),_);if(w.$$typeof===Ta)return m(v,g,y,Vl(g,w),_);Gl(g,w)}return null}function b(v,g,y,w){for(var _=null,x=null,T=g,O=g=0,N=null;T!==null&&O<y.length;O++){T.index>O?(N=T,T=null):N=T.sibling;var M=h(v,T,y[O],w);if(M===null){T===null&&(T=N);break}e&&T&&M.alternate===null&&t(v,T),g=s(M,g,O),x===null?_=M:x.sibling=M,x=M,T=N}if(O===y.length)return n(v,T),De&&xa(v,O),_;if(T===null){for(;O<y.length;O++)T=d(v,y[O],w),T!==null&&(g=s(T,g,O),x===null?_=T:x.sibling=T,x=T);return De&&xa(v,O),_}for(T=a(T);O<y.length;O++)N=m(T,v,O,y[O],w),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?O:N.key),g=s(N,g,O),x===null?_=N:x.sibling=N,x=N);return e&&T.forEach(function(I){return t(v,I)}),De&&xa(v,O),_}function S(v,g,y,w){if(y==null)throw Error(C(151));for(var _=null,x=null,T=g,O=g=0,N=null,M=y.next();T!==null&&!M.done;O++,M=y.next()){T.index>O?(N=T,T=null):N=T.sibling;var I=h(v,T,M.value,w);if(I===null){T===null&&(T=N);break}e&&T&&I.alternate===null&&t(v,T),g=s(I,g,O),x===null?_=I:x.sibling=I,x=I,T=N}if(M.done)return n(v,T),De&&xa(v,O),_;if(T===null){for(;!M.done;O++,M=y.next())M=d(v,M.value,w),M!==null&&(g=s(M,g,O),x===null?_=M:x.sibling=M,x=M);return De&&xa(v,O),_}for(T=a(T);!M.done;O++,M=y.next())M=m(T,v,O,M.value,w),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?O:M.key),g=s(M,g,O),x===null?_=M:x.sibling=M,x=M);return e&&T.forEach(function(re){return t(v,re)}),De&&xa(v,O),_}function E(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===ys&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:e:{for(var _=y.key;g!==null;){if(g.key===_){if(_=y.type,_===ys){if(g.tag===7){n(v,g.sibling),w=i(g,y.props.children),w.return=v,v=w;break e}}else if(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ya&&Ai(_)===g.type){n(v,g.sibling),w=i(g,y.props),pr(w,y),w.return=v,v=w;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===ys?(w=Li(y.props.children,v.mode,w,y.key),w.return=v,v=w):(w=yo(y.type,y.key,y.props,null,v.mode,w),pr(w,y),w.return=v,v=w)}return r(v);case Sr:e:{for(_=y.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),w=i(g,y.children||[]),w.return=v,v=w;break e}else{n(v,g);break}else t(v,g);g=g.sibling}w=lu(y,v.mode,w),w.return=v,v=w}return r(v);case Ya:return y=Ai(y),E(v,g,y,w)}if(xr(y))return b(v,g,y,w);if(gr(y)){if(_=gr(y),typeof _!="function")throw Error(C(150));return y=_.call(y),S(v,g,y,w)}if(typeof y.then=="function")return E(v,g,Il(y),w);if(y.$$typeof===Ta)return E(v,g,Vl(v,y),w);Gl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),w=i(g,y),w.return=v,v=w):(n(v,g),w=ru(y,v.mode,w),w.return=v,v=w),r(v)):n(v,g)}return function(v,g,y,w){try{tl=0;var _=E(v,g,y,w);return Rs=null,_}catch(T){if(T===tr||T===Tc)throw T;var x=xn(29,T,null,v.mode);return x.lanes=w,x.return=v,x}finally{}}}var Gi=sv(!0),rv=sv(!1),Va=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Be&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=zo(e),Py(e,null,n),t}return Ec(e,a,t,n),zo(e)}function kr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ey(e,n)}}function cu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var md=!1;function Ur(){if(md){var e=Cs;if(e!==null)throw e}}function zr(e,t,n,a){md=!1;var i=e.updateQueue;Va=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?s=u:r.next=u,r=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;r=0,f=u=o=null,l=s;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(je&h)===h:(a&h)===h){h!==0&&h===Hs&&(md=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,S=l;h=t;var E=n;switch(S.tag){case 1:if(b=S.payload,typeof b=="function"){d=b.call(E,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,h=typeof b=="function"?b.call(E,d,h):b,h==null)break e;d=ct({},d,h);break e;case 2:Va=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,o=d):f=f.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);f===null&&(o=d),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=f,s===null&&(i.shared.lanes=0),hi|=r,e.lanes=r,e.memoizedState=d}}function lv(e,t){if(typeof e!="function")throw Error(C(191,e));e.call(t)}function ov(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)lv(n[e],t)}var qs=ca(null),Ho=ca(0);function hm(e,t){e=Ua,it(Ho,e),it(qs,t),Ua=e|t.baseLanes}function gd(){it(Ho,Ua),it(qs,qs.current)}function Mf(){Ua=Ho.current,Gt(qs),Gt(Ho)}var Rn=ca(null),qn=null;function Ka(e){var t=e.alternate;it(wt,wt.current&1),it(Rn,e),qn===null&&(t===null||qs.current!==null||t.memoizedState!==null)&&(qn=e)}function yd(e){it(wt,wt.current),it(Rn,e),qn===null&&(qn=e)}function cv(e){e.tag===22?(it(wt,wt.current),it(Rn,e),qn===null&&(qn=e)):Xa()}function Xa(){it(wt,wt.current),it(Rn,Rn.current)}function Sn(e){Gt(Rn),qn===e&&(qn=null),Gt(wt)}var wt=ca(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ud(n)||zd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=0,me=null,We=null,Dt=null,Yo=!1,Ms=!1,Ki=!1,Vo=0,nl=0,ks=null,sS=0;function pt(){throw Error(C(321))}function kf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Uf(e,t,n,a,i,s){return Ra=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?Hv:Kf,Ki=!1,s=n(a,i),Ki=!1,Ms&&(s=dv(t,n,a,i)),uv(e),s}function uv(e){ae.H=al;var t=We!==null&&We.next!==null;if(Ra=0,Dt=We=me=null,Yo=!1,nl=0,ks=null,t)throw Error(C(300));e===null||Rt||(e=e.dependencies,e!==null&&Lo(e)&&(Rt=!0))}function dv(e,t,n,a){me=e;var i=0;do{if(Ms&&(ks=null),nl=0,Ms=!1,25<=i)throw Error(C(301));if(i+=1,Dt=We=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ae.H=qv,s=t(n,a)}while(Ms);return s}function rS(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?Sl(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(me.flags|=1024),t}function zf(){var e=Vo!==0;return Vo=0,e}function $f(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lf(e){if(Yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yo=!1}Ra=0,Dt=We=me=null,Ms=!1,nl=Vo=0,ks=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?me.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function St(){if(We===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Dt===null?me.memoizedState:Dt.next;if(t!==null)Dt=t,We=e;else{if(e===null)throw me.alternate===null?Error(C(467)):Error(C(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Dt===null?me.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var t=nl;return nl+=1,ks===null&&(ks=[]),e=iv(ks,e,t),t=me,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?Hv:Kf),e}function Oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===Ta)return Ft(e)}throw Error(C(438,String(e)))}function Bf(e){var t=null,n=me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=jc(),me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=G_;return t.index++,n}function Ma(e,t){return typeof t=="function"?t(e):t}function po(e){var t=St();return Hf(t,We,e)}function Hf(e,t,n){var a=e.queue;if(a===null)throw Error(C(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(je&d)===d:(Ra&d)===d){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hs&&(f=!0);else if((Ra&h)===h){u=u.next,h===Hs&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=d,r=s):o=o.next=d,me.lanes|=h,hi|=h;d=u.action,Ki&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,r=s):o=o.next=h,me.lanes|=d,hi|=d;u=u.next}while(u!==null&&u!==t);if(o===null?r=s:o.next=l,!Cn(s,e.memoizedState)&&(Rt=!0,f&&(n=Cs,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function uu(e){var t=St(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);Cn(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function fv(e,t,n){var a=me,i=St(),s=De;if(s){if(n===void 0)throw Error(C(407));n=n()}else n=t();var r=!Cn((We||i).memoizedState,n);if(r&&(i.memoizedState=n,Rt=!0),i=i.queue,qf(gv.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||Dt!==null&&Dt.memoizedState.tag&1){if(a.flags|=2048,Ys(9,{destroy:void 0},mv.bind(null,a,i,n,t),null),et===null)throw Error(C(349));s||Ra&127||hv(a,t,n)}return n}function hv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t=jc(),me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mv(e,t,n,a){t.value=n,t.getSnapshot=a,yv(t)&&vv(e)}function gv(e,t,n){return n(function(){yv(t)&&vv(e)})}function yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function vv(e){var t=Pi(e,2);t!==null&&yn(t,e,2)}function vd(e){var t=rn();if(typeof e=="function"){var n=e;if(e=n(),Ki){Za(!0);try{n()}finally{Za(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t}function pv(e,t,n,a){return e.baseState=n,Hf(e,We,typeof a=="function"?a:Ma)}function lS(e,t,n,a,i){if(Dc(e))throw Error(C(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};ae.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,bv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function bv(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=ae.T,r={};ae.T=r;try{var l=n(i,a),o=ae.S;o!==null&&o(r,l),mm(e,t,l)}catch(u){pd(e,t,u)}finally{s!==null&&r.types!==null&&(s.types=r.types),ae.T=s}}else try{s=n(i,a),mm(e,t,s)}catch(u){pd(e,t,u)}}function mm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){gm(e,t,a)},function(a){return pd(e,t,a)}):gm(e,t,n)}function gm(e,t,n){t.status="fulfilled",t.value=n,_v(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bv(e,n)))}function pd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,_v(t),t=t.next;while(t!==a)}e.action=null}function _v(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wv(e,t){return t}function ym(e,t){if(De){var n=et.formState;if(n!==null){e:{var a=me;if(De){if(lt){t:{for(var i=lt,s=Hn;i.nodeType!==8;){if(!s){i=null;break t}if(i=Yn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){lt=Yn(i.nextSibling),a=i.data==="F!";break e}}di(a)}a=!1}a&&(t=n[0])}}return n=rn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:t},n.queue=a,n=$v.bind(null,me,a),a.dispatch=n,a=vd(!1),s=Gf.bind(null,me,!1,a.queue),a=rn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=lS.bind(null,me,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function vm(e){var t=St();return Sv(t,We,e)}function Sv(e,t,n){if(t=Hf(e,t,wv)[0],e=po(Ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Sl(t)}catch(r){throw r===tr?Tc:r}else a=t;t=St();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(me.flags|=2048,Ys(9,{destroy:void 0},oS.bind(null,i,n),null)),[a,s,e]}function oS(e,t){e.action=t}function pm(e){var t=St(),n=We;if(n!==null)return Sv(t,n,e);St(),t=t.memoizedState,n=St();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ys(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=me.updateQueue,t===null&&(t=jc(),me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function xv(){return St().memoizedState}function bo(e,t,n,a){var i=rn();me.flags|=e,i.memoizedState=Ys(1|t,{destroy:void 0},n,a===void 0?null:a)}function Nc(e,t,n,a){var i=St();a=a===void 0?null:a;var s=i.memoizedState.inst;We!==null&&a!==null&&kf(a,We.memoizedState.deps)?i.memoizedState=Ys(t,s,n,a):(me.flags|=e,i.memoizedState=Ys(1|t,s,n,a))}function bm(e,t){bo(8390656,8,e,t)}function qf(e,t){Nc(2048,8,e,t)}function cS(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=jc(),me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ev(e){var t=St().memoizedState;return cS({ref:t,nextImpl:e}),function(){if(Be&2)throw Error(C(440));return t.impl.apply(void 0,arguments)}}function Tv(e,t){return Nc(4,2,e,t)}function jv(e,t){return Nc(4,4,e,t)}function Ov(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nv(e,t,n){n=n!=null?n.concat([e]):null,Nc(4,4,Ov.bind(null,t,e),n)}function Yf(){}function Dv(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&kf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Av(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&kf(t,a[1]))return a[0];if(a=e(),Ki){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a}function Vf(e,t,n){return n===void 0||Ra&1073741824&&!(je&261930)?e.memoizedState=t:(e.memoizedState=n,e=pp(),me.lanes|=e,hi|=e,n)}function Cv(e,t,n,a){return Cn(n,t)?n:qs.current!==null?(e=Vf(e,n,a),Cn(e,t)||(Rt=!0),e):!(Ra&42)||Ra&1073741824&&!(je&261930)?(Rt=!0,e.memoizedState=n):(e=pp(),me.lanes|=e,hi|=e,t)}function Rv(e,t,n,a,i){var s=He.p;He.p=s!==0&&8>s?s:8;var r=ae.T,l={};ae.T=l,Gf(e,!1,t,n);try{var o=i(),u=ae.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=iS(o,a);$r(e,t,f,An(e))}else $r(e,t,a,An(e))}catch(d){$r(e,t,{then:function(){},status:"rejected",reason:d},An())}finally{He.p=s,r!==null&&l.types!==null&&(r.types=l.types),ae.T=r}}function uS(){}function bd(e,t,n,a){if(e.tag!==5)throw Error(C(476));var i=Mv(e).queue;Rv(e,i,t,$i,n===null?uS:function(){return kv(e),n(a)})}function Mv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$i,baseState:$i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:$i},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kv(e){var t=Mv(e);t.next===null&&(t=e.alternate.memoizedState),$r(e,t.next.queue,{},An())}function If(){return Ft(rl)}function Uv(){return St().memoizedState}function zv(){return St().memoizedState}function dS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=ai(n);var a=ii(t,e,n);a!==null&&(yn(a,t,n),kr(a,t,n)),t={cache:Df()},e.payload=t;return}t=t.return}}function fS(e,t,n){var a=An();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Dc(e)?Lv(t,n):(n=Tf(e,t,n,a),n!==null&&(yn(n,e,a),Bv(n,t,a)))}function $v(e,t,n){var a=An();$r(e,t,n,a)}function $r(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))Lv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,r))return Ec(e,t,i,0),et===null&&xc(),!1}catch{}finally{}if(n=Tf(e,t,i,a),n!==null)return yn(n,e,a),Bv(n,t,a),!0}return!1}function Gf(e,t,n,a){if(a={lane:2,revertLane:eh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(t)throw Error(C(479))}else t=Tf(e,n,a,2),t!==null&&yn(t,e,2)}function Dc(e){var t=e.alternate;return e===me||t!==null&&t===me}function Lv(e,t){Ms=Yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ey(e,n)}}var al={readContext:Ft,use:Oc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};al.useEffectEvent=pt;var Hv={readContext:Ft,use:Oc,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:bm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bo(4194308,4,Ov.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var n=rn();t=t===void 0?null:t;var a=e();if(Ki){Za(!0);try{e()}finally{Za(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=rn();if(n!==void 0){var i=n(t);if(Ki){Za(!0);try{n(t)}finally{Za(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=fS.bind(null,me,e),[a.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:function(e){e=vd(e);var t=e.queue,n=$v.bind(null,me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yf,useDeferredValue:function(e,t){var n=rn();return Vf(n,e,t)},useTransition:function(){var e=vd(!1);return e=Rv.bind(null,me,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=me,i=rn();if(De){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),et===null)throw Error(C(349));je&127||hv(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bm(gv.bind(null,a,s,e),[e]),a.flags|=2048,Ys(9,{destroy:void 0},mv.bind(null,a,s,n,t),null),n},useId:function(){var e=rn(),t=et.identifierPrefix;if(De){var n=ra,a=sa;n=(a&~(1<<32-Dn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Vo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=sS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:If,useFormState:ym,useActionState:ym,useOptimistic:function(e){var t=rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gf.bind(null,me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bf,useCacheRefresh:function(){return rn().memoizedState=dS.bind(null,me)},useEffectEvent:function(e){var t=rn(),n={impl:e};return t.memoizedState=n,function(){if(Be&2)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},Kf={readContext:Ft,use:Oc,useCallback:Dv,useContext:Ft,useEffect:qf,useImperativeHandle:Nv,useInsertionEffect:Tv,useLayoutEffect:jv,useMemo:Av,useReducer:po,useRef:xv,useState:function(){return po(Ma)},useDebugValue:Yf,useDeferredValue:function(e,t){var n=St();return Cv(n,We.memoizedState,e,t)},useTransition:function(){var e=po(Ma)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Sl(e),t]},useSyncExternalStore:fv,useId:Uv,useHostTransitionStatus:If,useFormState:vm,useActionState:vm,useOptimistic:function(e,t){var n=St();return pv(n,We,e,t)},useMemoCache:Bf,useCacheRefresh:zv};Kf.useEffectEvent=Ev;var qv={readContext:Ft,use:Oc,useCallback:Dv,useContext:Ft,useEffect:qf,useImperativeHandle:Nv,useInsertionEffect:Tv,useLayoutEffect:jv,useMemo:Av,useReducer:uu,useRef:xv,useState:function(){return uu(Ma)},useDebugValue:Yf,useDeferredValue:function(e,t){var n=St();return We===null?Vf(n,e,t):Cv(n,We.memoizedState,e,t)},useTransition:function(){var e=uu(Ma)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Sl(e),t]},useSyncExternalStore:fv,useId:Uv,useHostTransitionStatus:If,useFormState:pm,useActionState:pm,useOptimistic:function(e,t){var n=St();return We!==null?pv(n,We,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:zv};qv.useEffectEvent=Ev;function du(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _d={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(yn(t,e,a),kr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=An(),i=ai(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,a),t!==null&&(yn(t,e,a),kr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),a=ai(n);a.tag=2,t!=null&&(a.callback=t),t=ii(e,a,n),t!==null&&(yn(t,e,n),kr(t,e,n))}};function _m(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,a)||!Fr(i,s):!0}function wm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function Xi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ct({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Yv(e){Uo(e)}function Vv(e){console.error(e)}function Iv(e){Uo(e)}function Io(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Sm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function wd(e,t,n){return n=ai(n),n.tag=3,n.payload={element:null},n.callback=function(){Io(e,t)},n}function Gv(e){return e=ai(e),e.tag=3,e}function Kv(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Sm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Sm(t,n,a),typeof i!="function"&&(si===null?si=new Set([this]):si.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function hS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&er(t,n,i,!0),n=Rn.current,n!==null){switch(n.tag){case 31:case 13:return qn===null?Jo():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Bo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Su(e,a,i)),!1;case 22:return n.flags|=65536,a===Bo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Su(e,a,i)),!1}throw Error(C(435,n.tag))}return Su(e,a,i),Jo(),!1}if(De)return t=Rn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==od&&(e=Error(C(422),{cause:a}),el(Bn(e,n)))):(a!==od&&(t=Error(C(423),{cause:a}),el(Bn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Bn(a,n),i=wd(e.stateNode,a,i),cu(e,i),bt!==4&&(bt=2)),!1;var s=Error(C(520),{cause:a});if(s=Bn(s,n),Hr===null?Hr=[s]:Hr.push(s),bt!==4&&(bt=2),t===null)return!0;a=Bn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=wd(n.stateNode,a,e),cu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(si===null||!si.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Gv(i),Kv(i,e,n,a),cu(n,i),!1}n=n.return}while(n!==null);return!1}var Xf=Error(C(461)),Rt=!1;function Jt(e,t,n,a){t.child=e===null?rv(t,null,n,a):Gi(t,e.child,n,a)}function xm(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Ii(t),a=Uf(e,t,n,r,s,i),l=zf(),e!==null&&!Rt?($f(e,t,i),ka(e,t,i)):(De&&l&&Of(t),t.flags|=1,Jt(e,t,a,i),t.child)}function Em(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!jf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Xv(e,t,s,a,i)):(e=yo(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Qf(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(r,a)&&e.ref===t.ref)return ka(e,t,i)}return t.flags|=1,e=Na(s,a),e.ref=t.ref,e.return=t,t.child=e}function Xv(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Fr(s,a)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=a=s,Qf(e,i))e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,ka(e,t,i)}return Sd(e,t,n,a,i)}function Qv(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return Tm(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(t,s!==null?s.cachePool:null),s!==null?hm(t,s):gd(),cv(t);else return a=t.lanes=536870912,Tm(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(vo(t,s.cachePool),hm(t,s),Xa(),t.memoizedState=null):(e!==null&&vo(t,null),gd(),Xa());return Jt(e,t,i,n),t.child}function Tr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tm(e,t,n,a,i){var s=Af();return s=s===null?null:{parent:Ct._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&vo(t,null),gd(),cv(t),e!==null&&er(e,t,a,!0),t.childLanes=i,null}function _o(e,t){return t=Go({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jm(e,t,n){return Gi(t,e.child,null,n),e=_o(t,t.pendingProps),e.flags|=2,Sn(t),t.memoizedState=null,e}function mS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=_o(t,a),t.lanes=536870912,Tr(null,e);if(yd(t),(e=lt)?(e=Hp(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Wy(e),n.return=t,t.child=n,Pt=t,lt=null)):e=null,e===null)throw di(t);return t.lanes=536870912,null}return _o(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(yd(t),i)if(t.flags&256)t.flags&=-257,t=jm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(C(558));else if(Rt||er(e,t,n,!1),i=(n&e.childLanes)!==0,Rt||i){if(a=et,a!==null&&(r=Ty(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Pi(e,r),yn(a,e,r),Xf;Jo(),t=jm(e,t,n)}else e=s.treeContext,lt=Yn(r.nextSibling),Pt=t,De=!0,ni=null,Hn=!1,e!==null&&tv(t,e),t=_o(t,a),t.flags|=4096;return t}return e=Na(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Sd(e,t,n,a,i){return Ii(t),n=Uf(e,t,n,a,void 0,i),a=zf(),e!==null&&!Rt?($f(e,t,i),ka(e,t,i)):(De&&a&&Of(t),t.flags|=1,Jt(e,t,n,i),t.child)}function Om(e,t,n,a,i,s){return Ii(t),t.updateQueue=null,n=dv(t,a,n,i),uv(e),a=zf(),e!==null&&!Rt?($f(e,t,s),ka(e,t,s)):(De&&a&&Of(t),t.flags|=1,Jt(e,t,n,s),t.child)}function Nm(e,t,n,a,i){if(Ii(t),t.stateNode===null){var s=Es,r=n.contextType;typeof r=="object"&&r!==null&&(s=Ft(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_d,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Rf(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Ft(r):Es,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(du(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&_d.enqueueReplaceState(s,s.state,null),zr(t,a,s,i),Ur(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=Xi(n,l);s.props=o;var u=s.context,f=n.contextType;r=Es,typeof f=="object"&&f!==null&&(r=Ft(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==r)&&wm(t,s,a,r),Va=!1;var h=t.memoizedState;s.state=h,zr(t,a,s,i),Ur(),u=t.memoizedState,l||h!==u||Va?(typeof d=="function"&&(du(t,n,d,a),u=t.memoizedState),(o=Va||_m(t,n,o,a,h,u,r))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,hd(e,t),r=t.memoizedProps,f=Xi(n,r),s.props=f,d=t.pendingProps,h=s.context,u=n.contextType,o=Es,typeof u=="object"&&u!==null&&(o=Ft(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==d||h!==o)&&wm(t,s,a,o),Va=!1,h=t.memoizedState,s.state=h,zr(t,a,s,i),Ur();var m=t.memoizedState;r!==d||h!==m||Va||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof l=="function"&&(du(t,n,l,a),m=t.memoizedState),(f=Va||_m(t,n,f,a,h,m,o)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=f):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,wo(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Gi(t,e.child,null,i),t.child=Gi(t,null,n,i)):Jt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ka(e,t,i),e}function Dm(e,t,n,a){return Vi(),t.flags|=256,Jt(e,t,n,a),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:av()}}function mu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function Jv(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(i?Ka(t):Xa(),(e=lt)?(e=Hp(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=Wy(e),n.return=t,t.child=n,Pt=t,lt=null)):e=null,e===null)throw di(t);return zd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Xa(),i=t.mode,l=Go({mode:"hidden",children:l},i),a=Li(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=hu(n),a.childLanes=mu(e,r,n),t.memoizedState=fu,Tr(null,a)):(Ka(t),xd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Ka(t),t.flags&=-257,t=gu(e,t,n)):t.memoizedState!==null?(Xa(),t.child=e.child,t.flags|=128,t=null):(Xa(),l=a.fallback,i=t.mode,a=Go({mode:"visible",children:a.children},i),l=Li(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Gi(t,e.child,null,n),a=t.child,a.memoizedState=hu(n),a.childLanes=mu(e,r,n),t.memoizedState=fu,t=Tr(null,a));else if(Ka(t),zd(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(C(419)),a.stack="",a.digest=r,el({value:a,source:null,stack:null}),t=gu(e,t,n)}else if(Rt||er(e,t,n,!1),r=(n&e.childLanes)!==0,Rt||r){if(r=et,r!==null&&(a=Ty(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Pi(e,a),yn(r,e,a),Xf;Ud(l)||Jo(),t=gu(e,t,n)}else Ud(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,lt=Yn(l.nextSibling),Pt=t,De=!0,ni=null,Hn=!1,e!==null&&tv(t,e),t=xd(t,a.children),t.flags|=4096);return t}return i?(Xa(),l=a.fallback,i=t.mode,o=e.child,u=o.sibling,a=Na(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Na(u,l):(l=Li(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Tr(null,a),a=t.child,l=e.child.memoizedState,l===null?l=hu(n):(i=l.cachePool,i!==null?(o=Ct._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=av(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=mu(e,r,n),t.memoizedState=fu,Tr(e.child,a)):(Ka(t),n=e.child,e=n.sibling,n=Na(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function xd(e,t){return t=Go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Go(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function gu(e,t,n){return Gi(t,e.child,null,n),e=xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ud(e.return,t,n)}function yu(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Zv(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=wt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,it(wt,r),Jt(e,t,a,n),a=De?Wr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,n,t);else if(e.tag===19)Am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yu(t,!0,n,null,s,a);break;case"together":yu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ka(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))if(e!==null){if(er(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Na(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Na(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function gS(e,t,n){switch(t.tag){case 3:Co(t,t.stateNode.containerInfo),Ga(t,Ct,e.memoizedState.cache),Vi();break;case 27:case 5:Pu(t);break;case 4:Co(t,t.stateNode.containerInfo);break;case 10:Ga(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ka(t),t.flags|=128,null):n&t.child.childLanes?Jv(e,t,n):(Ka(t),e=ka(e,t,n),e!==null?e.sibling:null);Ka(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(er(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Zv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(wt,wt.current),a)break;return null;case 22:return t.lanes=0,Qv(e,t,n,t.pendingProps);case 24:Ga(t,Ct,e.memoizedState.cache)}return ka(e,t,n)}function Pv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Rt=!0;else{if(!Qf(e,n)&&!(t.flags&128))return Rt=!1,gS(e,t,n);Rt=!!(e.flags&131072)}else Rt=!1,De&&t.flags&1048576&&ev(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ai(t.elementType),t.type=e,typeof e=="function")jf(e)?(a=Xi(e,a),t.tag=1,t=Nm(null,t,e,a,n)):(t.tag=0,t=Sd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ff){t.tag=11,t=xm(null,t,e,a,n);break e}else if(i===hf){t.tag=14,t=Em(null,t,e,a,n);break e}}throw t=Ju(e)||e,Error(C(306,t,""))}}return t;case 0:return Sd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Xi(a,t.pendingProps),Nm(e,t,a,i,n);case 3:e:{if(Co(t,t.stateNode.containerInfo),e===null)throw Error(C(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,hd(e,t),zr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Ga(t,Ct,a),a!==s.cache&&dd(t,[Ct],n,!0),Ur(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Dm(e,t,a,n);break e}else if(a!==i){i=Bn(Error(C(424)),t),el(i),t=Dm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=Yn(e.firstChild),Pt=t,De=!0,ni=null,Hn=!0,n=rv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vi(),a===i){t=ka(e,t,n);break e}Jt(e,t,a,n)}t=t.child}return t;case 26:return wo(e,t),e===null?(n=Zm(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,a=Wo(ti.current).createElement(n),a[Zt]=t,a[vn]=e,Wt(a,n,e),It(a),t.stateNode=a):t.memoizedState=Zm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pu(t),e===null&&De&&(a=t.stateNode=qp(t.type,t.pendingProps,ti.current),Pt=t,Hn=!0,i=lt,yi(t.type)?($d=i,lt=Yn(a.firstChild)):lt=i),Jt(e,t,t.pendingProps.children,n),wo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((i=a=lt)&&(a=GS(a,t.type,t.pendingProps,Hn),a!==null?(t.stateNode=a,Pt=t,lt=Yn(a.firstChild),Hn=!1,i=!0):i=!1),i||di(t)),Pu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Md(i,s)?a=null:r!==null&&Md(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Uf(e,t,rS,null,null,n),rl._currentValue=i),wo(e,t),Jt(e,t,a,n),t.child;case 6:return e===null&&De&&((e=n=lt)&&(n=KS(n,t.pendingProps,Hn),n!==null?(t.stateNode=n,Pt=t,lt=null,e=!0):e=!1),e||di(t)),null;case 13:return Jv(e,t,n);case 4:return Co(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gi(t,null,a,n):Jt(e,t,a,n),t.child;case 11:return xm(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ga(t,t.type,a.value),Jt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ii(t),i=Ft(i),a=a(i),t.flags|=1,Jt(e,t,a,n),t.child;case 14:return Em(e,t,t.type,t.pendingProps,n);case 15:return Xv(e,t,t.type,t.pendingProps,n);case 19:return Zv(e,t,n);case 31:return mS(e,t,n);case 22:return Qv(e,t,n,t.pendingProps);case 24:return Ii(t),a=Ft(Ct),e===null?(i=Af(),i===null&&(i=et,s=Df(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Rf(t),Ga(t,Ct,i)):(e.lanes&n&&(hd(e,t),zr(t,null,null,n),Ur()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ga(t,Ct,a)):(a=s.cache,Ga(t,Ct,a),a!==i.cache&&dd(t,[Ct],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(C(156,t.tag))}function pa(e){e.flags|=4}function vu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(wp())e.flags|=8192;else throw Hi=Bo,Cf}else e.flags&=-16777217}function Cm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ip(t))if(wp())e.flags|=8192;else throw Hi=Bo,Cf}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sy():536870912,e.lanes|=t,Vs|=t)}function br(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function yS(e,t,n){var a=t.pendingProps;switch(Nf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Da(Ct),$s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(as(t)?pa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ou())),rt(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(pa(t),s!==null?(rt(t),Cm(t,s)):(rt(t),vu(t,i,null,a,n))):s?s!==e.memoizedState?(pa(t),rt(t),Cm(t,s)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&pa(t),rt(t),vu(t,i,e,a,n)),null;case 27:if(Ro(t),n=ti.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return rt(t),null}e=oa.current,as(t)?rm(t):(e=qp(i,a,n),t.stateNode=e,pa(t))}return rt(t),null;case 5:if(Ro(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(!a){if(t.stateNode===null)throw Error(C(166));return rt(t),null}if(s=oa.current,as(t))rm(t);else{var r=Wo(ti.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Zt]=t,s[vn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Wt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&pa(t)}}return rt(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&pa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(C(166));if(e=ti.current,as(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Pt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Zt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||$p(e.nodeValue,n)),e||di(t,!0)}else e=Wo(e).createTextNode(a),e[Zt]=t,t.stateNode=e}return rt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=as(t),n!==null){if(e===null){if(!a)throw Error(C(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(557));e[Zt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else n=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Sn(t),t):(Sn(t),null);if(t.flags&128)throw Error(C(558))}return rt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=as(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Zt]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),i=!1}else i=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Sn(t),t):(Sn(t),null)}return Sn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),rt(t),null);case 4:return $s(),e===null&&th(t.stateNode.containerInfo),rt(t),null;case 10:return Da(t.type),rt(t),null;case 19:if(Gt(wt),a=t.memoizedState,a===null)return rt(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)br(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qo(e),s!==null){for(t.flags|=128,br(a,!1),e=s.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Fy(n,e),n=n.sibling;return it(wt,wt.current&1|2),De&&xa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&On()>Xo&&(t.flags|=128,i=!0,br(a,!1),t.lanes=4194304)}else{if(!i)if(e=qo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),br(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!De)return rt(t),null}else 2*On()-a.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,i=!0,br(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=On(),e.sibling=null,n=wt.current,it(wt,i?n&1|2:n&1),De&&xa(t,a.treeForkCount),e):(rt(t),null);case 22:case 23:return Sn(t),Mf(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Gt(Bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Da(Ct),rt(t),null;case 25:return null;case 30:return null}throw Error(C(156,t.tag))}function vS(e,t){switch(Nf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(Ct),$s(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ro(t),null;case 31:if(t.memoizedState!==null){if(Sn(t),t.alternate===null)throw Error(C(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(wt),null;case 4:return $s(),null;case 10:return Da(t.type),null;case 22:case 23:return Sn(t),Mf(),e!==null&&Gt(Bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(Ct),null;case 25:return null;default:return null}}function Fv(e,t){switch(Nf(t),t.tag){case 3:Da(Ct),$s();break;case 26:case 27:case 5:Ro(t);break;case 4:$s();break;case 31:t.memoizedState!==null&&Sn(t);break;case 13:Sn(t);break;case 19:Gt(wt);break;case 10:Da(t.type);break;case 22:case 23:Sn(t),Mf(),e!==null&&Gt(Bi);break;case 24:Da(Ct)}}function xl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){Qe(t,t.return,l)}}function fi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(f){Qe(i,o,f)}}}a=a.next}while(a!==s)}}catch(f){Qe(t,t.return,f)}}function Wv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ov(t,n)}catch(a){Qe(e,e.return,a)}}}function ep(e,t,n){n.props=Xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Qe(e,t,a)}}function Lr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Qe(e,t,i)}}function la(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Qe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Qe(e,t,i)}else n.current=null}function tp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Qe(e,e.return,i)}}function pu(e,t,n){try{var a=e.stateNode;BS(a,e.type,n,t),a[vn]=t}catch(i){Qe(e,e.return,i)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}function Ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&yi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}function ap(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Wt(t,a,n),t[Zt]=e,t[vn]=n}catch(s){Qe(e,e.return,s)}}var Ea=!1,At=!1,_u=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function pS(e,t){if(e=e.containerInfo,Cd=ac,e=Iy(e),xf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=r+i),d!==s||a!==0&&d.nodeType!==3||(o=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=r),h===s&&++f===a&&(o=r),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rd={focusedElem:e,selectionRange:n},ac=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var b=Xi(n.type,i);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(S){Qe(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)kd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(C(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function ip(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:_a(e,n),a&4&&xl(5,n);break;case 1:if(_a(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Qe(n,n.return,r)}else{var i=Xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Qe(n,n.return,r)}}a&64&&Wv(n),a&512&&Lr(n,n.return);break;case 3:if(_a(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ov(e,t)}catch(r){Qe(n,n.return,r)}}break;case 27:t===null&&a&4&&ap(n);case 26:case 5:_a(e,n),t===null&&a&4&&tp(n),a&512&&Lr(n,n.return);break;case 12:_a(e,n);break;case 31:_a(e,n),a&4&&lp(e,n);break;case 13:_a(e,n),a&4&&op(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=OS.bind(null,n),XS(e,n))));break;case 22:if(a=n.memoizedState!==null||Ea,!a){t=t!==null&&t.memoizedState!==null||At,i=Ea;var s=At;Ea=a,(At=t)&&!s?wa(e,n,(n.subtreeFlags&8772)!==0):_a(e,n),Ea=i,At=s}break;case 30:break;default:_a(e,n)}}function sp(e){var t=e.alternate;t!==null&&(e.alternate=null,sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,mn=!1;function ba(e,t,n){for(n=n.child;n!==null;)rp(e,t,n),n=n.sibling}function rp(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 26:At||la(n,t),ba(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||la(n,t);var a=ft,i=mn;yi(n.type)&&(ft=n.stateNode,mn=!1),ba(e,t,n),Yr(n.stateNode),ft=a,mn=i;break;case 5:At||la(n,t);case 6:if(a=ft,i=mn,ft=null,ba(e,t,n),ft=a,mn=i,ft!==null)if(mn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(s){Qe(n,t,s)}else try{ft.removeChild(n.stateNode)}catch(s){Qe(n,t,s)}break;case 18:ft!==null&&(mn?(e=ft,Gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xs(e)):Gm(ft,n.stateNode));break;case 4:a=ft,i=mn,ft=n.stateNode.containerInfo,mn=!0,ba(e,t,n),ft=a,mn=i;break;case 0:case 11:case 14:case 15:fi(2,n,t),At||fi(4,n,t),ba(e,t,n);break;case 1:At||(la(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&ep(n,t,a)),ba(e,t,n);break;case 21:ba(e,t,n);break;case 22:At=(a=At)||n.memoizedState!==null,ba(e,t,n),At=a;break;default:ba(e,t,n)}}function lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xs(e)}catch(n){Qe(t,t.return,n)}}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xs(e)}catch(n){Qe(t,t.return,n)}}function bS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rm),t;default:throw Error(C(435,e.tag))}}function Xl(e,t){var n=bS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=NS.bind(null,e,a);a.then(i,i)}})}function fn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(yi(l.type)){ft=l.stateNode,mn=!1;break e}break;case 5:ft=l.stateNode,mn=!1;break e;case 3:case 4:ft=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(ft===null)throw Error(C(160));rp(s,r,i),ft=null,mn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}var Jn=null;function cp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),hn(e),a&4&&(fi(3,e,e.return),xl(3,e),fi(5,e,e.return));break;case 1:fn(t,e),hn(e),a&512&&(At||n===null||la(n,n.return)),a&64&&Ea&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Jn;if(fn(t,e),hn(e),a&512&&(At||n===null||la(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[bl]||s[Zt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Wt(s,a,n),s[Zt]=e,It(s),a=s;break e;case"link":var r=Fm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Wt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Fm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Wt(s,a,n),i.head.appendChild(s);break;default:throw Error(C(468,a))}s[Zt]=e,It(s),a=s}e.stateNode=a}else Wm(i,e.type,e.stateNode);else e.stateNode=Pm(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Wm(i,e.type,e.stateNode):Pm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:fn(t,e),hn(e),a&512&&(At||n===null||la(n,n.return)),n!==null&&a&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fn(t,e),hn(e),a&512&&(At||n===null||la(n,n.return)),e.flags&32){i=e.stateNode;try{Bs(i,"")}catch(b){Qe(e,e.return,b)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,pu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(_u=!0);break;case 6:if(fn(t,e),hn(e),a&4){if(e.stateNode===null)throw Error(C(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(b){Qe(e,e.return,b)}}break;case 3:if(Eo=null,i=Jn,Jn=ec(t.containerInfo),fn(t,e),Jn=i,hn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(b){Qe(e,e.return,b)}_u&&(_u=!1,up(e));break;case 4:a=Jn,Jn=ec(e.stateNode.containerInfo),fn(t,e),hn(e),Jn=a;break;case 12:fn(t,e),hn(e);break;case 31:fn(t,e),hn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xl(e,a)));break;case 13:fn(t,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ac=On()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xl(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Ea,f=At;if(Ea=u||i,At=f||o,fn(t,e),At=f,Ea=u,hn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Ea||At||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(b){Qe(o,o.return,b)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){Qe(o,o.return,b)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Km(m,!0):Km(o.stateNode,!1)}catch(b){Qe(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Xl(e,n))));break;case 19:fn(t,e),hn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xl(e,a)));break;case 30:break;case 21:break;default:fn(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(np(a)){n=a;break}a=a.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var i=n.stateNode,s=bu(e);Ko(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Bs(r,""),n.flags&=-33);var l=bu(e);Ko(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=bu(e);Ed(e,u,o);break;default:throw Error(C(161))}}catch(f){Qe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;up(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ip(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fi(4,t,t.return),Ci(t);break;case 1:la(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ep(t,t.return,n),Ci(t);break;case 27:Yr(t.stateNode);case 26:case 5:la(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function wa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:wa(i,s,n),xl(4,s);break;case 1:if(wa(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Qe(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)lv(o[i],l)}catch(u){Qe(a,a.return,u)}}n&&r&64&&Wv(s),Lr(s,s.return);break;case 27:ap(s);case 26:case 5:wa(i,s,n),n&&a===null&&r&4&&tp(s),Lr(s,s.return);break;case 12:wa(i,s,n);break;case 31:wa(i,s,n),n&&r&4&&lp(i,s);break;case 13:wa(i,s,n),n&&r&4&&op(i,s);break;case 22:s.memoizedState===null&&wa(i,s,n),Lr(s,s.return);break;case 30:break;default:wa(i,s,n)}t=t.sibling}}function Jf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wl(n))}function Zf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wl(e))}function Gn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(e,t,n,a),t=t.sibling}function dp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Gn(e,t,n,a),i&2048&&xl(9,t);break;case 1:Gn(e,t,n,a);break;case 3:Gn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wl(e)));break;case 12:if(i&2048){Gn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Qe(t,t.return,o)}}else Gn(e,t,n,a);break;case 31:Gn(e,t,n,a);break;case 13:Gn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Gn(e,t,n,a):Br(e,t):s._visibility&2?Gn(e,t,n,a):(s._visibility|=2,ds(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Jf(r,t);break;case 24:Gn(e,t,n,a),i&2048&&Zf(t.alternate,t);break;default:Gn(e,t,n,a)}}function ds(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ds(s,r,l,o,i),xl(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?ds(s,r,l,o,i):Br(s,r):(f._visibility|=2,ds(s,r,l,o,i)),i&&u&2048&&Jf(r.alternate,r);break;case 24:ds(s,r,l,o,i),i&&u&2048&&Zf(r.alternate,r);break;default:ds(s,r,l,o,i)}t=t.sibling}}function Br(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Br(n,a),i&2048&&Jf(a.alternate,a);break;case 24:Br(n,a),i&2048&&Zf(a.alternate,a);break;default:Br(n,a)}t=t.sibling}}var jr=8192;function is(e,t,n){if(e.subtreeFlags&jr)for(e=e.child;e!==null;)fp(e,t,n),e=e.sibling}function fp(e,t,n){switch(e.tag){case 26:is(e,t,n),e.flags&jr&&e.memoizedState!==null&&sx(n,Jn,e.memoizedState,e.memoizedProps);break;case 5:is(e,t,n);break;case 3:case 4:var a=Jn;Jn=ec(e.stateNode.containerInfo),is(e,t,n),Jn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=jr,jr=16777216,is(e,t,n),jr=a):is(e,t,n));break;default:is(e,t,n)}}function hp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _r(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Yt=a,gp(a,e)}hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:_r(e),e.flags&2048&&fi(9,e,e.return);break;case 3:_r(e);break;case 12:_r(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,So(e)):_r(e);break;default:_r(e)}}function So(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Yt=a,gp(a,e)}hp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fi(8,t,t.return),So(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,So(t));break;default:So(t)}e=e.sibling}}function gp(e,t){for(;Yt!==null;){var n=Yt;switch(n.tag){case 0:case 11:case 15:fi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:wl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Yt=a;else e:for(n=e;Yt!==null;){a=Yt;var i=a.sibling,s=a.return;if(sp(a),a===n){Yt=null;break e}if(i!==null){i.return=s,Yt=i;break e}Yt=s}}}var _S={getCacheForType:function(e){var t=Ft(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ft(Ct).controller.signal}},wS=typeof WeakMap=="function"?WeakMap:Map,Be=0,et=null,Te=null,je=0,Xe=0,wn=null,Fa=!1,nr=!1,Pf=!1,Ua=0,bt=0,hi=0,qi=0,Ff=0,jn=0,Vs=0,Hr=null,gn=null,Td=!1,Ac=0,yp=0,Xo=1/0,Qo=null,si=null,zt=0,ri=null,Is=null,Aa=0,jd=0,Od=null,vp=null,qr=0,Nd=null;function An(){return Be&2&&je!==0?je&-je:ae.T!==null?eh():jy()}function pp(){if(jn===0)if(!(je&536870912)||De){var e=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),jn=e}else jn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),jn}function yn(e,t,n){(e===et&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),Wa(e,je,jn,!1)),pl(e,n),(!(Be&2)||e!==et)&&(e===et&&(!(Be&2)&&(qi|=n),bt===4&&Wa(e,je,jn,!1)),ua(e))}function bp(e,t,n){if(Be&6)throw Error(C(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vl(e,t),i=a?ES(e,t):wu(e,t,!0),s=a;do{if(i===0){nr&&!a&&Wa(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!SS(n)){i=wu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Hr;var o=l.current.memoizedState.isDehydrated;if(o&&(Gs(l,r).flags|=256),r=wu(l,r,!1),r!==2){if(Pf&&!o){l.errorRecoveryDisabledLanes|=s,qi|=s,i=4;break e}s=gn,gn=i,s!==null&&(gn===null?gn=s:gn.push.apply(gn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Gs(e,0),Wa(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(C(345));case 4:if((t&4194048)!==t)break;case 6:Wa(a,t,jn,!Fa);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(C(329))}if((t&62914560)===t&&(i=Ac+300-On(),10<i)){if(Wa(a,t,jn,!Fa),bc(a,0,!0)!==0)break e;Aa=t,a.timeoutHandle=Bp(Mm.bind(null,a,n,gn,Qo,Td,t,jn,qi,Vs,Fa,s,"Throttled",-0,0),i);break e}Mm(a,n,gn,Qo,Td,t,jn,qi,Vs,Fa,s,null,-0,0)}}break}while(!0);ua(e)}function Mm(e,t,n,a,i,s,r,l,o,u,f,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},fp(t,s,d);var b=(s&62914560)===s?Ac-On():(s&4194048)===s?yp-On():0;if(b=rx(d,b),b!==null){Aa=s,e.cancelPendingCommit=b(Um.bind(null,e,t,s,n,a,i,r,l,o,f,d,null,h,m)),Wa(e,s,r,!u);return}}Um(e,t,s,n,a,i,r,l,o)}function SS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t,n,a){t&=~Ff,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Dn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&xy(e,n,t)}function Cc(){return Be&6?!0:(El(0),!1)}function Wf(){if(Te!==null){if(Xe===0)var e=Te.return;else e=Te,Oa=Fi=null,Lf(e),Rs=null,tl=0,e=Te;for(;e!==null;)Fv(e.alternate,e),e=e.return;Te=null}}function Gs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,YS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Aa=0,Wf(),et=e,Te=n=Na(e.current,null),je=t,Xe=0,wn=null,Fa=!1,nr=vl(e,t),Pf=!1,Vs=jn=Ff=qi=hi=bt=0,gn=Hr=null,Td=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Dn(a),s=1<<i;t|=e[i],a&=~s}return Ua=t,xc(),n}function _p(e,t){me=null,ae.H=al,t===tr||t===Tc?(t=dm(),Xe=3):t===Cf?(t=dm(),Xe=4):Xe=t===Xf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Te===null&&(bt=1,Io(e,Bn(t,e.current)))}function wp(){var e=Rn.current;return e===null?!0:(je&4194048)===je?qn===null:(je&62914560)===je||je&536870912?e===qn:!1}function Sp(){var e=ae.H;return ae.H=al,e===null?al:e}function xp(){var e=ae.A;return ae.A=_S,e}function Jo(){bt=4,Fa||(je&4194048)!==je&&Rn.current!==null||(nr=!0),!(hi&134217727)&&!(qi&134217727)||et===null||Wa(et,je,jn,!1)}function wu(e,t,n){var a=Be;Be|=2;var i=Sp(),s=xp();(et!==e||je!==t)&&(Qo=null,Gs(e,t)),t=!1;var r=bt;e:do try{if(Xe!==0&&Te!==null){var l=Te,o=wn;switch(Xe){case 8:Wf(),r=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(t=!0);var u=Xe;if(Xe=0,wn=null,Os(e,l,o,u),n&&nr){r=0;break e}break;default:u=Xe,Xe=0,wn=null,Os(e,l,o,u)}}xS(),r=bt;break}catch(f){_p(e,f)}while(!0);return t&&e.shellSuspendCounter++,Oa=Fi=null,Be=a,ae.H=i,ae.A=s,Te===null&&(et=null,je=0,xc()),r}function xS(){for(;Te!==null;)Ep(Te)}function ES(e,t){var n=Be;Be|=2;var a=Sp(),i=xp();et!==e||je!==t?(Qo=null,Xo=On()+500,Gs(e,t)):nr=vl(e,t);e:do try{if(Xe!==0&&Te!==null){t=Te;var s=wn;t:switch(Xe){case 1:Xe=0,wn=null,Os(e,t,s,1);break;case 2:case 9:if(um(s)){Xe=0,wn=null,km(t);break}t=function(){Xe!==2&&Xe!==9||et!==e||(Xe=7),ua(e)},s.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:um(s)?(Xe=0,wn=null,km(t)):(Xe=0,wn=null,Os(e,t,s,7));break;case 5:var r=null;switch(Te.tag){case 26:r=Te.memoizedState;case 5:case 27:var l=Te;if(r?Ip(r):l.stateNode.complete){Xe=0,wn=null;var o=l.sibling;if(o!==null)Te=o;else{var u=l.return;u!==null?(Te=u,Rc(u)):Te=null}break t}}Xe=0,wn=null,Os(e,t,s,5);break;case 6:Xe=0,wn=null,Os(e,t,s,6);break;case 8:Wf(),bt=6;break e;default:throw Error(C(462))}}TS();break}catch(f){_p(e,f)}while(!0);return Oa=Fi=null,ae.H=a,ae.A=i,Be=n,Te!==null?0:(et=null,je=0,xc(),bt)}function TS(){for(;Te!==null&&!Q_();)Ep(Te)}function Ep(e){var t=Pv(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,t===null?Rc(e):Te=t}function km(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Om(n,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Om(n,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Lf(t);default:Fv(n,t),t=Te=Fy(t,Ua),t=Pv(n,t,Ua)}e.memoizedProps=e.pendingProps,t===null?Rc(e):Te=t}function Os(e,t,n,a){Oa=Fi=null,Lf(t),Rs=null,tl=0;var i=t.return;try{if(hS(e,i,t,n,je)){bt=1,Io(e,Bn(n,e.current)),Te=null;return}}catch(s){if(i!==null)throw Te=i,s;bt=1,Io(e,Bn(n,e.current)),Te=null;return}t.flags&32768?(De||a===1?e=!0:nr||je&536870912?e=!1:(Fa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Tp(t,e)):Rc(t)}function Rc(e){var t=e;do{if(t.flags&32768){Tp(t,Fa);return}e=t.return;var n=yS(t.alternate,t,Ua);if(n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);bt===0&&(bt=5)}function Tp(e,t){do{var n=vS(e.alternate,e);if(n!==null){n.flags&=32767,Te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=n}while(e!==null);bt=6,Te=null}function Um(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do Mc();while(zt!==0);if(Be&6)throw Error(C(327));if(t!==null){if(t===e.current)throw Error(C(177));if(s=t.lanes|t.childLanes,s|=Ef,iw(e,n,s,r,l,o),e===et&&(Te=et=null,je=0),Is=t,ri=e,Aa=n,jd=s,Od=i,vp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,DS(Mo,function(){return Ap(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ae.T,ae.T=null,i=He.p,He.p=2,r=Be,Be|=4;try{pS(e,t,n)}finally{Be=r,He.p=i,ae.T=a}}zt=1,jp(),Op(),Np()}}function jp(){if(zt===1){zt=0;var e=ri,t=Is,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ae.T,ae.T=null;var a=He.p;He.p=2;var i=Be;Be|=4;try{cp(t,e);var s=Rd,r=Iy(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Vy(l.ownerDocument.documentElement,l)){if(o!==null&&xf(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),b=l.textContent.length,S=Math.min(o.start,b),E=o.end===void 0?S:Math.min(o.end,b);!m.extend&&S>E&&(r=E,E=S,S=r);var v=am(l,S),g=am(l,E);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=d.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),S>E?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(d=[],m=l;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ac=!!Cd,Rd=Cd=null}finally{Be=i,He.p=a,ae.T=n}}e.current=t,zt=2}}function Op(){if(zt===2){zt=0;var e=ri,t=Is,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ae.T,ae.T=null;var a=He.p;He.p=2;var i=Be;Be|=4;try{ip(e,t.alternate,t)}finally{Be=i,He.p=a,ae.T=n}}zt=3}}function Np(){if(zt===4||zt===3){zt=0,J_();var e=ri,t=Is,n=Aa,a=vp;t.subtreeFlags&10256||t.flags&10256?zt=5:(zt=0,Is=ri=null,Dp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(si=null),yf(n),t=t.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ae.T,i=He.p,He.p=2,ae.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{ae.T=t,He.p=i}}Aa&3&&Mc(),ua(e),i=e.pendingLanes,n&261930&&i&42?e===Nd?qr++:(qr=0,Nd=e):qr=0,El(0)}}function Dp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wl(t)))}function Mc(){return jp(),Op(),Np(),Ap()}function Ap(){if(zt!==5)return!1;var e=ri,t=jd;jd=0;var n=yf(Aa),a=ae.T,i=He.p;try{He.p=32>n?32:n,ae.T=null,n=Od,Od=null;var s=ri,r=Aa;if(zt=0,Is=ri=null,Aa=0,Be&6)throw Error(C(331));var l=Be;if(Be|=4,mp(s.current),dp(s,s.current,r,n),Be=l,El(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(yl,s)}catch{}return!0}finally{He.p=i,ae.T=a,Dp(e,t)}}function zm(e,t,n){t=Bn(n,t),t=wd(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(pl(e,2),ua(e))}function Qe(e,t,n){if(e.tag===3)zm(e,e,n);else for(;t!==null;){if(t.tag===3){zm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=Bn(n,e),n=Gv(2),a=ii(t,n,2),a!==null&&(Kv(n,a,t,e),pl(a,2),ua(a));break}}t=t.return}}function Su(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new wS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Pf=!0,i.add(n),e=jS.bind(null,e,t,n),t.then(e,e))}function jS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,et===e&&(je&n)===n&&(bt===4||bt===3&&(je&62914560)===je&&300>On()-Ac?!(Be&2)&&Gs(e,0):Ff|=n,Vs===je&&(Vs=0)),ua(e)}function Cp(e,t){t===0&&(t=Sy()),e=Pi(e,t),e!==null&&(pl(e,t),ua(e))}function OS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cp(e,n)}function NS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(C(314))}a!==null&&a.delete(t),Cp(e,n)}function DS(e,t){return mf(e,t)}var Zo=null,fs=null,Dd=!1,Po=!1,xu=!1,ei=0;function ua(e){e!==fs&&e.next===null&&(fs===null?Zo=fs=e:fs=fs.next=e),Po=!0,Dd||(Dd=!0,CS())}function El(e,t){if(!xu&&Po){xu=!0;do for(var n=!1,a=Zo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Dn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,$m(a,s))}else s=je,s=bc(a,a===et?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||vl(a,s)||(n=!0,$m(a,s));a=a.next}while(n);xu=!1}}function AS(){Rp()}function Rp(){Po=Dd=!1;var e=0;ei!==0&&qS()&&(e=ei);for(var t=On(),n=null,a=Zo;a!==null;){var i=a.next,s=Mp(a,t);s===0?(a.next=null,n===null?Zo=i:n.next=i,i===null&&(fs=n)):(n=a,(e!==0||s&3)&&(Po=!0)),a=i}zt!==0&&zt!==5||El(e),ei!==0&&(ei=0)}function Mp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Dn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=aw(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=et,n=je,n=bc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Pc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||vl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Pc(a),yf(n)){case 2:case 8:n=_y;break;case 32:n=Mo;break;case 268435456:n=wy;break;default:n=Mo}return a=kp.bind(null,e),n=mf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Pc(a),e.callbackPriority=2,e.callbackNode=null,2}function kp(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mc()&&e.callbackNode!==n)return null;var a=je;return a=bc(e,e===et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(bp(e,a,t),Mp(e,On()),e.callbackNode!=null&&e.callbackNode===n?kp.bind(null,e):null)}function $m(e,t){if(Mc())return null;bp(e,t,!0)}function CS(){VS(function(){Be&6?mf(by,AS):Rp()})}function eh(){if(ei===0){var e=Hs;e===0&&(e=Ll,Ll<<=1,!(Ll&261888)&&(Ll=256)),ei=e}return ei}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function RS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Lm((i[vn]||null).action),r=a.submitter;r&&(t=(t=r[vn]||null)?Lm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new _c("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ei!==0){var o=r?Bm(i,r):new FormData(i);bd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?Bm(i,r):new FormData(i),bd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var Eu=0;Eu<ld.length;Eu++){var Tu=ld[Eu],MS=Tu.toLowerCase(),kS=Tu[0].toUpperCase()+Tu.slice(1);Wn(MS,"on"+kS)}Wn(Ky,"onAnimationEnd");Wn(Xy,"onAnimationIteration");Wn(Qy,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(Zw,"onTransitionRun");Wn(Pw,"onTransitionStart");Wn(Fw,"onTransitionCancel");Wn(Jy,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Up(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(f){Uo(f)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(f){Uo(f)}i.currentTarget=null,s=o}}}}function Ee(e,t){var n=t[Wu];n===void 0&&(n=t[Wu]=new Set);var a=e+"__bubble";n.has(a)||(zp(t,e,2,!1),n.add(a))}function ju(e,t,n){var a=0;t&&(a|=4),zp(n,e,a,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[Ql]){e[Ql]=!0,Oy.forEach(function(n){n!=="selectionchange"&&(US.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,ju("selectionchange",!1,t))}}function zp(e,t,n,a){switch(Jp(t)){case 2:var i=cx;break;case 8:i=ux;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!id||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ou(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=ps(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}Uy(function(){var u=s,f=bf(n),d=[];e:{var h=Zy.get(e);if(h!==void 0){var m=_c,b=e;switch(e){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":m=Nw;break;case"focusin":b="focus",m=nu;break;case"focusout":b="blur",m=nu;break;case"beforeblur":case"afterblur":m=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Cw;break;case Ky:case Xy:case Qy:m=bw;break;case Jy:m=Mw;break;case"scroll":case"scrollend":m=mw;break;case"wheel":m=Uw;break;case"copy":case"cut":case"paste":m=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jh;break;case"toggle":case"beforetoggle":m=$w}var S=(t&4)!==0,E=!S&&(e==="scroll"||e==="scrollend"),v=S?h!==null?h+"Capture":null:h;S=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||v===null||(w=Zr(g,v),w!=null&&S.push(sl(g,w,y))),E)break;g=g.return}0<S.length&&(h=new m(h,b,null,n,f),d.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==ad&&(b=n.relatedTarget||n.fromElement)&&(ps(b)||b[Fs]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?ps(b):null,b!==null&&(E=gl(b),S=b.tag,b!==E||S!==5&&S!==27&&S!==6)&&(b=null)):(m=null,b=u),m!==b)){if(S=Xh,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(S=Jh,w="onPointerLeave",v="onPointerEnter",g="pointer"),E=m==null?h:Er(m),y=b==null?h:Er(b),h=new S(w,g+"leave",m,n,f),h.target=E,h.relatedTarget=y,w=null,ps(f)===u&&(S=new S(v,g+"enter",b,n,f),S.target=y,S.relatedTarget=E,w=S),E=w,m&&b)t:{for(S=zS,v=m,g=b,y=0,w=v;w;w=S(w))y++;w=0;for(var _=g;_;_=S(_))w++;for(;0<y-w;)v=S(v),y--;for(;0<w-y;)g=S(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate){S=v;break t}v=S(v),g=S(g)}S=null}else S=null;m!==null&&Hm(d,h,m,S,!1),b!==null&&E!==null&&Hm(d,E,b,S,!0)}}e:{if(h=u?Er(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=Wh;else if(Fh(h))if(qy)x=Xw;else{x=Gw;var T=Iw}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&pf(u.elementType)&&(x=Wh):x=Kw;if(x&&(x=x(e,u))){Hy(d,x,n,f);break e}T&&T(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&nd(h,"number",h.value)}switch(T=u?Er(u):window,e){case"focusin":(Fh(T)||T.contentEditable==="true")&&(ws=T,sd=u,Rr=null);break;case"focusout":Rr=sd=ws=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,im(d,n,f);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":im(d,n,f)}var O;if(Sf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else _s?Ly(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&($y&&n.locale!=="ko"&&(_s||N!=="onCompositionStart"?N==="onCompositionEnd"&&_s&&(O=zy()):(Pa=f,_f="value"in Pa?Pa.value:Pa.textContent,_s=!0)),T=Fo(u,N),0<T.length&&(N=new Qh(N,e,null,n,f),d.push({event:N,listeners:T}),O?N.data=O:(O=By(n),O!==null&&(N.data=O)))),(O=Bw?Hw(e,n):qw(e,n))&&(N=Fo(u,"onBeforeInput"),0<N.length&&(T=new Qh("onBeforeInput","beforeinput",null,n,f),d.push({event:T,listeners:N}),T.data=O)),RS(d,e,u,n,f)}Up(d,t)})}function sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Zr(e,n),i!=null&&a.unshift(sl(e,i,s)),i=Zr(e,t),i!=null&&a.push(sl(e,i,s))),e.tag===3)return a;e=e.return}return[]}function zS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hm(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=Zr(n,s),u!=null&&r.unshift(sl(n,u,o))):i||(u=Zr(n,s),u!=null&&r.push(sl(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var $S=/\r\n?/g,LS=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace($S,`
`).replace(LS,"")}function $p(e,t){return t=qm(t),qm(e)===t}function Pe(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Bs(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Bs(e,""+a);break;case"className":ql(e,"class",a);break;case"tabIndex":ql(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,n,a);break;case"style":ky(e,a,s);break;case"data":if(t!=="object"){ql(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ho(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",i.name,i,null),Pe(e,t,"formEncType",i.formEncType,i,null),Pe(e,t,"formMethod",i.formMethod,i,null),Pe(e,t,"formTarget",i.formTarget,i,null)):(Pe(e,t,"encType",i.encType,i,null),Pe(e,t,"method",i.method,i,null),Pe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ho(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ja);break;case"onScroll":a!=null&&Ee("scroll",e);break;case"onScrollEnd":a!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),fo(e,"popover",a);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=fw.get(n)||n,fo(e,n,a))}}function Ad(e,t,n,a,i,s){switch(n){case"style":ky(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(C(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Bs(e,a):(typeof a=="number"||typeof a=="bigint")&&Bs(e,""+a);break;case"onScroll":a!=null&&Ee("scroll",e);break;case"onScrollEnd":a!=null&&Ee("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ny.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[vn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):fo(e,n,a)}}}function Wt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:Pe(e,t,s,r,n,null)}}i&&Pe(e,t,"srcSet",n.srcSet,n,null),a&&Pe(e,t,"src",n.src,n,null);return;case"input":Ee("invalid",e);var l=s=r=i=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":i=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(C(137,t));break;default:Pe(e,t,a,f,n,null)}}Cy(e,s,l,o,u,r,i,!1);return;case"select":Ee("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Pe(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?Ds(e,!!a,t,!1):n!=null&&Ds(e,!!a,n,!0);return;case"textarea":Ee("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(C(91));break;default:Pe(e,t,r,l,n,null)}My(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pe(e,t,o,a,n,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(a=0;a<il.length;a++)Ee(il[a],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:Pe(e,t,u,a,n,null)}return;default:if(pf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&Ad(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Pe(e,t,l,a,n,null))}function BS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,u=null,f=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(m)||Pe(e,t,m,null,a,d)}}for(var h in a){var m=a[h];if(d=n[h],a.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(C(137,t));break;default:m!==d&&Pe(e,t,h,m,a,d)}}td(e,r,l,o,u,f,s,i);return;case"select":m=r=l=h=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Pe(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Pe(e,t,i,s,a,o)}t=l,n=r,a=m,h!=null?Ds(e,!!n,h,!1):!!a!=!!n&&(t!=null?Ds(e,!!n,t,!0):Ds(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Pe(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(C(91));break;default:i!==s&&Pe(e,t,r,i,a,s)}Ry(e,h,m);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:Pe(e,t,b,null,a,h)}for(o in a)if(h=a[o],m=n[o],a.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pe(e,t,o,h,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!=null&&!a.hasOwnProperty(S)&&Pe(e,t,S,null,a,h);for(u in a)if(h=a[u],m=n[u],a.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(C(137,t));break;default:Pe(e,t,u,h,a,m)}return;default:if(pf(t)){for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!==void 0&&!a.hasOwnProperty(E)&&Ad(e,t,E,void 0,a,h);for(f in a)h=a[f],m=n[f],!a.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||Ad(e,t,f,h,a,m);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!a.hasOwnProperty(v)&&Pe(e,t,v,null,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||h==null&&m==null||Pe(e,t,d,h,a,m)}function Ym(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&Ym(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var f=o.transferSize,d=o.initiatorType;f&&Ym(d)&&(o=o.responseEnd,r+=f*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cd=null,Rd=null;function Wo(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=null;function qS(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(IS)}:Bp;function IS(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function Gm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Xs(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Yr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Yr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[bl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Yr(e.ownerDocument.body);n=i}while(n);Xs(t)}function Km(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kd(n),vf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function GS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function KS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Hp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function XS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $d=null;function Xm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function qp(e,t,n){switch(t=Wo(n),e){case"html":if(e=t.documentElement,!e)throw Error(C(452));return e;case"head":if(e=t.head,!e)throw Error(C(453));return e;case"body":if(e=t.body,!e)throw Error(C(454));return e;default:throw Error(C(451))}}function Yr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vf(e)}var Vn=new Map,Jm=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=He.d;He.d={f:QS,r:JS,D:ZS,C:PS,L:FS,m:WS,X:tx,S:ex,M:nx};function QS(){var e=za.f(),t=Cc();return e||t}function JS(e){var t=Ws(e);t!==null&&t.tag===5&&t.type==="form"?kv(t):za.r(e)}var ar=typeof document>"u"?null:document;function Yp(e,t,n){var a=ar;if(a&&typeof t=="string"&&t){var i=Ln(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Jm.has(i)||(Jm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Wt(t,"link",e),It(t),a.head.appendChild(t)))}}function ZS(e){za.D(e),Yp("dns-prefetch",e,null)}function PS(e,t){za.C(e,t),Yp("preconnect",e,t)}function FS(e,t,n){za.L(e,t,n);var a=ar;if(a&&e&&t){var i='link[rel="preload"][as="'+Ln(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ln(n.imageSizes)+'"]')):i+='[href="'+Ln(e)+'"]';var s=i;switch(t){case"style":s=Ks(e);break;case"script":s=ir(e)}Vn.has(s)||(e=ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vn.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Tl(s))||t==="script"&&a.querySelector(jl(s))||(t=a.createElement("link"),Wt(t,"link",e),It(t),a.head.appendChild(t)))}}function WS(e,t){za.m(e,t);var n=ar;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ln(a)+'"][href="'+Ln(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ir(e)}if(!Vn.has(s)&&(e=ct({rel:"modulepreload",href:e},t),Vn.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jl(s)))return}a=n.createElement("link"),Wt(a,"link",e),It(a),n.head.appendChild(a)}}}function ex(e,t,n){za.S(e,t,n);var a=ar;if(a&&e){var i=Ns(a).hoistableStyles,s=Ks(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Tl(s)))l.loading=5;else{e=ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vn.get(s))&&nh(e,n);var o=r=a.createElement("link");It(o),Wt(o,"link",e),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,xo(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function tx(e,t){za.X(e,t);var n=ar;if(n&&e){var a=Ns(n).hoistableScripts,i=ir(e),s=a.get(i);s||(s=n.querySelector(jl(i)),s||(e=ct({src:e,async:!0},t),(t=Vn.get(i))&&ah(e,t),s=n.createElement("script"),It(s),Wt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function nx(e,t){za.M(e,t);var n=ar;if(n&&e){var a=Ns(n).hoistableScripts,i=ir(e),s=a.get(i);s||(s=n.querySelector(jl(i)),s||(e=ct({src:e,async:!0,type:"module"},t),(t=Vn.get(i))&&ah(e,t),s=n.createElement("script"),It(s),Wt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Zm(e,t,n,a){var i=(i=ti.current)?ec(i):null;if(!i)throw Error(C(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ks(n.href),n=Ns(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ks(n.href);var s=Ns(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(Tl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Vn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vn.set(e,n),s||ax(i,e,n,r.state))),t&&a===null)throw Error(C(528,""));return r}if(t&&a!==null)throw Error(C(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ir(n),n=Ns(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,e))}}function Ks(e){return'href="'+Ln(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Vp(e){return ct({},e,{"data-precedence":e.precedence,precedence:null})}function ax(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Wt(t,"link",n),It(t),e.head.appendChild(t))}function ir(e){return'[src="'+Ln(e)+'"]'}function jl(e){return"script[async]"+e}function Pm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ln(n.href)+'"]');if(a)return t.instance=a,It(a),a;var i=ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),It(a),Wt(a,"style",i),xo(a,n.precedence,e),t.instance=a;case"stylesheet":i=Ks(n.href);var s=e.querySelector(Tl(i));if(s)return t.state.loading|=4,t.instance=s,It(s),s;a=Vp(n),(i=Vn.get(i))&&nh(a,i),s=(e.ownerDocument||e).createElement("link"),It(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Wt(s,"link",a),t.state.loading|=4,xo(s,n.precedence,e),t.instance=s;case"script":return s=ir(n.src),(i=e.querySelector(jl(s)))?(t.instance=i,It(i),i):(a=n,(i=Vn.get(s))&&(a=ct({},n),ah(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),It(i),Wt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(C(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,xo(a,n.precedence,e));return t.instance}function xo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function nh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ah(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eo=null;function Fm(e,t,n){if(Eo===null){var a=new Map,i=Eo=new Map;i.set(n,a)}else i=Eo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[bl]||s[Zt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Wm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ix(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ip(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function sx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ks(a.href),s=t.querySelector(Tl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=tc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,It(s);return}s=t.ownerDocument||t,a=Vp(a),(i=Vn.get(i))&&nh(a,i),s=s.createElement("link"),It(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Wt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=tc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Du=0;function rx(e,t){return e.stylesheets&&e.count===0&&To(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&To(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Du===0&&(Du=62500*HS());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&To(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Du?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)To(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function To(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,t.forEach(lx,e),nc=null,tc.call(e))}function lx(e,t){if(!(t.state.loading&4)){var n=nc.get(e);if(n)var a=n.get(null);else{n=new Map,nc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=tc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var rl={$$typeof:Ta,Provider:null,Consumer:null,_currentValue:$i,_currentValue2:$i,_threadCount:0};function ox(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Gp(e,t,n,a,i,s,r,l,o,u,f,d){return e=new ox(e,t,n,r,o,u,f,d,l),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=Df(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Rf(s),e}function Kp(e){return e?(e=Es,e):Es}function Xp(e,t,n,a,i,s){i=Kp(i),a.context===null?a.context=i:a.pendingContext=i,a=ai(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ii(e,a,t),n!==null&&(yn(n,e,t),kr(n,e,t))}function eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ih(e,t){eg(e,t),(e=e.alternate)&&eg(e,t)}function Qp(e){if(e.tag===13||e.tag===31){var t=Pi(e,67108864);t!==null&&yn(t,e,67108864),ih(e,67108864)}}function tg(e){if(e.tag===13||e.tag===31){var t=An();t=gf(t);var n=Pi(e,t);n!==null&&yn(n,e,t),ih(e,t)}}var ac=!0;function cx(e,t,n,a){var i=ae.T;ae.T=null;var s=He.p;try{He.p=2,sh(e,t,n,a)}finally{He.p=s,ae.T=i}}function ux(e,t,n,a){var i=ae.T;ae.T=null;var s=He.p;try{He.p=8,sh(e,t,n,a)}finally{He.p=s,ae.T=i}}function sh(e,t,n,a){if(ac){var i=Ld(a);if(i===null)Ou(e,t,a,ic,n),ng(e,a);else if(fx(i,e,t,n,a))a.stopPropagation();else if(ng(e,a),t&4&&-1<dx.indexOf(e)){for(;i!==null;){var s=Ws(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Di(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Dn(r);l.entanglements[1]|=o,r&=~o}ua(s),!(Be&6)&&(Xo=On()+500,El(0))}}break;case 31:case 13:l=Pi(s,2),l!==null&&yn(l,s,2),Cc(),ih(s,2)}if(s=Ld(a),s===null&&Ou(e,t,a,ic,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Ou(e,t,a,null,n)}}function Ld(e){return e=bf(e),rh(e)}var ic=null;function rh(e){if(ic=null,e=ps(e),e!==null){var t=gl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=my(t),e!==null)return e;e=null}else if(n===31){if(e=gy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ic=e,null}function Jp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z_()){case by:return 2;case _y:return 8;case Mo:case P_:return 32;case wy:return 268435456;default:return 32}default:return 32}}var Bd=!1,li=null,oi=null,ci=null,ll=new Map,ol=new Map,Qa=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function wr(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ws(t),t!==null&&Qp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fx(e,t,n,a,i){switch(t){case"focusin":return li=wr(li,e,t,n,a,i),!0;case"dragenter":return oi=wr(oi,e,t,n,a,i),!0;case"mouseover":return ci=wr(ci,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return ll.set(s,wr(ll.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ol.set(s,wr(ol.get(s)||null,e,t,n,a,i)),!0}return!1}function Zp(e){var t=ps(e.target);if(t!==null){var n=gl(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Hh(e.priority,function(){tg(n)});return}}else if(t===31){if(t=gy(n),t!==null){e.blockedOn=t,Hh(e.priority,function(){tg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ld(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ad=a,n.target.dispatchEvent(a),ad=null}else return t=Ws(n),t!==null&&Qp(t),e.blockedOn=n,!1;t.shift()}return!0}function ag(e,t,n){jo(e)&&n.delete(t)}function hx(){Bd=!1,li!==null&&jo(li)&&(li=null),oi!==null&&jo(oi)&&(oi=null),ci!==null&&jo(ci)&&(ci=null),ll.forEach(ag),ol.forEach(ag)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Bd||(Bd=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,hx)))}var Zl=null;function ig(e){Zl!==e&&(Zl=e,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){Zl===e&&(Zl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(rh(a||n)===null)continue;break}var s=Ws(n);s!==null&&(e.splice(t,3),t-=3,bd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Xs(e){function t(o){return Jl(o,e)}li!==null&&Jl(li,e),oi!==null&&Jl(oi,e),ci!==null&&Jl(ci,e),ll.forEach(t),ol.forEach(t);for(var n=0;n<Qa.length;n++){var a=Qa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)Zp(n),n.blockedOn===null&&Qa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[vn]||null;if(typeof s=="function")r||ig(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[vn]||null)l=r.formAction;else if(rh(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),ig(n)}}}function Pp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function lh(e){this._internalRoot=e}kc.prototype.render=lh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));var n=t.current,a=An();Xp(n,a,e,t,null,null)};kc.prototype.unmount=lh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xp(e.current,2,null,e,null,null),Cc(),t[Fs]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qa.length&&t!==0&&t<Qa[n].priority;n++);Qa.splice(n,0,e),n===0&&Zp(e)}};var sg=fy.version;if(sg!=="19.2.0")throw Error(C(527,sg,"19.2.0"));He.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=V_(t),e=e!==null?yy(e):null,e=e===null?null:e.stateNode,e};var mx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{yl=Pl.inject(mx),Nn=Pl}catch{}}vc.createRoot=function(e,t){if(!hy(e))throw Error(C(299));var n=!1,a="",i=Yv,s=Vv,r=Iv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Gp(e,1,!1,null,null,n,a,null,i,s,r,Pp),e[Fs]=t.current,th(e),new lh(t)};vc.hydrateRoot=function(e,t,n){if(!hy(e))throw Error(C(299));var a=!1,i="",s=Yv,r=Vv,l=Iv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Gp(e,1,!0,t,n??null,a,i,o,s,r,l,Pp),t.context=Kp(null),n=t.current,a=An(),a=gf(a),i=ai(a),i.callback=null,ii(n,i,a),n=a,t.current.lanes=n,pl(t,n),ua(t),e[Fs]=t.current,th(e),new kc(t)};vc.version="19.2.0";function Fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fp)}catch(e){console.error(e)}}Fp(),ry.exports=vc;var gx=ry.exports,Hd=function(e,t){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Hd(e,t)};function Wp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var sc=function(){return sc=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sc.apply(this,arguments)};function sr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function e0(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function t0(e,t){return function(n,a){t(n,a,e)}}function n0(e,t,n,a,i,s){function r(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),d,h=!1,m=n.length-1;m>=0;m--){var b={};for(var S in a)b[S]=S==="access"?{}:a[S];for(var S in a.access)b.access[S]=a.access[S];b.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(v||null))};var E=(0,n[m])(l==="accessor"?{get:f.get,set:f.set}:f[o],b);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(d=r(E.get))&&(f.get=d),(d=r(E.set))&&(f.set=d),(d=r(E.init))&&i.unshift(d)}else(d=r(E))&&(l==="field"?i.unshift(d):f[o]=d)}u&&Object.defineProperty(u,a.name,f),h=!0}function a0(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function i0(e){return typeof e=="symbol"?e:"".concat(e)}function s0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function r0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(f){try{u(a.next(f))}catch(d){r(d)}}function o(f){try{u(a.throw(f))}catch(d){r(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function l0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return o([u,f])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],i=0}finally{a=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Uc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function o0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Uc(t,e,n)}function rc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function c0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oh(arguments[t]));return e}function u0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function d0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function f0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(b){return Promise.resolve(b).then(m,d)}}function l(m,b){a[m]&&(i[m]=function(S){return new Promise(function(E,v){s.push([m,S,E,v])>1||o(m,S)})},b&&(i[m]=b(i[m])))}function o(m,b){try{u(a[m](b))}catch(S){h(s[0][3],S)}}function u(m){m.value instanceof Qs?Promise.resolve(m.value.v).then(f,d):h(s[0][2],m)}function f(m){o("next",m)}function d(m){o("throw",m)}function h(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}}function h0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:Qs(e[i](r)),done:!1}:s?s(r):r}:s}}function m0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rc=="function"?rc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(u){s({value:u,done:l})},r)}}function g0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var yx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qd=function(e){return qd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},qd(e)};function y0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=qd(e),a=0;a<n.length;a++)n[a]!=="default"&&Uc(t,e,n[a]);return yx(t,e),t}function v0(e){return e&&e.__esModule?e:{default:e}}function p0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function b0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function _0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function w0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var vx=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function S0(e){function t(s){e.error=e.hasError?new vx(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function x0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const px={__extends:Wp,__assign:sc,__rest:sr,__decorate:e0,__param:t0,__esDecorate:n0,__runInitializers:a0,__propKey:i0,__setFunctionName:s0,__metadata:r0,__awaiter:Q,__generator:l0,__createBinding:Uc,__exportStar:o0,__values:rc,__read:oh,__spread:c0,__spreadArrays:u0,__spreadArray:d0,__await:Qs,__asyncGenerator:f0,__asyncDelegator:h0,__asyncValues:m0,__makeTemplateObject:g0,__importStar:y0,__importDefault:v0,__classPrivateFieldGet:p0,__classPrivateFieldSet:b0,__classPrivateFieldIn:_0,__addDisposableResource:w0,__disposeResources:S0,__rewriteRelativeImportExtension:x0},bx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:w0,get __assign(){return sc},__asyncDelegator:h0,__asyncGenerator:f0,__asyncValues:m0,__await:Qs,__awaiter:Q,__classPrivateFieldGet:p0,__classPrivateFieldIn:_0,__classPrivateFieldSet:b0,__createBinding:Uc,__decorate:e0,__disposeResources:S0,__esDecorate:n0,__exportStar:o0,__extends:Wp,__generator:l0,__importDefault:v0,__importStar:y0,__makeTemplateObject:g0,__metadata:r0,__param:t0,__propKey:i0,__read:oh,__rest:sr,__rewriteRelativeImportExtension:x0,__runInitializers:a0,__setFunctionName:s0,__spread:c0,__spreadArray:d0,__spreadArrays:u0,__values:rc,default:px},Symbol.toStringTag,{value:"Module"})),_x="modulepreload",wx=function(e){return"/todo-note/"+e},rg={},rr=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=wx(o),o in rg)return;rg[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":_x,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Sx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class ch extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class lg extends ch{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class og extends ch{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cg extends ch{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yd||(Yd={}));class xx{constructor(t,{headers:n={},customFetch:a,region:i=Yd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Sx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let u={},{region:f}=a;f||(f=this.region);const d=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(d.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new lg(v)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new og(m);if(!m.ok)throw new cg(m);let S=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield m.json():S==="application/octet-stream"||S==="application/pdf"?E=yield m.blob():S==="text/event-stream"?E=m:S==="multipart/form-data"?E=yield m.formData():E=yield m.text(),{data:E,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new lg(s)}:{data:null,error:s,response:s instanceof cg||s instanceof og?s.context:void 0}}})}}var ln={};const lr=Zg(bx);var Fl={},Wl={},eo={},to={},no={},Ex=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=Ex();const Tx=Js.fetch,E0=Js.fetch.bind(Js),T0=Js.Headers,jx=Js.Request,Ox=Js.Response,Wi=Object.freeze(Object.defineProperty({__proto__:null,Headers:T0,Request:jx,Response:Ox,default:E0,fetch:Tx},Symbol.toStringTag,{value:"Module"})),Nx=Zg(Wi);var ao={},ug;function j0(){if(ug)return ao;ug=1,Object.defineProperty(ao,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ao.default=e,ao}var dg;function O0(){if(dg)return no;dg=1,Object.defineProperty(no,"__esModule",{value:!0});const e=lr,t=e.__importDefault(Nx),n=e.__importDefault(j0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,d,h,m;let b=null,S=null,E=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const x=await u.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=x:S=JSON.parse(x))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&_&&_.length>1&&(E=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,v=406,g="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const w=await u.text();try{b=JSON.parse(w),Array.isArray(b)&&u.status===404&&(S=[],b=null,v=200,g="OK")}catch{u.status===404&&w===""?(v=204,g="No Content"):b={message:w}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,v=200,g="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:S,count:E,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var f,d,h;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return no.default=a,no}var fg;function N0(){if(fg)return to;fg=1,Object.defineProperty(to,"__esModule",{value:!0});const t=lr.__importDefault(O0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const d=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return to.default=n,to}var hg;function uh(){if(hg)return eo;hg=1,Object.defineProperty(eo,"__esModule",{value:!0});const t=lr.__importDefault(N0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${f}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return eo.default=a,eo}var mg;function D0(){if(mg)return Wl;mg=1,Object.defineProperty(Wl,"__esModule",{value:!0});const t=lr.__importDefault(uh());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Wl.default=n,Wl}var gg;function Dx(){if(gg)return Fl;gg=1,Object.defineProperty(Fl,"__esModule",{value:!0});const e=lr,t=e.__importDefault(D0()),n=e.__importDefault(uh());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:u}={}){var f;let d;const h=new URL(`${this.url}/rpc/${s}`);let m;l||o?(d=l?"HEAD":"GET",Object.entries(r).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{h.searchParams.append(S,E)})):(d="POST",m=r);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:b,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Fl.default=a,Fl}Object.defineProperty(ln,"__esModule",{value:!0});var A0=ln.PostgrestError=H0=ln.PostgrestBuilder=L0=ln.PostgrestTransformBuilder=z0=ln.PostgrestFilterBuilder=k0=ln.PostgrestQueryBuilder=R0=ln.PostgrestClient=void 0;const or=lr,C0=or.__importDefault(Dx());var R0=ln.PostgrestClient=C0.default;const M0=or.__importDefault(D0());var k0=ln.PostgrestQueryBuilder=M0.default;const U0=or.__importDefault(uh());var z0=ln.PostgrestFilterBuilder=U0.default;const $0=or.__importDefault(N0());var L0=ln.PostgrestTransformBuilder=$0.default;const B0=or.__importDefault(O0());var H0=ln.PostgrestBuilder=B0.default;const q0=or.__importDefault(j0());A0=ln.PostgrestError=q0.default;var Y0=ln.default={PostgrestClient:C0.default,PostgrestQueryBuilder:M0.default,PostgrestFilterBuilder:U0.default,PostgrestTransformBuilder:$0.default,PostgrestBuilder:B0.default,PostgrestError:q0.default};const Ax=p_({__proto__:null,get PostgrestBuilder(){return H0},get PostgrestClient(){return R0},get PostgrestError(){return A0},get PostgrestFilterBuilder(){return z0},get PostgrestQueryBuilder(){return k0},get PostgrestTransformBuilder(){return L0},default:Y0},[ln]),{PostgrestClient:Cx,PostgrestQueryBuilder:sO,PostgrestFilterBuilder:rO,PostgrestTransformBuilder:lO,PostgrestBuilder:oO,PostgrestError:cO}=Y0||Ax;class Rx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Mx="2.78.0",kx=`realtime-js/${Mx}`,Ux="1.0.0",Vd=1e4,zx=1e3,$x=100;var Vr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vr||(Vr={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Id;(function(e){e.websocket="websocket"})(Id||(Id={}));var Mi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mi||(Mi={}));class Lx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class V0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const yg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=Bx(r,e,t,i),s),{}):{}},Bx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?I0(s,r):Gd(r)},I0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Vx(t,n)}switch(e){case nt.bool:return Hx(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return qx(t);case nt.json:case nt.jsonb:return Yx(t);case nt.timestamp:return Ix(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Gd(t);default:return Gd(t)}},Gd=e=>e,Hx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>I0(t,l))}return e},Ix=e=>typeof e=="string"?e.replace(" ","T"):e,G0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Au{constructor(t,n,a={},i=Vd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vg||(vg={}));class Ir{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ir.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Ir.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ir.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(u,f)=>{r[u]||(o[u]=f)}),this.map(r,(u,f)=>{const d=s[u];if(d){const h=f.map(E=>E.presence_ref),m=d.map(E=>E.presence_ref),b=f.filter(E=>m.indexOf(E.presence_ref)<0),S=d.filter(E=>h.indexOf(E.presence_ref)<0);b.length>0&&(l[u]=b),S.length>0&&(o[u]=S)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),f.length>0){const d=t[l].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...h)}a(l,f,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const f=o.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pg||(pg={}));var Gr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gr||(Gr={}));var Sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class dh{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Au(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new V0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Ir(this),this.broadcastEndpointURL=G0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Gr.PRESENCE]&&this.bindings[Gr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Sa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(Sa.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,v=[];for(let g=0;g<E;g++){const y=S[g],{filter:{event:w,schema:_,table:x,filter:T}}=y,O=m&&m[g];if(O&&O.event===w&&O.schema===_&&O.table===x&&O.filter===T)v.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Sa.SUBSCRIBED);return}}).receive("error",m=>{this.state=kt.errored,t==null||t(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===kt.joined&&t===Gr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Au(this,Zn.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Au(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$x){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:f}=Zn;if(a&&[l,o,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let h=this._onMessage(r,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,S,E;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(S=m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===r}).map(m=>m.callback(h,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var b,S,E,v,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,_=(b=m.filter)===null||b===void 0?void 0:b.event;return w&&((S=n.ids)===null||S===void 0?void 0:S.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const w=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:S,table:E,commit_timestamp:v,type:g,errors:y}=b;h=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(b))}m.callback(h,a)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&dh.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yg(t.columns,t.old_record)),n}}const Cu=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gx=[1e3,2e3,5e3,1e4],Kx=1e4,Xx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qx{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cu,this.ref=0,this.reconnectTimer=null,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new Lx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>rr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wi);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Id.websocket}`,this.httpEndpoint=G0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ux}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return Mi.Connecting;case Vr.open:return Mi.Open;case Vr.closing:return Mi.Closing;default:return Mi.Closed}}isConnected(){return this.connectionState()===Mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new dh(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Xx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:kx};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new V0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Vd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:io.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Cu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>Gx[d-1]||Kx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class fh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jx extends fh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kd extends fh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Zx=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rr(()=>Promise.resolve().then(()=>Wi),void 0)).Response:Response}),Xd=e=>{if(Array.isArray(e))return e.map(n=>Xd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Xd(a)}),t},Px=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ru=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Fx=(e,t,n)=>Q(void 0,void 0,void 0,function*(){const a=yield Zx();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Jx(Ru(i),s,r))}).catch(i=>{t(new Kd(Ru(i),i))}):t(new Kd(Ru(e),e))}),Wx=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(Px(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ol(e,t,n,a,i,s){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,Wx(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Fx(o,l,a))})})}function cl(e,t,n,a){return Q(this,void 0,void 0,function*(){return Ol(e,"GET",t,n,a)})}function Qn(e,t,n,a,i){return Q(this,void 0,void 0,function*(){return Ol(e,"POST",t,a,i,n)})}function Qd(e,t,n,a,i){return Q(this,void 0,void 0,function*(){return Ol(e,"PUT",t,a,i,n)})}function e1(e,t,n,a){return Q(this,void 0,void 0,function*(){return Ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function mh(e,t,n,a,i){return Q(this,void 0,void 0,function*(){return Ol(e,"DELETE",t,a,i,n)})}class t1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}}var K0;class n1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[K0]="BlobDownloadBuilder",this.promise=null}asStream(){return new t1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}}K0=Symbol.toStringTag;const a1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i1{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=hh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return Q(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},bg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Qd:Qn)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}upload(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return Q(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:bg.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Qd(this.fetch,l.toString(),o,{headers:f});return{data:{path:s,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(gt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Qn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new fh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}update(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}copy(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return Q(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Qn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return Q(this,void 0,void 0,function*(){try{const i=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>cl(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new n1(o,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield cl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}exists(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield e1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a)&&a instanceof Kd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}list(t,n,a){return Q(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},a1),n),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const X0="2.78.0",Q0={"X-Client-Info":`storage-js/${X0}`};class s1{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Q0),n),this.fetch=hh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield cl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}createBucket(t){return Q(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class r1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Q0),n),this.fetch=hh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield cl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}}const gh={"X-Client-Info":`storage-js/${X0}`,"Content-Type":"application/json"};class J0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mu extends J0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l1 extends J0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var _g;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_g||(_g={}));const yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},o1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c1=(e,t,n)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new Mu(wg(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Mu(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Mu(l,i,r))}}else t(new l1(wg(e),e))}),u1=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(o1(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function d1(e,t,n,a,i,s){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,u1(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>c1(o,l,a))})})}function Tn(e,t,n,a,i){return Q(this,void 0,void 0,function*(){return d1(e,"POST",t,a,i,n)})}class f1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),n),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(En(a))return{data:null,error:a};throw a}})}}class h1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),n),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class m1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gh),n),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield Tn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(En(n))return{data:null,error:n};throw n}})}}class g1 extends m1{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new y1(this.url,this.headers,t,this.fetch)}}class y1 extends f1{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new v1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class v1 extends h1{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class p1 extends s1{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new i1(this.url,this.headers,t,this.fetch)}get vectors(){return new g1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new r1(this.url+"/iceberg",this.headers,this.fetch)}}const b1="2.78.0";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const _1={"X-Client-Info":`supabase-js-${Or}/${b1}`},w1={headers:_1},S1={schema:"public"},x1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E1={},T1=e=>{let t;return e?t=e:typeof fetch>"u"?t=E0:t=fetch,(...n)=>t(...n)},j1=()=>typeof Headers>"u"?T0:Headers,O1=(e,t,n)=>{const a=T1(n),i=j1();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:u}))}};function N1(e){return e.endsWith("/")?e:e+"/"}function D1(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function A1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Z0="2.78.0",hs=30*1e3,Jd=3,ku=Jd*hs,C1="http://localhost:9999",R1="supabase.auth.token",M1={"X-Client-Info":`gotrue-js/${Z0}`},Zd="X-Supabase-Api-Version",P0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U1=10*60*1e3;class ul extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z1 extends ul{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function $1(e){return Z(e)&&e.name==="AuthApiError"}class ki extends ul{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vi extends ul{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Kn extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L1(e){return Z(e)&&e.name==="AuthSessionMissingError"}class ss extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class so extends vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ro extends vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B1(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sg extends vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pd extends vi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Uu(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class xg extends vi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Fd extends vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eg=` 	
\r=`.split(""),H1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Eg.length;t+=1)e[Eg[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function Tg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(lc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(lc[a]),t.queuedBits-=6}}function F0(e,t,n){const a=H1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{V1(r,a,n)};for(let r=0;r<e.length;r+=1)F0(e.charCodeAt(r),i,s);return t.join("")}function q1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y1(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}q1(a,t)}}function V1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Us(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)F0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function I1(e){const t=[];return Y1(e,n=>t.push(n)),new Uint8Array(t)}function zi(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>Tg(i,n,a)),Tg(null,n,a),t.join("")}function G1(e){return Math.round(Date.now()/1e3)+e}function K1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},W0=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function X1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Q1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ms=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qa=async(e,t)=>{await e.removeItem(t)};class zc{constructor(){this.promise=new zc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zc.promiseConstructor=Promise;function zu(e){const t=e.split(".");if(t.length!==3)throw new Fd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!k1.test(t[a]))throw new Fd("JWT not in base64url format");return{header:JSON.parse(jg(t[0])),payload:JSON.parse(jg(t[1])),signature:Us(t[2]),raw:{header:t[0],payload:t[1]}}}async function J1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Z1(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function P1(e){return("0"+e.toString(16)).substr(-2)}function F1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,P1).join("")}async function W1(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function eE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await W1(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(e,t,n=!1){const a=F1();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await ms(e,`${t}-code-verifier`,i);const s=await eE(a);return[s,a===s?"plain":"s256"]}const tE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nE(e){const t=e.headers.get(Zd);if(!t||!t.match(tE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ls(e){if(!sE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $u(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rE(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function Og(e){return JSON.parse(JSON.stringify(e))}const Ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lE=[502,503,504];async function Ng(e){var t;if(!Q1(e))throw new Pd(Ri(e),0);if(lE.includes(e.status))throw new Pd(Ri(e),e.status);let n;try{n=await e.json()}catch(s){throw new ki(Ri(s),s)}let a;const i=nE(e);if(i&&i.getTime()>=P0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new xg(Ri(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Kn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new xg(Ri(n),e.status,n.weak_password.reasons);throw new z1(Ri(n),e.status||500,a)}const oE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function ne(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Zd]||(s[Zd]=P0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await cE(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function cE(e,t,n,a,i,s){const r=oE(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Pd(Ri(o),0)}if(l.ok||await Ng(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Ng(o)}}function Xn(e){var t;let n=null;fE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=G1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Dg(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ja(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uE(e){return{data:e,error:null}}function dE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=sr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Ag(e){return e}function fE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lu=["global","local","others"];class hE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=eb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Lu[0]){if(Lu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=sr(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ja})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ag});if(f.error)throw f.error;const d=await f.json(),h=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ls(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ja})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ls(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ls(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ja})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ls(t.userId);try{const{data:n,error:a}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ls(t.userId),ls(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ag});if(f.error)throw f.error;const d=await f.json(),h=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function Cg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const os={debug:!!(globalThis&&W0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mE extends tb{}async function gE(e,t,n){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(os.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vE(e){return parseInt(e,16)}function pE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function bE(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=nb(e.address),b=f?`${f}://${a}`:a,S=e.statement?`${e.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${m}

${S}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${E}
${v}`}class Nt extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class oc extends Nt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function _E({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ab(r)){if(s.rp.id!==r)return new Nt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function wE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ab(a)){if(n.rpId!==a)return new Nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class SE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const xE=new SE;function EE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=sr(e,["challenge","user","excludeCredentials"]),s=Us(t).buffer,r=Object.assign(Object.assign({},n),{id:Us(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Us(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function TE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=sr(e,["challenge","allowCredentials"]),i=Us(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Us(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function jE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zi(new Uint8Array(i.authenticatorData)),clientDataJSON:zi(new Uint8Array(i.clientDataJSON)),signature:zi(new Uint8Array(i.signature)),userHandle:i.userHandle?zi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ab(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rg(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function NE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc("Browser returned unexpected credential type",t)}:{data:null,error:new oc("Empty credential response",t)}}catch(t){return{data:null,error:_E({error:t,options:e})}}}async function DE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc("Browser returned unexpected credential type",t)}:{data:null,error:new oc("Empty credential response",t)}}catch(t){return{data:null,error:wE({error:t,options:e})}}}const AE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},CE={userVerification:"preferred",hints:["security-key"]};function cc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=cc(l,r):a[s]=cc(r)}else a[s]=r}return a}function RE(e,t){return cc(AE,e,t||{})}function ME(e,t){return cc(CE,e,t||{})}class kE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??xE.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=RE(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:d}=await NE({publicKey:u,signal:o});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=ME(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:d}=await DE(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new ul("rpId is required for WebAuthn authentication")};try{if(!Rg())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new ul("rpId is required for WebAuthn registration")};try{if(!Rg())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new ki("Unexpected error in register",r)}}}}yE();const UE={url:C1,storageKey:R1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mg(e,t,n){return await n()}const cs={};class dl{get jwks(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dl.nextInstanceID,dl.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},UE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eb(i.fetch),this.lock=i.lock||Mg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gE:this.lock=Mg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:W0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Z0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=X1(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),sn()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),B1(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new ki("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await rs(this.storage,this.storageKey)),s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:Xn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xn})}else throw new so("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else throw new so("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ss}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,u,f,d,h;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:S,wallet:E,statement:v,options:g}=t;let y;if(sn())if(typeof E=="object")y=E;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=E}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=nb(_[0]);let T=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!T){const N=await y.request({method:"eth_chainId"});T=vE(N)}const O={domain:w.host,address:x,statement:v,uri:w.href,version:"1",chainId:T,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=g==null?void 0:g.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=bE(O),b=await y.request({method:"personal_sign",params:[pE(m),x]})}try{const{data:S,error:E}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ss}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(Z(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,a,i,s,r,l,o,u,f,d,h,m;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:E,wallet:v,statement:g,options:y}=t;let w;if(sn())if(typeof v=="object")w=v;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let T;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")T=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)T=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),S=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(f=y==null?void 0:y.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const x=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=x}}try{const{data:E,error:v}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:zi(S)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xn});if(v)throw v;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ss}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:v})}catch(E){if(Z(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Xn});if(await qa(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ss}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(Z(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ss}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await rs(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new so("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Xn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await rs(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:uE})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Kn;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new so("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ku:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ji(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=$u()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=rE(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ja}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ja})})}catch(n){if(Z(n))return L1(n)&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Kn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await rs(this.storage,this.storageKey));const{data:u,error:f}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ja});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=zu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Kn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!sn())throw new ro("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ro(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!s||!l||!r||!u)throw new ro("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;o&&(h=parseInt(o));const m=h-f;m*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const b=h-d;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,f);const{data:S,error:E}=await this._getUser(s);if(E)throw E;const v={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:r,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(Z(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!($1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=K1(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await rs(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,u,f;const{data:d,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Z(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:u,nonce:f}=t,d=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ss}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await Z1(async i=>(i>0&&await J1(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&Uu(s)&&Date.now()+r-a<hs})}catch(a){if(this._debug(n,"error",a),Z(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),sn()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ji(this.storage,this.storageKey);if(i&&this.userStorage){let r=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await ms(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:$u()}else if(i&&!i.user&&!i.user){const r=await ji(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await qa(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,i)):i.user=$u()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ku;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${ku}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Uu(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Kn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Z(s)){const r={data:null,error:s};return Uu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ms(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Og(i);await ms(this.storage,this.storageKey,s)}else{const i=Og(n);await ms(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qa(this.storage,this.storageKey),await qa(this.storage,this.storageKey+"-code-verifier"),await qa(this.storage,this.storageKey+"-user"),this.userStorage&&await qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hs}ms, refresh threshold is ${Jd} ticks`),i<=Jd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await rs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jE(t.webauthn.credential_response):OE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:EE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=zu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Kn}})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Kn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Kn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+U1>i)return a;const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=zu(a);n!=null&&n.allowExpired||aE(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const f=iE(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,r,I1(`${l}.${o}`)))throw new Fd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}}dl.nextInstanceID=0;const zE=dl;class $E extends zE{constructor(t){super(t)}}class LE{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=A1(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:S1,realtime:E1,auth:Object.assign(Object.assign({},x1),{storageKey:o}),global:w1},f=D1(a??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=O1(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Cx(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new p1(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new xx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $E({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Qx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BE=(e,t,n)=>new LE(e,t,n);function HE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}HE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qE="https://vqpubtahhvtkftafdlrp.supabase.co",YE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",ee=BE(qE,YE);function VE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const $c=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function vh(e){return"nodeType"in e}function un(e){var t,n;return e?cr(e)?e:vh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ph(e){const{Document:t}=un(e);return e instanceof t}function Nl(e){return cr(e)?!1:e instanceof un(e).HTMLElement}function ib(e){return e instanceof un(e).SVGElement}function ur(e){return e?cr(e)?e.document:vh(e)?ph(e)?e:Nl(e)||ib(e)?e.ownerDocument:document:document:document}const Pn=$c?p.useLayoutEffect:p.useEffect;function Lc(e){const t=p.useRef(e);return Pn(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function IE(){const e=p.useRef(null),t=p.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fl(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Pn(()=>{n.current!==e&&(n.current=e)},t),n}function Dl(e,t){const n=p.useRef();return p.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function uc(e){const t=Lc(e),n=p.useRef(null),a=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function dc(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let Bu={};function Al(e,t){return p.useMemo(()=>{if(t)return t;const n=Bu[e]==null?0:Bu[e]+1;return Bu[e]=n,e+"-"+n},[e,t])}function sb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,u]of l){const f=s[o];f!=null&&(s[o]=f+e*u)}return s},{...t})}}const zs=sb(1),hl=sb(-1);function GE(e){return"clientX"in e&&"clientY"in e}function Bc(e){if(!e)return!1;const{KeyboardEvent:t}=un(e.target);return t&&e instanceof t}function KE(e){if(!e)return!1;const{TouchEvent:t}=un(e.target);return t&&e instanceof t}function fc(e){if(KE(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return GE(e)?{x:e.clientX,y:e.clientY}:null}const mi=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mi.Translate.toString(e),mi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),kg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function XE(e){return e.matches(kg)?e:e.querySelector(kg)}const QE={display:"none"};function JE(e){let{id:t,value:n}=e;return at.createElement("div",{id:t,style:QE},n)}function ZE(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return at.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function PE(){const[e,t]=p.useState("");return{announce:p.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const rb=p.createContext(null);function FE(e){const t=p.useContext(rb);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function WE(){const[e]=p.useState(()=>new Set),t=p.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[p.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const eT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},tT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function nT(e){let{announcements:t=tT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=eT}=e;const{announce:s,announcement:r}=PE(),l=Al("DndLiveRegion"),[o,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),FE(p.useMemo(()=>({onDragStart(d){let{active:h}=d;s(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:m}=d;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(d){let{active:h,over:m}=d;s(t.onDragOver({active:h,over:m}))},onDragEnd(d){let{active:h,over:m}=d;s(t.onDragEnd({active:h,over:m}))},onDragCancel(d){let{active:h,over:m}=d;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!o)return null;const f=at.createElement(at.Fragment,null,at.createElement(JE,{id:a,value:i.draggable}),at.createElement(ZE,{id:l,announcement:r}));return n?gs.createPortal(f,n):f}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function hc(){}function Ui(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Wd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Fn=Object.freeze({x:0,y:0});function lb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aT(e,t){const n=fc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function ob(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function iT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Ug(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function cb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function zg(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ef=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=zg(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=lb(zg(o),i);s.push({id:l,data:{droppableContainer:r,value:u}})}}return s.sort(ob)},sT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ug(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Ug(o),f=i.reduce((h,m,b)=>h+lb(u[b],m),0),d=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:d}})}}return s.sort(ob)};function rT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,u=e.width*e.height,f=r*l,d=f/(o+u-f);return Number(d.toFixed(4))}return 0}const lT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=rT(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(iT)};function oT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ub(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fn}function cT(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const uT=cT(1);function db(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function dT(e,t,n){const a=db(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:u,right:o+f,bottom:u+d,left:o}}const fT={ignoreTransform:!1};function dr(e,t){t===void 0&&(t=fT);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=un(e).getComputedStyle(e);u&&(n=dT(n,u,f))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function $g(e){return dr(e,{ignoreTransform:!0})}function hT(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function mT(e,t){return t===void 0&&(t=un(e).getComputedStyle(e)),t.position==="fixed"}function gT(e,t){t===void 0&&(t=un(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function Hc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(ph(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Nl(i)||ib(i)||n.includes(i))return n;const s=un(e).getComputedStyle(i);return i!==e&&gT(i,s)&&n.push(i),mT(i,s)?n:a(i.parentNode)}return e?a(e):n}function fb(e){const[t]=Hc(e,1);return t??null}function Hu(e){return!$c||!e?null:cr(e)?e:vh(e)?ph(e)||e===ur(e).scrollingElement?window:Nl(e)?e:null:null}function hb(e){return cr(e)?e.scrollX:e.scrollLeft}function mb(e){return cr(e)?e.scrollY:e.scrollTop}function tf(e){return{x:hb(e),y:mb(e)}}var Vt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Vt||(Vt={}));function gb(e){return!$c||!e?!1:e===document.scrollingElement}function yb(e){const t={x:0,y:0},n=gb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const yT={x:.2,y:.2};function vT(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=yT);const{isTop:u,isBottom:f,isLeft:d,isRight:h}=yb(e),m={x:0,y:0},b={x:0,y:0},S={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+S.height?(m.y=Vt.Backward,b.y=a*Math.abs((t.top+S.height-s)/S.height)):!f&&o>=t.bottom-S.height&&(m.y=Vt.Forward,b.y=a*Math.abs((t.bottom-S.height-o)/S.height)),!h&&l>=t.right-S.width?(m.x=Vt.Forward,b.x=a*Math.abs((t.right-S.width-l)/S.width)):!d&&r<=t.left+S.width&&(m.x=Vt.Backward,b.x=a*Math.abs((t.left+S.width-r)/S.width)),{direction:m,speed:b}}function pT(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function vb(e){return e.reduce((t,n)=>zs(t,tf(n)),Fn)}function bT(e){return e.reduce((t,n)=>t+hb(n),0)}function _T(e){return e.reduce((t,n)=>t+mb(n),0)}function pb(e,t){if(t===void 0&&(t=dr),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);fb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const wT=[["x",["left","right"],bT],["y",["top","bottom"],_T]];class bh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Hc(n),i=vb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of wT)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),f=i[s]-u;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Kr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function ST(e){const{EventTarget:t}=un(e);return e instanceof t?e:ur(e)}function qu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var kn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(kn||(kn={}));function Lg(e){e.preventDefault()}function xT(e){e.stopPropagation()}var Ne;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ne||(Ne={}));const bb={start:[Ne.Space,Ne.Enter],cancel:[Ne.Esc],end:[Ne.Space,Ne.Enter,Ne.Tab]},ET=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ne.Right:return{...n,x:n.x+25};case Ne.Left:return{...n,x:n.x-25};case Ne.Down:return{...n,y:n.y+25};case Ne.Up:return{...n,y:n.y-25}}};class qc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Kr(ur(n)),this.windowListeners=new Kr(un(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&pb(a),n(Fn)}handleKeyDown(t){if(Bc(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=bb,coordinateGetter:r=ET,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:Fn;this.referenceCoordinates||(this.referenceCoordinates=f);const d=r(t,{active:n,context:a.current,currentCoordinates:f});if(d){const h=hl(d,f),m={x:0,y:0},{scrollableAncestors:b}=a.current;for(const S of b){const E=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:w,maxScroll:_,minScroll:x}=yb(S),T=pT(S),O={x:Math.min(E===Ne.Right?T.right-T.width/2:T.right,Math.max(E===Ne.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(E===Ne.Down?T.bottom-T.height/2:T.bottom,Math.max(E===Ne.Down?T.top:T.top+T.height/2,d.y))},N=E===Ne.Right&&!g||E===Ne.Left&&!y,M=E===Ne.Down&&!w||E===Ne.Up&&!v;if(N&&O.x!==d.x){const I=S.scrollLeft+h.x,re=E===Ne.Right&&I<=_.x||E===Ne.Left&&I>=x.x;if(re&&!h.y){S.scrollTo({left:I,behavior:l});return}re?m.x=S.scrollLeft-I:m.x=E===Ne.Right?S.scrollLeft-_.x:S.scrollLeft-x.x,m.x&&S.scrollBy({left:-m.x,behavior:l});break}else if(M&&O.y!==d.y){const I=S.scrollTop+h.y,re=E===Ne.Down&&I<=_.y||E===Ne.Up&&I>=x.y;if(re&&!h.x){S.scrollTo({top:I,behavior:l});return}re?m.y=S.scrollTop-I:m.y=E===Ne.Down?S.scrollTop-_.y:S.scrollTop-x.y,m.y&&S.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,zs(hl(d,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=bb,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Bg(e){return!!(e&&"distance"in e)}function Hg(e){return!!(e&&"delay"in e)}class _h{constructor(t,n,a){var i;a===void 0&&(a=ST(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=ur(r),this.documentListeners=new Kr(this.document),this.listeners=new Kr(a),this.windowListeners=new Kr(un(r)),this.initialCoordinates=(i=fc(s))!=null?i:Fn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.DragStart,Lg),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),this.windowListeners.add(kn.ContextMenu,Lg),this.documentListeners.add(kn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Bg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(kn.Click,xT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=fc(t))!=null?n:Fn,u=hl(i,o);if(!a&&l){if(Bg(l)){if(l.tolerance!=null&&qu(u,l.tolerance))return this.handleCancel();if(qu(u,l.distance))return this.handleStart()}if(Hg(l)&&qu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ne.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const TT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ml extends _h{constructor(t){const{event:n}=t,a=ur(n.target);super(t,TT,a)}}ml.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const jT={move:{name:"mousemove"},end:{name:"mouseup"}};var nf;(function(e){e[e.RightClick=2]="RightClick"})(nf||(nf={}));class OT extends _h{constructor(t){super(t,jT,ur(t.event.target))}}OT.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===nf.RightClick?!1:(a==null||a({event:n}),!0)}}];const Yu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class af extends _h{constructor(t){super(t,Yu)}static setup(){return window.addEventListener(Yu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yu.move.name,t)};function t(){}}}af.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Xr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Xr||(Xr={}));var mc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mc||(mc={}));function NT(e){let{acceleration:t,activator:n=Xr.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=mc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:h}=e;const m=AT({delta:d,disabled:!s}),[b,S]=IE(),E=p.useRef({x:0,y:0}),v=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(n){case Xr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Xr.DraggableRect:return i}},[n,i,o]),y=p.useRef(null),w=p.useCallback(()=>{const x=y.current;if(!x)return;const T=E.current.x*v.current.x,O=E.current.y*v.current.y;x.scrollBy(T,O)},[]),_=p.useMemo(()=>l===mc.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!s||!u.length||!g){S();return}for(const x of _){if((a==null?void 0:a(x))===!1)continue;const T=u.indexOf(x),O=f[T];if(!O)continue;const{direction:N,speed:M}=vT(x,O,g,t,h);for(const I of["x","y"])m[I][N[I]]||(M[I]=0,N[I]=0);if(M.x>0||M.y>0){S(),y.current=x,b(w,r),E.current=M,v.current=N;return}}E.current={x:0,y:0},v.current={x:0,y:0},S()},[t,w,a,S,s,r,JSON.stringify(g),JSON.stringify(m),b,u,_,f,JSON.stringify(h)])}const DT={x:{[Vt.Backward]:!1,[Vt.Forward]:!1},y:{[Vt.Backward]:!1,[Vt.Forward]:!1}};function AT(e){let{delta:t,disabled:n}=e;const a=dc(t);return Dl(i=>{if(n||!a||!i)return DT;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Vt.Backward]:i.x[Vt.Backward]||s.x===-1,[Vt.Forward]:i.x[Vt.Forward]||s.x===1},y:{[Vt.Backward]:i.y[Vt.Backward]||s.y===-1,[Vt.Forward]:i.y[Vt.Forward]||s.y===1}}},[n,t,a])}function CT(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Dl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function RT(e,t){return p.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Zs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Zs||(Zs={}));var sf;(function(e){e.Optimized="optimized"})(sf||(sf={}));const qg=new Map;function MT(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=p.useState(null),{frequency:l,measure:o,strategy:u}=i,f=p.useRef(e),d=E(),h=fl(d),m=p.useCallback(function(v){v===void 0&&(v=[]),!h.current&&r(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[h]),b=p.useRef(null),S=Dl(v=>{if(d&&!n)return qg;if(!v||v===qg||f.current!==e||s!=null){const g=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const w=y.node.current,_=w?new bh(o(w),w):null;y.rect.current=_,_&&g.set(y.id,_)}return g}return v},[e,s,n,d,o]);return p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{d||m()},[n,d]),p.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),p.useEffect(()=>{d||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},l))},[l,d,m,...a]),{droppableRects:S,measureDroppableContainers:m,measuringScheduled:s!=null};function E(){switch(u){case Zs.Always:return!1;case Zs.BeforeDragging:return n;default:return!n}}}function wh(e,t){return Dl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function kT(e,t){return wh(e,t)}function UT(e){let{callback:t,disabled:n}=e;const a=Lc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yc(e){let{callback:t,disabled:n}=e;const a=Lc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function zT(e){return new bh(dr(e),e)}function Yg(e,t,n){t===void 0&&(t=zT);const[a,i]=p.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const r=UT({callback(o){if(e)for(const u of o){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),l=Yc({callback:s});return Pn(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function $T(e){const t=wh(e);return ub(e,t)}const Vg=[];function LT(e){const t=p.useRef(e),n=Dl(a=>e?a&&a!==Vg&&e&&t.current&&e.parentNode===t.current.parentNode?a:Hc(e):Vg,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function BT(e){const[t,n]=p.useState(null),a=p.useRef(e),i=p.useCallback(s=>{const r=Hu(s.target);r&&n(l=>l?(l.set(r,tf(r)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const u=Hu(o);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,tf(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const u=Hu(o);u==null||u.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>zs(s,r),Fn):vb(e):Fn,[e,t])}function Ig(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const a=e!==Fn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?hl(e,n.current):Fn}function HT(e){p.useEffect(()=>{if(!$c)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function qT(e,t){return p.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function _b(e){return p.useMemo(()=>e?hT(e):null,[e])}const Gg=[];function YT(e,t){t===void 0&&(t=dr);const[n]=e,a=_b(n?un(n):null),[i,s]=p.useState(Gg);function r(){s(()=>e.length?e.map(o=>gb(o)?a:new bh(t(o),o)):Gg)}const l=Yc({callback:r});return Pn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function wb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Nl(t)?t:e}function VT(e){let{measure:t}=e;const[n,a]=p.useState(null),i=p.useCallback(u=>{for(const{target:f}of u)if(Nl(f)){a(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),s=Yc({callback:i}),r=p.useCallback(u=>{const f=wb(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),a(f?t(f):null)},[t,s]),[l,o]=uc(r);return p.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const IT=[{sensor:ml,options:{}},{sensor:qc,options:{}}],GT={current:{}},Oo={draggable:{measure:$g},droppable:{measure:$g,strategy:Zs.WhileDragging,frequency:sf.Optimized},dragOverlay:{measure:dr}};class Qr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const KT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Oo,measureDroppableContainers:hc,windowRect:null,measuringScheduled:!1},Sb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hc,draggableNodes:new Map,over:null,measureDroppableContainers:hc},Cl=p.createContext(Sb),xb=p.createContext(KT);function XT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qr}}}function QT(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Qr(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Ut.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new Qr(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case Ut.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Qr(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function JT(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=p.useContext(Cl),s=dc(a),r=dc(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!Bc(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[o.current,u.current]){if(!f)continue;const d=XE(f);if(d){d.focus();break}}})}},[a,t,i,r,s]),null}function Eb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function ZT(e){return p.useMemo(()=>({draggable:{...Oo.draggable,...e==null?void 0:e.draggable},droppable:{...Oo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Oo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function PT(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=p.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Pn(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),d=ub(f,a);if(r||(d.x=0),l||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=fb(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,r,l,a,n])}const Vc=p.createContext({...Fn,scaleX:1,scaleY:1});var Ia;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ia||(Ia={}));const rf=p.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:f=IT,collisionDetection:d=lT,measuring:h,modifiers:m,...b}=t;const S=p.useReducer(QT,void 0,XT),[E,v]=S,[g,y]=WE(),[w,_]=p.useState(Ia.Uninitialized),x=w===Ia.Initialized,{draggable:{active:T,nodes:O,translate:N},droppable:{containers:M}}=E,I=T!=null?O.get(T):null,re=p.useRef({initial:null,translated:null}),ue=p.useMemo(()=>{var ht;return T!=null?{id:T,data:(ht=I==null?void 0:I.data)!=null?ht:GT,rect:re}:null},[T,I]),F=p.useRef(null),[be,U]=p.useState(null),[H,G]=p.useState(null),le=fl(b,Object.values(b)),_e=Al("DndDescribedBy",r),Ye=p.useMemo(()=>M.getEnabled(),[M]),Oe=ZT(h),{droppableRects:Re,measureDroppableContainers:Me,measuringScheduled:Ve}=MT(Ye,{dragging:x,dependencies:[N.x,N.y],config:Oe.droppable}),Ae=CT(O,T),nn=p.useMemo(()=>H?fc(H):null,[H]),xt=ha(),Lt=kT(Ae,Oe.draggable.measure);PT({activeNode:T!=null?O.get(T):null,config:xt.layoutShiftCompensation,initialRect:Lt,measure:Oe.draggable.measure});const q=Yg(Ae,Oe.draggable.measure,Lt),te=Yg(Ae?Ae.parentElement:null),de=p.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:Re,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ie=M.getNodeFor((n=de.current.over)==null?void 0:n.id),Ge=VT({measure:Oe.dragOverlay.measure}),st=(a=Ge.nodeRef.current)!=null?a:Ae,Ce=x?(i=Ge.rect)!=null?i:q:null,we=!!(Ge.nodeRef.current&&Ge.rect),ze=$T(we?null:q),ge=_b(st?un(st):null),Se=LT(x?Ie??Ae:null),Ke=YT(Se),$e=Eb(m,{transform:{x:N.x-ze.x,y:N.y-ze.y,scaleX:1,scaleY:1},activatorEvent:H,active:ue,activeNodeRect:q,containerNodeRect:te,draggingNodeRect:Ce,over:de.current.over,overlayNodeRect:Ge.rect,scrollableAncestors:Se,scrollableAncestorRects:Ke,windowRect:ge}),Mt=nn?zs(nn,N):null,Et=BT(Se),da=Ig(Et),$a=Ig(Et,[q]),en=zs($e,da),an=Ce?uT(Ce,$e):null,Kt=ue&&an?d({active:ue,collisionRect:an,droppableRects:Re,droppableContainers:Ye,pointerCoordinates:Mt}):null,La=cb(Kt,"id"),[ut,ea]=p.useState(null),_t=we?$e:zs($e,$a),fa=oT(_t,(s=ut==null?void 0:ut.rect)!=null?s:null,q),ta=p.useRef(null),pi=p.useCallback((ht,Tt)=>{let{sensor:Bt,options:bn}=Tt;if(F.current==null)return;const jt=O.get(F.current);if(!jt)return;const Ht=ht.nativeEvent,tn=new Bt({active:F.current,activeNode:jt,event:Ht,options:bn,context:de,onAbort(yt){if(!O.get(yt))return;const{onDragAbort:k}=le.current,z={id:yt};k==null||k(z),g({type:"onDragAbort",event:z})},onPending(yt,A,k,z){if(!O.get(yt))return;const{onDragPending:P}=le.current,X={id:yt,constraint:A,initialCoordinates:k,offset:z};P==null||P(X),g({type:"onDragPending",event:X})},onStart(yt){const A=F.current;if(A==null)return;const k=O.get(A);if(!k)return;const{onDragStart:z}=le.current,J={activatorEvent:Ht,active:{id:A,data:k.data,rect:re}};gs.unstable_batchedUpdates(()=>{z==null||z(J),_(Ia.Initializing),v({type:Ut.DragStart,initialCoordinates:yt,active:A}),g({type:"onDragStart",event:J}),U(ta.current),G(Ht)})},onMove(yt){v({type:Ut.DragMove,coordinates:yt})},onEnd:Xt(Ut.DragEnd),onCancel:Xt(Ut.DragCancel)});ta.current=tn;function Xt(yt){return async function(){const{active:k,collisions:z,over:J,scrollAdjustedTranslate:P}=de.current;let X=null;if(k&&P){const{cancelDrop:ie}=le.current;X={activatorEvent:Ht,active:k,collisions:z,delta:P,over:J},yt===Ut.DragEnd&&typeof ie=="function"&&await Promise.resolve(ie(X))&&(yt=Ut.DragCancel)}F.current=null,gs.unstable_batchedUpdates(()=>{v({type:yt}),_(Ia.Uninitialized),ea(null),U(null),G(null),ta.current=null;const ie=yt===Ut.DragEnd?"onDragEnd":"onDragCancel";if(X){const ye=le.current[ie];ye==null||ye(X),g({type:ie,event:X})}})}}},[O]),bi=p.useCallback((ht,Tt)=>(Bt,bn)=>{const jt=Bt.nativeEvent,Ht=O.get(bn);if(F.current!==null||!Ht||jt.dndKit||jt.defaultPrevented)return;const tn={active:Ht};ht(Bt,Tt.options,tn)===!0&&(jt.dndKit={capturedBy:Tt.sensor},F.current=bn,pi(Bt,Tt))},[O,pi]),_i=RT(f,bi);HT(f),Pn(()=>{q&&w===Ia.Initializing&&_(Ia.Initialized)},[q,w]),p.useEffect(()=>{const{onDragMove:ht}=le.current,{active:Tt,activatorEvent:Bt,collisions:bn,over:jt}=de.current;if(!Tt||!Bt)return;const Ht={active:Tt,activatorEvent:Bt,collisions:bn,delta:{x:en.x,y:en.y},over:jt};gs.unstable_batchedUpdates(()=>{ht==null||ht(Ht),g({type:"onDragMove",event:Ht})})},[en.x,en.y]),p.useEffect(()=>{const{active:ht,activatorEvent:Tt,collisions:Bt,droppableContainers:bn,scrollAdjustedTranslate:jt}=de.current;if(!ht||F.current==null||!Tt||!jt)return;const{onDragOver:Ht}=le.current,tn=bn.get(La),Xt=tn&&tn.rect.current?{id:tn.id,rect:tn.rect.current,data:tn.data,disabled:tn.disabled}:null,yt={active:ht,activatorEvent:Tt,collisions:Bt,delta:{x:jt.x,y:jt.y},over:Xt};gs.unstable_batchedUpdates(()=>{ea(Xt),Ht==null||Ht(yt),g({type:"onDragOver",event:yt})})},[La]),Pn(()=>{de.current={activatorEvent:H,active:ue,activeNode:Ae,collisionRect:an,collisions:Kt,droppableRects:Re,draggableNodes:O,draggingNode:st,draggingNodeRect:Ce,droppableContainers:M,over:ut,scrollableAncestors:Se,scrollAdjustedTranslate:en},re.current={initial:Ce,translated:an}},[ue,Ae,Kt,an,O,st,Ce,Re,M,ut,Se,en]),NT({...xt,delta:N,draggingRect:an,pointerCoordinates:Mt,scrollableAncestors:Se,scrollableAncestorRects:Ke});const wi=p.useMemo(()=>({active:ue,activeNode:Ae,activeNodeRect:q,activatorEvent:H,collisions:Kt,containerNodeRect:te,dragOverlay:Ge,draggableNodes:O,droppableContainers:M,droppableRects:Re,over:ut,measureDroppableContainers:Me,scrollableAncestors:Se,scrollableAncestorRects:Ke,measuringConfiguration:Oe,measuringScheduled:Ve,windowRect:ge}),[ue,Ae,q,H,Kt,te,Ge,O,M,Re,ut,Me,Se,Ke,Oe,Ve,ge]),In=p.useMemo(()=>({activatorEvent:H,activators:_i,active:ue,activeNodeRect:q,ariaDescribedById:{draggable:_e},dispatch:v,draggableNodes:O,over:ut,measureDroppableContainers:Me}),[H,_i,ue,q,v,_e,O,ut,Me]);return at.createElement(rb.Provider,{value:y},at.createElement(Cl.Provider,{value:In},at.createElement(xb.Provider,{value:wi},at.createElement(Vc.Provider,{value:fa},u)),at.createElement(JT,{disabled:(l==null?void 0:l.restoreFocus)===!1})),at.createElement(nT,{...l,hiddenTextDescribedById:_e}));function ha(){const ht=(be==null?void 0:be.autoScrollEnabled)===!1,Tt=typeof o=="object"?o.enabled===!1:o===!1,Bt=x&&!ht&&!Tt;return typeof o=="object"?{...o,enabled:Bt}:{enabled:Bt}}}),FT=p.createContext(null),Kg="button",WT="Draggable";function ej(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=Al(WT),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:h}=p.useContext(Cl),{role:m=Kg,roleDescription:b="draggable",tabIndex:S=0}=i??{},E=(o==null?void 0:o.id)===t,v=p.useContext(E?Vc:FT),[g,y]=uc(),[w,_]=uc(),x=qT(r,t),T=fl(n);Pn(()=>(d.set(t,{id:t,key:s,node:g,activatorNode:w,data:T}),()=>{const N=d.get(t);N&&N.key===s&&d.delete(t)}),[d,t]);const O=p.useMemo(()=>({role:m,tabIndex:S,"aria-disabled":a,"aria-pressed":E&&m===Kg?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[a,m,S,E,b,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:O,isDragging:E,listeners:a?void 0:x,node:g,over:h,setNodeRef:y,setActivatorNodeRef:_,transform:v}}function Tb(){return p.useContext(xb)}const tj="Droppable",nj={timeout:25};function aj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=Al(tj),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=p.useContext(Cl),f=p.useRef({disabled:n}),d=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:b,updateMeasurementsFor:S,timeout:E}={...nj,...i},v=fl(S??a),g=p.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),m.current=null},E)},[E]),y=Yc({callback:g,disabled:b||!r}),w=p.useCallback((O,N)=>{y&&(N&&(y.unobserve(N),d.current=!1),O&&y.observe(O))},[y]),[_,x]=uc(w),T=fl(t);return p.useEffect(()=>{!y||!_.current||(y.disconnect(),d.current=!1,y.observe(_.current))},[_,y]),p.useEffect(()=>(l({type:Ut.RegisterDroppable,element:{id:a,key:s,disabled:n,node:_,rect:h,data:T}}),()=>l({type:Ut.UnregisterDroppable,key:s,id:a})),[a]),p.useEffect(()=>{n!==f.current.disabled&&(l({type:Ut.SetDroppableDisabled,id:a,key:s,disabled:n}),f.current.disabled=n)},[a,s,n,l]),{active:r,rect:h,isOver:(o==null?void 0:o.id)===a,node:_,over:o,setNodeRef:x}}function ij(e){let{animation:t,children:n}=e;const[a,i]=p.useState(null),[s,r]=p.useState(null),l=dc(n);return!n&&!a&&l&&i(l),Pn(()=>{if(!s)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,a,s]),at.createElement(at.Fragment,null,n,a?p.cloneElement(a,{ref:r}):null)}const sj={x:0,y:0,scaleX:1,scaleY:1};function rj(e){let{children:t}=e;return at.createElement(Cl.Provider,{value:Sb},at.createElement(Vc.Provider,{value:sj},t))}const lj={position:"fixed",touchAction:"none"},oj=e=>Bc(e)?"transform 250ms ease":void 0,cj=p.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:u,transition:f=oj}=e;if(!l)return null;const d=i?u:{...u,scaleX:1,scaleY:1},h={...lj,width:l.width,height:l.height,top:l.top,left:l.left,transform:mi.Transform.toString(d),transformOrigin:i&&a?aT(a,l):void 0,transition:typeof f=="function"?f(a):f,...o};return at.createElement(n,{className:r,style:h,ref:t},s)}),uj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,u]of Object.entries(i))n.node.style.setProperty(o,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},dj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:mi.Transform.toString(t)},{transform:mi.Transform.toString(n)}]},fj={duration:250,easing:"ease",keyframes:dj,sideEffects:uj({styles:{active:{opacity:"0"}}})};function hj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Lc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const u=wb(r);if(!u)return;const{transform:f}=un(r).getComputedStyle(r),d=db(f);if(!d)return;const h=typeof t=="function"?t:mj(t);return pb(o,i.draggable.measure),h({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:i,transform:d})})}function mj(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...fj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...u}=s;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},d={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},h={x:o.x-f.x,y:o.y-f.y,...d},m=i({...u,active:r,dragOverlay:l,transform:{initial:o,final:h}}),[b]=m,S=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(S))return;const E=a==null?void 0:a({active:r,dragOverlay:l,...u}),v=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{E==null||E(),g()}})}}let Xg=0;function gj(e){return p.useMemo(()=>{if(e!=null)return Xg++,Xg},[e])}const yj=at.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggableNodes:b,droppableContainers:S,dragOverlay:E,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:_}=Tb(),x=p.useContext(Vc),T=gj(d==null?void 0:d.id),O=Eb(r,{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:E.rect,over:v,overlayNodeRect:E.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:x,windowRect:_}),N=wh(h),M=hj({config:a,draggableNodes:b,droppableContainers:S,measuringConfiguration:g}),I=N?E.setRef:void 0;return at.createElement(rj,null,at.createElement(ij,{animation:M},d&&T?at.createElement(cj,{key:T,id:d.id,ref:I,as:l,activatorEvent:f,adjustScale:t,className:o,transition:s,rect:N,style:{zIndex:u,...i},transform:O},n):null))});function Sh(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function vj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function lo(e){return e!==null&&e>=0}function pj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const oo={scaleX:1,scaleY:1},_j=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:i,overIndex:s,index:r}=e;const l=(t=n[i])!=null?t:a;if(!l)return null;const o=wj(n,r,i);if(r===i){const u=n[s];return u?{x:i<s?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...oo}:null}return r>i&&r<=s?{x:-l.width-o,y:0,...oo}:r<i&&r>=s?{x:l.width+o,y:0,...oo}:{x:0,y:0,...oo}};function wj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return!a||!i&&!s?0:n<t?i?a.left-(i.left+i.width):s.left-(a.left+a.width):s?s.left-(a.left+a.width):a.left-(i.left+i.width)}const jb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=Sh(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},co={scaleX:1,scaleY:1},No=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const u=s[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...co}:null}const o=Sj(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...co}:i<n&&i>=r?{x:0,y:l.height+o,...co}:{x:0,y:0,...co}};function Sj(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Ob="Sortable",Nb=at.createContext({activeIndex:-1,containerId:Ob,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jb,disabled:{draggable:!1,droppable:!1}});function Nr(e){let{children:t,id:n,items:a,strategy:i=jb,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:f}=Tb(),d=Al(Ob,n),h=l.rect!==null,m=p.useMemo(()=>a.map(x=>typeof x=="object"&&"id"in x?x.id:x),[a]),b=r!=null,S=r?m.indexOf(r.id):-1,E=u?m.indexOf(u.id):-1,v=p.useRef(m),g=!pj(m,v.current),y=E!==-1&&S===-1||g,w=bj(s);Pn(()=>{g&&b&&f(m)},[g,m,b,f]),p.useEffect(()=>{v.current=m},[m]);const _=p.useMemo(()=>({activeIndex:S,containerId:d,disabled:w,disableTransforms:y,items:m,overIndex:E,useDragOverlay:h,sortedRects:vj(m,o),strategy:i}),[S,d,w.draggable,w.droppable,y,m,E,o,h,i]);return at.createElement(Nb.Provider,{value:_},t)}const xj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return Sh(n,a,i).indexOf(t)},Ej=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},Tj={duration:200,easing:"ease"},Db="transform",jj=mi.Transition.toString({property:Db,duration:0,easing:"linear"}),Oj={roleDescription:"sortable"};function Nj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=p.useState(null),l=p.useRef(n);return Pn(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const u=dr(a.current,{ignoreTransform:!0}),f={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,i]),p.useEffect(()=>{s&&r(null)},[s]),s}function xh(e){let{animateLayoutChanges:t=Ej,attributes:n,disabled:a,data:i,getNewIndex:s=xj,id:r,strategy:l,resizeObserverConfig:o,transition:u=Tj}=e;const{items:f,containerId:d,activeIndex:h,disabled:m,disableTransforms:b,sortedRects:S,overIndex:E,useDragOverlay:v,strategy:g}=p.useContext(Nb),y=Dj(a,m),w=f.indexOf(r),_=p.useMemo(()=>({sortable:{containerId:d,index:w,items:f},...i}),[d,i,w,f]),x=p.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:T,node:O,isOver:N,setNodeRef:M}=aj({id:r,data:_,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...o}}),{active:I,activatorEvent:re,activeNodeRect:ue,attributes:F,setNodeRef:be,listeners:U,isDragging:H,over:G,setActivatorNodeRef:le,transform:_e}=ej({id:r,data:_,attributes:{...Oj,...n},disabled:y.draggable}),Ye=VE(M,be),Oe=!!I,Re=Oe&&!b&&lo(h)&&lo(E),Me=!v&&H,Ve=Me&&Re?_e:null,nn=Re?Ve??(l??g)({rects:S,activeNodeRect:ue,activeIndex:h,overIndex:E,index:w}):null,xt=lo(h)&&lo(E)?s({id:r,items:f,activeIndex:h,overIndex:E}):w,Lt=I==null?void 0:I.id,q=p.useRef({activeId:Lt,items:f,newIndex:xt,containerId:d}),te=f!==q.current.items,de=t({active:I,containerId:d,isDragging:H,isSorting:Oe,id:r,index:w,items:f,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),Ie=Nj({disabled:!de,index:w,node:O,rect:T});return p.useEffect(()=>{Oe&&q.current.newIndex!==xt&&(q.current.newIndex=xt),d!==q.current.containerId&&(q.current.containerId=d),f!==q.current.items&&(q.current.items=f)},[Oe,xt,d,f]),p.useEffect(()=>{if(Lt===q.current.activeId)return;if(Lt!=null&&q.current.activeId==null){q.current.activeId=Lt;return}const st=setTimeout(()=>{q.current.activeId=Lt},50);return()=>clearTimeout(st)},[Lt]),{active:I,activeIndex:h,attributes:F,data:_,rect:T,index:w,newIndex:xt,items:f,isOver:N,isSorting:Oe,isDragging:H,listeners:U,node:O,overIndex:E,over:G,setNodeRef:Ye,setActivatorNodeRef:le,setDroppableNodeRef:M,setDraggableNodeRef:be,transform:Ie??nn,transition:Ge()};function Ge(){if(Ie||te&&q.current.newIndex===w)return jj;if(!(Me&&!Bc(re)||!u)&&(Oe||de))return mi.Transition.toString({...u,property:Db})}}function Dj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function gc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Aj=[Ne.Down,Ne.Right,Ne.Up,Ne.Left],Ab=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(Aj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=i.get(d.id);if(h)switch(e.code){case Ne.Down:a.top<h.top&&o.push(d);break;case Ne.Up:a.top>h.top&&o.push(d);break;case Ne.Left:a.left>h.left&&o.push(d);break;case Ne.Right:a.left<h.left&&o.push(d);break}});const u=sT({collisionRect:a,droppableRects:i,droppableContainers:o});let f=cb(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const d=s.get(n.id),h=s.get(f),m=h?i.get(h.id):null,b=h==null?void 0:h.node.current;if(b&&m&&d&&h){const E=Hc(b).some((x,T)=>l[T]!==x),v=Cb(d,h),g=Cj(d,h),y=E||!v?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return y.x&&y.y?w:hl(w,y)}}}};function Cb(e,t){return!gc(e)||!gc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Cj(e,t){return!gc(e)||!gc(t)||!Cb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Yi=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Vu=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`,Rj="09",Mj="00",Fe=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},ia=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},Oi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},kj=e=>{const t=new Date;return Fe(e)===Fe(t)},Uj=()=>{const[e,t]=p.useState(null),[n,a]=p.useState(!0);return p.useEffect(()=>{ee.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=ee.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await ee.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function Eh({value:e,onChange:t}){const n=p.useRef(null),a=p.useRef(null),i=p.useRef(e),s=p.useRef(!1),[r,l]=p.useState(()=>e&&e.includes(":")?e.split(":")[0]:Rj),[o,u]=p.useState(()=>e&&e.includes(":")?e.split(":")[1]:Mj);p.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,y]=e.split(":");i.current=e,l(g),u(y)}},[e]),p.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const f=(g,y,w)=>{if(!g.current)return;const _=g.current.scrollTop,T=Math.round(_/40),O=String(T).padStart(2,"0");y(O)},d=(g,y)=>{if(!g.current)return;const w=40,_=parseInt(y,10);g.current.scrollTop=_*w};p.useEffect(()=>{d(n,r)},[]),p.useEffect(()=>{d(a,o)},[]);const h=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),m=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),b=()=>{const g=(parseInt(r,10)+1)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},S=()=>{const g=(parseInt(r,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},E=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),d(a,y)},v=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),d(a,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:E,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[c.jsx("div",{className:"picker-spacer"}),h.map(g=>c.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),d(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),d(a,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:S,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function Qg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:a,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function zj({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenTrash:s,onOpenRoutine:r,onOpenMemo:l,onScrollToKeyThoughts:o,onOpenGanttChart:u,onOpenEncouragementModal:f,onOpenDummyModal:d,onLogout:h}){var m,b;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((m=n.user.user_metadata)==null?void 0:m.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((b=n.user.user_metadata)==null?void 0:b.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const S=a==="vertical"?"horizontal":"vertical";i(S),localStorage.setItem("viewMode",S),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),c.jsx("span",{children:a==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{f(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&h()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function $j({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:ia(e)}),c.jsx("input",{type:"date",value:Fe(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Lj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,getRandomEncouragement:u,onEncouragementClick:f,isReorderMode:d,setIsReorderMode:h}){return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx($j,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),c.jsx("div",{className:"encouragement-section",children:kj(n)?c.jsx("div",{className:"encouragement-message",onClick:f,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||u()}):c.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),d&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>h(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function Bj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const i=a.touches[0];a.currentTarget.dataset.touchStartX=i.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const i=parseFloat(a.currentTarget.dataset.touchStartX||"0"),s=parseInt(a.currentTarget.dataset.touchStartTime||"0"),r=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,o=Date.now()-s;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,r&&o<500){const u=i-l,f=n.current;if(!f)return;const d=f.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<d.length-1?d[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&d[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>c.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const i=n.current;if(!i)return;const s=i.querySelectorAll(".section-block");s[a]&&s[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function Jg({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),c.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}function Do({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:f,level:d=0,onCreateRoutine:h,routines:m,onShowRoutineHistory:b,onOpenRoutineSetupModal:S,onOpenHistoryModal:E,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:w}){const[_,x]=p.useState(!1),[T,O]=p.useState(!1),[N,M]=p.useState(e.text),[I,re]=p.useState(!1),[ue,F]=p.useState(!1),[be,U]=p.useState(!1),[H,G]=p.useState(""),[le,_e]=p.useState(!1),[Ye,Oe]=p.useState([]),[Re,Me]=p.useState(!1),[Ve,Ae]=p.useState(!1),[nn,xt]=p.useState([]),[Lt,q]=p.useState([]),[te,de]=p.useState([]),[Ie,Ge]=p.useState(null),[st,Ce]=p.useState(!1),[we,ze]=p.useState(null),[ge,Se]=p.useState(!1),[Ke,$e]=p.useState([]),[Mt,Et]=p.useState(""),[da,$a]=p.useState({}),[en,an]=p.useState(!1),[Kt,La]=p.useState(null),[ut,ea]=p.useState([]),_t=e.routine_id?m.find(D=>D.id===e.routine_id):null,[fa,ta]=p.useState(0),[pi,bi]=p.useState(0),[_i,wi]=p.useState(0),[In,ha]=p.useState(!1),[ht,Tt]=p.useState(!1),{attributes:Bt,listeners:bn,setNodeRef:jt,transform:Ht,transition:tn,isDragging:Xt}=xh({id:e.id}),yt={transform:mi.Transform.toString(Ht),transition:tn,cursor:Xt?"grabbing":"grab"},A=e.text.length>30,k=()=>{O(!0),M(e.text)},z=async()=>{N.trim()&&N!==e.text&&await i(e.id,N.trim()),O(!1)},J=async D=>{D.key==="Enter"?(D.preventDefault(),await z()):D.key==="Escape"&&(O(!1),M(e.text))},P=D=>{$e($=>$.includes(D)?$.filter(fe=>fe!==D):[...$,D])},X=D=>["sun","mon","tue","wed","thu","fri","sat"][D],ie=async D=>{try{const $=typeof v=="string"?v:Fe(v),pe=[...D.hidden_dates||[],$],se=D.routine_id!==null&&D.routine_id!==void 0;let xe={hidden_dates:pe};se||(xe.deleted=!0,xe.deleted_date=new Date().toISOString());const{error:qe}=await ee.from("todos").update(xe).eq("id",D.id);if(qe)throw qe;y&&y(D.id);const Ze=D.routine_id!==null&&D.routine_id!==void 0;w(Ze?"  ":"   ",{type:"hideOnDate",todoId:D.id,hiddenDate:$,wasDeleted:!se})}catch($){console.error("  :",$.message),alert("   .")}},ye=async D=>{try{const{error:$}=await ee.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",D.id);if($)throw $;y&&y(D.id)}catch($){console.error(" :",$.message),alert(" .")}},tt=async D=>{try{if(!D.routine_id){alert("  .");return}const{error:$}=await ee.from("routines").update({deleted:!0}).eq("id",D.routine_id);if($)throw $;const fe=typeof v=="string"?v:Fe(v),se=[...D.hidden_dates||[],fe],{error:xe}=await ee.from("todos").update({hidden_dates:se}).eq("id",D.id);if(xe)throw xe;y&&y(D.id),w("   ",{type:"stopRoutineFromToday",todoId:D.id,routineId:D.routine_id,hiddenDate:fe})}catch($){console.error("  :",$.message),alert("   .")}},ke=async D=>{try{if(!D.routine_id){alert("  .");return}const{error:$}=await ee.from("routines").update({deleted:!0}).eq("id",D.routine_id);if($)throw $;const{error:fe}=await ee.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",D.id);if(fe)throw fe;y&&y(D.id),w("   ",{type:"deleteRoutineCompletely",todoId:D.id,routineId:D.routine_id})}catch($){console.error("   :",$.message),alert("   .")}};p.useEffect(()=>{we==="history"&&!da[e.id]&&!en&&(async()=>{an(!0);try{const{data:$,error:fe}=await ee.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(fe)throw fe;$a(pe=>({...pe,[e.id]:$||[]}))}catch($){console.error("Error fetching history:",$)}finally{an(!1)}})()},[we,e.id,da,en]),p.useEffect(()=>{we==="routine-stats"&&_t&&(!Kt||Kt.id!==_t.id)&&(async()=>{try{const{data:$,error:fe}=await ee.from("todos").select("*").eq("routine_id",_t.id).eq("deleted",!1).maybeSingle();if(fe)throw fe;if($&&$.visible_dates){const pe=$.visible_dates.sort().map(se=>{var xe;return{id:`${$.id}-${se}`,date:se,text:$.text,completed:((xe=$.completed_dates)==null?void 0:xe.includes(se))||!1}});ea(pe),La(_t)}}catch($){console.error("Error fetching routine history:",$)}})()},[we,_t,Kt]);const Je=D=>{if(T||Xt)return;const $=D.type.includes("touch")?D.touches[0].clientX:D.clientX,fe=D.type.includes("touch")?D.touches[0].clientY:D.clientY;bi($),wi(fe),ha(!1),Tt(!0)},dn=D=>{if(T||Xt||!ht)return;const $=D.type.includes("touch")?D.touches[0].clientX:D.clientX,fe=D.type.includes("touch")?D.touches[0].clientY:D.clientY,pe=pi-$,se=Math.abs(_i-fe);if(!In){const xe=Math.abs(pe)+se;if(xe>10){if(Math.abs(pe)>xe*.8)ha(!0),D.type.includes("touch")&&D.preventDefault();else if(se>Math.abs(pe)){Tt(!1);return}}}if(In){if(D.type.includes("touch")&&D.preventDefault(),pe>0&&pe<=100)ta(pe);else if(pe<0&&fa>0){const xe=fa+pe;ta(Math.max(0,xe)),bi($)}}},qt=()=>{Tt(!1),In&&(ha(!1),ta(fa>40?80:0))},_n=()=>{a(e.id)},ma=D=>{q($=>$.includes(D)?$.filter(fe=>fe!==D):[...$,D])};return c.jsxs("div",{ref:jt,style:yt,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:_n,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...Bt,...bn,className:`todo-item ${e.completed?"completed":""} ${_?"expanded":""} ${Xt?"drag-mode":""}`,style:{transform:`translateX(-${fa}px)`,transition:In||Xt?"none":"transform 0.3s ease"},onMouseDown:Je,onMouseMove:dn,onMouseUp:qt,onMouseLeave:qt,onTouchStart:Je,onTouchMove:dn,onTouchEnd:qt,onContextMenu:D=>D.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!T&&A&&x(!_),onDoubleClick:k,style:{cursor:T?"text":A?"pointer":"default"},children:T?c.jsx("input",{type:"text",value:N,onChange:D=>M(D.target.value),onBlur:z,onKeyDown:J,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${_?"expanded":""}`,children:e.text})}),(()=>{const D=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,$=e.routine_id&&_t,fe=g||e.is_pending_routine;return(f.length>0||D||$||fe)&&c.jsxs("div",{className:"todo-badges",children:[D&&(()=>{const pe=new Date(e.completed_at).toISOString().split("T")[0],se=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${pe} `,children:[se,""]})})(),$&&(()=>{const pe=v||e.date,se=new Date(pe+"T00:00:00"),xe=se.getMonth()+1,qe=se.getDate(),Qt=["","","","","","",""][se.getDay()],ga=`${xe}/${qe}(${Qt})`;return c.jsxs("span",{className:"routine-date-badge",title:`${_t.text} `,children:["for ",ga]})})(),fe&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),f.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:pe=>{pe.stopPropagation(),ue?(re(!1),F(!1),U(!1)):(re(!0),F(!0),U(!1),_e(!1),Ae(!1))},children:""})]})})(),!T&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:D=>{D.stopPropagation(),Ce(!0),ze(null),Se(!1),$e([]),Et("")},title:"",children:""}),ue&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((D,$)=>c.jsx(Do,{todo:D,index:$,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:d+1,routines:m,onShowRoutineHistory:b,showSuccessMessage:w,onOpenRoutineSetupModal:S,onOpenHistoryModal:E,currentPageDate:v},D.id)),be&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:H,onChange:D=>G(D.target.value),onKeyDown:D=>{D.key==="Enter"&&H.trim()&&(u(e.id,H.trim()),G(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{H.trim()&&(u(e.id,H.trim()),G(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{G("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),st&&c.jsx("div",{className:"modal-overlay",onClick:()=>Ce(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>Ce(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:N,onChange:D=>M(D.target.value),onBlur:()=>{N.trim()!==""&&N!==e.text?i(e.id,N):N.trim()===""&&M(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${we==="nanotodo"?"active":""}`,onClick:()=>ze("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${we==="routine"?"active":""}`,onClick:()=>{ze("routine");const D=m.find($=>$.id===e.routine_id);D?($e(D.days||[]),Et(D.time_slot||""),Se(!1)):($e([]),Et(""),Se(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${we==="history"?"active":""}`,onClick:()=>ze("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&_t&&c.jsxs("button",{className:`action-menu-item ${we==="routine-stats"?"active":""}`,onClick:()=>ze("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${we==="delete"?"active":""}`,onClick:()=>ze("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!we&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),we==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:f.map(D=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:D.completed,onChange:()=>n(D.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${D.completed?"completed":""}`,children:D.text}),c.jsx("button",{onClick:()=>a(D.id),className:"subtodo-delete-modal",title:"",children:""})]},D.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:H,onChange:D=>G(D.target.value),onKeyDown:D=>{D.key==="Enter"&&H.trim()&&(u(e.id,H.trim()),G(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{H.trim()&&(u(e.id,H.trim()),G(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),we==="routine"&&(()=>{const D=m.find($=>$.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:D&&!ge?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Yi.filter($=>D.days.includes($.key)).map($=>c.jsx("span",{className:"routine-day-badge",children:$.label},$.key))}),D.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",D.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:$=>{$.stopPropagation(),D&&($e(D.days),Et(D.time_slot||""),Se(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async $=>{$.stopPropagation(),D&&e&&(await h(e.id,e.text,[],null,!0),Ce(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:ge?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Yi.map($=>c.jsx("button",{onClick:fe=>{fe.stopPropagation(),P($.key)},className:`day-button-inline ${Ke.includes($.key)?"selected":""}`,children:$.label},$.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Eh,{value:Mt,onChange:$=>Et($)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async $=>{$.stopPropagation(),e&&(ge&&D?await h(e.id,e.text,Ke,D.id,!1,Mt):await h(e.id,e.text,Ke,null,!1,Mt),Se(!1),Ce(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:$=>{$.stopPropagation(),Se(!1),$e([]),Et("")},className:"routine-cancel-button",children:""})]})]})})]})})(),we==="history"&&(()=>{const D=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],$=D[0],fe=D.map(se=>({id:`${e.id}-${se}`,date:se})),pe=da[e.id]||[];return en?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:s(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r($?new Date($+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),fe.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:fe.map((se,xe)=>{const qe=se.date===e.date,Ze=r(new Date(se.date+"T00:00:00"));return c.jsxs("span",{children:[xe>0&&"  ",c.jsxs("span",{style:qe?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ze.split("(")[0],qe?"()":""]})]},se.id)})})]}),(()=>{const se=new Date(e.created_at).toISOString().split("T")[0],xe=e.date;return se!==xe&&fe.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),pe.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",pe.length,")"]}),pe.map(se=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[s(se.changed_at),se.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(se.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:xe=>{xe.stopPropagation(),ma(se.id)},children:Lt.includes(se.id)?"":""})]}),Lt.includes(se.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:se.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:se.new_text})]})]})]},se.id))]})]})]})})(),we==="routine-stats"&&_t&&(()=>{if(!Kt||Kt.id!==_t.id||ut.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",_t.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Kt||Kt.id!==_t.id?" ...":" ."})]});const D=ut[0],$=new Date(D.date),fe=new Date,pe={};ut.forEach(qe=>{pe[qe.date]=qe.completed});const se=[];let xe=new Date($);for(;xe<=fe;){const qe=xe.getFullYear(),Ze=xe.getMonth(),Qt=`${qe}-${Ze+1}`;se.find(fr=>fr.key===Qt)||se.push({key:Qt,year:qe,month:Ze,days:[]});const ga=se.find(fr=>fr.key===Qt),Ot=Fe(xe),ya=xe.getDay(),na=X(ya),Ic=_t.days.includes(na);ga.days.push({date:new Date(xe),dateStr:Ot,day:xe.getDate(),dayOfWeek:ya,isCompleted:pe[Ot]===!0,isRoutineDay:Ic,hasTodo:pe[Ot]!==void 0}),xe.setDate(xe.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",_t.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:se.map(qe=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[qe.year," ",qe.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),qe.days.length>0&&Array(qe.days[0].dayOfWeek).fill(null).map((Ze,Qt)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${Qt}`)),qe.days.map((Ze,Qt)=>{if(Qt>0&&Ze.day===1){const Ot=6-qe.days[Qt-1].dayOfWeek;return c.jsxs(at.Fragment,{children:[Array(Ot).fill(null).map((ya,na)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${Qt}-${na}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${Ze.isCompleted?"completed":""} ${Ze.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:Ze.day}),Ze.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},Ze.dateStr)}return c.jsxs("div",{className:`history-day-cell ${Ze.isCompleted?"completed":""} ${Ze.isRoutineDay?"":"not-routine-day"}`,title:`${Ze.dateStr}${Ze.isRoutineDay?"":" (  )"}${Ze.isCompleted?" - ":Ze.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:Ze.day}),Ze.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},Ze.dateStr)})]})]},qe.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[ut.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[ut.filter(qe=>qe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[ut.filter(qe=>!qe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[ut.length>0?Math.round(ut.filter(qe=>qe.completed).length/ut.length*100):0,"%"]})]})]})]})]})})(),we==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var pe;const D=((pe=e.visible_dates)==null?void 0:pe.length)>0?e.visible_dates:[e.date||e.created_date],$=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await ie(e),Ce(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await tt(e),Ce(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await ke(e),Ce(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):D.length>1||$?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await ie(e),Ce(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await ye(e),Ce(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await ye(e),Ce(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}function Hj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:f,editingRoutineId:d,editingRoutineText:h,setEditingRoutineText:m,editingRoutineDays:b,onToggleEditDay:S,onStartEdit:E,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:w}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:_=>a(_.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),c.jsx("div",{className:"day-selector",children:Yi.map(_=>c.jsx("button",{onClick:()=>r(_.key),className:`day-button ${s.includes(_.key)?"selected":""}`,disabled:i,children:_.label},_.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(Eh,{value:l,onChange:_=>o(_)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:f.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):f.map(_=>c.jsx("div",{className:"routine-item",children:d===_.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:h,onChange:x=>m(x.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Yi.map(x=>c.jsx("button",{onClick:()=>S(x.key),className:`day-button-inline ${b.includes(x.key)?"selected":""}`,children:x.label},x.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v,className:"routine-save-button",disabled:h.trim()===""||b.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:_.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Yi.filter(x=>_.days.includes(x.key)).map(x=>c.jsx("span",{className:"routine-day-badge",children:x.label},x.key))}),_.time_slot&&c.jsx("span",{className:"routine-time-slot",children:_.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>w(_),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>E(_),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(_.id),className:"routine-delete-button",title:"",children:""})]})]})},_.id))})]})}):null}const qj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Yj({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(f=>{l[f.date]=f.completed});const o=[];let u=new Date(s);for(;u<=r;){const f=u.getFullYear(),d=u.getMonth(),h=`${f}-${d+1}`;o.find(g=>g.key===h)||o.push({key:h,year:f,month:d,days:[]});const m=o.find(g=>g.key===h),b=Fe(u),S=u.getDay(),E=qj(S),v=n.days.includes(E);m.days.push({date:new Date(u),dateStr:b,day:u.getDate(),dayOfWeek:S,isCompleted:l[b]===!0,isRoutineDay:v,hasTodo:l[b]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(f=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[f.year," ",f.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),f.days.length>0&&Array(f.days[0].dayOfWeek).fill(null).map((d,h)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${h}`)),f.days.map((d,h)=>{if(h>0&&d.day===1){const b=6-f.days[h-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(b).fill(null).map((S,E)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${h}-${E}`)),c.jsx("div",{className:"history-day-header",children:""},d.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,title:`${d.dateStr}${d.isRoutineDay?"":" (  )"}${d.isCompleted?" - ":d.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},d.dateStr)})]})]},f.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Vj({title:e,className:t,content:n,setContent:a,isEditing:i,isSaving:s,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:f,placeholder:d,emptyMessage:h,children:m}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!i&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),i&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:s,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:s,children:" "})]})]})]}),i?c.jsx("textarea",{ref:r,value:n,onChange:b=>a(b.target.value),onKeyDown:f,className:"memo-textarea",placeholder:d}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((b,S)=>c.jsx("div",{className:"memo-preview-line",children:b||""},S))}):c.jsx("div",{className:"memo-empty",children:h})}),m]})}function Rb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,parentBlock:s,rootSetBlocks:r,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:f,listeners:d,setNodeRef:h,transform:m,transition:b,isDragging:S}=xh({id:e.id}),E=e.id===o,v=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:E?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:h,style:g,children:c.jsx(Mb,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:{...f,...d},parentBlock:s,rootSetBlocks:r,draggingChildIds:l,activeId:o,overId:u})})}function Mb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:i,dragHandleProps:s,parentBlock:r,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:f}){const d=p.useRef(null),h=p.useRef(!1);p.useEffect(()=>{if(a===e.id&&d.current){d.current.focus();const _=d.current.value.length;d.current.setSelectionRange(_,_)}},[a,e.id]),p.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+"px")},[e.content]);const m=(_,x,T)=>_.map(O=>{if(O.id===x){const N=T(O);return{...N,children:Array.isArray(N.children)?N.children:[]}}return Array.isArray(O.children)&&O.children.length>0?{...O,children:m(O.children,x,T)}:O}),b=_=>{n(x=>m(x,e.id,T=>({...T,content:_})))},S=_=>{n(x=>m(x,e.id,T=>({...T,children:typeof _=="function"?_(T.children):_})))},E=()=>{n(_=>m(_,e.id,x=>{const T=!x.isOpen;if(T&&(!Array.isArray(x.children)||x.children.length===0)){const O={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...x,isOpen:T,children:[O]}}return{...x,isOpen:T,children:Array.isArray(x.children)?x.children:[]}}))},v=()=>{const _=t.findIndex(T=>T.id===e.id);if(_<=0)return;const x=t[_-1];n(T=>{const O=[...T];O.splice(_,1);const N={...x,children:[...Array.isArray(x.children)?x.children:[],e],isOpen:!0};return O[_-1]=N,O})},g=()=>{!r||!l||l(_=>{const x=(N,M,I)=>{const re=[];for(let ue=0;ue<N.length;ue++){const F=N[ue];if(F.id===M){const be=F.children.filter(H=>H.id!==I.id),U={...F,children:be};re.push(U),re.push(I)}else if(Array.isArray(F.children)&&F.children.length>0){const be=x(F.children,M,I);be!==F.children?re.push({...F,children:be}):re.push(F)}else re.push(F)}return re},T=N=>N.map(M=>{const I=Array.isArray(M.children)&&M.children.length>0;return!I&&M.isOpen?{...M,isOpen:!1}:I?{...M,children:T(M.children)}:M}),O=x(_,r.id,e);return T(O)})},y=_=>{const x=[],T=O=>{for(const N of O)x.push(N),N.isOpen&&Array.isArray(N.children)&&N.children.length>0&&T(N.children)};return T(_),x},w=_=>{if(_.key==="Enter"){if(_.shiftKey)return;{if(h.current){_.preventDefault(),_.stopPropagation();return}_.preventDefault(),_.stopPropagation(),h.current=!0;const x=_.target.selectionStart,T={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};x===0?(n(O=>{const N=O.findIndex(I=>I.id===e.id);if(N===-1)return O;const M=[...O];return M.splice(N,0,T),M}),setTimeout(()=>{i(e.id),setTimeout(()=>{h.current=!1},100)},0)):(n(O=>{const N=O.findIndex(I=>I.id===e.id);if(N===-1)return O;const M=[...O];return M.splice(N+1,0,T),M}),setTimeout(()=>{i(T.id),setTimeout(()=>{h.current=!1},100)},0))}}else if(_.key==="Tab"&&_.shiftKey)_.preventDefault(),_.stopPropagation(),r&&l&&g();else if(_.key==="Tab"&&!_.shiftKey)_.preventDefault(),_.stopPropagation(),v();else if(_.key==="Backspace"){const x=_.target.selectionStart;if(e.content===""||x===0){const M=(()=>{if(l){let ue=[];return l(F=>(ue=F,F)),ue}return t})(),I=y(M),re=I.findIndex(ue=>ue.id===e.id);if(re>0){_.preventDefault(),_.stopPropagation();const ue=I[re-1],F=(U,H)=>U.filter(G=>G.id!==H).map(G=>Array.isArray(G.children)&&G.children.length>0?{...G,children:F(G.children,H)}:G),be=U=>U.map(H=>{const G=Array.isArray(H.children)&&H.children.length>0;return!G&&H.isOpen?{...H,isOpen:!1}:G?{...H,children:be(H.children)}:H});l?l(U=>{const H=F(U,e.id);return be(H)}):n(U=>{const H=F(U,e.id);return be(H)}),setTimeout(()=>{i(ue.id)},0)}}}else if(_.key==="ArrowUp"&&!_.shiftKey){_.preventDefault(),_.stopPropagation();const T=(()=>{if(l){let M=[];return l(I=>(M=I,I)),M}return t})(),O=y(T),N=O.findIndex(M=>M.id===e.id);N>0&&i(O[N-1].id)}else if(_.key==="ArrowDown"&&!_.shiftKey){_.preventDefault(),_.stopPropagation();const T=(()=>{if(l){let M=[];return l(I=>(M=I,I)),M}return t})(),O=y(T),N=O.findIndex(M=>M.id===e.id);N<O.length-1&&i(O[N+1].id)}};return c.jsxs("div",{className:"notion-block",children:[s&&c.jsx("div",{className:"notion-drag-handle",...s,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:E,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:d,value:e.content,onChange:_=>b(_.target.value),onKeyDown:w,onFocus:()=>i(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(_=>c.jsx(Rb,{block:_,blocks:e.children,setBlocks:S,focusedBlockId:a,setFocusedBlockId:i,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:f},_.id))})]})}function Ij({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:i}){const[s,r]=p.useState(null),[l,o]=p.useState(null),u=Wd(Ui(ml,{activationConstraint:{distance:3}}),Ui(qc,{coordinateGetter:Ab})),f=_=>_.map(x=>{const T=Array.isArray(x.children)&&x.children.length>0;return!T&&x.isOpen?{...x,isOpen:!1}:T?{...x,children:f(x.children)}:x});p.useEffect(()=>{const _=f(e);JSON.stringify(_)!==JSON.stringify(e)&&t(_)},[e]);const d=_=>{const x=[],T=O=>{for(const N of O)x.push(N),N.isOpen&&Array.isArray(N.children)&&N.children.length>0&&T(N.children)};return T(_),x},h=_=>{const x=[],T=O=>{if(Array.isArray(O.children)&&O.children.length>0)for(const N of O.children)x.push(N.id),T(N)};return T(_),x},m=_=>{const{active:x}=_,O=d(e).find(N=>N.id===x.id);r(O)},b=_=>{const{over:x}=_;o((x==null?void 0:x.id)||null)},S=at.useMemo(()=>s?h(s):[],[s]),E=_=>{const{active:x,over:T}=_;if(r(null),o(null),!T||x.id===T.id)return;const O=d(e),N=O.find(Ye=>Ye.id===x.id),M=O.find(Ye=>Ye.id===T.id);if(!N||!M||h(N).includes(T.id))return;const re=JSON.parse(JSON.stringify(N)),ue=(Ye,Oe)=>Ye.filter(Re=>Re.id!==Oe).map(Re=>({...Re,children:Array.isArray(Re.children)?ue(Re.children,Oe):[]})),F=(Ye,Oe,Re)=>{let Me=!1;const Ve=[];for(const Ae of Ye)if(Ve.push(Ae),Ae.id===Oe&&(Ve.push(Re),Me=!0),Array.isArray(Ae.children)&&Ae.children.length>0){const{newChildren:nn,wasInserted:xt}=be(Ae.children,Oe,Re);xt&&(Ve[Ve.length-1]={...Ae,children:nn},Me=!0)}return{newTree:Ve,inserted:Me}},be=(Ye,Oe,Re)=>{let Me=!1;const Ve=[];for(const Ae of Ye)if(Ve.push(Ae),Ae.id===Oe&&(Ve.push(Re),Me=!0),Array.isArray(Ae.children)&&Ae.children.length>0){const{newChildren:nn,wasInserted:xt}=be(Ae.children,Oe,Re);xt&&(Ve[Ve.length-1]={...Ae,children:nn},Me=!0)}return{newChildren:Ve,wasInserted:Me}};let U=ue(e,N.id);const H=U.length>0&&U[0].id===M.id;let G,le=!1;if(H)G=[re,...U],le=!0;else{const Ye=F(U,M.id,re);G=Ye.newTree,le=Ye.inserted}if(!le){console.warn("Failed to insert block, keeping original state");return}const _e=f(G);t(_e)},v=d(e).filter(_=>!S.includes(_.id)).map(_=>_.id),g=_=>{const x=T=>T.map(O=>({...O,isOpen:_,children:Array.isArray(O.children)?x(O.children):[]}));t(x(e))},y=_=>{for(const x of _)if(!x.isOpen&&Array.isArray(x.children)&&x.children.length>0||Array.isArray(x.children)&&x.children.length>0&&!y(x.children))return!1;return!0},w=y(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"toggle-all-button",onClick:()=>i&&i(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>g(!w),title:w?" ":" ",children:w?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(rf,{sensors:u,collisionDetection:ef,onDragStart:m,onDragOver:b,onDragEnd:E,measuring:{droppable:{strategy:Zs.Always}},children:[c.jsx(Nr,{items:v,strategy:No,children:e.map(_=>c.jsx(Rb,{block:_,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:S,activeId:s==null?void 0:s.id,overId:l},_.id))}),c.jsx(yj,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(Mb,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Gj({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:i,onPermanentDelete:s,formatDate:r}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&c.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const o=l.visible_dates||(l.date?[l.date]:[]),u=o.length>1||l.original_todo_id,f=l.original_todo_id!==null&&l.original_todo_id!==void 0,d=l.hidden_dates&&l.hidden_dates.length>0;let h="  ";return f?h="   ( )":d?h="  ":l.deleted===!0&&(h=o.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",r(l.created_at)]}),l.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${f?"old-style":d?"partial":"complete"}`,children:h})]}),u&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:o.length>0?o.map((m,b)=>c.jsx("span",{className:"carryover-date-badge",children:m},b)):l.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),d&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((m,b)=>c.jsx("span",{className:"hidden-date-badge",children:m},b))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>i(l.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>s(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function Kj({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:i,onDeleteDummySession:s,onDeleteAllDummies:r,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),i.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[i.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&s(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&r()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function Xj({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>c.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(d=>d.dates),l=[...new Set(r)].sort((d,h)=>new Date(d)-new Date(h));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),f=[];for(let d=new Date(o);d<=u;d.setDate(d.getDate()+1))f.push(new Date(d).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:f.map(d=>c.jsx("div",{className:"gantt-date-cell",children:s(new Date(d+"T00:00:00")).split("(")[0]},d))})]}),n.map((d,h)=>{const m=new Set(d.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:d.text,children:c.jsx("span",{className:d.completed?"completed-task":"",children:d.text})}),c.jsx("div",{className:"gantt-timeline",children:f.map(b=>{if(!m.has(b))return c.jsx("div",{className:"gantt-date-cell"},b);const E=b===d.startDate,v=b===d.completedDate;let g="gantt-date-cell has-task";return E?g+=" start-date":v?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:v?c.jsx("span",{className:"completed-circle",children:""}):""},b)})})]},d.originalId)})]})})()})})]})}):null}function Qj({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:f,onDeleteEncouragementMessage:d}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async h=>{h.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),c.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((h,m)=>c.jsx("div",{className:"encouragement-item",children:r===m?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:b=>u(b.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await f(m,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:h}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(m),u(h)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await d(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function Jj({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(i=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(i.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i.description})]}),c.jsx("button",{onClick:()=>a(i.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(i.content)?i.content.map((s,r)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[s.type==="toggle"?" ":"",s.content||"( )"]},r)):"( )"})]},i.id))})})]})}):null}function Zj({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function Pj(e){const[t,n]=p.useState(["memo","routine","normal","key-thoughts"]),[a,i]=p.useState(!1),s=async()=>{try{const{data:d,error:h}=await ee.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(h){console.error("   :",h.message);return}if(d&&d.setting_value){const m=JSON.parse(d.setting_value);n(m),localStorage.setItem("sectionOrder",JSON.stringify(m))}else{const m=localStorage.getItem("sectionOrder");m&&n(JSON.parse(m))}}catch(d){console.error("   :",d.message);const h=localStorage.getItem("sectionOrder");h&&n(JSON.parse(h))}},r=async d=>{var h;try{if(localStorage.setItem("sectionOrder",JSON.stringify(d)),!((h=e==null?void 0:e.user)!=null&&h.id))return;const{data:m,error:b}=await ee.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(b){console.error("   :",b.message);return}m?await ee.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await ee.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(m){console.error("   :",m.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,moveSectionLeft:d=>{n(h=>{const m=h.indexOf(d);if(m<=0)return h;const b=[...h];return[b[m-1],b[m]]=[b[m],b[m-1]],r(b),b})},moveSectionRight:d=>{n(h=>{const m=h.indexOf(d);if(m===-1||m>=h.length-1)return h;const b=[...h];return[b[m],b[m+1]]=[b[m+1],b[m]],r(b),b})},handleSectionDragEnd:d=>{const{active:h,over:m}=d;h.id!==(m==null?void 0:m.id)&&n(b=>{const S=b.indexOf(h.id),E=b.indexOf(m.id),v=Sh(b,S,E);return r(v),v})},handleSectionsContainerDoubleClick:d=>{a&&d.target===d.currentTarget&&i(!1)}}}function Fj(e){const[t,n]=p.useState(""),[a,i]=p.useState(!1),[s,r]=p.useState(!1),[l,o]=p.useState(""),u=p.useRef(null),f=async()=>{try{const{data:S,error:E}=await ee.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(E)throw E;const v=S&&S.length>0?S[0].content:Vu;n(v),o(v)}catch(S){console.error("   :",S.message),n(Vu),o(Vu)}},d=()=>{i(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},h=async()=>{var S;if(!s)try{r(!0);const{data:E}=await ee.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);E&&E.length>0?await ee.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",E[0].id):await ee.from("spec_memos").insert([{content:t,user_id:(S=e==null?void 0:e.user)==null?void 0:S.id}]),o(t),i(!1)}catch(E){console.error("  :",E.message),alert("  .")}finally{r(!1)}},m=()=>{n(l),i(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:i,isSavingMemo:s,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:f,handleStartEditMemoInline:d,handleSaveMemoInline:h,handleCancelEditMemoInline:m,handleMemoKeyDown:S=>{(S.metaKey||S.ctrlKey)&&S.key==="s"&&(S.preventDefault(),h()),S.key==="Escape"&&(S.preventDefault(),m())}}}function Wj(e){const[t,n]=p.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,i]=p.useState(!1),s=p.useRef(null),[r,l]=p.useState(null),[o,u]=p.useState([]),[f,d]=p.useState(!1),h=w=>Array.isArray(w)?w.map(_=>({..._,children:Array.isArray(_.children)?h(_.children):[]})):[],m=async()=>{try{const{data:w,error:_}=await ee.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(_){console.error("   :",_.message);return}if(w&&w.setting_value){const x=JSON.parse(w.setting_value),T=h(x);n(T),s.current=JSON.parse(JSON.stringify(T))}else{const x=localStorage.getItem("keyThoughtsBlocks");if(x){const T=JSON.parse(x),O=h(T);n(O),s.current=JSON.parse(JSON.stringify(O))}}}catch(w){console.error("   :",w.message)}},b=async()=>{var w;if((w=e==null?void 0:e.user)!=null&&w.id)try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(t));const{data:_,error:x}=await ee.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(x){console.error("   :",x.message);return}_?await ee.from("user_settings").update({setting_value:JSON.stringify(t)}).eq("setting_key","key_thoughts_blocks"):await ee.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(t),user_id:e.user.id}]),await v(t)}catch(_){console.error("   :",_.message)}},S=(w,_)=>{if(!w||w.length===0||w.length!==_.length)return!0;const x=(T,O)=>{for(let N=0;N<T.length;N++){const M=T[N],I=O[N];if(M.type!==I.type)return!0;const re=M.children?M.children.length:0,ue=I.children?I.children.length:0;if(re!==ue)return!0;const F=M.content||"",be=I.content||"";if(Math.abs(F.length-be.length)>=20||ue>0&&x(M.children,I.children))return!0}return!1};return x(w,_)},E=async()=>{try{const w=localStorage.getItem("lastHistoryCleanup"),_=new Date().toDateString();if(w===_)return;const x=new Date;x.setDate(x.getDate()-30);const{error:T}=await ee.from("key_thoughts_history").delete().lt("created_at",x.toISOString());T?console.error("   :",T.message):(localStorage.setItem("lastHistoryCleanup",_),console.log("   "))}catch(w){console.error("   :",w.message)}},v=async w=>{var _;if((_=e==null?void 0:e.user)!=null&&_.id)try{if(!S(s.current,w))return;const{error:x}=await ee.from("key_thoughts_history").insert([{content:w,description:" ",user_id:e.user.id}]);x?console.error("   :",x.message):s.current=JSON.parse(JSON.stringify(w))}catch(x){console.error("   :",x.message)}};return{keyThoughtsBlocks:t,setKeyThoughtsBlocks:n,isSavingKeyThoughts:a,setIsSavingKeyThoughts:i,lastSavedKeyThoughtsRef:s,focusedBlockId:r,setFocusedBlockId:l,keyThoughtsHistory:o,setKeyThoughtsHistory:u,showKeyThoughtsHistory:f,setShowKeyThoughtsHistory:d,normalizeBlocks:h,fetchKeyThoughtsContent:m,handleSaveKeyThoughts:b,cleanupOldHistory:E,fetchKeyThoughtsHistory:async()=>{try{const{data:w,error:_}=await ee.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(_){console.error("   :",_.message);return}u(w||[])}catch(w){console.error("   :",w.message)}},restoreKeyThoughtsVersion:async w=>{try{const _=o.find(T=>T.id===w);if(!_){alert("    .");return}if(!window.confirm("  ?     ."))return;const x=h(_.content);n(x),s.current=JSON.parse(JSON.stringify(x)),await b(),alert("!"),d(!1)}catch(_){console.error("  :",_.message)}}}}const eO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],tO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=p.useState([]),[o,u]=p.useState(""),[f,d]=p.useState([]),[h,m]=p.useState(""),[b,S]=p.useState(!1),[E,v]=p.useState(!1),[g,y]=p.useState(null),[w,_]=p.useState(""),[x,T]=p.useState([]),[O,N]=p.useState(!1),[M,I]=p.useState(null),[re,ue]=p.useState([]),F=p.useRef(new Set),be=async()=>{try{const{data:q,error:te}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(te)throw te;l(q||[])}catch(q){console.error("  :",q.message)}},U=async()=>{var q;if(!(o.trim()===""||b))try{S(!0);const te={text:o,days:f,start_date:Fe(n),user_id:(q=e==null?void 0:e.user)==null?void 0:q.id};h&&(te.time_slot=h);const{data:de,error:Ie}=await t.from("routines").insert([te]).select();if(Ie)throw Ie;l([de[0],...r]),u(""),d([]),m("")}catch(te){console.error("  :",te.message)}finally{S(!1)}},H=async(q,te,de,Ie=null,Ge=!1,st="",Ce=null)=>{var we;try{if(Ge){const{error:ze}=await t.from("todos").update({routine_id:null}).eq("id",q);if(ze)throw ze;a(ge=>ge.map(Se=>Se.id===q?{...Se,routine_id:null}:Se));return}if(Ie){const{error:ze}=await t.from("routines").update({days:de,time_slot:st}).eq("id",Ie);if(ze)throw ze;const{error:ge}=await t.from("todos").update({is_pending_routine:de.length===0}).eq("id",q);if(ge)throw ge;l(Se=>Se.map(Ke=>Ke.id===Ie?{...Ke,days:de,time_slot:st}:Ke)),a(Se=>Se.map(Ke=>Ke.id===q?{...Ke,is_pending_routine:de.length===0}:Ke))}else{const ze={text:te,days:de,time_slot:st,start_date:Ce||Fe(n),user_id:(we=e==null?void 0:e.user)==null?void 0:we.id},{data:ge,error:Se}=await t.from("routines").insert([ze]).select();if(Se)throw Se;const{error:Ke}=await t.from("todos").update({routine_id:ge[0].id,is_pending_routine:de.length===0}).eq("id",q);if(Ke)throw Ke;a($e=>$e.map(Mt=>Mt.id===q?{...Mt,routine_id:ge[0].id,is_pending_routine:de.length===0}:Mt)),l($e=>[ge[0],...$e])}}catch(ze){console.error("  :",ze.message)}},G=q=>{y(q.id),_(q.text),T(q.days)},le=()=>{y(null),_(""),T([])},_e=async()=>{if(!(!g||w.trim()===""||x.length===0))try{const{error:q}=await t.from("routines").update({text:w.trim(),days:x}).eq("id",g);if(q)throw q;l(r.map(te=>te.id===g?{...te,text:w.trim(),days:x}:te)),le()}catch(q){console.error("  :",q.message)}},Ye=q=>{T(te=>te.includes(q)?te.filter(de=>de!==q):[...te,q])},Oe=async q=>{const te=r.find(Ge=>Ge.id===q),de=te?te.text:" ";if(window.confirm(`  "${de}"() ?

    ,     .
(   )`))try{const{error:Ge}=await t.from("routines").update({deleted:!0}).eq("id",q);if(Ge)throw Ge;const{error:st}=await t.from("todos").update({routine_id:null}).eq("routine_id",q);st&&console.error("  ID  :",st.message),l(r.filter(Ce=>Ce.id!==q)),a(Ce=>Ce.map(we=>we.routine_id===q?{...we,routine_id:null}:we))}catch(Ge){console.error("  :",Ge.message)}},Re=async q=>{var te;if(!F.current.has(q))try{F.current.add(q);const de=new Date(q),Ie=eO(de.getDay()),{data:Ge,error:st}=await t.from("routines").select("*").eq("deleted",!1);if(st)throw st;const Ce=Ge.filter(we=>{const ze=we.days||[],ge=ze.length===0||ze.includes(Ie);if(we.start_date){const Se=new Date(we.start_date),Ke=de>=Se;return ge&&Ke}return ge});if(Ce.length===0)return;for(const we of Ce){const ze=we.text,{data:ge,error:Se}=await t.from("todos").select("*").eq("routine_id",we.id).eq("deleted",!1);if(Se)throw Se;if(ge&&ge.length>1){console.warn(` ${we.id}    (${ge.length}).     .`);for(let $e=1;$e<ge.length;$e++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",ge[$e].id)}const Ke=ge&&ge.length>0?ge[0]:null;if(Ke){const $e=Ke.visible_dates||[];if($e.includes(q))continue;const Mt=[...$e,q].sort(),{error:Et}=await t.from("todos").update({visible_dates:Mt}).eq("id",Ke.id);Et&&console.error("    :",Et.message)}else{const{error:$e}=await t.from("todos").insert([{text:ze,completed:!1,date:q,visible_dates:[q],hidden_dates:[],order_index:0,routine_id:we.id,user_id:(te=e==null?void 0:e.user)==null?void 0:te.id}]);$e&&console.error("   :",$e.message)}}}catch(de){console.error("   :",de.message)}finally{setTimeout(()=>{F.current.delete(q)},1e3)}},Me=async()=>{const te=Fe(new Date);await Re(te)},Ve=async q=>{try{const{data:te,error:de}=await t.from("todos").select("*").eq("routine_id",q.id).eq("deleted",!1);if(de)throw de;const Ie=te&&te.length>0?te[0]:null;if(Ie&&Ie.visible_dates){const Ge=Ie.visible_dates.sort().map(st=>({id:`${Ie.id}-${st}`,date:st,text:Ie.text,completed:Ie.completed,routine_id:Ie.routine_id}));ue(Ge)}else ue([]);I(q),N(!0)}catch(te){console.error("   :",te.message),alert("   : "+te.message)}},Ae=()=>{N(!1),I(null),ue([])},nn=()=>{v(!0),be()},xt=()=>{v(!1),u(""),d([])},Lt=q=>{d(te=>te.includes(q)?te.filter(de=>de!==q):[...te,q])};return p.useEffect(()=>{e&&be()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:f,selectedTimeSlot:h,isAddingRoutine:b,showRoutineModal:E,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:x,showRoutineHistory:O,selectedRoutineForHistory:M,routineHistoryData:re,routineCreationInProgress:F,setRoutineInput:u,setSelectedTimeSlot:m,fetchRoutines:be,handleAddRoutine:U,handleDeleteRoutine:Oe,handleStartEditRoutine:G,handleSaveEditRoutine:_e,handleCancelEditRoutine:le,handleToggleEditDay:Ye,handleCreateRoutineFromTodo:H,createRoutineTodosForDate:Re,createRoutineTodos:Me,fetchRoutineHistory:Ve,handleCloseRoutineHistory:Ae,handleOpenRoutine:nn,handleCloseRoutine:xt,handleToggleDay:Lt}},nO=(e,t,n,a,i,s,r)=>{const[l,o]=p.useState(""),[u,f]=p.useState(""),[d,h]=p.useState(""),[m,b]=p.useState(!0),[S,E]=p.useState(!1),[v,g]=p.useState(!1),[y,w]=p.useState(null),[_,x]=p.useState(!1),[T,O]=p.useState(!1),[N,M]=p.useState(""),[I,re]=p.useState(null),[ue,F]=p.useState(!1),[be,U]=p.useState([]),[H,G]=p.useState(null),[le,_e]=p.useState(!1),[Ye,Oe]=p.useState(!1),[Re,Me]=p.useState(null),[Ve,Ae]=p.useState({}),[nn,xt]=p.useState([]),[Lt,q]=p.useState([]),[te,de]=p.useState(!1),[Ie,Ge]=p.useState(""),[st,Ce]=p.useState(!1),[we,ze]=p.useState(null),ge=p.useRef(!1),Se=p.useRef(new Set),Ke=A=>["sun","mon","tue","wed","thu","fri","sat"][A],$e=async A=>{if(!ge.current)try{ge.current=!0;const{data:k,error:z}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(z)throw z;if(!k||k.length===0)return;const J=k.filter(P=>{const X=new Date(P.created_at);return!(Fe(X)>=A||(P.visible_dates||[]).includes(A)||(P.hidden_dates||[]).includes(A))});for(const P of J){const X=[...P.visible_dates||[],A],{error:ie}=await t.from("todos").update({visible_dates:X}).eq("id",P.id);ie&&console.error(` ${P.id}  :`,ie.message)}}catch(k){console.error("  :",k.message)}finally{ge.current=!1}},Mt=async()=>{if(!ge.current)try{ge.current=!0;const A=new Date,k=Fe(A),{data:z,error:J}=await t.from("todos").select("date").lt("date",k).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(J)throw J;if(!z||z.length===0)return;const P=new Date(z[0].date+"T00:00:00");let X=new Date(P);const ie=new Date(A);ie.setDate(ie.getDate()-1);let ye=0;for(;X<=ie;){const tt=Fe(X),ke=new Date(X);ke.setDate(ke.getDate()+1);const Je=Fe(ke),{data:dn,error:qt}=await t.from("todos").select("*").eq("date",tt).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(qt)throw qt;if(dn&&dn.length>0){const{data:_n,error:ma}=await t.from("todos").select("*").eq("date",Je).eq("deleted",!1).order("order_index",{ascending:!0});if(ma)throw ma;const D=new Set;_n==null||_n.forEach(fe=>{fe.original_todo_id!==null&&D.add(fe.original_todo_id)});const $=dn.filter(fe=>{const pe=fe.original_todo_id||fe.id;return!D.has(pe)});if($.length>0){const fe=$.map(Ot=>Ot.original_todo_id||Ot.id).filter((Ot,ya,na)=>na.indexOf(Ot)===ya),{data:pe,error:se}=await t.from("todos").select("id, created_at").in("id",fe);if(se)throw se;const xe={};pe==null||pe.forEach(Ot=>{xe[Ot.id]=Ot.created_at});const Ze=(_n?_n.length:0)+1,Qt=$.map((Ot,ya)=>{const na=Ot.original_todo_id||Ot.id;return{text:Ot.text,completed:!1,date:Je,created_at:xe[na]||Ot.created_at,order_index:Ze+ya,original_todo_id:na,parent_id:null,routine_id:null}}),{error:ga}=await t.from("todos").insert(Qt);if(ga)throw ga;ye+=$.length}}X.setDate(X.getDate()+1)}ye>0}catch(A){console.error("    :",A.message)}finally{ge.current=!1}},Et=async A=>{var k;if(!Se.current.has(A))try{Se.current.add(A);const z=new Date(A),J=Ke(z.getDay()),{data:P,error:X}=await t.from("routines").select("*").eq("deleted",!1);if(X)throw X;const ie=P.filter(ye=>{const tt=ye.days||[],ke=tt.length===0||tt.includes(J);if(ye.start_date){const Je=new Date(ye.start_date),dn=z>=Je;return ke&&dn}return ke});if(ie.length===0)return;for(const ye of ie){const tt=ye.text,{data:ke,error:Je}=await t.from("todos").select("*").eq("routine_id",ye.id).eq("deleted",!1);if(Je)throw Je;if(ke&&ke.length>1){console.warn(` ${ye.id}    (${ke.length}).     .`);for(let qt=1;qt<ke.length;qt++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",ke[qt].id)}const dn=ke&&ke.length>0?ke[0]:null;if(dn){const qt=dn.visible_dates||[];if(qt.includes(A))continue;const _n=[...qt,A].sort(),{error:ma}=await t.from("todos").update({visible_dates:_n}).eq("id",dn.id);ma&&console.error("    :",ma.message)}else{const{error:qt}=await t.from("todos").insert([{text:tt,completed:!1,date:A,visible_dates:[A],hidden_dates:[],order_index:0,routine_id:ye.id,user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]);qt&&console.error("   :",qt.message)}}}catch(z){console.error("   :",z.message)}finally{setTimeout(()=>{Se.current.delete(A)},1e3)}},da=async()=>{try{b(!0);const A=Fe(n),k=new Date;k.setHours(0,0,0,0),n.getTime()===k.getTime()&&await $e(A),await Et(A);const{data:J,error:P}=await t.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(P)throw P;const X=(J||[]).filter(ie=>ie.hidden_dates&&Array.isArray(ie.hidden_dates)&&ie.hidden_dates.includes(A)?!1:ie.visible_dates&&Array.isArray(ie.visible_dates)&&ie.visible_dates.length>0?ie.visible_dates.includes(A):ie.date===A);i(X)}catch(A){console.error("   :",A.message)}finally{b(!1)}},$a=async()=>{try{const{data:A,error:k}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(k)throw k;U(A||[])}catch(A){console.error("  :",A.message)}},en=async()=>{var A;if(!(l.trim()===""||v))try{g(!0);const k=a.length>0?Math.max(...a.map(X=>X.order_index))+1:1,z=Fe(n),{data:J,error:P}=await t.from("todos").insert([{text:l,completed:!1,order_index:k,date:z,visible_dates:[z],hidden_dates:[],user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(P)throw P;i([...a,J[0]]),o("")}catch(k){console.error("   :",k.message)}finally{g(!1)}},an=async()=>{var A,k;if(!(u.trim()===""||v))try{g(!0);const z=Fe(n),{data:J,error:P}=await t.from("routines").insert([{text:u,days:[],start_date:z,user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(P)throw P;const X=J[0],ie=a.filter(Je=>!Je.parent_id&&Je.is_pending_routine),ye=ie.length>0?Math.max(...ie.map(Je=>Je.order_index))+1:1,{data:tt,error:ke}=await t.from("todos").insert([{text:u,completed:!1,order_index:ye,date:z,visible_dates:[z],hidden_dates:[],routine_id:X.id,is_pending_routine:!0,user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]).select();if(ke)throw ke;r([X,...s]),i([...a,tt[0]]),f("")}catch(z){console.error("   :",z.message)}finally{g(!1)}},Kt=async()=>{var A;if(!(d.trim()===""||v))try{g(!0);const k=a.filter(ie=>!ie.parent_id&&ie.routine_id===null),z=k.length>0?Math.max(...k.map(ie=>ie.order_index))+1:1,J=Fe(n),{data:P,error:X}=await t.from("todos").insert([{text:d,completed:!1,order_index:z,date:J,visible_dates:[J],hidden_dates:[],user_id:(A=e==null?void 0:e.user)==null?void 0:A.id}]).select();if(X)throw X;i([...a,P[0]]),h("")}catch(k){console.error("   :",k.message)}finally{g(!1)}},La=async A=>{const k=a.find(z=>z.id===A);if(k)try{const z=!k.completed,J=z?new Date().toISOString():null,{error:P}=await t.from("todos").update({completed:z,completed_at:J}).eq("id",A);if(P)throw P;i(a.map(X=>X.id===A?{...X,completed:z,completed_at:J}:X))}catch(z){console.error("   :",z.message)}},ut=A=>{i(a.filter(k=>k.id!==A))},ea=async A=>{var P;const k=a.find(X=>X.id===A);if(!k)return;const z=((P=k.visible_dates)==null?void 0:P.length)>0?k.visible_dates:[k.date||k.created_date],J=k.original_todo_id!==null&&k.original_todo_id!==void 0;z.length>1||J?(ze(k),Ce(!0)):await _t(A)},_t=async A=>{try{const k=a.find(P=>P.id===A);if(!k)return;w(k);const z=Fe(n),{error:J}=await t.from("todos").update({deleted:!0,deleted_date:z}).eq("id",A);if(J)throw J;i(a.filter(P=>P.id!==A)),x(!0),setTimeout(()=>{x(!1),w(null)},5e3)}catch(k){console.error("   :",k.message)}};return{inputValue:l,setInputValue:o,routineInputValue:u,setRoutineInputValue:f,normalInputValue:d,setNormalInputValue:h,loading:m,isDraggingAny:S,isAdding:v,deletedTodo:y,showUndoToast:_,showSuccessToast:T,successToastMessage:N,lastDeleteAction:I,showTrashModal:ue,trashedItems:be,focusedTodoId:H,setFocusedTodoId:G,showTodoHistoryModal:le,showTodoRoutineSetupModal:Ye,selectedTodoForModal:Re,todoHistory:Ve,expandedHistoryIds:nn,routineDaysForModal:Lt,setRoutineDaysForModal:q,isEditingRoutineInModal:te,setIsEditingRoutineInModal:de,routineTimeSlotForModal:Ie,setRoutineTimeSlotForModal:Ge,showDeleteConfirmModal:st,setShowDeleteConfirmModal:Ce,todoToDelete:we,setTodoToDelete:ze,carryOverInProgress:ge,fetchTodos:da,handleAddTodo:en,handleAddRoutineTodo:an,handleAddNormalTodo:Kt,handleToggleTodo:La,handleDeleteTodo:ea,executeSimpleDelete:_t,hideOnThisDateOnly:async A=>{try{const k=Fe(n),J=[...A.hidden_dates||[],k],{error:P}=await t.from("todos").update({hidden_dates:J}).eq("id",A.id);if(P)throw P;i(a.filter(X=>X.id!==A.id)),Ce(!1),ze(null)}catch(k){console.error(" :",k.message)}},deleteCompletely:async A=>{try{const k=Fe(n),{error:z}=await t.from("todos").update({deleted:!0,deleted_date:k}).eq("id",A.id);if(z)throw z;i(a.filter(J=>J.id!==A.id)),Ce(!1),ze(null)}catch(k){console.error(" :",k.message)}},handleUndoDelete:async()=>{if(y)try{const{error:A}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",y.id);if(A)throw A;i(k=>{const z={...y,deleted:!1,deleted_date:null};return[...k,z].sort((P,X)=>P.order_index-X.order_index)}),x(!1),w(null)}catch(A){console.error("  :",A.message)}},handleRestoreFromTrash:async A=>{if(window.confirm(`  ?

      .`))try{const{error:z}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",A);if(z)throw z;U(be.filter(J=>J.id!==A)),alert(" !")}catch(z){console.error(" :",z.message),alert("  : "+z.message)}},handlePermanentDelete:async A=>{if(window.confirm(`     ?

    .`))try{const{error:z}=await t.from("todos").delete().eq("id",A);if(z)throw z;U(be.filter(J=>J.id!==A)),alert("  .")}catch(z){console.error("  :",z.message),alert("   : "+z.message)}},handleEditTodo:async(A,k,z)=>{var J,P;try{let X=null;z.current.add(A);const ie=new Date().toISOString();if(i(ke=>(X=ke.find(Je=>Je.id===A),!X||X.text===k?(z.current.delete(A),ke):ke.map(Je=>Je.id===A?{...Je,text:k,updated_at:ie}:Je))),!X||X.text===k)return;const{error:ye}=await t.from("todo_history").insert([{todo_id:A,previous_text:X.text,new_text:k,changed_on_date:X.date,user_id:(J=e==null?void 0:e.user)==null?void 0:J.id}]);if(ye&&console.error("  :",ye.message),X.original_todo_id){const{data:ke,error:Je}=await t.from("todos").select("text, date").eq("id",X.original_todo_id).single();!Je&&ke&&await t.from("todo_history").insert([{todo_id:X.original_todo_id,previous_text:X.text,new_text:k,changed_on_date:X.date,user_id:(P=e==null?void 0:e.user)==null?void 0:P.id}])}const{error:tt}=await t.from("todos").update({text:k}).eq("id",A);tt?(console.error("   :",tt.message),i(ke=>ke.map(Je=>Je.id===A?X:Je)),z.current.delete(A)):setTimeout(()=>{z.current.delete(A)},5e3)}catch(X){console.error("   :",X.message),z.current.delete(A)}},handleAddSubTodo:async(A,k)=>{var z;if(!(!k||k.trim()===""))try{const P=a.filter(tt=>tt.parent_id===A).length+1,X=Fe(n),{data:ie,error:ye}=await t.from("todos").insert([{text:k.trim(),completed:!1,order_index:P,date:X,parent_id:A,user_id:(z=e==null?void 0:e.user)==null?void 0:z.id}]).select();if(ye)throw ye;i([...a,ie[0]])}catch(J){console.error("    :",J.message)}},handleDragEnd:async(A,k)=>{E(!1);const{active:z,over:J}=A;if(!J||z.id===J.id)return;const P=a.findIndex(ye=>ye.id===z.id),X=a.findIndex(ye=>ye.id===J.id),ie=k(a,P,X);i(ie);try{const ye=ie.map((tt,ke)=>({id:tt.id,order_index:ke+1}));for(const tt of ye)await t.from("todos").update({order_index:tt.order_index}).eq("id",tt.id)}catch(ye){console.error("  :",ye.message)}},carryOverIncompleteTodos:$e,movePastIncompleteTodosToToday:Mt,fetchTrash:$a,handleEmptyTrash:async()=>{if(!(be.length===0||!window.confirm(`   ?

${be.length}   .
    .`)))try{const k=be.map(J=>J.id),{error:z}=await t.from("todos").delete().in("id",k);if(z)throw z;U([]),alert(` ${k.length}   .`)}catch(k){console.error("  :",k.message),alert("   : "+k.message)}},handleRemoveTodoFromUI:ut,handleOpenTrash:()=>{F(!0),$a()},handleCloseTrash:()=>{F(!1)},handleDragStart:()=>{E(!0)},handleDragCancel:()=>{E(!1)},handleOpenTodoHistoryModal:async A=>{Me(A);try{const{data:k,error:z}=await t.from("todo_history").select("*").eq("todo_id",A.id).order("changed_at",{ascending:!1});if(z)throw z;Ae(J=>({...J,[A.id]:k||[]}))}catch(k){console.error("Error fetching history:",k)}_e(!0)},handleCloseTodoHistoryModal:()=>{_e(!1),Me(null),xt([])},handleOpenTodoRoutineSetupModal:A=>{Me(A);const k=s.find(z=>z.id===A.routine_id);k?(q(k.days||[]),Ge(k.time_slot||""),de(!1)):(q([]),Ge(""),de(!0)),Oe(!0)},toggleHistoryDetail:A=>{xt(k=>k.includes(A)?k.filter(z=>z!==A):[...k,A])}}};function uo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:i,listeners:s,setNodeRef:r,transform:l,transition:o,isDragging:u}=xh({id:e,disabled:n}),f=p.useRef(null),[d,h]=p.useState(!1),m=_=>{if(n&&a){if(!_.target.closest(".section-header"))return;h(!0),f.current=setTimeout(()=>{a(),h(!1)},500)}},b=()=>{f.current&&(clearTimeout(f.current),f.current=null,h(!1))},S=()=>{f.current&&(clearTimeout(f.current),f.current=null),h(!1)},E=()=>{f.current&&(clearTimeout(f.current),f.current=null),h(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},y=n?{onPointerDown:m,onPointerMove:b,onPointerUp:S,onPointerCancel:E,onPointerLeave:E}:{...i,...s},w=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:g,className:w,...y,children:t})}function aO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=Uj(),[i,s]=p.useState(new Date),[r,l]=p.useState(!1),o=p.useRef(new Set),u=Wd(Ui(ml,{activationConstraint:{distance:8}}),Ui(af,{activationConstraint:{delay:200,tolerance:8}}),Ui(qc,{coordinateGetter:Ab})),f=Wd(Ui(ml,{activationConstraint:{distance:8}}),Ui(af,{activationConstraint:{delay:200,tolerance:8}})),[d,h]=p.useState([]),{showRoutineModal:m,routines:b,setRoutines:S,routineInput:E,setRoutineInput:v,selectedDays:g,selectedTimeSlot:y,setSelectedTimeSlot:w,isAddingRoutine:_,editingRoutineId:x,editingRoutineText:T,setEditingRoutineText:O,showRoutineHistory:N,selectedRoutineForHistory:M,routineHistoryData:I,editingRoutineDays:re,handleAddRoutine:ue,handleCreateRoutineFromTodo:F,handleStartEditRoutine:be,handleCancelEditRoutine:U,handleSaveEditRoutine:H,handleToggleEditDay:G,handleDeleteRoutine:le,fetchRoutineHistory:_e,handleCloseRoutineHistory:Ye,handleOpenRoutine:Oe,handleCloseRoutine:Re,handleToggleDay:Me,createRoutineTodos:Ve}=tO({session:e,supabase:ee,selectedDate:i,setTodos:h,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{routineInputValue:Ae,setRoutineInputValue:nn,normalInputValue:xt,setNormalInputValue:Lt,loading:q,isDraggingAny:te,isAdding:de,showUndoToast:Ie,showSuccessToast:Ge,successToastMessage:st,lastDeleteAction:Ce,showTrashModal:we,trashedItems:ze,focusedTodoId:ge,setFocusedTodoId:Se,showDeleteConfirmModal:Ke,setShowDeleteConfirmModal:$e,todoToDelete:Mt,fetchTodos:Et,handleAddRoutineTodo:da,handleAddNormalTodo:$a,handleToggleTodo:en,handleDeleteTodo:an,handleRestoreFromTrash:Kt,handlePermanentDelete:La,handleAddSubTodo:ut,handleEditTodo:ea,handleDragStart:_t,handleDragCancel:fa,handleDragEnd:ta,handleOpenTrash:pi,handleCloseTrash:bi,handleEmptyTrash:_i,handleUndoDelete:wi,handleOpenTodoHistoryModal:In,handleCloseTodoHistoryModal:ha,handleOpenTodoRoutineSetupModal:ht,toggleHistoryDetail:Tt,showTodoHistoryModal:Bt,showTodoRoutineSetupModal:bn,selectedTodoForModal:jt,todoHistory:Ht,expandedHistoryIds:tn,routineDaysForModal:Xt,setRoutineDaysForModal:yt,isEditingRoutineInModal:A,setIsEditingRoutineInModal:k,routineTimeSlotForModal:z,setRoutineTimeSlotForModal:J,hideOnThisDateOnly:P,deleteCompletely:X,handleRemoveTodoFromUI:ie}=nO(e,ee,i,d,h,b,S),ye=j=>{Se(j)},tt=j=>{console.log("Success:",j)},ke=()=>{wi()},Je=()=>{const j=document.querySelector(".memo-section");j&&j.scrollIntoView({behavior:"smooth",block:"start"})},dn=()=>{qb(!0)},[qt,_n]=p.useState([]),[ma,D]=p.useState(!1),[$,fe]=p.useState(!1),[pe,se]=p.useState(!1),{memoContent:xe,setMemoContent:qe,isSavingMemo:Ze,isEditingMemoInline:Qt,memoTextareaRef:ga,handleStartEditMemoInline:Ot,handleSaveMemoInline:ya,handleCancelEditMemoInline:na,handleMemoKeyDown:Ic}=Fj(e),{keyThoughtsBlocks:fr,setKeyThoughtsBlocks:kb,focusedBlockId:Ub,setFocusedBlockId:zb,keyThoughtsHistory:$b,showKeyThoughtsHistory:Lb,setShowKeyThoughtsHistory:Th,fetchKeyThoughtsHistory:Bb,restoreKeyThoughtsVersion:Hb}=Wj(e),[jh,qb]=p.useState(!1),[Yb,iO]=p.useState([]),[Oh,Vb]=p.useState("1week"),[Si,Ib]=p.useState([]),[Gb,Nh]=p.useState(!1),[Kb,Xb]=p.useState(""),[Qb,Jb]=p.useState(null),[Zb,Pb]=p.useState(""),[Fb,Dh]=p.useState(!1),[Rl,Gc]=p.useState(""),[Ba,Wb]=p.useState(()=>localStorage.getItem("viewMode")||"horizontal"),e_=Pj(e),{sectionOrder:Ah,isReorderMode:hr,setIsReorderMode:mr,handleSectionDragEnd:t_,handleSectionsContainerDoubleClick:n_}=e_,es=p.useRef(null),[a_,i_]=p.useState(0),Kc=p.useRef(null),Ml=()=>{if(Si.length===0)return"";const j=Math.floor(Math.random()*Si.length);return Si[j]},s_=()=>{Dh(!0);let j=Ml(),Y=0;for(;j===Rl&&Si.length>1&&Y<10;)j=Ml(),Y++;setTimeout(()=>{Dh(!1),Gc(j)},1e3)},r_=async()=>{try{const j=`DUMMY-${Date.now()}`,Y=new Date(2025,10,16),R=[],K=[],L="2025-11-14";R.push({text:`[${j}] : 14--`,date:L,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${j}] : 14-14`,date:L,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${j}] : 14-15`,date:L,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${j}] : 14-16`,date:L,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const B="2025-11-15";R.push({text:`[${j}] : 15--`,date:B,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${j}] : 15-15`,date:B,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${j}] : 15-16`,date:B,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const W="2025-11-16";R.push({text:`[${j}] : 16-`,date:W,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${j}] : 16-16`,date:W,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),R.push({text:`[${j}] : 14-15-`,date:B,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${j}] : 14-15-15`,date:B,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),R.push({text:`[${j}] : 15-16-`,date:W,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${j}] : 15-16-16`,date:W,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${j}] : 14-16-`,date:W,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${j}] : 14-16-16`,date:W,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const V="2025-11-17";R.push({text:`[${j}] : 16-17-`,date:V,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${j}] : 15-17-`,date:V,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${j}] : 14-17-`,date:V,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const ve="2025-11-18";R.push({text:`[${j}] : 16-18-`,date:ve,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${j}] : 15-18-`,date:ve,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:he,error:oe}=await ee.from("todos").insert(R).select();if(oe)throw oe;const mt=he.find(Le=>Le.text.includes("14--"));mt&&K.push({todo_id:mt.id,previous_text:`[${j}] : 14--1`,new_text:`[${j}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:B},{todo_id:mt.id,previous_text:`[${j}] : 14--2`,new_text:`[${j}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:W});const Ue=he.find(Le=>Le.text.includes("15--"));if(Ue&&K.push({todo_id:Ue.id,previous_text:`[${j}] : 15--1`,new_text:`[${j}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:W}),K.length>0){const{error:Le}=await ee.from("todo_history").insert(K);Le&&console.error("  :",Le.message)}_n(Le=>[...Le,{sessionId:j,createdAt:new Date().toISOString(),count:R.length,historyCount:K.length}]),alert(`    !
: ${R.length}
: ${K.length}
 ID: ${j}`),Et()}catch(j){console.error("   :",j.message),alert("    : "+j.message)}},l_=async j=>{if(window.confirm(`   "${j}"   ?

      ,     .`))try{const{data:R,error:K}=await ee.from("todos").select("id").like("text",`[${j}]%`);if(K)throw K;if(R&&R.length>0){const B=R.map(V=>V.id),{error:W}=await ee.from("todo_history").delete().in("todo_id",B);W&&console.error("  :",W.message)}const{error:L}=await ee.from("todos").delete().like("text",`[${j}]%`);if(L)throw L;_n(B=>B.filter(W=>W.sessionId!==j)),alert(`  ${j}  !`),Et()}catch(R){console.error("   :",R.message),alert("    : "+R.message)}},o_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:Y,error:R}=await ee.from("todos").select("id").like("text","[DUMMY-%");if(R)throw R;if(Y&&Y.length>0){const L=Y.map(W=>W.id),{error:B}=await ee.from("todo_history").delete().in("todo_id",L);B&&console.error("  :",B.message)}const{error:K}=await ee.from("todos").delete().like("text","[DUMMY-%");if(K)throw K;_n([]),alert("     !"),Et()}catch(Y){console.error("    :",Y.message),alert("     : "+Y.message)}},c_=async()=>{try{const{data:j,error:Y}=await ee.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(Y)throw Y;if(!j||j.length===0){alert(" .");return}const R={};j.forEach(oe=>{R[oe.text]||(R[oe.text]=[]),R[oe.text].push(oe)});const K=Object.entries(R).filter(([oe,mt])=>mt.length>1);if(K.length===0){alert("  .");return}let L=`  :

`,B=[];if(K.forEach(([oe,mt])=>{L+=`"${oe}" - ${mt.length}
`;const Ue=mt.slice(1);B.push(...Ue),Ue.forEach(dt=>{const aa=new Date(dt.created_at).toLocaleString("ko-KR");L+=`    : ${aa}
`});const Le=mt[0],vt=new Date(Le.created_at).toLocaleString("ko-KR");L+=`   : ${vt}

`}),L+=`
 ${B.length}   .`,!window.confirm(L+`

     ,     .

?`))return;const V=B.map(oe=>oe.id),{error:ve}=await ee.from("todo_history").delete().in("todo_id",V);ve&&console.error("  :",ve.message);const{error:he}=await ee.from("todos").delete().in("id",V);if(he)throw he;alert(` ${B.length}   .`),Et()}catch(j){console.error("   :",j.message),alert("    : "+j.message)}},u_=()=>{const j=new Date(i);j.setDate(j.getDate()-1),s(j)},d_=()=>{const j=new Date(i);j.setDate(j.getDate()+1),s(j)},f_=j=>{const Y=new Date(j.target.value+"T00:00:00");s(Y)},h_=async(j,Y)=>{try{const R=Fe(j),K=Fe(Y),{data:L,error:B}=await ee.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(B)throw B;const W=(L||[]).filter(V=>V.hidden_dates&&Array.isArray(V.hidden_dates)&&V.hidden_dates.includes(R)?!1:V.visible_dates&&Array.isArray(V.visible_dates)&&V.visible_dates.length>0?V.visible_dates.includes(R):V.date===R);if(W.length===0)return;for(const V of W){let ve=V.visible_dates||[V.date];if(ve.includes(K))continue;const he=[...ve,K].sort(),{error:oe}=await ee.from("todos").update({visible_dates:he}).eq("id",V.id);oe&&console.error(` ${V.id}  :`,oe.message)}}catch(R){console.error("   :",R.message)}};p.useEffect(()=>{let j=null;const Y=()=>{document.body.classList.add("is-scrolling"),j&&clearTimeout(j),j=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",Y),()=>{window.removeEventListener("scroll",Y),j&&clearTimeout(j)}},[]),p.useEffect(()=>{e&&kl()},[e]),p.useEffect(()=>{Si.length>0&&!Rl&&Gc(Ml())},[Si]),p.useEffect(()=>{if(!es.current)return;const j=es.current,Y=Ba==="horizontal";let R=!1,K=0,L=0,B=0;const W=Ue=>Ue.type.includes("touch")?Y?Ue.touches[0].pageX:Ue.touches[0].pageY:Y?Ue.pageX:Ue.pageY,V=Ue=>{Ue.target.closest(".section-block")||(R=!0,K=W(Ue),L=Y?j.scrollLeft:j.scrollTop,j.style.transition="none",j.style.transform=Y?"translateX(0)":"translateY(0)",B=0)},ve=()=>{R&&B!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=Y?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",B=0},300)),R=!1},he=()=>{B!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform=Y?"translateX(0)":"translateY(0)",setTimeout(()=>{j.style.transition="none",B=0},300)),R=!1},oe=Ue=>{if(!R)return;Ue.preventDefault();const vt=(W(Ue)-K)*1.5,dt=L-vt,aa=Y?j.scrollWidth-j.clientWidth:j.scrollHeight-j.clientHeight;if(dt<0){const ts=-dt;B=Math.min(ts*.3,100),Y?(j.scrollLeft=0,j.style.transform=`translateX(${B}px)`):(j.scrollTop=0,j.style.transform=`translateY(${B}px)`)}else if(dt>aa){const ts=dt-aa;B=-Math.min(ts*.3,100),Y?(j.scrollLeft=aa,j.style.transform=`translateX(${B}px)`):(j.scrollTop=aa,j.style.transform=`translateY(${B}px)`)}else B=0,j.style.transform=Y?"translateX(0)":"translateY(0)",Y?j.scrollLeft=dt:j.scrollTop=dt},mt=Ue=>{Y&&Ue.target.closest(".section-block")&&Ue.deltaX!==0&&Ue.preventDefault()};return j.addEventListener("mousedown",V),document.addEventListener("mouseup",he),document.addEventListener("mouseleave",ve),j.addEventListener("mousemove",oe),j.addEventListener("touchstart",V,{passive:!0}),j.addEventListener("touchmove",oe,{passive:!1}),j.addEventListener("touchend",he),j.addEventListener("touchcancel",he),j.addEventListener("wheel",mt,{passive:!1}),()=>{j.removeEventListener("mousedown",V),document.removeEventListener("mouseup",he),document.removeEventListener("mouseleave",ve),j.removeEventListener("mousemove",oe),j.removeEventListener("touchstart",V),j.removeEventListener("touchmove",oe),j.removeEventListener("touchend",he),j.removeEventListener("touchcancel",he),j.removeEventListener("wheel",mt)}},[Ba,d,b]),p.useEffect(()=>{if(Ba!=="horizontal"||!es.current)return;const j=es.current,Y=()=>{const R=j.querySelectorAll(".section-block");if(R.length===0)return;const K=j.getBoundingClientRect(),L=K.left+K.width/2;let B=0,W=1/0;R.forEach((V,ve)=>{const he=V.getBoundingClientRect(),oe=he.left+he.width/2,mt=Math.abs(oe-L);mt<W&&(W=mt,B=ve)}),i_(B)};return j.addEventListener("scroll",Y),Y(),()=>j.removeEventListener("scroll",Y)},[Ba,d,b]),p.useEffect(()=>{if(!Kc.current)return;const j=Kc.current;let Y=!1,R=0,K=0,L=0;const B=he=>{he.target.closest(".section-block")||(Y=!0,R=he.pageY,K=j.scrollTop,j.style.transition="none",j.style.transform="translateY(0)",L=0)},W=()=>{Y&&L!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",L=0},300)),Y=!1},V=()=>{L!==0&&(j.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",j.style.transform="translateY(0)",setTimeout(()=>{j.style.transition="none",L=0},300)),Y=!1},ve=he=>{if(!Y)return;he.preventDefault();const mt=(he.pageY-R)*1.5,Ue=K-mt,Le=j.scrollHeight-j.clientHeight;if(Ue<0){const vt=-Ue;L=Math.min(vt*.3,100),j.scrollTop=0,j.style.transform=`translateY(${L}px)`}else if(Ue>Le){const vt=Ue-Le;L=-Math.min(vt*.3,100),j.scrollTop=Le,j.style.transform=`translateY(${L}px)`}else L=0,j.style.transform="translateY(0)",j.scrollTop=Ue};return j.addEventListener("mousedown",B),document.addEventListener("mouseup",V),document.addEventListener("mouseleave",W),j.addEventListener("mousemove",ve),()=>{j.removeEventListener("mousedown",B),document.removeEventListener("mouseup",V),document.removeEventListener("mouseleave",W),j.removeEventListener("mousemove",ve)}},[d,b]),p.useEffect(()=>{jh&&fetchGanttData()},[Oh]),p.useEffect(()=>{const j=async()=>{const R=new Date,K=new Date(R);K.setHours(24,0,0,0);const L=K.getTime()-R.getTime();return setTimeout(async()=>{const W=new Date(R),V=new Date(R);V.setDate(V.getDate()+1),await h_(W,V),await Ve(),s(new Date),j()},L)},Y=j();return()=>clearTimeout(Y)},[]),p.useEffect(()=>{Et();const j=Fe(i),Y=ee.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${j}`},R=>{R.eventType==="INSERT"?h(K=>K.some(B=>B.id===R.new.id)?K:[...K,R.new].sort((B,W)=>B.order_index-W.order_index)):R.eventType==="UPDATE"?h(K=>o.current.has(R.new.id)?K:K.map(L=>L.id===R.new.id?R.new:L).sort((L,B)=>L.order_index-B.order_index)):R.eventType==="DELETE"&&h(K=>K.filter(L=>L.id!==R.old.id))}).subscribe(R=>{});return()=>{ee.removeChannel(Y)}},[i]),p.useEffect(()=>{if(te){const j=window.scrollY,Y=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${j}px`,document.body.style.left="0",document.body.style.right="0",Y>0&&(document.body.style.paddingRight=`${Y}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,j)}}},[te]);const kl=async()=>{try{const{data:j,error:Y}=await ee.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(Y)throw Y;if(j&&j.length>0){const R=j.map(K=>K.message);Ib(R),Rl||Gc(R[0])}}catch(j){console.error("   :",j.message)}},m_=async j=>{var Y;try{const{data:R}=await ee.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),K=R&&R.length>0?R[0].order_index:0,{error:L}=await ee.from("encouragement_messages").insert([{message:j,order_index:K+1,user_id:(Y=e==null?void 0:e.user)==null?void 0:Y.id}]);if(L)throw L;await kl()}catch(R){console.error("   :",R.message),alert("   .")}},g_=async(j,Y)=>{try{const{data:R}=await ee.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!R||j>=R.length)throw new Error("   .");const K=R[j],{error:L}=await ee.from("encouragement_messages").update({message:Y}).eq("id",K.id);if(L)throw L;await kl()}catch(R){console.error("   :",R.message),alert("   .")}},y_=async j=>{try{const{data:Y}=await ee.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!Y||j>=Y.length)throw new Error("   .");const R=Y[j],{error:K}=await ee.from("encouragement_messages").delete().eq("id",R.id);if(K)throw K;await kl()}catch(Y){console.error("   :",Y.message),alert("   .")}},Ch=Zj({authLoading:t,session:e,handleGoogleLogin:n});return Ch||c.jsxs("div",{className:`app ${te?"dragging-active":""}`,children:[c.jsx(zj,{showSidebar:r,setShowSidebar:l,session:e,viewMode:Ba,setViewMode:Wb,onOpenTrash:pi,onOpenRoutine:Oe,onOpenMemo:Je,onScrollToKeyThoughts:()=>{const j=document.querySelector(".key-thoughts-section");j&&j.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:dn,onOpenEncouragementModal:()=>Nh(!0),onOpenDummyModal:()=>D(!0),onLogout:a}),c.jsxs("div",{className:`container ${Ba==="horizontal"?"container-wide":""}`,children:[c.jsx(Lj,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:f_,onPrevDay:u_,onNextDay:d_,showEncouragementEmoji:Fb,currentEncouragementMessage:Rl,getRandomEncouragement:Ml,onEncouragementClick:s_,isReorderMode:hr,setIsReorderMode:mr,setSelectedDate:s}),c.jsxs("div",{className:"content-scrollable",ref:Kc,children:[c.jsx(rf,{sensors:u,collisionDetection:ef,onDragStart:_t,onDragEnd:ta,onDragCancel:fa,children:c.jsx("div",{className:"todo-list",children:q?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const j=d.filter(K=>!K.parent_id&&K.routine_id!==null&&!K.is_pending_routine),Y=d.filter(K=>!K.parent_id&&K.is_pending_routine),R=d.filter(K=>!K.parent_id&&K.routine_id===null&&!K.is_pending_routine);return c.jsx(rf,{sensors:f,collisionDetection:ef,onDragEnd:t_,children:c.jsx(Nr,{items:Ah,strategy:_j,children:c.jsx("div",{ref:es,className:`sections-container ${Ba==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:n_,children:Ah.map(K=>K==="memo"?c.jsx(uo,{id:"memo",disabled:!hr,onLongPress:()=>mr(!0),children:c.jsxs(Vj,{title:"  ",className:"memo-section section-block",content:xe,setContent:qe,isEditing:Qt,isSaving:Ze,textareaRef:ga,onStartEdit:Ot,onSave:ya,onCancel:na,onKeyDown:Ic,placeholder:" ...",emptyMessage:" ",children:[!Qt&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>fe(!$),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.1)",L.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:L=>{L.currentTarget.style.background="rgba(255, 255, 255, 0.05)",L.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:$?"":""})]})}),$&&!Qt&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const L=new Date,B=Ul=>{const xi=new Date(L);return xi.setDate(xi.getDate()+Ul),xi.toISOString().split("T")[0]},W=Ul=>{const xi=new Date(L);return xi.setDate(xi.getDate()+Ul),xi.getDate()},V=Date.now(),ve=W(-2),he=W(-1),oe=W(0),mt=W(1),Ue=W(2),Le=B(-2),vt=B(-1),dt=B(0),aa=B(1),ts=B(2),v_=`--         (${dt} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${ve}--', '${Le}', false, '${Le}T09:00:00+09:00', 1001),
  ('[DUMMY-${V}] : ${ve}-${ve}', '${Le}', true, '${Le}T09:10:00+09:00', 1002),
  ('[DUMMY-${V}] : ${ve}-${he}', '${Le}', true, '${Le}T09:20:00+09:00', 1003),
  ('[DUMMY-${V}] : ${ve}-${oe}', '${Le}', true, '${Le}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${he}--', '${vt}', false, '${vt}T10:00:00+09:00', 1005),
  ('[DUMMY-${V}] : ${he}-${he}', '${vt}', true, '${vt}T10:10:00+09:00', 1006),
  ('[DUMMY-${V}] : ${he}-${oe}', '${vt}', true, '${vt}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${oe}-', '${dt}', false, '${dt}T11:00:00+09:00', 1008),
  ('[DUMMY-${V}] : ${oe}-${oe}', '${dt}', true, '${dt}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${ve}-${he}-', '${vt}', false, '${Le}T14:00:00+09:00', 1010),
  ('[DUMMY-${V}] : ${ve}-${he}-${he}', '${vt}', true, '${Le}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${he}-${oe}-', '${dt}', false, '${vt}T15:00:00+09:00', 1012),
  ('[DUMMY-${V}] : ${he}-${oe}-${oe}', '${dt}', true, '${vt}T15:10:00+09:00', 1013),
  ('[DUMMY-${V}] : ${ve}-${oe}-', '${dt}', false, '${Le}T15:00:00+09:00', 1014),
  ('[DUMMY-${V}] : ${ve}-${oe}-${oe}', '${dt}', true, '${Le}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${oe}-${mt}-', '${aa}', false, '${dt}T16:00:00+09:00', 1016),
  ('[DUMMY-${V}] : ${he}-${mt}-', '${aa}', false, '${vt}T16:00:00+09:00', 1017),
  ('[DUMMY-${V}] : ${ve}-${mt}-', '${aa}', false, '${Le}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${V}] : ${oe}-${Ue}-', '${ts}', false, '${dt}T17:00:00+09:00', 1019),
  ('[DUMMY-${V}] : ${he}-${Ue}-', '${ts}', false, '${vt}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${ve}--1', '[DUMMY-${V}] : ${ve}--2', '${vt}T12:00:00+09:00', '${vt}'
FROM todos WHERE text = '[DUMMY-${V}] : ${ve}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${ve}--2', '[DUMMY-${V}] : ${ve}--', '${dt}T12:00:00+09:00', '${dt}'
FROM todos WHERE text = '[DUMMY-${V}] : ${ve}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${V}] : ${he}--1', '[DUMMY-${V}] : ${he}--', '${dt}T13:00:00+09:00', '${dt}'
FROM todos WHERE text = '[DUMMY-${V}] : ${he}--' LIMIT 1;`,ns=document.createElement("textarea");ns.value=v_,ns.style.position="fixed",ns.style.opacity="0",document.body.appendChild(ns),ns.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ns)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const L=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,B=document.createElement("textarea");B.value=L,B.style.position="fixed",B.style.opacity="0",document.body.appendChild(B),B.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(B)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):K==="routine"?c.jsx(uo,{id:"routine",disabled:!hr,onLongPress:()=>mr(!0),children:c.jsxs(Jg,{title:" ",className:"routine-section section-block",inputValue:Ae,setInputValue:nn,onAddTodo:da,isAdding:de,placeholder:"   ...",children:[j.length>0&&c.jsx(Nr,{items:j.map(L=>L.id),strategy:No,children:j.map((L,B)=>{const W=d.filter(V=>V.parent_id===L.id);return c.jsx(Do,{todo:L,index:B,onToggle:en,onDelete:an,onEdit:ea,formatDate:Oi,formatDateOnly:ia,isFocused:ge===L.id,onFocus:ye,onAddSubTodo:ut,subtodos:W,level:0,onCreateRoutine:F,routines:b,onShowRoutineHistory:_e,onOpenRoutineSetupModal:ht,onOpenHistoryModal:In,currentPageDate:Fe(i),onRemoveFromUI:ie,showSuccessMessage:tt},L.id)})}),j.length>0&&Y.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),Y.length>0&&c.jsx(Nr,{items:Y.map(L=>L.id),strategy:No,children:Y.map((L,B)=>{const W=d.filter(V=>V.parent_id===L.id);return c.jsx(Do,{todo:L,index:B,onToggle:en,onDelete:an,onEdit:ea,formatDate:Oi,formatDateOnly:ia,isFocused:ge===L.id,onFocus:ye,onAddSubTodo:ut,subtodos:W,level:0,onCreateRoutine:F,routines:b,onShowRoutineHistory:_e,onOpenRoutineSetupModal:ht,onOpenHistoryModal:In,currentPageDate:Fe(i),isPendingRoutine:!0,onRemoveFromUI:ie,showSuccessMessage:tt},L.id)})})]})},"routine"):K==="normal"?c.jsx(uo,{id:"normal",disabled:!hr,onLongPress:()=>mr(!0),children:c.jsx(Jg,{title:"  ",className:"normal-section section-block",inputValue:xt,setInputValue:Lt,onAddTodo:$a,isAdding:de,placeholder:"   ...",children:R.length>0&&c.jsx(Nr,{items:R.map(L=>L.id),strategy:No,children:R.map((L,B,W)=>{const V=d.filter(Le=>Le.parent_id===L.id),ve=Fe(i),he=L.created_at?L.created_at.split("T")[0]:L.date,oe=W[B+1],mt=oe?oe.created_at?oe.created_at.split("T")[0]:oe.date:null,Ue=he<ve&&mt>=ve;return c.jsxs(at.Fragment,{children:[c.jsx(Do,{todo:L,index:B,onToggle:en,onDelete:an,onEdit:ea,formatDate:Oi,formatDateOnly:ia,isFocused:ge===L.id,onFocus:ye,onAddSubTodo:ut,subtodos:V,level:0,onCreateRoutine:F,routines:b,onShowRoutineHistory:_e,onOpenRoutineSetupModal:ht,onOpenHistoryModal:In,currentPageDate:ve,onRemoveFromUI:ie,showSuccessMessage:tt}),Ue&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},L.id)})})})},"normal"):K==="key-thoughts"?c.jsx(uo,{id:"key-thoughts",disabled:!hr,onLongPress:()=>mr(!0),children:c.jsx(Ij,{blocks:fr,setBlocks:kb,focusedBlockId:Ub,setFocusedBlockId:zb,onShowHistory:()=>{Bb(),Th(!0)}})},"key-thoughts"):null)})})})})()})}),c.jsx(Bj,{viewMode:Ba,currentSectionIndex:a_,sectionsContainerRef:es})]}),Ie&&c.jsx(Qg,{message:"",onUndo:wi}),Ge&&c.jsx(Qg,{message:st,onUndo:Ce?ke:null,variant:"success"}),Ke&&Mt&&c.jsx("div",{className:"modal-overlay",onClick:()=>$e(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>$e(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:Mt.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>P(Mt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>X(Mt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),Bt&&jt&&(()=>{const j=jt,Y=j.visible_dates&&j.visible_dates.length>0?j.visible_dates:[j.date],R=Y[0],K=Y.map(B=>({id:`${j.id}-${B}`,date:B})),L=Ht[j.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:ha,children:c.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:ha,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:Oi(j.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(R?new Date(R+"T00:00:00"):new Date(j.date+"T00:00:00"))})]}),K.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:K.map((B,W)=>{const V=B.date===j.date,ve=ia(new Date(B.date+"T00:00:00"));return c.jsxs("span",{children:[W>0&&"  ",c.jsxs("span",{style:V?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ve.split("(")[0],V?"()":""]})]},B.id)})})]}),(()=>{const B=new Date(j.created_at).toISOString().split("T")[0],W=j.date;return B!==W&&K.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ia(new Date(j.date+"T00:00:00"))})]}):null})(),L.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",L.length,")"]}),L.map(B=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[Oi(B.changed_at),B.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",ia(new Date(B.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:W=>{W.stopPropagation(),Tt(B.id)},children:tn.includes(B.id)?"":""})]}),tn.includes(B.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:B.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:B.new_text})]})]})]},B.id))]})]})})]})})})(),bn&&jt&&(()=>{const j=jt,Y=b.find(R=>R.id===j.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:handleCloseTodoRoutineSetupModal,children:c.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:handleCloseTodoRoutineSetupModal,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:Y&&!A?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Yi.filter(R=>Y.days.includes(R.key)).map(R=>c.jsx("span",{className:"routine-day-badge",children:R.label},R.key))}),Y.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",Y.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:R=>{R.stopPropagation(),Y&&(yt(Y.days),J(Y.time_slot||""),k(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async R=>{R.stopPropagation(),Y&&j&&(await F(j.id,j.text,[],null,!0),handleCloseTodoRoutineSetupModal())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:A?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Yi.map(R=>c.jsx("button",{onClick:K=>{K.stopPropagation(),handleToggleRoutineDayInModal(R.key)},className:`day-button-inline ${Xt.includes(R.key)?"selected":""}`,children:R.label},R.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Eh,{value:z,onChange:R=>J(R)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async R=>{R.stopPropagation(),j&&(A&&Y?await F(j.id,j.text,Xt,Y.id,!1,z):await F(j.id,j.text,Xt,null,!1,z),handleCloseTodoRoutineSetupModal())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:R=>{R.stopPropagation(),handleCloseTodoRoutineSetupModal()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx(Hj,{showRoutineModal:m,onClose:Re,routineInput:E,setRoutineInput:v,isAddingRoutine:_,selectedDays:g,onToggleDay:Me,selectedTimeSlot:y,setSelectedTimeSlot:w,onAddRoutine:ue,routines:b,editingRoutineId:x,editingRoutineText:T,setEditingRoutineText:O,editingRoutineDays:re,onToggleEditDay:G,onStartEdit:be,onSaveEdit:H,onCancelEdit:U,onDelete:le,onShowHistory:_e}),c.jsx(Yj,{showRoutineHistory:N,onClose:Ye,selectedRoutine:M,routineHistoryData:I}),c.jsx(Gj,{showTrashModal:we,onClose:bi,trashedItems:ze,onEmptyTrash:_i,onRestoreFromTrash:Kt,onPermanentDelete:La,formatDate:Oi}),c.jsx(Kj,{showDummyModal:ma,onClose:()=>D(!1),onCreateDummyData:r_,onRemoveDuplicates:c_,dummySessions:qt,onDeleteDummySession:l_,onDeleteAllDummies:o_,formatDate:Oi}),c.jsx(Xj,{showGanttChart:jh,onClose:handleCloseGanttChart,ganttData:Yb,ganttPeriod:Oh,setGanttPeriod:Vb,formatDateOnly:ia}),c.jsx(Qj,{showEncouragementModal:Gb,onClose:()=>Nh(!1),encouragementMessages:Si,newEncouragementMessage:Kb,setNewEncouragementMessage:Xb,onAddEncouragementMessage:m_,editingEncouragementId:Qb,editingEncouragementText:Zb,setEditingEncouragementId:Jb,setEditingEncouragementText:Pb,onUpdateEncouragementMessage:g_,onDeleteEncouragementMessage:y_}),c.jsx(Jj,{showKeyThoughtsHistory:Lb,onClose:()=>Th(!1),keyThoughtsHistory:$b,onRestoreVersion:Hb})]})]})}gx.createRoot(document.getElementById("root")).render(c.jsx(p.StrictMode,{children:c.jsx(aO,{})}));
