function bw(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ry(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var My={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=Symbol.for("react.transitional.element"),Sw=Symbol.for("react.fragment");function ky(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:ww,type:e,key:a,ref:t!==void 0?t:null,props:n}}Tc.Fragment=Sw;Tc.jsx=ky;Tc.jsxs=ky;My.exports=Tc;var c=My.exports,Uy={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.transitional.element"),xw=Symbol.for("react.portal"),Ew=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),Ow=Symbol.for("react.consumer"),Nw=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),Cw=Symbol.for("react.memo"),zy=Symbol.for("react.lazy"),Rw=Symbol.for("react.activity"),mm=Symbol.iterator;function Mw(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var $y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},By=Object.assign,Ly={};function Ji(e,t,n){this.props=e,this.context=t,this.refs=Ly,this.updater=n||$y}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hy(){}Hy.prototype=Ji.prototype;function Mf(e,t,n){this.props=e,this.context=t,this.refs=Ly,this.updater=n||$y}var kf=Mf.prototype=new Hy;kf.constructor=Mf;By(kf,Ji.prototype);kf.isPureReactComponent=!0;var gm=Array.isArray;function hd(){}var Ve={H:null,A:null,T:null,S:null},qy=Object.prototype.hasOwnProperty;function Uf(e,t,n){var a=n.ref;return{$$typeof:Rf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function kw(e,t){return Uf(e.type,t,e.props)}function zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rf}function Uw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ym=/\/+/g;function yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uw(""+e.key):t.toString(36)}function zw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(hd,hd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function oi(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Rf:case xw:r=!0;break;case zy:return r=e._init,oi(r(e._payload),t,n,a,s)}}if(r)return s=s(e),r=a===""?"."+yu(e,0):a,gm(s)?(n="",r!=null&&(n=r.replace(ym,"$&/")+"/"),oi(s,t,n,"",function(u){return u})):s!=null&&(zf(s)&&(s=kw(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(ym,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=a===""?".":a+":";if(gm(e))for(var o=0;o<e.length;o++)a=e[o],i=l+yu(a,o),r+=oi(a,t,n,i,s);else if(o=Mw(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=l+yu(a,o++),r+=oi(a,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return oi(zw(e),t,n,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Il(e,t,n){if(e==null)return e;var a=[],s=0;return oi(e,a,"","",function(i){return t.call(n,i,s++)}),a}function $w(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bw={map:Il,forEach:function(e,t,n){Il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Il(e,function(){t++}),t},toArray:function(e){return Il(e,function(t){return t})||[]},only:function(e){if(!zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Activity=Rw;ae.Children=Bw;ae.Component=Ji;ae.Fragment=Ew;ae.Profiler=jw;ae.PureComponent=Mf;ae.StrictMode=Tw;ae.Suspense=Dw;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;ae.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ve.H.useMemoCache(e)}};ae.cache=function(e){return function(){return e.apply(null,arguments)}};ae.cacheSignal=function(){return null};ae.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=By({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!qy.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];a.children=r}return Uf(e.type,s,a)};ae.createContext=function(e){return e={$$typeof:Nw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ow,_context:e},e};ae.createElement=function(e,t,n){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)qy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return Uf(e,i,s)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Aw,render:e}};ae.isValidElement=zf;ae.lazy=function(e){return{$$typeof:zy,_payload:{_status:-1,_result:e},_init:$w}};ae.memo=function(e,t){return{$$typeof:Cw,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ve.T,n={};Ve.T=n;try{var a=e(),s=Ve.S;s!==null&&s(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(hd,vm)}catch(i){vm(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ve.T=t}};ae.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()};ae.use=function(e){return Ve.H.use(e)};ae.useActionState=function(e,t,n){return Ve.H.useActionState(e,t,n)};ae.useCallback=function(e,t){return Ve.H.useCallback(e,t)};ae.useContext=function(e){return Ve.H.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e,t){return Ve.H.useDeferredValue(e,t)};ae.useEffect=function(e,t){return Ve.H.useEffect(e,t)};ae.useEffectEvent=function(e){return Ve.H.useEffectEvent(e)};ae.useId=function(){return Ve.H.useId()};ae.useImperativeHandle=function(e,t,n){return Ve.H.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Ve.H.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Ve.H.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Ve.H.useMemo(e,t)};ae.useOptimistic=function(e,t){return Ve.H.useOptimistic(e,t)};ae.useReducer=function(e,t,n){return Ve.H.useReducer(e,t,n)};ae.useRef=function(e){return Ve.H.useRef(e)};ae.useState=function(e){return Ve.H.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Ve.H.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Ve.H.useTransition()};ae.version="19.2.0";Uy.exports=ae;var _=Uy.exports;const $e=_w(_);var Yy={exports:{}},jc={},Vy={exports:{}},Iy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,V){var K=H.length;H.push(V);e:for(;0<K;){var le=K-1>>>1,ee=H[le];if(0<s(ee,V))H[le]=V,H[K]=ee,K=le;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var V=H[0],K=H.pop();if(K!==V){H[0]=K;e:for(var le=0,ee=H.length,Se=ee>>>1;le<Se;){var ve=2*(le+1)-1,je=H[ve],Ce=ve+1,Re=H[Ce];if(0>s(je,K))Ce<ee&&0>s(Re,je)?(H[le]=Re,H[Ce]=K,le=Ce):(H[le]=je,H[ve]=K,le=ve);else if(Ce<ee&&0>s(Re,K))H[le]=Re,H[Ce]=K,le=Ce;else break e}}return V}function s(H,V){var K=H.sortIndex-V.sortIndex;return K!==0?K:H.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],f=1,h=null,m=3,g=!1,S=!1,E=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function x(H){for(var V=n(u);V!==null;){if(V.callback===null)a(u);else if(V.startTime<=H)a(u),V.sortIndex=V.expirationTime,t(o,V);else break;V=n(u)}}function T(H){if(E=!1,x(H),!S)if(n(o)!==null)S=!0,N||(N=!0,F());else{var V=n(u);V!==null&&Le(T,V.startTime-H)}}var N=!1,j=-1,R=5,k=-1;function L(){return O?!0:!(e.unstable_now()-k<R)}function X(){if(O=!1,N){var H=e.unstable_now();k=H;var V=!0;try{e:{S=!1,E&&(E=!1,y(j),j=-1),g=!0;var K=m;try{t:{for(x(H),h=n(o);h!==null&&!(h.expirationTime>H&&L());){var le=h.callback;if(typeof le=="function"){h.callback=null,m=h.priorityLevel;var ee=le(h.expirationTime<=H);if(H=e.unstable_now(),typeof ee=="function"){h.callback=ee,x(H),V=!0;break t}h===n(o)&&a(o),x(H)}else a(o);h=n(o)}if(h!==null)V=!0;else{var Se=n(u);Se!==null&&Le(T,Se.startTime-H),V=!1}}break e}finally{h=null,m=K,g=!1}V=void 0}}finally{V?F():N=!1}}}var F;if(typeof p=="function")F=function(){p(X)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,re=fe.port2;fe.port1.onmessage=X,F=function(){re.postMessage(null)}}else F=function(){b(X,0)};function Le(H,V){j=b(function(){H(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var K=m;m=V;try{return H()}finally{m=K}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=m;m=H;try{return V()}finally{m=K}},e.unstable_scheduleCallback=function(H,V,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=K+ee,H={id:f++,callback:V,priorityLevel:H,startTime:K,expirationTime:ee,sortIndex:-1},K>le?(H.sortIndex=K,t(u,H),n(o)===null&&H===n(u)&&(E?(y(j),j=-1):E=!0,Le(T,K-le))):(H.sortIndex=ee,t(o,H),S||g||(S=!0,N||(N=!0,F()))),H},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(H){var V=m;return function(){var K=m;m=V;try{return H.apply(this,arguments)}finally{m=K}}}})(Iy);Vy.exports=Iy;var Lw=Vy.exports,Gy={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=_;function Ky(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ua(){}var $t={d:{f:Ua,r:function(){throw Error(Ky(522))},D:Ua,C:Ua,L:Ua,m:Ua,X:Ua,S:Ua,M:Ua},p:0,findDOMNode:null},qw=Symbol.for("react.portal");function Yw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Cr=Hw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Oc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$t;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ky(299));return Yw(e,t,null,n)};Bt.flushSync=function(e){var t=Cr.T,n=$t.p;try{if(Cr.T=null,$t.p=2,e)return e()}finally{Cr.T=t,$t.p=n,$t.d.f()}};Bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$t.d.C(e,t))};Bt.prefetchDNS=function(e){typeof e=="string"&&$t.d.D(e)};Bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Oc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?$t.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):n==="script"&&$t.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Oc(t.as,t.crossOrigin);$t.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$t.d.M(e)};Bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Oc(n,t.crossOrigin);$t.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Oc(t.as,t.crossOrigin);$t.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $t.d.m(e)};Bt.requestFormReset=function(e){$t.d.r(e)};Bt.unstable_batchedUpdates=function(e,t){return e(t)};Bt.useFormState=function(e,t,n){return Cr.H.useFormState(e,t,n)};Bt.useFormStatus=function(){return Cr.H.useHostTransitionStatus()};Bt.version="19.2.0";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Gy.exports=Bt;var hi=Gy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht=Lw,Qy=_,Vw=hi;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Py(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(pl(e)!==e)throw Error($(188))}function Iw(e){var t=e.alternate;if(!t){if(t=pl(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pm(s),e;if(i===a)return pm(s),t;i=i.sibling}throw Error($(188))}if(n.return!==a.return)n=s,a=i;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Wy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Wy(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,Gw=Symbol.for("react.element"),Gl=Symbol.for("react.transitional.element"),Er=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),ev=Symbol.for("react.consumer"),pa=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),yd=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),vd=Symbol.for("react.activity"),Kw=Symbol.for("react.memo_cache_sentinel"),bm=Symbol.iterator;function vr(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var Xw=Symbol.for("react.client.reference");function pd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case md:return"Profiler";case Fy:return"StrictMode";case gd:return"Suspense";case yd:return"SuspenseList";case vd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Er:return"Portal";case pa:return e.displayName||"Context";case ev:return(e._context.displayName||"Context")+".Consumer";case $f:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bf:return t=e.displayName||null,t!==null?t:pd(e.type)||"Memo";case $a:t=e._payload,e=e._init;try{return pd(e(t))}catch{}}return null}var Tr=Array.isArray,W=Qy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=Vw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cs={pending:!1,data:null,method:null,action:null},bd=[],gi=-1;function sa(e){return{current:e}}function St(e){0>gi||(e.current=bd[gi],bd[gi]=null,gi--)}function Be(e,t){gi++,bd[gi]=e.current,e.current=t}var aa=sa(null),Pr=sa(null),Pa=sa(null),Bo=sa(null);function Lo(e,t){switch(Be(Pa,t),Be(Pr,e),Be(aa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tg(t),e=_0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}St(aa),Be(aa,e)}function Ui(){St(aa),St(Pr),St(Pa)}function _d(e){e.memoizedState!==null&&Be(Bo,e);var t=aa.current,n=_0(t,e.type);t!==n&&(Be(Pr,e),Be(aa,n))}function Ho(e){Pr.current===e&&(St(aa),St(Pr)),Bo.current===e&&(St(Bo),ol._currentValue=Cs)}var vu,_m;function Ss(e){if(vu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vu=t&&t[1]||"",_m=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+e+_m}var pu=!1;function bu(e,t){if(!e||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(e,[],h)}else{try{h.call()}catch(g){m=g}e.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===o.length||s===u.length)for(a=o.length-1,s=u.length-1;1<=a&&0<=s&&o[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==u[s]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=s);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ss(n):""}function Qw(e,t){switch(e.tag){case 26:case 27:case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return e.child!==t&&t!==null?Ss("Suspense Fallback"):Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 15:return bu(e.type,!1);case 11:return bu(e.type.render,!1);case 1:return bu(e.type,!0);case 31:return Ss("Activity");default:return""}}function wm(e){try{var t="",n=null;do t+=Qw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var wd=Object.prototype.hasOwnProperty,Lf=ht.unstable_scheduleCallback,_u=ht.unstable_cancelCallback,Jw=ht.unstable_shouldYield,Zw=ht.unstable_requestPaint,dn=ht.unstable_now,Pw=ht.unstable_getCurrentPriorityLevel,tv=ht.unstable_ImmediatePriority,nv=ht.unstable_UserBlockingPriority,qo=ht.unstable_NormalPriority,Ww=ht.unstable_LowPriority,av=ht.unstable_IdlePriority,Fw=ht.log,eS=ht.unstable_setDisableYieldValue,bl=null,fn=null;function Ka(e){if(typeof Fw=="function"&&eS(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(bl,e)}catch{}}var hn=Math.clz32?Math.clz32:aS,tS=Math.log,nS=Math.LN2;function aS(e){return e>>>=0,e===0?32:31-(tS(e)/nS|0)|0}var Kl=256,Xl=262144,Ql=4194304;function xs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=xs(a):(r&=l,r!==0?s=xs(r):n||(n=l&~e,n!==0&&(s=xs(n))))):(l=a&~i,l!==0?s=xs(l):r!==0?s=xs(r):n||(n=a&~e,n!==0&&(s=xs(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function _l(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sv(){var e=Ql;return Ql<<=1,!(Ql&62914560)&&(Ql=4194304),e}function wu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iS(e,t,n,a,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-hn(n),h=1<<f;l[f]=0,o[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~h}a!==0&&iv(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function iv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-hn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function rv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-hn(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function lv(e,t){var n=t&-t;return n=n&42?1:Hf(n),n&(e.suspendedLanes|t)?0:n}function Hf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ov(){var e=Te.p;return e!==0?e:(e=window.event,e===void 0?32:C0(e.type))}function Sm(e,t){var n=Te.p;try{return Te.p=e,t()}finally{Te.p=n}}var ds=Math.random().toString(36).slice(2),jt="__reactFiber$"+ds,Pt="__reactProps$"+ds,Zi="__reactContainer$"+ds,Sd="__reactEvents$"+ds,rS="__reactListeners$"+ds,lS="__reactHandles$"+ds,xm="__reactResources$"+ds,Sl="__reactMarker$"+ds;function Yf(e){delete e[jt],delete e[Pt],delete e[Sd],delete e[rS],delete e[lS]}function yi(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zi]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[jt])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function Pi(e){if(e=e[jt]||e[Zi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function jr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function ji(e){var t=e[xm];return t||(t=e[xm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[Sl]=!0}var cv=new Set,uv={};function qs(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(uv[e]=t,e=0;e<t.length;e++)cv.add(t[e])}var oS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Em={},Tm={};function cS(e){return wd.call(Tm,e)?!0:wd.call(Em,e)?!1:oS.test(e)?Tm[e]=!0:(Em[e]=!0,!1)}function _o(e,t,n){if(cS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ua(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uS(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xd(e){if(!e._valueTracker){var t=dv(e)?"checked":"value";e._valueTracker=uS(e,t,""+e[t])}}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=dv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dS=/[\n"\\]/g;function Nn(e){return e.replace(dS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ed(e,t,n,a,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Td(e,r,Tn(t)):n!=null?Td(e,r,Tn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Tn(l):e.removeAttribute("name")}function hv(e,t,n,a,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){xd(e);return}n=n!=null?""+Tn(n):"",t=t!=null?""+Tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),xd(e)}function Td(e,t,n){t==="number"&&Yo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Oi(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mv(e,t,n){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tn(n):""}function gv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error($(92));if(Tr(a)){if(1<a.length)throw Error($(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),xd(e)}function $i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jm(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||fS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function yv(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&jm(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&jm(e,i,t[i])}function Vf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(e){return mS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var jd=null;function If(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ni=null;function Om(e){var t=Pi(e);if(t&&(e=t.stateNode)){var n=e[Pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ed(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Pt]||null;if(!s)throw Error($(90));Ed(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&fv(a)}break e;case"textarea":mv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Oi(e,!!n.multiple,t,!1)}}}var Su=!1;function vv(e,t,n){if(Su)return e(t,n);Su=!0;try{var a=e(t);return a}finally{if(Su=!1,(vi!==null||Ni!==null)&&(Hc(),vi&&(t=vi,e=Ni,Ni=vi=null,Om(t),e)))for(t=0;t<e.length;t++)Om(e[t])}}function Wr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Pt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=!1;if(Ea)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Od=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Od=!1}var Xa=null,Gf=null,So=null;function pv(){if(So)return So;var e,t=Gf,n=t.length,a,s="value"in Xa?Xa.value:Xa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===s[i-a];a++);return So=s.slice(e,1<a?1-a:void 0)}function xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function Nm(){return!1}function Wt(e){function t(n,a,s,i,r){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zl:Nm,this.isPropagationStopped=Nm,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Wt(Ys),xl=Ie({},Ys,{view:0,detail:0}),gS=Wt(xl),xu,Eu,br,Dc=Ie({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(xu=e.screenX-br.screenX,Eu=e.screenY-br.screenY):Eu=xu=0,br=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:Eu}}),Am=Wt(Dc),yS=Ie({},Dc,{dataTransfer:0}),vS=Wt(yS),pS=Ie({},xl,{relatedTarget:0}),Tu=Wt(pS),bS=Ie({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),_S=Wt(bS),wS=Ie({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SS=Wt(wS),xS=Ie({},Ys,{data:0}),Dm=Wt(xS),ES={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jS[e])?!!t[e]:!1}function Kf(){return OS}var NS=Ie({},xl,{key:function(e){if(e.key){var t=ES[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kf,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=Wt(NS),DS=Ie({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cm=Wt(DS),CS=Ie({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kf}),RS=Wt(CS),MS=Ie({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=Wt(MS),US=Ie({},Dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=Wt(US),$S=Ie({},Ys,{newState:0,oldState:0}),BS=Wt($S),LS=[9,13,27,32],Xf=Ea&&"CompositionEvent"in window,Rr=null;Ea&&"documentMode"in document&&(Rr=document.documentMode);var HS=Ea&&"TextEvent"in window&&!Rr,bv=Ea&&(!Xf||Rr&&8<Rr&&11>=Rr),Rm=" ",Mm=!1;function _v(e,t){switch(e){case"keyup":return LS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pi=!1;function qS(e,t){switch(e){case"compositionend":return wv(t);case"keypress":return t.which!==32?null:(Mm=!0,Rm);case"textInput":return e=t.data,e===Rm&&Mm?null:e;default:return null}}function YS(e,t){if(pi)return e==="compositionend"||!Xf&&_v(e,t)?(e=pv(),So=Gf=Xa=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bv&&t.locale!=="ko"?null:t.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VS[e.type]:t==="textarea"}function Sv(e,t,n,a){vi?Ni?Ni.push(a):Ni=[a]:vi=a,t=rc(t,"onChange"),0<t.length&&(n=new Ac("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Mr=null,Fr=null;function IS(e){v0(e,0)}function Cc(e){var t=jr(e);if(fv(t))return e}function Um(e,t){if(e==="change")return t}var xv=!1;if(Ea){var ju;if(Ea){var Ou="oninput"in document;if(!Ou){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),Ou=typeof zm.oninput=="function"}ju=Ou}else ju=!1;xv=ju&&(!document.documentMode||9<document.documentMode)}function $m(){Mr&&(Mr.detachEvent("onpropertychange",Ev),Fr=Mr=null)}function Ev(e){if(e.propertyName==="value"&&Cc(Fr)){var t=[];Sv(t,Fr,e,If(e)),vv(IS,t)}}function GS(e,t,n){e==="focusin"?($m(),Mr=t,Fr=n,Mr.attachEvent("onpropertychange",Ev)):e==="focusout"&&$m()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cc(Fr)}function XS(e,t){if(e==="click")return Cc(t)}function QS(e,t){if(e==="input"||e==="change")return Cc(t)}function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:JS;function el(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!wd.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lm(e,t){var n=Bm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bm(n)}}function Tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yo(e.document)}return t}function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ZS=Ea&&"documentMode"in document&&11>=document.documentMode,bi=null,Nd=null,kr=null,Ad=!1;function Hm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ad||bi==null||bi!==Yo(a)||(a=bi,"selectionStart"in a&&Qf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),kr&&el(kr,a)||(kr=a,a=rc(Nd,"onSelect"),0<a.length&&(t=new Ac("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=bi)))}function bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Nu={},Ov={};Ea&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Vs(e){if(Nu[e])return Nu[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ov)return Nu[e]=t[n];return e}var Nv=Vs("animationend"),Av=Vs("animationiteration"),Dv=Vs("animationstart"),PS=Vs("transitionrun"),WS=Vs("transitionstart"),FS=Vs("transitioncancel"),Cv=Vs("transitionend"),Rv=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function Kn(e,t){Rv.set(e,t),qs(t,[e])}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],wi=0,Jf=0;function Rc(){for(var e=wi,t=Jf=wi=0;t<e;){var n=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var s=xn[t];xn[t++]=null;var i=xn[t];if(xn[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&Mv(n,s,i)}}function Mc(e,t,n,a){xn[wi++]=e,xn[wi++]=t,xn[wi++]=n,xn[wi++]=a,Jf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Zf(e,t,n,a){return Mc(e,t,n,a),Io(e)}function Is(e,t){return Mc(e,null,null,t),Io(e)}function Mv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-hn(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Io(e){if(50<Vr)throw Vr=0,Pd=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Si={};function ex(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,a){return new ex(e,t,n,a)}function Pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function kv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Eo(e,t,n,a,s,i){var r=0;if(a=e,typeof e=="function")Pf(e)&&(r=1);else if(typeof e=="string")r=i1(e,n,aa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vd:return e=ln(31,n,t,s),e.elementType=vd,e.lanes=i,e;case mi:return Rs(n.children,s,i,t);case Fy:r=8,s|=24;break;case md:return e=ln(12,n,t,s|2),e.elementType=md,e.lanes=i,e;case gd:return e=ln(13,n,t,s),e.elementType=gd,e.lanes=i,e;case yd:return e=ln(19,n,t,s),e.elementType=yd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pa:r=10;break e;case ev:r=9;break e;case $f:r=11;break e;case Bf:r=14;break e;case $a:r=16,a=null;break e}r=29,n=Error($(130,e===null?"null":typeof e,"")),a=null}return t=ln(r,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Rs(e,t,n,a){return e=ln(7,e,a,t),e.lanes=n,e}function Au(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Uv(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function Du(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qm=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=qm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wm(t)},qm.set(e,t),t)}return{value:e,source:t,stack:wm(t)}}var xi=[],Ei=0,Go=null,tl=0,jn=[],On=0,rs=null,ea=1,ta="";function ya(e,t){xi[Ei++]=tl,xi[Ei++]=Go,Go=e,tl=t}function zv(e,t,n){jn[On++]=ea,jn[On++]=ta,jn[On++]=rs,rs=e;var a=ea;e=ta;var s=32-hn(a)-1;a&=~(1<<s),n+=1;var i=32-hn(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,ea=1<<32-hn(t)+s|n<<s|a,ta=i+e}else ea=1<<i|n<<s|a,ta=e}function Wf(e){e.return!==null&&(ya(e,1),zv(e,1,0))}function Ff(e){for(;e===Go;)Go=xi[--Ei],xi[Ei]=null,tl=xi[--Ei],xi[Ei]=null;for(;e===rs;)rs=jn[--On],jn[On]=null,ta=jn[--On],jn[On]=null,ea=jn[--On],jn[On]=null}function $v(e,t){jn[On++]=ea,jn[On++]=ta,jn[On++]=rs,ea=t.id,ta=t.overflow,rs=e}var Ot=null,Ye=null,ye=!1,Wa=null,Dn=!1,Cd=Error($(519));function ls(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(An(t,e)),Cd}function Ym(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[jt]=e,t[Pt]=a,n){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(n=0;n<rl.length;n++)ue(rl[n],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),hv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),gv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||b0(t.textContent,n)?(a.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),a.onScroll!=null&&ue("scroll",t),a.onScrollEnd!=null&&ue("scrollend",t),a.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||ls(e,!0)}function Vm(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Ot=Ot.return}}function ti(e){if(e!==Ot)return!1;if(!ye)return Vm(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nf(e.type,e.memoizedProps)),n=!n),n&&Ye&&ls(e),Vm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ye=Ag(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ye=Ag(e)}else t===27?(t=Ye,fs(e.type)?(e=lf,lf=null,Ye=e):Ye=t):Ye=Ot?Rn(e.stateNode.nextSibling):null;return!0}function zs(){Ye=Ot=null,ye=!1}function Cu(){var e=Wa;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Wa=null),e}function nl(e){Wa===null?Wa=[e]:Wa.push(e)}var Rd=sa(null),Gs=null,_a=null;function qa(e,t,n){Be(Rd,t._currentValue),t._currentValue=n}function Sa(e){e._currentValue=Rd.current,St(Rd)}function Md(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function kd(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var o=0;o<t.length;o++)if(l.context===t[o]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Md(i.return,n,e),a||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error($(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),Md(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Wi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error($(387));if(r=r.memoizedProps,r!==null){var l=s.type;gn(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Bo.current){if(r=s.alternate,r===null)throw Error($(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}s=s.return}e!==null&&kd(t,e,n,a),t.flags|=262144}function Ko(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){Gs=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Bv(Gs,e)}function Pl(e,t){return Gs===null&&$s(e),Bv(e,t)}function Bv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_a===null){if(e===null)throw Error($(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return n}var tx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},nx=ht.unstable_scheduleCallback,ax=ht.unstable_NormalPriority,ot={$$typeof:pa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new tx,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&nx(ax,function(){e.controller.abort()})}var Ur=null,Ud=0,Bi=0,Ai=null;function sx(e,t){if(Ur===null){var n=Ur=[];Ud=0,Bi=Th(),Ai={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ud++,t.then(Im,Im),t}function Im(){if(--Ud===0&&Ur!==null){Ai!==null&&(Ai.status="fulfilled");var e=Ur;Ur=null,Bi=0,Ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ix(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var Gm=W.S;W.S=function(e,t){Wp=dn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sx(e,t),Gm!==null&&Gm(e,t)};var Ms=sa(null);function th(){var e=Ms.current;return e!==null?e:ke.pooledCache}function To(e,t){t===null?Be(Ms,Ms.current):Be(Ms,t.pool)}function Lv(){var e=th();return e===null?null:{parent:ot._currentValue,pool:e}}var Fi=Error($(460)),nh=Error($(474)),kc=Error($(542)),Xo={then:function(){}};function Km(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ba,ba),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qm(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qm(e),e}throw ks=t,Fi}}function Es(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ks=n,Fi):n}}var ks=null;function Xm(){if(ks===null)throw Error($(459));var e=ks;return ks=null,e}function Qm(e){if(e===Fi||e===kc)throw Error($(483))}var Di=null,al=0;function Wl(e){var t=al;return al+=1,Di===null&&(Di=[]),Hv(Di,e,t)}function _r(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fl(e,t){throw t.$$typeof===Gw?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qv(e){function t(b,y){if(e){var p=b.deletions;p===null?(b.deletions=[y],b.flags|=16):p.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function a(b){for(var y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(b,y){return b=wa(b,y),b.index=0,b.sibling=null,b}function i(b,y,p){return b.index=p,e?(p=b.alternate,p!==null?(p=p.index,p<y?(b.flags|=67108866,y):p):(b.flags|=67108866,y)):(b.flags|=1048576,y)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,y,p,x){return y===null||y.tag!==6?(y=Au(p,b.mode,x),y.return=b,y):(y=s(y,p),y.return=b,y)}function o(b,y,p,x){var T=p.type;return T===mi?f(b,y,p.props.children,x,p.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$a&&Es(T)===y.type)?(y=s(y,p.props),_r(y,p),y.return=b,y):(y=Eo(p.type,p.key,p.props,null,b.mode,x),_r(y,p),y.return=b,y)}function u(b,y,p,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==p.containerInfo||y.stateNode.implementation!==p.implementation?(y=Du(p,b.mode,x),y.return=b,y):(y=s(y,p.children||[]),y.return=b,y)}function f(b,y,p,x,T){return y===null||y.tag!==7?(y=Rs(p,b.mode,x,T),y.return=b,y):(y=s(y,p),y.return=b,y)}function h(b,y,p){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Au(""+y,b.mode,p),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gl:return p=Eo(y.type,y.key,y.props,null,b.mode,p),_r(p,y),p.return=b,p;case Er:return y=Du(y,b.mode,p),y.return=b,y;case $a:return y=Es(y),h(b,y,p)}if(Tr(y)||vr(y))return y=Rs(y,b.mode,p,null),y.return=b,y;if(typeof y.then=="function")return h(b,Wl(y),p);if(y.$$typeof===pa)return h(b,Pl(b,y),p);Fl(b,y)}return null}function m(b,y,p,x){var T=y!==null?y.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return T!==null?null:l(b,y,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Gl:return p.key===T?o(b,y,p,x):null;case Er:return p.key===T?u(b,y,p,x):null;case $a:return p=Es(p),m(b,y,p,x)}if(Tr(p)||vr(p))return T!==null?null:f(b,y,p,x,null);if(typeof p.then=="function")return m(b,y,Wl(p),x);if(p.$$typeof===pa)return m(b,y,Pl(b,p),x);Fl(b,p)}return null}function g(b,y,p,x,T){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return b=b.get(p)||null,l(y,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gl:return b=b.get(x.key===null?p:x.key)||null,o(y,b,x,T);case Er:return b=b.get(x.key===null?p:x.key)||null,u(y,b,x,T);case $a:return x=Es(x),g(b,y,p,x,T)}if(Tr(x)||vr(x))return b=b.get(p)||null,f(y,b,x,T,null);if(typeof x.then=="function")return g(b,y,p,Wl(x),T);if(x.$$typeof===pa)return g(b,y,p,Pl(y,x),T);Fl(y,x)}return null}function S(b,y,p,x){for(var T=null,N=null,j=y,R=y=0,k=null;j!==null&&R<p.length;R++){j.index>R?(k=j,j=null):k=j.sibling;var L=m(b,j,p[R],x);if(L===null){j===null&&(j=k);break}e&&j&&L.alternate===null&&t(b,j),y=i(L,y,R),N===null?T=L:N.sibling=L,N=L,j=k}if(R===p.length)return n(b,j),ye&&ya(b,R),T;if(j===null){for(;R<p.length;R++)j=h(b,p[R],x),j!==null&&(y=i(j,y,R),N===null?T=j:N.sibling=j,N=j);return ye&&ya(b,R),T}for(j=a(j);R<p.length;R++)k=g(j,b,R,p[R],x),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?R:k.key),y=i(k,y,R),N===null?T=k:N.sibling=k,N=k);return e&&j.forEach(function(X){return t(b,X)}),ye&&ya(b,R),T}function E(b,y,p,x){if(p==null)throw Error($(151));for(var T=null,N=null,j=y,R=y=0,k=null,L=p.next();j!==null&&!L.done;R++,L=p.next()){j.index>R?(k=j,j=null):k=j.sibling;var X=m(b,j,L.value,x);if(X===null){j===null&&(j=k);break}e&&j&&X.alternate===null&&t(b,j),y=i(X,y,R),N===null?T=X:N.sibling=X,N=X,j=k}if(L.done)return n(b,j),ye&&ya(b,R),T;if(j===null){for(;!L.done;R++,L=p.next())L=h(b,L.value,x),L!==null&&(y=i(L,y,R),N===null?T=L:N.sibling=L,N=L);return ye&&ya(b,R),T}for(j=a(j);!L.done;R++,L=p.next())L=g(j,b,R,L.value,x),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?R:L.key),y=i(L,y,R),N===null?T=L:N.sibling=L,N=L);return e&&j.forEach(function(F){return t(b,F)}),ye&&ya(b,R),T}function O(b,y,p,x){if(typeof p=="object"&&p!==null&&p.type===mi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Gl:e:{for(var T=p.key;y!==null;){if(y.key===T){if(T=p.type,T===mi){if(y.tag===7){n(b,y.sibling),x=s(y,p.props.children),x.return=b,b=x;break e}}else if(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$a&&Es(T)===y.type){n(b,y.sibling),x=s(y,p.props),_r(x,p),x.return=b,b=x;break e}n(b,y);break}else t(b,y);y=y.sibling}p.type===mi?(x=Rs(p.props.children,b.mode,x,p.key),x.return=b,b=x):(x=Eo(p.type,p.key,p.props,null,b.mode,x),_r(x,p),x.return=b,b=x)}return r(b);case Er:e:{for(T=p.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===p.containerInfo&&y.stateNode.implementation===p.implementation){n(b,y.sibling),x=s(y,p.children||[]),x.return=b,b=x;break e}else{n(b,y);break}else t(b,y);y=y.sibling}x=Du(p,b.mode,x),x.return=b,b=x}return r(b);case $a:return p=Es(p),O(b,y,p,x)}if(Tr(p))return S(b,y,p,x);if(vr(p)){if(T=vr(p),typeof T!="function")throw Error($(150));return p=T.call(p),E(b,y,p,x)}if(typeof p.then=="function")return O(b,y,Wl(p),x);if(p.$$typeof===pa)return O(b,y,Pl(b,p),x);Fl(b,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,y!==null&&y.tag===6?(n(b,y.sibling),x=s(y,p),x.return=b,b=x):(n(b,y),x=Au(p,b.mode,x),x.return=b,b=x),r(b)):n(b,y)}return function(b,y,p,x){try{al=0;var T=O(b,y,p,x);return Di=null,T}catch(j){if(j===Fi||j===kc)throw j;var N=ln(29,j,null,b.mode);return N.lanes=x,N.return=b,N}finally{}}}var Bs=qv(!0),Yv=qv(!1),Ba=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ee&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Io(e),Mv(e,null,n),t}return Mc(e,a,t,n),Io(e)}function zr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,rv(e,n)}}function Ru(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var $d=!1;function $r(){if($d){var e=Ai;if(e!==null)throw e}}function Br(e,t,n,a){$d=!1;var s=e.updateQueue;Ba=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?i=u:r.next=u,r=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;r=0,f=u=o=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(me&m)===m:(a&m)===m){m!==0&&m===Bi&&($d=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var S=e,E=l;m=t;var O=n;switch(E.tag){case 1:if(S=E.payload,typeof S=="function"){h=S.call(O,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,m=typeof S=="function"?S.call(O,h,m):S,m==null)break e;h=Ie({},h,m);break e;case 2:Ba=!0}}m=l.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,o=h):f=f.next=g,r|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),cs|=r,e.lanes=r,e.memoizedState=h}}function Vv(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Iv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Vv(n[e],t)}var Li=sa(null),Qo=sa(0);function Jm(e,t){e=Na,Be(Qo,e),Be(Li,t),Na=e|t.baseLanes}function Bd(){Be(Qo,Na),Be(Li,Li.current)}function sh(){Na=Qo.current,St(Li),St(Qo)}var yn=sa(null),Cn=null;function Ya(e){var t=e.alternate;Be(tt,tt.current&1),Be(yn,e),Cn===null&&(t===null||Li.current!==null||t.memoizedState!==null)&&(Cn=e)}function Ld(e){Be(tt,tt.current),Be(yn,e),Cn===null&&(Cn=e)}function Gv(e){e.tag===22?(Be(tt,tt.current),Be(yn,e),Cn===null&&(Cn=e)):Va()}function Va(){Be(tt,tt.current),Be(yn,yn.current)}function rn(e){St(yn),Cn===e&&(Cn=null),St(tt)}var tt=sa(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sf(n)||rf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=0,se=null,De=null,rt=null,Zo=!1,Ci=!1,Ls=!1,Po=0,sl=0,Ri=null,rx=0;function Pe(){throw Error($(321))}function ih(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function rh(e,t,n,a,s,i){return Ta=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?Sp:vh,Ls=!1,i=n(a,s),Ls=!1,Ci&&(i=Xv(t,n,a,s)),Kv(e),i}function Kv(e){W.H=il;var t=De!==null&&De.next!==null;if(Ta=0,rt=De=se=null,Zo=!1,sl=0,Ri=null,t)throw Error($(300));e===null||ct||(e=e.dependencies,e!==null&&Ko(e)&&(ct=!0))}function Xv(e,t,n,a){se=e;var s=0;do{if(Ci&&(Ri=null),sl=0,Ci=!1,25<=s)throw Error($(301));if(s+=1,rt=De=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}W.H=xp,i=t(n,a)}while(Ci);return i}function lx(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Tl(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(se.flags|=1024),t}function lh(){var e=Po!==0;return Po=0,e}function oh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ch(e){if(Zo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zo=!1}Ta=0,rt=De=se=null,Ci=!1,sl=Po=0,Ri=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?se.memoizedState=rt=e:rt=rt.next=e,rt}function nt(){if(De===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=rt===null?se.memoizedState:rt.next;if(t!==null)rt=t,De=e;else{if(e===null)throw se.alternate===null?Error($(467)):Error($(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},rt===null?se.memoizedState=rt=e:rt=rt.next=e}return rt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(e){var t=sl;return sl+=1,Ri===null&&(Ri=[]),e=Hv(Ri,e,t),t=se,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?Sp:vh),e}function zc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tl(e);if(e.$$typeof===pa)return Nt(e)}throw Error($(438,String(e)))}function uh(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Uc(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Kw;return t.index++,n}function ja(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=nt();return dh(t,De,e)}function dh(e,t,n){var a=e.queue;if(a===null)throw Error($(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,o=null,u=t,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(me&h)===h:(Ta&h)===h){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(f=!0);else if((Ta&m)===m){u=u.next,m===Bi&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,r=i):o=o.next=h,se.lanes|=m,cs|=m;h=u.action,Ls&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,r=i):o=o.next=m,se.lanes|=h,cs|=h;u=u.next}while(u!==null&&u!==t);if(o===null?r=i:o.next=l,!gn(i,e.memoizedState)&&(ct=!0,f&&(n=Ai,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=o,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Mu(e){var t=nt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);gn(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Qv(e,t,n){var a=se,s=nt(),i=ye;if(i){if(n===void 0)throw Error($(407));n=n()}else n=t();var r=!gn((De||s).memoizedState,n);if(r&&(s.memoizedState=n,ct=!0),s=s.queue,fh(Pv.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,Hi(9,{destroy:void 0},Zv.bind(null,a,s,n,t),null),ke===null)throw Error($(349));i||Ta&127||Jv(a,t,n)}return n}function Jv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=Uc(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zv(e,t,n,a){t.value=n,t.getSnapshot=a,Wv(t)&&Fv(e)}function Pv(e,t,n){return n(function(){Wv(t)&&Fv(e)})}function Wv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Fv(e){var t=Is(e,2);t!==null&&Zt(t,e,2)}function Hd(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),Ls){Ka(!0);try{n()}finally{Ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function ep(e,t,n,a){return e.baseState=n,dh(e,De,typeof a=="function"?a:ja)}function ox(e,t,n,a,s){if(Bc(e))throw Error($(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};W.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,tp(t,i)):(i.next=n.next,t.pending=n.next=i)}}function tp(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=W.T,r={};W.T=r;try{var l=n(s,a),o=W.S;o!==null&&o(r,l),Zm(e,t,l)}catch(u){qd(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),W.T=i}}else try{i=n(s,a),Zm(e,t,i)}catch(u){qd(e,t,u)}}function Zm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Pm(e,t,a)},function(a){return qd(e,t,a)}):Pm(e,t,n)}function Pm(e,t,n){t.status="fulfilled",t.value=n,np(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,tp(e,n)))}function qd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,np(t),t=t.next;while(t!==a)}e.action=null}function np(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ap(e,t){return t}function Wm(e,t){if(ye){var n=ke.formState;if(n!==null){e:{var a=se;if(ye){if(Ye){t:{for(var s=Ye,i=Dn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Rn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ye=Rn(s.nextSibling),a=s.data==="F!";break e}}ls(a)}a=!1}a&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:t},n.queue=a,n=bp.bind(null,se,a),a.dispatch=n,a=Hd(!1),i=yh.bind(null,se,!1,a.queue),a=Ut(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=ox.bind(null,se,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Fm(e){var t=nt();return sp(t,De,e)}function sp(e,t,n){if(t=dh(e,t,ap)[0],e=jo(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Tl(t)}catch(r){throw r===Fi?kc:r}else a=t;t=nt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Hi(9,{destroy:void 0},cx.bind(null,s,n),null)),[a,i,e]}function cx(e,t){e.action=t}function eg(e){var t=nt(),n=De;if(n!==null)return sp(t,n,e);nt(),t=t.memoizedState,n=nt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Hi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=se.updateQueue,t===null&&(t=Uc(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ip(){return nt().memoizedState}function Oo(e,t,n,a){var s=Ut();se.flags|=e,s.memoizedState=Hi(1|t,{destroy:void 0},n,a===void 0?null:a)}function $c(e,t,n,a){var s=nt();a=a===void 0?null:a;var i=s.memoizedState.inst;De!==null&&a!==null&&ih(a,De.memoizedState.deps)?s.memoizedState=Hi(t,i,n,a):(se.flags|=e,s.memoizedState=Hi(1|t,i,n,a))}function tg(e,t){Oo(8390656,8,e,t)}function fh(e,t){$c(2048,8,e,t)}function ux(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Uc(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function rp(e){var t=nt().memoizedState;return ux({ref:t,nextImpl:e}),function(){if(Ee&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function lp(e,t){return $c(4,2,e,t)}function op(e,t){return $c(4,4,e,t)}function cp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,n){n=n!=null?n.concat([e]):null,$c(4,4,cp.bind(null,t,e),n)}function hh(){}function dp(e,t){var n=nt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ih(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function fp(e,t){var n=nt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ih(t,a[1]))return a[0];if(a=e(),Ls){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[a,t],a}function mh(e,t,n){return n===void 0||Ta&1073741824&&!(me&261930)?e.memoizedState=t:(e.memoizedState=n,e=e0(),se.lanes|=e,cs|=e,n)}function hp(e,t,n,a){return gn(n,t)?n:Li.current!==null?(e=mh(e,n,a),gn(e,t)||(ct=!0),e):!(Ta&42)||Ta&1073741824&&!(me&261930)?(ct=!0,e.memoizedState=n):(e=e0(),se.lanes|=e,cs|=e,t)}function mp(e,t,n,a,s){var i=Te.p;Te.p=i!==0&&8>i?i:8;var r=W.T,l={};W.T=l,yh(e,!1,t,n);try{var o=s(),u=W.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=ix(o,a);Lr(e,t,f,mn(e))}else Lr(e,t,a,mn(e))}catch(h){Lr(e,t,{then:function(){},status:"rejected",reason:h},mn())}finally{Te.p=i,r!==null&&l.types!==null&&(r.types=l.types),W.T=r}}function dx(){}function Yd(e,t,n,a){if(e.tag!==5)throw Error($(476));var s=gp(e).queue;mp(e,s,t,Cs,n===null?dx:function(){return yp(e),n(a)})}function gp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Cs,baseState:Cs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:Cs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function yp(e){var t=gp(e);t.next===null&&(t=e.alternate.memoizedState),Lr(e,t.next.queue,{},mn())}function gh(){return Nt(ol)}function vp(){return nt().memoizedState}function pp(){return nt().memoizedState}function fx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Fa(n);var a=es(t,e,n);a!==null&&(Zt(a,t,n),zr(a,t,n)),t={cache:eh()},e.payload=t;return}t=t.return}}function hx(e,t,n){var a=mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Bc(e)?_p(t,n):(n=Zf(e,t,n,a),n!==null&&(Zt(n,e,a),wp(n,t,a)))}function bp(e,t,n){var a=mn();Lr(e,t,n,a)}function Lr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))_p(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,r))return Mc(e,t,s,0),ke===null&&Rc(),!1}catch{}finally{}if(n=Zf(e,t,s,a),n!==null)return Zt(n,e,a),wp(n,t,a),!0}return!1}function yh(e,t,n,a){if(a={lane:2,revertLane:Th(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bc(e)){if(t)throw Error($(479))}else t=Zf(e,n,a,2),t!==null&&Zt(t,e,2)}function Bc(e){var t=e.alternate;return e===se||t!==null&&t===se}function _p(e,t){Ci=Zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,rv(e,n)}}var il={readContext:Nt,use:zc,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};il.useEffectEvent=Pe;var Sp={readContext:Nt,use:zc,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:tg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Oo(4194308,4,cp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){Oo(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var a=e();if(Ls){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ut();if(n!==void 0){var s=n(t);if(Ls){Ka(!0);try{n(t)}finally{Ka(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=hx.bind(null,se,e),[a.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Hd(e);var t=e.queue,n=bp.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hh,useDeferredValue:function(e,t){var n=Ut();return mh(n,e,t)},useTransition:function(){var e=Hd(!1);return e=mp.bind(null,se,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=se,s=Ut();if(ye){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ke===null)throw Error($(349));me&127||Jv(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,tg(Pv.bind(null,a,i,e),[e]),a.flags|=2048,Hi(9,{destroy:void 0},Zv.bind(null,a,i,n,t),null),n},useId:function(){var e=Ut(),t=ke.identifierPrefix;if(ye){var n=ta,a=ea;n=(a&~(1<<32-hn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=rx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gh,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=yh.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:uh,useCacheRefresh:function(){return Ut().memoizedState=fx.bind(null,se)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if(Ee&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},vh={readContext:Nt,use:zc,useCallback:dp,useContext:Nt,useEffect:fh,useImperativeHandle:up,useInsertionEffect:lp,useLayoutEffect:op,useMemo:fp,useReducer:jo,useRef:ip,useState:function(){return jo(ja)},useDebugValue:hh,useDeferredValue:function(e,t){var n=nt();return hp(n,De.memoizedState,e,t)},useTransition:function(){var e=jo(ja)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Tl(e),t]},useSyncExternalStore:Qv,useId:vp,useHostTransitionStatus:gh,useFormState:Fm,useActionState:Fm,useOptimistic:function(e,t){var n=nt();return ep(n,De,e,t)},useMemoCache:uh,useCacheRefresh:pp};vh.useEffectEvent=rp;var xp={readContext:Nt,use:zc,useCallback:dp,useContext:Nt,useEffect:fh,useImperativeHandle:up,useInsertionEffect:lp,useLayoutEffect:op,useMemo:fp,useReducer:Mu,useRef:ip,useState:function(){return Mu(ja)},useDebugValue:hh,useDeferredValue:function(e,t){var n=nt();return De===null?mh(n,e,t):hp(n,De.memoizedState,e,t)},useTransition:function(){var e=Mu(ja)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Tl(e),t]},useSyncExternalStore:Qv,useId:vp,useHostTransitionStatus:gh,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var n=nt();return De!==null?ep(n,De,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uh,useCacheRefresh:pp};xp.useEffectEvent=rp;function ku(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Fa(a);s.payload=t,n!=null&&(s.callback=n),t=es(e,s,a),t!==null&&(Zt(t,e,a),zr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Fa(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=es(e,s,a),t!==null&&(Zt(t,e,a),zr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),a=Fa(n);a.tag=2,t!=null&&(a.callback=t),t=es(e,a,n),t!==null&&(Zt(t,e,n),zr(t,e,n))}};function ng(e,t,n,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!el(n,a)||!el(s,i):!0}function ag(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Vd.enqueueReplaceState(t,t.state,null)}function Hs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ie({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Ep(e){Vo(e)}function Tp(e){console.error(e)}function jp(e){Vo(e)}function Wo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function sg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Id(e,t,n){return n=Fa(n),n.tag=3,n.payload={element:null},n.callback=function(){Wo(e,t)},n}function Op(e){return e=Fa(e),e.tag=3,e}function Np(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){sg(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){sg(t,n,a),typeof s!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function mx(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Wi(t,n,s,!0),n=yn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?ac():n.alternate===null&&We===0&&(We=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Xo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Gu(e,a,s)),!1;case 22:return n.flags|=65536,a===Xo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Gu(e,a,s)),!1}throw Error($(435,n.tag))}return Gu(e,a,s),ac(),!1}if(ye)return t=yn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Cd&&(e=Error($(422),{cause:a}),nl(An(e,n)))):(a!==Cd&&(t=Error($(423),{cause:a}),nl(An(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=An(a,n),s=Id(e.stateNode,a,s),Ru(e,s),We!==4&&(We=2)),!1;var i=Error($(520),{cause:a});if(i=An(i,n),Yr===null?Yr=[i]:Yr.push(i),We!==4&&(We=2),t===null)return!0;a=An(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Id(n.stateNode,a,e),Ru(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ts===null||!ts.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Op(s),Np(s,e,n,a),Ru(n,s),!1}n=n.return}while(n!==null);return!1}var ph=Error($(461)),ct=!1;function Tt(e,t,n,a){t.child=e===null?Yv(t,null,n,a):Bs(t,e.child,n,a)}function ig(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return $s(t),a=rh(e,t,n,r,i,s),l=lh(),e!==null&&!ct?(oh(e,t,s),Oa(e,t,s)):(ye&&l&&Wf(t),t.flags|=1,Tt(e,t,a,s),t.child)}function rg(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Pf(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,Ap(e,t,i,a,s)):(e=Eo(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!bh(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(r,a)&&e.ref===t.ref)return Oa(e,t,s)}return t.flags|=1,e=wa(i,a),e.ref=t.ref,e.return=t,t.child=e}function Ap(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(el(i,a)&&e.ref===t.ref)if(ct=!1,t.pendingProps=a=i,bh(e,s))e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Oa(e,t,s)}return Gd(e,t,n,a,s)}function Dp(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return lg(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(t,i!==null?i.cachePool:null),i!==null?Jm(t,i):Bd(),Gv(t);else return a=t.lanes=536870912,lg(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(To(t,i.cachePool),Jm(t,i),Va(),t.memoizedState=null):(e!==null&&To(t,null),Bd(),Va());return Tt(e,t,s,n),t.child}function Or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lg(e,t,n,a,s){var i=th();return i=i===null?null:{parent:ot._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&To(t,null),Bd(),Gv(t),e!==null&&Wi(e,t,a,!0),t.childLanes=s,null}function No(e,t){return t=Fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function og(e,t,n){return Bs(t,e.child,null,n),e=No(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function gx(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=No(t,a),t.lanes=536870912,Or(null,e);if(Ld(t),(e=Ye)?(e=S0(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Uv(e),n.return=t,t.child=n,Ot=t,Ye=null)):e=null,e===null)throw ls(t);return t.lanes=536870912,null}return No(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Ld(t),s)if(t.flags&256)t.flags&=-257,t=og(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(ct||Wi(e,t,n,!1),s=(n&e.childLanes)!==0,ct||s){if(a=ke,a!==null&&(r=lv(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,Is(e,r),Zt(a,e,r),ph;ac(),t=og(e,t,n)}else e=i.treeContext,Ye=Rn(r.nextSibling),Ot=t,ye=!0,Wa=null,Dn=!1,e!==null&&$v(t,e),t=No(t,a),t.flags|=4096;return t}return e=wa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ao(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Gd(e,t,n,a,s){return $s(t),n=rh(e,t,n,a,void 0,s),a=lh(),e!==null&&!ct?(oh(e,t,s),Oa(e,t,s)):(ye&&a&&Wf(t),t.flags|=1,Tt(e,t,n,s),t.child)}function cg(e,t,n,a,s,i){return $s(t),t.updateQueue=null,n=Xv(t,a,n,s),Kv(e),a=lh(),e!==null&&!ct?(oh(e,t,i),Oa(e,t,i)):(ye&&a&&Wf(t),t.flags|=1,Tt(e,t,n,i),t.child)}function ug(e,t,n,a,s){if($s(t),t.stateNode===null){var i=Si,r=n.contextType;typeof r=="object"&&r!==null&&(i=Nt(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},ah(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?Nt(r):Si,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ku(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Vd.enqueueReplaceState(i,i.state,null),Br(t,a,i,s),$r(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,o=Hs(n,l);i.props=o;var u=i.context,f=n.contextType;r=Si,typeof f=="object"&&f!==null&&(r=Nt(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==r)&&ag(t,i,a,r),Ba=!1;var m=t.memoizedState;i.state=m,Br(t,a,i,s),$r(),u=t.memoizedState,l||m!==u||Ba?(typeof h=="function"&&(ku(t,n,h,a),u=t.memoizedState),(o=Ba||ng(t,n,o,a,m,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,zd(e,t),r=t.memoizedProps,f=Hs(n,r),i.props=f,h=t.pendingProps,m=i.context,u=n.contextType,o=Si,typeof u=="object"&&u!==null&&(o=Nt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==h||m!==o)&&ag(t,i,a,o),Ba=!1,m=t.memoizedState,i.state=m,Br(t,a,i,s),$r();var g=t.memoizedState;r!==h||m!==g||Ba||e!==null&&e.dependencies!==null&&Ko(e.dependencies)?(typeof l=="function"&&(ku(t,n,l,a),g=t.memoizedState),(f=Ba||ng(t,n,f,a,m,g,o)||e!==null&&e.dependencies!==null&&Ko(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=o,a=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ao(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Bs(t,e.child,null,s),t.child=Bs(t,null,n,s)):Tt(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Oa(e,t,s),e}function dg(e,t,n,a){return zs(),t.flags|=256,Tt(e,t,n,a),t.child}var Uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zu(e){return{baseLanes:e,cachePool:Lv()}}function $u(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function Cp(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?Ya(t):Va(),(e=Ye)?(e=S0(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=Uv(e),n.return=t,t.child=n,Ot=t,Ye=null)):e=null,e===null)throw ls(t);return rf(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Va(),s=t.mode,l=Fo({mode:"hidden",children:l},s),a=Rs(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=zu(n),a.childLanes=$u(e,r,n),t.memoizedState=Uu,Or(null,a)):(Ya(t),Kd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(i)t.flags&256?(Ya(t),t.flags&=-257,t=Bu(e,t,n)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),l=a.fallback,s=t.mode,a=Fo({mode:"visible",children:a.children},s),l=Rs(l,s,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Bs(t,e.child,null,n),a=t.child,a.memoizedState=zu(n),a.childLanes=$u(e,r,n),t.memoizedState=Uu,t=Or(null,a));else if(Ya(t),rf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error($(419)),a.stack="",a.digest=r,nl({value:a,source:null,stack:null}),t=Bu(e,t,n)}else if(ct||Wi(e,t,n,!1),r=(n&e.childLanes)!==0,ct||r){if(r=ke,r!==null&&(a=lv(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Is(e,a),Zt(r,e,a),ph;sf(l)||ac(),t=Bu(e,t,n)}else sf(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ye=Rn(l.nextSibling),Ot=t,ye=!0,Wa=null,Dn=!1,e!==null&&$v(t,e),t=Kd(t,a.children),t.flags|=4096);return t}return s?(Va(),l=a.fallback,s=t.mode,o=e.child,u=o.sibling,a=wa(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=wa(u,l):(l=Rs(l,s,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Or(null,a),a=t.child,l=e.child.memoizedState,l===null?l=zu(n):(s=l.cachePool,s!==null?(o=ot._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=Lv(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=$u(e,r,n),t.memoizedState=Uu,Or(e.child,a)):(Ya(t),n=e.child,e=n.sibling,n=wa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Kd(e,t){return t=Fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fo(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function Bu(e,t,n){return Bs(t,e.child,null,n),e=Kd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Md(e.return,t,n)}function Lu(e,t,n,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function Rp(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=tt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Be(tt,r),Tt(e,t,a,n),a=ye?tl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fg(e,n,t);else if(e.tag===19)fg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Lu(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Lu(t,!0,n,null,i,a);break;case"together":Lu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Oa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Wi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=wa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ko(e)))}function yx(e,t,n){switch(t.tag){case 3:Lo(t,t.stateNode.containerInfo),qa(t,ot,e.memoizedState.cache),zs();break;case 27:case 5:_d(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ld(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ya(t),t.flags|=128,null):n&t.child.childLanes?Cp(e,t,n):(Ya(t),e=Oa(e,t,n),e!==null?e.sibling:null);Ya(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Wi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Rp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(tt,tt.current),a)break;return null;case 22:return t.lanes=0,Dp(e,t,n,t.pendingProps);case 24:qa(t,ot,e.memoizedState.cache)}return Oa(e,t,n)}function Mp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!bh(e,n)&&!(t.flags&128))return ct=!1,yx(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ye&&t.flags&1048576&&zv(t,tl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Es(t.elementType),t.type=e,typeof e=="function")Pf(e)?(a=Hs(e,a),t.tag=1,t=ug(null,t,e,a,n)):(t.tag=0,t=Gd(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===$f){t.tag=11,t=ig(null,t,e,a,n);break e}else if(s===Bf){t.tag=14,t=rg(null,t,e,a,n);break e}}throw t=pd(e)||e,Error($(306,t,""))}}return t;case 0:return Gd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Hs(a,t.pendingProps),ug(e,t,a,s,n);case 3:e:{if(Lo(t,t.stateNode.containerInfo),e===null)throw Error($(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,zd(e,t),Br(t,a,null,n);var r=t.memoizedState;if(a=r.cache,qa(t,ot,a),a!==i.cache&&kd(t,[ot],n,!0),$r(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=dg(e,t,a,n);break e}else if(a!==s){s=An(Error($(424)),t),nl(s),t=dg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=Rn(e.firstChild),Ot=t,ye=!0,Wa=null,Dn=!0,n=Yv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zs(),a===s){t=Oa(e,t,n);break e}Tt(e,t,a,n)}t=t.child}return t;case 26:return Ao(e,t),e===null?(n=Rg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,a=lc(Pa.current).createElement(n),a[jt]=t,a[Pt]=e,At(a,n,e),wt(a),t.stateNode=a):t.memoizedState=Rg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _d(t),e===null&&ye&&(a=t.stateNode=x0(t.type,t.pendingProps,Pa.current),Ot=t,Dn=!0,s=Ye,fs(t.type)?(lf=s,Ye=Rn(a.firstChild)):Ye=s),Tt(e,t,t.pendingProps.children,n),Ao(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=a=Ye)&&(a=Kx(a,t.type,t.pendingProps,Dn),a!==null?(t.stateNode=a,Ot=t,Ye=Rn(a.firstChild),Dn=!1,s=!0):s=!1),s||ls(t)),_d(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,nf(s,i)?a=null:r!==null&&nf(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=rh(e,t,lx,null,null,n),ol._currentValue=s),Ao(e,t),Tt(e,t,a,n),t.child;case 6:return e===null&&ye&&((e=n=Ye)&&(n=Xx(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Ot=t,Ye=null,e=!0):e=!1),e||ls(t)),null;case 13:return Cp(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Bs(t,null,a,n):Tt(e,t,a,n),t.child;case 11:return ig(e,t,t.type,t.pendingProps,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,qa(t,t.type,a.value),Tt(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,$s(t),s=Nt(s),a=a(s),t.flags|=1,Tt(e,t,a,n),t.child;case 14:return rg(e,t,t.type,t.pendingProps,n);case 15:return Ap(e,t,t.type,t.pendingProps,n);case 19:return Rp(e,t,n);case 31:return gx(e,t,n);case 22:return Dp(e,t,n,t.pendingProps);case 24:return $s(t),a=Nt(ot),e===null?(s=th(),s===null&&(s=ke,i=eh(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},ah(t),qa(t,ot,s)):(e.lanes&n&&(zd(e,t),Br(t,null,null,n),$r()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),qa(t,ot,a)):(a=i.cache,qa(t,ot,a),a!==s.cache&&kd(t,[ot],n,!0))),Tt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function da(e){e.flags|=4}function Hu(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(a0())e.flags|=8192;else throw ks=Xo,nh}else e.flags&=-16777217}function hg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!j0(t))if(a0())e.flags|=8192;else throw ks=Xo,nh}function eo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sv():536870912,e.lanes|=t,qi|=t)}function wr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function vx(e,t,n){var a=t.pendingProps;switch(Ff(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(ot),Ui(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ti(t)?da(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cu())),qe(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(da(t),i!==null?(qe(t),hg(t,i)):(qe(t),Hu(t,s,null,a,n))):i?i!==e.memoizedState?(da(t),qe(t),hg(t,i)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&da(t),qe(t),Hu(t,s,e,a,n)),null;case 27:if(Ho(t),n=Pa.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&da(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return qe(t),null}e=aa.current,ti(t)?Ym(t):(e=x0(s,a,n),t.stateNode=e,da(t))}return qe(t),null;case 5:if(Ho(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&da(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return qe(t),null}if(i=aa.current,ti(t))Ym(t);else{var r=lc(Pa.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[jt]=t,i[Pt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(At(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&da(t)}}return qe(t),Hu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&da(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(e=Pa.current,ti(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Ot,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[jt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||b0(e.nodeValue,n)),e||ls(t,!0)}else e=lc(e).createTextNode(a),e[jt]=t,t.stateNode=e}return qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ti(t),n!==null){if(e===null){if(!a)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[jt]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else n=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if(t.flags&128)throw Error($(558))}return qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ti(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[jt]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),s=!1}else s=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),eo(t,t.updateQueue),qe(t),null);case 4:return Ui(),e===null&&jh(t.stateNode.containerInfo),qe(t),null;case 10:return Sa(t.type),qe(t),null;case 19:if(St(tt),a=t.memoizedState,a===null)return qe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)wr(a,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Jo(e),i!==null){for(t.flags|=128,wr(a,!1),e=i.updateQueue,t.updateQueue=e,eo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)kv(n,e),n=n.sibling;return Be(tt,tt.current&1|2),ye&&ya(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&dn()>tc&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Jo(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,eo(t,e),wr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return qe(t),null}else 2*dn()-a.renderingStartTime>tc&&n!==536870912&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,n=tt.current,Be(tt,s?n&1|2:n&1),ye&&ya(t,a.treeForkCount),e):(qe(t),null);case 22:case 23:return rn(t),sh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&eo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&St(Ms),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(ot),qe(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function px(e,t){switch(Ff(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(ot),Ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ho(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error($(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(tt),null;case 4:return Ui(),null;case 10:return Sa(t.type),null;case 22:case 23:return rn(t),sh(),e!==null&&St(Ms),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(ot),null;case 25:return null;default:return null}}function kp(e,t){switch(Ff(t),t.tag){case 3:Sa(ot),Ui();break;case 26:case 27:case 5:Ho(t);break;case 4:Ui();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:St(tt);break;case 10:Sa(t.type);break;case 22:case 23:rn(t),sh(),e!==null&&St(Ms);break;case 24:Sa(ot)}}function jl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==s)}}catch(l){Ne(t,t.return,l)}}function os(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var o=n,u=l;try{u()}catch(f){Ne(s,o,f)}}}a=a.next}while(a!==i)}}catch(f){Ne(t,t.return,f)}}function Up(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Iv(t,n)}catch(a){Ne(e,e.return,a)}}}function zp(e,t,n){n.props=Hs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ne(e,t,a)}}function Hr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Ne(e,t,s)}}function na(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Ne(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ne(e,t,s)}else n.current=null}function $p(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Ne(e,e.return,s)}}function qu(e,t,n){try{var a=e.stateNode;Hx(a,e.type,n,t),a[Pt]=t}catch(s){Ne(e,e.return,s)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ba));else if(a!==4&&(a===27&&fs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xd(e,t,n),e=e.sibling;e!==null;)Xd(e,t,n),e=e.sibling}function ec(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&fs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function Lp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);At(t,a,n),t[jt]=e,t[Pt]=n}catch(i){Ne(e,e.return,i)}}var va=!1,lt=!1,Vu=!1,mg=typeof WeakSet=="function"?WeakSet:Set,bt=null;function bx(e,t){if(e=e.containerInfo,ef=dc,e=jv(e),Qf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=r+s),h!==i||a!==0&&h.nodeType!==3||(o=r+a),h.nodeType===3&&(r+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=r),m===i&&++f===a&&(o=r),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:e,selectionRange:n},dc=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var S=Hs(n.type,s);e=a.getSnapshotBeforeUpdate(S,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(E){Ne(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)af(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function Hp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ha(e,n),a&4&&jl(5,n);break;case 1:if(ha(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Ne(n,n.return,r)}else{var s=Hs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ne(n,n.return,r)}}a&64&&Up(n),a&512&&Hr(n,n.return);break;case 3:if(ha(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Iv(e,t)}catch(r){Ne(n,n.return,r)}}break;case 27:t===null&&a&4&&Lp(n);case 26:case 5:ha(e,n),t===null&&a&4&&$p(n),a&512&&Hr(n,n.return);break;case 12:ha(e,n);break;case 31:ha(e,n),a&4&&Vp(e,n);break;case 13:ha(e,n),a&4&&Ip(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Nx.bind(null,n),Qx(e,n))));break;case 22:if(a=n.memoizedState!==null||va,!a){t=t!==null&&t.memoizedState!==null||lt,s=va;var i=lt;va=a,(lt=t)&&!i?ma(e,n,(n.subtreeFlags&8772)!==0):ha(e,n),va=s,lt=i}break;case 30:break;default:ha(e,n)}}function qp(e){var t=e.alternate;t!==null&&(e.alternate=null,qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Qt=!1;function fa(e,t,n){for(n=n.child;n!==null;)Yp(e,t,n),n=n.sibling}function Yp(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 26:lt||na(n,t),fa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||na(n,t);var a=Ge,s=Qt;fs(n.type)&&(Ge=n.stateNode,Qt=!1),fa(e,t,n),Ir(n.stateNode),Ge=a,Qt=s;break;case 5:lt||na(n,t);case 6:if(a=Ge,s=Qt,Ge=null,fa(e,t,n),Ge=a,Qt=s,Ge!==null)if(Qt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(n.stateNode)}catch(i){Ne(n,t,i)}else try{Ge.removeChild(n.stateNode)}catch(i){Ne(n,t,i)}break;case 18:Ge!==null&&(Qt?(e=Ge,Og(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Gi(e)):Og(Ge,n.stateNode));break;case 4:a=Ge,s=Qt,Ge=n.stateNode.containerInfo,Qt=!0,fa(e,t,n),Ge=a,Qt=s;break;case 0:case 11:case 14:case 15:os(2,n,t),lt||os(4,n,t),fa(e,t,n);break;case 1:lt||(na(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&zp(n,t,a)),fa(e,t,n);break;case 21:fa(e,t,n);break;case 22:lt=(a=lt)||n.memoizedState!==null,fa(e,t,n),lt=a;break;default:fa(e,t,n)}}function Vp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gi(e)}catch(n){Ne(t,t.return,n)}}}function Ip(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gi(e)}catch(n){Ne(t,t.return,n)}}function _x(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mg),t;default:throw Error($(435,e.tag))}}function to(e,t){var n=_x(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Ax.bind(null,e,a);a.then(s,s)}})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(fs(l.type)){Ge=l.stateNode,Qt=!1;break e}break;case 5:Ge=l.stateNode,Qt=!1;break e;case 3:case 4:Ge=l.stateNode.containerInfo,Qt=!0;break e}l=l.return}if(Ge===null)throw Error($(160));Yp(i,r,s),Ge=null,Qt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gp(t,e),t=t.sibling}var Yn=null;function Gp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Xt(e),a&4&&(os(3,e,e.return),jl(3,e),os(5,e,e.return));break;case 1:Kt(t,e),Xt(e),a&512&&(lt||n===null||na(n,n.return)),a&64&&va&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Yn;if(Kt(t,e),Xt(e),a&512&&(lt||n===null||na(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Sl]||i[jt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),At(i,a,n),i[jt]=e,wt(i),a=i;break e;case"link":var r=kg("link","href",s).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(a),At(i,a,n),s.head.appendChild(i);break;case"meta":if(r=kg("meta","content",s).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}i=s.createElement(a),At(i,a,n),s.head.appendChild(i);break;default:throw Error($(468,a))}i[jt]=e,wt(i),a=i}e.stateNode=a}else Ug(s,e.type,e.stateNode);else e.stateNode=Mg(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Ug(s,e.type,e.stateNode):Mg(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Xt(e),a&512&&(lt||n===null||na(n,n.return)),n!==null&&a&4&&qu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Xt(e),a&512&&(lt||n===null||na(n,n.return)),e.flags&32){s=e.stateNode;try{$i(s,"")}catch(S){Ne(e,e.return,S)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,qu(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Vu=!0);break;case 6:if(Kt(t,e),Xt(e),a&4){if(e.stateNode===null)throw Error($(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(S){Ne(e,e.return,S)}}break;case 3:if(Ro=null,s=Yn,Yn=oc(t.containerInfo),Kt(t,e),Yn=s,Xt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(S){Ne(e,e.return,S)}Vu&&(Vu=!1,Kp(e));break;case 4:a=Yn,Yn=oc(e.stateNode.containerInfo),Kt(t,e),Xt(e),Yn=a;break;case 12:Kt(t,e),Xt(e);break;case 31:Kt(t,e),Xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 13:Kt(t,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lc=dn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 22:s=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=va,f=lt;if(va=u||s,lt=f||o,Kt(t,e),lt=f,va=u,Xt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||o||va||lt||Ts(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var h=o.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(S){Ne(o,o.return,S)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(S){Ne(o,o.return,S)}}}else if(t.tag===18){if(n===null){o=t;try{var g=o.stateNode;s?Ng(g,!0):Ng(o.stateNode,!1)}catch(S){Ne(o,o.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,to(e,n))));break;case 19:Kt(t,e),Xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 30:break;case 21:break;default:Kt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Bp(a)){n=a;break}a=a.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var s=n.stateNode,i=Yu(e);ec(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&($i(r,""),n.flags&=-33);var l=Yu(e);ec(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Yu(e);Xd(e,u,o);break;default:throw Error($(161))}}catch(f){Ne(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hp(e,t.alternate,t),t=t.sibling}function Ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:os(4,t,t.return),Ts(t);break;case 1:na(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&zp(t,t.return,n),Ts(t);break;case 27:Ir(t.stateNode);case 26:case 5:na(t,t.return),Ts(t);break;case 22:t.memoizedState===null&&Ts(t);break;case 30:Ts(t);break;default:Ts(t)}e=e.sibling}}function ma(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ma(s,i,n),jl(4,i);break;case 1:if(ma(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){Ne(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)Vv(o[s],l)}catch(u){Ne(a,a.return,u)}}n&&r&64&&Up(i),Hr(i,i.return);break;case 27:Lp(i);case 26:case 5:ma(s,i,n),n&&a===null&&r&4&&$p(i),Hr(i,i.return);break;case 12:ma(s,i,n);break;case 31:ma(s,i,n),n&&r&4&&Vp(s,i);break;case 13:ma(s,i,n),n&&r&4&&Ip(s,i);break;case 22:i.memoizedState===null&&ma(s,i,n),Hr(i,i.return);break;case 30:break;default:ma(s,i,n)}t=t.sibling}}function _h(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&El(n))}function wh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e))}function Bn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(e,t,n,a),t=t.sibling}function Xp(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bn(e,t,n,a),s&2048&&jl(9,t);break;case 1:Bn(e,t,n,a);break;case 3:Bn(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e)));break;case 12:if(s&2048){Bn(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ne(t,t.return,o)}}else Bn(e,t,n,a);break;case 31:Bn(e,t,n,a);break;case 13:Bn(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Bn(e,t,n,a):qr(e,t):i._visibility&2?Bn(e,t,n,a):(i._visibility|=2,ci(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&_h(r,t);break;case 24:Bn(e,t,n,a),s&2048&&wh(t.alternate,t);break;default:Bn(e,t,n,a)}}function ci(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ci(i,r,l,o,s),jl(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?ci(i,r,l,o,s):qr(i,r):(f._visibility|=2,ci(i,r,l,o,s)),s&&u&2048&&_h(r.alternate,r);break;case 24:ci(i,r,l,o,s),s&&u&2048&&wh(r.alternate,r);break;default:ci(i,r,l,o,s)}t=t.sibling}}function qr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:qr(n,a),s&2048&&_h(a.alternate,a);break;case 24:qr(n,a),s&2048&&wh(a.alternate,a);break;default:qr(n,a)}t=t.sibling}}var Nr=8192;function ni(e,t,n){if(e.subtreeFlags&Nr)for(e=e.child;e!==null;)Qp(e,t,n),e=e.sibling}function Qp(e,t,n){switch(e.tag){case 26:ni(e,t,n),e.flags&Nr&&e.memoizedState!==null&&r1(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:ni(e,t,n);break;case 3:case 4:var a=Yn;Yn=oc(e.stateNode.containerInfo),ni(e,t,n),Yn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Nr,Nr=16777216,ni(e,t,n),Nr=a):ni(e,t,n));break;default:ni(e,t,n)}}function Jp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bt=a,Pp(a,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&os(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Do(e)):Sr(e);break;default:Sr(e)}}function Do(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bt=a,Pp(a,e)}Jp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:os(8,t,t.return),Do(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Do(t));break;default:Do(t)}e=e.sibling}}function Pp(e,t){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:os(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:El(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bt=a;else e:for(n=e;bt!==null;){a=bt;var s=a.sibling,i=a.return;if(qp(a),a===n){bt=null;break e}if(s!==null){s.return=i,bt=s;break e}bt=i}}}var wx={getCacheForType:function(e){var t=Nt(ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Nt(ot).controller.signal}},Sx=typeof WeakMap=="function"?WeakMap:Map,Ee=0,ke=null,de=null,me=0,Oe=0,sn=null,Qa=!1,er=!1,Sh=!1,Na=0,We=0,cs=0,Us=0,xh=0,un=0,qi=0,Yr=null,Jt=null,Qd=!1,Lc=0,Wp=0,tc=1/0,nc=null,ts=null,ft=0,ns=null,Yi=null,xa=0,Jd=0,Zd=null,Fp=null,Vr=0,Pd=null;function mn(){return Ee&2&&me!==0?me&-me:W.T!==null?Th():ov()}function e0(){if(un===0)if(!(me&536870912)||ye){var e=Xl;Xl<<=1,!(Xl&3932160)&&(Xl=262144),un=e}else un=536870912;return e=yn.current,e!==null&&(e.flags|=32),un}function Zt(e,t,n){(e===ke&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Vi(e,0),Ja(e,me,un,!1)),wl(e,n),(!(Ee&2)||e!==ke)&&(e===ke&&(!(Ee&2)&&(Us|=n),We===4&&Ja(e,me,un,!1)),ia(e))}function t0(e,t,n){if(Ee&6)throw Error($(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||_l(e,t),s=a?Tx(e,t):Iu(e,t,!0),i=a;do{if(s===0){er&&!a&&Ja(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!xx(n)){s=Iu(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=Yr;var o=l.current.memoizedState.isDehydrated;if(o&&(Vi(l,r).flags|=256),r=Iu(l,r,!1),r!==2){if(Sh&&!o){l.errorRecoveryDisabledLanes|=i,Us|=i,s=4;break e}i=Jt,Jt=s,i!==null&&(Jt===null?Jt=i:Jt.push.apply(Jt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){Vi(e,0),Ja(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Ja(a,t,un,!Qa);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(s=Lc+300-dn(),10<s)){if(Ja(a,t,un,!Qa),Nc(a,0,!0)!==0)break e;xa=t,a.timeoutHandle=w0(gg.bind(null,a,n,Jt,nc,Qd,t,un,Us,qi,Qa,i,"Throttled",-0,0),s);break e}gg(a,n,Jt,nc,Qd,t,un,Us,qi,Qa,i,null,-0,0)}}break}while(!0);ia(e)}function gg(e,t,n,a,s,i,r,l,o,u,f,h,m,g){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Qp(t,i,h);var S=(i&62914560)===i?Lc-dn():(i&4194048)===i?Wp-dn():0;if(S=l1(h,S),S!==null){xa=i,e.cancelPendingCommit=S(vg.bind(null,e,t,i,n,a,s,r,l,o,f,h,null,m,g)),Ja(e,i,r,!u);return}}vg(e,t,i,n,a,s,r,l,o)}function xx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,n,a){t&=~xh,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-hn(s),r=1<<i;a[i]=-1,s&=~r}n!==0&&iv(e,n,t)}function Hc(){return Ee&6?!0:(Ol(0),!1)}function Eh(){if(de!==null){if(Oe===0)var e=de.return;else e=de,_a=Gs=null,ch(e),Di=null,al=0,e=de;for(;e!==null;)kp(e.alternate,e),e=e.return;de=null}}function Vi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xa=0,Eh(),ke=e,de=n=wa(e.current,null),me=t,Oe=0,sn=null,Qa=!1,er=_l(e,t),Sh=!1,qi=un=xh=Us=cs=We=0,Jt=Yr=null,Qd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-hn(a),i=1<<s;t|=e[s],a&=~i}return Na=t,Rc(),n}function n0(e,t){se=null,W.H=il,t===Fi||t===kc?(t=Xm(),Oe=3):t===nh?(t=Xm(),Oe=4):Oe=t===ph?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,de===null&&(We=1,Wo(e,An(t,e.current)))}function a0(){var e=yn.current;return e===null?!0:(me&4194048)===me?Cn===null:(me&62914560)===me||me&536870912?e===Cn:!1}function s0(){var e=W.H;return W.H=il,e===null?il:e}function i0(){var e=W.A;return W.A=wx,e}function ac(){We=4,Qa||(me&4194048)!==me&&yn.current!==null||(er=!0),!(cs&134217727)&&!(Us&134217727)||ke===null||Ja(ke,me,un,!1)}function Iu(e,t,n){var a=Ee;Ee|=2;var s=s0(),i=i0();(ke!==e||me!==t)&&(nc=null,Vi(e,t)),t=!1;var r=We;e:do try{if(Oe!==0&&de!==null){var l=de,o=sn;switch(Oe){case 8:Eh(),r=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(t=!0);var u=Oe;if(Oe=0,sn=null,Ti(e,l,o,u),n&&er){r=0;break e}break;default:u=Oe,Oe=0,sn=null,Ti(e,l,o,u)}}Ex(),r=We;break}catch(f){n0(e,f)}while(!0);return t&&e.shellSuspendCounter++,_a=Gs=null,Ee=a,W.H=s,W.A=i,de===null&&(ke=null,me=0,Rc()),r}function Ex(){for(;de!==null;)r0(de)}function Tx(e,t){var n=Ee;Ee|=2;var a=s0(),s=i0();ke!==e||me!==t?(nc=null,tc=dn()+500,Vi(e,t)):er=_l(e,t);e:do try{if(Oe!==0&&de!==null){t=de;var i=sn;t:switch(Oe){case 1:Oe=0,sn=null,Ti(e,t,i,1);break;case 2:case 9:if(Km(i)){Oe=0,sn=null,yg(t);break}t=function(){Oe!==2&&Oe!==9||ke!==e||(Oe=7),ia(e)},i.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Km(i)?(Oe=0,sn=null,yg(t)):(Oe=0,sn=null,Ti(e,t,i,7));break;case 5:var r=null;switch(de.tag){case 26:r=de.memoizedState;case 5:case 27:var l=de;if(r?j0(r):l.stateNode.complete){Oe=0,sn=null;var o=l.sibling;if(o!==null)de=o;else{var u=l.return;u!==null?(de=u,qc(u)):de=null}break t}}Oe=0,sn=null,Ti(e,t,i,5);break;case 6:Oe=0,sn=null,Ti(e,t,i,6);break;case 8:Eh(),We=6;break e;default:throw Error($(462))}}jx();break}catch(f){n0(e,f)}while(!0);return _a=Gs=null,W.H=a,W.A=s,Ee=n,de!==null?0:(ke=null,me=0,Rc(),We)}function jx(){for(;de!==null&&!Jw();)r0(de)}function r0(e){var t=Mp(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?qc(e):de=t}function yg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cg(n,t,t.pendingProps,t.type,void 0,me);break;case 11:t=cg(n,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:ch(t);default:kp(n,t),t=de=kv(t,Na),t=Mp(n,t,Na)}e.memoizedProps=e.pendingProps,t===null?qc(e):de=t}function Ti(e,t,n,a){_a=Gs=null,ch(t),Di=null,al=0;var s=t.return;try{if(mx(e,s,t,n,me)){We=1,Wo(e,An(n,e.current)),de=null;return}}catch(i){if(s!==null)throw de=s,i;We=1,Wo(e,An(n,e.current)),de=null;return}t.flags&32768?(ye||a===1?e=!0:er||me&536870912?e=!1:(Qa=e=!0,(a===2||a===9||a===3||a===6)&&(a=yn.current,a!==null&&a.tag===13&&(a.flags|=16384))),l0(t,e)):qc(t)}function qc(e){var t=e;do{if(t.flags&32768){l0(t,Qa);return}e=t.return;var n=vx(t.alternate,t,Na);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);We===0&&(We=5)}function l0(e,t){do{var n=px(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);We=6,de=null}function vg(e,t,n,a,s,i,r,l,o){e.cancelPendingCommit=null;do Yc();while(ft!==0);if(Ee&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(i=t.lanes|t.childLanes,i|=Jf,iS(e,n,i,r,l,o),e===ke&&(de=ke=null,me=0),Yi=t,ns=e,xa=n,Jd=i,Zd=s,Fp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Dx(qo,function(){return f0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=W.T,W.T=null,s=Te.p,Te.p=2,r=Ee,Ee|=4;try{bx(e,t,n)}finally{Ee=r,Te.p=s,W.T=a}}ft=1,o0(),c0(),u0()}}function o0(){if(ft===1){ft=0;var e=ns,t=Yi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=W.T,W.T=null;var a=Te.p;Te.p=2;var s=Ee;Ee|=4;try{Gp(t,e);var i=tf,r=jv(e.containerInfo),l=i.focusedElem,o=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&Tv(l.ownerDocument.documentElement,l)){if(o!==null&&Qf(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),S=l.textContent.length,E=Math.min(o.start,S),O=o.end===void 0?E:Math.min(o.end,S);!g.extend&&E>O&&(r=O,O=E,E=r);var b=Lm(l,E),y=Lm(l,O);if(b&&y&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var p=h.createRange();p.setStart(b.node,b.offset),g.removeAllRanges(),E>O?(g.addRange(p),g.extend(y.node,y.offset)):(p.setEnd(y.node,y.offset),g.addRange(p))}}}}for(h=[],g=l;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var x=h[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}dc=!!ef,tf=ef=null}finally{Ee=s,Te.p=a,W.T=n}}e.current=t,ft=2}}function c0(){if(ft===2){ft=0;var e=ns,t=Yi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=W.T,W.T=null;var a=Te.p;Te.p=2;var s=Ee;Ee|=4;try{Hp(e,t.alternate,t)}finally{Ee=s,Te.p=a,W.T=n}}ft=3}}function u0(){if(ft===4||ft===3){ft=0,Zw();var e=ns,t=Yi,n=xa,a=Fp;t.subtreeFlags&10256||t.flags&10256?ft=5:(ft=0,Yi=ns=null,d0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ts=null),qf(n),t=t.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(bl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=W.T,s=Te.p,Te.p=2,W.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];i(l.value,{componentStack:l.stack})}}finally{W.T=t,Te.p=s}}xa&3&&Yc(),ia(e),s=e.pendingLanes,n&261930&&s&42?e===Pd?Vr++:(Vr=0,Pd=e):Vr=0,Ol(0)}}function d0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,El(t)))}function Yc(){return o0(),c0(),u0(),f0()}function f0(){if(ft!==5)return!1;var e=ns,t=Jd;Jd=0;var n=qf(xa),a=W.T,s=Te.p;try{Te.p=32>n?32:n,W.T=null,n=Zd,Zd=null;var i=ns,r=xa;if(ft=0,Yi=ns=null,xa=0,Ee&6)throw Error($(331));var l=Ee;if(Ee|=4,Zp(i.current),Xp(i,i.current,r,n),Ee=l,Ol(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(bl,i)}catch{}return!0}finally{Te.p=s,W.T=a,d0(e,t)}}function pg(e,t,n){t=An(n,t),t=Id(e.stateNode,t,2),e=es(e,t,2),e!==null&&(wl(e,2),ia(e))}function Ne(e,t,n){if(e.tag===3)pg(e,e,n);else for(;t!==null;){if(t.tag===3){pg(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ts===null||!ts.has(a))){e=An(n,e),n=Op(2),a=es(t,n,2),a!==null&&(Np(n,a,t,e),wl(a,2),ia(a));break}}t=t.return}}function Gu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Sx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Sh=!0,s.add(n),e=Ox.bind(null,e,t,n),t.then(e,e))}function Ox(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(me&n)===n&&(We===4||We===3&&(me&62914560)===me&&300>dn()-Lc?!(Ee&2)&&Vi(e,0):xh|=n,qi===me&&(qi=0)),ia(e)}function h0(e,t){t===0&&(t=sv()),e=Is(e,t),e!==null&&(wl(e,t),ia(e))}function Nx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h0(e,n)}function Ax(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error($(314))}a!==null&&a.delete(t),h0(e,n)}function Dx(e,t){return Lf(e,t)}var sc=null,ui=null,Wd=!1,ic=!1,Ku=!1,Za=0;function ia(e){e!==ui&&e.next===null&&(ui===null?sc=ui=e:ui=ui.next=e),ic=!0,Wd||(Wd=!0,Rx())}function Ol(e,t){if(!Ku&&ic){Ku=!0;do for(var n=!1,a=sc;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-hn(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,bg(a,i))}else i=me,i=Nc(a,a===ke?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||_l(a,i)||(n=!0,bg(a,i));a=a.next}while(n);Ku=!1}}function Cx(){m0()}function m0(){ic=Wd=!1;var e=0;Za!==0&&Yx()&&(e=Za);for(var t=dn(),n=null,a=sc;a!==null;){var s=a.next,i=g0(a,t);i===0?(a.next=null,n===null?sc=s:n.next=s,s===null&&(ui=n)):(n=a,(e!==0||i&3)&&(ic=!0)),a=s}ft!==0&&ft!==5||Ol(e),Za!==0&&(Za=0)}function g0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-hn(i),l=1<<r,o=s[r];o===-1?(!(l&n)||l&a)&&(s[r]=sS(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}if(t=ke,n=me,n=Nc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_u(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||_l(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&_u(a),qf(n)){case 2:case 8:n=nv;break;case 32:n=qo;break;case 268435456:n=av;break;default:n=qo}return a=y0.bind(null,e),n=Lf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&_u(a),e.callbackPriority=2,e.callbackNode=null,2}function y0(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yc()&&e.callbackNode!==n)return null;var a=me;return a=Nc(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(t0(e,a,t),g0(e,dn()),e.callbackNode!=null&&e.callbackNode===n?y0.bind(null,e):null)}function bg(e,t){if(Yc())return null;t0(e,t,!0)}function Rx(){Ix(function(){Ee&6?Lf(tv,Cx):m0()})}function Th(){if(Za===0){var e=Bi;e===0&&(e=Kl,Kl<<=1,!(Kl&261888)&&(Kl=256)),Za=e}return Za}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wo(""+e)}function wg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mx(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=_g((s[Pt]||null).action),r=a.submitter;r&&(t=(t=r[Pt]||null)?_g(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new Ac("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Za!==0){var o=r?wg(s,r):new FormData(s);Yd(n,{pending:!0,data:o,method:s.method,action:i},null,o)}}else typeof i=="function"&&(l.preventDefault(),o=r?wg(s,r):new FormData(s),Yd(n,{pending:!0,data:o,method:s.method,action:i},i,o))},currentTarget:s}]})}}for(var Xu=0;Xu<Dd.length;Xu++){var Qu=Dd[Xu],kx=Qu.toLowerCase(),Ux=Qu[0].toUpperCase()+Qu.slice(1);Kn(kx,"on"+Ux)}Kn(Nv,"onAnimationEnd");Kn(Av,"onAnimationIteration");Kn(Dv,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(PS,"onTransitionRun");Kn(WS,"onTransitionStart");Kn(FS,"onTransitionCancel");Kn(Cv,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function v0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Vo(f)}s.currentTarget=null,i=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Vo(f)}s.currentTarget=null,i=o}}}}function ue(e,t){var n=t[Sd];n===void 0&&(n=t[Sd]=new Set);var a=e+"__bubble";n.has(a)||(p0(t,e,2,!1),n.add(a))}function Ju(e,t,n){var a=0;t&&(a|=4),p0(n,e,a,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function jh(e){if(!e[no]){e[no]=!0,cv.forEach(function(n){n!=="selectionchange"&&(zx.has(n)||Ju(n,!1,e),Ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,Ju("selectionchange",!1,t))}}function p0(e,t,n,a){switch(C0(t)){case 2:var s=u1;break;case 8:s=d1;break;default:s=Dh}n=s.bind(null,t,n,e),s=void 0,!Od||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zu(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=yi(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=i=r;continue e}l=l.parentNode}}a=a.return}vv(function(){var u=i,f=If(n),h=[];e:{var m=Rv.get(e);if(m!==void 0){var g=Ac,S=e;switch(e){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":g=AS;break;case"focusin":S="focus",g=Tu;break;case"focusout":S="blur",g=Tu;break;case"beforeblur":case"afterblur":g=Tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=RS;break;case Nv:case Av:case Dv:g=_S;break;case Cv:g=kS;break;case"scroll":case"scrollend":g=gS;break;case"wheel":g=zS;break;case"copy":case"cut":case"paste":g=SS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cm;break;case"toggle":case"beforetoggle":g=BS}var E=(t&4)!==0,O=!E&&(e==="scroll"||e==="scrollend"),b=E?m!==null?m+"Capture":null:m;E=[];for(var y=u,p;y!==null;){var x=y;if(p=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||p===null||b===null||(x=Wr(y,b),x!=null&&E.push(ll(y,x,p))),O)break;y=y.return}0<E.length&&(m=new g(m,S,null,n,f),h.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==jd&&(S=n.relatedTarget||n.fromElement)&&(yi(S)||S[Zi]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?yi(S):null,S!==null&&(O=pl(S),E=S.tag,S!==O||E!==5&&E!==27&&E!==6)&&(S=null)):(g=null,S=u),g!==S)){if(E=Am,x="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=Cm,x="onPointerLeave",b="onPointerEnter",y="pointer"),O=g==null?m:jr(g),p=S==null?m:jr(S),m=new E(x,y+"leave",g,n,f),m.target=O,m.relatedTarget=p,x=null,yi(f)===u&&(E=new E(b,y+"enter",S,n,f),E.target=p,E.relatedTarget=O,x=E),O=x,g&&S)t:{for(E=$x,b=g,y=S,p=0,x=b;x;x=E(x))p++;x=0;for(var T=y;T;T=E(T))x++;for(;0<p-x;)b=E(b),p--;for(;0<x-p;)y=E(y),x--;for(;p--;){if(b===y||y!==null&&b===y.alternate){E=b;break t}b=E(b),y=E(y)}E=null}else E=null;g!==null&&Sg(h,m,g,E,!1),S!==null&&O!==null&&Sg(h,O,S,E,!0)}}e:{if(m=u?jr(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var N=Um;else if(km(m))if(xv)N=QS;else{N=KS;var j=GS}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Vf(u.elementType)&&(N=Um):N=XS;if(N&&(N=N(e,u))){Sv(h,N,n,f);break e}j&&j(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Td(m,"number",m.value)}switch(j=u?jr(u):window,e){case"focusin":(km(j)||j.contentEditable==="true")&&(bi=j,Nd=u,kr=null);break;case"focusout":kr=Nd=bi=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Hm(h,n,f);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":Hm(h,n,f)}var R;if(Xf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else pi?_v(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(bv&&n.locale!=="ko"&&(pi||k!=="onCompositionStart"?k==="onCompositionEnd"&&pi&&(R=pv()):(Xa=f,Gf="value"in Xa?Xa.value:Xa.textContent,pi=!0)),j=rc(u,k),0<j.length&&(k=new Dm(k,e,null,n,f),h.push({event:k,listeners:j}),R?k.data=R:(R=wv(n),R!==null&&(k.data=R)))),(R=HS?qS(e,n):YS(e,n))&&(k=rc(u,"onBeforeInput"),0<k.length&&(j=new Dm("onBeforeInput","beforeinput",null,n,f),h.push({event:j,listeners:k}),j.data=R)),Mx(h,e,u,n,f)}v0(h,t)})}function ll(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rc(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Wr(e,n),s!=null&&a.unshift(ll(e,s,i)),s=Wr(e,t),s!=null&&a.push(ll(e,s,i))),e.tag===3)return a;e=e.return}return[]}function $x(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sg(e,t,n,a,s){for(var i=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=Wr(n,i),u!=null&&r.unshift(ll(n,u,o))):s||(u=Wr(n,i),u!=null&&r.push(ll(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Bx=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function xg(e){return(typeof e=="string"?e:""+e).replace(Bx,`
`).replace(Lx,"")}function b0(e,t){return t=xg(t),xg(e)===t}function Ae(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||$i(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&$i(e,""+a);break;case"className":Jl(e,"class",a);break;case"tabIndex":Jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(e,n,a);break;case"style":yv(e,a,i);break;case"data":if(t!=="object"){Jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",s.name,s,null),Ae(e,t,"formEncType",s.formEncType,s,null),Ae(e,t,"formMethod",s.formMethod,s,null),Ae(e,t,"formTarget",s.formTarget,s,null)):(Ae(e,t,"encType",s.encType,s,null),Ae(e,t,"method",s.method,s,null),Ae(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ba);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=wo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ue("beforetoggle",e),ue("toggle",e),_o(e,"popover",a);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_o(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hS.get(n)||n,_o(e,n,a))}}function Fd(e,t,n,a,s,i){switch(n){case"style":yv(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof a=="string"?$i(e,a):(typeof a=="number"||typeof a=="bigint")&&$i(e,""+a);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[Pt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):_o(e,n,a)}}}function At(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ae(e,t,i,r,n,null)}}s&&Ae(e,t,"srcSet",n.srcSet,n,null),a&&Ae(e,t,"src",n.src,n,null);return;case"input":ue("invalid",e);var l=i=r=s=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":s=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Ae(e,t,a,f,n,null)}}hv(e,i,l,o,u,r,s,!1);return;case"select":ue("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ae(e,t,s,l,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Oi(e,!!a,t,!1):n!=null&&Oi(e,!!a,n,!0);return;case"textarea":ue("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:Ae(e,t,r,l,n,null)}gv(e,a,s,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ae(e,t,o,a,n,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(a=0;a<rl.length;a++)ue(rl[a],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ae(e,t,u,a,n,null)}return;default:if(Vf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&Fd(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ae(e,t,l,a,n,null))}function Hx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,o=null,u=null,f=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=h;default:a.hasOwnProperty(g)||Ae(e,t,g,null,a,h)}}for(var m in a){var g=a[m];if(h=n[m],a.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":i=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error($(137,t));break;default:g!==h&&Ae(e,t,m,g,a,h)}}Ed(e,r,l,o,u,f,i,s);return;case"select":g=r=l=m=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(i)||Ae(e,t,i,null,a,o)}for(s in a)if(i=a[s],o=n[s],a.hasOwnProperty(s)&&(i!=null||o!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==o&&Ae(e,t,s,i,a,o)}t=l,n=r,a=g,m!=null?Oi(e,!!n,m,!1):!!a!=!!n&&(t!=null?Oi(e,!!n,t,!0):Oi(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(e,t,l,null,a,s)}for(r in a)if(s=a[r],i=n[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($(91));break;default:s!==i&&Ae(e,t,r,s,a,i)}mv(e,m,g);return;case"option":for(var S in n)if(m=n[S],n.hasOwnProperty(S)&&m!=null&&!a.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:Ae(e,t,S,null,a,m)}for(o in a)if(m=a[o],g=n[o],a.hasOwnProperty(o)&&m!==g&&(m!=null||g!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ae(e,t,o,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!a.hasOwnProperty(E)&&Ae(e,t,E,null,a,m);for(u in a)if(m=a[u],g=n[u],a.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:Ae(e,t,u,m,a,g)}return;default:if(Vf(t)){for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!==void 0&&!a.hasOwnProperty(O)&&Fd(e,t,O,void 0,a,m);for(f in a)m=a[f],g=n[f],!a.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||Fd(e,t,f,m,a,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Ae(e,t,b,null,a,m);for(h in a)m=a[h],g=n[h],!a.hasOwnProperty(h)||m===g||m==null&&g==null||Ae(e,t,h,m,a,g)}function Eg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&Eg(r)){for(r=0,l=s.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var f=o.transferSize,h=o.initiatorType;f&&Eg(h)&&(o=o.responseEnd,r+=f*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ef=null,tf=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Tg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pu=null;function Yx(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,Vx=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(e){return jg.resolve(null).then(e).catch(Gx)}:w0;function Gx(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function Og(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Gi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ir(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ir(n);for(var i=n.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[Sl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Ir(e.ownerDocument.body);n=s}while(n);Gi(t)}function Ng(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":af(n),Yf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Kx(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rn(e.nextSibling),e===null)break}return null}function Xx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rn(e.nextSibling),e===null))return null;return e}function S0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rn(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$?"||e.data==="$~"}function rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var lf=null;function Ag(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function x0(e,t,n){switch(t=lc(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function Ir(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yf(e)}var Mn=new Map,Cg=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Aa=Te.d;Te.d={f:Jx,r:Zx,D:Px,C:Wx,L:Fx,m:e1,X:n1,S:t1,M:a1};function Jx(){var e=Aa.f(),t=Hc();return e||t}function Zx(e){var t=Pi(e);t!==null&&t.tag===5&&t.type==="form"?yp(t):Aa.r(e)}var tr=typeof document>"u"?null:document;function E0(e,t,n){var a=tr;if(a&&typeof t=="string"&&t){var s=Nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Cg.has(s)||(Cg.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),At(t,"link",e),wt(t),a.head.appendChild(t)))}}function Px(e){Aa.D(e),E0("dns-prefetch",e,null)}function Wx(e,t){Aa.C(e,t),E0("preconnect",e,t)}function Fx(e,t,n){Aa.L(e,t,n);var a=tr;if(a&&e&&t){var s='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Nn(n.imageSizes)+'"]')):s+='[href="'+Nn(e)+'"]';var i=s;switch(t){case"style":i=Ii(e);break;case"script":i=nr(e)}Mn.has(i)||(e=Ie({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Nl(i))||t==="script"&&a.querySelector(Al(i))||(t=a.createElement("link"),At(t,"link",e),wt(t),a.head.appendChild(t)))}}function e1(e,t){Aa.m(e,t);var n=tr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Nn(a)+'"][href="'+Nn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=nr(e)}if(!Mn.has(i)&&(e=Ie({rel:"modulepreload",href:e},t),Mn.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Al(i)))return}a=n.createElement("link"),At(a,"link",e),wt(a),n.head.appendChild(a)}}}function t1(e,t,n){Aa.S(e,t,n);var a=tr;if(a&&e){var s=ji(a).hoistableStyles,i=Ii(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Nl(i)))l.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(i))&&Oh(e,n);var o=r=a.createElement("link");wt(o),At(o,"link",e),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Co(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function n1(e,t){Aa.X(e,t);var n=tr;if(n&&e){var a=ji(n).hoistableScripts,s=nr(e),i=a.get(s);i||(i=n.querySelector(Al(s)),i||(e=Ie({src:e,async:!0},t),(t=Mn.get(s))&&Nh(e,t),i=n.createElement("script"),wt(i),At(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function a1(e,t){Aa.M(e,t);var n=tr;if(n&&e){var a=ji(n).hoistableScripts,s=nr(e),i=a.get(s);i||(i=n.querySelector(Al(s)),i||(e=Ie({src:e,async:!0,type:"module"},t),(t=Mn.get(s))&&Nh(e,t),i=n.createElement("script"),wt(i),At(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Rg(e,t,n,a){var s=(s=Pa.current)?oc(s):null;if(!s)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ii(n.href),n=ji(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ii(n.href);var i=ji(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Nl(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),i||s1(s,e,n,r.state))),t&&a===null)throw Error($(528,""));return r}if(t&&a!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nr(n),n=ji(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Ii(e){return'href="'+Nn(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function T0(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function s1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),At(t,"link",n),wt(t),e.head.appendChild(t))}function nr(e){return'[src="'+Nn(e)+'"]'}function Al(e){return"script[async]"+e}function Mg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(a)return t.instance=a,wt(a),a;var s=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),wt(a),At(a,"style",s),Co(a,n.precedence,e),t.instance=a;case"stylesheet":s=Ii(n.href);var i=e.querySelector(Nl(s));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;a=T0(n),(s=Mn.get(s))&&Oh(a,s),i=(e.ownerDocument||e).createElement("link"),wt(i);var r=i;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),At(i,"link",a),t.state.loading|=4,Co(i,n.precedence,e),t.instance=i;case"script":return i=nr(n.src),(s=e.querySelector(Al(i)))?(t.instance=s,wt(s),s):(a=n,(s=Mn.get(i))&&(a=Ie({},n),Nh(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),wt(s),At(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Co(a,n.precedence,e));return t.instance}function Co(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Oh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ro=null;function kg(e,t,n){if(Ro===null){var a=new Map,s=Ro=new Map;s.set(n,a)}else s=Ro,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Sl]||i[jt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(i):a.set(r,[i])}}return a}function Ug(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function i1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function j0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function r1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Ii(a.href),i=t.querySelector(Nl(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=cc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,wt(i);return}i=t.ownerDocument||t,a=T0(a),(s=Mn.get(s))&&Oh(a,s),i=i.createElement("link"),wt(i);var r=i;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),At(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=cc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Wu=0;function l1(e,t){return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Wu===0&&(Wu=62500*qx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Wu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function Mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,t.forEach(o1,e),uc=null,cc.call(e))}function o1(e,t){if(!(t.state.loading&4)){var n=uc.get(e);if(n)var a=n.get(null);else{n=new Map,uc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,s),n.set(r,s),this.count++,a=cc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ol={$$typeof:pa,Provider:null,Consumer:null,_currentValue:Cs,_currentValue2:Cs,_threadCount:0};function c1(e,t,n,a,s,i,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wu(0),this.hiddenUpdates=wu(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function O0(e,t,n,a,s,i,r,l,o,u,f,h){return e=new c1(e,t,n,r,o,u,f,h,l),t=1,i===!0&&(t|=24),i=ln(3,null,null,t),e.current=i,i.stateNode=e,t=eh(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},ah(i),e}function N0(e){return e?(e=Si,e):Si}function A0(e,t,n,a,s,i){s=N0(s),a.context===null?a.context=s:a.pendingContext=s,a=Fa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=es(e,a,t),n!==null&&(Zt(n,e,t),zr(n,e,t))}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ah(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function D0(e){if(e.tag===13||e.tag===31){var t=Is(e,67108864);t!==null&&Zt(t,e,67108864),Ah(e,67108864)}}function $g(e){if(e.tag===13||e.tag===31){var t=mn();t=Hf(t);var n=Is(e,t);n!==null&&Zt(n,e,t),Ah(e,t)}}var dc=!0;function u1(e,t,n,a){var s=W.T;W.T=null;var i=Te.p;try{Te.p=2,Dh(e,t,n,a)}finally{Te.p=i,W.T=s}}function d1(e,t,n,a){var s=W.T;W.T=null;var i=Te.p;try{Te.p=8,Dh(e,t,n,a)}finally{Te.p=i,W.T=s}}function Dh(e,t,n,a){if(dc){var s=of(a);if(s===null)Zu(e,t,a,fc,n),Bg(e,a);else if(h1(s,e,t,n,a))a.stopPropagation();else if(Bg(e,a),t&4&&-1<f1.indexOf(e)){for(;s!==null;){var i=Pi(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=xs(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-hn(r);l.entanglements[1]|=o,r&=~o}ia(i),!(Ee&6)&&(tc=dn()+500,Ol(0))}}break;case 31:case 13:l=Is(i,2),l!==null&&Zt(l,i,2),Hc(),Ah(i,2)}if(i=of(a),i===null&&Zu(e,t,a,fc,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Zu(e,t,a,null,n)}}function of(e){return e=If(e),Ch(e)}var fc=null;function Ch(e){if(fc=null,e=yi(e),e!==null){var t=pl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Zy(t),e!==null)return e;e=null}else if(n===31){if(e=Py(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fc=e,null}function C0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pw()){case tv:return 2;case nv:return 8;case qo:case Ww:return 32;case av:return 268435456;default:return 32}default:return 32}}var cf=!1,as=null,ss=null,is=null,cl=new Map,ul=new Map,Ia=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bg(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function xr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Pi(t),t!==null&&D0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function h1(e,t,n,a,s){switch(t){case"focusin":return as=xr(as,e,t,n,a,s),!0;case"dragenter":return ss=xr(ss,e,t,n,a,s),!0;case"mouseover":return is=xr(is,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,xr(cl.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,ul.set(i,xr(ul.get(i)||null,e,t,n,a,s)),!0}return!1}function R0(e){var t=yi(e.target);if(t!==null){var n=pl(t);if(n!==null){if(t=n.tag,t===13){if(t=Zy(n),t!==null){e.blockedOn=t,Sm(e.priority,function(){$g(n)});return}}else if(t===31){if(t=Py(n),t!==null){e.blockedOn=t,Sm(e.priority,function(){$g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=of(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);jd=a,n.target.dispatchEvent(a),jd=null}else return t=Pi(n),t!==null&&D0(t),e.blockedOn=n,!1;t.shift()}return!0}function Lg(e,t,n){ko(e)&&n.delete(t)}function m1(){cf=!1,as!==null&&ko(as)&&(as=null),ss!==null&&ko(ss)&&(ss=null),is!==null&&ko(is)&&(is=null),cl.forEach(Lg),ul.forEach(Lg)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,cf||(cf=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,m1)))}var so=null;function Hg(e){so!==e&&(so=e,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,function(){so===e&&(so=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Ch(a||n)===null)continue;break}var i=Pi(n);i!==null&&(e.splice(t,3),t-=3,Yd(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Gi(e){function t(o){return ao(o,e)}as!==null&&ao(as,e),ss!==null&&ao(ss,e),is!==null&&ao(is,e),cl.forEach(t),ul.forEach(t);for(var n=0;n<Ia.length;n++){var a=Ia[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&Ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],r=s[Pt]||null;if(typeof i=="function")r||Hg(n);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Pt]||null)l=r.formAction;else if(Ch(s)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Hg(n)}}}function M0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Rh(e){this._internalRoot=e}Vc.prototype.render=Rh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,a=mn();A0(n,a,e,t,null,null)};Vc.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;A0(e.current,2,null,e,null,null),Hc(),t[Zi]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ia.length&&t!==0&&t<Ia[n].priority;n++);Ia.splice(n,0,e),n===0&&R0(e)}};var qg=Qy.version;if(qg!=="19.2.0")throw Error($(527,qg,"19.2.0"));Te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Iw(t),e=e!==null?Wy(e):null,e=e===null?null:e.stateNode,e};var g1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{bl=io.inject(g1),fn=io}catch{}}jc.createRoot=function(e,t){if(!Jy(e))throw Error($(299));var n=!1,a="",s=Ep,i=Tp,r=jp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=O0(e,1,!1,null,null,n,a,null,s,i,r,M0),e[Zi]=t.current,jh(e),new Rh(t)};jc.hydrateRoot=function(e,t,n){if(!Jy(e))throw Error($(299));var a=!1,s="",i=Ep,r=Tp,l=jp,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=O0(e,1,!0,t,n??null,a,s,o,i,r,l,M0),t.context=N0(null),n=t.current,a=mn(),a=Hf(a),s=Fa(a),s.callback=null,es(n,s,a),n=a,t.current.lanes=n,wl(t,n),ia(t),e[Zi]=t.current,jh(e),new Vc(t)};jc.version="19.2.0";function k0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k0)}catch(e){console.error(e)}}k0(),Yy.exports=jc;var y1=Yy.exports,uf=function(e,t){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},uf(e,t)};function U0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hc=function(){return hc=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hc.apply(this,arguments)};function ar(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function z0(e,t,n,a){var s=arguments.length,i=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function $0(e,t){return function(n,a){t(n,a,e)}}function B0(e,t,n,a,s,i){function r(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,g=n.length-1;g>=0;g--){var S={};for(var E in a)S[E]=E==="access"?{}:a[E];for(var E in a.access)S.access[E]=a.access[E];S.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(b||null))};var O=(0,n[g])(l==="accessor"?{get:f.get,set:f.set}:f[o],S);if(l==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(h=r(O.get))&&(f.get=h),(h=r(O.set))&&(f.set=h),(h=r(O.init))&&s.unshift(h)}else(h=r(O))&&(l==="field"?s.unshift(h):f[o]=h)}u&&Object.defineProperty(u,a.name,f),m=!0}function L0(e,t,n){for(var a=arguments.length>2,s=0;s<t.length;s++)n=a?t[s].call(e,n):t[s].call(e);return a?n:void 0}function H0(e){return typeof e=="symbol"?e:"".concat(e)}function q0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Y0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,n,a){function s(i){return i instanceof n?i:new n(function(r){r(i)})}return new(n||(n=Promise))(function(i,r){function l(f){try{u(a.next(f))}catch(h){r(h)}}function o(f){try{u(a.throw(f))}catch(h){r(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function V0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return o([u,f])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ic=Object.create?function(e,t,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function I0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ic(t,e,n)}function mc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function G0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mh(arguments[t]));return e}function K0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)a[s]=i[r];return a}function X0(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Ki(e){return this instanceof Ki?(this.v=e,this):new Ki(e)}function Q0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(g){return function(S){return Promise.resolve(S).then(g,h)}}function l(g,S){a[g]&&(s[g]=function(E){return new Promise(function(O,b){i.push([g,E,O,b])>1||o(g,E)})},S&&(s[g]=S(s[g])))}function o(g,S){try{u(a[g](S))}catch(E){m(i[0][3],E)}}function u(g){g.value instanceof Ki?Promise.resolve(g.value.v).then(f,h):m(i[0][2],g)}function f(g){o("next",g)}function h(g){o("throw",g)}function m(g,S){g(S),i.shift(),i.length&&o(i[0][0],i[0][1])}}function J0(e){var t,n;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,i){t[s]=e[s]?function(r){return(n=!n)?{value:Ki(e[s](r)),done:!1}:i?i(r):r}:i}}function Z0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mc=="function"?mc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(r){return new Promise(function(l,o){r=e[i](r),s(l,o,r.done,r.value)})}}function s(i,r,l,o){Promise.resolve(o).then(function(u){i({value:u,done:l})},r)}}function P0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var v1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},df=function(e){return df=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},df(e)};function W0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=df(e),a=0;a<n.length;a++)n[a]!=="default"&&Ic(t,e,n[a]);return v1(t,e),t}function F0(e){return e&&e.__esModule?e:{default:e}}function eb(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function tb(e,t,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function nb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ab(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var p1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function sb(e){function t(i){e.error=e.hasError?new p1(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ib(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,r){return a?t?".jsx":".js":s&&(!i||!r)?n:s+i+"."+r.toLowerCase()+"js"}):e}const b1={__extends:U0,__assign:hc,__rest:ar,__decorate:z0,__param:$0,__esDecorate:B0,__runInitializers:L0,__propKey:H0,__setFunctionName:q0,__metadata:Y0,__awaiter:Q,__generator:V0,__createBinding:Ic,__exportStar:I0,__values:mc,__read:Mh,__spread:G0,__spreadArrays:K0,__spreadArray:X0,__await:Ki,__asyncGenerator:Q0,__asyncDelegator:J0,__asyncValues:Z0,__makeTemplateObject:P0,__importStar:W0,__importDefault:F0,__classPrivateFieldGet:eb,__classPrivateFieldSet:tb,__classPrivateFieldIn:nb,__addDisposableResource:ab,__disposeResources:sb,__rewriteRelativeImportExtension:ib},_1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ab,get __assign(){return hc},__asyncDelegator:J0,__asyncGenerator:Q0,__asyncValues:Z0,__await:Ki,__awaiter:Q,__classPrivateFieldGet:eb,__classPrivateFieldIn:nb,__classPrivateFieldSet:tb,__createBinding:Ic,__decorate:z0,__disposeResources:sb,__esDecorate:B0,__exportStar:I0,__extends:U0,__generator:V0,__importDefault:F0,__importStar:W0,__makeTemplateObject:P0,__metadata:Y0,__param:$0,__propKey:H0,__read:Mh,__rest:ar,__rewriteRelativeImportExtension:ib,__runInitializers:L0,__setFunctionName:q0,__spread:G0,__spreadArray:X0,__spreadArrays:K0,__values:mc,default:b1},Symbol.toStringTag,{value:"Module"})),w1="modulepreload",S1=function(e){return"/todo-note/"+e},Yg={},sr=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=S1(o),o in Yg)return;Yg[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":w1,u||(h.as="script"),h.crossOrigin="",h.href=o,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},x1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:a}=await Promise.resolve().then(()=>Ks);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class kh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Vg extends kh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ig extends kh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gg extends kh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ff;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ff||(ff={}));class E1{constructor(t,{headers:n={},customFetch:a,region:s=ff.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=x1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:r,body:l,signal:o}=a;let u={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const g=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:o}).catch(b=>{throw b.name==="AbortError"?b:new Vg(b)}),S=g.headers.get("x-relay-error");if(S&&S==="true")throw new Ig(g);if(!g.ok)throw new Gg(g);let E=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield g.json():E==="application/octet-stream"||E==="application/pdf"?O=yield g.blob():E==="text/event-stream"?O=g:E==="multipart/form-data"?O=yield g.formData():O=yield g.text(),{data:O,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Vg(i)}:{data:null,error:i,response:i instanceof Gg||i instanceof Ig?i.context:void 0}}})}}var zt={};const ir=Ry(_1);var ro={},lo={},oo={},co={},uo={},T1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xi=T1();const j1=Xi.fetch,rb=Xi.fetch.bind(Xi),lb=Xi.Headers,O1=Xi.Request,N1=Xi.Response,Ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:lb,Request:O1,Response:N1,default:rb,fetch:j1},Symbol.toStringTag,{value:"Module"})),A1=Ry(Ks);var fo={},Kg;function ob(){if(Kg)return fo;Kg=1,Object.defineProperty(fo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return fo.default=e,fo}var Xg;function cb(){if(Xg)return uo;Xg=1,Object.defineProperty(uo,"__esModule",{value:!0});const e=ir,t=e.__importDefault(A1),n=e.__importDefault(ob());class a{constructor(i){var r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,m,g;let S=null,E=null,O=null,b=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?E=N:E=JSON.parse(N))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),T=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&T&&T.length>1&&(O=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,O=null,b=406,y="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const x=await u.text();try{S=JSON.parse(x),Array.isArray(S)&&u.status===404&&(E=[],S=null,b=200,y="OK")}catch{u.status===404&&x===""?(b=204,y="No Content"):S={message:x}}if(S&&this.isMaybeSingle&&(!((g=S==null?void 0:S.details)===null||g===void 0)&&g.includes("0 rows"))&&(S=null,b=200,y="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:E,count:O,status:b,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var f,h,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,r)}returns(){return this}overrideTypes(){return this}}return uo.default=a,uo}var Qg;function ub(){if(Qg)return co;Qg=1,Object.defineProperty(co,"__esModule",{value:!0});const t=ir.__importDefault(cb());class n extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return co.default=n,co}var Jg;function Uh(){if(Jg)return oo;Jg=1,Object.defineProperty(oo,"__esModule",{value:!0});const t=ir.__importDefault(ub()),n=new RegExp("[,()]");class a extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${f}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return oo.default=a,oo}var Zg;function db(){if(Zg)return lo;Zg=1,Object.defineProperty(lo,"__esModule",{value:!0});const t=ir.__importDefault(Uh());class n{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},o=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return lo.default=n,lo}var Pg;function D1(){if(Pg)return ro;Pg=1,Object.defineProperty(ro,"__esModule",{value:!0});const e=ir,t=e.__importDefault(db()),n=e.__importDefault(Uh());class a{constructor(i,{headers:r={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:o=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let g;l||o?(h=l?"HEAD":"GET",Object.entries(r).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{m.searchParams.append(E,O)})):(h="POST",g=r);const S=new Headers(this.headers);return u&&S.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:S,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ro.default=a,ro}Object.defineProperty(zt,"__esModule",{value:!0});var fb=zt.PostgrestError=Sb=zt.PostgrestBuilder=_b=zt.PostgrestTransformBuilder=pb=zt.PostgrestFilterBuilder=yb=zt.PostgrestQueryBuilder=mb=zt.PostgrestClient=void 0;const rr=ir,hb=rr.__importDefault(D1());var mb=zt.PostgrestClient=hb.default;const gb=rr.__importDefault(db());var yb=zt.PostgrestQueryBuilder=gb.default;const vb=rr.__importDefault(Uh());var pb=zt.PostgrestFilterBuilder=vb.default;const bb=rr.__importDefault(ub());var _b=zt.PostgrestTransformBuilder=bb.default;const wb=rr.__importDefault(cb());var Sb=zt.PostgrestBuilder=wb.default;const xb=rr.__importDefault(ob());fb=zt.PostgrestError=xb.default;var Eb=zt.default={PostgrestClient:hb.default,PostgrestQueryBuilder:gb.default,PostgrestFilterBuilder:vb.default,PostgrestTransformBuilder:bb.default,PostgrestBuilder:wb.default,PostgrestError:xb.default};const C1=bw({__proto__:null,get PostgrestBuilder(){return Sb},get PostgrestClient(){return mb},get PostgrestError(){return fb},get PostgrestFilterBuilder(){return pb},get PostgrestQueryBuilder(){return yb},get PostgrestTransformBuilder(){return _b},default:Eb},[zt]),{PostgrestClient:R1,PostgrestQueryBuilder:zO,PostgrestFilterBuilder:$O,PostgrestTransformBuilder:BO,PostgrestBuilder:LO,PostgrestError:HO}=Eb||C1;class M1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const k1="2.78.0",U1=`realtime-js/${k1}`,z1="1.0.0",hf=1e4,$1=1e3,B1=100;var Gr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gr||(Gr={}));var ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ut||(ut={}));var Vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vn||(Vn={}));var mf;(function(e){e.websocket="websocket"})(mf||(mf={}));var Os;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Os||(Os={}));class L1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+s));r=r+s;const o=a.decode(t.slice(r,r+i));r=r+i;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class Tb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Wg=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=H1(r,e,t,s),i),{}):{}},H1=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=n[e];return i&&!a.includes(i)?jb(i,r):gf(r)},jb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return I1(t,n)}switch(e){case ze.bool:return q1(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Y1(t);case ze.json:case ze.jsonb:return V1(t);case ze.timestamp:return G1(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return gf(t);default:return gf(t)}},gf=e=>e,q1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},V1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},I1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>jb(t,l))}return e},G1=e=>typeof e=="string"?e.replace(" ","T"):e,Ob=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fu{constructor(t,n,a={},s=hf){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fg||(Fg={}));class Kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,s,i,r),this.pendingDiffs.forEach(o=>{this.state=Kr.syncDiff(this.state,o,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kr.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(i,(u,f)=>{r[u]||(o[u]=f)}),this.map(r,(u,f)=>{const h=i[u];if(h){const m=f.map(O=>O.presence_ref),g=h.map(O=>O.presence_ref),S=f.filter(O=>g.indexOf(O.presence_ref)<0),E=h.filter(O=>m.indexOf(O.presence_ref)<0);S.length>0&&(l[u]=S),E.length>0&&(o[u]=E)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:o},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,o)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),f.length>0){const h=t[l].map(g=>g.presence_ref),m=f.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...m)}a(l,f,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const f=o.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ey;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ey||(ey={}));var Xr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xr||(Xr={}));var ga;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ga||(ga={}));class zh{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new Tb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Kr(this),this.broadcastEndpointURL=Ob(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ga.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ga.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var S;if(this.socket.setAuth(),g===void 0){t==null||t(ga.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,b=[];for(let y=0;y<O;y++){const p=E[y],{filter:{event:x,schema:T,table:N,filter:j}}=p,R=g&&g[y];if(R&&R.event===x&&R.schema===T&&R.table===N&&R.filter===j)b.push(Object.assign(Object.assign({},p),{id:R.id}));else{this.unsubscribe(),this.state=ut.errored,t==null||t(ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ga.SUBSCRIBED);return}}).receive("error",g=>{this.state=ut.errored,t==null||t(ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ut.joined&&t===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Fu(this,Vn.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fu(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>B1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:f}=Vn;if(a&&[l,o,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let m=this._onMessage(r,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var S,E,O;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(E=g.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===r}).map(g=>g.callback(m,a)):(i=this.bindings[r])===null||i===void 0||i.filter(g=>{var S,E,O,b,y,p;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in g){const x=g.id,T=(S=g.filter)===null||S===void 0?void 0:S.event;return x&&((E=n.ids)===null||E===void 0?void 0:E.includes(x))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const x=(y=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===r}).map(g=>{if(typeof m=="object"&&"ids"in m){const S=m.data,{schema:E,table:O,commit_timestamp:b,type:y,errors:p}=S;m=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:b,eventType:y,new:{},old:{},errors:p}),this._getPayloadRecords(S))}g.callback(m,a)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&zh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vn.close,{},t)}_onError(t){this._on(Vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wg(t.columns,t.old_record)),n}}const ed=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K1=[1e3,2e3,5e3,1e4],X1=1e4,Q1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hf,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ed,this.ref=0,this.reconnectTimer=null,this.logger=ed,this.conn=null,this.sendBuffer=[],this.serializer=new L1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>sr(async()=>{const{default:l}=await Promise.resolve().then(()=>Ks);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...r)=>i(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mf.websocket}`,this.httpEndpoint=Ob(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:z1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return Os.Connecting;case Gr.open:return Os.Open;case Gr.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new zh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:r}=n,l=r?`(${r})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Q1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:U1};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Tb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,r,l,o,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:hf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ho.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ed,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:h=>K1[h-1]||X1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class $h extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z1 extends $h{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yf extends $h{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Bh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:a}=await Promise.resolve().then(()=>Ks);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},P1=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sr(()=>Promise.resolve().then(()=>Ks),void 0)).Response:Response}),vf=e=>{if(Array.isArray(e))return e.map(n=>vf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vf(a)}),t},W1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},td=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},F1=(e,t,n)=>Q(void 0,void 0,void 0,function*(){const a=yield P1();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new Z1(td(s),i,r))}).catch(s=>{t(new yf(td(s),s))}):t(new yf(td(e),e))}),eE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(W1(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Dl(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,eE(t,a,s,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>F1(o,l,a))})})}function dl(e,t,n,a){return Q(this,void 0,void 0,function*(){return Dl(e,"GET",t,n,a)})}function qn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Dl(e,"POST",t,a,s,n)})}function pf(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Dl(e,"PUT",t,a,s,n)})}function tE(e,t,n,a){return Q(this,void 0,void 0,function*(){return Dl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Lh(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Dl(e,"DELETE",t,a,s,n)})}class nE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}}var Nb;class aE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Nb]="BlobDownloadBuilder",this.promise=null}asStream(){return new nE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}}Nb=Symbol.toStringTag;const sE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ty={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iE{constructor(t,n={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Bh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,s){return Q(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},ty),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?pf:qn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}upload(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,s){return Q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:ty.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield pf(this.fetch,l.toString(),o,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield qn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new $h("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}update(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}copy(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,a){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),o=()=>dl(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new aE(o,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield dl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}exists(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a)&&a instanceof yf){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}list(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sE),n),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}listV2(t,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ab="2.78.0",Db={"X-Client-Info":`storage-js/${Ab}`};class rE{constructor(t,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Db),n),this.fetch=Bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield dl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}createBucket(t){return Q(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class lE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Db),n),this.fetch=Bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield dl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}}const Hh={"X-Client-Info":`storage-js/${Ab}`,"Content-Type":"application/json"};class Cb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class nd extends Cb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oE extends Cb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var ny;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ny||(ny={}));const qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:a}=await Promise.resolve().then(()=>Ks);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ay=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new nd(ay(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new nd(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new nd(l,s,r))}}else t(new oE(ay(e),e))}),dE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(cE(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function fE(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,dE(t,a,s,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>uE(o,l,a))})})}function cn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return fE(e,"POST",t,a,s,n)})}class hE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),n),this.fetch=qh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}}class mE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),n),this.fetch=qh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class gE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),n),this.fetch=qh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class yE extends gE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new vE(this.url,this.headers,t,this.fetch)}}class vE extends hE{constructor(t,n,a,s){super(t,n,s),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pE extends mE{constructor(t,n,a,s,i){super(t,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bE extends rE{constructor(t,n={},a,s){super(t,n,a,s)}from(t){return new iE(this.url,this.headers,t,this.fetch)}get vectors(){return new yE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lE(this.url+"/iceberg",this.headers,this.fetch)}}const _E="2.78.0";let Ar="";typeof Deno<"u"?Ar="deno":typeof document<"u"?Ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ar="react-native":Ar="node";const wE={"X-Client-Info":`supabase-js-${Ar}/${_E}`},SE={headers:wE},xE={schema:"public"},EE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TE={},jE=e=>{let t;return e?t=e:typeof fetch>"u"?t=rb:t=fetch,(...n)=>t(...n)},OE=()=>typeof Headers>"u"?lb:Headers,NE=(e,t,n)=>{const a=jE(n),s=OE();return async(i,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new s(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Object.assign(Object.assign({},r),{headers:u}))}};function AE(e){return e.endsWith("/")?e:e+"/"}function DE(e,t){var n,a;const{db:s,auth:i,realtime:r,global:l}=e,{db:o,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function CE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rb="2.78.0",di=30*1e3,bf=3,ad=bf*di,RE="http://localhost:9999",ME="supabase.auth.token",kE={"X-Client-Info":`gotrue-js/${Rb}`},_f="X-Supabase-Api-Version",Mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zE=10*60*1e3;class fl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $E extends fl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function BE(e){return J(e)&&e.name==="AuthApiError"}class Ns extends fl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hs extends fl{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class Ln extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LE(e){return J(e)&&e.name==="AuthSessionMissingError"}class ai extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class go extends hs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HE(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class sy extends hs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wf extends hs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sd(e){return J(e)&&e.name==="AuthRetryableFetchError"}class iy extends hs{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Sf extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ry=` 	
\r=`.split(""),qE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ry.length;t+=1)e[ry[t].charCodeAt(0)]=-2;for(let t=0;t<gc.length;t+=1)e[gc[t].charCodeAt(0)]=t;return e})();function ly(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(gc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(gc[a]),t.queuedBits-=6}}function kb(e,t,n){const a=qE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oy(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{IE(r,a,n)};for(let r=0;r<e.length;r+=1)kb(e.charCodeAt(r),s,i);return t.join("")}function YE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}YE(a,t)}}function IE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Mi(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kb(e.charCodeAt(s),n,a);return new Uint8Array(t)}function GE(e){const t=[];return VE(e,n=>t.push(n)),new Uint8Array(t)}function Ds(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>ly(s,n,a)),ly(null,n,a),t.join("")}function KE(e){return Math.round(Date.now()/1e3)+e}function XE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},Ub=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function QE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const zb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:a}=await Promise.resolve().then(()=>Ks);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},JE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ws=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},za=async(e,t)=>{await e.removeItem(t)};class Gc{constructor(){this.promise=new Gc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gc.promiseConstructor=Promise;function id(e){const t=e.split(".");if(t.length!==3)throw new Sf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!UE.test(t[a]))throw new Sf("JWT not in base64url format");return{header:JSON.parse(oy(t[0])),payload:JSON.parse(oy(t[1])),signature:Mi(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PE(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){a(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function WE(e){return("0"+e.toString(16)).substr(-2)}function FE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,WE).join("")}async function eT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function tT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function si(e,t,n=!1){const a=FE();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await fi(e,`${t}-code-verifier`,s);const i=await tT(a);return[i,a===i?"plain":"s256"]}const nT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aT(e){const t=e.headers.get(_f);if(!t||!t.match(nT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(e){if(!rT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lT(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function cy(e){return JSON.parse(JSON.stringify(e))}const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oT=[502,503,504];async function uy(e){var t;if(!JE(e))throw new wf(js(e),0);if(oT.includes(e.status))throw new wf(js(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ns(js(i),i)}let a;const s=aT(e);if(s&&s.getTime()>=Mb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new iy(js(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new iy(js(n),e.status,n.weak_password.reasons);throw new $E(js(n),e.status||500,a)}const cT=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function P(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[_f]||(i[_f]=Mb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const r=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await uT(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function uT(e,t,n,a,s,i){const r=cT(t,a,s,i);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new wf(js(o),0)}if(l.ok||await uy(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await uy(o)}}function Hn(e){var t;let n=null;hT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function dy(e){const t=Hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dT(e){return{data:e,error:null}}function fT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,r=ar(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function fy(e){return e}function hT(e){return e.access_token&&e.refresh_token&&e.expires_in}const ld=["global","local","others"];class mT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=zb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ld[0]){if(ld.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ga})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=ar(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ga})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fy});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);u[`${O}Page`]=E}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ii(t);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ga})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ii(t);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ga})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ii(t);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ga})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ii(t.userId);try{const{data:n,error:a}=await P(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ii(t.userId),ii(t.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fy});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);u[`${O}Page`]=E}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function hy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ri={debug:!!(globalThis&&Ub()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $b extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gT extends $b{}async function yT(e,t,n){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ri.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pT(e){return parseInt(e,16)}function bT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function _T(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Bb(e.address),S=f?`${f}://${a}`:a,E=e.statement?`${e.statement}
`:"",O=`${S} wants you to sign in with your Ethereum account:
${g}

${E}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),o&&(b+=`
Request ID: ${o}`),u){let y=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);y+=`
- ${p}`}b+=y}return`${O}
${b}`}class it extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class yc extends it{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function wT({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Lb(r)){if(i.rp.id!==r)return new it({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ST({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Lb(a)){if(n.rpId!==a)return new it({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ET=new xT;function TT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=ar(e,["challenge","user","excludeCredentials"]),i=Mi(t).buffer,r=Object.assign(Object.assign({},n),{id:Mi(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Mi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function jT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=ar(e,["challenge","allowCredentials"]),s=Mi(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Mi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function OT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ds(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ds(new Uint8Array(s.authenticatorData)),clientDataJSON:Ds(new Uint8Array(s.clientDataJSON)),signature:Ds(new Uint8Array(s.signature)),userHandle:s.userHandle?Ds(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function my(){var e,t;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:wT({error:t,options:e})}}}async function DT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:ST({error:t,options:e})}}}const CT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},RT={userVerification:"preferred",hints:["security-key"]};function vc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))a[i]=r;else if(n(r))a[i]=r;else if(t(r)){const l=a[i];t(l)?a[i]=vc(l,r):a[i]=vc(r)}else a[i]=r}return a}function MT(e,t){return vc(CT,e,t||{})}function kT(e,t){return vc(RT,e,t||{})}class UT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=s??ET.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=MT(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await AT({publicKey:u,signal:o});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=kT(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await DT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Ns("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new fl("rpId is required for WebAuthn authentication")};try{if(!my())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Ns("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new fl("rpId is required for WebAuthn registration")};try{if(!my())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new Ns("Unexpected error in register",r)}}}}vT();const zT={url:RE,storageKey:ME,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gy(e,t,n){return await n()}const li={};class hl{get jwks(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hl.nextInstanceID,hl.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},zT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zb(s.fetch),this.lock=s.lock||gy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yT:this.lock=gy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ub()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=hy(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),kt()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),HE(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new Ns("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hn}),{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:f,password:h,options:m}=t;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await si(this.storage,this.storageKey)),i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:S},xform:Hn})}else if("phone"in t){const{phone:f,password:h,options:m}=t;i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Hn})}else throw new mo("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:r,options:l}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dy})}else if("phone"in t){const{phone:i,password:r,options:l}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dy})}else throw new mo("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ai}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,r,l,o,u,f,h,m;let g,S;if("message"in t)g=t.message,S=t.signature;else{const{chain:E,wallet:O,statement:b,options:y}=t;let p;if(kt())if(typeof O=="object")p=O;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")p=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=O}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Bb(T[0]);let j=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!j){const k=await p.request({method:"eth_chainId"});j=pT(k)}const R={domain:x.host,address:N,statement:b,uri:x.href,version:"1",chainId:j,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=y==null?void 0:y.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=_T(R),S=await p.request({method:"personal_sign",params:[bT(g),N]})}try{const{data:E,error:O}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:S},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Hn});if(O)throw O;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ai}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:O})}catch(E){if(J(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var n,a,s,i,r,l,o,u,f,h,m,g;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:O,wallet:b,statement:y,options:p}=t;let x;if(kt())if(typeof b=="object")x=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))x=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const T=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const N=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),y?{statement:y}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)S=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),E=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${T.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(a=p==null?void 0:p.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((r=p==null?void 0:p.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(f=p==null?void 0:p.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await x.signMessage(new TextEncoder().encode(S),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=N}}try{const{data:O,error:b}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ds(E)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Hn});if(b)throw b;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ai}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:b})}catch(O){if(J(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:r}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Hn});if(await za(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ai}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:r}=t,l=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ai}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,s,i,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await si(this.storage,this.storageKey));const{error:h}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:f}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new mo("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Hn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,a,s;try{let i=null,r=null;return this.flowType==="pkce"&&([i,r]=await si(this.storage,this.storageKey)),await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:dT})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Ln;const{error:s}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:r}=await P(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:r,error:l}=await P(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new mo("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ws(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=rd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=lT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ga}):await this._useSession(async n=>{var a,s,i;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ga})})}catch(n){if(J(n))return LE(n)&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Ln;const r=s.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await si(this.storage,this.storageKey));const{data:u,error:f}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ga});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:r}=id(t.access_token);if(r.exp&&(a=r.exp,s=a<=n),s){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!kt())throw new go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sy("No code detected.");const{data:y,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!i||!l||!r||!u)throw new go("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let m=f+h;o&&(m=parseInt(o));const g=m-f;g*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const S=m-h;f-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,m,f):f-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,m,f);const{data:E,error:O}=await this._getUser(i);if(O)throw O;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:r,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(J(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const r=(a=s.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(BE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=XE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await si(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var r,l,o,u,f;const{data:h,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(J(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:r,provider:l,token:o,access_token:u,nonce:f}=t,h=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hn}),{data:m,error:g}=h;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ai}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)throw r;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await PE(async s=>(s>0&&await ZE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(s,i)=>{const r=200*Math.pow(2,s);return i&&sd(i)&&Date.now()+r-a<di})}catch(a){if(this._debug(n,"error",a),J(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),kt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await ws(this.storage,this.storageKey);if(s&&this.userStorage){let r=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await fi(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:rd()}else if(s&&!s.user&&!s.user){const r=await ws(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await za(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,s)):s.user=rd()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ad;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${ad}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),sd(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gc;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const r={data:null,error:i};return sd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await fi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=cy(s);await fi(this.storage,this.storageKey,i)}else{const s=cy(n);await fi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await za(this.storage,this.storageKey),await za(this.storage,this.storageKey+"-code-verifier"),await za(this.storage,this.storageKey+"-user"),this.userStorage&&await za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${di}ms, refresh threshold is ${bf} ticks`),s<=bf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $b)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,r]=await si(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await P(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OT(t.webauthn.credential_response):NT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=id(a.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Ln}})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+zE>s)return a;const{data:i,error:r}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:g,error:S}=await this.getSession();if(S||!g.session)return{data:null,error:S};a=g.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:o}}=id(a);n!=null&&n.allowExpired||sT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(a);if(g)throw g;return{data:{claims:i,header:s,signature:r},error:null}}const f=iT(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,r,GE(`${l}.${o}`)))throw new Sf("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}}hl.nextInstanceID=0;const $T=hl;class BT extends $T{constructor(t){super(t)}}class LT{constructor(t,n,a){var s,i,r;this.supabaseUrl=t,this.supabaseKey=n;const l=CE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:xE,realtime:TE,auth:Object.assign(Object.assign({},EE),{storageKey:o}),global:SE},f=DE(a??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=NE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new R1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new bE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new E1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:r,flowType:l,lock:o,debug:u},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:o,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new J1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HT=(e,t,n)=>new LT(e,t,n);function qT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YT="https://vqpubtahhvtkftafdlrp.supabase.co",VT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",q=HT(YT,VT);function IT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const Kc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Yh(e){return"nodeType"in e}function Lt(e){var t,n;return e?lr(e)?e:Yh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Vh(e){const{Document:t}=Lt(e);return e instanceof t}function Cl(e){return lr(e)?!1:e instanceof Lt(e).HTMLElement}function Hb(e){return e instanceof Lt(e).SVGElement}function or(e){return e?lr(e)?e.document:Yh(e)?Vh(e)?e:Cl(e)||Hb(e)?e.ownerDocument:document:document:document}const In=Kc?_.useLayoutEffect:_.useEffect;function Xc(e){const t=_.useRef(e);return In(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function GT(){const e=_.useRef(null),t=_.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ml(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return In(()=>{n.current!==e&&(n.current=e)},t),n}function Rl(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function pc(e){const t=Xc(e),n=_.useRef(null),a=_.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function bc(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let od={};function Ml(e,t){return _.useMemo(()=>{if(t)return t;const n=od[e]==null?0:od[e]+1;return od[e]=n,e+"-"+n},[e,t])}function qb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,r)=>{const l=Object.entries(r);for(const[o,u]of l){const f=i[o];f!=null&&(i[o]=f+e*u)}return i},{...t})}}const ki=qb(1),gl=qb(-1);function KT(e){return"clientX"in e&&"clientY"in e}function Qc(e){if(!e)return!1;const{KeyboardEvent:t}=Lt(e.target);return t&&e instanceof t}function XT(e){if(!e)return!1;const{TouchEvent:t}=Lt(e.target);return t&&e instanceof t}function _c(e){if(XT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return KT(e)?{x:e.clientX,y:e.clientY}:null}const us=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[us.Translate.toString(e),us.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),yy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QT(e){return e.matches(yy)?e:e.querySelector(yy)}const JT={display:"none"};function ZT(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:JT},n)}function PT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function WT(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Yb=_.createContext(null);function FT(e){const t=_.useContext(Yb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ej(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:s,event:i}=a;e.forEach(r=>{var l;return(l=r[s])==null?void 0:l.call(r,i)})},[e]),t]}const tj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function aj(e){let{announcements:t=nj,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=tj}=e;const{announce:i,announcement:r}=WT(),l=Ml("DndLiveRegion"),[o,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),FT(_.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;t.onDragMove&&i(t.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;i(t.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;i(t.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;i(t.onDragCancel({active:m,over:g}))}}),[i,t])),!o)return null;const f=$e.createElement($e.Fragment,null,$e.createElement(ZT,{id:a,value:s.draggable}),$e.createElement(PT,{id:l,announcement:r}));return n?hi.createPortal(f,n):f}var dt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(dt||(dt={}));function wc(){}function La(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Gn=Object.freeze({x:0,y:0});function Vb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sj(e,t){const n=_c(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Ib(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function ij(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function vy(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function Gb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function py(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Ef=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=py(t,t.left,t.top),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Vb(py(o),s);i.push({id:l,data:{droppableContainer:r,value:u}})}}return i.sort(Ib)},rj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=vy(t),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=vy(o),f=s.reduce((m,g,S)=>m+Vb(u[S],g),0),h=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:r,value:h}})}}return i.sort(Ib)};function lj(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),r=s-a,l=i-n;if(a<s&&n<i){const o=t.width*t.height,u=e.width*e.height,f=r*l,h=f/(o+u-f);return Number(h.toFixed(4))}return 0}const oj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const i of a){const{id:r}=i,l=n.get(r);if(l){const o=lj(l,t);o>0&&s.push({id:r,data:{droppableContainer:i,value:o}})}}return s.sort(ij)};function cj(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Kb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gn}function uj(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const dj=uj(1);function Xb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function fj(e,t,n){const a=Xb(t);if(!a)return e;const{scaleX:s,scaleY:i,x:r,y:l}=a,o=e.left-r-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:u,right:o+f,bottom:u+h,left:o}}const hj={ignoreTransform:!1};function cr(e,t){t===void 0&&(t=hj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=Lt(e).getComputedStyle(e);u&&(n=fj(n,u,f))}const{top:a,left:s,width:i,height:r,bottom:l,right:o}=n;return{top:a,left:s,width:i,height:r,bottom:l,right:o}}function by(e){return cr(e,{ignoreTransform:!0})}function mj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function gj(e,t){return t===void 0&&(t=Lt(e).getComputedStyle(e)),t.position==="fixed"}function yj(e,t){t===void 0&&(t=Lt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Jc(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(Vh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Cl(s)||Hb(s)||n.includes(s))return n;const i=Lt(e).getComputedStyle(s);return s!==e&&yj(s,i)&&n.push(s),gj(s,i)?n:a(s.parentNode)}return e?a(e):n}function Qb(e){const[t]=Jc(e,1);return t??null}function cd(e){return!Kc||!e?null:lr(e)?e:Yh(e)?Vh(e)||e===or(e).scrollingElement?window:Cl(e)?e:null:null}function Jb(e){return lr(e)?e.scrollX:e.scrollLeft}function Zb(e){return lr(e)?e.scrollY:e.scrollTop}function Tf(e){return{x:Jb(e),y:Zb(e)}}var _t;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(_t||(_t={}));function Pb(e){return!Kc||!e?!1:e===document.scrollingElement}function Wb(e){const t={x:0,y:0},n=Pb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:i,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const vj={x:.2,y:.2};function pj(e,t,n,a,s){let{top:i,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),s===void 0&&(s=vj);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=Wb(e),g={x:0,y:0},S={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+E.height?(g.y=_t.Backward,S.y=a*Math.abs((t.top+E.height-i)/E.height)):!f&&o>=t.bottom-E.height&&(g.y=_t.Forward,S.y=a*Math.abs((t.bottom-E.height-o)/E.height)),!m&&l>=t.right-E.width?(g.x=_t.Forward,S.x=a*Math.abs((t.right-E.width-l)/E.width)):!h&&r<=t.left+E.width&&(g.x=_t.Backward,S.x=a*Math.abs((t.left+E.width-r)/E.width)),{direction:g,speed:S}}function bj(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:r}=window;return{top:0,left:0,right:i,bottom:r,width:i,height:r}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Fb(e){return e.reduce((t,n)=>ki(t,Tf(n)),Gn)}function _j(e){return e.reduce((t,n)=>t+Jb(n),0)}function wj(e){return e.reduce((t,n)=>t+Zb(n),0)}function e_(e,t){if(t===void 0&&(t=cr),!e)return;const{top:n,left:a,bottom:s,right:i}=t(e);Qb(e)&&(s<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Sj=[["x",["left","right"],_j],["y",["top","bottom"],wj]];class Ih{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Jc(n),s=Fb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,r,l]of Sj)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),f=s[i]-u;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function xj(e){const{EventTarget:t}=Lt(e);return e instanceof t?e:or(e)}function ud(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function _y(e){e.preventDefault()}function Ej(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const t_={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},Tj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}};class yl{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Qr(or(n)),this.windowListeners=new Qr(Lt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&e_(a),n(Gn)}handleKeyDown(t){if(Qc(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:i=t_,coordinateGetter:r=Tj,scrollBehavior:l="smooth"}=s,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:Gn;this.referenceCoordinates||(this.referenceCoordinates=f);const h=r(t,{active:n,context:a.current,currentCoordinates:f});if(h){const m=gl(h,f),g={x:0,y:0},{scrollableAncestors:S}=a.current;for(const E of S){const O=t.code,{isTop:b,isRight:y,isLeft:p,isBottom:x,maxScroll:T,minScroll:N}=Wb(E),j=bj(E),R={x:Math.min(O===ge.Right?j.right-j.width/2:j.right,Math.max(O===ge.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(O===ge.Down?j.bottom-j.height/2:j.bottom,Math.max(O===ge.Down?j.top:j.top+j.height/2,h.y))},k=O===ge.Right&&!y||O===ge.Left&&!p,L=O===ge.Down&&!x||O===ge.Up&&!b;if(k&&R.x!==h.x){const X=E.scrollLeft+m.x,F=O===ge.Right&&X<=T.x||O===ge.Left&&X>=N.x;if(F&&!m.y){E.scrollTo({left:X,behavior:l});return}F?g.x=E.scrollLeft-X:g.x=O===ge.Right?E.scrollLeft-T.x:E.scrollLeft-N.x,g.x&&E.scrollBy({left:-g.x,behavior:l});break}else if(L&&R.y!==h.y){const X=E.scrollTop+m.y,F=O===ge.Down&&X<=T.y||O===ge.Up&&X>=N.y;if(F&&!m.x){E.scrollTo({top:X,behavior:l});return}F?g.y=E.scrollTop-X:g.y=O===ge.Down?E.scrollTop-T.y:E.scrollTop-N.y,g.y&&E.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,ki(gl(h,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=t_,onActivation:s}=t,{active:i}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function wy(e){return!!(e&&"distance"in e)}function Sy(e){return!!(e&&"delay"in e)}class Gh{constructor(t,n,a){var s;a===void 0&&(a=xj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:r}=i;this.props=t,this.events=n,this.document=or(r),this.documentListeners=new Qr(this.document),this.listeners=new Qr(a),this.windowListeners=new Qr(Lt(r)),this.initialCoordinates=(s=_c(i))!=null?s:Gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,_y),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,_y),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(wy(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,Ej,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:i}=this,{onMove:r,options:{activationConstraint:l}}=i;if(!s)return;const o=(n=_c(t))!=null?n:Gn,u=gl(s,o);if(!a&&l){if(wy(l)){if(l.tolerance!=null&&ud(u,l.tolerance))return this.handleCancel();if(ud(u,l.distance))return this.handleStart()}if(Sy(l)&&ud(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const jj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vl extends Gh{constructor(t){const{event:n}=t,a=or(n.target);super(t,jj,a)}}vl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const Oj={move:{name:"mousemove"},end:{name:"mouseup"}};var jf;(function(e){e[e.RightClick=2]="RightClick"})(jf||(jf={}));class Nj extends Gh{constructor(t){super(t,Oj,or(t.event.target))}}Nj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===jf.RightClick?!1:(a==null||a({event:n}),!0)}}];const dd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Of extends Gh{constructor(t){super(t,dd)}static setup(){return window.addEventListener(dd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(dd.move.name,t)};function t(){}}}Of.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Jr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Jr||(Jr={}));var Sc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Sc||(Sc={}));function Aj(e){let{acceleration:t,activator:n=Jr.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:r=5,order:l=Sc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=e;const g=Cj({delta:h,disabled:!i}),[S,E]=GT(),O=_.useRef({x:0,y:0}),b=_.useRef({x:0,y:0}),y=_.useMemo(()=>{switch(n){case Jr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Jr.DraggableRect:return s}},[n,s,o]),p=_.useRef(null),x=_.useCallback(()=>{const N=p.current;if(!N)return;const j=O.current.x*b.current.x,R=O.current.y*b.current.y;N.scrollBy(j,R)},[]),T=_.useMemo(()=>l===Sc.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!i||!u.length||!y){E();return}for(const N of T){if((a==null?void 0:a(N))===!1)continue;const j=u.indexOf(N),R=f[j];if(!R)continue;const{direction:k,speed:L}=pj(N,R,y,t,m);for(const X of["x","y"])g[X][k[X]]||(L[X]=0,k[X]=0);if(L.x>0||L.y>0){E(),p.current=N,S(x,r),O.current=L,b.current=k;return}}O.current={x:0,y:0},b.current={x:0,y:0},E()},[t,x,a,E,i,r,JSON.stringify(y),JSON.stringify(g),S,u,T,f,JSON.stringify(m)])}const Dj={x:{[_t.Backward]:!1,[_t.Forward]:!1},y:{[_t.Backward]:!1,[_t.Forward]:!1}};function Cj(e){let{delta:t,disabled:n}=e;const a=bc(t);return Rl(s=>{if(n||!a||!s)return Dj;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[_t.Backward]:s.x[_t.Backward]||i.x===-1,[_t.Forward]:s.x[_t.Forward]||i.x===1},y:{[_t.Backward]:s.y[_t.Backward]||i.y===-1,[_t.Forward]:s.y[_t.Forward]||i.y===1}}},[n,t,a])}function Rj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Rl(s=>{var i;return t==null?null:(i=a??s)!=null?i:null},[a,t])}function Mj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,i=s.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...i]},[]),[e,t])}var Qi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Qi||(Qi={}));var Nf;(function(e){e.Optimized="optimized"})(Nf||(Nf={}));const xy=new Map;function kj(e,t){let{dragging:n,dependencies:a,config:s}=t;const[i,r]=_.useState(null),{frequency:l,measure:o,strategy:u}=s,f=_.useRef(e),h=O(),m=ml(h),g=_.useCallback(function(b){b===void 0&&(b=[]),!m.current&&r(y=>y===null?b:y.concat(b.filter(p=>!y.includes(p))))},[m]),S=_.useRef(null),E=Rl(b=>{if(h&&!n)return xy;if(!b||b===xy||f.current!==e||i!=null){const y=new Map;for(let p of e){if(!p)continue;if(i&&i.length>0&&!i.includes(p.id)&&p.rect.current){y.set(p.id,p.rect.current);continue}const x=p.node.current,T=x?new Ih(o(x),x):null;p.rect.current=T,T&&y.set(p.id,T)}return y}return b},[e,i,n,h,o]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{h||g()},[n,h]),_.useEffect(()=>{i&&i.length>0&&r(null)},[JSON.stringify(i)]),_.useEffect(()=>{h||typeof l!="number"||S.current!==null||(S.current=setTimeout(()=>{g(),S.current=null},l))},[l,h,g,...a]),{droppableRects:E,measureDroppableContainers:g,measuringScheduled:i!=null};function O(){switch(u){case Qi.Always:return!1;case Qi.BeforeDragging:return n;default:return!n}}}function Kh(e,t){return Rl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Uj(e,t){return Kh(e,t)}function zj(e){let{callback:t,disabled:n}=e;const a=Xc(t),s=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return _.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Zc(e){let{callback:t,disabled:n}=e;const a=Xc(t),s=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return _.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function $j(e){return new Ih(cr(e),e)}function Ey(e,t,n){t===void 0&&(t=$j);const[a,s]=_.useState(null);function i(){s(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const r=zj({callback(o){if(e)for(const u of o){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=Zc({callback:i});return In(()=>{i(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Bj(e){const t=Kh(e);return Kb(e,t)}const Ty=[];function Lj(e){const t=_.useRef(e),n=Rl(a=>e?a&&a!==Ty&&e&&t.current&&e.parentNode===t.current.parentNode?a:Jc(e):Ty,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function Hj(e){const[t,n]=_.useState(null),a=_.useRef(e),s=_.useCallback(i=>{const r=cd(i.target);r&&n(l=>l?(l.set(r,Tf(r)),new Map(l)):null)},[]);return _.useEffect(()=>{const i=a.current;if(e!==i){r(i);const l=e.map(o=>{const u=cd(o);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Tf(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(i)};function r(l){l.forEach(o=>{const u=cd(o);u==null||u.removeEventListener("scroll",s)})}},[s,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,r)=>ki(i,r),Gn):Fb(e):Gn,[e,t])}function jy(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==Gn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?gl(e,n.current):Gn}function qj(e){_.useEffect(()=>{if(!Kc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Yj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:i}=a;return n[s]=r=>{i(r,t)},n},{}),[e,t])}function n_(e){return _.useMemo(()=>e?mj(e):null,[e])}const Oy=[];function Vj(e,t){t===void 0&&(t=cr);const[n]=e,a=n_(n?Lt(n):null),[s,i]=_.useState(Oy);function r(){i(()=>e.length?e.map(o=>Pb(o)?a:new Ih(t(o),o)):Oy)}const l=Zc({callback:r});return In(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),s}function a_(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Cl(t)?t:e}function Ij(e){let{measure:t}=e;const[n,a]=_.useState(null),s=_.useCallback(u=>{for(const{target:f}of u)if(Cl(f)){a(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=Zc({callback:s}),r=_.useCallback(u=>{const f=a_(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),a(f?t(f):null)},[t,i]),[l,o]=pc(r);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const Gj=[{sensor:vl,options:{}},{sensor:yl,options:{}}],Kj={current:{}},Uo={draggable:{measure:by},droppable:{measure:by,strategy:Qi.WhileDragging,frequency:Nf.Optimized},dragOverlay:{measure:cr}};class Zr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const Xj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uo,measureDroppableContainers:wc,windowRect:null,measuringScheduled:!1},s_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wc,draggableNodes:new Map,over:null,measureDroppableContainers:wc},kl=_.createContext(s_),i_=_.createContext(Xj);function Qj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zr}}}function Jj(e,t){switch(t.type){case dt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case dt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case dt.DragEnd:case dt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case dt.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Zr(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case dt.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Zr(e.droppable.containers);return r.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:r}}}case dt.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const i=new Zr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Zj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=_.useContext(kl),i=bc(a),r=bc(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&i&&r!=null){if(!Qc(i)||document.activeElement===i.target)return;const l=s.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[o.current,u.current]){if(!f)continue;const h=QT(f);if(h){h.focus();break}}})}},[a,t,s,r,i]),null}function r_(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...a}),n):n}function Pj(e){return _.useMemo(()=>({draggable:{...Uo.draggable,...e==null?void 0:e.draggable},droppable:{...Uo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Wj(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const i=_.useRef(!1),{x:r,y:l}=typeof s=="boolean"?{x:s,y:s}:s;In(()=>{if(!r&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=Kb(f,a);if(r||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Qb(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,r,l,a,n])}const Pc=_.createContext({...Gn,scaleX:1,scaleY:1});var Ha;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ha||(Ha={}));const Af=_.memo(function(t){var n,a,s,i;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:f=Gj,collisionDetection:h=oj,measuring:m,modifiers:g,...S}=t;const E=_.useReducer(Jj,void 0,Qj),[O,b]=E,[y,p]=ej(),[x,T]=_.useState(Ha.Uninitialized),N=x===Ha.Initialized,{draggable:{active:j,nodes:R,translate:k},droppable:{containers:L}}=O,X=j!=null?R.get(j):null,F=_.useRef({initial:null,translated:null}),fe=_.useMemo(()=>{var Je;return j!=null?{id:j,data:(Je=X==null?void 0:X.data)!=null?Je:Kj,rect:F}:null},[j,X]),re=_.useRef(null),[Le,H]=_.useState(null),[V,K]=_.useState(null),le=ml(S,Object.values(S)),ee=Ml("DndDescribedBy",r),Se=_.useMemo(()=>L.getEnabled(),[L]),ve=Pj(m),{droppableRects:je,measureDroppableContainers:Ce,measuringScheduled:Re}=kj(Se,{dragging:N,dependencies:[k.x,k.y],config:ve.droppable}),_e=Rj(R,j),vn=_.useMemo(()=>V?_c(V):null,[V]),mt=ca(),Rt=Uj(_e,ve.draggable.measure);Wj({activeNode:j!=null?R.get(j):null,config:mt.layoutShiftCompensation,initialRect:Rt,measure:ve.draggable.measure});const pe=Ey(_e,ve.draggable.measure,Rt),gt=Ey(_e?_e.parentElement:null),yt=_.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:je,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pn=L.getNodeFor((n=yt.current.over)==null?void 0:n.id),Ft=Ij({measure:ve.dragOverlay.measure}),Ht=(a=Ft.nodeRef.current)!=null?a:_e,Qe=N?(s=Ft.rect)!=null?s:pe:null,at=!!(Ft.nodeRef.current&&Ft.rect),bn=Bj(at?null:pe),kn=n_(Ht?Lt(Ht):null),vt=Lj(N?pn??_e:null),pt=Vj(vt),Mt=r_(g,{transform:{x:k.x-bn.x,y:k.y-bn.y,scaleX:1,scaleY:1},activatorEvent:V,active:fe,activeNodeRect:pe,containerNodeRect:gt,draggingNodeRect:Qe,over:yt.current.over,overlayNodeRect:Ft.rect,scrollableAncestors:vt,scrollableAncestorRects:pt,windowRect:kn}),_n=vn?ki(vn,k):null,en=Hj(vt),Da=jy(en),ms=jy(en,[pe]),wn=ki(Mt,Da),tn=Qe?dj(Qe,Mt):null,xt=fe&&tn?h({active:fe,collisionRect:tn,droppableRects:je,droppableContainers:Se,pointerCoordinates:_n}):null,Xs=Gb(xt,"id"),[st,gs]=_.useState(null),Me=at?Mt:ki(Mt,ms),qt=cj(Me,(i=st==null?void 0:st.rect)!=null?i:null,pe),ra=_.useRef(null),la=_.useCallback((Je,Fe)=>{let{sensor:Dt,options:zn}=Fe;if(re.current==null)return;const Ze=R.get(re.current);if(!Ze)return;const et=Je.nativeEvent,Yt=new Dt({active:re.current,activeNode:Ze,event:et,options:zn,context:yt,onAbort(Ke){if(!R.get(Ke))return;const{onDragAbort:It}=le.current,Et={id:Ke};It==null||It(Et),y({type:"onDragAbort",event:Et})},onPending(Ke,nn,It,Et){if(!R.get(Ke))return;const{onDragPending:Qn}=le.current,Ct={id:Ke,constraint:nn,initialCoordinates:It,offset:Et};Qn==null||Qn(Ct),y({type:"onDragPending",event:Ct})},onStart(Ke){const nn=re.current;if(nn==null)return;const It=R.get(nn);if(!It)return;const{onDragStart:Et}=le.current,Xn={activatorEvent:et,active:{id:nn,data:It.data,rect:F}};hi.unstable_batchedUpdates(()=>{Et==null||Et(Xn),T(Ha.Initializing),b({type:dt.DragStart,initialCoordinates:Ke,active:nn}),y({type:"onDragStart",event:Xn}),H(ra.current),K(et)})},onMove(Ke){b({type:dt.DragMove,coordinates:Ke})},onEnd:Vt(dt.DragEnd),onCancel:Vt(dt.DragCancel)});ra.current=Yt;function Vt(Ke){return async function(){const{active:It,collisions:Et,over:Xn,scrollAdjustedTranslate:Qn}=yt.current;let Ct=null;if(It&&Qn){const{cancelDrop:Jn}=le.current;Ct={activatorEvent:et,active:It,collisions:Et,delta:Qn,over:Xn},Ke===dt.DragEnd&&typeof Jn=="function"&&await Promise.resolve(Jn(Ct))&&(Ke=dt.DragCancel)}re.current=null,hi.unstable_batchedUpdates(()=>{b({type:Ke}),T(Ha.Uninitialized),gs(null),H(null),K(null),ra.current=null;const Jn=Ke===dt.DragEnd?"onDragEnd":"onDragCancel";if(Ct){const $n=le.current[Jn];$n==null||$n(Ct),y({type:Jn,event:Ct})}})}}},[R]),Un=_.useCallback((Je,Fe)=>(Dt,zn)=>{const Ze=Dt.nativeEvent,et=R.get(zn);if(re.current!==null||!et||Ze.dndKit||Ze.defaultPrevented)return;const Yt={active:et};Je(Dt,Fe.options,Yt)===!0&&(Ze.dndKit={capturedBy:Fe.sensor},re.current=zn,la(Dt,Fe))},[R,la]),oa=Mj(f,Un);qj(f),In(()=>{pe&&x===Ha.Initializing&&T(Ha.Initialized)},[pe,x]),_.useEffect(()=>{const{onDragMove:Je}=le.current,{active:Fe,activatorEvent:Dt,collisions:zn,over:Ze}=yt.current;if(!Fe||!Dt)return;const et={active:Fe,activatorEvent:Dt,collisions:zn,delta:{x:wn.x,y:wn.y},over:Ze};hi.unstable_batchedUpdates(()=>{Je==null||Je(et),y({type:"onDragMove",event:et})})},[wn.x,wn.y]),_.useEffect(()=>{const{active:Je,activatorEvent:Fe,collisions:Dt,droppableContainers:zn,scrollAdjustedTranslate:Ze}=yt.current;if(!Je||re.current==null||!Fe||!Ze)return;const{onDragOver:et}=le.current,Yt=zn.get(Xs),Vt=Yt&&Yt.rect.current?{id:Yt.id,rect:Yt.rect.current,data:Yt.data,disabled:Yt.disabled}:null,Ke={active:Je,activatorEvent:Fe,collisions:Dt,delta:{x:Ze.x,y:Ze.y},over:Vt};hi.unstable_batchedUpdates(()=>{gs(Vt),et==null||et(Ke),y({type:"onDragOver",event:Ke})})},[Xs]),In(()=>{yt.current={activatorEvent:V,active:fe,activeNode:_e,collisionRect:tn,collisions:xt,droppableRects:je,draggableNodes:R,draggingNode:Ht,draggingNodeRect:Qe,droppableContainers:L,over:st,scrollableAncestors:vt,scrollAdjustedTranslate:wn},F.current={initial:Qe,translated:tn}},[fe,_e,xt,tn,R,Ht,Qe,je,L,st,vt,wn]),Aj({...mt,delta:k,draggingRect:tn,pointerCoordinates:_n,scrollableAncestors:vt,scrollableAncestorRects:pt});const ys=_.useMemo(()=>({active:fe,activeNode:_e,activeNodeRect:pe,activatorEvent:V,collisions:xt,containerNodeRect:gt,dragOverlay:Ft,draggableNodes:R,droppableContainers:L,droppableRects:je,over:st,measureDroppableContainers:Ce,scrollableAncestors:vt,scrollableAncestorRects:pt,measuringConfiguration:ve,measuringScheduled:Re,windowRect:kn}),[fe,_e,pe,V,xt,gt,Ft,R,L,je,st,Ce,vt,pt,ve,Re,kn]),Sn=_.useMemo(()=>({activatorEvent:V,activators:oa,active:fe,activeNodeRect:pe,ariaDescribedById:{draggable:ee},dispatch:b,draggableNodes:R,over:st,measureDroppableContainers:Ce}),[V,oa,fe,pe,b,ee,R,st,Ce]);return $e.createElement(Yb.Provider,{value:p},$e.createElement(kl.Provider,{value:Sn},$e.createElement(i_.Provider,{value:ys},$e.createElement(Pc.Provider,{value:qt},u)),$e.createElement(Zj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),$e.createElement(aj,{...l,hiddenTextDescribedById:ee}));function ca(){const Je=(Le==null?void 0:Le.autoScrollEnabled)===!1,Fe=typeof o=="object"?o.enabled===!1:o===!1,Dt=N&&!Je&&!Fe;return typeof o=="object"?{...o,enabled:Dt}:{enabled:Dt}}}),Fj=_.createContext(null),Ny="button",eO="Draggable";function tO(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const i=Ml(eO),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=_.useContext(kl),{role:g=Ny,roleDescription:S="draggable",tabIndex:E=0}=s??{},O=(o==null?void 0:o.id)===t,b=_.useContext(O?Pc:Fj),[y,p]=pc(),[x,T]=pc(),N=Yj(r,t),j=ml(n);In(()=>(h.set(t,{id:t,key:i,node:y,activatorNode:x,data:j}),()=>{const k=h.get(t);k&&k.key===i&&h.delete(t)}),[h,t]);const R=_.useMemo(()=>({role:g,tabIndex:E,"aria-disabled":a,"aria-pressed":O&&g===Ny?!0:void 0,"aria-roledescription":S,"aria-describedby":f.draggable}),[a,g,E,O,S,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:R,isDragging:O,listeners:a?void 0:N,node:y,over:m,setNodeRef:p,setActivatorNodeRef:T,transform:b}}function l_(){return _.useContext(i_)}const nO="Droppable",aO={timeout:25};function sO(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const i=Ml(nO),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=_.useContext(kl),f=_.useRef({disabled:n}),h=_.useRef(!1),m=_.useRef(null),g=_.useRef(null),{disabled:S,updateMeasurementsFor:E,timeout:O}={...aO,...s},b=ml(E??a),y=_.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),g.current=null},O)},[O]),p=Zc({callback:y,disabled:S||!r}),x=_.useCallback((R,k)=>{p&&(k&&(p.unobserve(k),h.current=!1),R&&p.observe(R))},[p]),[T,N]=pc(x),j=ml(t);return _.useEffect(()=>{!p||!T.current||(p.disconnect(),h.current=!1,p.observe(T.current))},[T,p]),_.useEffect(()=>(l({type:dt.RegisterDroppable,element:{id:a,key:i,disabled:n,node:T,rect:m,data:j}}),()=>l({type:dt.UnregisterDroppable,key:i,id:a})),[a]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:dt.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,l]),{active:r,rect:m,isOver:(o==null?void 0:o.id)===a,node:T,over:o,setNodeRef:N}}function iO(e){let{animation:t,children:n}=e;const[a,s]=_.useState(null),[i,r]=_.useState(null),l=bc(n);return!n&&!a&&l&&s(l),In(()=>{if(!i)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,a,i]),$e.createElement($e.Fragment,null,n,a?_.cloneElement(a,{ref:r}):null)}const rO={x:0,y:0,scaleX:1,scaleY:1};function lO(e){let{children:t}=e;return $e.createElement(kl.Provider,{value:s_},$e.createElement(Pc.Provider,{value:rO},t))}const oO={position:"fixed",touchAction:"none"},cO=e=>Qc(e)?"transform 250ms ease":void 0,uO=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:i,className:r,rect:l,style:o,transform:u,transition:f=cO}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...oO,width:l.width,height:l.height,top:l.top,left:l.left,transform:us.Transform.toString(h),transformOrigin:s&&a?sj(a,l):void 0,transition:typeof f=="function"?f(a):f,...o};return $e.createElement(n,{className:r,style:m,ref:t},i)}),dO=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:i,className:r}=e;if(i!=null&&i.active)for(const[l,o]of Object.entries(i.active))o!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(i!=null&&i.dragOverlay)for(const[l,o]of Object.entries(i.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,u]of Object.entries(s))n.node.style.setProperty(o,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},fO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:us.Transform.toString(t)},{transform:us.Transform.toString(n)}]},hO={duration:250,easing:"ease",keyframes:fO,sideEffects:dO({styles:{active:{opacity:"0"}}})};function mO(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return Xc((i,r)=>{if(t===null)return;const l=n.get(i);if(!l)return;const o=l.node.current;if(!o)return;const u=a_(r);if(!u)return;const{transform:f}=Lt(r).getComputedStyle(r),h=Xb(f);if(!h)return;const m=typeof t=="function"?t:gO(t);return e_(o,s.draggable.measure),m({active:{id:i,data:l.data,node:o,rect:s.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:s.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:s,transform:h})})}function gO(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...hO,...e};return i=>{let{active:r,dragOverlay:l,transform:o,...u}=i;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},h={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},m={x:o.x-f.x,y:o.y-f.y,...h},g=s({...u,active:r,dragOverlay:l,transform:{initial:o,final:m}}),[S]=g,E=g[g.length-1];if(JSON.stringify(S)===JSON.stringify(E))return;const O=a==null?void 0:a({active:r,dragOverlay:l,...u}),b=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{b.onfinish=()=>{O==null||O(),y()}})}}let Ay=0;function yO(e){return _.useMemo(()=>{if(e!=null)return Ay++,Ay},[e])}const vO=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:i,modifiers:r,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggableNodes:S,droppableContainers:E,dragOverlay:O,over:b,measuringConfiguration:y,scrollableAncestors:p,scrollableAncestorRects:x,windowRect:T}=l_(),N=_.useContext(Pc),j=yO(h==null?void 0:h.id),R=r_(r,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:O.rect,over:b,overlayNodeRect:O.rect,scrollableAncestors:p,scrollableAncestorRects:x,transform:N,windowRect:T}),k=Kh(m),L=mO({config:a,draggableNodes:S,droppableContainers:E,measuringConfiguration:y}),X=k?O.setRef:void 0;return $e.createElement(lO,null,$e.createElement(iO,{animation:L},h&&j?$e.createElement(uO,{key:j,id:h.id,ref:X,as:l,activatorEvent:f,adjustScale:t,className:o,transition:i,rect:k,style:{zIndex:u,...s},transform:R},n):null))});function xc(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function pO(e,t){return e.reduce((n,a,s)=>{const i=t.get(a);return i&&(n[s]=i),n},Array(e.length))}function yo(e){return e!==null&&e>=0}function bO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _O(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const vo={scaleX:1,scaleY:1},wO=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:s,overIndex:i,index:r}=e;const l=(t=n[s])!=null?t:a;if(!l)return null;const o=SO(n,r,s);if(r===s){const u=n[i];return u?{x:s<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...vo}:null}return r>s&&r<=i?{x:-l.width-o,y:0,...vo}:r<s&&r>=i?{x:l.width+o,y:0,...vo}:{x:0,y:0,...vo}};function SO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return!a||!s&&!i?0:n<t?s?a.left-(s.left+s.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(s.left+s.width)}const o_=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const i=xc(t,a,n),r=t[s],l=i[s];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},po={scaleX:1,scaleY:1},zo=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:i,overIndex:r}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(s===n){const u=i[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...po}:null}const o=xO(i,s,n);return s>n&&s<=r?{x:0,y:-l.height-o,...po}:s<n&&s>=r?{x:0,y:l.height+o,...po}:{x:0,y:0,...po}};function xO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return a?n<t?s?a.top-(s.top+s.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const c_="Sortable",u_=$e.createContext({activeIndex:-1,containerId:c_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:o_,disabled:{draggable:!1,droppable:!1}});function Dr(e){let{children:t,id:n,items:a,strategy:s=o_,disabled:i=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:f}=l_(),h=Ml(c_,n),m=l.rect!==null,g=_.useMemo(()=>a.map(N=>typeof N=="object"&&"id"in N?N.id:N),[a]),S=r!=null,E=r?g.indexOf(r.id):-1,O=u?g.indexOf(u.id):-1,b=_.useRef(g),y=!bO(g,b.current),p=O!==-1&&E===-1||y,x=_O(i);In(()=>{y&&S&&f(g)},[y,g,S,f]),_.useEffect(()=>{b.current=g},[g]);const T=_.useMemo(()=>({activeIndex:E,containerId:h,disabled:x,disableTransforms:p,items:g,overIndex:O,useDragOverlay:m,sortedRects:pO(g,o),strategy:s}),[E,h,x.draggable,x.droppable,p,g,O,o,m,s]);return $e.createElement(u_.Provider,{value:T},t)}const EO=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return xc(n,a,s).indexOf(t)},TO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:i,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==i&&s===r?!1:n?!0:r!==s&&t===o},jO={duration:200,easing:"ease"},d_="transform",OO=us.Transition.toString({property:d_,duration:0,easing:"linear"}),NO={roleDescription:"sortable"};function AO(e){let{disabled:t,index:n,node:a,rect:s}=e;const[i,r]=_.useState(null),l=_.useRef(n);return In(()=>{if(!t&&n!==l.current&&a.current){const o=s.current;if(o){const u=cr(a.current,{ignoreTransform:!0}),f={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,s]),_.useEffect(()=>{i&&r(null)},[i]),i}function Xh(e){let{animateLayoutChanges:t=TO,attributes:n,disabled:a,data:s,getNewIndex:i=EO,id:r,strategy:l,resizeObserverConfig:o,transition:u=jO}=e;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:S,sortedRects:E,overIndex:O,useDragOverlay:b,strategy:y}=_.useContext(u_),p=DO(a,g),x=f.indexOf(r),T=_.useMemo(()=>({sortable:{containerId:h,index:x,items:f},...s}),[h,s,x,f]),N=_.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:j,node:R,isOver:k,setNodeRef:L}=sO({id:r,data:T,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...o}}),{active:X,activatorEvent:F,activeNodeRect:fe,attributes:re,setNodeRef:Le,listeners:H,isDragging:V,over:K,setActivatorNodeRef:le,transform:ee}=tO({id:r,data:T,attributes:{...NO,...n},disabled:p.draggable}),Se=IT(L,Le),ve=!!X,je=ve&&!S&&yo(m)&&yo(O),Ce=!b&&V,Re=Ce&&je?ee:null,vn=je?Re??(l??y)({rects:E,activeNodeRect:fe,activeIndex:m,overIndex:O,index:x}):null,mt=yo(m)&&yo(O)?i({id:r,items:f,activeIndex:m,overIndex:O}):x,Rt=X==null?void 0:X.id,pe=_.useRef({activeId:Rt,items:f,newIndex:mt,containerId:h}),gt=f!==pe.current.items,yt=t({active:X,containerId:h,isDragging:V,isSorting:ve,id:r,index:x,items:f,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:u,wasDragging:pe.current.activeId!=null}),pn=AO({disabled:!yt,index:x,node:R,rect:j});return _.useEffect(()=>{ve&&pe.current.newIndex!==mt&&(pe.current.newIndex=mt),h!==pe.current.containerId&&(pe.current.containerId=h),f!==pe.current.items&&(pe.current.items=f)},[ve,mt,h,f]),_.useEffect(()=>{if(Rt===pe.current.activeId)return;if(Rt!=null&&pe.current.activeId==null){pe.current.activeId=Rt;return}const Ht=setTimeout(()=>{pe.current.activeId=Rt},50);return()=>clearTimeout(Ht)},[Rt]),{active:X,activeIndex:m,attributes:re,data:T,rect:j,index:x,newIndex:mt,items:f,isOver:k,isSorting:ve,isDragging:V,listeners:H,node:R,overIndex:O,over:K,setNodeRef:Se,setActivatorNodeRef:le,setDroppableNodeRef:L,setDraggableNodeRef:Le,transform:pn??vn,transition:Ft()};function Ft(){if(pn||gt&&pe.current.newIndex===x)return OO;if(!(Ce&&!Qc(F)||!u)&&(ve||yt))return us.Transition.toString({...u,property:d_})}}function DO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Ec(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const CO=[ge.Down,ge.Right,ge.Up,ge.Left],Df=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:i,over:r,scrollableAncestors:l}}=t;if(CO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case ge.Down:a.top<m.top&&o.push(h);break;case ge.Up:a.top>m.top&&o.push(h);break;case ge.Left:a.left>m.left&&o.push(h);break;case ge.Right:a.left<m.left&&o.push(h);break}});const u=rj({collisionRect:a,droppableRects:s,droppableContainers:o});let f=Gb(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const h=i.get(n.id),m=i.get(f),g=m?s.get(m.id):null,S=m==null?void 0:m.node.current;if(S&&g&&h&&m){const O=Jc(S).some((N,j)=>l[j]!==N),b=f_(h,m),y=RO(h,m),p=O||!b?{x:0,y:0}:{x:y?a.width-g.width:0,y:y?a.height-g.height:0},x={x:g.left,y:g.top};return p.x&&p.y?x:gl(x,p)}}}};function f_(e,t){return!Ec(e)||!Ec(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function RO(e,t){return!Ec(e)||!Ec(t)||!f_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const As=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],fd=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`;function Cf({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),s=_.useRef(e),i=_.useRef(!1),[r,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:"09"),[o,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:"00");_.useEffect(()=>{if(e&&e.includes(":")&&e!==s.current){const[y,p]=e.split(":");s.current=e,l(y),u(p)}},[e]),_.useEffect(()=>{if(!i.current){i.current=!0;return}const y=`${r}:${o}`;s.current=y,t&&t(y)},[r,o]);const f=(y,p,x)=>{if(!y.current)return;const T=y.current.scrollTop,j=Math.round(T/40),R=String(j).padStart(2,"0");p(R)},h=(y,p)=>{if(!y.current)return;const x=40,T=parseInt(p,10);y.current.scrollTop=T*x};_.useEffect(()=>{h(n,r)},[]),_.useEffect(()=>{h(a,o)},[]);const m=Array.from({length:24},(y,p)=>String(p).padStart(2,"0")),g=Array.from({length:60},(y,p)=>String(p).padStart(2,"0")),S=()=>{const y=(parseInt(r,10)+1)%24,p=String(y).padStart(2,"0");l(p),h(n,p)},E=()=>{const y=(parseInt(r,10)-1+24)%24,p=String(y).padStart(2,"0");l(p),h(n,p)},O=()=>{const y=(parseInt(o,10)+1)%60,p=String(y).padStart(2,"0");u(p),h(a,p)},b=()=>{const y=(parseInt(o,10)-1+60)%60,p=String(y).padStart(2,"0");u(p),h(a,p)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:S,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:O,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(y=>c.jsx("div",{className:`picker-item ${y===r?"selected":""}`,onClick:()=>{l(y),h(n,y)},children:y},y)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[c.jsx("div",{className:"picker-spacer"}),g.map(y=>c.jsx("div",{className:`picker-item ${y===o?"selected":""}`,onClick:()=>{u(y),h(a,y)},children:y},y)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:E,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function bo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:s,listeners:i,setNodeRef:r,transform:l,transition:o,isDragging:u}=Xh({id:e,disabled:n}),f=_.useRef(null),[h,m]=_.useState(!1),g=T=>{if(n&&a){if(!T.target.closest(".section-header"))return;m(!0),f.current=setTimeout(()=>{a(),m(!1)},500)}},S=()=>{f.current&&(clearTimeout(f.current),f.current=null,m(!1))},E=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},O=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},y={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},p=n?{onPointerDown:g,onPointerMove:S,onPointerUp:E,onPointerCancel:O,onPointerLeave:O}:{...s,...i},x=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:y,className:x,...p,children:t})}function MO({title:e,className:t,content:n,setContent:a,isEditing:s,isSaving:i,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:f,placeholder:h,emptyMessage:m,children:g}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!s&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),s&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:i,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),s?c.jsx("textarea",{ref:r,value:n,onChange:S=>a(S.target.value),onKeyDown:f,className:"memo-textarea",placeholder:h}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((S,E)=>c.jsx("div",{className:"memo-preview-line",children:S||""},E))}):c.jsx("div",{className:"memo-empty",children:m})}),g]})}function h_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,parentBlock:i,rootSetBlocks:r,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:f,listeners:h,setNodeRef:m,transform:g,transition:S,isDragging:E}=Xh({id:e.id}),O=e.id===o,b=e.id===u&&o&&o!==u,y={cursor:"grab",opacity:O?.4:1,borderTop:b?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:m,style:y,children:c.jsx(m_,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:{...f,...h},parentBlock:i,rootSetBlocks:r,draggingChildIds:l,activeId:o,overId:u})})}function m_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:i,parentBlock:r,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:f}){const h=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const T=h.current.value.length;h.current.setSelectionRange(T,T)}},[a,e.id]),_.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const g=(T,N,j)=>T.map(R=>{if(R.id===N){const k=j(R);return{...k,children:Array.isArray(k.children)?k.children:[]}}return Array.isArray(R.children)&&R.children.length>0?{...R,children:g(R.children,N,j)}:R}),S=T=>{n(N=>g(N,e.id,j=>({...j,content:T})))},E=T=>{n(N=>g(N,e.id,j=>({...j,children:typeof T=="function"?T(j.children):T})))},O=()=>{n(T=>g(T,e.id,N=>{const j=!N.isOpen;if(j&&(!Array.isArray(N.children)||N.children.length===0)){const R={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...N,isOpen:j,children:[R]}}return{...N,isOpen:j,children:Array.isArray(N.children)?N.children:[]}}))},b=()=>{const T=t.findIndex(j=>j.id===e.id);if(T<=0)return;const N=t[T-1];n(j=>{const R=[...j];R.splice(T,1);const k={...N,children:[...Array.isArray(N.children)?N.children:[],e],isOpen:!0};return R[T-1]=k,R})},y=()=>{!r||!l||l(T=>{const N=(k,L,X)=>{const F=[];for(let fe=0;fe<k.length;fe++){const re=k[fe];if(re.id===L){const Le=re.children.filter(V=>V.id!==X.id),H={...re,children:Le};F.push(H),F.push(X)}else if(Array.isArray(re.children)&&re.children.length>0){const Le=N(re.children,L,X);Le!==re.children?F.push({...re,children:Le}):F.push(re)}else F.push(re)}return F},j=k=>k.map(L=>{const X=Array.isArray(L.children)&&L.children.length>0;return!X&&L.isOpen?{...L,isOpen:!1}:X?{...L,children:j(L.children)}:L}),R=N(T,r.id,e);return j(R)})},p=T=>{const N=[],j=R=>{for(const k of R)N.push(k),k.isOpen&&Array.isArray(k.children)&&k.children.length>0&&j(k.children)};return j(T),N},x=T=>{if(T.key==="Enter"){if(T.shiftKey)return;{if(m.current){T.preventDefault(),T.stopPropagation();return}T.preventDefault(),T.stopPropagation(),m.current=!0;const N=T.target.selectionStart,j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};N===0?(n(R=>{const k=R.findIndex(X=>X.id===e.id);if(k===-1)return R;const L=[...R];return L.splice(k,0,j),L}),setTimeout(()=>{s(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(R=>{const k=R.findIndex(X=>X.id===e.id);if(k===-1)return R;const L=[...R];return L.splice(k+1,0,j),L}),setTimeout(()=>{s(j.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(T.key==="Tab"&&T.shiftKey)T.preventDefault(),T.stopPropagation(),r&&l&&y();else if(T.key==="Tab"&&!T.shiftKey)T.preventDefault(),T.stopPropagation(),b();else if(T.key==="Backspace"){const N=T.target.selectionStart;if(e.content===""||N===0){const L=(()=>{if(l){let fe=[];return l(re=>(fe=re,re)),fe}return t})(),X=p(L),F=X.findIndex(fe=>fe.id===e.id);if(F>0){T.preventDefault(),T.stopPropagation();const fe=X[F-1],re=(H,V)=>H.filter(K=>K.id!==V).map(K=>Array.isArray(K.children)&&K.children.length>0?{...K,children:re(K.children,V)}:K),Le=H=>H.map(V=>{const K=Array.isArray(V.children)&&V.children.length>0;return!K&&V.isOpen?{...V,isOpen:!1}:K?{...V,children:Le(V.children)}:V});l?l(H=>{const V=re(H,e.id);return Le(V)}):n(H=>{const V=re(H,e.id);return Le(V)}),setTimeout(()=>{s(fe.id)},0)}}}else if(T.key==="ArrowUp"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let L=[];return l(X=>(L=X,X)),L}return t})(),R=p(j),k=R.findIndex(L=>L.id===e.id);k>0&&s(R[k-1].id)}else if(T.key==="ArrowDown"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let L=[];return l(X=>(L=X,X)),L}return t})(),R=p(j),k=R.findIndex(L=>L.id===e.id);k<R.length-1&&s(R[k+1].id)}};return c.jsxs("div",{className:"notion-block",children:[i&&c.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:O,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:h,value:e.content,onChange:T=>S(T.target.value),onKeyDown:x,onFocus:()=>s(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(T=>c.jsx(h_,{block:T,blocks:e.children,setBlocks:E,focusedBlockId:a,setFocusedBlockId:s,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:f},T.id))})]})}function kO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:s}){const[i,r]=_.useState(null),[l,o]=_.useState(null),u=xf(La(vl,{activationConstraint:{distance:3}}),La(yl,{coordinateGetter:Df})),f=T=>T.map(N=>{const j=Array.isArray(N.children)&&N.children.length>0;return!j&&N.isOpen?{...N,isOpen:!1}:j?{...N,children:f(N.children)}:N});_.useEffect(()=>{const T=f(e);JSON.stringify(T)!==JSON.stringify(e)&&t(T)},[e]);const h=T=>{const N=[],j=R=>{for(const k of R)N.push(k),k.isOpen&&Array.isArray(k.children)&&k.children.length>0&&j(k.children)};return j(T),N},m=T=>{const N=[],j=R=>{if(Array.isArray(R.children)&&R.children.length>0)for(const k of R.children)N.push(k.id),j(k)};return j(T),N},g=T=>{const{active:N}=T,R=h(e).find(k=>k.id===N.id);r(R)},S=T=>{const{over:N}=T;o((N==null?void 0:N.id)||null)},E=$e.useMemo(()=>i?m(i):[],[i]),O=T=>{const{active:N,over:j}=T;if(r(null),o(null),!j||N.id===j.id)return;const R=h(e),k=R.find(Se=>Se.id===N.id),L=R.find(Se=>Se.id===j.id);if(!k||!L||m(k).includes(j.id))return;const F=JSON.parse(JSON.stringify(k)),fe=(Se,ve)=>Se.filter(je=>je.id!==ve).map(je=>({...je,children:Array.isArray(je.children)?fe(je.children,ve):[]})),re=(Se,ve,je)=>{let Ce=!1;const Re=[];for(const _e of Se)if(Re.push(_e),_e.id===ve&&(Re.push(je),Ce=!0),Array.isArray(_e.children)&&_e.children.length>0){const{newChildren:vn,wasInserted:mt}=Le(_e.children,ve,je);mt&&(Re[Re.length-1]={..._e,children:vn},Ce=!0)}return{newTree:Re,inserted:Ce}},Le=(Se,ve,je)=>{let Ce=!1;const Re=[];for(const _e of Se)if(Re.push(_e),_e.id===ve&&(Re.push(je),Ce=!0),Array.isArray(_e.children)&&_e.children.length>0){const{newChildren:vn,wasInserted:mt}=Le(_e.children,ve,je);mt&&(Re[Re.length-1]={..._e,children:vn},Ce=!0)}return{newChildren:Re,wasInserted:Ce}};let H=fe(e,k.id);const V=H.length>0&&H[0].id===L.id;let K,le=!1;if(V)K=[F,...H],le=!0;else{const Se=re(H,L.id,F);K=Se.newTree,le=Se.inserted}if(!le){console.warn("Failed to insert block, keeping original state");return}const ee=f(K);t(ee)},b=h(e).filter(T=>!E.includes(T.id)).map(T=>T.id),y=T=>{const N=j=>j.map(R=>({...R,isOpen:T,children:Array.isArray(R.children)?N(R.children):[]}));t(N(e))},p=T=>{for(const N of T)if(!N.isOpen&&Array.isArray(N.children)&&N.children.length>0||Array.isArray(N.children)&&N.children.length>0&&!p(N.children))return!1;return!0},x=p(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"toggle-all-button",onClick:()=>s&&s(),title:"  ",children:" "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>y(!x),title:x?" ":" ",children:x?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(Af,{sensors:u,collisionDetection:Ef,onDragStart:g,onDragOver:S,onDragEnd:O,measuring:{droppable:{strategy:Qi.Always}},children:[c.jsx(Dr,{items:b,strategy:zo,children:e.map(T=>c.jsx(h_,{block:T,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:E,activeId:i==null?void 0:i.id,overId:l},T.id))}),c.jsx(vO,{children:i?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(m_,{block:i,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Dy({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:s,isAdding:i,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&s()},placeholder:r,className:"todo-input",disabled:i}),c.jsx("button",{onClick:s,className:"add-button",disabled:i,children:""})]}),l]})}function $o({todo:e,index:t,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:f,level:h=0,onCreateRoutine:m,routines:g,onShowRoutineHistory:S,onOpenRoutineSetupModal:E,onOpenHistoryModal:O,currentPageDate:b,isPendingRoutine:y=!1,onRemoveFromUI:p,showSuccessMessage:x}){const[T,N]=_.useState(!1),[j,R]=_.useState(!1),[k,L]=_.useState(e.text),[X,F]=_.useState(!1),[fe,re]=_.useState(!1),[Le,H]=_.useState(!1),[V,K]=_.useState(""),[le,ee]=_.useState(!1),[Se,ve]=_.useState([]),[je,Ce]=_.useState(!1),[Re,_e]=_.useState(!1),[vn,mt]=_.useState([]),[Rt,pe]=_.useState([]),[gt,yt]=_.useState([]),[pn,Ft]=_.useState(null),[Ht,Qe]=_.useState(!1),[at,bn]=_.useState(null),[kn,vt]=_.useState(!1),[pt,Mt]=_.useState([]),[_n,en]=_.useState(""),[Da,ms]=_.useState({}),[wn,tn]=_.useState(!1),[xt,Xs]=_.useState(null),[st,gs]=_.useState([]),Me=e.routine_id?g.find(z=>z.id===e.routine_id):null,[qt,ra]=_.useState(0),[la,Un]=_.useState(0),[oa,ys]=_.useState(0),[Sn,ca]=_.useState(!1),[Je,Fe]=_.useState(!1),{attributes:Dt,listeners:zn,setNodeRef:Ze,transform:et,transition:Yt,isDragging:Vt}=Xh({id:e.id}),Ke={transform:us.Transform.toString(et),transition:Yt,cursor:Vt?"grabbing":"grab"},nn=e.text.length>30,It=()=>{R(!0),L(e.text)},Et=async()=>{k.trim()&&k!==e.text&&await s(e.id,k.trim()),R(!1)},Xn=async z=>{z.key==="Enter"?(z.preventDefault(),await Et()):z.key==="Escape"&&(R(!1),L(e.text))},Qn=z=>{Mt(Y=>Y.includes(z)?Y.filter(oe=>oe!==z):[...Y,z])},Ct=z=>{const Y=z.getFullYear(),oe=String(z.getMonth()+1).padStart(2,"0"),he=String(z.getDate()).padStart(2,"0");return`${Y}-${oe}-${he}`},Jn=z=>["sun","mon","tue","wed","thu","fri","sat"][z],$n=async z=>{try{const Y=typeof b=="string"?b:Ct(b),he=[...z.hidden_dates||[],Y],te=z.routine_id!==null&&z.routine_id!==void 0;let ce={hidden_dates:he};te||(ce.deleted=!0,ce.deleted_date=new Date().toISOString());const{error:xe}=await q.from("todos").update(ce).eq("id",z.id);if(xe)throw xe;p&&p(z.id);const Ue=z.routine_id!==null&&z.routine_id!==void 0;x(Ue?"  ":"   ",{type:"hideOnDate",todoId:z.id,hiddenDate:Y,wasDeleted:!te})}catch(Y){console.error("  :",Y.message),alert("   .")}},Ul=async z=>{try{const{error:Y}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(Y)throw Y;p&&p(z.id)}catch(Y){console.error(" :",Y.message),alert(" .")}},Zn=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:Y}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(Y)throw Y;const oe=typeof b=="string"?b:Ct(b),te=[...z.hidden_dates||[],oe],{error:ce}=await q.from("todos").update({hidden_dates:te}).eq("id",z.id);if(ce)throw ce;p&&p(z.id),x("   ",{type:"stopRoutineFromToday",todoId:z.id,routineId:z.routine_id,hiddenDate:oe})}catch(Y){console.error("  :",Y.message),alert("   .")}},Wc=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:Y}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(Y)throw Y;const{error:oe}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(oe)throw oe;p&&p(z.id),x("   ",{type:"deleteRoutineCompletely",todoId:z.id,routineId:z.routine_id})}catch(Y){console.error("   :",Y.message),alert("   .")}};_.useEffect(()=>{at==="history"&&!Da[e.id]&&!wn&&(async()=>{tn(!0);try{const{data:Y,error:oe}=await q.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(oe)throw oe;ms(he=>({...he,[e.id]:Y||[]}))}catch(Y){console.error("Error fetching history:",Y)}finally{tn(!1)}})()},[at,e.id,Da,wn]),_.useEffect(()=>{at==="routine-stats"&&Me&&(!xt||xt.id!==Me.id)&&(async()=>{try{const{data:Y,error:oe}=await q.from("todos").select("*").eq("routine_id",Me.id).eq("deleted",!1).maybeSingle();if(oe)throw oe;if(Y&&Y.visible_dates){const he=Y.visible_dates.sort().map(te=>{var ce;return{id:`${Y.id}-${te}`,date:te,text:Y.text,completed:((ce=Y.completed_dates)==null?void 0:ce.includes(te))||!1}});gs(he),Xs(Me)}}catch(Y){console.error("Error fetching routine history:",Y)}})()},[at,Me,xt]);const zl=z=>{if(j||Vt)return;const Y=z.type.includes("touch")?z.touches[0].clientX:z.clientX,oe=z.type.includes("touch")?z.touches[0].clientY:z.clientY;Un(Y),ys(oe),ca(!1),Fe(!0)},Qs=z=>{if(j||Vt||!Je)return;const Y=z.type.includes("touch")?z.touches[0].clientX:z.clientX,oe=z.type.includes("touch")?z.touches[0].clientY:z.clientY,he=la-Y,te=Math.abs(oa-oe);if(!Sn){const ce=Math.abs(he)+te;if(ce>10){if(Math.abs(he)>ce*.8)ca(!0),z.type.includes("touch")&&z.preventDefault();else if(te>Math.abs(he)){Fe(!1);return}}}if(Sn){if(z.type.includes("touch")&&z.preventDefault(),he>0&&he<=100)ra(he);else if(he<0&&qt>0){const ce=qt+he;ra(Math.max(0,ce)),Un(Y)}}},Pn=()=>{Fe(!1),Sn&&(ca(!1),ra(qt>40?80:0))},ur=()=>{a(e.id)},Fc=z=>{pe(Y=>Y.includes(z)?Y.filter(oe=>oe!==z):[...Y,z])};return c.jsxs("div",{ref:Ze,style:Ke,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:ur,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...Dt,...zn,className:`todo-item ${e.completed?"completed":""} ${T?"expanded":""} ${Vt?"drag-mode":""}`,style:{transform:`translateX(-${qt}px)`,transition:Sn||Vt?"none":"transform 0.3s ease"},onMouseDown:zl,onMouseMove:Qs,onMouseUp:Pn,onMouseLeave:Pn,onTouchStart:zl,onTouchMove:Qs,onTouchEnd:Pn,onContextMenu:z=>z.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!j&&nn&&N(!T),onDoubleClick:It,style:{cursor:j?"text":nn?"pointer":"default"},children:j?c.jsx("input",{type:"text",value:k,onChange:z=>L(z.target.value),onBlur:Et,onKeyDown:Xn,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${T?"expanded":""}`,children:e.text})}),(()=>{const z=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,Y=e.routine_id&&Me,oe=y||e.is_pending_routine;return(f.length>0||z||Y||oe)&&c.jsxs("div",{className:"todo-badges",children:[oe&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),z&&(()=>{const he=new Date(e.completed_at).toISOString().split("T")[0],te=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${he} `,children:[te,""]})})(),Y&&(()=>{const he=b||e.date,te=new Date(he+"T00:00:00"),ce=te.getMonth()+1,xe=te.getDate(),Gt=["","","","","","",""][te.getDay()],Js=`${ce}/${xe}(${Gt})`;return c.jsxs("span",{className:"routine-date-badge",title:`${Me.text} `,children:["for ",Js]})})(),f.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:he=>{he.stopPropagation(),fe?(F(!1),re(!1),H(!1)):(F(!0),re(!0),H(!1),ee(!1),_e(!1))},children:""})]})})(),!j&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:z=>{z.stopPropagation(),Qe(!0),bn(null),vt(!1),Mt([]),en("")},title:"",children:""}),fe&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((z,Y)=>c.jsx($o,{todo:z,index:Y,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:h+1,routines:g,onShowRoutineHistory:S,showSuccessMessage:x,onOpenRoutineSetupModal:E,onOpenHistoryModal:O,currentPageDate:b},z.id)),Le&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:V,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&V.trim()&&(u(e.id,V.trim()),K(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{V.trim()&&(u(e.id,V.trim()),K(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{K("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),Ht&&c.jsx("div",{className:"modal-overlay",onClick:()=>Qe(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:z=>z.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>Qe(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:k,onChange:z=>L(z.target.value),onBlur:()=>{k.trim()!==""&&k!==e.text?s(e.id,k):k.trim()===""&&L(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${at==="nanotodo"?"active":""}`,onClick:()=>bn("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${at==="routine"?"active":""}`,onClick:()=>{bn("routine");const z=g.find(Y=>Y.id===e.routine_id);z?(Mt(z.days||[]),en(z.time_slot||""),vt(!1)):(Mt([]),en(""),vt(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${at==="history"?"active":""}`,onClick:()=>bn("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&Me&&c.jsxs("button",{className:`action-menu-item ${at==="routine-stats"?"active":""}`,onClick:()=>bn("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${at==="delete"?"active":""}`,onClick:()=>bn("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!at&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),at==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:f.map(z=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:z.completed,onChange:()=>n(z.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${z.completed?"completed":""}`,children:z.text}),c.jsx("button",{onClick:()=>a(z.id),className:"subtodo-delete-modal",title:"",children:""})]},z.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:V,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&V.trim()&&(u(e.id,V.trim()),K(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{V.trim()&&(u(e.id,V.trim()),K(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),at==="routine"&&(()=>{const z=g.find(Y=>Y.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:z&&!kn?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:As.filter(Y=>z.days.includes(Y.key)).map(Y=>c.jsx("span",{className:"routine-day-badge",children:Y.label},Y.key))}),z.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",z.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:Y=>{Y.stopPropagation(),z&&(Mt(z.days),en(z.time_slot||""),vt(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),z&&e&&(await m(e.id,e.text,[],null,!0),Qe(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:kn?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:As.map(Y=>c.jsx("button",{onClick:oe=>{oe.stopPropagation(),Qn(Y.key)},className:`day-button-inline ${pt.includes(Y.key)?"selected":""}`,children:Y.label},Y.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Cf,{value:_n,onChange:Y=>en(Y)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),e&&(kn&&z?await m(e.id,e.text,pt,z.id,!1,_n):await m(e.id,e.text,pt,null,!1,_n),vt(!1),Qe(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:Y=>{Y.stopPropagation(),vt(!1),Mt([]),en("")},className:"routine-cancel-button",children:""})]})]})})]})})(),at==="history"&&(()=>{const z=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],Y=z[0],oe=z.map(te=>({id:`${e.id}-${te}`,date:te})),he=Da[e.id]||[];return wn?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:i(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(Y?new Date(Y+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),oe.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:oe.map((te,ce)=>{const xe=te.date===e.date,Ue=r(new Date(te.date+"T00:00:00"));return c.jsxs("span",{children:[ce>0&&"  ",c.jsxs("span",{style:xe?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ue.split("(")[0],xe?"()":""]})]},te.id)})})]}),(()=>{const te=new Date(e.created_at).toISOString().split("T")[0],ce=e.date;return te!==ce&&oe.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),he.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",he.length,")"]}),he.map(te=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[i(te.changed_at),te.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(te.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:ce=>{ce.stopPropagation(),Fc(te.id)},children:Rt.includes(te.id)?"":""})]}),Rt.includes(te.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:te.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:te.new_text})]})]})]},te.id))]})]})]})})(),at==="routine-stats"&&Me&&(()=>{if(!xt||xt.id!==Me.id||st.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Me.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!xt||xt.id!==Me.id?" ...":" ."})]});const z=st[0],Y=new Date(z.date),oe=new Date,he={};st.forEach(xe=>{he[xe.date]=xe.completed});const te=[];let ce=new Date(Y);for(;ce<=oe;){const xe=ce.getFullYear(),Ue=ce.getMonth(),Gt=`${xe}-${Ue+1}`;te.find(dr=>dr.key===Gt)||te.push({key:Gt,year:xe,month:Ue,days:[]});const Js=te.find(dr=>dr.key===Gt),Ca=Ct(ce),Ra=ce.getDay(),Ma=Jn(Ra),eu=Me.days.includes(Ma);Js.days.push({date:new Date(ce),dateStr:Ca,day:ce.getDate(),dayOfWeek:Ra,isCompleted:he[Ca]===!0,isRoutineDay:eu,hasTodo:he[Ca]!==void 0}),ce.setDate(ce.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Me.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:te.map(xe=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[xe.year," ",xe.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),xe.days.length>0&&Array(xe.days[0].dayOfWeek).fill(null).map((Ue,Gt)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${Gt}`)),xe.days.map((Ue,Gt)=>{if(Gt>0&&Ue.day===1){const Ca=6-xe.days[Gt-1].dayOfWeek;return c.jsxs($e.Fragment,{children:[Array(Ca).fill(null).map((Ra,Ma)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${Gt}-${Ma}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${Ue.isCompleted?"completed":""} ${Ue.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:Ue.day}),Ue.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},Ue.dateStr)}return c.jsxs("div",{className:`history-day-cell ${Ue.isCompleted?"completed":""} ${Ue.isRoutineDay?"":"not-routine-day"}`,title:`${Ue.dateStr}${Ue.isRoutineDay?"":" (  )"}${Ue.isCompleted?" - ":Ue.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:Ue.day}),Ue.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},Ue.dateStr)})]})]},xe.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[st.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[st.filter(xe=>xe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[st.filter(xe=>!xe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[st.length>0?Math.round(st.filter(xe=>xe.completed).length/st.length*100):0,"%"]})]})]})]})]})})(),at==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var he;const z=((he=e.visible_dates)==null?void 0:he.length)>0?e.visible_dates:[e.date||e.created_date],Y=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await $n(e),Qe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Zn(e),Qe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Wc(e),Qe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):z.length>1||Y?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await $n(e),Qe(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Ul(e),Qe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Ul(e),Qe(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}const Cy=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function UO(){const[e,t]=_.useState([]),[n,a]=_.useState(""),[s,i]=_.useState(""),[r,l]=_.useState(""),[o,u]=_.useState(!0),[f,h]=_.useState(!1),[m,g]=_.useState(!1),[S,E]=_.useState(new Date),[O,b]=_.useState(null),[y,p]=_.useState(!1),[x,T]=_.useState(!1),[N,j]=_.useState(""),[R,k]=_.useState(null),[L,X]=_.useState(!1),[F,fe]=_.useState([]),re=(d,v=null)=>(j(d),k(v),T(!0),setTimeout(()=>{T(!1),j(""),k(null)},5e3)),Le=async()=>{if(R)try{const{type:d,todoId:v,routineId:w,hiddenDate:M,wasDeleted:D}=R;if(d==="hideOnDate"){const{data:A,error:U}=await q.from("todos").select("*").eq("id",v).single();if(U)throw U;let B={hidden_dates:(A.hidden_dates||[]).filter(I=>I!==M)};D&&(B.deleted=!1,B.deleted_date=null);const{error:G}=await q.from("todos").update(B).eq("id",v);if(G)throw G}else if(d==="stopRoutineFromToday"){const{error:A}=await q.from("routines").update({deleted:!1}).eq("id",w);if(A)throw A;const{data:U,error:C}=await q.from("todos").select("*").eq("id",v).single();if(C)throw C;const B=(U.hidden_dates||[]).filter(I=>I!==M),{error:G}=await q.from("todos").update({hidden_dates:B}).eq("id",v);if(G)throw G}else if(d==="deleteRoutineCompletely"){const{error:A}=await q.from("routines").update({deleted:!1}).eq("id",w);if(A)throw A;const{error:U}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",v);if(U)throw U}T(!1),j(""),k(null),ka()}catch(d){console.error("  :",d.message),alert("   .")}},[H,V]=_.useState(null),[K,le]=_.useState(!1),[ee,Se]=_.useState([]),[ve,je]=_.useState(""),[Ce,Re]=_.useState([]),[_e,vn]=_.useState(""),[mt,Rt]=_.useState(!1),[pe,gt]=_.useState(!1),yt=_.useRef(new Set),[pn,Ft]=_.useState(null),[Ht,Qe]=_.useState(""),[at,bn]=_.useState(!1),[kn,vt]=_.useState(null),[pt,Mt]=_.useState([]),[_n,en]=_.useState([]),[Da,ms]=_.useState([]),[wn,tn]=_.useState(!1),[xt,Xs]=_.useState(!1),[st,gs]=_.useState(!1),[Me,qt]=_.useState(""),[ra,la]=_.useState(!1),[Un,oa]=_.useState(!1),[ys,Sn]=_.useState(""),[ca,Je]=_.useState(!1),Fe=_.useRef(null),[Dt,zn]=_.useState(!1),[Ze,et]=_.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[Yt,Vt]=_.useState(null),[Ke,nn]=_.useState([]),[It,Et]=_.useState(!1),[Xn,Qn]=_.useState(!1),[Ct,Jn]=_.useState([]),[$n,Ul]=_.useState("1week"),[Zn,Wc]=_.useState([]),[zl,Qs]=_.useState(!1),[Pn,ur]=_.useState(""),[Fc,z]=_.useState(null),[Y,oe]=_.useState(""),[he,te]=_.useState(!1),[ce,xe]=_.useState(""),[Ue,Gt]=_.useState(!1),[Js,Ca]=_.useState(!1),[Ra,Ma]=_.useState(null),[eu,dr]=_.useState({}),[Qh,Jh]=_.useState([]),[tu,fr]=_.useState([]),[nu,$l]=_.useState(!1),[au,hr]=_.useState(""),[Wn,g_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Zs,Ps]=_.useState(!1),[Zh,Bl]=_.useState(["memo","routine","normal","key-thoughts"]),su=_.useRef(new Set),iu=_.useRef(!1),Ws=_.useRef(null),[y_,v_]=_.useState(0),ru=_.useRef(null),[p_,mr]=_.useState(!1),[Ll,lu]=_.useState(null),He=d=>{const v=d.getFullYear(),w=String(d.getMonth()+1).padStart(2,"0"),M=String(d.getDate()).padStart(2,"0");return`${v}-${w}-${M}`},Fn=d=>{const v=String(d.getFullYear()).slice(2),w=String(d.getMonth()+1).padStart(2,"0"),M=String(d.getDate()).padStart(2,"0"),A=["","","","","","",""][d.getDay()];return`${v}.${w}.${M}(${A})`},Ph=d=>{const v=new Date;return He(d)===He(v)},Hl=()=>{if(Zn.length===0)return"";const d=Math.floor(Math.random()*Zn.length);return Zn[d]},b_=()=>{te(!0);let d=Hl(),v=0;for(;d===ce&&Zn.length>1&&v<10;)d=Hl(),v++;setTimeout(()=>{te(!1),xe(d)},1e3)},vs=d=>{const v=new Date(d),w=String(v.getFullYear()).slice(2),M=String(v.getMonth()+1).padStart(2,"0"),D=String(v.getDate()).padStart(2,"0"),A=String(v.getHours()).padStart(2,"0"),U=String(v.getMinutes()).padStart(2,"0"),B=["","","","","","",""][v.getDay()];return`${w}.${M}.${D}(${B}) ${A}:${U}`},__=async()=>{try{const d=`DUMMY-${Date.now()}`,v=new Date(2025,10,16),w=[],M=[],D="2025-11-14";w.push({text:`[${d}] : 14--`,date:D,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${d}] : 14-14`,date:D,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${d}] : 14-15`,date:D,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${d}] : 14-16`,date:D,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const A="2025-11-15";w.push({text:`[${d}] : 15--`,date:A,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${d}] : 15-15`,date:A,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${d}] : 15-16`,date:A,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const U="2025-11-16";w.push({text:`[${d}] : 16-`,date:U,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${d}] : 16-16`,date:U,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),w.push({text:`[${d}] : 14-15-`,date:A,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${d}] : 14-15-15`,date:A,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),w.push({text:`[${d}] : 15-16-`,date:U,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${d}] : 15-16-16`,date:U,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${d}] : 14-16-`,date:U,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${d}] : 14-16-16`,date:U,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const C="2025-11-17";w.push({text:`[${d}] : 16-17-`,date:C,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${d}] : 15-17-`,date:C,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${d}] : 14-17-`,date:C,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const B="2025-11-18";w.push({text:`[${d}] : 16-18-`,date:B,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${d}] : 15-18-`,date:B,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:G,error:I}=await q.from("todos").insert(w).select();if(I)throw I;const Z=G.find(ne=>ne.text.includes("14--"));Z&&M.push({todo_id:Z.id,previous_text:`[${d}] : 14--1`,new_text:`[${d}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:A},{todo_id:Z.id,previous_text:`[${d}] : 14--2`,new_text:`[${d}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:U});const be=G.find(ne=>ne.text.includes("15--"));if(be&&M.push({todo_id:be.id,previous_text:`[${d}] : 15--1`,new_text:`[${d}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:U}),M.length>0){const{error:ne}=await q.from("todo_history").insert(M);ne&&console.error("  :",ne.message)}ms(ne=>[...ne,{sessionId:d,createdAt:new Date().toISOString(),count:w.length,historyCount:M.length}]),alert(`    !
: ${w.length}
: ${M.length}
 ID: ${d}`),ka()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},w_=async d=>{if(window.confirm(`   "${d}"   ?

      ,     .`))try{const{data:w,error:M}=await q.from("todos").select("id").like("text",`[${d}]%`);if(M)throw M;if(w&&w.length>0){const A=w.map(C=>C.id),{error:U}=await q.from("todo_history").delete().in("todo_id",A);U&&console.error("  :",U.message)}const{error:D}=await q.from("todos").delete().like("text",`[${d}]%`);if(D)throw D;ms(A=>A.filter(U=>U.sessionId!==d)),alert(`  ${d}  !`),ka()}catch(w){console.error("   :",w.message),alert("    : "+w.message)}},S_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:v,error:w}=await q.from("todos").select("id").like("text","[DUMMY-%");if(w)throw w;if(v&&v.length>0){const D=v.map(U=>U.id),{error:A}=await q.from("todo_history").delete().in("todo_id",D);A&&console.error("  :",A.message)}const{error:M}=await q.from("todos").delete().like("text","[DUMMY-%");if(M)throw M;ms([]),alert("     !"),ka()}catch(v){console.error("    :",v.message),alert("     : "+v.message)}},x_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(v)throw v;if(!d||d.length===0){alert(" .");return}const w={};d.forEach(I=>{w[I.text]||(w[I.text]=[]),w[I.text].push(I)});const M=Object.entries(w).filter(([I,Z])=>Z.length>1);if(M.length===0){alert("  .");return}let D=`  :

`,A=[];if(M.forEach(([I,Z])=>{D+=`"${I}" - ${Z.length}
`;const be=Z.slice(1);A.push(...be),be.forEach(we=>{const an=new Date(we.created_at).toLocaleString("ko-KR");D+=`    : ${an}
`});const ne=Z[0],ie=new Date(ne.created_at).toLocaleString("ko-KR");D+=`   : ${ie}

`}),D+=`
 ${A.length}   .`,!window.confirm(D+`

     ,     .

?`))return;const C=A.map(I=>I.id),{error:B}=await q.from("todo_history").delete().in("todo_id",C);B&&console.error("  :",B.message);const{error:G}=await q.from("todos").delete().in("id",C);if(G)throw G;alert(` ${A.length}   .`),ka()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},E_=()=>{const d=new Date(S);d.setDate(d.getDate()-1),E(d)},T_=()=>{const d=new Date(S);d.setDate(d.getDate()+1),E(d)},j_=d=>{const v=new Date(d.target.value+"T00:00:00");E(v)},O_=async(d,v)=>{try{const w=He(d),M=He(v),{data:D,error:A}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(A)throw A;const U=(D||[]).filter(C=>C.hidden_dates&&Array.isArray(C.hidden_dates)&&C.hidden_dates.includes(w)?!1:C.visible_dates&&Array.isArray(C.visible_dates)&&C.visible_dates.length>0?C.visible_dates.includes(w):C.date===w);if(U.length===0)return;for(const C of U){let B=C.visible_dates||[C.date];if(B.includes(M))continue;const G=[...B,M].sort(),{error:I}=await q.from("todos").update({visible_dates:G}).eq("id",C.id);I&&console.error(` ${C.id}  :`,I.message)}}catch(w){console.error("   :",w.message)}},Wh=async()=>{try{const{data:d,error:v}=await q.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(v)throw v;Se(d||[])}catch(d){console.error("  :",d.message)}},N_=async()=>{if(!(ve.trim()===""||mt))try{Rt(!0);const d={text:ve,days:Ce,start_date:He(S)};_e&&(d.time_slot=_e);const{data:v,error:w}=await q.from("routines").insert([d]).select();if(w)throw w;Se([v[0],...ee]),je(""),Re([]),vn("")}catch(d){console.error("  :",d.message)}finally{Rt(!1)}},Fs=async(d,v,w,M=null,D=!1,A="",U=null)=>{try{if(D){const{error:C}=await q.from("todos").update({routine_id:null}).eq("id",d);if(C)throw C;t(B=>B.map(G=>G.id===d?{...G,routine_id:null}:G));return}if(M){const{error:C}=await q.from("routines").update({days:w,time_slot:A}).eq("id",M);if(C)throw C;const{error:B}=await q.from("todos").update({is_pending_routine:w.length===0}).eq("id",d);if(B)throw B;Se(G=>G.map(I=>I.id===M?{...I,days:w,time_slot:A}:I)),t(G=>G.map(I=>I.id===d?{...I,is_pending_routine:w.length===0}:I))}else{const C={text:v,days:w,time_slot:A,start_date:U||He(S)},{data:B,error:G}=await q.from("routines").insert([C]).select();if(G)throw G;const{error:I}=await q.from("todos").update({routine_id:B[0].id,is_pending_routine:w.length===0}).eq("id",d);if(I)throw I;t(Z=>Z.map(be=>be.id===d?{...be,routine_id:B[0].id,is_pending_routine:w.length===0}:be)),Se(Z=>[B[0],...Z])}}catch(C){console.error("  :",C.message)}},A_=d=>{Ft(d.id),Qe(d.text),en(d.days)},Fh=()=>{Ft(null),Qe(""),en([])},D_=async()=>{if(!(!pn||Ht.trim()===""||_n.length===0))try{const{error:d}=await q.from("routines").update({text:Ht.trim(),days:_n}).eq("id",pn);if(d)throw d;Se(ee.map(v=>v.id===pn?{...v,text:Ht.trim(),days:_n}:v)),Fh()}catch(d){console.error("  :",d.message)}},C_=d=>{en(v=>v.includes(d)?v.filter(w=>w!==d):[...v,d])},R_=async d=>{const v=ee.find(D=>D.id===d),w=v?v.text:" ";if(window.confirm(`  "${w}"() ?

    ,     .
(   )`))try{const{error:D}=await q.from("routines").update({deleted:!0}).eq("id",d);if(D)throw D;const{error:A}=await q.from("todos").update({routine_id:null}).eq("routine_id",d);A&&console.error("  ID  :",A.message),Se(ee.filter(U=>U.id!==d)),t(U=>U.map(C=>C.routine_id===d?{...C,routine_id:null}:C))}catch(D){console.error("  :",D.message)}},M_=async d=>{if(!iu.current)try{iu.current=!0;const{data:v,error:w}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(w)throw w;if(!v||v.length===0)return;const M=v.filter(D=>{const A=new Date(D.created_at);return!(He(A)>=d||(D.visible_dates||[]).includes(d)||(D.hidden_dates||[]).includes(d))});for(const D of M){const A=[...D.visible_dates||[],d],{error:U}=await q.from("todos").update({visible_dates:A}).eq("id",D.id);U&&console.error(` ${D.id}  :`,U.message)}}catch(v){console.error("  :",v.message)}finally{iu.current=!1}},em=async d=>{if(!su.current.has(d))try{su.current.add(d);const v=new Date(d),w=Cy(v.getDay()),{data:M,error:D}=await q.from("routines").select("*").eq("deleted",!1);if(D)throw D;const A=M.filter(U=>{const C=U.days||[],B=C.length===0||C.includes(w);if(U.start_date){const G=new Date(U.start_date),I=v>=G;return B&&I}return B});if(A.length===0)return;for(const U of A){const C=U.text,{data:B,error:G}=await q.from("todos").select("*").eq("routine_id",U.id).eq("deleted",!1);if(G)throw G;if(B&&B.length>1){console.warn(` ${U.id}    (${B.length}).     .`);for(let Z=1;Z<B.length;Z++)await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",B[Z].id)}const I=B&&B.length>0?B[0]:null;if(I){const Z=I.visible_dates||[];if(Z.includes(d))continue;const be=[...Z,d].sort(),{error:ne}=await q.from("todos").update({visible_dates:be}).eq("id",I.id);ne&&console.error("    :",ne.message)}else{const{error:Z}=await q.from("todos").insert([{text:C,completed:!1,date:d,visible_dates:[d],hidden_dates:[],order_index:0,routine_id:U.id}]);Z&&console.error("   :",Z.message)}}}catch(v){console.error("   :",v.message)}finally{setTimeout(()=>{su.current.delete(d)},1e3)}},k_=async()=>{const v=He(new Date);await em(v)},ql=async d=>{try{const{data:v,error:w}=await q.from("todos").select("*").eq("routine_id",d.id).eq("deleted",!1);if(w)throw w;const M=v&&v.length>0?v[0]:null;if(M&&M.visible_dates){const D=M.visible_dates.sort().map(A=>({id:`${M.id}-${A}`,date:A,text:M.text,completed:M.completed,routine_id:M.routine_id}));Mt(D)}else Mt([]);vt(d),bn(!0)}catch(v){console.error("   :",v.message),alert("   : "+v.message)}},tm=()=>{bn(!1),vt(null),Mt([])},U_=()=>{le(!0),Wh()},nm=()=>{le(!1),je(""),Re([])},z_=d=>{Re(v=>v.includes(d)?v.filter(w=>w!==d):[...v,d])};_.useEffect(()=>{let d=null;const v=()=>{document.body.classList.add("is-scrolling"),d&&clearTimeout(d),d=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v),d&&clearTimeout(d)}},[]),_.useEffect(()=>{Wh()},[]),_.useEffect(()=>{Yl()},[]),_.useEffect(()=>{cm()},[]),_.useEffect(()=>{aw()},[]),_.useEffect(()=>{const d=setTimeout(()=>{Ze.length>0&&fm()},1e3);return()=>clearTimeout(d)},[Ze]),_.useEffect(()=>{lw()},[]),_.useEffect(()=>{Zn.length>0&&!ce&&xe(Hl())},[Zn]),_.useEffect(()=>{if(!Ws.current)return;const d=Ws.current,v=Wn==="horizontal";let w=!1,M=0,D=0,A=0;const U=Z=>{Z.target.closest(".section-block")||(w=!0,M=v?Z.pageX:Z.pageY,D=v?d.scrollLeft:d.scrollTop,d.style.transition="none",d.style.transform=v?"translateX(0)":"translateY(0)",A=0)},C=()=>{w&&A!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",A=0},300)),w=!1},B=()=>{A!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",A=0},300)),w=!1},G=Z=>{if(!w)return;Z.preventDefault();const ne=((v?Z.pageX:Z.pageY)-M)*1.5,ie=D-ne,we=v?d.scrollWidth-d.clientWidth:d.scrollHeight-d.clientHeight;if(ie<0){const an=-ie;A=Math.min(an*.3,100),v?(d.scrollLeft=0,d.style.transform=`translateX(${A}px)`):(d.scrollTop=0,d.style.transform=`translateY(${A}px)`)}else if(ie>we){const an=ie-we;A=-Math.min(an*.3,100),v?(d.scrollLeft=we,d.style.transform=`translateX(${A}px)`):(d.scrollTop=we,d.style.transform=`translateY(${A}px)`)}else A=0,d.style.transform=v?"translateX(0)":"translateY(0)",v?d.scrollLeft=ie:d.scrollTop=ie},I=Z=>{v&&Z.target.closest(".section-block")&&Z.deltaX!==0&&Z.preventDefault()};return d.addEventListener("mousedown",U),document.addEventListener("mouseup",B),document.addEventListener("mouseleave",C),d.addEventListener("mousemove",G),d.addEventListener("wheel",I,{passive:!1}),()=>{d.removeEventListener("mousedown",U),document.removeEventListener("mouseup",B),document.removeEventListener("mouseleave",C),d.removeEventListener("mousemove",G),d.removeEventListener("wheel",I)}},[Wn,e,ee]),_.useEffect(()=>{if(Wn!=="horizontal"||!Ws.current)return;const d=Ws.current,v=()=>{const w=d.querySelectorAll(".section-block");if(w.length===0)return;const M=d.getBoundingClientRect(),D=M.left+M.width/2;let A=0,U=1/0;w.forEach((C,B)=>{const G=C.getBoundingClientRect(),I=G.left+G.width/2,Z=Math.abs(I-D);Z<U&&(U=Z,A=B)}),v_(A)};return d.addEventListener("scroll",v),v(),()=>d.removeEventListener("scroll",v)},[Wn,e,ee]),_.useEffect(()=>{if(!ru.current)return;const d=ru.current;let v=!1,w=0,M=0,D=0;const A=G=>{G.target.closest(".section-block")||(v=!0,w=G.pageY,M=d.scrollTop,d.style.transition="none",d.style.transform="translateY(0)",D=0)},U=()=>{v&&D!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",D=0},300)),v=!1},C=()=>{D!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",D=0},300)),v=!1},B=G=>{if(!v)return;G.preventDefault();const Z=(G.pageY-w)*1.5,be=M-Z,ne=d.scrollHeight-d.clientHeight;if(be<0){const ie=-be;D=Math.min(ie*.3,100),d.scrollTop=0,d.style.transform=`translateY(${D}px)`}else if(be>ne){const ie=be-ne;D=-Math.min(ie*.3,100),d.scrollTop=ne,d.style.transform=`translateY(${D}px)`}else D=0,d.style.transform="translateY(0)",d.scrollTop=be};return d.addEventListener("mousedown",A),document.addEventListener("mouseup",C),document.addEventListener("mouseleave",U),d.addEventListener("mousemove",B),()=>{d.removeEventListener("mousedown",A),document.removeEventListener("mouseup",C),document.removeEventListener("mouseleave",U),d.removeEventListener("mousemove",B)}},[e,ee]),_.useEffect(()=>{Xn&&lm()},[$n]),_.useEffect(()=>{const d=async()=>{const w=new Date,M=new Date(w);M.setHours(24,0,0,0);const D=M.getTime()-w.getTime();return setTimeout(async()=>{const U=new Date(w),C=new Date(w);C.setDate(C.getDate()+1),await O_(U,C),await k_(),E(new Date),d()},D)},v=d();return()=>clearTimeout(v)},[]),_.useEffect(()=>{ka();const d=He(S),v=q.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${d}`},w=>{w.eventType==="INSERT"?t(M=>M.some(A=>A.id===w.new.id)?M:[...M,w.new].sort((A,U)=>A.order_index-U.order_index)):w.eventType==="UPDATE"?t(M=>yt.current.has(w.new.id)?M:M.map(D=>D.id===w.new.id?w.new:D).sort((D,A)=>D.order_index-A.order_index)):w.eventType==="DELETE"&&t(M=>M.filter(D=>D.id!==w.old.id))}).subscribe(w=>{});return()=>{q.removeChannel(v)}},[S]),_.useEffect(()=>{if(f){const d=window.scrollY,v=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",v>0&&(document.body.style.paddingRight=`${v}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,d)}}},[f]);const Yl=async()=>{try{const{data:d,error:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(v)throw v;if(d&&d.length>0){const w=d.map(M=>M.message);Wc(w),ce||xe(w[0])}}catch(d){console.error("   :",d.message)}},am=async d=>{try{const{data:v}=await q.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),w=v&&v.length>0?v[0].order_index:0,{error:M}=await q.from("encouragement_messages").insert([{message:d,order_index:w+1}]);if(M)throw M;await Yl()}catch(v){console.error("   :",v.message),alert("   .")}},$_=async(d,v)=>{try{const{data:w}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!w||d>=w.length)throw new Error("   .");const M=w[d],{error:D}=await q.from("encouragement_messages").update({message:v}).eq("id",M.id);if(D)throw D;await Yl()}catch(w){console.error("   :",w.message),alert("   .")}},B_=async d=>{try{const{data:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!v||d>=v.length)throw new Error("   .");const w=v[d],{error:M}=await q.from("encouragement_messages").delete().eq("id",w.id);if(M)throw M;await Yl()}catch(v){console.error("   :",v.message),alert("   .")}},ka=async()=>{try{u(!0);const d=He(S);Ph(S)&&await M_(d),await em(d);const{data:v,error:w}=await q.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const M=(v||[]).filter(D=>D.hidden_dates&&Array.isArray(D.hidden_dates)&&D.hidden_dates.includes(d)?!1:D.visible_dates&&Array.isArray(D.visible_dates)&&D.visible_dates.length>0?D.visible_dates.includes(d):D.date===d);t(M)}catch(d){console.error("   :",d.message)}finally{u(!1)}},L_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(v)throw v;fe(d||[])}catch(d){console.error("  :",d.message)}},H_=async()=>{if(!(s.trim()===""||m))try{g(!0);const d=He(S),{data:v,error:w}=await q.from("routines").insert([{text:s,days:[],start_date:d}]).select();if(w)throw w;const M=v[0],D=e.filter(B=>!B.parent_id&&B.is_pending_routine),A=D.length>0?Math.max(...D.map(B=>B.order_index))+1:1,{data:U,error:C}=await q.from("todos").insert([{text:s,completed:!1,order_index:A,date:d,visible_dates:[d],hidden_dates:[],routine_id:M.id,is_pending_routine:!0}]).select();if(C)throw C;Se([M,...ee]),t([...e,U[0]]),i("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},q_=async()=>{if(!(r.trim()===""||m))try{g(!0);const d=e.filter(A=>!A.parent_id&&A.routine_id===null),v=d.length>0?Math.max(...d.map(A=>A.order_index))+1:1,w=He(S),{data:M,error:D}=await q.from("todos").insert([{text:r,completed:!1,order_index:v,date:w,visible_dates:[w],hidden_dates:[]}]).select();if(D)throw D;t([...e,M[0]]),l("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},ou=async d=>{const v=e.find(w=>w.id===d);if(v)try{const w=!v.completed,M=w?new Date().toISOString():null,{error:D}=await q.from("todos").update({completed:w,completed_at:M}).eq("id",d);if(D)throw D;t(e.map(A=>A.id===d?{...A,completed:w,completed_at:M}:A))}catch(w){console.error("   :",w.message)}},cu=d=>{t(e.filter(v=>v.id!==d))},uu=async d=>{var D;const v=e.find(A=>A.id===d);if(!v)return;const w=((D=v.visible_dates)==null?void 0:D.length)>0?v.visible_dates:[v.date||v.created_date],M=v.original_todo_id!==null&&v.original_todo_id!==void 0;w.length>1||M?(lu(v),mr(!0)):await Y_(d)},Y_=async d=>{try{const v=e.find(D=>D.id===d);if(!v)return;b(v);const w=He(S),{error:M}=await q.from("todos").update({deleted:!0,deleted_date:w}).eq("id",d);if(M)throw M;t(e.filter(D=>D.id!==d)),p(!0),setTimeout(()=>{p(!1),b(null)},5e3)}catch(v){console.error("   :",v.message)}},V_=async d=>{try{const v=He(S),M=[...d.hidden_dates||[],v],{error:D}=await q.from("todos").update({hidden_dates:M}).eq("id",d.id);if(D)throw D;t(e.filter(A=>A.id!==d.id)),mr(!1),lu(null)}catch(v){console.error(" :",v.message)}},I_=async d=>{try{const v=He(S),{error:w}=await q.from("todos").update({deleted:!0,deleted_date:v}).eq("id",d.id);if(w)throw w;t(e.filter(M=>M.id!==d.id)),mr(!1),lu(null)}catch(v){console.error(" :",v.message)}},G_=async()=>{if(O)try{const{error:d}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",O.id);if(d)throw d;t(v=>{const w={...O,deleted:!1,deleted_date:null};return[...v,w].sort((D,A)=>D.order_index-A.order_index)}),p(!1),b(null)}catch(d){console.error("  :",d.message)}},K_=async d=>{if(window.confirm(`  ?

      .`))try{const{error:w}=await q.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",d);if(w)throw w;fe(F.filter(M=>M.id!==d)),ka(),alert(" !")}catch(w){console.error(" :",w.message),alert("  : "+w.message)}},X_=async d=>{if(window.confirm(`     ?

    .`))try{const{error:w}=await q.from("todos").delete().eq("id",d);if(w)throw w;fe(F.filter(M=>M.id!==d)),alert("  .")}catch(w){console.error("  :",w.message),alert("   : "+w.message)}},Q_=async()=>{if(!(F.length===0||!window.confirm(`   ?

${F.length}   .
    .`)))try{const v=F.map(M=>M.id),{error:w}=await q.from("todos").delete().in("id",v);if(w)throw w;fe([]),alert(` ${v.length}   .`)}catch(v){console.error("  :",v.message),alert("   : "+v.message)}},J_=()=>{X(!0),L_()},sm=()=>{X(!1)},Z_=async()=>{Qn(!0),await lm()},im=()=>{Qn(!1),Jn([])},du=async d=>{Ma(d);try{const{data:v,error:w}=await q.from("todo_history").select("*").eq("todo_id",d.id).order("changed_at",{ascending:!1});if(w)throw w;dr(M=>({...M,[d.id]:v||[]}))}catch(v){console.error("Error fetching history:",v)}Gt(!0)},rm=()=>{Gt(!1),Ma(null),Jh([])},P_=d=>{Jh(v=>v.includes(d)?v.filter(w=>w!==d):[...v,d])},fu=d=>{Ma(d);const v=ee.find(w=>w.id===d.routine_id);v?(fr(v.days||[]),hr(v.time_slot||""),$l(!1)):(fr([]),hr(""),$l(!0)),Ca(!0)},gr=()=>{Ca(!1),Ma(null),fr([]),hr(""),$l(!1)},W_=d=>{fr(v=>v.includes(d)?v.filter(w=>w!==d):[...v,d])},lm=async()=>{try{const d=new Date,v=He(d);let w=null;if($n!=="all")switch(w=new Date(d),$n){case"1week":w.setDate(d.getDate()-7);break;case"2weeks":w.setDate(d.getDate()-14);break;case"1month":w.setMonth(d.getMonth()-1);break;case"3months":w.setMonth(d.getMonth()-3);break;case"6months":w.setMonth(d.getMonth()-6);break}let M=q.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});w&&(M=M.gte("date",He(w)));const{data:D,error:A}=await M;if(A)throw A;const U={};for(const B of D||[]){const G=B.original_todo_id||B.id;U[G]||(U[G]=[]),U[G].push(B)}const C=Object.entries(U).map(([B,G])=>{const I=G.sort((we,an)=>new Date(we.date)-new Date(an.date)),Z=I[0],be=I.map(we=>we.date);let ne=null;for(const we of I)if(we.completed&&we.completed_at){const an=new Date(we.completed_at);ne=He(an);break}const ie=I.find(we=>we.date===v);return{text:Z.text,originalId:parseInt(B),createdAt:Z.created_at,startDate:be[0],endDate:be[be.length-1],dates:be,completed:(ie==null?void 0:ie.completed)||!1,completedDate:ne}}).sort((B,G)=>new Date(B.createdAt)-new Date(G.createdAt));Jn(C)}catch(d){console.error("   :",d.message)}},F_=async()=>{gs(!0),await cm()},om=()=>{gs(!1),la(!1),qt(ys)},cm=async()=>{try{const{data:d,error:v}=await q.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(v)throw v;const w=d&&d.length>0?d[0].content:fd;qt(w),Sn(w)}catch(d){console.error("   :",d.message),qt(fd),Sn(fd)}},ew=()=>{la(!0)},tw=()=>{Je(!0),Sn(Me),setTimeout(()=>{Fe.current&&Fe.current.focus()},0)},um=async()=>{if(!Un)try{oa(!0);const{data:d}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);d&&d.length>0?await q.from("spec_memos").update({content:Me,updated_at:new Date().toISOString()}).eq("id",d[0].id):await q.from("spec_memos").insert([{content:Me}]),Sn(Me),Je(!1)}catch(d){console.error("  :",d.message),alert("  .")}finally{oa(!1)}},dm=()=>{qt(ys),Je(!1)},nw=d=>{(d.metaKey||d.ctrlKey)&&d.key==="s"&&(d.preventDefault(),um()),d.key==="Escape"&&(d.preventDefault(),dm())},yr=d=>Array.isArray(d)?d.map(v=>({...v,children:Array.isArray(v.children)?yr(v.children):[]})):[],aw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").single();if(v&&v.code!=="PGRST116"){console.error("   :",v.message);return}if(d&&d.setting_value){const w=yr(JSON.parse(d.setting_value));et(w),localStorage.setItem("keyThoughtsBlocks",JSON.stringify(w))}else{const w=localStorage.getItem("keyThoughtsBlocks");w&&et(yr(JSON.parse(w)))}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("keyThoughtsBlocks");v&&et(yr(JSON.parse(v)))}},fm=async()=>{try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(Ze));const{data:d,error:v}=await q.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").single();if(v&&v.code!=="PGRST116"){console.error("   :",v.message);return}d?await q.from("user_settings").update({setting_value:JSON.stringify(Ze)}).eq("setting_key","key_thoughts_blocks"):await q.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(Ze)}]),await sw(Ze)}catch(d){console.error("   :",d.message)}},sw=async d=>{try{const{error:v}=await q.from("key_thoughts_history").insert([{content:d,description:" "}]);v&&console.error("   :",v.message)}catch(v){console.error("   :",v.message)}},iw=async()=>{try{const{data:d,error:v}=await q.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(v){console.error("   :",v.message);return}nn(d||[])}catch(d){console.error("   :",d.message)}},rw=async d=>{try{const v=Ke.find(w=>w.id===d);if(!v){alert("    .");return}if(!window.confirm("  ?     ."))return;et(yr(v.content)),await fm(),alert("!"),Et(!1)}catch(v){console.error("  :",v.message),alert("   .")}},lw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","section_order").single();if(v&&v.code!=="PGRST116"){console.error("   :",v.message);return}if(d&&d.setting_value){const w=JSON.parse(d.setting_value);Bl(w),localStorage.setItem("sectionOrder",JSON.stringify(w))}else{const w=localStorage.getItem("sectionOrder");w&&Bl(JSON.parse(w))}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("sectionOrder");v&&Bl(JSON.parse(v))}},ow=async d=>{try{localStorage.setItem("sectionOrder",JSON.stringify(d));const{data:v,error:w}=await q.from("user_settings").select("id").eq("setting_key","section_order").single();w&&w.code!=="PGRST116"&&console.error("   :",w.message),v?await q.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await q.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d)}])}catch(v){console.error("   :",v.message)}},cw=async()=>{if(!Un)try{oa(!0);const{data:d,error:v}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);if(v)throw v;if(d&&d.length>0){const{error:w}=await q.from("spec_memos").update({content:Me,updated_at:new Date().toISOString()}).eq("id",d[0].id);if(w)throw w}else{const{error:w}=await q.from("spec_memos").insert([{content:Me}]);if(w)throw w}Sn(Me),la(!1)}catch(d){console.error("  :",d.message)}finally{oa(!1)}},uw=()=>{qt(ys),la(!1)},hu=d=>{V(H===d?null:d)},mu=async(d,v)=>{if(!(!v||v.trim()===""))try{const M=e.filter(C=>C.parent_id===d).length+1,D=He(S),{data:A,error:U}=await q.from("todos").insert([{text:v.trim(),completed:!1,order_index:M,date:D,parent_id:d}]).select();if(U)throw U;t([...e,A[0]])}catch(w){console.error("    :",w.message)}},gu=async(d,v)=>{try{let w=null;yt.current.add(d);const M=new Date().toISOString();if(t(U=>(w=U.find(C=>C.id===d),!w||w.text===v?(yt.current.delete(d),U):U.map(C=>C.id===d?{...C,text:v,updated_at:M}:C))),!w||w.text===v)return;const{error:D}=await q.from("todo_history").insert([{todo_id:d,previous_text:w.text,new_text:v,changed_on_date:w.date}]);if(D&&console.error("  :",D.message),w.original_todo_id){const{data:U,error:C}=await q.from("todos").select("text, date").eq("id",w.original_todo_id).single();!C&&U&&await q.from("todo_history").insert([{todo_id:w.original_todo_id,previous_text:w.text,new_text:v,changed_on_date:w.date}])}const{error:A}=await q.from("todos").update({text:v}).eq("id",d);A?(console.error("   :",A.message),t(U=>U.map(C=>C.id===d?w:C)),yt.current.delete(d)):setTimeout(()=>{yt.current.delete(d)},5e3)}catch(w){console.error("   :",w.message),yt.current.delete(d)}},dw=xf(La(vl,{activationConstraint:{delay:300,tolerance:8}}),La(Of,{activationConstraint:{delay:500,tolerance:10,distance:10}}),La(yl,{coordinateGetter:Df})),fw=xf(La(vl,{activationConstraint:{distance:5}}),La(Of,{activationConstraint:{delay:100,tolerance:5}}),La(yl,{coordinateGetter:Df})),hw=d=>{const{active:v,over:w}=d;v.id!==(w==null?void 0:w.id)&&Bl(M=>{const D=M.indexOf(v.id),A=M.indexOf(w.id),U=xc(M,D,A);return ow(U),U})},mw=d=>{Zs&&d.target===d.currentTarget&&Ps(!1)},gw=()=>{h(!0)},yw=()=>{h(!1)},vw=async d=>{h(!1);const{active:v,over:w}=d;if(!w||v.id===w.id)return;const M=e.findIndex(U=>U.id===v.id),D=e.findIndex(U=>U.id===w.id),A=xc(e,M,D);t(A);try{const U=A.map((C,B)=>({id:C.id,order_index:B+1}));for(const C of U)await q.from("todos").update({order_index:C.order_index}).eq("id",C.id)}catch(U){console.error("  :",U.message),ka()}};return c.jsxs("div",{className:`app ${f?"dragging-active":""}`,children:[pe&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>gt(!1)}),c.jsxs("div",{className:`sidebar ${pe?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>gt(!1),children:""})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=Wn==="vertical"?"horizontal":"vertical";g_(d),localStorage.setItem("viewMode",d),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:Wn==="vertical"?"":""}),c.jsx("span",{children:Wn==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{J_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{U_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{F_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=document.querySelector(".key-thoughts-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"}),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Z_(),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Qs(!0),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{tn(!0),gt(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]})]})]}),c.jsxs("div",{className:`container ${Wn==="horizontal"?"container-wide":""}`,children:[c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>gt(!pe),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Fn(S)}),c.jsx("input",{type:"date",value:He(S),onChange:j_,className:"date-picker-input"})]}),c.jsx("button",{onClick:E_,className:"date-nav-button",children:""}),c.jsx("button",{onClick:T_,className:"date-nav-button",children:""})]}),c.jsx("div",{className:"encouragement-section",children:Ph(S)?c.jsx("div",{className:"encouragement-message",onClick:b_,title:"    !",children:he?c.jsx("span",{className:"encouragement-emoji",children:"  "}):ce||Hl()}):c.jsx("button",{onClick:()=>E(new Date),className:"today-link",title:" ",children:"  "})}),Zs&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>Ps(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})}),c.jsxs("div",{className:"content-scrollable",ref:ru,children:[c.jsx(Af,{sensors:dw,collisionDetection:Ef,onDragStart:gw,onDragEnd:vw,onDragCancel:yw,children:c.jsx("div",{className:"todo-list",children:o?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const d=e.filter(M=>!M.parent_id&&M.routine_id!==null&&!M.is_pending_routine),v=e.filter(M=>!M.parent_id&&M.is_pending_routine),w=e.filter(M=>!M.parent_id&&M.routine_id===null&&!M.is_pending_routine);return c.jsx(Af,{sensors:fw,collisionDetection:Ef,onDragEnd:hw,children:c.jsx(Dr,{items:Zh,strategy:wO,children:c.jsx("div",{ref:Ws,className:`sections-container ${Wn==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:mw,children:Zh.map(M=>M==="memo"?c.jsx(bo,{id:"memo",disabled:!Zs,onLongPress:()=>Ps(!0),children:c.jsxs(MO,{title:"  ",className:"memo-section section-block",content:Me,setContent:qt,isEditing:ca,isSaving:Un,textareaRef:Fe,onStartEdit:tw,onSave:um,onCancel:dm,onKeyDown:nw,placeholder:" ...",emptyMessage:" ",children:[!ca&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>Xs(!xt),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.background="rgba(255, 255, 255, 0.1)",D.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:D=>{D.currentTarget.style.background="rgba(255, 255, 255, 0.05)",D.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:xt?"":""})]})}),xt&&!ca&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const D=new Date,A=Vl=>{const ps=new Date(D);return ps.setDate(ps.getDate()+Vl),ps.toISOString().split("T")[0]},U=Vl=>{const ps=new Date(D);return ps.setDate(ps.getDate()+Vl),ps.getDate()},C=Date.now(),B=U(-2),G=U(-1),I=U(0),Z=U(1),be=U(2),ne=A(-2),ie=A(-1),we=A(0),an=A(1),hm=A(2),pw=`--         (${we} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${B}--', '${ne}', false, '${ne}T09:00:00+09:00', 1001),
  ('[DUMMY-${C}] : ${B}-${B}', '${ne}', true, '${ne}T09:10:00+09:00', 1002),
  ('[DUMMY-${C}] : ${B}-${G}', '${ne}', true, '${ne}T09:20:00+09:00', 1003),
  ('[DUMMY-${C}] : ${B}-${I}', '${ne}', true, '${ne}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${G}--', '${ie}', false, '${ie}T10:00:00+09:00', 1005),
  ('[DUMMY-${C}] : ${G}-${G}', '${ie}', true, '${ie}T10:10:00+09:00', 1006),
  ('[DUMMY-${C}] : ${G}-${I}', '${ie}', true, '${ie}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${I}-', '${we}', false, '${we}T11:00:00+09:00', 1008),
  ('[DUMMY-${C}] : ${I}-${I}', '${we}', true, '${we}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${B}-${G}-', '${ie}', false, '${ne}T14:00:00+09:00', 1010),
  ('[DUMMY-${C}] : ${B}-${G}-${G}', '${ie}', true, '${ne}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${G}-${I}-', '${we}', false, '${ie}T15:00:00+09:00', 1012),
  ('[DUMMY-${C}] : ${G}-${I}-${I}', '${we}', true, '${ie}T15:10:00+09:00', 1013),
  ('[DUMMY-${C}] : ${B}-${I}-', '${we}', false, '${ne}T15:00:00+09:00', 1014),
  ('[DUMMY-${C}] : ${B}-${I}-${I}', '${we}', true, '${ne}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${I}-${Z}-', '${an}', false, '${we}T16:00:00+09:00', 1016),
  ('[DUMMY-${C}] : ${G}-${Z}-', '${an}', false, '${ie}T16:00:00+09:00', 1017),
  ('[DUMMY-${C}] : ${B}-${Z}-', '${an}', false, '${ne}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${C}] : ${I}-${be}-', '${hm}', false, '${we}T17:00:00+09:00', 1019),
  ('[DUMMY-${C}] : ${G}-${be}-', '${hm}', false, '${ie}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${C}] : ${B}--1', '[DUMMY-${C}] : ${B}--2', '${ie}T12:00:00+09:00', '${ie}'
FROM todos WHERE text = '[DUMMY-${C}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${C}] : ${B}--2', '[DUMMY-${C}] : ${B}--', '${we}T12:00:00+09:00', '${we}'
FROM todos WHERE text = '[DUMMY-${C}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${C}] : ${G}--1', '[DUMMY-${C}] : ${G}--', '${we}T13:00:00+09:00', '${we}'
FROM todos WHERE text = '[DUMMY-${C}] : ${G}--' LIMIT 1;`,ei=document.createElement("textarea");ei.value=pw,ei.style.position="fixed",ei.style.opacity="0",document.body.appendChild(ei),ei.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ei)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const D=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,A=document.createElement("textarea");A.value=D,A.style.position="fixed",A.style.opacity="0",document.body.appendChild(A),A.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(A)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):M==="routine"?c.jsx(bo,{id:"routine",disabled:!Zs,onLongPress:()=>Ps(!0),children:c.jsxs(Dy,{title:" ",className:"routine-section section-block",inputValue:s,setInputValue:i,onAddTodo:H_,isAdding:m,placeholder:"   ...",children:[d.length>0&&c.jsx(Dr,{items:d.map(D=>D.id),strategy:zo,children:d.map((D,A)=>{const U=e.filter(C=>C.parent_id===D.id);return c.jsx($o,{todo:D,index:A,onToggle:ou,onDelete:uu,onEdit:gu,formatDate:vs,formatDateOnly:Fn,isFocused:H===D.id,onFocus:hu,onAddSubTodo:mu,subtodos:U,level:0,onCreateRoutine:Fs,routines:ee,onShowRoutineHistory:ql,onOpenRoutineSetupModal:fu,onOpenHistoryModal:du,currentPageDate:He(S),onRemoveFromUI:cu,showSuccessMessage:re},D.id)})}),d.length>0&&v.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),v.length>0&&c.jsx(Dr,{items:v.map(D=>D.id),strategy:zo,children:v.map((D,A)=>{const U=e.filter(C=>C.parent_id===D.id);return c.jsx($o,{todo:D,index:A,onToggle:ou,onDelete:uu,onEdit:gu,formatDate:vs,formatDateOnly:Fn,isFocused:H===D.id,onFocus:hu,onAddSubTodo:mu,subtodos:U,level:0,onCreateRoutine:Fs,routines:ee,onShowRoutineHistory:ql,onOpenRoutineSetupModal:fu,onOpenHistoryModal:du,currentPageDate:He(S),isPendingRoutine:!0,onRemoveFromUI:cu,showSuccessMessage:re},D.id)})})]})},"routine"):M==="normal"?c.jsx(bo,{id:"normal",disabled:!Zs,onLongPress:()=>Ps(!0),children:c.jsx(Dy,{title:"  ",className:"normal-section section-block",inputValue:r,setInputValue:l,onAddTodo:q_,isAdding:m,placeholder:"   ...",children:w.length>0&&c.jsx(Dr,{items:w.map(D=>D.id),strategy:zo,children:w.map((D,A,U)=>{const C=e.filter(ne=>ne.parent_id===D.id),B=He(S),G=D.created_at?D.created_at.split("T")[0]:D.date,I=U[A+1],Z=I?I.created_at?I.created_at.split("T")[0]:I.date:null,be=G<B&&Z>=B;return c.jsxs($e.Fragment,{children:[c.jsx($o,{todo:D,index:A,onToggle:ou,onDelete:uu,onEdit:gu,formatDate:vs,formatDateOnly:Fn,isFocused:H===D.id,onFocus:hu,onAddSubTodo:mu,subtodos:C,level:0,onCreateRoutine:Fs,routines:ee,onShowRoutineHistory:ql,onOpenRoutineSetupModal:fu,onOpenHistoryModal:du,currentPageDate:B,onRemoveFromUI:cu,showSuccessMessage:re}),be&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},D.id)})})})},"normal"):M==="key-thoughts"?c.jsx(bo,{id:"key-thoughts",disabled:!Zs,onLongPress:()=>Ps(!0),children:c.jsx(kO,{blocks:Ze,setBlocks:et,focusedBlockId:Yt,setFocusedBlockId:Vt,onShowHistory:()=>{iw(),Et(!0)}})},"key-thoughts"):null)})})})})()})}),Wn==="horizontal"&&c.jsx("div",{className:"section-pagination-dots",children:[0,1,2].map(d=>c.jsx("button",{className:`pagination-dot ${y_===d?"active":""}`,onClick:()=>{const v=Ws.current;if(!v)return;const w=v.querySelectorAll(".section-block");w[d]&&w[d].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},d))})]}),y&&c.jsxs("div",{className:"undo-toast",children:[c.jsx("span",{children:""}),c.jsx("button",{onClick:G_,className:"undo-button",children:""})]}),x&&c.jsxs("div",{className:"undo-toast success-toast",children:[c.jsx("span",{children:N}),R&&c.jsx("button",{onClick:Le,className:"undo-button",children:""})]}),p_&&Ll&&c.jsx("div",{className:"modal-overlay",onClick:()=>mr(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>mr(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:Ll.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>V_(Ll),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>I_(Ll),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),Ue&&Ra&&(()=>{const d=Ra,v=d.visible_dates&&d.visible_dates.length>0?d.visible_dates:[d.date],w=v[0],M=v.map(A=>({id:`${d.id}-${A}`,date:A})),D=eu[d.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:rm,children:c.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:rm,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:vs(d.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Fn(w?new Date(w+"T00:00:00"):new Date(d.date+"T00:00:00"))})]}),M.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:M.map((A,U)=>{const C=A.date===d.date,B=Fn(new Date(A.date+"T00:00:00"));return c.jsxs("span",{children:[U>0&&"  ",c.jsxs("span",{style:C?{fontWeight:"bold",color:"#4CAF50"}:{},children:[B.split("(")[0],C?"()":""]})]},A.id)})})]}),(()=>{const A=new Date(d.created_at).toISOString().split("T")[0],U=d.date;return A!==U&&M.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Fn(new Date(d.date+"T00:00:00"))})]}):null})(),D.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",D.length,")"]}),D.map(A=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[vs(A.changed_at),A.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Fn(new Date(A.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:U=>{U.stopPropagation(),P_(A.id)},children:Qh.includes(A.id)?"":""})]}),Qh.includes(A.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:A.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:A.new_text})]})]})]},A.id))]})]})})]})})})(),Js&&Ra&&(()=>{const d=Ra,v=ee.find(w=>w.id===d.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:gr,children:c.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:gr,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:v&&!nu?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:As.filter(w=>v.days.includes(w.key)).map(w=>c.jsx("span",{className:"routine-day-badge",children:w.label},w.key))}),v.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",v.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:w=>{w.stopPropagation(),v&&(fr(v.days),hr(v.time_slot||""),$l(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async w=>{w.stopPropagation(),v&&d&&(await Fs(d.id,d.text,[],null,!0),gr())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:nu?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:As.map(w=>c.jsx("button",{onClick:M=>{M.stopPropagation(),W_(w.key)},className:`day-button-inline ${tu.includes(w.key)?"selected":""}`,children:w.label},w.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Cf,{value:au,onChange:w=>hr(w)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async w=>{w.stopPropagation(),d&&(nu&&v?await Fs(d.id,d.text,tu,v.id,!1,au):await Fs(d.id,d.text,tu,null,!1,au),gr())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:w=>{w.stopPropagation(),gr()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),L&&c.jsx("div",{className:"modal-overlay",onClick:sm,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[F.length>0&&c.jsx("button",{onClick:Q_,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:sm,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:F.length===0?c.jsx("p",{className:"empty-message",children:" ."}):F.map(d=>{const v=d.visible_dates||(d.date?[d.date]:[]),w=v.length>1||d.original_todo_id,M=d.original_todo_id!==null&&d.original_todo_id!==void 0,D=d.hidden_dates&&d.hidden_dates.length>0;let A="  ";return M?A="   ( )":D?A="  ":d.deleted===!0&&(A=v.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${d.completed?"completed":""}`,children:d.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",vs(d.created_at)]}),d.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",d.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${M?"old-style":D?"partial":"complete"}`,children:A})]}),w&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:v.length>0?v.map((U,C)=>c.jsx("span",{className:"carryover-date-badge",children:U},C)):d.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",d.original_todo_id,")"]}):null}),D&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),d.hidden_dates.map((U,C)=>c.jsx("span",{className:"hidden-date-badge",children:U},C))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>K_(d.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>X_(d.id),className:"permanent-delete-button",title:" ",children:" "})]})]},d.id)})})]})}),wn&&c.jsx("div",{className:"modal-overlay",onClick:()=>tn(!1),children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>tn(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:__,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:x_,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),Da.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[Da.map((d,v)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",v+1,": ",d.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",d.count,""]}),d.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",d.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:vs(d.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${v+1} ?`)&&w_(d.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},d.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&S_()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}),st&&c.jsx("div",{className:"modal-overlay",onClick:om,children:c.jsxs("div",{className:"modal-content memo-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:om,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"memo-content",children:ra?c.jsxs("div",{className:"memo-edit-mode",children:[c.jsx("textarea",{value:Me,onChange:d=>qt(d.target.value),className:"memo-textarea",placeholder:"  ...",rows:20}),c.jsxs("div",{className:"memo-actions",children:[c.jsx("button",{onClick:cw,className:"memo-save-button",disabled:Un,children:Un?" ...":" "}),c.jsx("button",{onClick:uw,className:"memo-cancel-button",disabled:Un,children:" "})]})]}):c.jsxs("div",{className:"memo-view-mode",children:[c.jsx("div",{className:"memo-display",children:c.jsx("pre",{className:"memo-text",children:Me})}),c.jsx("div",{className:"memo-actions",children:c.jsx("button",{onClick:ew,className:"memo-edit-button",children:" "})})]})})]})}),Xn&&c.jsx("div",{className:"modal-overlay",onClick:im,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:im,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(d=>c.jsx("button",{className:`period-button ${$n===d.value?"active":""}`,onClick:()=>Ul(d.value),children:d.label},d.value))})}),c.jsx("div",{className:"gantt-content",children:Ct.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const d=Ct.flatMap(C=>C.dates),v=[...new Set(d)].sort((C,B)=>new Date(C)-new Date(B)),w=v[0],M=v[v.length-1],D=[];let A=new Date(w+"T00:00:00");const U=new Date(M+"T00:00:00");for(;A<=U;)D.push(He(A)),A.setDate(A.getDate()+1);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:D.map(C=>c.jsx("div",{className:"gantt-date-cell",children:Fn(new Date(C+"T00:00:00")).split("(")[0]},C))})]}),Ct.map((C,B)=>{const G=new Set(C.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:C.text,children:c.jsx("span",{className:C.completed?"completed-task":"",children:C.text})}),c.jsx("div",{className:"gantt-timeline",children:D.map(I=>{if(!G.has(I))return c.jsx("div",{className:"gantt-date-cell"},I);const be=I===C.startDate,ne=I===C.completedDate;let ie="gantt-date-cell has-task";return be?ie+=" start-date":ne?ie+=" completed-date":ie+=" middle-date",c.jsx("div",{className:ie,children:ne?c.jsx("span",{className:"completed-circle",children:""}):""},I)})})]},C.originalId)})]})})()})})]})}),K&&c.jsx("div",{className:"modal-overlay",onClick:nm,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:nm,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:ve,onChange:d=>je(d.target.value),placeholder:"  ...",className:"routine-input",disabled:mt}),c.jsx("div",{className:"day-selector",children:As.map(d=>c.jsx("button",{onClick:()=>z_(d.key),className:`day-button ${Ce.includes(d.key)?"selected":""}`,disabled:mt,children:d.label},d.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(Cf,{value:_e,onChange:d=>vn(d)})]}),c.jsx("button",{onClick:N_,className:"add-routine-button",disabled:mt||ve.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:ee.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):ee.map(d=>c.jsx("div",{className:"routine-item",children:pn===d.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:Ht,onChange:v=>Qe(v.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:As.map(v=>c.jsx("button",{onClick:()=>C_(v.key),className:`day-button-inline ${_n.includes(v.key)?"selected":""}`,children:v.label},v.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:D_,className:"routine-save-button",disabled:Ht.trim()===""||_n.length===0,children:""}),c.jsx("button",{onClick:Fh,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:d.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:As.filter(v=>d.days.includes(v.key)).map(v=>c.jsx("span",{className:"routine-day-badge",children:v.label},v.key))}),d.time_slot&&c.jsx("span",{className:"routine-time-slot",children:d.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>ql(d),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>A_(d),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>R_(d.id),className:"routine-delete-button",title:"",children:""})]})]})},d.id))})]})}),at&&kn&&c.jsx("div",{className:"modal-overlay",onClick:tm,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",kn.text," "]}),c.jsx("button",{onClick:tm,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(pt.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const d=pt[0],v=new Date(d.date),w=new Date,M={};pt.forEach(U=>{M[U.date]=U.completed});const D=[];let A=new Date(v);for(;A<=w;){const U=A.getFullYear(),C=A.getMonth(),B=`${U}-${C+1}`;D.find(ie=>ie.key===B)||D.push({key:B,year:U,month:C,days:[]});const G=D.find(ie=>ie.key===B),I=He(A),Z=A.getDay(),be=Cy(Z),ne=kn.days.includes(be);G.days.push({date:new Date(A),dateStr:I,day:A.getDate(),dayOfWeek:Z,isCompleted:M[I]===!0,isRoutineDay:ne,hasTodo:M[I]!==void 0}),A.setDate(A.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:D.map(U=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[U.year," ",U.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),U.days.length>0&&Array(U.days[0].dayOfWeek).fill(null).map((C,B)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${B}`)),U.days.map((C,B)=>{if(B>0&&C.day===1){const I=6-U.days[B-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(I).fill(null).map((Z,be)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${B}-${be}`)),c.jsx("div",{className:"history-day-header",children:""},C.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${C.isCompleted?"completed":""} ${C.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:C.day}),C.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${C.isCompleted?"completed":""} ${C.isRoutineDay?"":"not-routine-day"}`,title:`${C.dateStr}${C.isRoutineDay?"":" (  )"}${C.isCompleted?" - ":C.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:C.day}),C.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},C.dateStr)})]})]},U.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[pt.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[pt.filter(d=>d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[pt.filter(d=>!d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[pt.length>0?Math.round(pt.filter(d=>d.completed).length/pt.length*100):0,"%"]})]})]})]})]})}),zl&&c.jsx("div",{className:"modal-overlay",onClick:()=>Qs(!1),children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>Qs(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:Pn,onChange:d=>ur(d.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async d=>{d.key==="Enter"&&Pn.trim()!==""&&(await am(Pn.trim()),ur(""))}}),c.jsx("button",{onClick:async()=>{Pn.trim()!==""&&(await am(Pn.trim()),ur(""))},className:"add-encouragement-button",disabled:Pn.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:Zn.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):Zn.map((d,v)=>c.jsx("div",{className:"encouragement-item",children:Fc===v?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:Y,onChange:w=>oe(w.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{Y.trim()!==""&&(await $_(v,Y.trim()),z(null),oe(""))},className:"encouragement-save-button",disabled:Y.trim()==="",children:""}),c.jsx("button",{onClick:()=>{z(null),oe("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:d}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{z(v),oe(d)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await B_(v)},className:"encouragement-delete-button",title:"",children:""})]})]})},v))})]})}),It&&c.jsx("div",{className:"modal-overlay",onClick:()=>Et(!1),children:c.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:()=>Et(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:Ke.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:Ke.map(d=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(d.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:d.description})]}),c.jsx("button",{onClick:()=>rw(d.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(d.content)?d.content.map((v,w)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[v.type==="toggle"?" ":"",v.content||"( )"]},w)):"( )"})]},d.id))})})]})})]})]})}y1.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(UO,{})}));
