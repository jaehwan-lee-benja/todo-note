function dw(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function my(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var yy={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=Symbol.for("react.transitional.element"),hw=Symbol.for("react.fragment");function py(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:fw,type:e,key:i,ref:t!==void 0?t:null,props:n}}lc.Fragment=hw;lc.jsx=py;lc.jsxs=py;yy.exports=lc;var c=yy.exports,vy={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=Symbol.for("react.transitional.element"),mw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),vw=Symbol.for("react.consumer"),bw=Symbol.for("react.context"),_w=Symbol.for("react.forward_ref"),ww=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),by=Symbol.for("react.lazy"),xw=Symbol.for("react.activity"),Jh=Symbol.iterator;function Tw(e){return e===null||typeof e!="object"?null:(e=Jh&&e[Jh]||e["@@iterator"],typeof e=="function"?e:null)}var _y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wy=Object.assign,Sy={};function Qa(e,t,n){this.props=e,this.context=t,this.refs=Sy,this.updater=n||_y}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=Qa.prototype;function sf(e,t,n){this.props=e,this.context=t,this.refs=Sy,this.updater=n||_y}var lf=sf.prototype=new xy;lf.constructor=sf;wy(lf,Qa.prototype);lf.isPureReactComponent=!0;var Ph=Array.isArray;function Vu(){}var yt={H:null,A:null,T:null,S:null},Ty=Object.prototype.hasOwnProperty;function of(e,t,n){var i=n.ref;return{$$typeof:af,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Ew(e,t){return of(e.type,t,e.props)}function cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===af}function jw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zh=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jw(""+e.key):t.toString(36)}function Ow(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Vu,Vu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function la(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case af:case mw:s=!0;break;case by:return s=e._init,la(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+Kc(e,0):i,Ph(r)?(n="",s!=null&&(n=s.replace(Zh,"$&/")+"/"),la(r,t,n,"",function(u){return u})):r!=null&&(cf(r)&&(r=Ew(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Zh,"$&/")+"/")+s)),t.push(r)),1;s=0;var l=i===""?".":i+":";if(Ph(e))for(var o=0;o<e.length;o++)i=e[o],a=l+Kc(i,o),s+=la(i,t,n,a,r);else if(o=Tw(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,a=l+Kc(i,o++),s+=la(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return la(Ow(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Cl(e,t,n){if(e==null)return e;var i=[],r=0;return la(e,i,"","",function(a){return t.call(n,a,r++)}),i}function Dw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Aw={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Activity=xw;xe.Children=Aw;xe.Component=Qa;xe.Fragment=gw;xe.Profiler=pw;xe.PureComponent=sf;xe.StrictMode=yw;xe.Suspense=ww;xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt;xe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return yt.H.useMemoCache(e)}};xe.cache=function(e){return function(){return e.apply(null,arguments)}};xe.cacheSignal=function(){return null};xe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=wy({},e.props),r=e.key;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)!Ty.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}return of(e.type,r,i)};xe.createContext=function(e){return e={$$typeof:bw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:vw,_context:e},e};xe.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Ty.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return of(e,a,r)};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:_w,render:e}};xe.isValidElement=cf;xe.lazy=function(e){return{$$typeof:by,_payload:{_status:-1,_result:e},_init:Dw}};xe.memo=function(e,t){return{$$typeof:Sw,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=yt.T,n={};yt.T=n;try{var i=e(),r=yt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Vu,Fh)}catch(a){Fh(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),yt.T=t}};xe.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()};xe.use=function(e){return yt.H.use(e)};xe.useActionState=function(e,t,n){return yt.H.useActionState(e,t,n)};xe.useCallback=function(e,t){return yt.H.useCallback(e,t)};xe.useContext=function(e){return yt.H.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e,t){return yt.H.useDeferredValue(e,t)};xe.useEffect=function(e,t){return yt.H.useEffect(e,t)};xe.useEffectEvent=function(e){return yt.H.useEffectEvent(e)};xe.useId=function(){return yt.H.useId()};xe.useImperativeHandle=function(e,t,n){return yt.H.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return yt.H.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return yt.H.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return yt.H.useMemo(e,t)};xe.useOptimistic=function(e,t){return yt.H.useOptimistic(e,t)};xe.useReducer=function(e,t,n){return yt.H.useReducer(e,t,n)};xe.useRef=function(e){return yt.H.useRef(e)};xe.useState=function(e){return yt.H.useState(e)};xe.useSyncExternalStore=function(e,t,n){return yt.H.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return yt.H.useTransition()};xe.version="19.2.0";vy.exports=xe;var _=vy.exports;const gt=my(_);var Ey={exports:{}},oc={},jy={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,B){var Q=C.length;C.push(B);e:for(;0<Q;){var de=Q-1>>>1,ve=C[de];if(0<r(ve,B))C[de]=B,C[Q]=ve,Q=de;else break e}}function n(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var B=C[0],Q=C.pop();if(Q!==B){C[0]=Q;e:for(var de=0,ve=C.length,vt=ve>>>1;de<vt;){var He=2*(de+1)-1,qe=C[He],ze=He+1,$e=C[ze];if(0>r(qe,Q))ze<ve&&0>r($e,qe)?(C[de]=$e,C[ze]=Q,de=ze):(C[de]=qe,C[He]=Q,de=He);else if(ze<ve&&0>r($e,Q))C[de]=$e,C[ze]=Q,de=ze;else break e}}return B}function r(C,B){var Q=C.sortIndex-B.sortIndex;return Q!==0?Q:C.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],u=[],f=1,d=null,m=3,h=!1,v=!1,b=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(C){for(var B=n(u);B!==null;){if(B.callback===null)i(u);else if(B.startTime<=C)i(u),B.sortIndex=B.expirationTime,t(o,B);else break;B=n(u)}}function T(C){if(b=!1,w(C),!v)if(n(o)!==null)v=!0,j||(j=!0,V());else{var B=n(u);B!==null&&ce(T,B.startTime-C)}}var j=!1,S=-1,E=5,A=-1;function O(){return x?!0:!(e.unstable_now()-A<E)}function N(){if(x=!1,j){var C=e.unstable_now();A=C;var B=!0;try{e:{v=!1,b&&(b=!1,g(S),S=-1),h=!0;var Q=m;try{t:{for(w(C),d=n(o);d!==null&&!(d.expirationTime>C&&O());){var de=d.callback;if(typeof de=="function"){d.callback=null,m=d.priorityLevel;var ve=de(d.expirationTime<=C);if(C=e.unstable_now(),typeof ve=="function"){d.callback=ve,w(C),B=!0;break t}d===n(o)&&i(o),w(C)}else i(o);d=n(o)}if(d!==null)B=!0;else{var vt=n(u);vt!==null&&ce(T,vt.startTime-C),B=!1}}break e}finally{d=null,m=Q,h=!1}B=void 0}}finally{B?V():j=!1}}}var V;if(typeof y=="function")V=function(){y(N)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,te=Z.port2;Z.port1.onmessage=N,V=function(){te.postMessage(null)}}else V=function(){p(N,0)};function ce(C,B){S=p(function(){C(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Q=m;m=B;try{return C()}finally{m=Q}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(C,B){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Q=m;m=C;try{return B()}finally{m=Q}},e.unstable_scheduleCallback=function(C,B,Q){var de=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,C){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Q+ve,C={id:f++,callback:B,priorityLevel:C,startTime:Q,expirationTime:ve,sortIndex:-1},Q>de?(C.sortIndex=Q,t(u,C),n(o)===null&&C===n(u)&&(b?(g(S),S=-1):b=!0,ce(T,Q-de))):(C.sortIndex=ve,t(o,C),v||h||(v=!0,j||(j=!0,V()))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var B=m;return function(){var Q=m;m=B;try{return C.apply(this,arguments)}finally{m=Q}}}})(Oy);jy.exports=Oy;var Nw=jy.exports,Dy={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=_;function Ay(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bi(){}var cn={d:{f:Bi,r:function(){throw Error(Ay(522))},D:Bi,C:Bi,L:Bi,m:Bi,X:Bi,S:Bi,M:Bi},p:0,findDOMNode:null},Rw=Symbol.for("react.portal");function Mw(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rw,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Es=Cw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function cc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=cn;un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ay(299));return Mw(e,t,null,n)};un.flushSync=function(e){var t=Es.T,n=cn.p;try{if(Es.T=null,cn.p=2,e)return e()}finally{Es.T=t,cn.p=n,cn.d.f()}};un.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,cn.d.C(e,t))};un.prefetchDNS=function(e){typeof e=="string"&&cn.d.D(e)};un.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=cc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?cn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&cn.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};un.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=cc(t.as,t.crossOrigin);cn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&cn.d.M(e)};un.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=cc(n,t.crossOrigin);cn.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};un.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=cc(t.as,t.crossOrigin);cn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else cn.d.m(e)};un.requestFormReset=function(e){cn.d.r(e)};un.unstable_batchedUpdates=function(e,t){return e(t)};un.useFormState=function(e,t,n){return Es.H.useFormState(e,t,n)};un.useFormStatus=function(){return Es.H.useHostTransitionStatus()};un.version="19.2.0";function Ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ny)}catch(e){console.error(e)}}Ny(),Dy.exports=un;var Ar=Dy.exports;const Cy=my(Ar);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=Nw,Ry=_,kw=Ar;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function My(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ky(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wh(e){if(ul(e)!==e)throw Error(k(188))}function Uw(e){var t=e.alternate;if(!t){if(t=ul(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Wh(r),e;if(a===i)return Wh(r),t;a=a.sibling}throw Error(k(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function zy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zy(e),t!==null)return t;e=e.sibling}return null}var pt=Object.assign,zw=Symbol.for("react.element"),Rl=Symbol.for("react.transitional.element"),bs=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),By=Symbol.for("react.consumer"),Ti=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),df=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Qu=Symbol.for("react.activity"),$w=Symbol.for("react.memo_cache_sentinel"),em=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=em&&e[em]||e["@@iterator"],typeof e=="function"?e:null)}var Bw=Symbol.for("react.client.reference");function Ju(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Bw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ha:return"Fragment";case Gu:return"Profiler";case $y:return"StrictMode";case Ku:return"Suspense";case Xu:return"SuspenseList";case Qu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case bs:return"Portal";case Ti:return e.displayName||"Context";case By:return(e._context.displayName||"Context")+".Consumer";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case df:return t=e.displayName||null,t!==null?t:Ju(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return Ju(e(t))}catch{}}return null}var _s=Array.isArray,we=Ry.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=kw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cr={pending:!1,data:null,method:null,action:null},Pu=[],ma=-1;function hi(e){return{current:e}}function Jt(e){0>ma||(e.current=Pu[ma],Pu[ma]=null,ma--)}function ut(e,t){ma++,Pu[ma]=e.current,e.current=t}var fi=hi(null),Gs=hi(null),er=hi(null),wo=hi(null);function So(e,t){switch(ut(er,t),ut(Gs,e),ut(fi,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sg(t),e=r0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Jt(fi),ut(fi,e)}function Ua(){Jt(fi),Jt(Gs),Jt(er)}function Zu(e){e.memoizedState!==null&&ut(wo,e);var t=fi.current,n=r0(t,e.type);t!==n&&(ut(Gs,e),ut(fi,n))}function xo(e){Gs.current===e&&(Jt(fi),Jt(Gs)),wo.current===e&&(Jt(wo),nl._currentValue=Cr)}var Xc,tm;function _r(e){if(Xc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xc=t&&t[1]||"",tm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xc+e+tm}var Qc=!1;function Jc(e,t){if(!e||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var m=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){m=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){m=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var o=s.split(`
`),u=l.split(`
`);for(r=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===o.length||r===u.length)for(i=o.length-1,r=u.length-1;1<=i&&0<=r&&o[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(o[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||o[i]!==u[r]){var f=`
`+o[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_r(n):""}function Lw(e,t){switch(e.tag){case 26:case 27:case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return e.child!==t&&t!==null?_r("Suspense Fallback"):_r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return Jc(e.type,!1);case 11:return Jc(e.type.render,!1);case 1:return Jc(e.type,!0);case 31:return _r("Activity");default:return""}}function nm(e){try{var t="",n=null;do t+=Lw(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Fu=Object.prototype.hasOwnProperty,ff=Vt.unstable_scheduleCallback,Pc=Vt.unstable_cancelCallback,Hw=Vt.unstable_shouldYield,qw=Vt.unstable_requestPaint,Rn=Vt.unstable_now,Iw=Vt.unstable_getCurrentPriorityLevel,Ly=Vt.unstable_ImmediatePriority,Hy=Vt.unstable_UserBlockingPriority,To=Vt.unstable_NormalPriority,Yw=Vt.unstable_LowPriority,qy=Vt.unstable_IdlePriority,Vw=Vt.log,Gw=Vt.unstable_setDisableYieldValue,dl=null,Mn=null;function Ji(e){if(typeof Vw=="function"&&Gw(e),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(dl,e)}catch{}}var kn=Math.clz32?Math.clz32:Qw,Kw=Math.log,Xw=Math.LN2;function Qw(e){return e>>>=0,e===0?32:31-(Kw(e)/Xw|0)|0}var Ml=256,kl=262144,Ul=4194304;function wr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function uc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?r=wr(i):(s&=l,s!==0?r=wr(s):n||(n=l&~e,n!==0&&(r=wr(n))))):(l=i&~a,l!==0?r=wr(l):s!==0?r=wr(s):n||(n=i&~e,n!==0&&(r=wr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(){var e=Ul;return Ul<<=1,!(Ul&62914560)&&(Ul=4194304),e}function Zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pw(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-kn(n),d=1<<f;l[f]=0,o[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var h=m[f];h!==null&&(h.lane&=-536870913)}n&=~d}i!==0&&Yy(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Yy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-kn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Vy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-kn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Gy(e,t){var n=t&-t;return n=n&42?1:hf(n),n&(e.suspendedLanes|t)?0:n}function hf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ky(){var e=Je.p;return e!==0?e:(e=window.event,e===void 0?32:g0(e.type))}function im(e,t){var n=Je.p;try{return Je.p=e,t()}finally{Je.p=n}}var hr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+hr,_n="__reactProps$"+hr,Ja="__reactContainer$"+hr,Wu="__reactEvents$"+hr,Zw="__reactListeners$"+hr,Fw="__reactHandles$"+hr,rm="__reactResources$"+hr,ml="__reactMarker$"+hr;function gf(e){delete e[Ft],delete e[_n],delete e[Wu],delete e[Zw],delete e[Fw]}function ga(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ja]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dg(e);e!==null;){if(n=e[Ft])return n;e=dg(e)}return t}e=n,n=e.parentNode}return null}function Pa(e){if(e=e[Ft]||e[Ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ws(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function Ea(e){var t=e[rm];return t||(t=e[rm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qt(e){e[ml]=!0}var Xy=new Set,Qy={};function Vr(e,t){za(e,t),za(e+"Capture",t)}function za(e,t){for(Qy[e]=t,e=0;e<t.length;e++)Xy.add(t[e])}var Ww=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),am={},sm={};function eS(e){return Fu.call(sm,e)?!0:Fu.call(am,e)?!1:Ww.test(e)?sm[e]=!0:(am[e]=!0,!1)}function ro(e,t,n){if(eS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function yi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){if(!e._valueTracker){var t=Jy(e)?"checked":"value";e._valueTracker=tS(e,t,""+e[t])}}function Py(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Jy(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nS=/[\n"\\]/g;function Kn(e){return e.replace(nS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function td(e,t,n,i,r,a,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yn(t)):e.value!==""+Yn(t)&&(e.value=""+Yn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?nd(e,s,Yn(t)):n!=null?nd(e,s,Yn(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Yn(l):e.removeAttribute("name")}function Zy(e,t,n,i,r,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){ed(e);return}n=n!=null?""+Yn(n):"",t=t!=null?""+Yn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),ed(e)}function nd(e,t,n){t==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Yn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Fy(e,t,n){if(t!=null&&(t=""+Yn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yn(n):""}function Wy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(k(92));if(_s(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Yn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),ed(e)}function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var iS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||iS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ep(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&lm(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&lm(e,a,t[a])}function yf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(e){return aS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ei(){}var id=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,Oa=null;function om(e){var t=Pa(e);if(t&&(e=t.stateNode)){var n=e[_n]||null;e:switch(e=t.stateNode,t.type){case"input":if(td(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[_n]||null;if(!r)throw Error(k(90));td(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Py(i)}break e;case"textarea":Fy(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var Fc=!1;function tp(e,t,n){if(Fc)return e(t,n);Fc=!0;try{var i=e(t);return i}finally{if(Fc=!1,(ya!==null||Oa!==null)&&(Sc(),ya&&(t=ya,e=Oa,Oa=ya=null,om(t),e)))for(t=0;t<e.length;t++)om(e[t])}}function Ks(e,t){var n=e.stateNode;if(n===null)return null;var i=n[_n]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=!1;if(Ni)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){rd=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{rd=!1}var Pi=null,vf=null,so=null;function np(){if(so)return so;var e,t=vf,n=t.length,i,r="value"in Pi?Pi.value:Pi.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return so=r.slice(e,1<i?1-i:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function cm(){return!1}function wn(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$l:cm,this.isPropagationStopped=cm,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=wn(Gr),gl=pt({},Gr,{view:0,detail:0}),sS=wn(gl),Wc,eu,ms,fc=pt({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(Wc=e.screenX-ms.screenX,eu=e.screenY-ms.screenY):eu=Wc=0,ms=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),um=wn(fc),lS=pt({},fc,{dataTransfer:0}),oS=wn(lS),cS=pt({},gl,{relatedTarget:0}),tu=wn(cS),uS=pt({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=wn(uS),fS=pt({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hS=wn(fS),mS=pt({},Gr,{data:0}),dm=wn(mS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pS[e])?!!t[e]:!1}function bf(){return vS}var bS=pt({},gl,{key:function(e){if(e.key){var t=gS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_S=wn(bS),wS=pt({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=wn(wS),SS=pt({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),xS=wn(SS),TS=pt({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=wn(TS),jS=pt({},fc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=wn(jS),DS=pt({},Gr,{newState:0,oldState:0}),AS=wn(DS),NS=[9,13,27,32],_f=Ni&&"CompositionEvent"in window,js=null;Ni&&"documentMode"in document&&(js=document.documentMode);var CS=Ni&&"TextEvent"in window&&!js,ip=Ni&&(!_f||js&&8<js&&11>=js),hm=" ",mm=!1;function rp(e,t){switch(e){case"keyup":return NS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function RS(e,t){switch(e){case"compositionend":return ap(t);case"keypress":return t.which!==32?null:(mm=!0,hm);case"textInput":return e=t.data,e===hm&&mm?null:e;default:return null}}function MS(e,t){if(pa)return e==="compositionend"||!_f&&rp(e,t)?(e=np(),so=vf=Pi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ip&&t.locale!=="ko"?null:t.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kS[e.type]:t==="textarea"}function sp(e,t,n,i){ya?Oa?Oa.push(i):Oa=[i]:ya=i,t=Yo(t,"onChange"),0<t.length&&(n=new dc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Os=null,Xs=null;function US(e){t0(e,0)}function hc(e){var t=ws(e);if(Py(t))return e}function ym(e,t){if(e==="change")return t}var lp=!1;if(Ni){var nu;if(Ni){var iu="oninput"in document;if(!iu){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),iu=typeof pm.oninput=="function"}nu=iu}else nu=!1;lp=nu&&(!document.documentMode||9<document.documentMode)}function vm(){Os&&(Os.detachEvent("onpropertychange",op),Xs=Os=null)}function op(e){if(e.propertyName==="value"&&hc(Xs)){var t=[];sp(t,Xs,e,pf(e)),tp(US,t)}}function zS(e,t,n){e==="focusin"?(vm(),Os=t,Xs=n,Os.attachEvent("onpropertychange",op)):e==="focusout"&&vm()}function $S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hc(Xs)}function BS(e,t){if(e==="click")return hc(t)}function LS(e,t){if(e==="input"||e==="change")return hc(t)}function HS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:HS;function Qs(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Fu.call(t,r)||!zn(e[r],t[r]))return!1}return!0}function bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,t){var n=bm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Eo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qS=Ni&&"documentMode"in document&&11>=document.documentMode,va=null,ad=null,Ds=null,sd=!1;function wm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||va==null||va!==Eo(i)||(i=va,"selectionStart"in i&&wf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ds&&Qs(Ds,i)||(Ds=i,i=Yo(ad,"onSelect"),0<i.length&&(t=new dc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=va)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ba={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},ru={},dp={};Ni&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Kr(e){if(ru[e])return ru[e];if(!ba[e])return e;var t=ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dp)return ru[e]=t[n];return e}var fp=Kr("animationend"),hp=Kr("animationiteration"),mp=Kr("animationstart"),IS=Kr("transitionrun"),YS=Kr("transitionstart"),VS=Kr("transitioncancel"),gp=Kr("transitionend"),yp=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function li(e,t){yp.set(e,t),Vr(t,[e])}var jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],_a=0,Sf=0;function mc(){for(var e=_a,t=Sf=_a=0;t<e;){var n=qn[t];qn[t++]=null;var i=qn[t];qn[t++]=null;var r=qn[t];qn[t++]=null;var a=qn[t];if(qn[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&pp(n,r,a)}}function gc(e,t,n,i){qn[_a++]=e,qn[_a++]=t,qn[_a++]=n,qn[_a++]=i,Sf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function xf(e,t,n,i){return gc(e,t,n,i),Oo(e)}function Xr(e,t){return gc(e,null,null,t),Oo(e)}function pp(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-kn(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Oo(e){if(50<$s)throw $s=0,Dd=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wa={};function GS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,i){return new GS(e,t,n,i)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vp(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oo(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")Tf(e)&&(s=1);else if(typeof e=="string")s=Px(e,n,fi.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qu:return e=Dn(31,n,t,r),e.elementType=Qu,e.lanes=a,e;case ha:return Rr(n.children,r,a,t);case $y:s=8,r|=24;break;case Gu:return e=Dn(12,n,t,r|2),e.elementType=Gu,e.lanes=a,e;case Ku:return e=Dn(13,n,t,r),e.elementType=Ku,e.lanes=a,e;case Xu:return e=Dn(19,n,t,r),e.elementType=Xu,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ti:s=10;break e;case By:s=9;break e;case uf:s=11;break e;case df:s=14;break e;case qi:s=16,i=null;break e}s=29,n=Error(k(130,e===null?"null":typeof e,"")),i=null}return t=Dn(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Rr(e,t,n,i){return e=Dn(7,e,i,t),e.lanes=n,e}function au(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function bp(e){var t=Dn(18,null,null,0);return t.stateNode=e,t}function su(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sm=new WeakMap;function Xn(e,t){if(typeof e=="object"&&e!==null){var n=Sm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nm(t)},Sm.set(e,t),t)}return{value:e,source:t,stack:nm(t)}}var Sa=[],xa=0,Do=null,Js=0,Vn=[],Gn=0,cr=null,ci=1,ui="";function Si(e,t){Sa[xa++]=Js,Sa[xa++]=Do,Do=e,Js=t}function _p(e,t,n){Vn[Gn++]=ci,Vn[Gn++]=ui,Vn[Gn++]=cr,cr=e;var i=ci;e=ui;var r=32-kn(i)-1;i&=~(1<<r),n+=1;var a=32-kn(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,ci=1<<32-kn(t)+r|n<<r|i,ui=a+e}else ci=1<<a|n<<r|i,ui=e}function Ef(e){e.return!==null&&(Si(e,1),_p(e,1,0))}function jf(e){for(;e===Do;)Do=Sa[--xa],Sa[xa]=null,Js=Sa[--xa],Sa[xa]=null;for(;e===cr;)cr=Vn[--Gn],Vn[Gn]=null,ui=Vn[--Gn],Vn[Gn]=null,ci=Vn[--Gn],Vn[Gn]=null}function wp(e,t){Vn[Gn++]=ci,Vn[Gn++]=ui,Vn[Gn++]=cr,ci=t.id,ui=t.overflow,cr=e}var Wt=null,mt=null,Ve=!1,tr=null,Qn=!1,od=Error(k(519));function ur(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Xn(t,e)),od}function xm(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ft]=e,t[_n]=i,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<el.length;n++)ke(el[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Zy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Wy(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||i0(t.textContent,n)?(i.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),i.onScroll!=null&&ke("scroll",t),i.onScrollEnd!=null&&ke("scrollend",t),i.onClick!=null&&(t.onclick=Ei),t=!0):t=!1,t||ur(e,!0)}function Tm(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Wt=Wt.return}}function ea(e){if(e!==Wt)return!1;if(!Ve)return Tm(e),Ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Md(e.type,e.memoizedProps)),n=!n),n&&mt&&ur(e),Tm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));mt=ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));mt=ug(e)}else t===27?(t=mt,mr(e.type)?(e=$d,$d=null,mt=e):mt=t):mt=Wt?Pn(e.stateNode.nextSibling):null;return!0}function $r(){mt=Wt=null,Ve=!1}function lu(){var e=tr;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),tr=null),e}function Ps(e){tr===null?tr=[e]:tr.push(e)}var cd=hi(null),Qr=null,ji=null;function Vi(e,t,n){ut(cd,t._currentValue),t._currentValue=n}function Di(e){e._currentValue=cd.current,Jt(cd)}function ud(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function dd(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=r;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ud(a.return,n,e),i||(s=null);break e}a=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(k(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ud(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Za(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(k(387));if(s=s.memoizedProps,s!==null){var l=r.type;zn(r.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(r===wo.current){if(s=r.alternate,s===null)throw Error(k(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}r=r.return}e!==null&&dd(t,e,n,i),t.flags|=262144}function Ao(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Br(e){Qr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Sp(Qr,e)}function Bl(e,t){return Qr===null&&Br(e),Sp(e,t)}function Sp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ji===null){if(e===null)throw Error(k(308));ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ji=ji.next=t;return n}var KS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},XS=Vt.unstable_scheduleCallback,QS=Vt.unstable_NormalPriority,zt={$$typeof:Ti,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new KS,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&XS(QS,function(){e.controller.abort()})}var As=null,fd=0,Ba=0,Da=null;function JS(e,t){if(As===null){var n=As=[];fd=0,Ba=Ff(),Da={status:"pending",value:void 0,then:function(i){n.push(i)}}}return fd++,t.then(Em,Em),t}function Em(){if(--fd===0&&As!==null){Da!==null&&(Da.status="fulfilled");var e=As;As=null,Ba=0,Da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function PS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var jm=we.S;we.S=function(e,t){zv=Rn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&JS(e,t),jm!==null&&jm(e,t)};var Mr=hi(null);function Df(){var e=Mr.current;return e!==null?e:at.pooledCache}function co(e,t){t===null?ut(Mr,Mr.current):ut(Mr,t.pool)}function xp(){var e=Df();return e===null?null:{parent:zt._currentValue,pool:e}}var Fa=Error(k(460)),Af=Error(k(474)),yc=Error(k(542)),No={then:function(){}};function Om(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ei,Ei),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Am(e),e;default:if(typeof t.status=="string")t.then(Ei,Ei);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Am(e),e}throw kr=t,Fa}}function Sr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(kr=n,Fa):n}}var kr=null;function Dm(){if(kr===null)throw Error(k(459));var e=kr;return kr=null,e}function Am(e){if(e===Fa||e===yc)throw Error(k(483))}var Aa=null,Zs=0;function Ll(e){var t=Zs;return Zs+=1,Aa===null&&(Aa=[]),Tp(Aa,e,t)}function gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hl(e,t){throw t.$$typeof===zw?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ep(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function i(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(p,g){return p=Oi(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,g,y,w){return g===null||g.tag!==6?(g=au(y,p.mode,w),g.return=p,g):(g=r(g,y),g.return=p,g)}function o(p,g,y,w){var T=y.type;return T===ha?f(p,g,y.props.children,w,y.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qi&&Sr(T)===g.type)?(g=r(g,y.props),gs(g,y),g.return=p,g):(g=oo(y.type,y.key,y.props,null,p.mode,w),gs(g,y),g.return=p,g)}function u(p,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=su(y,p.mode,w),g.return=p,g):(g=r(g,y.children||[]),g.return=p,g)}function f(p,g,y,w,T){return g===null||g.tag!==7?(g=Rr(y,p.mode,w,T),g.return=p,g):(g=r(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=au(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rl:return y=oo(g.type,g.key,g.props,null,p.mode,y),gs(y,g),y.return=p,y;case bs:return g=su(g,p.mode,y),g.return=p,g;case qi:return g=Sr(g),d(p,g,y)}if(_s(g)||fs(g))return g=Rr(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return d(p,Ll(g),y);if(g.$$typeof===Ti)return d(p,Bl(p,g),y);Hl(p,g)}return null}function m(p,g,y,w){var T=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return T!==null?null:l(p,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rl:return y.key===T?o(p,g,y,w):null;case bs:return y.key===T?u(p,g,y,w):null;case qi:return y=Sr(y),m(p,g,y,w)}if(_s(y)||fs(y))return T!==null?null:f(p,g,y,w,null);if(typeof y.then=="function")return m(p,g,Ll(y),w);if(y.$$typeof===Ti)return m(p,g,Bl(p,y),w);Hl(p,y)}return null}function h(p,g,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(y)||null,l(g,p,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rl:return p=p.get(w.key===null?y:w.key)||null,o(g,p,w,T);case bs:return p=p.get(w.key===null?y:w.key)||null,u(g,p,w,T);case qi:return w=Sr(w),h(p,g,y,w,T)}if(_s(w)||fs(w))return p=p.get(y)||null,f(g,p,w,T,null);if(typeof w.then=="function")return h(p,g,y,Ll(w),T);if(w.$$typeof===Ti)return h(p,g,y,Bl(g,w),T);Hl(g,w)}return null}function v(p,g,y,w){for(var T=null,j=null,S=g,E=g=0,A=null;S!==null&&E<y.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var O=m(p,S,y[E],w);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(p,S),g=a(O,g,E),j===null?T=O:j.sibling=O,j=O,S=A}if(E===y.length)return n(p,S),Ve&&Si(p,E),T;if(S===null){for(;E<y.length;E++)S=d(p,y[E],w),S!==null&&(g=a(S,g,E),j===null?T=S:j.sibling=S,j=S);return Ve&&Si(p,E),T}for(S=i(S);E<y.length;E++)A=h(S,p,E,y[E],w),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),g=a(A,g,E),j===null?T=A:j.sibling=A,j=A);return e&&S.forEach(function(N){return t(p,N)}),Ve&&Si(p,E),T}function b(p,g,y,w){if(y==null)throw Error(k(151));for(var T=null,j=null,S=g,E=g=0,A=null,O=y.next();S!==null&&!O.done;E++,O=y.next()){S.index>E?(A=S,S=null):A=S.sibling;var N=m(p,S,O.value,w);if(N===null){S===null&&(S=A);break}e&&S&&N.alternate===null&&t(p,S),g=a(N,g,E),j===null?T=N:j.sibling=N,j=N,S=A}if(O.done)return n(p,S),Ve&&Si(p,E),T;if(S===null){for(;!O.done;E++,O=y.next())O=d(p,O.value,w),O!==null&&(g=a(O,g,E),j===null?T=O:j.sibling=O,j=O);return Ve&&Si(p,E),T}for(S=i(S);!O.done;E++,O=y.next())O=h(S,p,E,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),g=a(O,g,E),j===null?T=O:j.sibling=O,j=O);return e&&S.forEach(function(V){return t(p,V)}),Ve&&Si(p,E),T}function x(p,g,y,w){if(typeof y=="object"&&y!==null&&y.type===ha&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Rl:e:{for(var T=y.key;g!==null;){if(g.key===T){if(T=y.type,T===ha){if(g.tag===7){n(p,g.sibling),w=r(g,y.props.children),w.return=p,p=w;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qi&&Sr(T)===g.type){n(p,g.sibling),w=r(g,y.props),gs(w,y),w.return=p,p=w;break e}n(p,g);break}else t(p,g);g=g.sibling}y.type===ha?(w=Rr(y.props.children,p.mode,w,y.key),w.return=p,p=w):(w=oo(y.type,y.key,y.props,null,p.mode,w),gs(w,y),w.return=p,p=w)}return s(p);case bs:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),w=r(g,y.children||[]),w.return=p,p=w;break e}else{n(p,g);break}else t(p,g);g=g.sibling}w=su(y,p.mode,w),w.return=p,p=w}return s(p);case qi:return y=Sr(y),x(p,g,y,w)}if(_s(y))return v(p,g,y,w);if(fs(y)){if(T=fs(y),typeof T!="function")throw Error(k(150));return y=T.call(y),b(p,g,y,w)}if(typeof y.then=="function")return x(p,g,Ll(y),w);if(y.$$typeof===Ti)return x(p,g,Bl(p,y),w);Hl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),w=r(g,y),w.return=p,p=w):(n(p,g),w=au(y,p.mode,w),w.return=p,p=w),s(p)):n(p,g)}return function(p,g,y,w){try{Zs=0;var T=x(p,g,y,w);return Aa=null,T}catch(S){if(S===Fa||S===yc)throw S;var j=Dn(29,S,null,p.mode);return j.lanes=w,j.return=p,j}finally{}}}var Lr=Ep(!0),jp=Ep(!1),Ii=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Qe&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Oo(e),pp(e,null,n),t}return gc(e,i,t,n),Oo(e)}function Ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vy(e,n)}}function ou(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var md=!1;function Cs(){if(md){var e=Da;if(e!==null)throw e}}function Rs(e,t,n,i){md=!1;var r=e.updateQueue;Ii=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var o=l,u=o.next;o.next=null,s===null?a=u:s.next=u,s=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(a!==null){var d=r.baseState;s=0,f=u=o=null,l=a;do{var m=l.lane&-536870913,h=m!==l.lane;if(h?(Le&m)===m:(i&m)===m){m!==0&&m===Ba&&(md=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,b=l;m=t;var x=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(x,d,m);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(x,d,m):v,m==null)break e;d=pt({},d,m);break e;case 2:Ii=!0}}m=l.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=h,o=d):f=f.next=h,s|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);f===null&&(o=d),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=f,a===null&&(r.shared.lanes=0),fr|=s,e.lanes=s,e.memoizedState=d}}function Op(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function Dp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Op(n[e],t)}var La=hi(null),Co=hi(0);function Nm(e,t){e=ki,ut(Co,e),ut(La,t),ki=e|t.baseLanes}function gd(){ut(Co,ki),ut(La,La.current)}function Cf(){ki=Co.current,Jt(La),Jt(Co)}var $n=hi(null),Jn=null;function Gi(e){var t=e.alternate;ut(Nt,Nt.current&1),ut($n,e),Jn===null&&(t===null||La.current!==null||t.memoizedState!==null)&&(Jn=e)}function yd(e){ut(Nt,Nt.current),ut($n,e),Jn===null&&(Jn=e)}function Ap(e){e.tag===22?(ut(Nt,Nt.current),ut($n,e),Jn===null&&(Jn=e)):Ki()}function Ki(){ut(Nt,Nt.current),ut($n,$n.current)}function On(e){Jt($n),Jn===e&&(Jn=null),Jt(Nt)}var Nt=hi(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ud(n)||zd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ci=0,Te=null,rt=null,kt=null,Mo=!1,Na=!1,Hr=!1,ko=0,Fs=0,Ca=null,ZS=0;function jt(){throw Error(k(321))}function Rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zn(e[n],t[n]))return!1;return!0}function Mf(e,t,n,i,r,a){return Ci=a,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,we.H=e===null||e.memoizedState===null?sv:Vf,Hr=!1,a=n(i,r),Hr=!1,Na&&(a=Cp(t,n,i,r)),Np(e),a}function Np(e){we.H=Ws;var t=rt!==null&&rt.next!==null;if(Ci=0,kt=rt=Te=null,Mo=!1,Fs=0,Ca=null,t)throw Error(k(300));e===null||$t||(e=e.dependencies,e!==null&&Ao(e)&&($t=!0))}function Cp(e,t,n,i){Te=e;var r=0;do{if(Na&&(Ca=null),Fs=0,Na=!1,25<=r)throw Error(k(301));if(r+=1,kt=rt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}we.H=lv,a=t(n,i)}while(Na);return a}function FS(){var e=we.H,t=e.useState()[0];return t=typeof t.then=="function"?pl(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(Te.flags|=1024),t}function kf(){var e=ko!==0;return ko=0,e}function Uf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zf(e){if(Mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mo=!1}Ci=0,kt=rt=Te=null,Na=!1,Fs=ko=0,Ca=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Te.memoizedState=kt=e:kt=kt.next=e,kt}function Ct(){if(rt===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=kt===null?Te.memoizedState:kt.next;if(t!==null)kt=t,rt=e;else{if(e===null)throw Te.alternate===null?Error(k(467)):Error(k(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Te.memoizedState=kt=e:kt=kt.next=e}return kt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var t=Fs;return Fs+=1,Ca===null&&(Ca=[]),e=Tp(Ca,e,t),t=Te,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,we.H=t===null||t.memoizedState===null?sv:Vf),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===Ti)return en(e)}throw Error(k(438,String(e)))}function $f(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Te.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=pc(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=$w;return t.index++,n}function Ri(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=Ct();return Bf(t,rt,e)}function Bf(e,t,n){var i=e.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var l=s=null,o=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Le&d)===d:(Ci&d)===d){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ba&&(f=!0);else if((Ci&m)===m){u=u.next,m===Ba&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=d,s=a):o=o.next=d,Te.lanes|=m,fr|=m;d=u.action,Hr&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else m={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,s=a):o=o.next=m,Te.lanes|=d,fr|=d;u=u.next}while(u!==null&&u!==t);if(o===null?s=a:o.next=l,!zn(a,e.memoizedState)&&($t=!0,f&&(n=Da,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=o,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function cu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);zn(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Rp(e,t,n){var i=Te,r=Ct(),a=Ve;if(a){if(n===void 0)throw Error(k(407));n=n()}else n=t();var s=!zn((rt||r).memoizedState,n);if(s&&(r.memoizedState=n,$t=!0),r=r.queue,Lf(Up.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(i.flags|=2048,Ha(9,{destroy:void 0},kp.bind(null,i,r,n,t),null),at===null)throw Error(k(349));a||Ci&127||Mp(i,t,n)}return n}function Mp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=pc(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kp(e,t,n,i){t.value=n,t.getSnapshot=i,zp(t)&&$p(e)}function Up(e,t,n){return n(function(){zp(t)&&$p(e)})}function zp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zn(e,n)}catch{return!0}}function $p(e){var t=Xr(e,2);t!==null&&bn(t,e,2)}function pd(e){var t=ln();if(typeof e=="function"){var n=e;if(e=n(),Hr){Ji(!0);try{n()}finally{Ji(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t}function Bp(e,t,n,i){return e.baseState=n,Bf(e,rt,typeof i=="function"?i:Ri)}function WS(e,t,n,i,r){if(_c(e))throw Error(k(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};we.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Lp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Lp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=we.T,s={};we.T=s;try{var l=n(r,i),o=we.S;o!==null&&o(s,l),Cm(e,t,l)}catch(u){vd(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),we.T=a}}else try{a=n(r,i),Cm(e,t,a)}catch(u){vd(e,t,u)}}function Cm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Rm(e,t,i)},function(i){return vd(e,t,i)}):Rm(e,t,n)}function Rm(e,t,n){t.status="fulfilled",t.value=n,Hp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lp(e,n)))}function vd(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Hp(t),t=t.next;while(t!==i)}e.action=null}function Hp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qp(e,t){return t}function Mm(e,t){if(Ve){var n=at.formState;if(n!==null){e:{var i=Te;if(Ve){if(mt){t:{for(var r=mt,a=Qn;r.nodeType!==8;){if(!a){r=null;break t}if(r=Pn(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){mt=Pn(r.nextSibling),i=r.data==="F!";break e}}ur(i)}i=!1}i&&(t=n[0])}}return n=ln(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:t},n.queue=i,n=iv.bind(null,Te,i),i.dispatch=n,i=pd(!1),a=Yf.bind(null,Te,!1,i.queue),i=ln(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=WS.bind(null,Te,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function km(e){var t=Ct();return Ip(t,rt,e)}function Ip(e,t,n){if(t=Bf(e,t,qp)[0],e=uo(Ri)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=pl(t)}catch(s){throw s===Fa?yc:s}else i=t;t=Ct();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ha(9,{destroy:void 0},ex.bind(null,r,n),null)),[i,a,e]}function ex(e,t){e.action=t}function Um(e){var t=Ct(),n=rt;if(n!==null)return Ip(t,n,e);Ct(),t=t.memoizedState,n=Ct();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ha(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Te.updateQueue,t===null&&(t=pc(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Yp(){return Ct().memoizedState}function fo(e,t,n,i){var r=ln();Te.flags|=e,r.memoizedState=Ha(1|t,{destroy:void 0},n,i===void 0?null:i)}function bc(e,t,n,i){var r=Ct();i=i===void 0?null:i;var a=r.memoizedState.inst;rt!==null&&i!==null&&Rf(i,rt.memoizedState.deps)?r.memoizedState=Ha(t,a,n,i):(Te.flags|=e,r.memoizedState=Ha(1|t,a,n,i))}function zm(e,t){fo(8390656,8,e,t)}function Lf(e,t){bc(2048,8,e,t)}function tx(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=pc(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Vp(e){var t=Ct().memoizedState;return tx({ref:t,nextImpl:e}),function(){if(Qe&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function Gp(e,t){return bc(4,2,e,t)}function Kp(e,t){return bc(4,4,e,t)}function Xp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qp(e,t,n){n=n!=null?n.concat([e]):null,bc(4,4,Xp.bind(null,t,e),n)}function Hf(){}function Jp(e,t){var n=Ct();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Rf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Pp(e,t){var n=Ct();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Rf(t,i[1]))return i[0];if(i=e(),Hr){Ji(!0);try{e()}finally{Ji(!1)}}return n.memoizedState=[i,t],i}function qf(e,t,n){return n===void 0||Ci&1073741824&&!(Le&261930)?e.memoizedState=t:(e.memoizedState=n,e=Bv(),Te.lanes|=e,fr|=e,n)}function Zp(e,t,n,i){return zn(n,t)?n:La.current!==null?(e=qf(e,n,i),zn(e,t)||($t=!0),e):!(Ci&42)||Ci&1073741824&&!(Le&261930)?($t=!0,e.memoizedState=n):(e=Bv(),Te.lanes|=e,fr|=e,t)}function Fp(e,t,n,i,r){var a=Je.p;Je.p=a!==0&&8>a?a:8;var s=we.T,l={};we.T=l,Yf(e,!1,t,n);try{var o=r(),u=we.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=PS(o,i);Ms(e,t,f,Un(e))}else Ms(e,t,i,Un(e))}catch(d){Ms(e,t,{then:function(){},status:"rejected",reason:d},Un())}finally{Je.p=a,s!==null&&l.types!==null&&(s.types=l.types),we.T=s}}function nx(){}function bd(e,t,n,i){if(e.tag!==5)throw Error(k(476));var r=Wp(e).queue;Fp(e,r,t,Cr,n===null?nx:function(){return ev(e),n(i)})}function Wp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Cr,baseState:Cr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Cr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ev(e){var t=Wp(e);t.next===null&&(t=e.alternate.memoizedState),Ms(e,t.next.queue,{},Un())}function If(){return en(nl)}function tv(){return Ct().memoizedState}function nv(){return Ct().memoizedState}function ix(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Un();e=nr(n);var i=ir(t,e,n);i!==null&&(bn(i,t,n),Ns(i,t,n)),t={cache:Of()},e.payload=t;return}t=t.return}}function rx(e,t,n){var i=Un();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_c(e)?rv(t,n):(n=xf(e,t,n,i),n!==null&&(bn(n,e,i),av(n,t,i)))}function iv(e,t,n){var i=Un();Ms(e,t,n,i)}function Ms(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_c(e))rv(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(r.hasEagerState=!0,r.eagerState=l,zn(l,s))return gc(e,t,r,0),at===null&&mc(),!1}catch{}finally{}if(n=xf(e,t,r,i),n!==null)return bn(n,e,i),av(n,t,i),!0}return!1}function Yf(e,t,n,i){if(i={lane:2,revertLane:Ff(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},_c(e)){if(t)throw Error(k(479))}else t=xf(e,n,i,2),t!==null&&bn(t,e,2)}function _c(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function rv(e,t){Na=Mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function av(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vy(e,n)}}var Ws={readContext:en,use:vc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Ws.useEffectEvent=jt;var sv={readContext:en,use:vc,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:zm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fo(4194308,4,Xp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){fo(4,2,e,t)},useMemo:function(e,t){var n=ln();t=t===void 0?null:t;var i=e();if(Hr){Ji(!0);try{e()}finally{Ji(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ln();if(n!==void 0){var r=n(t);if(Hr){Ji(!0);try{n(t)}finally{Ji(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=rx.bind(null,Te,e),[i.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:function(e){e=pd(e);var t=e.queue,n=iv.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Hf,useDeferredValue:function(e,t){var n=ln();return qf(n,e,t)},useTransition:function(){var e=pd(!1);return e=Fp.bind(null,Te,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Te,r=ln();if(Ve){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),at===null)throw Error(k(349));Le&127||Mp(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,zm(Up.bind(null,i,a,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},kp.bind(null,i,a,n,t),null),n},useId:function(){var e=ln(),t=at.identifierPrefix;if(Ve){var n=ui,i=ci;n=(i&~(1<<32-kn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ZS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:If,useFormState:Mm,useActionState:Mm,useOptimistic:function(e){var t=ln();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Yf.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:$f,useCacheRefresh:function(){return ln().memoizedState=ix.bind(null,Te)},useEffectEvent:function(e){var t=ln(),n={impl:e};return t.memoizedState=n,function(){if(Qe&2)throw Error(k(440));return n.impl.apply(void 0,arguments)}}},Vf={readContext:en,use:vc,useCallback:Jp,useContext:en,useEffect:Lf,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:Pp,useReducer:uo,useRef:Yp,useState:function(){return uo(Ri)},useDebugValue:Hf,useDeferredValue:function(e,t){var n=Ct();return Zp(n,rt.memoizedState,e,t)},useTransition:function(){var e=uo(Ri)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:Rp,useId:tv,useHostTransitionStatus:If,useFormState:km,useActionState:km,useOptimistic:function(e,t){var n=Ct();return Bp(n,rt,e,t)},useMemoCache:$f,useCacheRefresh:nv};Vf.useEffectEvent=Vp;var lv={readContext:en,use:vc,useCallback:Jp,useContext:en,useEffect:Lf,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Kp,useMemo:Pp,useReducer:cu,useRef:Yp,useState:function(){return cu(Ri)},useDebugValue:Hf,useDeferredValue:function(e,t){var n=Ct();return rt===null?qf(n,e,t):Zp(n,rt.memoizedState,e,t)},useTransition:function(){var e=cu(Ri)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:Rp,useId:tv,useHostTransitionStatus:If,useFormState:Um,useActionState:Um,useOptimistic:function(e,t){var n=Ct();return rt!==null?Bp(n,rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$f,useCacheRefresh:nv};lv.useEffectEvent=Vp;function uu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _d={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Un(),r=nr(i);r.payload=t,n!=null&&(r.callback=n),t=ir(e,r,i),t!==null&&(bn(t,e,i),Ns(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Un(),r=nr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ir(e,r,i),t!==null&&(bn(t,e,i),Ns(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Un(),i=nr(n);i.tag=2,t!=null&&(i.callback=t),t=ir(e,i,n),t!==null&&(bn(t,e,n),Ns(t,e,n))}};function $m(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!Qs(n,i)||!Qs(r,a):!0}function Bm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function qr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=pt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function ov(e){jo(e)}function cv(e){console.error(e)}function uv(e){jo(e)}function Uo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Lm(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function wd(e,t,n){return n=nr(n),n.tag=3,n.payload={element:null},n.callback=function(){Uo(e,t)},n}function dv(e){return e=nr(e),e.tag=3,e}function fv(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Lm(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Lm(t,n,i),typeof r!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function ax(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Za(t,n,r,!0),n=$n.current,n!==null){switch(n.tag){case 31:case 13:return Jn===null?Ho():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===No?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),wu(e,i,r)),!1;case 22:return n.flags|=65536,i===No?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),wu(e,i,r)),!1}throw Error(k(435,n.tag))}return wu(e,i,r),Ho(),!1}if(Ve)return t=$n.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==od&&(e=Error(k(422),{cause:i}),Ps(Xn(e,n)))):(i!==od&&(t=Error(k(423),{cause:i}),Ps(Xn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Xn(i,n),r=wd(e.stateNode,i,r),ou(e,r),Ot!==4&&(Ot=2)),!1;var a=Error(k(520),{cause:i});if(a=Xn(a,n),zs===null?zs=[a]:zs.push(a),Ot!==4&&(Ot=2),t===null)return!0;i=Xn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=wd(n.stateNode,i,e),ou(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(rr===null||!rr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=dv(r),fv(r,e,n,i),ou(n,r),!1}n=n.return}while(n!==null);return!1}var Gf=Error(k(461)),$t=!1;function Zt(e,t,n,i){t.child=e===null?jp(t,null,n,i):Lr(t,e.child,n,i)}function Hm(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}else s=i;return Br(t),i=Mf(e,t,n,s,a,r),l=kf(),e!==null&&!$t?(Uf(e,t,r),Mi(e,t,r)):(Ve&&l&&Ef(t),t.flags|=1,Zt(e,t,i,r),t.child)}function qm(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Tf(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,hv(e,t,a,i,r)):(e=oo(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Kf(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(s,i)&&e.ref===t.ref)return Mi(e,t,r)}return t.flags|=1,e=Oi(a,i),e.ref=t.ref,e.return=t,t.child=e}function hv(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(Qs(a,i)&&e.ref===t.ref)if($t=!1,t.pendingProps=i=a,Kf(e,r))e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Mi(e,t,r)}return Sd(e,t,n,i,r)}function mv(e,t,n,i){var r=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return Im(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&co(t,a!==null?a.cachePool:null),a!==null?Nm(t,a):gd(),Ap(t);else return i=t.lanes=536870912,Im(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(co(t,a.cachePool),Nm(t,a),Ki(),t.memoizedState=null):(e!==null&&co(t,null),gd(),Ki());return Zt(e,t,r,n),t.child}function Ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Im(e,t,n,i,r){var a=Df();return a=a===null?null:{parent:zt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&co(t,null),gd(),Ap(t),e!==null&&Za(e,t,i,!0),t.childLanes=r,null}function ho(e,t){return t=zo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ym(e,t,n){return Lr(t,e.child,null,n),e=ho(t,t.pendingProps),e.flags|=2,On(t),t.memoizedState=null,e}function sx(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(i.mode==="hidden")return e=ho(t,i),t.lanes=536870912,Ss(null,e);if(yd(t),(e=mt)?(e=s0(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:cr!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},n=bp(e),n.return=t,t.child=n,Wt=t,mt=null)):e=null,e===null)throw ur(t);return t.lanes=536870912,null}return ho(t,i)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(yd(t),r)if(t.flags&256)t.flags&=-257,t=Ym(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if($t||Za(e,t,n,!1),r=(n&e.childLanes)!==0,$t||r){if(i=at,i!==null&&(s=Gy(i,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Xr(e,s),bn(i,e,s),Gf;Ho(),t=Ym(e,t,n)}else e=a.treeContext,mt=Pn(s.nextSibling),Wt=t,Ve=!0,tr=null,Qn=!1,e!==null&&wp(t,e),t=ho(t,i),t.flags|=4096;return t}return e=Oi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Sd(e,t,n,i,r){return Br(t),n=Mf(e,t,n,i,void 0,r),i=kf(),e!==null&&!$t?(Uf(e,t,r),Mi(e,t,r)):(Ve&&i&&Ef(t),t.flags|=1,Zt(e,t,n,r),t.child)}function Vm(e,t,n,i,r,a){return Br(t),t.updateQueue=null,n=Cp(t,i,n,r),Np(e),i=kf(),e!==null&&!$t?(Uf(e,t,a),Mi(e,t,a)):(Ve&&i&&Ef(t),t.flags|=1,Zt(e,t,n,a),t.child)}function Gm(e,t,n,i,r){if(Br(t),t.stateNode===null){var a=wa,s=n.contextType;typeof s=="object"&&s!==null&&(a=en(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_d,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Nf(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?en(s):wa,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(uu(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&_d.enqueueReplaceState(a,a.state,null),Rs(t,i,a,r),Cs(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=qr(n,l);a.props=o;var u=a.context,f=n.contextType;s=wa,typeof f=="object"&&f!==null&&(s=en(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==s)&&Bm(t,a,i,s),Ii=!1;var m=t.memoizedState;a.state=m,Rs(t,i,a,r),Cs(),u=t.memoizedState,l||m!==u||Ii?(typeof d=="function"&&(uu(t,n,d,i),u=t.memoizedState),(o=Ii||$m(t,n,o,i,m,u,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=s,i=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,hd(e,t),s=t.memoizedProps,f=qr(n,s),a.props=f,d=t.pendingProps,m=a.context,u=n.contextType,o=wa,typeof u=="object"&&u!==null&&(o=en(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||m!==o)&&Bm(t,a,i,o),Ii=!1,m=t.memoizedState,a.state=m,Rs(t,i,a,r),Cs();var h=t.memoizedState;s!==d||m!==h||Ii||e!==null&&e.dependencies!==null&&Ao(e.dependencies)?(typeof l=="function"&&(uu(t,n,l,i),h=t.memoizedState),(f=Ii||$m(t,n,f,i,m,h,o)||e!==null&&e.dependencies!==null&&Ao(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,h,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,h,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=o,i=f):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,mo(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Lr(t,e.child,null,r),t.child=Lr(t,null,n,r)):Zt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Mi(e,t,r),e}function Km(e,t,n,i){return $r(),t.flags|=256,Zt(e,t,n,i),t.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(e){return{baseLanes:e,cachePool:xp()}}function hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cn),e}function gv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(r?Gi(t):Ki(),(e=mt)?(e=s0(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:cr!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},n=bp(e),n.return=t,t.child=n,Wt=t,mt=null)):e=null,e===null)throw ur(t);return zd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ki(),r=t.mode,l=zo({mode:"hidden",children:l},r),i=Rr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=fu(n),i.childLanes=hu(e,s,n),t.memoizedState=du,Ss(null,i)):(Gi(t),xd(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(Gi(t),t.flags&=-257,t=mu(e,t,n)):t.memoizedState!==null?(Ki(),t.child=e.child,t.flags|=128,t=null):(Ki(),l=i.fallback,r=t.mode,i=zo({mode:"visible",children:i.children},r),l=Rr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,Lr(t,e.child,null,n),i=t.child,i.memoizedState=fu(n),i.childLanes=hu(e,s,n),t.memoizedState=du,t=Ss(null,i));else if(Gi(t),zd(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,i=Error(k(419)),i.stack="",i.digest=s,Ps({value:i,source:null,stack:null}),t=mu(e,t,n)}else if($t||Za(e,t,n,!1),s=(n&e.childLanes)!==0,$t||s){if(s=at,s!==null&&(i=Gy(s,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Xr(e,i),bn(s,e,i),Gf;Ud(l)||Ho(),t=mu(e,t,n)}else Ud(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,mt=Pn(l.nextSibling),Wt=t,Ve=!0,tr=null,Qn=!1,e!==null&&wp(t,e),t=xd(t,i.children),t.flags|=4096);return t}return r?(Ki(),l=i.fallback,r=t.mode,o=e.child,u=o.sibling,i=Oi(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Oi(u,l):(l=Rr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,Ss(null,i),i=t.child,l=e.child.memoizedState,l===null?l=fu(n):(r=l.cachePool,r!==null?(o=zt._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=xp(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=hu(e,s,n),t.memoizedState=du,Ss(e.child,i)):(Gi(t),n=e.child,e=n.sibling,n=Oi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function xd(e,t){return t=zo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zo(e,t){return e=Dn(22,e,null,t),e.lanes=0,e}function mu(e,t,n){return Lr(t,e.child,null,n),e=xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ud(e.return,t,n)}function gu(e,t,n,i,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.treeForkCount=a)}function yv(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var s=Nt.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,ut(Nt,s),Zt(e,t,i,n),i=Ve?Js:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,n,t);else if(e.tag===19)Xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),gu(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ro(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}gu(t,!0,n,null,a,i);break;case"together":gu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ao(e)))}function lx(e,t,n){switch(t.tag){case 3:So(t,t.stateNode.containerInfo),Vi(t,zt,e.memoizedState.cache),$r();break;case 27:case 5:Zu(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:Vi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yd(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Gi(t),t.flags|=128,null):n&t.child.childLanes?gv(e,t,n):(Gi(t),e=Mi(e,t,n),e!==null?e.sibling:null);Gi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Za(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return yv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ut(Nt,Nt.current),i)break;return null;case 22:return t.lanes=0,mv(e,t,n,t.pendingProps);case 24:Vi(t,zt,e.memoizedState.cache)}return Mi(e,t,n)}function pv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!Kf(e,n)&&!(t.flags&128))return $t=!1,lx(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Ve&&t.flags&1048576&&_p(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Sr(t.elementType),t.type=e,typeof e=="function")Tf(e)?(i=qr(e,i),t.tag=1,t=Gm(null,t,e,i,n)):(t.tag=0,t=Sd(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===uf){t.tag=11,t=Hm(null,t,e,i,n);break e}else if(r===df){t.tag=14,t=qm(null,t,e,i,n);break e}}throw t=Ju(e)||e,Error(k(306,t,""))}}return t;case 0:return Sd(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=qr(i,t.pendingProps),Gm(e,t,i,r,n);case 3:e:{if(So(t,t.stateNode.containerInfo),e===null)throw Error(k(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,hd(e,t),Rs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Vi(t,zt,i),i!==a.cache&&dd(t,[zt],n,!0),Cs(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Km(e,t,i,n);break e}else if(i!==r){r=Xn(Error(k(424)),t),Ps(r),t=Km(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Pn(e.firstChild),Wt=t,Ve=!0,tr=null,Qn=!0,n=jp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($r(),i===r){t=Mi(e,t,n);break e}Zt(e,t,i,n)}t=t.child}return t;case 26:return mo(e,t),e===null?(n=hg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ve||(n=t.type,e=t.pendingProps,i=Vo(er.current).createElement(n),i[Ft]=t,i[_n]=e,tn(i,n,e),Qt(i),t.stateNode=i):t.memoizedState=hg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zu(t),e===null&&Ve&&(i=t.stateNode=l0(t.type,t.pendingProps,er.current),Wt=t,Qn=!0,r=mt,mr(t.type)?($d=r,mt=Pn(i.firstChild)):mt=r),Zt(e,t,t.pendingProps.children,n),mo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((r=i=mt)&&(i=$x(i,t.type,t.pendingProps,Qn),i!==null?(t.stateNode=i,Wt=t,mt=Pn(i.firstChild),Qn=!1,r=!0):r=!1),r||ur(t)),Zu(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Md(r,a)?i=null:s!==null&&Md(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=Mf(e,t,FS,null,null,n),nl._currentValue=r),mo(e,t),Zt(e,t,i,n),t.child;case 6:return e===null&&Ve&&((e=n=mt)&&(n=Bx(n,t.pendingProps,Qn),n!==null?(t.stateNode=n,Wt=t,mt=null,e=!0):e=!1),e||ur(t)),null;case 13:return gv(e,t,n);case 4:return So(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Lr(t,null,i,n):Zt(e,t,i,n),t.child;case 11:return Hm(e,t,t.type,t.pendingProps,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Vi(t,t.type,i.value),Zt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Br(t),r=en(r),i=i(r),t.flags|=1,Zt(e,t,i,n),t.child;case 14:return qm(e,t,t.type,t.pendingProps,n);case 15:return hv(e,t,t.type,t.pendingProps,n);case 19:return yv(e,t,n);case 31:return sx(e,t,n);case 22:return mv(e,t,n,t.pendingProps);case 24:return Br(t),i=en(zt),e===null?(r=Df(),r===null&&(r=at,a=Of(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Nf(t),Vi(t,zt,r)):(e.lanes&n&&(hd(e,t),Rs(t,null,null,n),Cs()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Vi(t,zt,i)):(i=a.cache,Vi(t,zt,i),i!==r.cache&&dd(t,[zt],n,!0))),Zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function pi(e){e.flags|=4}function yu(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(qv())e.flags|=8192;else throw kr=No,Af}else e.flags&=-16777217}function Qm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!u0(t))if(qv())e.flags|=8192;else throw kr=No,Af}function ql(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Iy():536870912,e.lanes|=t,qa|=t)}function ys(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ox(e,t,n){var i=t.pendingProps;switch(jf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Di(zt),Ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ea(t)?pi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lu())),ht(t),null;case 26:var r=t.type,a=t.memoizedState;return e===null?(pi(t),a!==null?(ht(t),Qm(t,a)):(ht(t),yu(t,r,null,i,n))):a?a!==e.memoizedState?(pi(t),ht(t),Qm(t,a)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&pi(t),ht(t),yu(t,r,e,i,n)),null;case 27:if(xo(t),n=er.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pi(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return ht(t),null}e=fi.current,ea(t)?xm(t):(e=l0(r,i,n),t.stateNode=e,pi(t))}return ht(t),null;case 5:if(xo(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pi(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return ht(t),null}if(a=fi.current,ea(t))xm(t);else{var s=Vo(er.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?s.createElement(r,{is:i.is}):s.createElement(r)}}a[Ft]=t,a[_n]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(tn(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&pi(t)}}return ht(t),yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&pi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(e=er.current,ea(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Wt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ft]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||i0(e.nodeValue,n)),e||ur(t,!0)}else e=Vo(e).createTextNode(i),e[Ft]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ea(t),n!==null){if(e===null){if(!i)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[Ft]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(On(t),t):(On(t),null);if(t.flags&128)throw Error(k(558))}return ht(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ea(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(k(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[Ft]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),r=!1}else r=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(On(t),t):(On(t),null)}return On(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ql(t,t.updateQueue),ht(t),null);case 4:return Ua(),e===null&&Wf(t.stateNode.containerInfo),ht(t),null;case 10:return Di(t.type),ht(t),null;case 19:if(Jt(Nt),i=t.memoizedState,i===null)return ht(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ys(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ro(e),a!==null){for(t.flags|=128,ys(i,!1),e=a.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vp(n,e),n=n.sibling;return ut(Nt,Nt.current&1|2),Ve&&Si(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Rn()>Bo&&(t.flags|=128,r=!0,ys(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ve)return ht(t),null}else 2*Rn()-i.renderingStartTime>Bo&&n!==536870912&&(t.flags|=128,r=!0,ys(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Rn(),e.sibling=null,n=Nt.current,ut(Nt,r?n&1|2:n&1),Ve&&Si(t,i.treeForkCount),e):(ht(t),null);case 22:case 23:return On(t),Cf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&ql(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Jt(Mr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Di(zt),ht(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function cx(e,t){switch(jf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Di(zt),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xo(t),null;case 31:if(t.memoizedState!==null){if(On(t),t.alternate===null)throw Error(k(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(On(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(Nt),null;case 4:return Ua(),null;case 10:return Di(t.type),null;case 22:case 23:return On(t),Cf(),e!==null&&Jt(Mr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Di(zt),null;case 25:return null;default:return null}}function vv(e,t){switch(jf(t),t.tag){case 3:Di(zt),Ua();break;case 26:case 27:case 5:xo(t);break;case 4:Ua();break;case 31:t.memoizedState!==null&&On(t);break;case 13:On(t);break;case 19:Jt(Nt);break;case 10:Di(t.type);break;case 22:case 23:On(t),Cf(),e!==null&&Jt(Mr);break;case 24:Di(zt)}}function vl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(l){tt(t,t.return,l)}}function dr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=t;var o=n,u=l;try{u()}catch(f){tt(r,o,f)}}}i=i.next}while(i!==a)}}catch(f){tt(t,t.return,f)}}function bv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Dp(t,n)}catch(i){tt(e,e.return,i)}}}function _v(e,t,n){n.props=qr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){tt(e,t,i)}}function ks(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){tt(e,t,r)}}function di(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){tt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function wv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){tt(e,e.return,r)}}function pu(e,t,n){try{var i=e.stateNode;Cx(i,e.type,n,t),i[_n]=t}catch(r){tt(e,e.return,r)}}function Sv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ei));else if(i!==4&&(i===27&&mr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Td(e,t,n),e=e.sibling;e!==null;)Td(e,t,n),e=e.sibling}function $o(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&mr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}function xv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);tn(t,i,n),t[Ft]=e,t[_n]=n}catch(a){tt(e,e.return,a)}}var xi=!1,Ut=!1,bu=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function ux(e,t){if(e=e.containerInfo,Cd=Qo,e=up(e),wf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,o=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(l=s+r),d!==a||i!==0&&d.nodeType!==3||(o=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)m=d,d=h;for(;;){if(d===e)break t;if(m===n&&++u===r&&(l=s),m===a&&++f===i&&(o=s),(h=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=h}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rd={focusedElem:e,selectionRange:n},Qo=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var v=qr(n.type,r);e=i.getSnapshotBeforeUpdate(v,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(b){tt(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)kd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function Tv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:bi(e,n),i&4&&vl(5,n);break;case 1:if(bi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){tt(n,n.return,s)}else{var r=qr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){tt(n,n.return,s)}}i&64&&bv(n),i&512&&ks(n,n.return);break;case 3:if(bi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Dp(e,t)}catch(s){tt(n,n.return,s)}}break;case 27:t===null&&i&4&&xv(n);case 26:case 5:bi(e,n),t===null&&i&4&&wv(n),i&512&&ks(n,n.return);break;case 12:bi(e,n);break;case 31:bi(e,n),i&4&&Ov(e,n);break;case 13:bi(e,n),i&4&&Dv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bx.bind(null,n),Lx(e,n))));break;case 22:if(i=n.memoizedState!==null||xi,!i){t=t!==null&&t.memoizedState!==null||Ut,r=xi;var a=Ut;xi=i,(Ut=t)&&!a?_i(e,n,(n.subtreeFlags&8772)!==0):bi(e,n),xi=r,Ut=a}break;case 30:break;default:bi(e,n)}}function Ev(e){var t=e.alternate;t!==null&&(e.alternate=null,Ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,pn=!1;function vi(e,t,n){for(n=n.child;n!==null;)jv(e,t,n),n=n.sibling}function jv(e,t,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 26:Ut||di(n,t),vi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ut||di(n,t);var i=_t,r=pn;mr(n.type)&&(_t=n.stateNode,pn=!1),vi(e,t,n),Bs(n.stateNode),_t=i,pn=r;break;case 5:Ut||di(n,t);case 6:if(i=_t,r=pn,_t=null,vi(e,t,n),_t=i,pn=r,_t!==null)if(pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(n.stateNode)}catch(a){tt(n,t,a)}else try{_t.removeChild(n.stateNode)}catch(a){tt(n,t,a)}break;case 18:_t!==null&&(pn?(e=_t,og(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ga(e)):og(_t,n.stateNode));break;case 4:i=_t,r=pn,_t=n.stateNode.containerInfo,pn=!0,vi(e,t,n),_t=i,pn=r;break;case 0:case 11:case 14:case 15:dr(2,n,t),Ut||dr(4,n,t),vi(e,t,n);break;case 1:Ut||(di(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&_v(n,t,i)),vi(e,t,n);break;case 21:vi(e,t,n);break;case 22:Ut=(i=Ut)||n.memoizedState!==null,vi(e,t,n),Ut=i;break;default:vi(e,t,n)}}function Ov(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(n){tt(t,t.return,n)}}}function Dv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(n){tt(t,t.return,n)}}function dx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jm),t;default:throw Error(k(435,e.tag))}}function Il(e,t){var n=dx(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=_x.bind(null,e,i);i.then(r,r)}})}function gn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(mr(l.type)){_t=l.stateNode,pn=!1;break e}break;case 5:_t=l.stateNode,pn=!1;break e;case 3:case 4:_t=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(_t===null)throw Error(k(160));jv(a,s,r),_t=null,pn=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Av(t,e),t=t.sibling}var ii=null;function Av(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(t,e),yn(e),i&4&&(dr(3,e,e.return),vl(3,e),dr(5,e,e.return));break;case 1:gn(t,e),yn(e),i&512&&(Ut||n===null||di(n,n.return)),i&64&&xi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=ii;if(gn(t,e),yn(e),i&512&&(Ut||n===null||di(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[ml]||a[Ft]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),tn(a,i,n),a[Ft]=e,Qt(a),i=a;break e;case"link":var s=gg("link","href",r).get(i+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=r.createElement(i),tn(a,i,n),r.head.appendChild(a);break;case"meta":if(s=gg("meta","content",r).get(i+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=r.createElement(i),tn(a,i,n),r.head.appendChild(a);break;default:throw Error(k(468,i))}a[Ft]=e,Qt(a),i=a}e.stateNode=i}else yg(r,e.type,e.stateNode);else e.stateNode=mg(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?yg(r,e.type,e.stateNode):mg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:gn(t,e),yn(e),i&512&&(Ut||n===null||di(n,n.return)),n!==null&&i&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gn(t,e),yn(e),i&512&&(Ut||n===null||di(n,n.return)),e.flags&32){r=e.stateNode;try{$a(r,"")}catch(v){tt(e,e.return,v)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,pu(e,r,n!==null?n.memoizedProps:r)),i&1024&&(bu=!0);break;case 6:if(gn(t,e),yn(e),i&4){if(e.stateNode===null)throw Error(k(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(v){tt(e,e.return,v)}}break;case 3:if(po=null,r=ii,ii=Go(t.containerInfo),gn(t,e),ii=r,yn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(v){tt(e,e.return,v)}bu&&(bu=!1,Nv(e));break;case 4:i=ii,ii=Go(e.stateNode.containerInfo),gn(t,e),yn(e),ii=i;break;case 12:gn(t,e),yn(e);break;case 31:gn(t,e),yn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Il(e,i)));break;case 13:gn(t,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wc=Rn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Il(e,i)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=xi,f=Ut;if(xi=u||r,Ut=f||o,gn(t,e),Ut=f,xi=u,yn(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||xi||Ut||xr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){tt(o,o.return,v)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(v){tt(o,o.return,v)}}}else if(t.tag===18){if(n===null){o=t;try{var h=o.stateNode;r?cg(h,!0):cg(o.stateNode,!1)}catch(v){tt(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Il(e,n))));break;case 19:gn(t,e),yn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Il(e,i)));break;case 30:break;case 21:break;default:gn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Sv(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var r=n.stateNode,a=vu(e);$o(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&($a(s,""),n.flags&=-33);var l=vu(e);$o(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=vu(e);Td(e,u,o);break;default:throw Error(k(161))}}catch(f){tt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tv(e,t.alternate,t),t=t.sibling}function xr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dr(4,t,t.return),xr(t);break;case 1:di(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&_v(t,t.return,n),xr(t);break;case 27:Bs(t.stateNode);case 26:case 5:di(t,t.return),xr(t);break;case 22:t.memoizedState===null&&xr(t);break;case 30:xr(t);break;default:xr(t)}e=e.sibling}}function _i(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:_i(r,a,n),vl(4,a);break;case 1:if(_i(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){tt(i,i.return,u)}if(i=a,r=i.updateQueue,r!==null){var l=i.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Op(o[r],l)}catch(u){tt(i,i.return,u)}}n&&s&64&&bv(a),ks(a,a.return);break;case 27:xv(a);case 26:case 5:_i(r,a,n),n&&i===null&&s&4&&wv(a),ks(a,a.return);break;case 12:_i(r,a,n);break;case 31:_i(r,a,n),n&&s&4&&Ov(r,a);break;case 13:_i(r,a,n),n&&s&4&&Dv(r,a);break;case 22:a.memoizedState===null&&_i(r,a,n),ks(a,a.return);break;case 30:break;default:_i(r,a,n)}t=t.sibling}}function Xf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yl(n))}function Qf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yl(e))}function Wn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cv(e,t,n,i),t=t.sibling}function Cv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Wn(e,t,n,i),r&2048&&vl(9,t);break;case 1:Wn(e,t,n,i);break;case 3:Wn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yl(e)));break;case 12:if(r&2048){Wn(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){tt(t,t.return,o)}}else Wn(e,t,n,i);break;case 31:Wn(e,t,n,i);break;case 13:Wn(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?Wn(e,t,n,i):Us(e,t):a._visibility&2?Wn(e,t,n,i):(a._visibility|=2,oa(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Xf(s,t);break;case 24:Wn(e,t,n,i),r&2048&&Qf(t.alternate,t);break;default:Wn(e,t,n,i)}}function oa(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,l=n,o=i,u=s.flags;switch(s.tag){case 0:case 11:case 15:oa(a,s,l,o,r),vl(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?oa(a,s,l,o,r):Us(a,s):(f._visibility|=2,oa(a,s,l,o,r)),r&&u&2048&&Xf(s.alternate,s);break;case 24:oa(a,s,l,o,r),r&&u&2048&&Qf(s.alternate,s);break;default:oa(a,s,l,o,r)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Us(n,i),r&2048&&Xf(i.alternate,i);break;case 24:Us(n,i),r&2048&&Qf(i.alternate,i);break;default:Us(n,i)}t=t.sibling}}var xs=8192;function ta(e,t,n){if(e.subtreeFlags&xs)for(e=e.child;e!==null;)Rv(e,t,n),e=e.sibling}function Rv(e,t,n){switch(e.tag){case 26:ta(e,t,n),e.flags&xs&&e.memoizedState!==null&&Zx(n,ii,e.memoizedState,e.memoizedProps);break;case 5:ta(e,t,n);break;case 3:case 4:var i=ii;ii=Go(e.stateNode.containerInfo),ta(e,t,n),ii=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=xs,xs=16777216,ta(e,t,n),xs=i):ta(e,t,n));break;default:ta(e,t,n)}}function Mv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ps(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,Uv(i,e)}Mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kv(e),e=e.sibling}function kv(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&dr(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,go(e)):ps(e);break;default:ps(e)}}function go(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,Uv(i,e)}Mv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:dr(8,t,t.return),go(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,go(t));break;default:go(t)}e=e.sibling}}function Uv(e,t){for(;Kt!==null;){var n=Kt;switch(n.tag){case 0:case 11:case 15:dr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:yl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Kt=i;else e:for(n=e;Kt!==null;){i=Kt;var r=i.sibling,a=i.return;if(Ev(i),i===n){Kt=null;break e}if(r!==null){r.return=a,Kt=r;break e}Kt=a}}}var fx={getCacheForType:function(e){var t=en(zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return en(zt).controller.signal}},hx=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Ue=null,Le=0,et=0,jn=null,Zi=!1,Wa=!1,Jf=!1,ki=0,Ot=0,fr=0,Ur=0,Pf=0,Cn=0,qa=0,zs=null,vn=null,Ed=!1,wc=0,zv=0,Bo=1/0,Lo=null,rr=null,Yt=0,ar=null,Ia=null,Ai=0,jd=0,Od=null,$v=null,$s=0,Dd=null;function Un(){return Qe&2&&Le!==0?Le&-Le:we.T!==null?Ff():Ky()}function Bv(){if(Cn===0)if(!(Le&536870912)||Ve){var e=kl;kl<<=1,!(kl&3932160)&&(kl=262144),Cn=e}else Cn=536870912;return e=$n.current,e!==null&&(e.flags|=32),Cn}function bn(e,t,n){(e===at&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Fi(e,Le,Cn,!1)),hl(e,n),(!(Qe&2)||e!==at)&&(e===at&&(!(Qe&2)&&(Ur|=n),Ot===4&&Fi(e,Le,Cn,!1)),mi(e))}function Lv(e,t,n){if(Qe&6)throw Error(k(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||fl(e,t),r=i?yx(e,t):_u(e,t,!0),a=i;do{if(r===0){Wa&&!i&&Fi(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!mx(n)){r=_u(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;r=zs;var o=l.current.memoizedState.isDehydrated;if(o&&(Ya(l,s).flags|=256),s=_u(l,s,!1),s!==2){if(Jf&&!o){l.errorRecoveryDisabledLanes|=a,Ur|=a,r=4;break e}a=vn,vn=r,a!==null&&(vn===null?vn=a:vn.push.apply(vn,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){Ya(e,0),Fi(e,t,0,!0);break}e:{switch(i=e,a=r,a){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:Fi(i,t,Cn,!Zi);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(r=wc+300-Rn(),10<r)){if(Fi(i,t,Cn,!Zi),uc(i,0,!0)!==0)break e;Ai=t,i.timeoutHandle=a0(Pm.bind(null,i,n,vn,Lo,Ed,t,Cn,Ur,qa,Zi,a,"Throttled",-0,0),r);break e}Pm(i,n,vn,Lo,Ed,t,Cn,Ur,qa,Zi,a,null,-0,0)}}break}while(!0);mi(e)}function Pm(e,t,n,i,r,a,s,l,o,u,f,d,m,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},Rv(t,a,d);var v=(a&62914560)===a?wc-Rn():(a&4194048)===a?zv-Rn():0;if(v=Fx(d,v),v!==null){Ai=a,e.cancelPendingCommit=v(Fm.bind(null,e,t,a,n,i,r,s,l,o,f,d,null,m,h)),Fi(e,a,s,!u);return}}Fm(e,t,a,n,i,r,s,l,o)}function mx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!zn(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t,n,i){t&=~Pf,t&=~Ur,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-kn(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&Yy(e,n,t)}function Sc(){return Qe&6?!0:(bl(0),!1)}function Zf(){if(Ue!==null){if(et===0)var e=Ue.return;else e=Ue,ji=Qr=null,zf(e),Aa=null,Zs=0,e=Ue;for(;e!==null;)vv(e.alternate,e),e=e.return;Ue=null}}function Ya(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,kx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ai=0,Zf(),at=e,Ue=n=Oi(e.current,null),Le=t,et=0,jn=null,Zi=!1,Wa=fl(e,t),Jf=!1,qa=Cn=Pf=Ur=fr=Ot=0,vn=zs=null,Ed=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-kn(i),a=1<<r;t|=e[r],i&=~a}return ki=t,mc(),n}function Hv(e,t){Te=null,we.H=Ws,t===Fa||t===yc?(t=Dm(),et=3):t===Af?(t=Dm(),et=4):et=t===Gf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jn=t,Ue===null&&(Ot=1,Uo(e,Xn(t,e.current)))}function qv(){var e=$n.current;return e===null?!0:(Le&4194048)===Le?Jn===null:(Le&62914560)===Le||Le&536870912?e===Jn:!1}function Iv(){var e=we.H;return we.H=Ws,e===null?Ws:e}function Yv(){var e=we.A;return we.A=fx,e}function Ho(){Ot=4,Zi||(Le&4194048)!==Le&&$n.current!==null||(Wa=!0),!(fr&134217727)&&!(Ur&134217727)||at===null||Fi(at,Le,Cn,!1)}function _u(e,t,n){var i=Qe;Qe|=2;var r=Iv(),a=Yv();(at!==e||Le!==t)&&(Lo=null,Ya(e,t)),t=!1;var s=Ot;e:do try{if(et!==0&&Ue!==null){var l=Ue,o=jn;switch(et){case 8:Zf(),s=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(t=!0);var u=et;if(et=0,jn=null,Ta(e,l,o,u),n&&Wa){s=0;break e}break;default:u=et,et=0,jn=null,Ta(e,l,o,u)}}gx(),s=Ot;break}catch(f){Hv(e,f)}while(!0);return t&&e.shellSuspendCounter++,ji=Qr=null,Qe=i,we.H=r,we.A=a,Ue===null&&(at=null,Le=0,mc()),s}function gx(){for(;Ue!==null;)Vv(Ue)}function yx(e,t){var n=Qe;Qe|=2;var i=Iv(),r=Yv();at!==e||Le!==t?(Lo=null,Bo=Rn()+500,Ya(e,t)):Wa=fl(e,t);e:do try{if(et!==0&&Ue!==null){t=Ue;var a=jn;t:switch(et){case 1:et=0,jn=null,Ta(e,t,a,1);break;case 2:case 9:if(Om(a)){et=0,jn=null,Zm(t);break}t=function(){et!==2&&et!==9||at!==e||(et=7),mi(e)},a.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Om(a)?(et=0,jn=null,Zm(t)):(et=0,jn=null,Ta(e,t,a,7));break;case 5:var s=null;switch(Ue.tag){case 26:s=Ue.memoizedState;case 5:case 27:var l=Ue;if(s?u0(s):l.stateNode.complete){et=0,jn=null;var o=l.sibling;if(o!==null)Ue=o;else{var u=l.return;u!==null?(Ue=u,xc(u)):Ue=null}break t}}et=0,jn=null,Ta(e,t,a,5);break;case 6:et=0,jn=null,Ta(e,t,a,6);break;case 8:Zf(),Ot=6;break e;default:throw Error(k(462))}}px();break}catch(f){Hv(e,f)}while(!0);return ji=Qr=null,we.H=i,we.A=r,Qe=n,Ue!==null?0:(at=null,Le=0,mc(),Ot)}function px(){for(;Ue!==null&&!Hw();)Vv(Ue)}function Vv(e){var t=pv(e.alternate,e,ki);e.memoizedProps=e.pendingProps,t===null?xc(e):Ue=t}function Zm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vm(n,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=Vm(n,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:zf(t);default:vv(n,t),t=Ue=vp(t,ki),t=pv(n,t,ki)}e.memoizedProps=e.pendingProps,t===null?xc(e):Ue=t}function Ta(e,t,n,i){ji=Qr=null,zf(t),Aa=null,Zs=0;var r=t.return;try{if(ax(e,r,t,n,Le)){Ot=1,Uo(e,Xn(n,e.current)),Ue=null;return}}catch(a){if(r!==null)throw Ue=r,a;Ot=1,Uo(e,Xn(n,e.current)),Ue=null;return}t.flags&32768?(Ve||i===1?e=!0:Wa||Le&536870912?e=!1:(Zi=e=!0,(i===2||i===9||i===3||i===6)&&(i=$n.current,i!==null&&i.tag===13&&(i.flags|=16384))),Gv(t,e)):xc(t)}function xc(e){var t=e;do{if(t.flags&32768){Gv(t,Zi);return}e=t.return;var n=ox(t.alternate,t,ki);if(n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ot===0&&(Ot=5)}function Gv(e,t){do{var n=cx(e.alternate,e);if(n!==null){n.flags&=32767,Ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=n}while(e!==null);Ot=6,Ue=null}function Fm(e,t,n,i,r,a,s,l,o){e.cancelPendingCommit=null;do Tc();while(Yt!==0);if(Qe&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(a=t.lanes|t.childLanes,a|=Sf,Pw(e,n,a,s,l,o),e===at&&(Ue=at=null,Le=0),Ia=t,ar=e,Ai=n,jd=a,Od=r,$v=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wx(To,function(){return Pv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=we.T,we.T=null,r=Je.p,Je.p=2,s=Qe,Qe|=4;try{ux(e,t,n)}finally{Qe=s,Je.p=r,we.T=i}}Yt=1,Kv(),Xv(),Qv()}}function Kv(){if(Yt===1){Yt=0;var e=ar,t=Ia,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=we.T,we.T=null;var i=Je.p;Je.p=2;var r=Qe;Qe|=4;try{Av(t,e);var a=Rd,s=up(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&cp(l.ownerDocument.documentElement,l)){if(o!==null&&wf(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var d=l.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var h=m.getSelection(),v=l.textContent.length,b=Math.min(o.start,v),x=o.end===void 0?b:Math.min(o.end,v);!h.extend&&b>x&&(s=x,x=b,b=s);var p=_m(l,b),g=_m(l,x);if(p&&g&&(h.rangeCount!==1||h.anchorNode!==p.node||h.anchorOffset!==p.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var y=d.createRange();y.setStart(p.node,p.offset),h.removeAllRanges(),b>x?(h.addRange(y),h.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),h.addRange(y))}}}}for(d=[],h=l;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Qo=!!Cd,Rd=Cd=null}finally{Qe=r,Je.p=i,we.T=n}}e.current=t,Yt=2}}function Xv(){if(Yt===2){Yt=0;var e=ar,t=Ia,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=we.T,we.T=null;var i=Je.p;Je.p=2;var r=Qe;Qe|=4;try{Tv(e,t.alternate,t)}finally{Qe=r,Je.p=i,we.T=n}}Yt=3}}function Qv(){if(Yt===4||Yt===3){Yt=0,qw();var e=ar,t=Ia,n=Ai,i=$v;t.subtreeFlags&10256||t.flags&10256?Yt=5:(Yt=0,Ia=ar=null,Jv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(rr=null),mf(n),t=t.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=we.T,r=Je.p,Je.p=2,we.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var l=i[s];a(l.value,{componentStack:l.stack})}}finally{we.T=t,Je.p=r}}Ai&3&&Tc(),mi(e),r=e.pendingLanes,n&261930&&r&42?e===Dd?$s++:($s=0,Dd=e):$s=0,bl(0)}}function Jv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yl(t)))}function Tc(){return Kv(),Xv(),Qv(),Pv()}function Pv(){if(Yt!==5)return!1;var e=ar,t=jd;jd=0;var n=mf(Ai),i=we.T,r=Je.p;try{Je.p=32>n?32:n,we.T=null,n=Od,Od=null;var a=ar,s=Ai;if(Yt=0,Ia=ar=null,Ai=0,Qe&6)throw Error(k(331));var l=Qe;if(Qe|=4,kv(a.current),Cv(a,a.current,s,n),Qe=l,bl(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(dl,a)}catch{}return!0}finally{Je.p=r,we.T=i,Jv(e,t)}}function Wm(e,t,n){t=Xn(n,t),t=wd(e.stateNode,t,2),e=ir(e,t,2),e!==null&&(hl(e,2),mi(e))}function tt(e,t,n){if(e.tag===3)Wm(e,e,n);else for(;t!==null;){if(t.tag===3){Wm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rr===null||!rr.has(i))){e=Xn(n,e),n=dv(2),i=ir(t,n,2),i!==null&&(fv(n,i,t,e),hl(i,2),mi(i));break}}t=t.return}}function wu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new hx;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Jf=!0,r.add(n),e=vx.bind(null,e,t,n),t.then(e,e))}function vx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,at===e&&(Le&n)===n&&(Ot===4||Ot===3&&(Le&62914560)===Le&&300>Rn()-wc?!(Qe&2)&&Ya(e,0):Pf|=n,qa===Le&&(qa=0)),mi(e)}function Zv(e,t){t===0&&(t=Iy()),e=Xr(e,t),e!==null&&(hl(e,t),mi(e))}function bx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zv(e,n)}function _x(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),Zv(e,n)}function wx(e,t){return ff(e,t)}var qo=null,ca=null,Ad=!1,Io=!1,Su=!1,Wi=0;function mi(e){e!==ca&&e.next===null&&(ca===null?qo=ca=e:ca=ca.next=e),Io=!0,Ad||(Ad=!0,xx())}function bl(e,t){if(!Su&&Io){Su=!0;do for(var n=!1,i=qo;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-kn(42|e)+1)-1,a&=r&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,eg(i,a))}else a=Le,a=uc(i,i===at?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||fl(i,a)||(n=!0,eg(i,a));i=i.next}while(n);Su=!1}}function Sx(){Fv()}function Fv(){Io=Ad=!1;var e=0;Wi!==0&&Mx()&&(e=Wi);for(var t=Rn(),n=null,i=qo;i!==null;){var r=i.next,a=Wv(i,t);a===0?(i.next=null,n===null?qo=r:n.next=r,r===null&&(ca=n)):(n=i,(e!==0||a&3)&&(Io=!0)),i=r}Yt!==0&&Yt!==5||bl(e),Wi!==0&&(Wi=0)}function Wv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-kn(a),l=1<<s,o=r[s];o===-1?(!(l&n)||l&i)&&(r[s]=Jw(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=at,n=Le,n=uc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Pc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||fl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Pc(i),mf(n)){case 2:case 8:n=Hy;break;case 32:n=To;break;case 268435456:n=qy;break;default:n=To}return i=e0.bind(null,e),n=ff(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Pc(i),e.callbackPriority=2,e.callbackNode=null,2}function e0(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var i=Le;return i=uc(e,e===at?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Lv(e,i,t),Wv(e,Rn()),e.callbackNode!=null&&e.callbackNode===n?e0.bind(null,e):null)}function eg(e,t){if(Tc())return null;Lv(e,t,!0)}function xx(){Ux(function(){Qe&6?ff(Ly,Sx):Fv()})}function Ff(){if(Wi===0){var e=Ba;e===0&&(e=Ml,Ml<<=1,!(Ml&261888)&&(Ml=256)),Wi=e}return Wi}function tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ao(""+e)}function ng(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Tx(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=tg((r[_n]||null).action),s=i.submitter;s&&(t=(t=s[_n]||null)?tg(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var l=new dc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wi!==0){var o=s?ng(r,s):new FormData(r);bd(n,{pending:!0,data:o,method:r.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=s?ng(r,s):new FormData(r),bd(n,{pending:!0,data:o,method:r.method,action:a},a,o))},currentTarget:r}]})}}for(var xu=0;xu<ld.length;xu++){var Tu=ld[xu],Ex=Tu.toLowerCase(),jx=Tu[0].toUpperCase()+Tu.slice(1);li(Ex,"on"+jx)}li(fp,"onAnimationEnd");li(hp,"onAnimationIteration");li(mp,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(IS,"onTransitionRun");li(YS,"onTransitionStart");li(VS,"onTransitionCancel");li(gp,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function t0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var l=i[s],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=u;try{a(r)}catch(f){jo(f)}r.currentTarget=null,a=o}else for(s=0;s<i.length;s++){if(l=i[s],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=u;try{a(r)}catch(f){jo(f)}r.currentTarget=null,a=o}}}}function ke(e,t){var n=t[Wu];n===void 0&&(n=t[Wu]=new Set);var i=e+"__bubble";n.has(i)||(n0(t,e,2,!1),n.add(i))}function Eu(e,t,n){var i=0;t&&(i|=4),n0(n,e,i,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[Yl]){e[Yl]=!0,Xy.forEach(function(n){n!=="selectionchange"&&(Ox.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Eu("selectionchange",!1,t))}}function n0(e,t,n,i){switch(g0(t)){case 2:var r=t1;break;case 8:r=n1;break;default:r=ih}n=r.bind(null,t,n,e),r=void 0,!rd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ju(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=i.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=ga(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){i=a=s;continue e}l=l.parentNode}}i=i.return}tp(function(){var u=a,f=pf(n),d=[];e:{var m=yp.get(e);if(m!==void 0){var h=dc,v=e;switch(e){case"keypress":if(lo(n)===0)break e;case"keydown":case"keyup":h=_S;break;case"focusin":v="focus",h=tu;break;case"focusout":v="blur",h=tu;break;case"beforeblur":case"afterblur":h=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xS;break;case fp:case hp:case mp:h=dS;break;case gp:h=ES;break;case"scroll":case"scrollend":h=sS;break;case"wheel":h=OS;break;case"copy":case"cut":case"paste":h=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=fm;break;case"toggle":case"beforetoggle":h=AS}var b=(t&4)!==0,x=!b&&(e==="scroll"||e==="scrollend"),p=b?m!==null?m+"Capture":null:m;b=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||p===null||(w=Ks(g,p),w!=null&&b.push(tl(g,w,y))),x)break;g=g.return}0<b.length&&(m=new h(m,v,null,n,f),d.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==id&&(v=n.relatedTarget||n.fromElement)&&(ga(v)||v[Ja]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?ga(v):null,v!==null&&(x=ul(v),b=v.tag,v!==x||b!==5&&b!==27&&b!==6)&&(v=null)):(h=null,v=u),h!==v)){if(b=um,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=fm,w="onPointerLeave",p="onPointerEnter",g="pointer"),x=h==null?m:ws(h),y=v==null?m:ws(v),m=new b(w,g+"leave",h,n,f),m.target=x,m.relatedTarget=y,w=null,ga(f)===u&&(b=new b(p,g+"enter",v,n,f),b.target=y,b.relatedTarget=x,w=b),x=w,h&&v)t:{for(b=Dx,p=h,g=v,y=0,w=p;w;w=b(w))y++;w=0;for(var T=g;T;T=b(T))w++;for(;0<y-w;)p=b(p),y--;for(;0<w-y;)g=b(g),w--;for(;y--;){if(p===g||g!==null&&p===g.alternate){b=p;break t}p=b(p),g=b(g)}b=null}else b=null;h!==null&&ig(d,m,h,b,!1),v!==null&&x!==null&&ig(d,x,v,b,!0)}}e:{if(m=u?ws(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=ym;else if(gm(m))if(lp)j=LS;else{j=$S;var S=zS}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&yf(u.elementType)&&(j=ym):j=BS;if(j&&(j=j(e,u))){sp(d,j,n,f);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&nd(m,"number",m.value)}switch(S=u?ws(u):window,e){case"focusin":(gm(S)||S.contentEditable==="true")&&(va=S,ad=u,Ds=null);break;case"focusout":Ds=ad=va=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,wm(d,n,f);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":wm(d,n,f)}var E;if(_f)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else pa?rp(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(ip&&n.locale!=="ko"&&(pa||A!=="onCompositionStart"?A==="onCompositionEnd"&&pa&&(E=np()):(Pi=f,vf="value"in Pi?Pi.value:Pi.textContent,pa=!0)),S=Yo(u,A),0<S.length&&(A=new dm(A,e,null,n,f),d.push({event:A,listeners:S}),E?A.data=E:(E=ap(n),E!==null&&(A.data=E)))),(E=CS?RS(e,n):MS(e,n))&&(A=Yo(u,"onBeforeInput"),0<A.length&&(S=new dm("onBeforeInput","beforeinput",null,n,f),d.push({event:S,listeners:A}),S.data=E)),Tx(d,e,u,n,f)}t0(d,t)})}function tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Ks(e,n),r!=null&&i.unshift(tl(e,r,a)),r=Ks(e,t),r!=null&&i.push(tl(e,r,a))),e.tag===3)return i;e=e.return}return[]}function Dx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ig(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||u===null||(o=u,r?(u=Ks(n,a),u!=null&&s.unshift(tl(n,u,o))):r||(u=Ks(n,a),u!=null&&s.push(tl(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ax=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function rg(e){return(typeof e=="string"?e:""+e).replace(Ax,`
`).replace(Nx,"")}function i0(e,t){return t=rg(t),rg(e)===t}function it(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||$a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&$a(e,""+i);break;case"className":zl(e,"class",i);break;case"tabIndex":zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,n,i);break;case"style":ep(e,i,a);break;case"data":if(t!=="object"){zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ao(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",r.name,r,null),it(e,t,"formEncType",r.formEncType,r,null),it(e,t,"formMethod",r.formMethod,r,null),it(e,t,"formTarget",r.formTarget,r,null)):(it(e,t,"encType",r.encType,r,null),it(e,t,"method",r.method,r,null),it(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ao(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ei);break;case"onScroll":i!=null&&ke("scroll",e);break;case"onScrollEnd":i!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ao(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ke("beforetoggle",e),ke("toggle",e),ro(e,"popover",i);break;case"xlinkActuate":yi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ro(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rS.get(n)||n,ro(e,n,i))}}function Nd(e,t,n,i,r,a){switch(n){case"style":ep(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof i=="string"?$a(e,i):(typeof i=="number"||typeof i=="bigint")&&$a(e,""+i);break;case"onScroll":i!=null&&ke("scroll",e);break;case"onScrollEnd":i!=null&&ke("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qy.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[_n]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ro(e,n,i)}}}function tn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:it(e,t,a,s,n,null)}}r&&it(e,t,"srcSet",n.srcSet,n,null),i&&it(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var l=a=s=r=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":s=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,t));break;default:it(e,t,i,f,n,null)}}Zy(e,a,l,o,u,s,r,!1);return;case"select":ke("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:it(e,t,r,l,n,null)}t=a,n=s,e.multiple=!!i,t!=null?ja(e,!!i,t,!1):n!=null&&ja(e,!!i,n,!0);return;case"textarea":ke("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(k(91));break;default:it(e,t,s,l,n,null)}Wy(e,i,r,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:it(e,t,o,i,n,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(i=0;i<el.length;i++)ke(el[i],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:it(e,t,u,i,n,null)}return;default:if(yf(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Nd(e,t,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&it(e,t,l,i,n,null))}function Cx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,o=null,u=null,f=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=d;default:i.hasOwnProperty(h)||it(e,t,h,null,i,d)}}for(var m in i){var h=i[m];if(d=n[m],i.hasOwnProperty(m)&&(h!=null||d!=null))switch(m){case"type":a=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":f=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(k(137,t));break;default:h!==d&&it(e,t,m,h,i,d)}}td(e,s,l,o,u,f,a,r);return;case"select":h=s=l=m=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":h=o;default:i.hasOwnProperty(a)||it(e,t,a,null,i,o)}for(r in i)if(a=i[r],o=n[r],i.hasOwnProperty(r)&&(a!=null||o!=null))switch(r){case"value":m=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==o&&it(e,t,r,a,i,o)}t=l,n=s,i=h,m!=null?ja(e,!!n,m,!1):!!i!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:it(e,t,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(k(91));break;default:r!==a&&it(e,t,s,r,i,a)}Fy(e,m,h);return;case"option":for(var v in n)if(m=n[v],n.hasOwnProperty(v)&&m!=null&&!i.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:it(e,t,v,null,i,m)}for(o in i)if(m=i[o],h=n[o],i.hasOwnProperty(o)&&m!==h&&(m!=null||h!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:it(e,t,o,m,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&it(e,t,b,null,i,m);for(u in i)if(m=i[u],h=n[u],i.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:it(e,t,u,m,i,h)}return;default:if(yf(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!==void 0&&!i.hasOwnProperty(x)&&Nd(e,t,x,void 0,i,m);for(f in i)m=i[f],h=n[f],!i.hasOwnProperty(f)||m===h||m===void 0&&h===void 0||Nd(e,t,f,m,i,h);return}}for(var p in n)m=n[p],n.hasOwnProperty(p)&&m!=null&&!i.hasOwnProperty(p)&&it(e,t,p,null,i,m);for(d in i)m=i[d],h=n[d],!i.hasOwnProperty(d)||m===h||m==null&&h==null||it(e,t,d,m,i,h)}function ag(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,s=r.initiatorType,l=r.duration;if(a&&l&&ag(s)){for(s=0,l=r.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>l)break;var f=o.transferSize,d=o.initiatorType;f&&ag(d)&&(o=o.responseEnd,s+=f*(o<l?1:(l-u)/(o-u)))}if(--i,t+=8*(a+s)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cd=null,Rd=null;function Vo(e){return e.nodeType===9?e:e.ownerDocument}function sg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=null;function Mx(){var e=window.event;return e&&e.type==="popstate"?e===Ou?!1:(Ou=e,!0):(Ou=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,Ux=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(e){return lg.resolve(null).then(e).catch(zx)}:a0;function zx(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function og(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),Ga(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Bs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Bs(n);for(var a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[ml]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Bs(e.ownerDocument.body);n=r}while(n);Ga(t)}function cg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kd(n),gf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $x(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ml])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Bx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function s0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $d=null;function ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function l0(e,t,n){switch(t=Vo(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gf(e)}var Zn=new Map,fg=new Set;function Go(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=Je.d;Je.d={f:Hx,r:qx,D:Ix,C:Yx,L:Vx,m:Gx,X:Xx,S:Kx,M:Qx};function Hx(){var e=Ui.f(),t=Sc();return e||t}function qx(e){var t=Pa(e);t!==null&&t.tag===5&&t.type==="form"?ev(t):Ui.r(e)}var es=typeof document>"u"?null:document;function o0(e,t,n){var i=es;if(i&&typeof t=="string"&&t){var r=Kn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),fg.has(r)||(fg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),tn(t,"link",e),Qt(t),i.head.appendChild(t)))}}function Ix(e){Ui.D(e),o0("dns-prefetch",e,null)}function Yx(e,t){Ui.C(e,t),o0("preconnect",e,t)}function Vx(e,t,n){Ui.L(e,t,n);var i=es;if(i&&e&&t){var r='link[rel="preload"][as="'+Kn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Kn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Kn(n.imageSizes)+'"]')):r+='[href="'+Kn(e)+'"]';var a=r;switch(t){case"style":a=Va(e);break;case"script":a=ts(e)}Zn.has(a)||(e=pt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Zn.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(_l(a))||t==="script"&&i.querySelector(wl(a))||(t=i.createElement("link"),tn(t,"link",e),Qt(t),i.head.appendChild(t)))}}function Gx(e,t){Ui.m(e,t);var n=es;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Kn(i)+'"][href="'+Kn(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ts(e)}if(!Zn.has(a)&&(e=pt({rel:"modulepreload",href:e},t),Zn.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wl(a)))return}i=n.createElement("link"),tn(i,"link",e),Qt(i),n.head.appendChild(i)}}}function Kx(e,t,n){Ui.S(e,t,n);var i=es;if(i&&e){var r=Ea(i).hoistableStyles,a=Va(e);t=t||"default";var s=r.get(a);if(!s){var l={loading:0,preload:null};if(s=i.querySelector(_l(a)))l.loading=5;else{e=pt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Zn.get(a))&&eh(e,n);var o=s=i.createElement("link");Qt(o),tn(o,"link",e),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,yo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(a,s)}}}function Xx(e,t){Ui.X(e,t);var n=es;if(n&&e){var i=Ea(n).hoistableScripts,r=ts(e),a=i.get(r);a||(a=n.querySelector(wl(r)),a||(e=pt({src:e,async:!0},t),(t=Zn.get(r))&&th(e,t),a=n.createElement("script"),Qt(a),tn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Qx(e,t){Ui.M(e,t);var n=es;if(n&&e){var i=Ea(n).hoistableScripts,r=ts(e),a=i.get(r);a||(a=n.querySelector(wl(r)),a||(e=pt({src:e,async:!0,type:"module"},t),(t=Zn.get(r))&&th(e,t),a=n.createElement("script"),Qt(a),tn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function hg(e,t,n,i){var r=(r=er.current)?Go(r):null;if(!r)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=Ea(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var a=Ea(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(_l(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Zn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zn.set(e,n),a||Jx(r,e,n,s.state))),t&&i===null)throw Error(k(528,""));return s}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ts(n),n=Ea(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function Va(e){return'href="'+Kn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function c0(e){return pt({},e,{"data-precedence":e.precedence,precedence:null})}function Jx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),tn(t,"link",n),Qt(t),e.head.appendChild(t))}function ts(e){return'[src="'+Kn(e)+'"]'}function wl(e){return"script[async]"+e}function mg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Kn(n.href)+'"]');if(i)return t.instance=i,Qt(i),i;var r=pt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qt(i),tn(i,"style",r),yo(i,n.precedence,e),t.instance=i;case"stylesheet":r=Va(n.href);var a=e.querySelector(_l(r));if(a)return t.state.loading|=4,t.instance=a,Qt(a),a;i=c0(n),(r=Zn.get(r))&&eh(i,r),a=(e.ownerDocument||e).createElement("link"),Qt(a);var s=a;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),tn(a,"link",i),t.state.loading|=4,yo(a,n.precedence,e),t.instance=a;case"script":return a=ts(n.src),(r=e.querySelector(wl(a)))?(t.instance=r,Qt(r),r):(i=n,(r=Zn.get(a))&&(i=pt({},n),th(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Qt(r),tn(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,yo(i,n.precedence,e));return t.instance}function yo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var l=i[s];if(l.dataset.precedence===t)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function eh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function th(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var po=null;function gg(e,t,n){if(po===null){var i=new Map,r=po=new Map;r.set(n,i)}else r=po,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[ml]||a[Ft]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var l=i.get(s);l?l.push(a):i.set(s,[a])}}return i}function yg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Px(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function u0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Zx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Va(i.href),a=t.querySelector(_l(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ko.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Qt(a);return}a=t.ownerDocument||t,i=c0(i),(r=Zn.get(r))&&eh(i,r),a=a.createElement("link"),Qt(a);var s=a;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),tn(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Ko.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Du=0;function Fx(e,t){return e.stylesheets&&e.count===0&&vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Du===0&&(Du=62500*Rx());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Du?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xo=null;function vo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xo=new Map,t.forEach(Wx,e),Xo=null,Ko.call(e))}function Wx(e,t){if(!(t.state.loading&4)){var n=Xo.get(e);if(n)var i=n.get(null);else{n=new Map,Xo.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=Ko.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var nl={$$typeof:Ti,Provider:null,Consumer:null,_currentValue:Cr,_currentValue2:Cr,_threadCount:0};function e1(e,t,n,i,r,a,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.hiddenUpdates=Zc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function d0(e,t,n,i,r,a,s,l,o,u,f,d){return e=new e1(e,t,n,s,o,u,f,d,l),t=1,a===!0&&(t|=24),a=Dn(3,null,null,t),e.current=a,a.stateNode=e,t=Of(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Nf(a),e}function f0(e){return e?(e=wa,e):wa}function h0(e,t,n,i,r,a){r=f0(r),i.context===null?i.context=r:i.pendingContext=r,i=nr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=ir(e,i,t),n!==null&&(bn(n,e,t),Ns(n,e,t))}function pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nh(e,t){pg(e,t),(e=e.alternate)&&pg(e,t)}function m0(e){if(e.tag===13||e.tag===31){var t=Xr(e,67108864);t!==null&&bn(t,e,67108864),nh(e,67108864)}}function vg(e){if(e.tag===13||e.tag===31){var t=Un();t=hf(t);var n=Xr(e,t);n!==null&&bn(n,e,t),nh(e,t)}}var Qo=!0;function t1(e,t,n,i){var r=we.T;we.T=null;var a=Je.p;try{Je.p=2,ih(e,t,n,i)}finally{Je.p=a,we.T=r}}function n1(e,t,n,i){var r=we.T;we.T=null;var a=Je.p;try{Je.p=8,ih(e,t,n,i)}finally{Je.p=a,we.T=r}}function ih(e,t,n,i){if(Qo){var r=Bd(i);if(r===null)ju(e,t,i,Jo,n),bg(e,i);else if(r1(r,e,t,n,i))i.stopPropagation();else if(bg(e,i),t&4&&-1<i1.indexOf(e)){for(;r!==null;){var a=Pa(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=wr(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-kn(s);l.entanglements[1]|=o,s&=~o}mi(a),!(Qe&6)&&(Bo=Rn()+500,bl(0))}}break;case 31:case 13:l=Xr(a,2),l!==null&&bn(l,a,2),Sc(),nh(a,2)}if(a=Bd(i),a===null&&ju(e,t,i,Jo,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else ju(e,t,i,null,n)}}function Bd(e){return e=pf(e),rh(e)}var Jo=null;function rh(e){if(Jo=null,e=ga(e),e!==null){var t=ul(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ky(t),e!==null)return e;e=null}else if(n===31){if(e=Uy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jo=e,null}function g0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iw()){case Ly:return 2;case Hy:return 8;case To:case Yw:return 32;case qy:return 268435456;default:return 32}default:return 32}}var Ld=!1,sr=null,lr=null,or=null,il=new Map,rl=new Map,Xi=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bg(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function vs(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Pa(t),t!==null&&m0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function r1(e,t,n,i,r){switch(t){case"focusin":return sr=vs(sr,e,t,n,i,r),!0;case"dragenter":return lr=vs(lr,e,t,n,i,r),!0;case"mouseover":return or=vs(or,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return il.set(a,vs(il.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,rl.set(a,vs(rl.get(a)||null,e,t,n,i,r)),!0}return!1}function y0(e){var t=ga(e.target);if(t!==null){var n=ul(t);if(n!==null){if(t=n.tag,t===13){if(t=ky(n),t!==null){e.blockedOn=t,im(e.priority,function(){vg(n)});return}}else if(t===31){if(t=Uy(n),t!==null){e.blockedOn=t,im(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);id=i,n.target.dispatchEvent(i),id=null}else return t=Pa(n),t!==null&&m0(t),e.blockedOn=n,!1;t.shift()}return!0}function _g(e,t,n){bo(e)&&n.delete(t)}function a1(){Ld=!1,sr!==null&&bo(sr)&&(sr=null),lr!==null&&bo(lr)&&(lr=null),or!==null&&bo(or)&&(or=null),il.forEach(_g),rl.forEach(_g)}function Vl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,a1)))}var Gl=null;function wg(e){Gl!==e&&(Gl=e,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(rh(i||n)===null)continue;break}var a=Pa(n);a!==null&&(e.splice(t,3),t-=3,bd(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ga(e){function t(o){return Vl(o,e)}sr!==null&&Vl(sr,e),lr!==null&&Vl(lr,e),or!==null&&Vl(or,e),il.forEach(t),rl.forEach(t);for(var n=0;n<Xi.length;n++){var i=Xi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Xi.length&&(n=Xi[0],n.blockedOn===null);)y0(n),n.blockedOn===null&&Xi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[_n]||null;if(typeof a=="function")s||wg(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[_n]||null)l=s.formAction;else if(rh(r)!==null)continue}else l=s.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),wg(n)}}}function p0(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return r=s})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function ah(e){this._internalRoot=e}Ec.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,i=Un();h0(n,i,e,t,null,null)};Ec.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),Sc(),t[Ja]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ky();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xi.length&&t!==0&&t<Xi[n].priority;n++);Xi.splice(n,0,e),n===0&&y0(e)}};var Sg=Ry.version;if(Sg!=="19.2.0")throw Error(k(527,Sg,"19.2.0"));Je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Uw(t),e=e!==null?zy(e):null,e=e===null?null:e.stateNode,e};var s1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{dl=Kl.inject(s1),Mn=Kl}catch{}}oc.createRoot=function(e,t){if(!My(e))throw Error(k(299));var n=!1,i="",r=ov,a=cv,s=uv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=d0(e,1,!1,null,null,n,i,null,r,a,s,p0),e[Ja]=t.current,Wf(e),new ah(t)};oc.hydrateRoot=function(e,t,n){if(!My(e))throw Error(k(299));var i=!1,r="",a=ov,s=cv,l=uv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=d0(e,1,!0,t,n??null,i,r,o,a,s,l,p0),t.context=f0(null),n=t.current,i=Un(),i=hf(i),r=nr(i),r.callback=null,ir(n,r,i),n=i,t.current.lanes=n,hl(t,n),mi(t),e[Ja]=t.current,Wf(e),new Ec(t)};oc.version="19.2.0";function v0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v0)}catch(e){console.error(e)}}v0(),Ey.exports=oc;var l1=Ey.exports,Hd=function(e,t){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Hd(e,t)};function b0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Po=function(){return Po=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Po.apply(this,arguments)};function ns(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function _0(e,t,n,i){var r=arguments.length,a=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(r<3?s(a):r>3?s(t,n,a):s(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function w0(e,t){return function(n,i){t(n,i,e)}}function S0(e,t,n,i,r,a){function s(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=i.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?i.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),d,m=!1,h=n.length-1;h>=0;h--){var v={};for(var b in i)v[b]=b==="access"?{}:i[b];for(var b in i.access)v.access[b]=i.access[b];v.addInitializer=function(p){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(p||null))};var x=(0,n[h])(l==="accessor"?{get:f.get,set:f.set}:f[o],v);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=s(x.get))&&(f.get=d),(d=s(x.set))&&(f.set=d),(d=s(x.init))&&r.unshift(d)}else(d=s(x))&&(l==="field"?r.unshift(d):f[o]=d)}u&&Object.defineProperty(u,i.name,f),m=!0}function x0(e,t,n){for(var i=arguments.length>2,r=0;r<t.length;r++)n=i?t[r].call(e,n):t[r].call(e);return i?n:void 0}function T0(e){return typeof e=="symbol"?e:"".concat(e)}function E0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function j0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function le(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(f){try{u(i.next(f))}catch(d){s(d)}}function o(f){try{u(i.throw(f))}catch(d){s(d)}}function u(f){f.done?a(f.value):r(f.value).then(l,o)}u((i=i.apply(e,t||[])).next())})}function O0(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(f){return o([u,f])}}function o(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(i=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jc=Object.create?function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]};function D0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&jc(t,e,n)}function Zo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,a=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){s={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a}function A0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sh(arguments[t]));return e}function N0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,r++)i[r]=a[s];return i}function C0(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function Ka(e){return this instanceof Ka?(this.v=e,this):new Ka(e)}function R0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(v){return Promise.resolve(v).then(h,d)}}function l(h,v){i[h]&&(r[h]=function(b){return new Promise(function(x,p){a.push([h,b,x,p])>1||o(h,b)})},v&&(r[h]=v(r[h])))}function o(h,v){try{u(i[h](v))}catch(b){m(a[0][3],b)}}function u(h){h.value instanceof Ka?Promise.resolve(h.value.v).then(f,d):m(a[0][2],h)}function f(h){o("next",h)}function d(h){o("throw",h)}function m(h,v){h(v),a.shift(),a.length&&o(a[0][0],a[0][1])}}function M0(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:Ka(e[r](s)),done:!1}:a?a(s):s}:a}}function k0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zo=="function"?Zo(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(l,o){s=e[a](s),r(l,o,s.done,s.value)})}}function r(a,s,l,o){Promise.resolve(o).then(function(u){a({value:u,done:l})},s)}}function U0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qd=function(e){return qd=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},qd(e)};function z0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=qd(e),i=0;i<n.length;i++)n[i]!=="default"&&jc(t,e,n[i]);return o1(t,e),t}function $0(e){return e&&e.__esModule?e:{default:e}}function B0(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function L0(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function H0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function q0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var c1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function I0(e){function t(a){e.error=e.hasError?new c1(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,i=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(r,function(s){return t(s),r()})}else i|=1}catch(s){t(s)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function Y0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,a,s){return i?t?".jsx":".js":r&&(!a||!s)?n:r+a+"."+s.toLowerCase()+"js"}):e}const u1={__extends:b0,__assign:Po,__rest:ns,__decorate:_0,__param:w0,__esDecorate:S0,__runInitializers:x0,__propKey:T0,__setFunctionName:E0,__metadata:j0,__awaiter:le,__generator:O0,__createBinding:jc,__exportStar:D0,__values:Zo,__read:sh,__spread:A0,__spreadArrays:N0,__spreadArray:C0,__await:Ka,__asyncGenerator:R0,__asyncDelegator:M0,__asyncValues:k0,__makeTemplateObject:U0,__importStar:z0,__importDefault:$0,__classPrivateFieldGet:B0,__classPrivateFieldSet:L0,__classPrivateFieldIn:H0,__addDisposableResource:q0,__disposeResources:I0,__rewriteRelativeImportExtension:Y0},d1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:q0,get __assign(){return Po},__asyncDelegator:M0,__asyncGenerator:R0,__asyncValues:k0,__await:Ka,__awaiter:le,__classPrivateFieldGet:B0,__classPrivateFieldIn:H0,__classPrivateFieldSet:L0,__createBinding:jc,__decorate:_0,__disposeResources:I0,__esDecorate:S0,__exportStar:D0,__extends:b0,__generator:O0,__importDefault:$0,__importStar:z0,__makeTemplateObject:U0,__metadata:j0,__param:w0,__propKey:T0,__read:sh,__rest:ns,__rewriteRelativeImportExtension:Y0,__runInitializers:x0,__setFunctionName:E0,__spread:A0,__spreadArray:C0,__spreadArrays:N0,__values:Zo,default:u1},Symbol.toStringTag,{value:"Module"})),f1="modulepreload",h1=function(e){return"/todo-note/"+e},xg={},is=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(o=>{if(o=h1(o),o in xg)return;xg[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":f1,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,h)=>{d.addEventListener("load",m),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},m1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class lh extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class Tg extends lh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Eg extends lh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jg extends lh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Id;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Id||(Id={}));class g1{constructor(t,{headers:n={},customFetch:i,region:r=Id.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=m1(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return le(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:a,method:s,body:l,signal:o}=i;let u={},{region:f}=i;f||(f=this.region);const d=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const h=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:o}).catch(p=>{throw p.name==="AbortError"?p:new Tg(p)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new Eg(h);if(!h.ok)throw new jg(h);let b=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield h.json():b==="application/octet-stream"||b==="application/pdf"?x=yield h.blob():b==="text/event-stream"?x=h:b==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Tg(a)}:{data:null,error:a,response:a instanceof jg||a instanceof Eg?a.context:void 0}}})}}var on={};const rs=gy(d1);var Xl={},Ql={},Jl={},Pl={},Zl={},y1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xa=y1();const p1=Xa.fetch,V0=Xa.fetch.bind(Xa),G0=Xa.Headers,v1=Xa.Request,b1=Xa.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:G0,Request:v1,Response:b1,default:V0,fetch:p1},Symbol.toStringTag,{value:"Module"})),_1=gy(Jr);var Fl={},Og;function K0(){if(Og)return Fl;Og=1,Object.defineProperty(Fl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fl.default=e,Fl}var Dg;function X0(){if(Dg)return Zl;Dg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const e=rs,t=e.__importDefault(_1),n=e.__importDefault(K0());class i{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,d,m,h;let v=null,b=null,x=null,p=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),T=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&T&&T.length>1&&(x=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,p=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await u.text();try{v=JSON.parse(w),Array.isArray(v)&&u.status===404&&(b=[],v=null,p=200,g="OK")}catch{u.status===404&&w===""?(p=204,g="No Content"):v={message:w}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,p=200,g="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:b,count:x,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var f,d,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(a,s)}returns(){return this}overrideTypes(){return this}}return Zl.default=i,Zl}var Ag;function Q0(){if(Ag)return Pl;Ag=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=rs.__importDefault(X0());class n extends t.default{select(r){let a=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:l=s}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(u,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const d=[r?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Pl.default=n,Pl}var Ng;function oh(){if(Ng)return Jl;Ng=1,Object.defineProperty(Jl,"__esModule",{value:!0});const t=rs.__importDefault(Q0()),n=new RegExp("[,()]");class i extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const l=Array.from(new Set(s)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${f}.${s}`),this}match(a){return Object.entries(a).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(a,s,l){return this.url.searchParams.append(a,`not.${s}.${l}`),this}or(a,{foreignTable:s,referencedTable:l=s}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,l){return this.url.searchParams.append(a,`${s}.${l}`),this}}return Jl.default=i,Jl}var Cg;function J0(){if(Cg)return Ql;Cg=1,Object.defineProperty(Ql,"__esModule",{value:!0});const t=rs.__importDefault(oh());class n{constructor(r,{headers:a={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(r,a){const{head:s=!1,count:l}=a??{},o=s?"HEAD":"GET";let u=!1;const f=(r??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var l;const o="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(d.length>0){const m=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ql.default=n,Ql}var Rg;function w1(){if(Rg)return Xl;Rg=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=rs,t=e.__importDefault(J0()),n=e.__importDefault(oh());class i{constructor(a,{headers:s={},schema:l,fetch:o}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=o}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:o=!1,count:u}={}){var f;let d;const m=new URL(`${this.url}/rpc/${a}`);let h;l||o?(d=l?"HEAD":"GET",Object.entries(s).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{m.searchParams.append(b,x)})):(d="POST",h=s);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:m,headers:v,schema:this.schemaName,body:h,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Xl.default=i,Xl}Object.defineProperty(on,"__esModule",{value:!0});var P0=on.PostgrestError=sb=on.PostgrestBuilder=rb=on.PostgrestTransformBuilder=nb=on.PostgrestFilterBuilder=eb=on.PostgrestQueryBuilder=F0=on.PostgrestClient=void 0;const as=rs,Z0=as.__importDefault(w1());var F0=on.PostgrestClient=Z0.default;const W0=as.__importDefault(J0());var eb=on.PostgrestQueryBuilder=W0.default;const tb=as.__importDefault(oh());var nb=on.PostgrestFilterBuilder=tb.default;const ib=as.__importDefault(Q0());var rb=on.PostgrestTransformBuilder=ib.default;const ab=as.__importDefault(X0());var sb=on.PostgrestBuilder=ab.default;const lb=as.__importDefault(K0());P0=on.PostgrestError=lb.default;var ob=on.default={PostgrestClient:Z0.default,PostgrestQueryBuilder:W0.default,PostgrestFilterBuilder:tb.default,PostgrestTransformBuilder:ib.default,PostgrestBuilder:ab.default,PostgrestError:lb.default};const S1=dw({__proto__:null,get PostgrestBuilder(){return sb},get PostgrestClient(){return F0},get PostgrestError(){return P0},get PostgrestFilterBuilder(){return nb},get PostgrestQueryBuilder(){return eb},get PostgrestTransformBuilder(){return rb},default:ob},[on]),{PostgrestClient:x1,PostgrestQueryBuilder:aD,PostgrestFilterBuilder:sD,PostgrestTransformBuilder:lD,PostgrestBuilder:oD,PostgrestError:cD}=ob||S1;class T1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const E1="2.78.0",j1=`realtime-js/${E1}`,O1="1.0.0",Yd=1e4,D1=1e3,A1=100;var Ls;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ls||(Ls={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var ri;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ri||(ri={}));var Vd;(function(e){e.websocket="websocket"})(Vd||(Vd={}));var Er;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Er||(Er={}));class N1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const r=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=i.decode(t.slice(s,s+r));s=s+r;const o=i.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(i.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class cb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const Mg=(e,t,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=C1(s,e,t,r),a),{}):{}},C1=(e,t,n,i)=>{const r=t.find(l=>l.name===e),a=r==null?void 0:r.type,s=n[e];return a&&!i.includes(a)?ub(a,s):Gd(s)},ub=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return U1(t,n)}switch(e){case ct.bool:return R1(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return M1(t);case ct.json:case ct.jsonb:return k1(t);case ct.timestamp:return z1(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Gd(t);default:return Gd(t)}},Gd=e=>e,R1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},k1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},U1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>ub(t,l))}return e},z1=e=>typeof e=="string"?e.replace(" ","T"):e,db=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Au{constructor(t,n,i={},r=Yd){this.channel=t,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var kg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(kg||(kg={}));class Hs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hs.syncState(this.state,r,a,s),this.pendingDiffs.forEach(o=>{this.state=Hs.syncDiff(this.state,o,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Hs.syncDiff(this.state,r,a,s),l())}),this.onJoin((r,a,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:s})}),this.onLeave((r,a,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,r){const a=this.cloneDeep(t),s=this.transformState(n),l={},o={};return this.map(a,(u,f)=>{s[u]||(o[u]=f)}),this.map(s,(u,f)=>{const d=a[u];if(d){const m=f.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),v=f.filter(x=>h.indexOf(x.presence_ref)<0),b=d.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(o[u]=b)}else l[u]=f}),this.syncDiff(a,{joins:l,leaves:o},i,r)}static syncDiff(t,n,i,r){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(a,(l,o)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),f.length>0){const d=t[l].map(h=>h.presence_ref),m=f.filter(h=>d.indexOf(h.presence_ref)<0);t[l].unshift(...m)}i(l,f,o)}),this.map(s,(l,o)=>{let u=t[l];if(!u)return;const f=o.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,r(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const r=t[i];return"metas"in r?n[i]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ug;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ug||(Ug={}));var qs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qs||(qs={}));var wi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wi||(wi={}));class ch{constructor(t,n={config:{}},i){var r,a;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Au(this,ri.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ri.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Hs(this),this.broadcastEndpointURL=db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:s,presence:l,private:o}}=this.params,u=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&r!==void 0?r:[],f=!!this.bindings[qs.PRESENCE]&&this.bindings[qs.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},m={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(wi.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(wi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){t==null||t(wi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,p=[];for(let g=0;g<x;g++){const y=b[g],{filter:{event:w,schema:T,table:j,filter:S}}=y,E=h&&h[g];if(E&&E.event===w&&E.schema===T&&E.table===j&&E.filter===S)p.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=qt.errored,t==null||t(wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(wi.SUBSCRIBED);return}}).receive("error",h=>{this.state=qt.errored,t==null||t(wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===qt.joined&&t===qs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var r;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var i,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ri.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Au(this,ri.leave,{},t),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const r=new AbortController,a=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),s}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Au(this,t,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>A1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var r,a;const s=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:f}=ri;if(i&&[l,o,u,f].indexOf(s)>=0&&i!==this._joinRef())return;let m=this._onMessage(s,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var v,b,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(b=h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(m,i)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var v,b,x,p,g,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const w=h.id,T=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(g=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:b,table:x,commit_timestamp:p,type:g,errors:y}=v;m=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}h.callback(m,i)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&ch.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ri.close,{},t)}_onError(t){this._on(ri.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Mg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Mg(t.columns,t.old_record)),n}}const Nu=()=>{},Wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$1=[1e3,2e3,5e3,1e4],B1=1e4,L1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H1{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yd,this.transport=null,this.heartbeatIntervalMs=Wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nu,this.ref=0,this.reconnectTimer=null,this.logger=Nu,this.conn=null,this.sendBuffer=[],this.serializer=new N1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let a;return r?a=r:typeof fetch>"u"?a=(...s)=>is(async()=>{const{default:l}=await Promise.resolve().then(()=>Jr);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Vd.websocket}`,this.httpEndpoint=db(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return Er.Connecting;case Ls.open:return Er.Open;case Ls.closing:return Er.Closing;default:return Er.Closed}}isConnected(){return this.connectionState()===Er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===i);if(r)return r;{const a=new ch(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:r,ref:a}=t,s=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${i} (${a})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:a,ref:s}=n,l=s?`(${s})`:"",o=a.status||"";this.log("receive",`${o} ${i} ${r} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(i)).forEach(u=>u._trigger(r,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ri.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${i}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([L1],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:j1};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(ri.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new cb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,r,a,s,l,o,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Yd,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Wl.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Nu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>$1[d-1]||B1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class uh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class q1 extends uh{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kd extends uh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const dh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},I1=()=>le(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),Xd=e=>{if(Array.isArray(e))return e.map(n=>Xd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=Xd(i)}),t},Y1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},V1=(e,t,n)=>le(void 0,void 0,void 0,function*(){const i=yield I1();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const a=e.status||500,s=(r==null?void 0:r.statusCode)||a+"";t(new q1(Cu(r),a,s))}).catch(r=>{t(new Kd(Cu(r),r))}):t(new Kd(Cu(e),e))}),G1=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?r:(Y1(i)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(i)):r.body=i,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n))};function Sl(e,t,n,i,r,a){return le(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,G1(t,i,r,a)).then(o=>{if(!o.ok)throw o;return i!=null&&i.noResolveJson?o:o.json()}).then(o=>s(o)).catch(o=>V1(o,l,i))})})}function al(e,t,n,i){return le(this,void 0,void 0,function*(){return Sl(e,"GET",t,n,i)})}function ni(e,t,n,i,r){return le(this,void 0,void 0,function*(){return Sl(e,"POST",t,i,r,n)})}function Qd(e,t,n,i,r){return le(this,void 0,void 0,function*(){return Sl(e,"PUT",t,i,r,n)})}function K1(e,t,n,i){return le(this,void 0,void 0,function*(){return Sl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function fh(e,t,n,i,r){return le(this,void 0,void 0,function*(){return Sl(e,"DELETE",t,i,r,n)})}class X1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xt(t))return{data:null,error:t};throw t}})}}var fb;class Q1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[fb]="BlobDownloadBuilder",this.promise=null}asStream(){return new X1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xt(t))return{data:null,error:t};throw t}})}}fb=Symbol.toStringTag;const J1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class P1{constructor(t,n={},i,r){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,r){return le(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},zg),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=i,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Qd:ni)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}upload(t,n,i){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,r){return le(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:zg.upsert},r),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl)):(o=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Qd(this.fetch,l.toString(),o,{headers:f});return{data:{path:a,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const a=yield ni(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new uh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}update(t,n,i){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return le(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}copy(t,n,i){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,i){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),a=yield ni(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,i){return le(this,void 0,void 0,function*(){try{const r=yield ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}download(t,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(t),o=()=>al(this.fetch,`${this.url}/${r}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new Q1(o,this.shouldThrowOnError)}info(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield al(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}exists(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield K1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i)&&i instanceof Kd){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),r=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&r.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&r.push(o);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${u}`)}}}remove(t){return le(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}list(t,n,i){return le(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},J1),n),{prefix:t||""});return{data:yield ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listV2(t,n){return le(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield ni(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hb="2.78.0",mb={"X-Client-Info":`storage-js/${hb}`};class Z1{constructor(t,n={},i,r){this.shouldThrowOnError=!1;const a=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mb),n),this.fetch=dh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield al(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}createBucket(t){return le(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class F1{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mb),n),this.fetch=dh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield al(this.fetch,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}const hh={"X-Client-Info":`storage-js/${hb}`,"Content-Type":"application/json"};class gb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ru extends gb{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class W1 extends gb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var $g;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($g||($g={}));const mh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},eT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tT=(e,t,n)=>le(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";t(new Ru(Bg(s),r,l))}).catch(()=>{const s=r+"",l=a.statusText||`HTTP ${r} error`;t(new Ru(l,r,s))});else{const s=r+"",l=a.statusText||`HTTP ${r} error`;t(new Ru(l,r,s))}}else t(new W1(Bg(e),e))}),nT=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(eT(i)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function iT(e,t,n,i,r,a){return le(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,nT(t,i,r,a)).then(o=>{if(!o.ok)throw o;if(i!=null&&i.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>s(o)).catch(o=>tT(o,l,i))})})}function Nn(e,t,n,i,r){return le(this,void 0,void 0,function*(){return iT(e,"POST",t,i,r,n)})}class rT{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hh),n),this.fetch=mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Nn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}listIndexes(t){return le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:(yield Nn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}}class aT{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hh),n),this.fetch=mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return le(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listVectors(t){return le(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Nn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}queryVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteVectors(t){return le(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class sT{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hh),n),this.fetch=mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Nn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(t={}){try{return{data:yield Nn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Nn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class lT extends sT{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new oT(this.url,this.headers,t,this.fetch)}}class oT extends rT{constructor(t,n,i,r){super(t,n,r),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new cT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class cT extends aT{constructor(t,n,i,r,a){super(t,n,a),this.vectorBucketName=i,this.indexName=r}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uT extends Z1{constructor(t,n={},i,r){super(t,n,i,r)}from(t){return new P1(this.url,this.headers,t,this.fetch)}get vectors(){return new lT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F1(this.url+"/iceberg",this.headers,this.fetch)}}const dT="2.78.0";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const fT={"X-Client-Info":`supabase-js-${Ts}/${dT}`},hT={headers:fT},mT={schema:"public"},gT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yT={},pT=e=>{let t;return e?t=e:typeof fetch>"u"?t=V0:t=fetch,(...n)=>t(...n)},vT=()=>typeof Headers>"u"?G0:Headers,bT=(e,t,n)=>{const i=pT(n),r=vT();return async(a,s)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new r(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),i(a,Object.assign(Object.assign({},s),{headers:u}))}};function _T(e){return e.endsWith("/")?e:e+"/"}function wT(e,t){var n,i;const{db:r,auth:a,realtime:s,global:l}=e,{db:o,auth:u,realtime:f,global:d}=t,m={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(i=l==null?void 0:l.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function ST(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_T(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yb="2.78.0",ua=30*1e3,Jd=3,Mu=Jd*ua,xT="http://localhost:9999",TT="supabase.auth.token",ET={"X-Client-Info":`gotrue-js/${yb}`},Pd="X-Supabase-Api-Version",pb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OT=10*60*1e3;class sl extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DT extends sl{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function AT(e){return ue(e)&&e.name==="AuthApiError"}class jr extends sl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gr extends sl{constructor(t,n,i,r){super(t,i,r),this.name=n,this.status=i}}class ei extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NT(e){return ue(e)&&e.name==="AuthSessionMissingError"}class na extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eo extends gr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class to extends gr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CT(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lg extends gr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zd extends gr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ku(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class Hg extends gr{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Fd extends gr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qg=` 	
\r=`.split(""),RT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qg.length;t+=1)e[qg[t].charCodeAt(0)]=-2;for(let t=0;t<Fo.length;t+=1)e[Fo[t].charCodeAt(0)]=t;return e})();function Ig(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Fo[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Fo[i]),t.queuedBits-=6}}function vb(e,t,n){const i=RT[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yg(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=s=>{UT(s,i,n)};for(let s=0;s<e.length;s+=1)vb(e.charCodeAt(s),r,a);return t.join("")}function MT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kT(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}MT(i,t)}}function UT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ra(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)vb(e.charCodeAt(r),n,i);return new Uint8Array(t)}function zT(e){const t=[];return kT(e,n=>t.push(n)),new Uint8Array(t)}function Nr(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};return e.forEach(r=>Ig(r,n,i)),Ig(null,n,i),t.join("")}function $T(e){return Math.round(Date.now()/1e3)+e}function BT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},bb=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function LT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((i,r)=>{t[r]=i}),t}const _b=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},HT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",da=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},br=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Li=async(e,t)=>{await e.removeItem(t)};class Oc{constructor(){this.promise=new Oc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Oc.promiseConstructor=Promise;function Uu(e){const t=e.split(".");if(t.length!==3)throw new Fd("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!jT.test(t[i]))throw new Fd("JWT not in base64url format");return{header:JSON.parse(Yg(t[0])),payload:JSON.parse(Yg(t[1])),signature:Ra(t[2]),raw:{header:t[0],payload:t[1]}}}async function qT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IT(e,t){return new Promise((i,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){i(s);return}}catch(s){if(!t(a,s)){r(s);return}}})()})}function YT(e){return("0"+e.toString(16)).substr(-2)}function VT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(t),Array.from(t,YT).join("")}async function GT(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function KT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await GT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ia(e,t,n=!1){const i=VT();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await da(e,`${t}-code-verifier`,r);const a=await KT(i);return[a,i===a?"plain":"s256"]}const XT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QT(e){const t=e.headers.get(Pd);if(!t||!t.match(XT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ra(e){if(!ZT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FT(e,t){return new Proxy(e,{get:(n,i,r)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,r)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,r)}})}function Vg(e){return JSON.parse(JSON.stringify(e))}const Tr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WT=[502,503,504];async function Gg(e){var t;if(!HT(e))throw new Zd(Tr(e),0);if(WT.includes(e.status))throw new Zd(Tr(e),e.status);let n;try{n=await e.json()}catch(a){throw new jr(Tr(a),a)}let i;const r=QT(e);if(r&&r.getTime()>=pb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Hg(Tr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Hg(Tr(n),e.status,n.weak_password.reasons);throw new DT(Tr(n),e.status||500,i)}const eE=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function _e(e,t,n,i){var r;const a=Object.assign({},i==null?void 0:i.headers);a[Pd]||(a[Pd]=pb["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const s=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(s.redirect_to=i.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await tE(e,t,n+l,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(o):{data:Object.assign({},o),error:null}}async function tE(e,t,n,i,r,a){const s=eE(t,i,r,a);let l;try{l=await e(n,Object.assign({},s))}catch(o){throw console.error(o),new Zd(Tr(o),0)}if(l.ok||await Gg(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(o){await Gg(o)}}function ti(e){var t;let n=null;rE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$T(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Kg(e){const t=ti(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nE(e){return{data:e,error:null}}function iE(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a}=e,s=ns(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a},o=Object.assign({},s);return{data:{properties:l,user:o},error:null}}function Xg(e){return e}function rE(e){return e.access_token&&e.refresh_token&&e.expires_in}const $u=["global","local","others"];class aE{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=_b(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=$u[0]){if($u.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$u.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qi})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=ns(t,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:iE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qi})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,r,a,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:Xg});if(f.error)throw f.error;const d=await f.json(),m=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ra(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qi})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ra(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Qi})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){ra(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qi})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ra(t.userId);try{const{data:n,error:i}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ra(t.userId),ra(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,r,a,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:Xg});if(f.error)throw f.error;const d=await f.json(),m=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Qg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const aa={debug:!!(globalThis&&bb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sE extends wb{}async function lE(e,t,n){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(aa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function oE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cE(e){return parseInt(e,16)}function uE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function dE(e){var t;const{chainId:n,domain:i,expirationTime:r,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:o,resources:u,scheme:f,uri:d,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Sb(e.address),v=f?`${f}://${i}`:i,b=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${h}

${b}`;let p=`URI: ${d}
Version: ${m}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(r&&(p+=`
Expiration Time: ${r.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),o&&(p+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}p+=g}return`${x}
${p}`}class Mt extends Error{constructor({message:t,code:n,cause:i,name:r}){var a;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=r??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Wo extends Mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function fE({error:e,options:t}){var n,i,r;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(xb(s)){if(a.rp.id!==s)return new Mt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(xb(i)){if(n.rpId!==i)return new Mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const gE=new mE;function yE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,r=ns(e,["challenge","user","excludeCredentials"]),a=Ra(t).buffer,s=Object.assign(Object.assign({},n),{id:Ra(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:a,user:s});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let o=0;o<i.length;o++){const u=i[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Ra(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function pE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=ns(e,["challenge","allowCredentials"]),r=Ra(t).buffer,a=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Ra(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function vE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nr(new Uint8Array(r.authenticatorData)),clientDataJSON:Nr(new Uint8Array(r.clientDataJSON)),signature:Nr(new Uint8Array(r.signature)),userHandle:r.userHandle?Nr(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jg(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _E(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wo("Browser returned unexpected credential type",t)}:{data:null,error:new Wo("Empty credential response",t)}}catch(t){return{data:null,error:fE({error:t,options:e})}}}async function wE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wo("Browser returned unexpected credential type",t)}:{data:null,error:new Wo("Empty credential response",t)}}catch(t){return{data:null,error:hE({error:t,options:e})}}}const SE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xE={userVerification:"preferred",hints:["security-key"]};function ec(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of e)if(r)for(const a in r){const s=r[a];if(s!==void 0)if(Array.isArray(s))i[a]=s;else if(n(s))i[a]=s;else if(t(s)){const l=i[a];t(l)?i[a]=ec(l,s):i[a]=ec(s)}else i[a]=s}return i}function TE(e,t){return ec(SE,e,t||{})}function EE(e,t){return ec(xE,e,t||{})}class jE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:r},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const o=r??gE.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${i}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=TE(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:d}=await _E({publicKey:u,signal:o});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=EE(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:d}=await wE(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:o}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new jr("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},a){if(!n)return{data:null,error:new sl("rpId is required for WebAuthn authentication")};try{if(!Jg())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:a});if(!s)return{data:null,error:l};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:i,credential_response:o.credential_response}})}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new jr("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},a){if(!n)return{data:null,error:new sl("rpId is required for WebAuthn registration")};try{if(!Jg())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:a});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:i,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new jr("Unexpected error in register",s)}}}}oE();const OE={url:xT,storageKey:TT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ET,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pg(e,t,n){return await n()}const sa={};class ll{get jwks(){var t,n;return(n=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ll.nextInstanceID,ll.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},OE),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new aE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=_b(r.fetch),this.lock=r.lock||Pg,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lE:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:bb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qg(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Qg(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=LT(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),sn()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),CT(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new jr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,r;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:ti}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,i,r;try{let a;if("email"in t){const{email:f,password:d,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await ia(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:ti})}else if("phone"in t){const{phone:f,password:d,options:m}=t;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ti})}else throw new eo("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kg})}else if("phone"in t){const{phone:a,password:s,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kg})}else throw new eo("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new na}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,r,a,s,l,o,u,f,d,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:b,wallet:x,statement:p,options:g}=t;let y;if(sn())if(typeof x=="object")y=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),T=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Sb(T[0]);let S=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!S){const A=await y.request({method:"eth_chainId"});S=cE(A)}const E={domain:w.host,address:j,statement:p,uri:w.href,version:"1",chainId:S,nonce:(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(s=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=g==null?void 0:g.signInWithEthereum)===null||f===void 0?void 0:f.resources};h=dE(E),v=await y.request({method:"personal_sign",params:[uE(h),j]})}try{const{data:b,error:x}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ti});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new na}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(ue(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,i,r,a,s,l,o,u,f,d,m,h;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:x,wallet:p,statement:g,options:y}=t;let w;if(sn())if(typeof p=="object")w=p;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const T=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(i=y==null?void 0:y.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(f=y==null?void 0:y.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:x,error:p}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Nr(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ti});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new na}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(ue(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await br(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:a,error:s}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:ti});if(await Li(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new na}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:s})}catch(a){if(ue(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:r,access_token:a,nonce:s}=t,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ti}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new na}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,r,a,s;try{if("email"in t){const{email:l,options:o}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ia(this.storage,this.storageKey));const{error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new eo("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,i;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:ti});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,u=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,i,r;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await ia(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:nE})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new ei;const{error:r}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:r,options:a}=t,{error:s}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:i,type:r,options:a}=t,{data:s,error:l}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new eo("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Mu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const s=await br(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=zu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=FT(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qi}):await this._useSession(async n=>{var i,r,a;const{data:s,error:l}=n;if(l)throw l;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Qi})})}catch(n){if(ue(n))return NT(n)&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:r,error:a}=i;if(a)throw a;if(!r.session)throw new ei;const s=r.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await ia(this.storage,this.storageKey));const{data:u,error:f}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:s.access_token,xform:Qi});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let i=n,r=!0,a=null;const{payload:s}=Uu(t.access_token);if(s.exp&&(i=s.exp,r=i<=n),r){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(i=s.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new ei;const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!sn())throw new to("No browser detected.");if(t.error||t.error_description||t.error_code)throw new to(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new to("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lg("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:l,expires_at:o,token_type:u}=t;if(!a||!l||!s||!u)throw new to("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let m=f+d;o&&(m=parseInt(o));const h=m-f;h*1e3<=ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=m-d;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:b,error:x}=await this._getUser(a);if(x)throw x;const p={provider_token:i,provider_refresh_token:r,access_token:a,expires_in:d,expires_at:m,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(i){if(ue(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{error:a};const s=(i=r.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(AT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=BT(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,r;try{const{data:{session:a},error:s}=n;if(s)throw s;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await ia(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:r}=await this._useSession(async a=>{var s,l,o,u,f;const{data:d,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",h,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(r)throw r;return sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ue(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:a}}=n;if(r)throw r;const{options:s,provider:l,token:o,access_token:u,nonce:f}=t,d=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:o,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ti}),{data:m,error:h}=d;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new na}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:s}=n;if(s)throw s;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await IT(async r=>(r>0&&await qT(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ti})),(r,a)=>{const s=200*Math.pow(2,r);return a&&ku(a)&&Date.now()+s-i<ua})}catch(i){if(this._debug(n,"error",i),ue(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),sn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await br(this.storage,this.storageKey);if(r&&this.userStorage){let s=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:r.user},await da(this.userStorage,this.storageKey+"-user",s)),r.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:zu()}else if(r&&!r.user&&!r.user){const s=await br(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(r.user=s.user,await Li(this.storage,this.storageKey+"-user"),await da(this.storage,this.storageKey,r)):r.user=zu()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mu;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Mu}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ku(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(r.access_token);!l&&(s!=null&&s.user)?(r.user=s.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Oc;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),ue(a)){const s={data:null,error:a};return ku(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,i=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){a.push(o)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await da(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=Vg(r);await da(this.storage,this.storageKey,a)}else{const r=Vg(n);await da(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Li(this.storage,this.storageKey),await Li(this.storage,this.storageKey+"-code-verifier"),await Li(this.storage,this.storageKey+"-user"),this.userStorage&&await Li(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-t)/ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ua}ms, refresh threshold is ${Jd} ticks`),r<=Jd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,s]=await ia(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(l.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);r.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?{data:null,error:a}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vE(t.webauthn.credential_response):bE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{data:null,error:a};const s=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:pE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(a),a.status==="verified"&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:r}=await this.getSession();if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Uu(i.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;return r?{data:null,error:r}:i?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new ei}})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)return{data:null,error:a};if(!r)return{data:null,error:new ei};const s=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)return{data:null,error:a};if(!r)return{data:null,error:new ei};const s=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(l=>l.kid===t);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+OT>r)return i;const{data:a,error:s}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,i=a.keys.find(l=>l.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};i=h.session.access_token}const{header:r,payload:a,signature:s,raw:{header:l,payload:o}}=Uu(i);n!=null&&n.allowExpired||JT(a.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(i);if(h)throw h;return{data:{claims:a,header:r,signature:s},error:null}}const f=PT(r.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,s,zT(`${l}.${o}`)))throw new Fd("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}}ll.nextInstanceID=0;const DE=ll;class AE extends DE{constructor(t){super(t)}}class NE{constructor(t,n,i){var r,a,s;this.supabaseUrl=t,this.supabaseKey=n;const l=ST(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:mT,realtime:yT,auth:Object.assign(Object.assign({},gT),{storageKey:o}),global:hT},f=wT(i??{},u);this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=bT(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new x1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new uT(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new g1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:a,storageKey:s,flowType:l,lock:o,debug:u},f,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AE({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:a,flowType:l,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new H1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CE=(e,t,n)=>new NE(e,t,n);function RE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}RE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ME="https://vqpubtahhvtkftafdlrp.supabase.co",kE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",ge=CE(ME,kE);function UE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>i=>{t.forEach(r=>r(i))},t)}const Dc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ss(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function gh(e){return"nodeType"in e}function dn(e){var t,n;return e?ss(e)?e:gh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function yh(e){const{Document:t}=dn(e);return e instanceof t}function xl(e){return ss(e)?!1:e instanceof dn(e).HTMLElement}function Tb(e){return e instanceof dn(e).SVGElement}function ls(e){return e?ss(e)?e.document:gh(e)?yh(e)?e:xl(e)||Tb(e)?e.ownerDocument:document:document:document}const ai=Dc?_.useLayoutEffect:_.useEffect;function Ac(e){const t=_.useRef(e);return ai(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function zE(){const e=_.useRef(null),t=_.useCallback((i,r)=>{e.current=setInterval(i,r)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ol(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return ai(()=>{n.current!==e&&(n.current=e)},t),n}function Tl(e,t){const n=_.useRef();return _.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function tc(e){const t=Ac(e),n=_.useRef(null),i=_.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,i]}function nc(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Bu={};function El(e,t){return _.useMemo(()=>{if(t)return t;const n=Bu[e]==null?0:Bu[e]+1;return Bu[e]=n,e+"-"+n},[e,t])}function Eb(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((a,s)=>{const l=Object.entries(s);for(const[o,u]of l){const f=a[o];f!=null&&(a[o]=f+e*u)}return a},{...t})}}const Ma=Eb(1),cl=Eb(-1);function $E(e){return"clientX"in e&&"clientY"in e}function Nc(e){if(!e)return!1;const{KeyboardEvent:t}=dn(e.target);return t&&e instanceof t}function BE(e){if(!e)return!1;const{TouchEvent:t}=dn(e.target);return t&&e instanceof t}function ic(e){if(BE(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return $E(e)?{x:e.clientX,y:e.clientY}:null}const Ir=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ir.Translate.toString(e),Ir.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),Zg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function LE(e){return e.matches(Zg)?e:e.querySelector(Zg)}const HE={display:"none"};function qE(e){let{id:t,value:n}=e;return gt.createElement("div",{id:t,style:HE},n)}function IE(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gt.createElement("div",{id:t,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function YE(){const[e,t]=_.useState("");return{announce:_.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const jb=_.createContext(null);function VE(e){const t=_.useContext(jb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function GE(){const[e]=_.useState(()=>new Set),t=_.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[_.useCallback(i=>{let{type:r,event:a}=i;e.forEach(s=>{var l;return(l=s[r])==null?void 0:l.call(s,a)})},[e]),t]}const KE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},XE={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function QE(e){let{announcements:t=XE,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=KE}=e;const{announce:a,announcement:s}=YE(),l=El("DndLiveRegion"),[o,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),VE(_.useMemo(()=>({onDragStart(d){let{active:m}=d;a(t.onDragStart({active:m}))},onDragMove(d){let{active:m,over:h}=d;t.onDragMove&&a(t.onDragMove({active:m,over:h}))},onDragOver(d){let{active:m,over:h}=d;a(t.onDragOver({active:m,over:h}))},onDragEnd(d){let{active:m,over:h}=d;a(t.onDragEnd({active:m,over:h}))},onDragCancel(d){let{active:m,over:h}=d;a(t.onDragCancel({active:m,over:h}))}}),[a,t])),!o)return null;const f=gt.createElement(gt.Fragment,null,gt.createElement(qE,{id:i,value:r.draggable}),gt.createElement(IE,{id:l,announcement:s}));return n?Ar.createPortal(f,n):f}var It;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(It||(It={}));function rc(){}function ka(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ph(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const si=Object.freeze({x:0,y:0});function Ob(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function JE(e,t){const n=ic(e);if(!n)return"0 0";const i={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return i.x+"% "+i.y+"%"}function Db(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function PE(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function Fg(e){let{left:t,top:n,height:i,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+i},{x:t+r,y:n+i}]}function Ab(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Wg(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const vh=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=Wg(t,t.left,t.top),a=[];for(const s of i){const{id:l}=s,o=n.get(l);if(o){const u=Ob(Wg(o),r);a.push({id:l,data:{droppableContainer:s,value:u}})}}return a.sort(Db)},ZE=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=Fg(t),a=[];for(const s of i){const{id:l}=s,o=n.get(l);if(o){const u=Fg(o),f=r.reduce((m,h,v)=>m+Ob(u[v],h),0),d=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:s,value:d}})}}return a.sort(Db)};function FE(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=r-i,l=a-n;if(i<r&&n<a){const o=t.width*t.height,u=e.width*e.height,f=s*l,d=f/(o+u-f);return Number(d.toFixed(4))}return 0}const WE=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=[];for(const a of i){const{id:s}=a,l=n.get(s);if(l){const o=FE(l,t);o>0&&r.push({id:s,data:{droppableContainer:a,value:o}})}}return r.sort(PE)};function ej(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Nb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:si}function tj(e){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return r.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const nj=tj(1);function Cb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ij(e,t,n){const i=Cb(t);if(!i)return e;const{scaleX:r,scaleY:a,x:s,y:l}=i,o=e.left-s-(1-r)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=r?e.width/r:e.width,d=a?e.height/a:e.height;return{width:f,height:d,top:u,right:o+f,bottom:u+d,left:o}}const rj={ignoreTransform:!1};function os(e,t){t===void 0&&(t=rj);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=dn(e).getComputedStyle(e);u&&(n=ij(n,u,f))}const{top:i,left:r,width:a,height:s,bottom:l,right:o}=n;return{top:i,left:r,width:a,height:s,bottom:l,right:o}}function ey(e){return os(e,{ignoreTransform:!0})}function aj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function sj(e,t){return t===void 0&&(t=dn(e).getComputedStyle(e)),t.position==="fixed"}function lj(e,t){t===void 0&&(t=dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=t[r];return typeof a=="string"?n.test(a):!1})}function Cc(e,t){const n=[];function i(r){if(t!=null&&n.length>=t||!r)return n;if(yh(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!xl(r)||Tb(r)||n.includes(r))return n;const a=dn(e).getComputedStyle(r);return r!==e&&lj(r,a)&&n.push(r),sj(r,a)?n:i(r.parentNode)}return e?i(e):n}function Rb(e){const[t]=Cc(e,1);return t??null}function Lu(e){return!Dc||!e?null:ss(e)?e:gh(e)?yh(e)||e===ls(e).scrollingElement?window:xl(e)?e:null:null}function Mb(e){return ss(e)?e.scrollX:e.scrollLeft}function kb(e){return ss(e)?e.scrollY:e.scrollTop}function Wd(e){return{x:Mb(e),y:kb(e)}}var Xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Xt||(Xt={}));function Ub(e){return!Dc||!e?!1:e===document.scrollingElement}function zb(e){const t={x:0,y:0},n=Ub(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=i.y,l=e.scrollLeft>=i.x;return{isTop:r,isLeft:a,isBottom:s,isRight:l,maxScroll:i,minScroll:t}}const oj={x:.2,y:.2};function cj(e,t,n,i,r){let{top:a,left:s,right:l,bottom:o}=n;i===void 0&&(i=10),r===void 0&&(r=oj);const{isTop:u,isBottom:f,isLeft:d,isRight:m}=zb(e),h={x:0,y:0},v={x:0,y:0},b={height:t.height*r.y,width:t.width*r.x};return!u&&a<=t.top+b.height?(h.y=Xt.Backward,v.y=i*Math.abs((t.top+b.height-a)/b.height)):!f&&o>=t.bottom-b.height&&(h.y=Xt.Forward,v.y=i*Math.abs((t.bottom-b.height-o)/b.height)),!m&&l>=t.right-b.width?(h.x=Xt.Forward,v.x=i*Math.abs((t.right-b.width-l)/b.width)):!d&&s<=t.left+b.width&&(h.x=Xt.Backward,v.x=i*Math.abs((t.left+b.width-s)/b.width)),{direction:h,speed:v}}function uj(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:t,left:n,right:i,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:r,width:e.clientWidth,height:e.clientHeight}}function $b(e){return e.reduce((t,n)=>Ma(t,Wd(n)),si)}function dj(e){return e.reduce((t,n)=>t+Mb(n),0)}function fj(e){return e.reduce((t,n)=>t+kb(n),0)}function Bb(e,t){if(t===void 0&&(t=os),!e)return;const{top:n,left:i,bottom:r,right:a}=t(e);Rb(e)&&(r<=0||a<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hj=[["x",["left","right"],dj],["y",["top","bottom"],fj]];class bh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Cc(n),r=$b(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,s,l]of hj)for(const o of s)Object.defineProperty(this,o,{get:()=>{const u=l(i),f=r[a]-u;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Is{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var r;(r=this.target)==null||r.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function mj(e){const{EventTarget:t}=dn(e);return e instanceof t?e:ls(e)}function Hu(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var In;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(In||(In={}));function ty(e){e.preventDefault()}function gj(e){e.stopPropagation()}var Ye;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ye||(Ye={}));const Lb={start:[Ye.Space,Ye.Enter],cancel:[Ye.Esc],end:[Ye.Space,Ye.Enter,Ye.Tab]},yj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ye.Right:return{...n,x:n.x+25};case Ye.Left:return{...n,x:n.x-25};case Ye.Down:return{...n,y:n.y+25};case Ye.Up:return{...n,y:n.y-25}}};class Rc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Is(ls(n)),this.windowListeners=new Is(dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(In.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&Bb(i),n(si)}handleKeyDown(t){if(Nc(t)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:a=Lb,coordinateGetter:s=yj,scrollBehavior:l="smooth"}=r,{code:o}=t;if(a.end.includes(o)){this.handleEnd(t);return}if(a.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=i.current,f=u?{x:u.left,y:u.top}:si;this.referenceCoordinates||(this.referenceCoordinates=f);const d=s(t,{active:n,context:i.current,currentCoordinates:f});if(d){const m=cl(d,f),h={x:0,y:0},{scrollableAncestors:v}=i.current;for(const b of v){const x=t.code,{isTop:p,isRight:g,isLeft:y,isBottom:w,maxScroll:T,minScroll:j}=zb(b),S=uj(b),E={x:Math.min(x===Ye.Right?S.right-S.width/2:S.right,Math.max(x===Ye.Right?S.left:S.left+S.width/2,d.x)),y:Math.min(x===Ye.Down?S.bottom-S.height/2:S.bottom,Math.max(x===Ye.Down?S.top:S.top+S.height/2,d.y))},A=x===Ye.Right&&!g||x===Ye.Left&&!y,O=x===Ye.Down&&!w||x===Ye.Up&&!p;if(A&&E.x!==d.x){const N=b.scrollLeft+m.x,V=x===Ye.Right&&N<=T.x||x===Ye.Left&&N>=j.x;if(V&&!m.y){b.scrollTo({left:N,behavior:l});return}V?h.x=b.scrollLeft-N:h.x=x===Ye.Right?b.scrollLeft-T.x:b.scrollLeft-j.x,h.x&&b.scrollBy({left:-h.x,behavior:l});break}else if(O&&E.y!==d.y){const N=b.scrollTop+m.y,V=x===Ye.Down&&N<=T.y||x===Ye.Up&&N>=j.y;if(V&&!m.x){b.scrollTo({top:N,behavior:l});return}V?h.y=b.scrollTop-N:h.y=x===Ye.Down?b.scrollTop-T.y:b.scrollTop-j.y,h.y&&b.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,Ma(cl(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Rc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=Lb,onActivation:r}=t,{active:a}=n;const{code:s}=e.nativeEvent;if(i.start.includes(s)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function ny(e){return!!(e&&"distance"in e)}function iy(e){return!!(e&&"delay"in e)}class _h{constructor(t,n,i){var r;i===void 0&&(i=mj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:s}=a;this.props=t,this.events=n,this.document=ls(s),this.documentListeners=new Is(this.document),this.listeners=new Is(i),this.windowListeners=new Is(dn(s)),this.initialCoordinates=(r=ic(a))!=null?r:si,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.DragStart,ty),this.windowListeners.add(In.VisibilityChange,this.handleCancel),this.windowListeners.add(In.ContextMenu,ty),this.documentListeners.add(In.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ny(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:r}=this.props;r(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(In.Click,gj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(In.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!r)return;const o=(n=ic(t))!=null?n:si,u=cl(r,o);if(!i&&l){if(ny(l)){if(l.tolerance!=null&&Hu(u,l.tolerance))return this.handleCancel();if(Hu(u,l.distance))return this.handleStart()}if(iy(l)&&Hu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ye.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const pj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jl extends _h{constructor(t){const{event:n}=t,i=ls(n.target);super(t,pj,i)}}jl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i==null||i({event:n}),!0)}}];const vj={move:{name:"mousemove"},end:{name:"mouseup"}};var ef;(function(e){e[e.RightClick=2]="RightClick"})(ef||(ef={}));class bj extends _h{constructor(t){super(t,vj,ls(t.event.target))}}bj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===ef.RightClick?!1:(i==null||i({event:n}),!0)}}];const qu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Hb extends _h{constructor(t){super(t,qu)}static setup(){return window.addEventListener(qu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qu.move.name,t)};function t(){}}}Hb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:r}=n;return r.length>1?!1:(i==null||i({event:n}),!0)}}];var Ys;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ys||(Ys={}));var ac;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ac||(ac={}));function _j(e){let{acceleration:t,activator:n=Ys.Pointer,canScroll:i,draggingRect:r,enabled:a,interval:s=5,order:l=ac.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:m}=e;const h=Sj({delta:d,disabled:!a}),[v,b]=zE(),x=_.useRef({x:0,y:0}),p=_.useRef({x:0,y:0}),g=_.useMemo(()=>{switch(n){case Ys.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Ys.DraggableRect:return r}},[n,r,o]),y=_.useRef(null),w=_.useCallback(()=>{const j=y.current;if(!j)return;const S=x.current.x*p.current.x,E=x.current.y*p.current.y;j.scrollBy(S,E)},[]),T=_.useMemo(()=>l===ac.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!a||!u.length||!g){b();return}for(const j of T){if((i==null?void 0:i(j))===!1)continue;const S=u.indexOf(j),E=f[S];if(!E)continue;const{direction:A,speed:O}=cj(j,E,g,t,m);for(const N of["x","y"])h[N][A[N]]||(O[N]=0,A[N]=0);if(O.x>0||O.y>0){b(),y.current=j,v(w,s),x.current=O,p.current=A;return}}x.current={x:0,y:0},p.current={x:0,y:0},b()},[t,w,i,b,a,s,JSON.stringify(g),JSON.stringify(h),v,u,T,f,JSON.stringify(m)])}const wj={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function Sj(e){let{delta:t,disabled:n}=e;const i=nc(t);return Tl(r=>{if(n||!i||!r)return wj;const a={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Xt.Backward]:r.x[Xt.Backward]||a.x===-1,[Xt.Forward]:r.x[Xt.Forward]||a.x===1},y:{[Xt.Backward]:r.y[Xt.Backward]||a.y===-1,[Xt.Forward]:r.y[Xt.Forward]||a.y===1}}},[n,t,i])}function xj(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return Tl(r=>{var a;return t==null?null:(a=i??r)!=null?a:null},[i,t])}function Tj(e,t){return _.useMemo(()=>e.reduce((n,i)=>{const{sensor:r}=i,a=r.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,i)}));return[...n,...a]},[]),[e,t])}var Yr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Yr||(Yr={}));var tf;(function(e){e.Optimized="optimized"})(tf||(tf={}));const ry=new Map;function Ej(e,t){let{dragging:n,dependencies:i,config:r}=t;const[a,s]=_.useState(null),{frequency:l,measure:o,strategy:u}=r,f=_.useRef(e),d=x(),m=ol(d),h=_.useCallback(function(p){p===void 0&&(p=[]),!m.current&&s(g=>g===null?p:g.concat(p.filter(y=>!g.includes(y))))},[m]),v=_.useRef(null),b=Tl(p=>{if(d&&!n)return ry;if(!p||p===ry||f.current!==e||a!=null){const g=new Map;for(let y of e){if(!y)continue;if(a&&a.length>0&&!a.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const w=y.node.current,T=w?new bh(o(w),w):null;y.rect.current=T,T&&g.set(y.id,T)}return g}return p},[e,a,n,d,o]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{d||h()},[n,d]),_.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),_.useEffect(()=>{d||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},l))},[l,d,h,...i]),{droppableRects:b,measureDroppableContainers:h,measuringScheduled:a!=null};function x(){switch(u){case Yr.Always:return!1;case Yr.BeforeDragging:return n;default:return!n}}}function wh(e,t){return Tl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function jj(e,t){return wh(e,t)}function Oj(e){let{callback:t,disabled:n}=e;const i=Ac(t),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,n]);return _.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Mc(e){let{callback:t,disabled:n}=e;const i=Ac(t),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[n]);return _.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Dj(e){return new bh(os(e),e)}function ay(e,t,n){t===void 0&&(t=Dj);const[i,r]=_.useState(null);function a(){r(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const s=Oj({callback(o){if(e)for(const u of o){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){a();break}}}}),l=Mc({callback:a});return ai(()=>{a(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),i}function Aj(e){const t=wh(e);return Nb(e,t)}const sy=[];function Nj(e){const t=_.useRef(e),n=Tl(i=>e?i&&i!==sy&&e&&t.current&&e.parentNode===t.current.parentNode?i:Cc(e):sy,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function Cj(e){const[t,n]=_.useState(null),i=_.useRef(e),r=_.useCallback(a=>{const s=Lu(a.target);s&&n(l=>l?(l.set(s,Wd(s)),new Map(l)):null)},[]);return _.useEffect(()=>{const a=i.current;if(e!==a){s(a);const l=e.map(o=>{const u=Lu(o);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,Wd(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),i.current=e}return()=>{s(e),s(a)};function s(l){l.forEach(o=>{const u=Lu(o);u==null||u.removeEventListener("scroll",r)})}},[r,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>Ma(a,s),si):$b(e):si,[e,t])}function ly(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const i=e!==si;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?cl(e,n.current):si}function Rj(e){_.useEffect(()=>{if(!Dc)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Mj(e,t){return _.useMemo(()=>e.reduce((n,i)=>{let{eventName:r,handler:a}=i;return n[r]=s=>{a(s,t)},n},{}),[e,t])}function qb(e){return _.useMemo(()=>e?aj(e):null,[e])}const oy=[];function kj(e,t){t===void 0&&(t=os);const[n]=e,i=qb(n?dn(n):null),[r,a]=_.useState(oy);function s(){a(()=>e.length?e.map(o=>Ub(o)?i:new bh(t(o),o)):oy)}const l=Mc({callback:s});return ai(()=>{l==null||l.disconnect(),s(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),r}function Ib(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return xl(t)?t:e}function Uj(e){let{measure:t}=e;const[n,i]=_.useState(null),r=_.useCallback(u=>{for(const{target:f}of u)if(xl(f)){i(d=>{const m=t(f);return d?{...d,width:m.width,height:m.height}:m});break}},[t]),a=Mc({callback:r}),s=_.useCallback(u=>{const f=Ib(u);a==null||a.disconnect(),f&&(a==null||a.observe(f)),i(f?t(f):null)},[t,a]),[l,o]=tc(s);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const zj=[{sensor:jl,options:{}},{sensor:Rc,options:{}}],$j={current:{}},_o={draggable:{measure:ey},droppable:{measure:ey,strategy:Yr.WhileDragging,frequency:tf.Optimized},dragOverlay:{measure:os}};class Vs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const Bj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_o,measureDroppableContainers:rc,windowRect:null,measuringScheduled:!1},Yb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rc,draggableNodes:new Map,over:null,measureDroppableContainers:rc},Ol=_.createContext(Yb),Vb=_.createContext(Bj);function Lj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vs}}}function Hj(e,t){switch(t.type){case It.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case It.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case It.DragEnd:case It.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case It.RegisterDroppable:{const{element:n}=t,{id:i}=n,r=new Vs(e.droppable.containers);return r.set(i,n),{...e,droppable:{...e.droppable,containers:r}}}case It.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=t,a=e.droppable.containers.get(n);if(!a||i!==a.key)return e;const s=new Vs(e.droppable.containers);return s.set(n,{...a,disabled:r}),{...e,droppable:{...e.droppable,containers:s}}}case It.UnregisterDroppable:{const{id:n,key:i}=t,r=e.droppable.containers.get(n);if(!r||i!==r.key)return e;const a=new Vs(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function qj(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:r}=_.useContext(Ol),a=nc(i),s=nc(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!i&&a&&s!=null){if(!Nc(a)||document.activeElement===a.target)return;const l=r.get(s);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[o.current,u.current]){if(!f)continue;const d=LE(f);if(d){d.focus();break}}})}},[i,t,r,s,a]),null}function Gb(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((r,a)=>a({transform:r,...i}),n):n}function Ij(e){return _.useMemo(()=>({draggable:{..._o.draggable,...e==null?void 0:e.draggable},droppable:{..._o.droppable,...e==null?void 0:e.droppable},dragOverlay:{..._o.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Yj(e){let{activeNode:t,measure:n,initialRect:i,config:r=!0}=e;const a=_.useRef(!1),{x:s,y:l}=typeof r=="boolean"?{x:r,y:r}:r;ai(()=>{if(!s&&!l||!t){a.current=!1;return}if(a.current||!i)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),d=Nb(f,i);if(s||(d.x=0),l||(d.y=0),a.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const m=Rb(u);m&&m.scrollBy({top:d.y,left:d.x})}},[t,s,l,i,n])}const kc=_.createContext({...si,scaleX:1,scaleY:1});var Yi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Yi||(Yi={}));const Sh=_.memo(function(t){var n,i,r,a;let{id:s,accessibility:l,autoScroll:o=!0,children:u,sensors:f=zj,collisionDetection:d=WE,measuring:m,modifiers:h,...v}=t;const b=_.useReducer(Hj,void 0,Lj),[x,p]=b,[g,y]=GE(),[w,T]=_.useState(Yi.Uninitialized),j=w===Yi.Initialized,{draggable:{active:S,nodes:E,translate:A},droppable:{containers:O}}=x,N=S!=null?E.get(S):null,V=_.useRef({initial:null,translated:null}),Z=_.useMemo(()=>{var Pe;return S!=null?{id:S,data:(Pe=N==null?void 0:N.data)!=null?Pe:$j,rect:V}:null},[S,N]),te=_.useRef(null),[ce,C]=_.useState(null),[B,Q]=_.useState(null),de=ol(v,Object.values(v)),ve=El("DndDescribedBy",s),vt=_.useMemo(()=>O.getEnabled(),[O]),He=Ij(m),{droppableRects:qe,measureDroppableContainers:ze,measuringScheduled:$e}=Ej(vt,{dragging:j,dependencies:[A.x,A.y],config:He.droppable}),Ge=xj(E,S),I=_.useMemo(()=>B?ic(B):null,[B]),R=Fn(),z=jj(Ge,He.draggable.measure);Yj({activeNode:S!=null?E.get(S):null,config:R.layoutShiftCompensation,initialRect:z,measure:He.draggable.measure});const M=ay(Ge,He.draggable.measure,z),ee=ay(Ge?Ge.parentElement:null),G=_.useRef({activatorEvent:null,active:null,activeNode:Ge,collisionRect:null,collisions:null,droppableRects:qe,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=O.getNodeFor((n=G.current.over)==null?void 0:n.id),U=Uj({measure:He.dragOverlay.measure}),se=(i=U.nodeRef.current)!=null?i:Ge,he=j?(r=U.rect)!=null?r:M:null,F=!!(U.nodeRef.current&&U.rect),ie=Aj(F?null:M),oe=qb(se?dn(se):null),Ee=Nj(j?ne??Ge:null),Bt=kj(Ee),st=Gb(h,{transform:{x:A.x-ie.x,y:A.y-ie.y,scaleX:1,scaleY:1},activatorEvent:B,active:Z,activeNodeRect:M,containerNodeRect:ee,draggingNodeRect:he,over:G.current.over,overlayNodeRect:U.rect,scrollableAncestors:Ee,scrollableAncestorRects:Bt,windowRect:oe}),Gt=I?Ma(I,A):null,nt=Cj(Ee),dt=ly(nt),Xe=ly(nt,[M]),H=Ma(st,dt),q=he?nj(he,st):null,X=Z&&q?d({active:Z,collisionRect:q,droppableRects:qe,droppableContainers:vt,pointerCoordinates:Gt}):null,re=Ab(X,"id"),[ae,Ae]=_.useState(null),fe=F?st:Ma(st,Xe),Ce=ej(fe,(a=ae==null?void 0:ae.rect)!=null?a:null,M),ye=_.useRef(null),be=_.useCallback((Pe,Fe)=>{let{sensor:me,options:Dt}=Fe;if(te.current==null)return;const Tt=E.get(te.current);if(!Tt)return;const Rt=Pe.nativeEvent,Lt=new me({active:te.current,activeNode:Tt,event:Rt,options:Dt,context:G,onAbort(Et){if(!E.get(Et))return;const{onDragAbort:hn}=de.current,rn={id:Et};hn==null||hn(rn),g({type:"onDragAbort",event:rn})},onPending(Et,Sn,hn,rn){if(!E.get(Et))return;const{onDragPending:Ln}=de.current,K={id:Et,constraint:Sn,initialCoordinates:hn,offset:rn};Ln==null||Ln(K),g({type:"onDragPending",event:K})},onStart(Et){const Sn=te.current;if(Sn==null)return;const hn=E.get(Sn);if(!hn)return;const{onDragStart:rn}=de.current,Bn={activatorEvent:Rt,active:{id:Sn,data:hn.data,rect:V}};Ar.unstable_batchedUpdates(()=>{rn==null||rn(Bn),T(Yi.Initializing),p({type:It.DragStart,initialCoordinates:Et,active:Sn}),g({type:"onDragStart",event:Bn}),C(ye.current),Q(Rt)})},onMove(Et){p({type:It.DragMove,coordinates:Et})},onEnd:fn(It.DragEnd),onCancel:fn(It.DragCancel)});ye.current=Lt;function fn(Et){return async function(){const{active:hn,collisions:rn,over:Bn,scrollAdjustedTranslate:Ln}=G.current;let K=null;if(hn&&Ln){const{cancelDrop:J}=de.current;K={activatorEvent:Rt,active:hn,collisions:rn,delta:Ln,over:Bn},Et===It.DragEnd&&typeof J=="function"&&await Promise.resolve(J(K))&&(Et=It.DragCancel)}te.current=null,Ar.unstable_batchedUpdates(()=>{p({type:Et}),T(Yi.Uninitialized),Ae(null),C(null),Q(null),ye.current=null;const J=Et===It.DragEnd?"onDragEnd":"onDragCancel";if(K){const lt=de.current[J];lt==null||lt(K),g({type:J,event:K})}})}}},[E]),je=_.useCallback((Pe,Fe)=>(me,Dt)=>{const Tt=me.nativeEvent,Rt=E.get(Dt);if(te.current!==null||!Rt||Tt.dndKit||Tt.defaultPrevented)return;const Lt={active:Rt};Pe(me,Fe.options,Lt)===!0&&(Tt.dndKit={capturedBy:Fe.sensor},te.current=Dt,be(me,Fe))},[E,be]),De=Tj(f,je);Rj(f),ai(()=>{M&&w===Yi.Initializing&&T(Yi.Initialized)},[M,w]),_.useEffect(()=>{const{onDragMove:Pe}=de.current,{active:Fe,activatorEvent:me,collisions:Dt,over:Tt}=G.current;if(!Fe||!me)return;const Rt={active:Fe,activatorEvent:me,collisions:Dt,delta:{x:H.x,y:H.y},over:Tt};Ar.unstable_batchedUpdates(()=>{Pe==null||Pe(Rt),g({type:"onDragMove",event:Rt})})},[H.x,H.y]),_.useEffect(()=>{const{active:Pe,activatorEvent:Fe,collisions:me,droppableContainers:Dt,scrollAdjustedTranslate:Tt}=G.current;if(!Pe||te.current==null||!Fe||!Tt)return;const{onDragOver:Rt}=de.current,Lt=Dt.get(re),fn=Lt&&Lt.rect.current?{id:Lt.id,rect:Lt.rect.current,data:Lt.data,disabled:Lt.disabled}:null,Et={active:Pe,activatorEvent:Fe,collisions:me,delta:{x:Tt.x,y:Tt.y},over:fn};Ar.unstable_batchedUpdates(()=>{Ae(fn),Rt==null||Rt(Et),g({type:"onDragOver",event:Et})})},[re]),ai(()=>{G.current={activatorEvent:B,active:Z,activeNode:Ge,collisionRect:q,collisions:X,droppableRects:qe,draggableNodes:E,draggingNode:se,draggingNodeRect:he,droppableContainers:O,over:ae,scrollableAncestors:Ee,scrollAdjustedTranslate:H},V.current={initial:he,translated:q}},[Z,Ge,X,q,E,se,he,qe,O,ae,Ee,H]),_j({...R,delta:A,draggingRect:q,pointerCoordinates:Gt,scrollableAncestors:Ee,scrollableAncestorRects:Bt});const Ke=_.useMemo(()=>({active:Z,activeNode:Ge,activeNodeRect:M,activatorEvent:B,collisions:X,containerNodeRect:ee,dragOverlay:U,draggableNodes:E,droppableContainers:O,droppableRects:qe,over:ae,measureDroppableContainers:ze,scrollableAncestors:Ee,scrollableAncestorRects:Bt,measuringConfiguration:He,measuringScheduled:$e,windowRect:oe}),[Z,Ge,M,B,X,ee,U,E,O,qe,ae,ze,Ee,Bt,He,$e,oe]),nn=_.useMemo(()=>({activatorEvent:B,activators:De,active:Z,activeNodeRect:M,ariaDescribedById:{draggable:ve},dispatch:p,draggableNodes:E,over:ae,measureDroppableContainers:ze}),[B,De,Z,M,p,ve,E,ae,ze]);return gt.createElement(jb.Provider,{value:y},gt.createElement(Ol.Provider,{value:nn},gt.createElement(Vb.Provider,{value:Ke},gt.createElement(kc.Provider,{value:Ce},u)),gt.createElement(qj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),gt.createElement(QE,{...l,hiddenTextDescribedById:ve}));function Fn(){const Pe=(ce==null?void 0:ce.autoScrollEnabled)===!1,Fe=typeof o=="object"?o.enabled===!1:o===!1,me=j&&!Pe&&!Fe;return typeof o=="object"?{...o,enabled:me}:{enabled:me}}}),Vj=_.createContext(null),cy="button",Gj="Draggable";function Kj(e){let{id:t,data:n,disabled:i=!1,attributes:r}=e;const a=El(Gj),{activators:s,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:m}=_.useContext(Ol),{role:h=cy,roleDescription:v="draggable",tabIndex:b=0}=r??{},x=(o==null?void 0:o.id)===t,p=_.useContext(x?kc:Vj),[g,y]=tc(),[w,T]=tc(),j=Mj(s,t),S=ol(n);ai(()=>(d.set(t,{id:t,key:a,node:g,activatorNode:w,data:S}),()=>{const A=d.get(t);A&&A.key===a&&d.delete(t)}),[d,t]);const E=_.useMemo(()=>({role:h,tabIndex:b,"aria-disabled":i,"aria-pressed":x&&h===cy?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[i,h,b,x,v,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:x,listeners:i?void 0:j,node:g,over:m,setNodeRef:y,setActivatorNodeRef:T,transform:p}}function Kb(){return _.useContext(Vb)}const Xj="Droppable",Qj={timeout:25};function Jj(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:r}=e;const a=El(Xj),{active:s,dispatch:l,over:o,measureDroppableContainers:u}=_.useContext(Ol),f=_.useRef({disabled:n}),d=_.useRef(!1),m=_.useRef(null),h=_.useRef(null),{disabled:v,updateMeasurementsFor:b,timeout:x}={...Qj,...r},p=ol(b??i),g=_.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),h.current=null},x)},[x]),y=Mc({callback:g,disabled:v||!s}),w=_.useCallback((E,A)=>{y&&(A&&(y.unobserve(A),d.current=!1),E&&y.observe(E))},[y]),[T,j]=tc(w),S=ol(t);return _.useEffect(()=>{!y||!T.current||(y.disconnect(),d.current=!1,y.observe(T.current))},[T,y]),_.useEffect(()=>(l({type:It.RegisterDroppable,element:{id:i,key:a,disabled:n,node:T,rect:m,data:S}}),()=>l({type:It.UnregisterDroppable,key:a,id:i})),[i]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:It.SetDroppableDisabled,id:i,key:a,disabled:n}),f.current.disabled=n)},[i,a,n,l]),{active:s,rect:m,isOver:(o==null?void 0:o.id)===i,node:T,over:o,setNodeRef:j}}function Pj(e){let{animation:t,children:n}=e;const[i,r]=_.useState(null),[a,s]=_.useState(null),l=nc(n);return!n&&!i&&l&&r(l),ai(()=>{if(!a)return;const o=i==null?void 0:i.key,u=i==null?void 0:i.props.id;if(o==null||u==null){r(null);return}Promise.resolve(t(u,a)).then(()=>{r(null)})},[t,i,a]),gt.createElement(gt.Fragment,null,n,i?_.cloneElement(i,{ref:s}):null)}const Zj={x:0,y:0,scaleX:1,scaleY:1};function Fj(e){let{children:t}=e;return gt.createElement(Ol.Provider,{value:Yb},gt.createElement(kc.Provider,{value:Zj},t))}const Wj={position:"fixed",touchAction:"none"},eO=e=>Nc(e)?"transform 250ms ease":void 0,tO=_.forwardRef((e,t)=>{let{as:n,activatorEvent:i,adjustScale:r,children:a,className:s,rect:l,style:o,transform:u,transition:f=eO}=e;if(!l)return null;const d=r?u:{...u,scaleX:1,scaleY:1},m={...Wj,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ir.Transform.toString(d),transformOrigin:r&&i?JE(i,l):void 0,transition:typeof f=="function"?f(i):f,...o};return gt.createElement(n,{className:s,style:m,ref:t},a)}),nO=e=>t=>{let{active:n,dragOverlay:i}=t;const r={},{styles:a,className:s}=e;if(a!=null&&a.active)for(const[l,o]of Object.entries(a.active))o!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(a!=null&&a.dragOverlay)for(const[l,o]of Object.entries(a.dragOverlay))o!==void 0&&i.node.style.setProperty(l,o);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&i.node.classList.add(s.dragOverlay),function(){for(const[o,u]of Object.entries(r))n.node.style.setProperty(o,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},iO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ir.Transform.toString(t)},{transform:Ir.Transform.toString(n)}]},rO={duration:250,easing:"ease",keyframes:iO,sideEffects:nO({styles:{active:{opacity:"0"}}})};function aO(e){let{config:t,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=e;return Ac((a,s)=>{if(t===null)return;const l=n.get(a);if(!l)return;const o=l.node.current;if(!o)return;const u=Ib(s);if(!u)return;const{transform:f}=dn(s).getComputedStyle(s),d=Cb(f);if(!d)return;const m=typeof t=="function"?t:sO(t);return Bb(o,r.draggable.measure),m({active:{id:a,data:l.data,node:o,rect:r.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:s,rect:r.dragOverlay.measure(u)},droppableContainers:i,measuringConfiguration:r,transform:d})})}function sO(e){const{duration:t,easing:n,sideEffects:i,keyframes:r}={...rO,...e};return a=>{let{active:s,dragOverlay:l,transform:o,...u}=a;if(!t)return;const f={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},d={scaleX:o.scaleX!==1?s.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?s.rect.height*o.scaleY/l.rect.height:1},m={x:o.x-f.x,y:o.y-f.y,...d},h=r({...u,active:s,dragOverlay:l,transform:{initial:o,final:m}}),[v]=h,b=h[h.length-1];if(JSON.stringify(v)===JSON.stringify(b))return;const x=i==null?void 0:i({active:s,dragOverlay:l,...u}),p=l.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{p.onfinish=()=>{x==null||x(),g()}})}}let uy=0;function lO(e){return _.useMemo(()=>{if(e!=null)return uy++,uy},[e])}const xh=gt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:i,style:r,transition:a,modifiers:s,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:m,containerNodeRect:h,draggableNodes:v,droppableContainers:b,dragOverlay:x,over:p,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:T}=Kb(),j=_.useContext(kc),S=lO(d==null?void 0:d.id),E=Gb(s,{activatorEvent:f,active:d,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:x.rect,over:p,overlayNodeRect:x.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:j,windowRect:T}),A=wh(m),O=aO({config:i,draggableNodes:v,droppableContainers:b,measuringConfiguration:g}),N=A?x.setRef:void 0;return gt.createElement(Fj,null,gt.createElement(Pj,{animation:O},d&&S?gt.createElement(tO,{key:S,id:d.id,ref:N,as:l,activatorEvent:f,adjustScale:t,className:o,transition:a,rect:A,style:{zIndex:u,...r},transform:E},n):null))});function Uc(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function oO(e,t){return e.reduce((n,i,r)=>{const a=t.get(i);return a&&(n[r]=a),n},Array(e.length))}function no(e){return e!==null&&e>=0}function cO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uO(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Xb=e=>{let{rects:t,activeIndex:n,overIndex:i,index:r}=e;const a=Uc(t,i,n),s=t[r],l=a[r];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},io={scaleX:1,scaleY:1},Or=e=>{var t;let{activeIndex:n,activeNodeRect:i,index:r,rects:a,overIndex:s}=e;const l=(t=a[n])!=null?t:i;if(!l)return null;if(r===n){const u=a[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...io}:null}const o=dO(a,r,n);return r>n&&r<=s?{x:0,y:-l.height-o,...io}:r<n&&r>=s?{x:0,y:l.height+o,...io}:{x:0,y:0,...io}};function dO(e,t,n){const i=e[t],r=e[t-1],a=e[t+1];return i?n<t?r?i.top-(r.top+r.height):a?a.top-(i.top+i.height):0:a?a.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const Qb="Sortable",Jb=gt.createContext({activeIndex:-1,containerId:Qb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xb,disabled:{draggable:!1,droppable:!1}});function Dr(e){let{children:t,id:n,items:i,strategy:r=Xb,disabled:a=!1}=e;const{active:s,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:f}=Kb(),d=El(Qb,n),m=l.rect!==null,h=_.useMemo(()=>i.map(j=>typeof j=="object"&&"id"in j?j.id:j),[i]),v=s!=null,b=s?h.indexOf(s.id):-1,x=u?h.indexOf(u.id):-1,p=_.useRef(h),g=!cO(h,p.current),y=x!==-1&&b===-1||g,w=uO(a);ai(()=>{g&&v&&f(h)},[g,h,v,f]),_.useEffect(()=>{p.current=h},[h]);const T=_.useMemo(()=>({activeIndex:b,containerId:d,disabled:w,disableTransforms:y,items:h,overIndex:x,useDragOverlay:m,sortedRects:oO(h,o),strategy:r}),[b,d,w.draggable,w.droppable,y,h,x,o,m,r]);return gt.createElement(Jb.Provider,{value:T},t)}const fO=e=>{let{id:t,items:n,activeIndex:i,overIndex:r}=e;return Uc(n,i,r).indexOf(t)},hO=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:r,items:a,newIndex:s,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!i||l!==a&&r===s?!1:n?!0:s!==r&&t===o},mO={duration:200,easing:"ease"},Pb="transform",gO=Ir.Transition.toString({property:Pb,duration:0,easing:"linear"}),yO={roleDescription:"sortable"};function pO(e){let{disabled:t,index:n,node:i,rect:r}=e;const[a,s]=_.useState(null),l=_.useRef(n);return ai(()=>{if(!t&&n!==l.current&&i.current){const o=r.current;if(o){const u=os(i.current,{ignoreTransform:!0}),f={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(f.x||f.y)&&s(f)}}n!==l.current&&(l.current=n)},[t,n,i,r]),_.useEffect(()=>{a&&s(null)},[a]),a}function Th(e){let{animateLayoutChanges:t=hO,attributes:n,disabled:i,data:r,getNewIndex:a=fO,id:s,strategy:l,resizeObserverConfig:o,transition:u=mO}=e;const{items:f,containerId:d,activeIndex:m,disabled:h,disableTransforms:v,sortedRects:b,overIndex:x,useDragOverlay:p,strategy:g}=_.useContext(Jb),y=vO(i,h),w=f.indexOf(s),T=_.useMemo(()=>({sortable:{containerId:d,index:w,items:f},...r}),[d,r,w,f]),j=_.useMemo(()=>f.slice(f.indexOf(s)),[f,s]),{rect:S,node:E,isOver:A,setNodeRef:O}=Jj({id:s,data:T,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...o}}),{active:N,activatorEvent:V,activeNodeRect:Z,attributes:te,setNodeRef:ce,listeners:C,isDragging:B,over:Q,setActivatorNodeRef:de,transform:ve}=Kj({id:s,data:T,attributes:{...yO,...n},disabled:y.draggable}),vt=UE(O,ce),He=!!N,qe=He&&!v&&no(m)&&no(x),ze=!p&&B,$e=ze&&qe?ve:null,I=qe?$e??(l??g)({rects:b,activeNodeRect:Z,activeIndex:m,overIndex:x,index:w}):null,R=no(m)&&no(x)?a({id:s,items:f,activeIndex:m,overIndex:x}):w,z=N==null?void 0:N.id,M=_.useRef({activeId:z,items:f,newIndex:R,containerId:d}),ee=f!==M.current.items,G=t({active:N,containerId:d,isDragging:B,isSorting:He,id:s,index:w,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:u,wasDragging:M.current.activeId!=null}),ne=pO({disabled:!G,index:w,node:E,rect:S});return _.useEffect(()=>{He&&M.current.newIndex!==R&&(M.current.newIndex=R),d!==M.current.containerId&&(M.current.containerId=d),f!==M.current.items&&(M.current.items=f)},[He,R,d,f]),_.useEffect(()=>{if(z===M.current.activeId)return;if(z!=null&&M.current.activeId==null){M.current.activeId=z;return}const se=setTimeout(()=>{M.current.activeId=z},50);return()=>clearTimeout(se)},[z]),{active:N,activeIndex:m,attributes:te,data:T,rect:S,index:w,newIndex:R,items:f,isOver:A,isSorting:He,isDragging:B,listeners:C,node:E,overIndex:x,over:Q,setNodeRef:vt,setActivatorNodeRef:de,setDroppableNodeRef:O,setDraggableNodeRef:ce,transform:ne??I,transition:U()};function U(){if(ne||ee&&M.current.newIndex===w)return gO;if(!(ze&&!Nc(V)||!u)&&(He||G))return Ir.Transition.toString({...u,property:Pb})}}function vO(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(i=e==null?void 0:e.droppable)!=null?i:t.droppable}}function sc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const bO=[Ye.Down,Ye.Right,Ye.Up,Ye.Left],Zb=(e,t)=>{let{context:{active:n,collisionRect:i,droppableRects:r,droppableContainers:a,over:s,scrollableAncestors:l}}=t;if(bO.includes(e.code)){if(e.preventDefault(),!n||!i)return;const o=[];a.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const m=r.get(d.id);if(m)switch(e.code){case Ye.Down:i.top<m.top&&o.push(d);break;case Ye.Up:i.top>m.top&&o.push(d);break;case Ye.Left:i.left>m.left&&o.push(d);break;case Ye.Right:i.left<m.left&&o.push(d);break}});const u=ZE({collisionRect:i,droppableRects:r,droppableContainers:o});let f=Ab(u,"id");if(f===(s==null?void 0:s.id)&&u.length>1&&(f=u[1].id),f!=null){const d=a.get(n.id),m=a.get(f),h=m?r.get(m.id):null,v=m==null?void 0:m.node.current;if(v&&h&&d&&m){const x=Cc(v).some((j,S)=>l[S]!==j),p=Fb(d,m),g=_O(d,m),y=x||!p?{x:0,y:0}:{x:g?i.width-h.width:0,y:g?i.height-h.height:0},w={x:h.left,y:h.top};return y.x&&y.y?w:cl(w,y)}}}};function Fb(e,t){return!sc(e)||!sc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function _O(e,t){return!sc(e)||!sc(t)||!Fb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const zr=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Iu={THIS_ONLY:"this-only",FROM_NOW:"from-now",ALL:"all"},wO="09",SO="00",Be=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Hn=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),a=["","","","","","",""][e.getDay()];return`${t}.${n}.${i}(${a})`},Hi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),i=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${i}.${r}(${o}) ${a}:${s}`},xO=e=>{const t=new Date;return Be(e)===Be(t)},TO=()=>{const[e,t]=_.useState(null),[n,i]=_.useState(!0);return _.useEffect(()=>{ge.auth.getSession().then(({data:{session:l}})=>{t(l),i(!1)});const{data:{subscription:s}}=ge.auth.onAuthStateChange((l,o)=>{t(o)});return()=>s.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:s}=await ge.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(s)throw s}catch(s){alert(" : "+s.message)}},handleLogout:async()=>{try{const{error:s}=await ge.auth.signOut();if(s)throw s}catch(s){alert(" : "+s.message)}}}};function Eh({value:e,onChange:t}){const n=_.useRef(null),i=_.useRef(null),r=_.useRef(e),a=_.useRef(!1),[s,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:wO),[o,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:SO);_.useEffect(()=>{if(e&&e.includes(":")&&e!==r.current){const[g,y]=e.split(":");r.current=e,l(g),u(y)}},[e]),_.useEffect(()=>{if(!a.current){a.current=!0;return}const g=`${s}:${o}`;r.current=g,t&&t(g)},[s,o]);const f=(g,y,w)=>{if(!g.current)return;const T=g.current.scrollTop,S=Math.round(T/40),E=String(S).padStart(2,"0");y(E)},d=(g,y)=>{if(!g.current)return;const w=40,T=parseInt(y,10);g.current.scrollTop=T*w};_.useEffect(()=>{d(n,s)},[]),_.useEffect(()=>{d(i,o)},[]);const m=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),h=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),v=()=>{const g=(parseInt(s,10)+1)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},b=()=>{const g=(parseInt(s,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),d(n,y)},x=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),d(i,y)},p=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),d(i,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:x,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===s?"selected":""}`,onClick:()=>{l(g),d(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:i,onScroll:()=>f(i,u),children:[c.jsx("div",{className:"picker-spacer"}),h.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),d(i,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:p,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function dy({message:e,onUndo:t,variant:n="default"}){const i=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:i,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function jh({title:e,editable:t=!1,onTitleChange:n,showHideButton:i=!1,onHide:r,showDeleteButton:a=!1,onDelete:s,customActions:l,settingsMenuItems:o=[]}){var g,y;const[u,f]=_.useState(!1),[d,m]=_.useState(e),[h,v]=_.useState(!1),b=_.useRef(null),x=()=>{d.trim()&&d!==e&&(n==null||n(d.trim())),f(!1)},p=()=>{m(e),f(!1)};return _.useEffect(()=>{const w=T=>{if(h&&b.current&&!b.current.contains(T.target)){const j=document.querySelector(".section-settings-dropdown");j&&!j.contains(T.target)&&v(!1)}};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[h]),c.jsxs("div",{className:"section-header",children:[c.jsx("div",{className:"section-title-container",children:u?c.jsx("div",{className:"section-title-edit-wrapper",children:c.jsx("input",{type:"text",value:d,onChange:w=>m(w.target.value),onBlur:x,onKeyDown:w=>{w.key==="Enter"?x():w.key==="Escape"&&p()},className:"section-title-input",autoFocus:!0})}):c.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&f(!0),children:e})}),c.jsxs("div",{className:"section-actions",children:[l,o.length>0&&c.jsxs("div",{style:{position:"relative"},children:[c.jsx("button",{ref:b,className:"section-action-button settings-button",onClick:()=>v(!h),title:"",children:""}),h&&Cy.createPortal(c.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((g=b.current)==null?void 0:g.getBoundingClientRect().bottom)+5}px`,left:`${(y=b.current)==null?void 0:y.getBoundingClientRect().left}px`},children:o.map((w,T)=>c.jsxs("button",{className:"settings-menu-item",onClick:()=>{w.onClick(),v(!1)},children:[c.jsx("span",{children:w.icon}),c.jsx("span",{children:w.label})]},T))}),document.body)]})]})]})}function EO({showSidebar:e,setShowSidebar:t,session:n,viewMode:i,setViewMode:r,onOpenRoutine:a,onOpenMemo:s,onScrollToKeyThoughts:l,onOpenGanttChart:o,onOpenEncouragementModal:u,onOpenDummyModal:f,onOpenAddSection:d,onOpenHiddenSections:m,onLogout:h}){var v,b;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((v=n.user.user_metadata)==null?void 0:v.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((b=n.user.user_metadata)==null?void 0:b.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const x=i==="vertical"?"horizontal":"vertical";r(x),localStorage.setItem("viewMode",x),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:i==="vertical"?"":""}),c.jsx("span",{children:i==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{m(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{a(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{f(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&h()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function jO({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:i}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Hn(e)}),c.jsx("input",{type:"date",value:Be(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:i,className:"date-nav-button",children:""})]})}function OO({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:i,onDateChange:r,onPrevDay:a,onNextDay:s,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:u,onQuickAdd:f}){const[d,m]=_.useState(""),[h,v]=_.useState(!1),b=async x=>{if(x.key==="Enter"&&!x.shiftKey&&d.trim()){x.preventDefault(),v(!0);try{await f(d.trim()),m("")}catch(p){console.error("Quick add error:",p)}finally{v(!1)}}};return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx(jO,{selectedDate:n,onDateChange:r,onPrevDay:a,onNextDay:s}),c.jsx("div",{className:"encouragement-section",children:xO(n)?c.jsx("div",{className:"encouragement-message",onClick:u,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):c.jsx("button",{onClick:()=>i(new Date),className:"today-link",title:" ",children:"  "})}),c.jsx("div",{className:"quick-input-wrapper",children:c.jsx("input",{type:"text",value:d,onChange:x=>m(x.target.value),onKeyDown:b,placeholder:" Quick   (Enter )",className:"quick-input",disabled:h})})]})})}function DO({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:i=>{const r=i.touches[0];i.currentTarget.dataset.touchStartX=r.clientX,i.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:i=>{i.currentTarget.dataset.touchMoved="true"},onTouchEnd:i=>{const r=parseFloat(i.currentTarget.dataset.touchStartX||"0"),a=parseInt(i.currentTarget.dataset.touchStartTime||"0"),s=i.currentTarget.dataset.touchMoved==="true",l=i.changedTouches[0].clientX,o=Date.now()-a;if(delete i.currentTarget.dataset.touchStartX,delete i.currentTarget.dataset.touchStartTime,delete i.currentTarget.dataset.touchMoved,s&&o<500){const u=r-l,f=n.current;if(!f)return;const d=f.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<d.length-1?d[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&d[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(i=>c.jsx("button",{className:`pagination-dot ${t===i?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const a=r.querySelectorAll(".section-block");a[i]&&a[i].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},i))})}function Yu({title:e,className:t,inputValue:n,setInputValue:i,onAddTodo:r,isAdding:a,placeholder:s,children:l,editable:o=!1,onTitleChange:u,settingsMenuItems:f=[],headerActions:d}){return c.jsxs("div",{className:t,children:[c.jsx(jh,{title:e,editable:o,onTitleChange:u,settingsMenuItems:f,customActions:d}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:m=>i(m.target.value),onKeyDown:m=>{m.key==="Enter"&&r()},placeholder:s,className:"todo-input",disabled:a}),c.jsx("button",{onClick:r,className:"add-button",disabled:a,children:""})]}),l]})}function fa({todo:e,index:t,onToggle:n,onDelete:i,onEdit:r,formatDate:a,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:f,level:d=0,onCreateRoutine:m,routines:h,onShowRoutineHistory:v,onOpenRoutineSetupModal:b,onOpenHistoryModal:x,currentPageDate:p,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:w,activeId:T,overId:j}){const[S,E]=_.useState(!1),[A,O]=_.useState(!1),[N,V]=_.useState(e.text),[Z,te]=_.useState(!1),[ce,C]=_.useState(!1),[B,Q]=_.useState(!1),[de,ve]=_.useState(""),[vt,He]=_.useState(!1),[qe,ze]=_.useState([]),[$e,Ge]=_.useState(!1),[I,R]=_.useState(!1),[z,M]=_.useState([]),[ee,G]=_.useState([]),[ne,U]=_.useState([]),[se,he]=_.useState(null),[F,ie]=_.useState(!1),[oe,Ee]=_.useState(null),[Bt,st]=_.useState(!1),[Gt,nt]=_.useState([]),[dt,Xe]=_.useState(""),[H,q]=_.useState({}),[X,re]=_.useState(!1),[ae,Ae]=_.useState(null),[fe,Ce]=_.useState([]),[ye,be]=_.useState("this-only"),[je,De]=_.useState(null),Ke=e.routine_id?h.find(K=>K.id===e.routine_id):null,{attributes:nn,listeners:Fn,setNodeRef:Pe,transform:Fe,transition:me,isDragging:Dt}=Th({id:e.id}),Tt=e.id===T,Rt=e.id===j&&T&&T!==j,Lt={cursor:"grab",opacity:Tt?.4:1},fn=e.text.length>30,Et=()=>{O(!0),V(e.text)},Sn=async()=>{N.trim()&&N!==e.text&&await r(e.id,N.trim()),O(!1)},hn=async K=>{K.key==="Enter"&&!K.shiftKey?(K.preventDefault(),await Sn()):K.key==="Escape"&&(O(!1),V(e.text))},rn=K=>{nt(J=>J.includes(K)?J.filter(lt=>lt!==K):[...J,K])},Bn=K=>["sun","mon","tue","wed","thu","fri","sat"][K];_.useEffect(()=>{oe==="history"&&!H[e.id]&&!X&&(async()=>{re(!0);try{const{data:J,error:lt}=await ge.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(lt)throw lt;q(Ht=>({...Ht,[e.id]:J||[]}))}catch(J){console.error("Error fetching history:",J)}finally{re(!1)}})()},[oe,e.id,H,X]),_.useEffect(()=>{oe==="routine-stats"&&Ke&&(!ae||ae.id!==Ke.id)&&(async()=>{try{const{data:J,error:lt}=await ge.from("todos").select("*").eq("routine_id",Ke.id).eq("deleted",!1).maybeSingle();if(lt)throw lt;if(J&&J.visible_dates){const Ht=J.visible_dates.sort().map(Ie=>{var wt;return{id:`${J.id}-${Ie}`,date:Ie,text:J.text,completed:((wt=J.completed_dates)==null?void 0:wt.includes(Ie))||!1}});Ce(Ht),Ae(Ke)}}catch(J){console.error("Error fetching routine history:",J)}})()},[oe,Ke,ae]);const Ln=K=>{G(J=>J.includes(K)?J.filter(lt=>lt!==K):[...J,K])};return c.jsxs("div",{ref:Pe,style:{...Lt,borderTop:Rt?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:"todo-item-container",children:[c.jsx("span",{className:"drag-handle",...nn,...Fn,title:"  ",children:""}),c.jsx("span",{className:"todo-number",children:t+1}),c.jsx("div",{className:"todo-item-wrapper",children:c.jsxs("div",{className:`todo-item ${e.completed?"completed":""} ${S?"expanded":""} ${Dt?"drag-mode":""}`,children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!A&&fn&&E(!S),onDoubleClick:Et,style:{cursor:A?"text":fn?"pointer":"default"},children:A?c.jsx("textarea",{value:N,onChange:K=>V(K.target.value),onBlur:Sn,onKeyDown:hn,className:"todo-edit-input",autoFocus:!0,rows:1,style:{minHeight:"1.35em",resize:"vertical",overflow:"hidden"},onInput:K=>{K.target.style.height="auto",K.target.style.height=K.target.scrollHeight+"px"}}):c.jsx("span",{className:`todo-text ${S?"expanded":""}`,children:e.text})}),(()=>{const K=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,J=e.routine_id&&Ke,lt=g||e.is_pending_routine;return(f.length>0||K||J||lt)&&c.jsxs("div",{className:"todo-badges",children:[K&&(()=>{const Ht=new Date(e.completed_at).toISOString().split("T")[0],Ie=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${Ht} `,children:[Ie,""]})})(),J&&(()=>{const Ht=p||e.date,Ie=new Date(Ht+"T00:00:00"),wt=Ie.getMonth()+1,ot=Ie.getDate(),xn=["","","","","","",""][Ie.getDay()],gi=`${wt}/${ot}(${xn})`;return c.jsxs("span",{className:"routine-date-badge",title:`${Ke.text} `,children:["for ",gi]})})(),lt&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),f.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:Ht=>{Ht.stopPropagation(),ce?(te(!1),C(!1),Q(!1)):(te(!0),C(!0),Q(!1),He(!1),R(!1))},children:""})]})})(),!A&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:K=>{K.stopPropagation(),ie(!0),Ee(null),st(!1),nt([]),Xe("")},title:"",children:""}),ce&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((K,J)=>c.jsx(fa,{todo:K,index:J,onToggle:n,onDelete:i,onEdit:r,formatDate:a,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:d+1,routines:h,onShowRoutineHistory:v,showSuccessMessage:w,onOpenRoutineSetupModal:b,onOpenHistoryModal:x,currentPageDate:p},K.id)),B&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:de,onChange:K=>ve(K.target.value),onKeyDown:K=>{K.key==="Enter"&&de.trim()&&(u(e.id,de.trim()),ve(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{de.trim()&&(u(e.id,de.trim()),ve(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{ve("")},className:"subtodo-cancel-button",children:""})]})]})]})}),F&&Cy.createPortal(c.jsx("div",{className:"modal-overlay",onClick:()=>ie(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:K=>K.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>ie(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:N,onChange:K=>V(K.target.value),onBlur:()=>{N.trim()!==""&&N!==e.text?r(e.id,N):N.trim()===""&&V(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${oe==="nanotodo"?"active":""}`,onClick:()=>Ee("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${oe==="routine"?"active":""}`,onClick:()=>{Ee("routine");const K=h.find(J=>J.id===e.routine_id);K?(nt(K.days||[]),Xe(K.time_slot||""),st(!1)):(nt([]),Xe(""),st(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${oe==="history"?"active":""}`,onClick:()=>Ee("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&Ke&&c.jsxs("button",{className:`action-menu-item ${oe==="routine-stats"?"active":""}`,onClick:()=>Ee("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${oe==="delete"?"active":""}`,onClick:()=>Ee("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!oe&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),oe==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:f.map(K=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:K.completed,onChange:()=>n(K.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${K.completed?"completed":""}`,children:K.text}),c.jsx("button",{onClick:()=>i(K.id),className:"subtodo-delete-modal",title:"",children:""})]},K.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:de,onChange:K=>ve(K.target.value),onKeyDown:K=>{K.key==="Enter"&&de.trim()&&(u(e.id,de.trim()),ve(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{de.trim()&&(u(e.id,de.trim()),ve(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),oe==="routine"&&(()=>{const K=h.find(J=>J.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:K&&!Bt?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:zr.filter(J=>K.days.includes(J.key)).map(J=>c.jsx("span",{className:"routine-day-badge",children:J.label},J.key))}),K.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",K.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:J=>{J.stopPropagation(),K&&(nt(K.days),Xe(K.time_slot||""),st(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async J=>{J.stopPropagation(),K&&e&&(await m(e.id,e.text,[],null,!0),ie(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:Bt?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:zr.map(J=>c.jsx("button",{onClick:lt=>{lt.stopPropagation(),rn(J.key)},className:`day-button-inline ${Gt.includes(J.key)?"selected":""}`,children:J.label},J.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Eh,{value:dt,onChange:J=>Xe(J)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async J=>{J.stopPropagation(),e&&(Bt&&K?await m(e.id,e.text,Gt,K.id,!1,dt):await m(e.id,e.text,Gt,null,!1,dt),st(!1),ie(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:J=>{J.stopPropagation(),st(!1),nt([]),Xe("")},className:"routine-cancel-button",children:""})]})]})})]})})(),oe==="history"&&(()=>{const K=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],J=K[0],lt=K.map(Ie=>({id:`${e.id}-${Ie}`,date:Ie})),Ht=H[e.id]||[];return X?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:a(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(J?new Date(J+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),lt.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:lt.map((Ie,wt)=>{const ot=Ie.date===e.date,bt=s(new Date(Ie.date+"T00:00:00"));return c.jsxs("span",{children:[wt>0&&"  ",c.jsxs("span",{style:ot?{fontWeight:"bold",color:"#4CAF50"}:{},children:[bt.split("(")[0],ot?"()":""]})]},Ie.id)})})]}),(()=>{const Ie=new Date(e.created_at).toISOString().split("T")[0],wt=e.date;return Ie!==wt&&lt.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),Ht.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",Ht.length,")"]}),Ht.map(Ie=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[a(Ie.changed_at),Ie.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(Ie.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:wt=>{wt.stopPropagation(),Ln(Ie.id)},children:ee.includes(Ie.id)?"":""})]}),ee.includes(Ie.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:Ie.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:Ie.new_text})]})]})]},Ie.id))]})]})]})})(),oe==="routine-stats"&&Ke&&(()=>{if(!ae||ae.id!==Ke.id||fe.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Ke.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!ae||ae.id!==Ke.id?" ...":" ."})]});const K=fe[0],J=new Date(K.date),lt=new Date,Ht={};fe.forEach(ot=>{Ht[ot.date]=ot.completed});const Ie=[];let wt=new Date(J);for(;wt<=lt;){const ot=wt.getFullYear(),bt=wt.getMonth(),xn=`${ot}-${bt+1}`;Ie.find(Pr=>Pr.key===xn)||Ie.push({key:xn,year:ot,month:bt,days:[]});const gi=Ie.find(Pr=>Pr.key===xn),oi=Be(wt),zi=wt.getDay(),cs=Bn(zi),zc=Ke.days.includes(cs);gi.days.push({date:new Date(wt),dateStr:oi,day:wt.getDate(),dayOfWeek:zi,isCompleted:Ht[oi]===!0,isRoutineDay:zc,hasTodo:Ht[oi]!==void 0}),wt.setDate(wt.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Ke.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:Ie.map(ot=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[ot.year," ",ot.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),ot.days.length>0&&Array(ot.days[0].dayOfWeek).fill(null).map((bt,xn)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${xn}`)),ot.days.map((bt,xn)=>{if(xn>0&&bt.day===1){const oi=6-ot.days[xn-1].dayOfWeek;return c.jsxs(gt.Fragment,{children:[Array(oi).fill(null).map((zi,cs)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${xn}-${cs}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${bt.isCompleted?"completed":""} ${bt.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:bt.day}),bt.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},bt.dateStr)}return c.jsxs("div",{className:`history-day-cell ${bt.isCompleted?"completed":""} ${bt.isRoutineDay?"":"not-routine-day"}`,title:`${bt.dateStr}${bt.isRoutineDay?"":" (  )"}${bt.isCompleted?" - ":bt.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:bt.day}),bt.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},bt.dateStr)})]})]},ot.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[fe.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[fe.filter(ot=>ot.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[fe.filter(ot=>!ot.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[fe.length>0?Math.round(fe.filter(ot=>ot.completed).length/fe.length*100):0,"%"]})]})]})]})]})})(),oe==="delete"&&(()=>{const K=async()=>{window.confirm(`  ?

  5    .`)&&(await i(e.id,ye),ie(!1))};return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"   "}),c.jsxs("p",{style:{fontSize:"0.9rem",color:"#9ca3af",marginBottom:"1rem",lineHeight:"1.6"},children:["    .",c.jsx("br",{}),"    ."]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:ye==="this-only"?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"},onClick:()=>be("this-only"),children:[c.jsx("input",{type:"radio",name:"delete-option",value:"this-only",checked:ye==="this-only",onChange:J=>be(J.target.value),style:{width:"16px",height:"16px",cursor:"pointer"}}),c.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("span",{style:{fontWeight:"600"},children:" "}),c.jsx("span",{style:{fontSize:"0.85rem",color:"#9ca3af"},children:" "})]})}),c.jsx("button",{onMouseEnter:()=>De("this-only"),onMouseLeave:()=>De(null),onClick:J=>{J.stopPropagation(),De(je==="this-only"?null:"this-only")},style:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"?"}),je==="this-only"&&c.jsx("div",{style:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:"  ,  ,   "})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:ye==="from-now"?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"},onClick:()=>be("from-now"),children:[c.jsx("input",{type:"radio",name:"delete-option",value:"from-now",checked:ye==="from-now",onChange:J=>be(J.target.value),style:{width:"16px",height:"16px",cursor:"pointer"}}),c.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("span",{style:{fontWeight:"600"},children:"   "}),c.jsx("span",{style:{fontSize:"0.85rem",color:"#9ca3af"},children:" "})]})}),c.jsx("button",{onMouseEnter:()=>De("from-now"),onMouseLeave:()=>De(null),onClick:J=>{J.stopPropagation(),De(je==="from-now"?null:"from-now")},style:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"?"}),je==="from-now"&&c.jsx("div",{style:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:"  ,  ,   "})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:ye==="all"?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"},onClick:()=>be("all"),children:[c.jsx("input",{type:"radio",name:"delete-option",value:"all",checked:ye==="all",onChange:J=>be(J.target.value),style:{width:"16px",height:"16px",cursor:"pointer"}}),c.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("span",{style:{fontWeight:"600"},children:" "}),c.jsx("span",{style:{fontSize:"0.85rem",color:"#9ca3af"},children:" "})]})}),c.jsx("button",{onMouseEnter:()=>De("all"),onMouseLeave:()=>De(null),onClick:J=>{J.stopPropagation(),De(je==="all"?null:"all")},style:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"?"}),je==="all"&&c.jsx("div",{style:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:"  ,  ,   "})]})]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[c.jsx("button",{onClick:()=>ie(!1),style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#9ca3af",cursor:"pointer",fontSize:"0.9rem"},children:""}),c.jsx("button",{onClick:K,style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"#ef4444",border:"none",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:""})]})]})})()]})]})]})}),document.body)]})}function AO({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:i,isAddingRoutine:r,selectedDays:a,onToggleDay:s,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:f,editingRoutineId:d,editingRoutineText:m,setEditingRoutineText:h,editingRoutineDays:v,onToggleEditDay:b,onStartEdit:x,onSaveEdit:p,onCancelEdit:g,onDelete:y,onShowHistory:w}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:T=>T.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:T=>i(T.target.value),placeholder:"  ...",className:"routine-input",disabled:r}),c.jsx("div",{className:"day-selector",children:zr.map(T=>c.jsx("button",{onClick:()=>s(T.key),className:`day-button ${a.includes(T.key)?"selected":""}`,disabled:r,children:T.label},T.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(Eh,{value:l,onChange:T=>o(T)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:r||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:f.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):f.map(T=>c.jsx("div",{className:"routine-item",children:d===T.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:m,onChange:j=>h(j.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:zr.map(j=>c.jsx("button",{onClick:()=>b(j.key),className:`day-button-inline ${v.includes(j.key)?"selected":""}`,children:j.label},j.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:p,className:"routine-save-button",disabled:m.trim()===""||v.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:T.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:zr.filter(j=>T.days.includes(j.key)).map(j=>c.jsx("span",{className:"routine-day-badge",children:j.label},j.key))}),T.time_slot&&c.jsx("span",{className:"routine-time-slot",children:T.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>w(T),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>x(T),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(T.id),className:"routine-delete-button",title:"",children:""})]})]})},T.id))})]})}):null}const NO=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function CO({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:i}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(i.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const r=i[0],a=new Date(r.date),s=new Date,l={};i.forEach(f=>{l[f.date]=f.completed});const o=[];let u=new Date(a);for(;u<=s;){const f=u.getFullYear(),d=u.getMonth(),m=`${f}-${d+1}`;o.find(g=>g.key===m)||o.push({key:m,year:f,month:d,days:[]});const h=o.find(g=>g.key===m),v=Be(u),b=u.getDay(),x=NO(b),p=n.days.includes(x);h.days.push({date:new Date(u),dateStr:v,day:u.getDate(),dayOfWeek:b,isCompleted:l[v]===!0,isRoutineDay:p,hasTodo:l[v]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(f=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[f.year," ",f.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),f.days.length>0&&Array(f.days[0].dayOfWeek).fill(null).map((d,m)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${m}`)),f.days.map((d,m)=>{if(m>0&&d.day===1){const v=6-f.days[m-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(v).fill(null).map((b,x)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${m}-${x}`)),c.jsx("div",{className:"history-day-header",children:""},d.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${d.isCompleted?"completed":""} ${d.isRoutineDay?"":"not-routine-day"}`,title:`${d.dateStr}${d.isRoutineDay?"":" (  )"}${d.isCompleted?" - ":d.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:d.day}),d.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},d.dateStr)})]})]},f.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[i.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[i.filter(r=>r.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[i.filter(r=>!r.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[i.length>0?Math.round(i.filter(r=>r.completed).length/i.length*100):0,"%"]})]})]})]})]})})}function RO({title:e,className:t,content:n,setContent:i,isEditing:r,isSaving:a,textareaRef:s,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:f,placeholder:d,emptyMessage:m,settingsMenuItems:h=[],children:v}){return c.jsxs("div",{className:t,children:[c.jsx(jh,{title:e,settingsMenuItems:h,customActions:r&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:a,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:a,children:" "})]})}),r?c.jsx("textarea",{ref:s,value:n,onChange:b=>i(b.target.value),onKeyDown:f,className:"memo-textarea",placeholder:d}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((b,x)=>c.jsx("div",{className:"memo-preview-line",children:b||""},x))}):c.jsx("div",{className:"memo-empty",children:m})}),v]})}function Wb({block:e,blocks:t,setBlocks:n,focusedBlockId:i,setFocusedBlockId:r,parentBlock:a,rootSetBlocks:s,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:f,listeners:d,setNodeRef:m,transform:h,transition:v,isDragging:b}=Th({id:e.id}),x=e.id===o,p=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:x?.4:1,borderTop:p?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:m,style:g,children:c.jsx(e_,{block:e,blocks:t,setBlocks:n,focusedBlockId:i,setFocusedBlockId:r,dragHandleProps:{...f,...d},parentBlock:a,rootSetBlocks:s,draggingChildIds:l,activeId:o,overId:u})})}function e_({block:e,blocks:t,setBlocks:n,focusedBlockId:i,setFocusedBlockId:r,dragHandleProps:a,parentBlock:s,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:f}){const d=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(i===e.id&&d.current){d.current.focus();const T=d.current.value.length;d.current.setSelectionRange(T,T)}},[i,e.id]),_.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+"px")},[e.content]);const h=(T,j,S)=>T.map(E=>{if(E.id===j){const A=S(E);return{...A,children:Array.isArray(A.children)?A.children:[]}}return Array.isArray(E.children)&&E.children.length>0?{...E,children:h(E.children,j,S)}:E}),v=T=>{n(j=>h(j,e.id,S=>({...S,content:T})))},b=T=>{n(j=>h(j,e.id,S=>({...S,children:typeof T=="function"?T(S.children):T})))},x=()=>{n(T=>h(T,e.id,j=>{const S=!j.isOpen;if(S&&(!Array.isArray(j.children)||j.children.length===0)){const E={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...j,isOpen:S,children:[E]}}return{...j,isOpen:S,children:Array.isArray(j.children)?j.children:[]}}))},p=()=>{const T=t.findIndex(S=>S.id===e.id);if(T<=0)return;const j=t[T-1];n(S=>{const E=[...S];E.splice(T,1);const A={...j,children:[...Array.isArray(j.children)?j.children:[],e],isOpen:!0};return E[T-1]=A,E})},g=()=>{!s||!l||l(T=>{const j=(A,O,N)=>{const V=[];for(let Z=0;Z<A.length;Z++){const te=A[Z];if(te.id===O){const ce=te.children.filter(B=>B.id!==N.id),C={...te,children:ce};V.push(C),V.push(N)}else if(Array.isArray(te.children)&&te.children.length>0){const ce=j(te.children,O,N);ce!==te.children?V.push({...te,children:ce}):V.push(te)}else V.push(te)}return V},S=A=>A.map(O=>{const N=Array.isArray(O.children)&&O.children.length>0;return!N&&O.isOpen?{...O,isOpen:!1}:N?{...O,children:S(O.children)}:O}),E=j(T,s.id,e);return S(E)})},y=T=>{const j=[],S=E=>{for(const A of E)j.push(A),A.isOpen&&Array.isArray(A.children)&&A.children.length>0&&S(A.children)};return S(T),j},w=T=>{if(T.key==="Enter"){if(T.shiftKey)return;{if(m.current){T.preventDefault(),T.stopPropagation();return}T.preventDefault(),T.stopPropagation(),m.current=!0;const j=T.target.selectionStart,S={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};j===0?(n(E=>{const A=E.findIndex(N=>N.id===e.id);if(A===-1)return E;const O=[...E];return O.splice(A,0,S),O}),setTimeout(()=>{r(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(E=>{const A=E.findIndex(N=>N.id===e.id);if(A===-1)return E;const O=[...E];return O.splice(A+1,0,S),O}),setTimeout(()=>{r(S.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(T.key==="Tab"&&T.shiftKey)T.preventDefault(),T.stopPropagation(),s&&l&&g();else if(T.key==="Tab"&&!T.shiftKey)T.preventDefault(),T.stopPropagation(),p();else if(T.key==="Backspace"){const j=T.target.selectionStart;if(e.content===""||j===0){const O=(()=>{if(l){let Z=[];return l(te=>(Z=te,te)),Z}return t})(),N=y(O),V=N.findIndex(Z=>Z.id===e.id);if(V>0){T.preventDefault(),T.stopPropagation();const Z=N[V-1],te=(C,B)=>C.filter(Q=>Q.id!==B).map(Q=>Array.isArray(Q.children)&&Q.children.length>0?{...Q,children:te(Q.children,B)}:Q),ce=C=>C.map(B=>{const Q=Array.isArray(B.children)&&B.children.length>0;return!Q&&B.isOpen?{...B,isOpen:!1}:Q?{...B,children:ce(B.children)}:B});l?l(C=>{const B=te(C,e.id);return ce(B)}):n(C=>{const B=te(C,e.id);return ce(B)}),setTimeout(()=>{r(Z.id)},0)}}}else if(T.key==="ArrowUp"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const S=(()=>{if(l){let O=[];return l(N=>(O=N,N)),O}return t})(),E=y(S),A=E.findIndex(O=>O.id===e.id);A>0&&r(E[A-1].id)}else if(T.key==="ArrowDown"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const S=(()=>{if(l){let O=[];return l(N=>(O=N,N)),O}return t})(),E=y(S),A=E.findIndex(O=>O.id===e.id);A<E.length-1&&r(E[A+1].id)}};return c.jsxs("div",{className:"notion-block",children:[a&&c.jsx("div",{className:"notion-drag-handle",...a,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:x,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:d,value:e.content,onChange:T=>v(T.target.value),onKeyDown:w,onFocus:()=>r(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(T=>c.jsx(Wb,{block:T,blocks:e.children,setBlocks:b,focusedBlockId:i,setFocusedBlockId:r,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:f},T.id))})]})}function MO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:i,onShowHistory:r,onOpenViewer:a,settingsMenuItems:s=[]}){const[l,o]=_.useState(null),[u,f]=_.useState(null),d=ph(ka(jl,{activationConstraint:{distance:3}}),ka(Rc,{coordinateGetter:Zb})),m=S=>S.map(E=>{const A=Array.isArray(E.children)&&E.children.length>0;return!A&&E.isOpen?{...E,isOpen:!1}:A?{...E,children:m(E.children)}:E});_.useEffect(()=>{const S=m(e);JSON.stringify(S)!==JSON.stringify(e)&&t(S)},[e]);const h=S=>{const E=[],A=O=>{for(const N of O)E.push(N),N.isOpen&&Array.isArray(N.children)&&N.children.length>0&&A(N.children)};return A(S),E},v=S=>{const E=[],A=O=>{if(Array.isArray(O.children)&&O.children.length>0)for(const N of O.children)E.push(N.id),A(N)};return A(S),E},b=S=>{const{active:E}=S,O=h(e).find(N=>N.id===E.id);o(O)},x=S=>{const{over:E}=S;f((E==null?void 0:E.id)||null)},p=gt.useMemo(()=>l?v(l):[],[l]),g=S=>{const{active:E,over:A}=S;if(o(null),f(null),!A||E.id===A.id)return;const O=h(e),N=O.find(qe=>qe.id===E.id),V=O.find(qe=>qe.id===A.id);if(!N||!V||v(N).includes(A.id))return;const te=JSON.parse(JSON.stringify(N)),ce=(qe,ze)=>qe.filter($e=>$e.id!==ze).map($e=>({...$e,children:Array.isArray($e.children)?ce($e.children,ze):[]})),C=(qe,ze,$e)=>{let Ge=!1;const I=[];for(const R of qe)if(I.push(R),R.id===ze&&(I.push($e),Ge=!0),Array.isArray(R.children)&&R.children.length>0){const{newChildren:z,wasInserted:M}=B(R.children,ze,$e);M&&(I[I.length-1]={...R,children:z},Ge=!0)}return{newTree:I,inserted:Ge}},B=(qe,ze,$e)=>{let Ge=!1;const I=[];for(const R of qe)if(I.push(R),R.id===ze&&(I.push($e),Ge=!0),Array.isArray(R.children)&&R.children.length>0){const{newChildren:z,wasInserted:M}=B(R.children,ze,$e);M&&(I[I.length-1]={...R,children:z},Ge=!0)}return{newChildren:I,wasInserted:Ge}};let Q=ce(e,N.id);const de=Q.length>0&&Q[0].id===V.id;let ve,vt=!1;if(de)ve=[te,...Q],vt=!0;else{const qe=C(Q,V.id,te);ve=qe.newTree,vt=qe.inserted}if(!vt){console.warn("Failed to insert block, keeping original state");return}const He=m(ve);t(He)},y=h(e).filter(S=>!p.includes(S.id)).map(S=>S.id),w=S=>{const E=A=>A.map(O=>({...O,isOpen:S,children:Array.isArray(O.children)?E(O.children):[]}));t(E(e))},T=S=>{for(const E of S)if(!E.isOpen&&Array.isArray(E.children)&&E.children.length>0||Array.isArray(E.children)&&E.children.length>0&&!T(E.children))return!1;return!0},j=T(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsx(jh,{title:"  ",settingsMenuItems:s,customActions:c.jsx("button",{className:"section-action-button",onClick:()=>w(!j),title:j?" ":" ",children:j?" ":" "})}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(Sh,{sensors:d,collisionDetection:vh,onDragStart:b,onDragOver:x,onDragEnd:g,measuring:{droppable:{strategy:Yr.Always}},children:[c.jsx(Dr,{items:y,strategy:Or,children:e.map(S=>c.jsx(Wb,{block:S,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:i,rootSetBlocks:t,draggingChildIds:p,activeId:l==null?void 0:l.id,overId:u},S.id))}),c.jsx(xh,{children:l?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(e_,{block:l,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function kO({block:e,depth:t,isSelected:n,isCurrent:i,isOver:r,dropPosition:a,activeId:s,hasChildren:l,text:o,onClick:u,showBottomLine:f,isEditing:d,editingText:m,onDoubleClick:h,onEditChange:v,onSaveEdit:b,onCancelEdit:x,onAddChildBlock:p,onDeleteBlock:g,onToggleTodo:y,onToggleMemo:w}){const{attributes:T,listeners:j,setNodeRef:S}=Th({id:e.id}),E=_.useRef(null),A=_.useRef(!1);_.useEffect(()=>{d&&E.current&&(E.current.style.height="auto",E.current.style.height=E.current.scrollHeight+"px")},[d,m]);const O=e.id===s,N=r&&a==="top"&&s&&s!==e.id,V=r&&a==="bottom"&&s&&s!==e.id||f,Z=r&&a==="center"&&s&&s!==e.id,te={cursor:d?"text":"grab",opacity:O?.4:1},ce=d?{}:{...T,...j};return c.jsxs("div",{ref:S,style:te,"data-block-id":e.id,"data-drop-zone":r?a:"",className:`viewer-block ${n?"selected":""} ${i?"current-selected":""} ${l?"has-children":""} ${N?"show-drop-line-top":""} ${V?"show-drop-line-bottom":""} ${Z?"show-as-child-target":""} ${d?"editing":""}`,onClick:d?void 0:u,onDoubleClick:d?void 0:h,...ce,children:[c.jsx("div",{className:"block-content-area",children:d?c.jsx("textarea",{ref:E,className:"block-edit-input",value:m,onChange:C=>v(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),C.stopPropagation(),A.current=!0,b(),E.current&&E.current.blur()):C.key==="Escape"&&(C.preventDefault(),C.stopPropagation(),A.current=!0,x(),E.current&&E.current.blur())},onBlur:()=>{A.current||b(),A.current=!1},autoFocus:!0,rows:1}):c.jsx("div",{className:"block-text",children:o||" "})}),c.jsx("div",{className:"block-actions-area",children:d?c.jsxs("div",{className:"block-edit-buttons",children:[c.jsx("button",{className:`todo-button ${e.isTodo?"active":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),y(e.id)},title:"TODO  ",children:e.isTodo?"":""}),c.jsx("button",{className:`memo-button ${e.memo?"has-memo":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),w(e.id)},title:"",children:""}),c.jsx("button",{className:"add-child-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),b(),p(e.id)},title:"  ",children:""}),c.jsx("button",{className:"delete-block-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),window.confirm("  ?")&&g(e.id)},title:" ",children:""})]}):l&&c.jsx("div",{className:"block-arrow",children:n?"":""})})]})}function UO({blocks:e=[],setBlocks:t,onSave:n,onClose:i}){const[r,a]=_.useState(!0),[s,l]=_.useState([]),[o,u]=_.useState(null),[f,d]=_.useState(null),[m,h]=_.useState(null),[v,b]=_.useState(null),[x,p]=_.useState(""),g=_.useRef({x:0,y:0}),y=_.useRef(null),w=_.useRef(null),T=ph(ka(jl,{activationConstraint:{delay:500,tolerance:8}}));_.useEffect(()=>{if(s.length===0)return;const I=s.length-1,R=s[I];R&&setTimeout(()=>{let z=null;if(R==="ADD_BUTTON"){const M=document.querySelectorAll(".viewer-column");M[I]&&(z=M[I].querySelector(".add-block-button"))}else z=document.querySelector(`[data-block-id="${R}"]`);z&&z.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},50)},[s]),_.useEffect(()=>{const I=R=>{if(v)return;const z=s.length>0?s.length-1:0,M=s[z],ee=M==="ADD_BUTTON",G=S(z),ne=G.findIndex(U=>U.id===M);switch(R.key){case"Enter":{if(R.preventDefault(),ee)C(z);else if(M){const U=j(e,M);U&&(b(M),p($e(U)))}break}case"ArrowUp":{if(R.preventDefault(),ee){if(G.length>0){const U=G[G.length-1].id,se=s.slice(0,z);se[z]=U,l(se)}}else if(ne>0){const U=G[ne-1].id,se=s.slice(0,z);se[z]=U,l(se)}break}case"ArrowDown":{if(R.preventDefault(),ne===G.length-1){const U=s.slice(0,z);U[z]="ADD_BUTTON",l(U)}else if(ne<G.length-1&&!ee){const U=G[ne+1].id,se=s.slice(0,z);se[z]=U,l(se)}break}case"ArrowLeft":{R.preventDefault(),s.length>0&&l(s.slice(0,-1));break}case"ArrowRight":{if(R.preventDefault(),M&&M!=="ADD_BUTTON"){const U=j(e,M);if(U)if(U.children&&U.children.length>0){const se=[...s,U.children[0].id];l(se)}else{const se=[...s,"ADD_BUTTON"];l(se)}}else G.length>0&&l([G[0].id]);break}case"Tab":{if(R.preventDefault(),M&&M!=="ADD_BUTTON"){const U=j(e,M);if(U)if(U.children&&U.children.length>0){const se=[...s,U.children[0].id];l(se)}else{const se=[...s,"ADD_BUTTON"];l(se)}}else G.length>0&&l([G[0].id]);break}}R.key==="Tab"&&R.shiftKey&&(R.preventDefault(),s.length>0&&l(s.slice(0,-1)))};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[s,v,e]);const j=(I,R)=>{for(const z of I){if(z.id===R)return z;if(z.children){const M=j(z.children,R);if(M)return M}}return null},S=I=>{if(I===0)return e||[];let R=e;for(let z=0;z<I;z++){const M=s[z];if(!M)return[];const ee=R.find(G=>G.id===M);if(!ee||!ee.children||ee.children.length===0)return[];R=ee.children}return R},E=(I,R,z)=>{if(v||o)return;const M=s.slice(0,I);M[I]=R,l(M)},A=(I,R)=>{R.stopPropagation();const z=j(e,I);z&&(b(I),p($e(z)))},O=()=>{if(!v||!t)return;const I=JSON.parse(JSON.stringify(e)),R=(z,M,ee)=>{for(let G=0;G<z.length;G++){if(z[G].id===M)return Array.isArray(z[G].content)?z[G].content=[{text:ee}]:z[G].content=ee,!0;if(z[G].children&&R(z[G].children,M,ee))return!0}return!1};R(I,v,x),t(I),b(null),p(""),n&&setTimeout(()=>{n()},100)},N=()=>{b(null),p("")},V=I=>{if(!t)return;const R=JSON.parse(JSON.stringify(e)),z=(ee,G)=>{for(let ne=0;ne<ee.length;ne++){if(ee[ne].id===G){const U=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,se={id:U,content:"",children:[]};return ee[ne].children||(ee[ne].children=[]),ee[ne].children.push(se),U}if(ee[ne].children){const U=z(ee[ne].children,G);if(U)return U}}return null};if(z(R,I)){t(R),b(null),p("");const ee=B(R,I);if(ee!==-1){const G=s.slice(0,ee);G[ee]=I,l(G)}n&&setTimeout(()=>{n()},100)}},Z=I=>{if(!t)return;const R=JSON.parse(JSON.stringify(e)),z=(M,ee)=>{for(let G=0;G<M.length;G++){if(M[G].id===ee)return M.splice(G,1),!0;if(M[G].children&&z(M[G].children,ee))return!0}return!1};if(z(R,I)){t(R),b(null),p("");const M=s.filter(ee=>ee!==I);l(M),n&&setTimeout(()=>{n()},100)}},te=I=>{if(!t)return;const R=JSON.parse(JSON.stringify(e)),z=(M,ee)=>{for(let G=0;G<M.length;G++){if(M[G].id===ee)return M[G].isTodo=!M[G].isTodo,M[G].isTodo||(M[G].isCompleted=!1),!0;if(M[G].children&&z(M[G].children,ee))return!0}return!1};z(R,I)&&(t(R),n&&setTimeout(()=>{n()},100))},ce=I=>{if(!t)return;const R=j(e,I);if(!R)return;const z=R.memo||"",M=prompt(" :",z);if(M===null)return;const ee=JSON.parse(JSON.stringify(e)),G=(ne,U,se)=>{for(let he=0;he<ne.length;he++){if(ne[he].id===U)return ne[he].memo=se,!0;if(ne[he].children&&G(ne[he].children,U,se))return!0}return!1};G(ee,I,M)&&(t(ee),n&&setTimeout(()=>{n()},100))},C=I=>{if(!t)return;const R=JSON.parse(JSON.stringify(e)),z=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,M={id:z,content:"",children:[]};if(I===0)R.push(M);else{const ee=s[I-1];if(!ee)return;const G=ne=>{for(let U=0;U<ne.length;U++){if(ne[U].id===ee)return ne[U].children||(ne[U].children=[]),ne[U].children.push(M),!0;if(ne[U].children&&G(ne[U].children))return!0}return!1};G(R)}t(R),setTimeout(()=>{b(z),p("")},50),n&&setTimeout(()=>{n()},100)},B=(I,R,z=0)=>{for(const M of I){if(M.id===R)return z;if(M.children){const ee=B(M.children,R,z+1);if(ee!==-1)return ee}}return-1},Q=(I,R)=>{if(!I||R===0)return null;const z=document.querySelector(`[data-block-id="${I}"]`);if(!z)return"top";const M=z.getBoundingClientRect(),G=(R-M.top)/M.height;let ne;if(G<0?ne="top":G>1?ne="bottom":G<.25?ne="top":G>.75?ne="bottom":ne="center",ne==="center"&&j(e,I)){const se=B(e,I);if(se!==-1){const he=s.slice(0,se);he[se]=I,JSON.stringify(he)!==JSON.stringify(s)&&l(he)}}return ne},de=(I,R,z)=>{if(!t)return;const M=JSON.parse(JSON.stringify(e));let ee=null;const G=(U,se)=>{for(let he=0;he<U.length;he++){if(U[he].id===se)return ee=U.splice(he,1)[0],!0;if(U[he].children&&G(U[he].children,se))return!0}return!1};if(G(M,I),!ee)return;const ne=(U,se,he,F)=>{for(let ie=0;ie<U.length;ie++){if(U[ie].id===se){const oe=F==="bottom"?ie+1:ie;return U.splice(oe,0,he),!0}if(U[ie].children&&ne(U[ie].children,se,he,F))return!0}return!1};ne(M,R,ee,z)&&t(M)},ve=(I,R)=>{if(!t)return;const z=JSON.parse(JSON.stringify(e));let M=null;const ee=(U,se)=>{for(let he=0;he<U.length;he++){if(U[he].id===se)return M=U.splice(he,1)[0],!0;if(U[he].children&&ee(U[he].children,se))return!0}return!1};if(ee(z,I),!M)return;const G=(U,se,he)=>{for(let F=0;F<U.length;F++){if(U[F].id===se)return U[F].children||(U[F].children=[]),U[F].children.push(he),!0;if(U[F].children&&G(U[F].children,se,he))return!0}return!1};if(!G(z,R,M))return;if(t(z),j(z,R)){const U=(he,F,ie=0)=>{for(const oe of he){if(oe.id===F)return ie;if(oe.children){const Ee=U(oe.children,F,ie+1);if(Ee!==-1)return Ee}}return-1},se=U(z,R);if(se!==-1){const he=s.slice(0,se);he[se]=R,l(he)}}},vt=I=>{const{active:R,activatorEvent:z}=I,M=j(e,R.id);u(M),w.current=R.id,document.body.classList.add("dragging"),z&&z.clientY!==void 0&&(g.current={x:z.clientX||0,y:z.clientY});const ee=ne=>{g.current={x:ne.clientX,y:ne.clientY};const U=y.current||w.current;if(U){const se=Q(U,ne.clientY);se&&h(se)}},G=ne=>{if(ne.touches[0]){g.current={x:ne.touches[0].clientX,y:ne.touches[0].clientY};const U=y.current||w.current;if(U){const se=Q(U,ne.touches[0].clientY);se&&h(se)}}};window.addEventListener("mousemove",ee),window.addEventListener("touchmove",G),window._dragMoveCleanup=()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("touchmove",G)}},He=I=>{const{over:R}=I;if(!R){d(null),h(null),y.current=null;return}y.current=R.id,d(R.id);const z=g.current.y,M=Q(R.id,z);M&&h(M)},qe=async I=>{const{active:R,over:z}=I;let M=!1;z&&R.id!==z.id&&(m==="center"?(ve(R.id,z.id),M=!0):(de(R.id,z.id,m),M=!0)),u(null),d(null),h(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null),M&&n&&setTimeout(()=>{n()},100)},ze=()=>{u(null),d(null),h(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null)},$e=I=>typeof I.content=="string"?I.content:Array.isArray(I.content)?I.content.map(R=>R.text||"").join(""):"",Ge=Math.min(s.length+1,10);return c.jsx(Sh,{sensors:T,collisionDetection:vh,onDragStart:vt,onDragOver:He,onDragEnd:qe,onDragCancel:ze,children:c.jsxs("div",{className:`key-thoughts-viewer-page ${r?"dark-mode":""}`,children:[c.jsxs("header",{className:"viewer-header",children:[c.jsx("button",{className:"viewer-close-button",onClick:i,"aria-label":" ",children:""}),c.jsx("h2",{className:"viewer-title",children:" "}),c.jsx("button",{className:"dark-mode-toggle",onClick:()=>a(!r),"aria-label":r?"  ":"  ",children:r?"Light":"Dark"})]}),c.jsx("main",{className:"viewer-content",children:c.jsx("div",{className:"columns-container",children:Array.from({length:Ge}).map((I,R)=>{const z=S(R),M=s[R];if(z.length===0&&R>0&&!s[R-1])return null;const ee=z.map(U=>U.id),G=f?B(e,f):-1,ne=G!==-1&&G+1===R&&m==="center"&&o;return c.jsxs("div",{className:"viewer-column",children:[c.jsx("div",{className:"column-header",children:R===0?"A":R===1?"B":R===2?"C":String.fromCharCode(65+R)}),c.jsx(Dr,{items:ee,strategy:Or,children:c.jsxs("div",{className:"column-blocks",children:[z.length===0&&ne?c.jsx("div",{className:"empty-column-drop-line"}):z.map((U,se)=>{const he=U.id===M,F=U.id===f,ie=U.children&&U.children.length>0,oe=$e(U),Bt=se===z.length-1&&ne,st=s.length>0&&s[s.length-1]===U.id;return c.jsx(kO,{block:U,depth:R,isSelected:he,isCurrent:st,isOver:F,dropPosition:m,activeId:o==null?void 0:o.id,hasChildren:ie,text:oe,onClick:()=>E(R,U.id),showBottomLine:Bt,isEditing:v===U.id,editingText:x,onDoubleClick:Gt=>A(U.id,Gt),onEditChange:p,onSaveEdit:O,onCancelEdit:N,onAddChildBlock:V,onDeleteBlock:Z,onToggleTodo:te,onToggleMemo:ce},U.id)}),(R===0||s[R-1]!=="ADD_BUTTON")&&c.jsx("button",{className:`add-block-button ${M==="ADD_BUTTON"?"selected":""}`,onClick:()=>C(R),children:"+  "})]})})]},R)})})}),c.jsx(xh,{children:o?c.jsxs("div",{className:"viewer-block dragging-overlay",children:[c.jsx("div",{className:"block-content-area",children:c.jsx("div",{className:"block-text",children:$e(o)||" "})}),c.jsx("div",{className:"block-actions-area",children:o.children&&o.children.length>0&&c.jsx("div",{className:"block-arrow",children:""})})]}):null})]})})}function zO({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:i,dummySessions:r,onDeleteDummySession:a,onDeleteAllDummies:s,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:i,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),r.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[r.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&a(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&s()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function $O({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:i,setGanttPeriod:r,formatDateOnly:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:s=>s.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(s=>c.jsx("button",{className:`period-button ${i===s.value?"active":""}`,onClick:()=>r(s.value),children:s.label},s.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const s=n.flatMap(d=>d.dates),l=[...new Set(s)].sort((d,m)=>new Date(d)-new Date(m));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),f=[];for(let d=new Date(o);d<=u;d.setDate(d.getDate()+1))f.push(new Date(d).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:f.map(d=>c.jsx("div",{className:"gantt-date-cell",children:a(new Date(d+"T00:00:00")).split("(")[0]},d))})]}),n.map((d,m)=>{const h=new Set(d.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:d.text,children:c.jsx("span",{className:d.completed?"completed-task":"",children:d.text})}),c.jsx("div",{className:"gantt-timeline",children:f.map(v=>{if(!h.has(v))return c.jsx("div",{className:"gantt-date-cell"},v);const x=v===d.startDate,p=v===d.completedDate;let g="gantt-date-cell has-task";return x?g+=" start-date":p?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:p?c.jsx("span",{className:"completed-circle",children:""}):""},v)})})]},d.originalId)})]})})()})})]})}):null}function BO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:i,setNewEncouragementMessage:r,onAddEncouragementMessage:a,editingEncouragementId:s,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:f,onDeleteEncouragementMessage:d}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:i,onChange:m=>r(m.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async m=>{m.key==="Enter"&&i.trim()!==""&&(await a(i.trim()),r(""))}}),c.jsx("button",{onClick:async()=>{i.trim()!==""&&(await a(i.trim()),r(""))},className:"add-encouragement-button",disabled:i.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((m,h)=>c.jsx("div",{className:"encouragement-item",children:s===h?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await f(h,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:m}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(h),u(m)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await d(h)},className:"encouragement-delete-button",title:"",children:""})]})]})},h))})]})}):null}function LO({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:i}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(r=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(r.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),r.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:r.description})]}),c.jsx("button",{onClick:()=>i(r.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(r.content)?r.content.map((a,s)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[a.type==="toggle"?" ":"",a.content||"( )"]},s)):"( )"})]},r.id))})})]})}):null}function HO({isOpen:e,onClose:t,onAddSection:n}){const[i,r]=_.useState(""),[a,s]=_.useState(""),l=["","","","","","","","","","","",""],o=u=>{u.preventDefault(),i.trim()&&(n({name:i.trim(),icon:a}),r(""),s(""),t())};return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content add-section-modal",onClick:u=>u.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),c.jsxs("form",{onSubmit:o,className:"add-section-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",value:i,onChange:u=>r(u.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("div",{className:"emoji-grid",children:l.map(u=>c.jsx("button",{type:"button",className:`emoji-button ${a===u?"selected":""}`,onClick:()=>s(u),children:u},u))}),c.jsx("div",{className:"custom-emoji-input",children:c.jsx("input",{type:"text",value:a,onChange:u=>{const f=Array.from(u.target.value);s(f.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsxs("div",{className:"section-preview",children:[a," ",i||" "]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),c.jsx("button",{type:"submit",className:"submit-button",disabled:!i.trim(),children:""})]})]})]})}):null}function qO({show:e,onClose:t,hiddenSections:n,sectionOrder:i,sectionTitles:r,customSections:a,onShowSection:s}){if(!e)return null;const l=o=>{if(r[o])return r[o];const u=a.find(f=>f.id===o);return u?`${u.icon} ${u.name}`:o};return n.length===0?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{className:"empty-message",children:"  ."})})]})}):c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"hidden-sections-list",children:n.map(o=>c.jsxs("div",{className:"hidden-section-item",children:[c.jsx("span",{className:"hidden-section-title",children:l(o)}),c.jsx("button",{className:"show-section-button",onClick:()=>{s(o)},title:" ",children:" "})]},o))})})]})})}function fy({todo:e,onClose:t,onDeleteThisOnly:n,onDeleteFromNow:i,onDeleteAll:r}){const[a,s]=_.useState("this-only"),[l,o]=_.useState(null),u=()=>{a==="this-only"?n(e):a==="from-now"?i(e):a==="all"&&r(e),t()},f=[{id:"this-only",label:" ",subtitle:" ",tooltip:"  ,  ,   "},{id:"from-now",label:"   ",subtitle:" ",tooltip:"  ,  ,   "},{id:"all",label:" ",subtitle:" ",tooltip:"  ,  ,   "}];return c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content delete-confirm-modal-v2",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content-v2",children:[c.jsxs("p",{className:"delete-info-text",children:["    .",c.jsx("br",{}),"    ."]}),c.jsx("div",{className:"delete-options-v2",children:f.map(d=>c.jsxs("div",{className:"delete-option-item",children:[c.jsxs("label",{className:"delete-option-label",children:[c.jsx("input",{type:"radio",name:"delete-option",value:d.id,checked:a===d.id,onChange:m=>s(m.target.value)}),c.jsxs("div",{className:"option-text",children:[c.jsx("span",{className:"option-main",children:d.label}),c.jsx("span",{className:"option-sub",children:d.subtitle})]})]}),c.jsx("button",{className:"option-help-btn",onMouseEnter:()=>o(d.id),onMouseLeave:()=>o(null),onClick:m=>{m.preventDefault(),o(l===d.id?null:d.id)},children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[c.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),c.jsx("text",{x:"8",y:"11.5",textAnchor:"middle",fontSize:"11",fill:"currentColor",fontWeight:"600",children:"?"})]})}),l===d.id&&c.jsx("div",{className:"option-tooltip",children:d.tooltip})]},d.id))}),c.jsxs("div",{className:"delete-modal-actions",children:[c.jsx("button",{className:"btn-cancel",onClick:t,children:""}),c.jsx("button",{className:"btn-confirm",onClick:u,children:""})]})]})]})})}function IO({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function YO(e){const[t,n]=_.useState(["memo","routine","normal","key-thoughts"]),[i,r]=_.useState(!1),a=async()=>{var d;if((d=e==null?void 0:e.user)!=null&&d.id)try{const{data:m,error:h}=await ge.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(h){console.error("   :",h.message);return}if(m&&m.setting_value){const v=JSON.parse(m.setting_value);n(v)}}catch(m){console.error("   :",m.message)}},s=async d=>{var m;if((m=e==null?void 0:e.user)!=null&&m.id)try{const{data:h,error:v}=await ge.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(v){console.error("   :",v.message);return}h?await ge.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await ge.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(h){console.error("   :",h.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:i,setIsReorderMode:r,fetchSectionOrder:a,saveSectionOrder:s,moveSectionLeft:d=>{n(m=>{const h=m.indexOf(d);if(h<=0)return m;const v=[...m];return[v[h-1],v[h]]=[v[h],v[h-1]],s(v),v})},moveSectionRight:d=>{n(m=>{const h=m.indexOf(d);if(h===-1||h>=m.length-1)return m;const v=[...m];return[v[h],v[h+1]]=[v[h+1],v[h]],s(v),v})},handleSectionDragEnd:d=>{const{active:m,over:h}=d;i&&t.includes(m.id)&&h&&m.id!==(h==null?void 0:h.id)&&n(v=>{const b=v.indexOf(m.id),x=v.indexOf(h.id),p=Uc(v,b,x);return s(p),p})},handleSectionsContainerDoubleClick:d=>{i&&d.target===d.currentTarget&&r(!1)}}}function VO(e){const[t,n]=_.useState(""),[i,r]=_.useState(!1),[a,s]=_.useState(!1),[l,o]=_.useState(""),u=_.useRef(null),f=async()=>{try{const{data:b,error:x}=await ge.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(x)throw x;const p=b&&b.length>0?b[0].content:"";n(p),o(p)}catch(b){console.error("   :",b.message),n(""),o("")}},d=()=>{r(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},m=async()=>{var b;if(!a)try{s(!0);const{data:x}=await ge.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);x&&x.length>0?await ge.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",x[0].id):await ge.from("spec_memos").insert([{content:t,user_id:(b=e==null?void 0:e.user)==null?void 0:b.id}]),o(t),r(!1)}catch(x){console.error("  :",x.message),alert("  .")}finally{s(!1)}},h=()=>{n(l),r(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:i,setIsEditingMemoInline:r,isSavingMemo:a,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:f,handleStartEditMemoInline:d,handleSaveMemoInline:m,handleCancelEditMemoInline:h,handleMemoKeyDown:b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),m()),b.key==="Escape"&&(b.preventDefault(),h())}}}function GO(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;e.forEach(r=>{t.set(r.block_id,{id:r.block_id,type:r.type||"toggle",content:r.content||"",isOpen:r.is_open!==void 0?r.is_open:!0,isTodo:r.is_todo||!1,isCompleted:r.is_completed||!1,memo:r.memo||"",children:[],_dbId:r.id,_parentId:r.parent_id,_position:r.position,_depth:r.depth,_createdAt:r.created_at,_updatedAt:r.updated_at})});const n=[];e.forEach(r=>{const a=t.get(r.block_id);if(r.parent_id===null||r.parent_id===void 0)n.push(a);else{const s=t.get(r.parent_id);s?s.children.push(a):(console.warn(`Parent not found for block ${r.block_id}, moving to root`),n.push(a))}});const i=r=>{r.sort((a,s)=>(a._position||0)-(s._position||0)),r.forEach(a=>{a.children.length>0&&i(a.children)})};return i(n),n}function nf(e,t=null,n=0){if(!Array.isArray(e))return[];let i=[];return e.forEach((r,a)=>{const{children:s,_dbId:l,_parentId:o,_position:u,_depth:f,_createdAt:d,_updatedAt:m,...h}=r,v={block_id:h.id||r.id,content:h.content||"",type:h.type||"toggle",parent_id:t,position:a,depth:n,is_open:h.isOpen!==void 0?h.isOpen:!0,is_todo:h.isTodo||!1,is_completed:h.isCompleted||!1,memo:h.memo||""};if(i.push(v),s&&s.length>0){const b=nf(s,h.id||r.id,n+1);i=i.concat(b)}}),i}function hy(){return`${Date.now()}.${Math.random().toString(36).substring(2,9)}`}function rf(e){return Array.isArray(e)?e.map(t=>({...t,children:Array.isArray(t.children)?rf(t.children):[]})):[]}function KO(e){const[t,n]=_.useState([{id:hy(),type:"toggle",content:"",children:[],isOpen:!0}]),[i,r]=_.useState(!1),[a,s]=_.useState(!1),l=_.useRef(null),o=_.useRef(null),[u,f]=_.useState(null),[d,m]=_.useState([]),[h,v]=_.useState(!1),b=async()=>{var O;if((O=e==null?void 0:e.user)!=null&&O.id){r(!0);try{const{data:N,error:V}=await ge.from("key_thought_blocks").select("*").eq("user_id",e.user.id).order("position",{ascending:!0});if(V){console.error("  :",V.message);return}if(N&&N.length>0){const Z=GO(N);n(Z),l.current=JSON.parse(JSON.stringify(Z))}}catch(N){console.error("  :",N.message)}finally{r(!1)}}},x=async O=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id))return null;try{const V=O.id||hy(),{data:Z,error:te}=await ge.from("key_thought_blocks").insert([{user_id:e.user.id,block_id:V,content:O.content||"",type:O.type||"toggle",parent_id:O.parent_id||null,position:O.position||0,depth:O.depth||0,is_open:O.isOpen!==void 0?O.isOpen:!0}]).select().single();return te?(console.error("  :",te.message),null):Z}catch(V){return console.error("  :",V.message),null}},p=async(O,N)=>{var V;if(!((V=e==null?void 0:e.user)!=null&&V.id))return!1;try{const Z={};N.content!==void 0&&(Z.content=N.content),N.type!==void 0&&(Z.type=N.type),N.isOpen!==void 0&&(Z.is_open=N.isOpen),N.position!==void 0&&(Z.position=N.position),N.parent_id!==void 0&&(Z.parent_id=N.parent_id),N.depth!==void 0&&(Z.depth=N.depth),Z.updated_at=new Date().toISOString();const{error:te}=await ge.from("key_thought_blocks").update(Z).eq("user_id",e.user.id).eq("block_id",O);return te?(console.error("  :",te.message),!1):!0}catch(Z){return console.error("  :",Z.message),!1}},g=async O=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id))return!1;try{const{error:V}=await ge.from("key_thought_blocks").delete().eq("user_id",e.user.id).eq("block_id",O);return V?(console.error("  :",V.message),!1):!0}catch(V){return console.error("  :",V.message),!1}},y=async(O,N,V,Z)=>{var te;if(!((te=e==null?void 0:e.user)!=null&&te.id))return!1;try{const{error:ce}=await ge.from("key_thought_blocks").update({parent_id:N,position:V,depth:Z,updated_at:new Date().toISOString()}).eq("user_id",e.user.id).eq("block_id",O);return ce?(console.error("  :",ce.message),!1):!0}catch(ce){return console.error("  :",ce.message),!1}},w=async()=>{var O;if(!((O=e==null?void 0:e.user)!=null&&O.id))return!1;s(!0);try{await ge.from("key_thought_blocks").delete().eq("user_id",e.user.id);const N=nf(t);if(N.length>0){const{error:V}=await ge.from("key_thought_blocks").insert(N.map(Z=>({...Z,user_id:e.user.id})));if(V)return console.error("  :",V.message),!1}return await j(t),l.current=JSON.parse(JSON.stringify(t)),!0}catch(N){return console.error("  :",N.message),!1}finally{s(!1)}},T=(O,N)=>{if(!O||O.length===0||O.length!==N.length)return!0;const V=(Z,te)=>{for(let ce=0;ce<Z.length;ce++){const C=Z[ce],B=te[ce];if(C.type!==B.type)return!0;const Q=C.children?C.children.length:0,de=B.children?B.children.length:0;if(Q!==de)return!0;const ve=C.content||"",vt=B.content||"";if(Math.abs(ve.length-vt.length)>=20||de>0&&V(C.children,B.children))return!0}return!1};return V(O,N)},j=async O=>{var N;if((N=e==null?void 0:e.user)!=null&&N.id)try{if(!T(l.current,O))return;const{error:V}=await ge.from("key_thoughts_history").insert([{content:O,description:" ",user_id:e.user.id}]);V&&console.error("   :",V.message)}catch(V){console.error("   :",V.message)}},S=async()=>{try{const O=new Date().toDateString();if(o.current===O)return;const N=new Date;N.setDate(N.getDate()-30);const{error:V}=await ge.from("key_thoughts_history").delete().lt("created_at",N.toISOString());V?console.error("   :",V.message):(o.current=O,console.log("   "))}catch(O){console.error("   :",O.message)}},E=async()=>{try{const{data:O,error:N}=await ge.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(N){console.error("   :",N.message);return}m(O||[])}catch(O){console.error("   :",O.message)}};return{blocks:t,setBlocks:n,loading:i,isSaving:a,setIsSaving:s,lastSavedBlocksRef:l,focusedBlockId:u,setFocusedBlockId:f,keyThoughtsHistory:d,setKeyThoughtsHistory:m,showKeyThoughtsHistory:h,setShowKeyThoughtsHistory:v,fetchBlocks:b,createBlock:x,updateBlock:p,deleteBlock:g,moveBlock:y,saveAllBlocks:w,fetchKeyThoughtsHistory:E,restoreKeyThoughtsVersion:async O=>{try{const N=d.find(te=>te.id===O);if(!N){alert("    .");return}if(!window.confirm(`  ?
    .`))return;T(l.current,t)&&await ge.from("key_thoughts_history").insert([{content:t,description:"   ",user_id:e.user.id}]);const V=rf(N.content);n(V),await ge.from("key_thought_blocks").delete().eq("user_id",e.user.id);const Z=nf(V);Z.length>0&&await ge.from("key_thought_blocks").insert(Z.map(te=>({...te,user_id:e.user.id}))),await ge.from("key_thoughts_history").insert([{content:V,description:`  (${new Date(N.created_at).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})`,user_id:e.user.id}]),l.current=JSON.parse(JSON.stringify(V)),alert("  !"),v(!1),await E()}catch(N){console.error("  :",N.message),alert("    : "+N.message)}},cleanupOldHistory:S,normalizeBlocks:rf}}const t_=({type:e,supabase:t,selectedDate:n,onDeleteSuccess:i})=>({deleteThisOnly:async l=>{try{const o=Be(n),f=[...l.hidden_dates||[],o],d=e==="todo"?"todos":"routines",{error:m}=await t.from(d).update({hidden_dates:f}).eq("id",l.id);if(m)throw m;return i&&i(l.id,Iu.THIS_ONLY),{success:!0}}catch(o){return console.error(`${e}   (THIS_ONLY):`,o.message),{success:!1,error:o}}},deleteFromNow:async l=>{try{const o=Be(n),f=(l.visible_dates||[]).filter(h=>h<o),d=e==="todo"?"todos":"routines",{error:m}=await t.from(d).update({visible_dates:f,stop_carryover_from:o}).eq("id",l.id);if(m)throw m;return i&&i(l.id,Iu.FROM_NOW),{success:!0}}catch(o){return console.error(`${e}   (FROM_NOW):`,o.message),{success:!1,error:o}}},deleteAll:async l=>{try{const o=Be(n),u=e==="todo"?"todos":"routines",{error:f}=await t.from(u).update({deleted:!0,deleted_date:o}).eq("id",l.id);if(f)throw f;return e==="routine"&&await t.from("todos").update({routine_id:null}).eq("routine_id",l.id),i&&i(l.id,Iu.ALL),{success:!0}}catch(o){return console.error(`${e}   (ALL):`,o.message),{success:!1,error:o}}}}),XO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],QO=({session:e,supabase:t,selectedDate:n,setTodos:i,setSuccessToastMessage:r,setShowSuccessToast:a})=>{const[s,l]=_.useState([]),[o,u]=_.useState(""),[f,d]=_.useState([]),[m,h]=_.useState(""),[v,b]=_.useState(!1),[x,p]=_.useState(!1),[g,y]=_.useState(null),[w,T]=_.useState(""),[j,S]=_.useState([]),[E,A]=_.useState(!1),[O,N]=_.useState(null),[V,Z]=_.useState([]),[te,ce]=_.useState(!1),[C,B]=_.useState(null),Q=_.useRef(new Set),{deleteThisOnly:de,deleteFromNow:ve,deleteAll:vt}=t_({type:"routine",supabase:t,selectedDate:n,onDeleteSuccess:(F,ie)=>{l(oe=>oe.filter(Ee=>Ee.id!==F)),r(" "),a(!0)}}),He=async()=>{var F;if((F=e==null?void 0:e.user)!=null&&F.id)try{const{data:ie,error:oe}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(oe)throw oe;l(ie||[])}catch(ie){console.error("  :",ie.message)}},qe=async()=>{var F;if(!(o.trim()===""||v))try{b(!0);const ie={text:o,days:f,start_date:Be(n),user_id:(F=e==null?void 0:e.user)==null?void 0:F.id};m&&(ie.time_slot=m);const{data:oe,error:Ee}=await t.from("routines").insert([ie]).select();if(Ee)throw Ee;l([oe[0],...s]),u(""),d([]),h("")}catch(ie){console.error("  :",ie.message)}finally{b(!1)}},ze=async(F,ie,oe,Ee=null,Bt=!1,st="",Gt=null)=>{var nt;try{if(Bt){const{error:dt}=await t.from("todos").update({routine_id:null}).eq("id",F);if(dt)throw dt;i(Xe=>Xe.map(H=>H.id===F?{...H,routine_id:null}:H));return}if(Ee){const{error:dt}=await t.from("routines").update({days:oe,time_slot:st}).eq("id",Ee);if(dt)throw dt;const{error:Xe}=await t.from("todos").update({is_pending_routine:oe.length===0}).eq("id",F);if(Xe)throw Xe;l(H=>H.map(q=>q.id===Ee?{...q,days:oe,time_slot:st}:q)),i(H=>H.map(q=>q.id===F?{...q,is_pending_routine:oe.length===0}:q))}else{const dt={text:ie,days:oe,time_slot:st,start_date:Gt||Be(n),user_id:(nt=e==null?void 0:e.user)==null?void 0:nt.id},{data:Xe,error:H}=await t.from("routines").insert([dt]).select();if(H)throw H;const{error:q}=await t.from("todos").update({routine_id:Xe[0].id,is_pending_routine:oe.length===0}).eq("id",F);if(q)throw q;i(X=>X.map(re=>re.id===F?{...re,routine_id:Xe[0].id,is_pending_routine:oe.length===0}:re)),l(X=>[Xe[0],...X])}}catch(dt){console.error("  :",dt.message)}},$e=F=>{y(F.id),T(F.text),S(F.days)},Ge=()=>{y(null),T(""),S([])},I=async()=>{if(!(!g||w.trim()===""||j.length===0))try{const{error:F}=await t.from("routines").update({text:w.trim(),days:j}).eq("id",g);if(F)throw F;l(s.map(ie=>ie.id===g?{...ie,text:w.trim(),days:j}:ie)),Ge()}catch(F){console.error("  :",F.message)}},R=F=>{S(ie=>ie.includes(F)?ie.filter(oe=>oe!==F):[...ie,F])},z=async F=>{const ie=s.find(oe=>oe.id===F);ie&&(B(ie),ce(!0))},M=async F=>{var ie;if(!Q.current.has(F))try{Q.current.add(F);const oe=new Date(F),Ee=XO(oe.getDay()),{data:Bt,error:st}=await t.from("routines").select("*").eq("deleted",!1);if(st)throw st;const Gt=Bt.filter(nt=>{const dt=nt.days||[],Xe=dt.length===0||dt.includes(Ee);if(nt.start_date){const H=new Date(nt.start_date),q=oe>=H;return Xe&&q}return Xe});if(Gt.length===0)return;for(const nt of Gt){const dt=nt.text,{data:Xe,error:H}=await t.from("todos").select("*").eq("routine_id",nt.id).eq("deleted",!1);if(H)throw H;if(Xe&&Xe.length>1){console.warn(` ${nt.id}    (${Xe.length}).     .`);for(let X=1;X<Xe.length;X++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Xe[X].id)}const q=Xe&&Xe.length>0?Xe[0]:null;if(q){const X=q.visible_dates||[],re=!nt.days||nt.days.length===0,ae=re?"pending_routine":"routine";if(X.includes(F)){(q.is_pending_routine!==re||q.section_type!==ae)&&await t.from("todos").update({is_pending_routine:re,section_type:ae}).eq("id",q.id);continue}const Ae=[...X,F].sort(),{error:fe}=await t.from("todos").update({visible_dates:Ae,is_pending_routine:re,section_type:re?"pending_routine":"routine"}).eq("id",q.id);fe&&console.error("    :",fe.message)}else{const X=!nt.days||nt.days.length===0,{error:re}=await t.from("todos").insert([{text:dt,completed:!1,date:F,visible_dates:[F],hidden_dates:[],order_index:0,routine_id:nt.id,is_pending_routine:X,section_type:X?"pending_routine":"routine",user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);re&&console.error("   :",re.message)}}}catch(oe){console.error("   :",oe.message)}finally{setTimeout(()=>{Q.current.delete(F)},1e3)}},ee=async()=>{const ie=Be(new Date);await M(ie)},G=async F=>{try{const{data:ie,error:oe}=await t.from("todos").select("*").eq("routine_id",F.id).eq("deleted",!1);if(oe)throw oe;const Ee=ie&&ie.length>0?ie[0]:null;if(Ee&&Ee.visible_dates){const Bt=Ee.visible_dates.sort().map(st=>({id:`${Ee.id}-${st}`,date:st,text:Ee.text,completed:Ee.completed,routine_id:Ee.routine_id}));Z(Bt)}else Z([]);N(F),A(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},ne=()=>{A(!1),N(null),Z([])},U=()=>{p(!0),He()},se=()=>{p(!1),u(""),d([])},he=F=>{d(ie=>ie.includes(F)?ie.filter(oe=>oe!==F):[...ie,F])};return _.useEffect(()=>{e&&He()},[e]),{routines:s,setRoutines:l,routineInput:o,selectedDays:f,selectedTimeSlot:m,isAddingRoutine:v,showRoutineModal:x,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:j,showRoutineHistory:E,selectedRoutineForHistory:O,routineHistoryData:V,routineCreationInProgress:Q,showDeleteConfirmModal:te,setShowDeleteConfirmModal:ce,routineToDelete:C,setRoutineToDelete:B,setRoutineInput:u,setSelectedTimeSlot:h,fetchRoutines:He,handleAddRoutine:qe,handleDeleteRoutine:z,deleteThisOnly:de,deleteFromNow:ve,deleteAll:vt,handleStartEditRoutine:$e,handleSaveEditRoutine:I,handleCancelEditRoutine:Ge,handleToggleEditDay:R,handleCreateRoutineFromTodo:ze,createRoutineTodosForDate:M,createRoutineTodos:ee,fetchRoutineHistory:G,handleCloseRoutineHistory:ne,handleOpenRoutine:U,handleCloseRoutine:se,handleToggleDay:he}},JO=(e,t,n,i,r,a,s,l,o)=>{const[u,f]=_.useState(""),[d,m]=_.useState(""),[h,v]=_.useState(""),[b,x]=_.useState(!0),[p,g]=_.useState(!1),[y,w]=_.useState(!1),[T,j]=_.useState(null),[S,E]=_.useState(!1),[A,O]=_.useState(!1),[N,V]=_.useState(""),[Z,te]=_.useState(null),[ce,C]=_.useState(null),[B,Q]=_.useState(!1),[de,ve]=_.useState(null),[vt,He]=_.useState(null),[qe,ze]=_.useState(null),$e=_.useRef(new Set),Ge=_.useRef(new Set),I=_.useRef(!1),{deleteThisOnly:R,deleteFromNow:z,deleteAll:M}=t_({type:"todo",supabase:t,selectedDate:n,onDeleteSuccess:(H,q)=>{const X=i.find(re=>re.id===H);X&&(j(X),te({id:H,deleteType:q,item:X}),E(!0),setTimeout(()=>{E(!1),j(null),te(null)},5e3)),r(re=>re.filter(ae=>ae.id!==H)),Q(!1),ve(null)}}),ee=H=>["sun","mon","tue","wed","thu","fri","sat"][H],G=async H=>{var q;if(!$e.current.has(H))try{$e.current.add(H);const X=new Date(H),re=ee(X.getDay()),{data:ae,error:Ae}=await t.from("routines").select("*").eq("deleted",!1);if(Ae)throw Ae;const fe=ae.filter(Ce=>{const ye=Ce.days||[],be=ye.length===0||ye.includes(re);if(Ce.start_date){const je=new Date(Ce.start_date),De=X>=je;return be&&De}return be});if(fe.length===0)return;for(const Ce of fe){const ye=Ce.text,{data:be,error:je}=await t.from("todos").select("*").eq("routine_id",Ce.id).eq("deleted",!1);if(je)throw je;if(be&&be.length>1){console.warn(` ${Ce.id}    (${be.length}).     .`);for(let Ke=1;Ke<be.length;Ke++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",be[Ke].id)}const De=be&&be.length>0?be[0]:null;if(De){if((De.hidden_dates||[]).includes(H)||De.stop_carryover_from&&H>=De.stop_carryover_from)continue;const nn=!Ce.days||Ce.days.length===0,Fn=De.visible_dates||[],Pe=nn?"pending_routine":"routine";if(Fn.includes(H)){const Dt=De.is_pending_routine!==nn||De.section_type!==Pe;if(console.log(`[createRoutineTodosForDate] "${De.text}"  : ${Dt}`),console.log(`  -  section_type: ${De.section_type}, : ${Pe}`),Dt){console.log("  -  !");const{error:Tt}=await t.from("todos").update({is_pending_routine:nn,section_type:Pe}).eq("id",De.id);Tt&&console.error(" :",Tt)}continue}const Fe=[...Fn,H].sort(),{error:me}=await t.from("todos").update({visible_dates:Fe,is_pending_routine:nn,section_type:nn?"pending_routine":"routine"}).eq("id",De.id);me&&console.error("    :",me.message)}else{const Ke=!Ce.days||Ce.days.length===0,{error:nn}=await t.from("todos").insert([{text:ye,completed:!1,date:H,visible_dates:[H],hidden_dates:[],order_index:0,routine_id:Ce.id,is_pending_routine:Ke,section_type:Ke?"pending_routine":"routine",user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}]);nn&&console.error("   :",nn.message)}}}catch(X){console.error("   :",X.message)}finally{setTimeout(()=>{$e.current.delete(H)},1e3)}};return{inputValue:u,setInputValue:f,routineInputValue:d,setRoutineInputValue:m,normalInputValue:h,setNormalInputValue:v,loading:b,isDraggingAny:p,isAdding:y,deletedTodo:T,showUndoToast:S,showSuccessToast:A,successToastMessage:N,lastDeleteAction:Z,focusedTodoId:ce,setFocusedTodoId:C,selectedTodoForModal:l,showDeleteConfirmModal:B,setShowDeleteConfirmModal:Q,todoToDelete:de,setTodoToDelete:ve,activeTodoId:vt,overId:qe,fetchTodos:async()=>{var H;if(!((H=e==null?void 0:e.user)!=null&&H.id)){x(!1);return}try{x(!0);const q=Be(n);await G(q);const{data:X,error:re}=await t.from("todos").select("*").eq("deleted",!1);if(re)throw re;const ae=(X||[]).filter(fe=>fe.stop_carryover_from&&q>=fe.stop_carryover_from||fe.hidden_dates&&Array.isArray(fe.hidden_dates)&&fe.hidden_dates.includes(q)?!1:fe.visible_dates&&Array.isArray(fe.visible_dates)?fe.visible_dates.includes(q):fe.date===q),Ae=ae.filter(fe=>fe.routine_id);if(Ae.length>0){const fe=[...new Set(Ae.map(ye=>ye.routine_id))],{data:Ce}=await t.from("routines").select("*").in("id",fe);I.current||(I.current=!0,console.log("===    ==="),Ae.forEach(ye=>{const be=Ce==null?void 0:Ce.find(je=>je.id===ye.routine_id);console.log(`: "${ye.text}"`),console.log(`  - is_pending_routine: ${ye.is_pending_routine}`),console.log(`  - section_type: ${ye.section_type}`),console.log(`  - routine_id: ${ye.routine_id}`),console.log(`  -  days: ${be?JSON.stringify(be.days):" "}`)}));for(const ye of Ae){const be=Ce==null?void 0:Ce.find(Ke=>Ke.id===ye.routine_id);if(!be)continue;const je=!be.days||be.days.length===0,De=je?"pending_routine":"routine";(ye.section_type!==De||ye.is_pending_routine!==je)&&(console.log(`[] "${ye.text}" section_type : ${ye.section_type} -> ${De}`),await t.from("todos").update({section_type:De,is_pending_routine:je}).eq("id",ye.id),ye.section_type=De,ye.is_pending_routine=je)}}r(ae)}catch(q){console.error("   :",q.message)}finally{x(!1)}},handleAddTodo:async()=>{var H;if(!(u.trim()===""||y))try{w(!0);const q=i.filter(fe=>!fe.parent_id&&fe.section_type==="normal"),X=q.length>0?Math.max(...q.map(fe=>fe.order_index))+1:1,re=Be(n),{data:ae,error:Ae}=await t.from("todos").insert([{text:u,completed:!1,order_index:X,date:re,visible_dates:[re],hidden_dates:[],section_type:"normal",user_id:(H=e==null?void 0:e.user)==null?void 0:H.id}]).select();if(Ae)throw Ae;r([...i,ae[0]]),f("")}catch(q){console.error("   :",q.message)}finally{w(!1)}},handleAddRoutineTodo:async()=>{var H,q;if(!(d.trim()===""||y))try{w(!0);const X=Be(n),{data:re,error:ae}=await t.from("routines").insert([{text:d,days:[],start_date:X,user_id:(H=e==null?void 0:e.user)==null?void 0:H.id}]).select();if(ae)throw ae;const Ae=re[0],fe=i.filter(je=>!je.parent_id&&je.section_type==="pending_routine"),Ce=fe.length>0?Math.max(...fe.map(je=>je.order_index))+1:1,{data:ye,error:be}=await t.from("todos").insert([{text:d,completed:!1,order_index:Ce,date:X,visible_dates:[X],hidden_dates:[],routine_id:Ae.id,is_pending_routine:!0,section_type:"pending_routine",user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}]).select();if(be)throw be;s([Ae,...a]),r([...i,ye[0]]),m("")}catch(X){console.error("   :",X.message)}finally{w(!1)}},handleAddNormalTodo:async()=>{var H;if(!(h.trim()===""||y))try{w(!0);const q=i.filter(fe=>!fe.parent_id&&fe.section_type==="normal"),X=q.length>0?Math.max(...q.map(fe=>fe.order_index))+1:1,re=Be(n),{data:ae,error:Ae}=await t.from("todos").insert([{text:h,completed:!1,order_index:X,date:re,visible_dates:[re],hidden_dates:[],section_type:"normal",user_id:(H=e==null?void 0:e.user)==null?void 0:H.id}]).select();if(Ae)throw Ae;r([...i,ae[0]]),v("")}catch(q){console.error("   :",q.message)}finally{w(!1)}},handleToggleTodo:async H=>{const q=i.find(X=>X.id===H);if(q)try{const X=!q.completed,re=X?new Date().toISOString():null,{error:ae}=await t.from("todos").update({completed:X,completed_at:re}).eq("id",H);if(ae)throw ae;r(i.map(Ae=>Ae.id===H?{...Ae,completed:X,completed_at:re}:Ae))}catch(X){console.error("   :",X.message)}},handleDeleteTodo:async(H,q)=>{const X=i.find(re=>re.id===H);X&&(q?q==="this-only"?await R(X):q==="from-now"?await z(X):q==="all"&&await M(X):(ve(X),Q(!0)))},deleteThisOnly:R,deleteFromNow:z,deleteAll:M,handleUndoDelete:async()=>{if(!(!T||!Z))try{const{deleteType:H}=Z,q=Be(n);if(H==="this-only"){const X=(T.hidden_dates||[]).filter(ae=>ae!==q),{error:re}=await t.from("todos").update({hidden_dates:X}).eq("id",T.id);if(re)throw re}else if(H==="from-now"){const{error:X}=await t.from("todos").update({visible_dates:T.visible_dates,stop_carryover_from:null}).eq("id",T.id);if(X)throw X}else if(H==="all"){const{error:X}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",T.id);if(X)throw X}r(X=>{const re={...T};return[...X,re].sort((Ae,fe)=>Ae.order_index-fe.order_index)}),E(!1),j(null),te(null)}catch(H){console.error("  :",H.message)}},handleEditTodo:async(H,q)=>{var X,re;try{let ae=null;Ge.current.add(H);const Ae=new Date().toISOString();if(r(ye=>(ae=ye.find(be=>be.id===H),!ae||ae.text===q?(Ge.current.delete(H),ye):ye.map(be=>be.id===H?{...be,text:q,updated_at:Ae}:be))),!ae||ae.text===q)return;const{error:fe}=await t.from("todo_history").insert([{todo_id:H,previous_text:ae.text,new_text:q,changed_on_date:ae.date,user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]);if(fe&&console.error("  :",fe.message),ae.original_todo_id){const{data:ye,error:be}=await t.from("todos").select("text, date").eq("id",ae.original_todo_id).single();!be&&ye&&await t.from("todo_history").insert([{todo_id:ae.original_todo_id,previous_text:ae.text,new_text:q,changed_on_date:ae.date,user_id:(re=e==null?void 0:e.user)==null?void 0:re.id}])}const{error:Ce}=await t.from("todos").update({text:q}).eq("id",H);Ce?(console.error("   :",Ce.message),r(ye=>ye.map(be=>be.id===H?ae:be)),Ge.current.delete(H)):setTimeout(()=>{Ge.current.delete(H)},5e3)}catch(ae){console.error("   :",ae.message),Ge.current.delete(H)}},handleAddSubTodo:async(H,q)=>{var X;if(!(!q||q.trim()===""))try{const ae=i.filter(ye=>ye.parent_id===H).length+1,Ae=Be(n),{data:fe,error:Ce}=await t.from("todos").insert([{text:q.trim(),completed:!1,order_index:ae,date:Ae,parent_id:H,user_id:(X=e==null?void 0:e.user)==null?void 0:X.id}]).select();if(Ce)throw Ce;r([...i,fe[0]])}catch(re){console.error("    :",re.message)}},handleDragEnd:async H=>{g(!1),He(null),ze(null);const{active:q,over:X}=H;if(!X||q.id===X.id)return;const re=i.find(me=>me.id===q.id),ae=i.find(me=>me.id===X.id);if(!re||!ae)return;const Ae=re.section_type,fe=re.section_id||null,Ce=ae.section_type,ye=ae.section_id||null,be=Ae!==Ce||Ae==="custom"&&fe!==ye,je=Ce,De=ye,Ke=i.filter(me=>!(me.parent_id||me.section_type!==je||je==="custom"&&me.section_id!==De)).sort((me,Dt)=>me.order_index-Dt.order_index),nn=Ke.findIndex(me=>me.id===q.id),Fn=Ke.findIndex(me=>me.id===X.id);let Pe=[...Ke];be?Pe.splice(Fn,0,{...re,section_type:je,section_id:De,routine_id:je==="routine"||je==="pending_routine"?re.routine_id:null}):Pe=Uc(Ke,nn,Fn);let Fe=[...i];if(Pe.forEach((me,Dt)=>{const Tt=Fe.findIndex(Rt=>Rt.id===me.id);Tt!==-1&&(Fe[Tt]={...me,order_index:Dt+1})}),be){const me=Fe.findIndex(Dt=>Dt.id===q.id);me!==-1&&(Fe[me]={...Fe[me],section_type:je,section_id:De,routine_id:je==="routine"||je==="pending_routine"?Fe[me].routine_id:null})}r(Fe);try{if(be){const me={section_type:je,section_id:De};je!=="routine"&&je!=="pending_routine"&&(me.routine_id=null,me.is_pending_routine=!1),await t.from("todos").update(me).eq("id",q.id)}for(let me=0;me<Pe.length;me++)await t.from("todos").update({order_index:me+1}).eq("id",Pe[me].id)}catch(me){console.error("  :",me.message),r(i)}},handleRemoveTodoFromUI:H=>{r(i.filter(q=>q.id!==H))},handleDragStart:H=>{const{active:q}=H;g(!0),He(q.id)},handleDragOver:H=>{const{over:q}=H;ze((q==null?void 0:q.id)||null)},handleDragCancel:()=>{g(!1),He(null),ze(null)}}},PO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:i})=>{const[r,a]=_.useState(!1),[s,l]=_.useState({}),[o,u]=_.useState([]);return{showTodoHistoryModal:r,todoHistory:s,expandedHistoryIds:o,handleOpenTodoHistoryModal:async h=>{i(h);try{const{data:v,error:b}=await t.from("todo_history").select("*").eq("todo_id",h.id).order("changed_at",{ascending:!1});if(b)throw b;l(x=>({...x,[h.id]:v||[]}))}catch(v){console.error("Error fetching history:",v)}a(!0)},handleCloseTodoHistoryModal:()=>{a(!1),i(null),u([])},toggleHistoryDetail:h=>{u(v=>v.includes(h)?v.filter(b=>b!==h):[...v,h])}}},ZO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[i,r]=_.useState(!1),[a,s]=_.useState([]),[l,o]=_.useState(!1),[u,f]=_.useState("");return{showTodoRoutineSetupModal:i,routineDaysForModal:a,setRoutineDaysForModal:s,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:u,setRoutineTimeSlotForModal:f,handleOpenTodoRoutineSetupModal:h=>{t(h);const v=n.find(b=>b.id===h.routine_id);v?(s(v.days||[]),f(v.time_slot||""),o(!1)):(s([]),f(""),o(!0)),r(!0)},handleCloseTodoRoutineSetupModal:()=>{r(!1),t(null),s([]),f(""),o(!1)}}},FO=({session:e,supabase:t,selectedDate:n})=>{const i=_.useRef(!1);return{carryOverInProgress:i,carryOverIncompleteTodos:async s=>{if(!i.current)try{i.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const u=l.filter(f=>(f.hidden_dates||[]).includes(s)?!1:f.visible_dates&&Array.isArray(f.visible_dates)&&f.visible_dates.length>0?f.visible_dates.includes(s)?!1:f.visible_dates.some(h=>h<s):!!(f.date&&f.date<s));if(u.length===0)return;for(const f of u){let d=[];f.visible_dates&&Array.isArray(f.visible_dates)&&f.visible_dates.length>0?d=[...f.visible_dates,s]:d=f.date?[f.date,s]:[s];const{error:m}=await t.from("todos").update({visible_dates:d}).eq("id",f.id);m&&console.error(` ${f.id}  :`,m.message)}}catch(l){console.error("  :",l.message)}finally{i.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!i.current)try{i.current=!0;const s=new Date,l=Be(s),{data:o,error:u}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(u)throw u;if(!o||o.length===0)return;const f=new Date(o[0].date+"T00:00:00");let d=new Date(f);const m=new Date(s);m.setDate(m.getDate()-1);let h=0;for(;d<=m;){const v=Be(d),b=new Date(d);b.setDate(b.getDate()+1);const x=Be(b),{data:p,error:g}=await t.from("todos").select("*").eq("date",v).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(p&&p.length>0){const{data:y,error:w}=await t.from("todos").select("*").eq("date",x).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const T=new Set;y==null||y.forEach(S=>{S.original_todo_id!==null&&T.add(S.original_todo_id)});const j=p.filter(S=>{if(S.stop_carryover_from&&v>=S.stop_carryover_from)return!1;const E=S.original_todo_id||S.id;return!T.has(E)});if(j.length>0){const S=j.map(ce=>ce.original_todo_id||ce.id).filter((ce,C,B)=>B.indexOf(ce)===C),{data:E,error:A}=await t.from("todos").select("id, created_at").in("id",S);if(A)throw A;const O={};E==null||E.forEach(ce=>{O[ce.id]=ce.created_at});const V=(y?y.length:0)+1,Z=j.map((ce,C)=>{const B=ce.original_todo_id||ce.id;return{text:ce.text,completed:!1,date:x,created_at:O[B]||ce.created_at,order_index:V+C,original_todo_id:B,parent_id:null,routine_id:null}}),{error:te}=await t.from("todos").insert(Z);if(te)throw te;h+=j.length}}d.setDate(d.getDate()+1)}h>0}catch(s){console.error("    :",s.message)}finally{i.current=!1}}}};function WO(e,t,n){const[i,r]=_.useState([]),[a,s]=_.useState(!1),[l,o]=_.useState(!1);return{dummySessions:i,showDummyModal:a,setShowDummyModal:s,showDummySQL:l,setShowDummySQL:o,handleCreateDummyData:async()=>{try{const h=`DUMMY-${Date.now()}`,v=new Date(2025,10,16),b=[],x=[],p="2025-11-14";b.push({text:`[${h}] : 14--`,date:p,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${h}] : 14-14`,date:p,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${h}] : 14-15`,date:p,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${h}] : 14-16`,date:p,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const g="2025-11-15";b.push({text:`[${h}] : 15--`,date:g,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${h}] : 15-15`,date:g,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${h}] : 15-16`,date:g,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const y="2025-11-16";b.push({text:`[${h}] : 16-`,date:y,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${h}] : 16-16`,date:y,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),b.push({text:`[${h}] : 14-15-`,date:g,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${h}] : 14-15-15`,date:g,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),b.push({text:`[${h}] : 15-16-`,date:y,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${h}] : 15-16-16`,date:y,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${h}] : 14-16-`,date:y,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${h}] : 14-16-16`,date:y,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const w="2025-11-17";b.push({text:`[${h}] : 16-17-`,date:w,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${h}] : 15-17-`,date:w,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${h}] : 14-17-`,date:w,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const T="2025-11-18";b.push({text:`[${h}] : 16-18-`,date:T,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${h}] : 15-18-`,date:T,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:j,error:S}=await t.from("todos").insert(b).select();if(S)throw S;const E=j.find(O=>O.text.includes("14--"));E&&x.push({todo_id:E.id,previous_text:`[${h}] : 14--1`,new_text:`[${h}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:g},{todo_id:E.id,previous_text:`[${h}] : 14--2`,new_text:`[${h}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:y});const A=j.find(O=>O.text.includes("15--"));if(A&&x.push({todo_id:A.id,previous_text:`[${h}] : 15--1`,new_text:`[${h}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:y}),x.length>0){const{error:O}=await t.from("todo_history").insert(x);O&&console.error("  :",O.message)}r(O=>[...O,{sessionId:h,createdAt:new Date().toISOString(),count:b.length,historyCount:x.length}]),alert(`    !
: ${b.length}
: ${x.length}
 ID: ${h}`),n()}catch(h){console.error("   :",h.message),alert("    : "+h.message)}},handleDeleteDummySession:async h=>{if(window.confirm(`   "${h}"   ?

      ,     .`))try{const{data:b,error:x}=await t.from("todos").select("id").like("text",`[${h}]%`);if(x)throw x;if(b&&b.length>0){const g=b.map(w=>w.id),{error:y}=await t.from("todo_history").delete().in("todo_id",g);y&&console.error("  :",y.message)}const{error:p}=await t.from("todos").delete().like("text",`[${h}]%`);if(p)throw p;r(g=>g.filter(y=>y.sessionId!==h)),alert(`  ${h}  !`),n()}catch(b){console.error("   :",b.message),alert("    : "+b.message)}},handleDeleteAllDummies:async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:v,error:b}=await t.from("todos").select("id").like("text","[DUMMY-%");if(b)throw b;if(v&&v.length>0){const p=v.map(y=>y.id),{error:g}=await t.from("todo_history").delete().in("todo_id",p);g&&console.error("  :",g.message)}const{error:x}=await t.from("todos").delete().like("text","[DUMMY-%");if(x)throw x;r([]),alert("     !"),n()}catch(v){console.error("    :",v.message),alert("     : "+v.message)}},handleRemoveDuplicates:async()=>{try{const{data:h,error:v}=await t.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(v)throw v;if(!h||h.length===0){alert(" .");return}const b={};h.forEach(S=>{b[S.text]||(b[S.text]=[]),b[S.text].push(S)});const x=Object.entries(b).filter(([S,E])=>E.length>1);if(x.length===0){alert("  .");return}let p=`  :

`,g=[];if(x.forEach(([S,E])=>{p+=`"${S}" - ${E.length}
`;const A=E.slice(1);g.push(...A),A.forEach(V=>{const Z=new Date(V.created_at).toLocaleString("ko-KR");p+=`    : ${Z}
`});const O=E[0],N=new Date(O.created_at).toLocaleString("ko-KR");p+=`   : ${N}

`}),p+=`
 ${g.length}   .`,!window.confirm(p+`

     ,     .

?`))return;const w=g.map(S=>S.id),{error:T}=await t.from("todo_history").delete().in("todo_id",w);T&&console.error("  :",T.message);const{error:j}=await t.from("todos").delete().in("id",w);if(j)throw j;alert(` ${g.length}   .`),n()}catch(h){console.error("   :",h.message),alert("    : "+h.message)}}}}function eD(e,t){const[n,i]=_.useState([]),[r,a]=_.useState(!1),[s,l]=_.useState(""),[o,u]=_.useState(null),[f,d]=_.useState(""),[m,h]=_.useState(!1),[v,b]=_.useState(""),x=()=>{if(n.length===0)return"";const j=Math.floor(Math.random()*n.length);return n[j]},p=()=>{let j=0;h(!0),setTimeout(()=>{let S=x();for(;S===v&&n.length>1&&j<10;)S=x(),j++;h(!1),b(S)},300)},g=async()=>{try{const{data:j,error:S}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(S)throw S;if(j&&j.length>0){const E=j.map(A=>A.message);i(E),v||b(E[0])}}catch(j){console.error("   :",j.message)}},y=async j=>{var S;try{const{data:E}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),A=E&&E.length>0?E[0].order_index:0,{error:O}=await t.from("encouragement_messages").insert([{message:j,order_index:A+1,user_id:(S=e==null?void 0:e.user)==null?void 0:S.id}]);if(O)throw O;await g()}catch(E){console.error("   :",E.message),alert("   .")}},w=async(j,S)=>{try{const{data:E}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!E||j>=E.length)throw new Error("   .");const A=E[j],{error:O}=await t.from("encouragement_messages").update({message:S}).eq("id",A.id);if(O)throw O;await g()}catch(E){console.error("   :",E.message),alert("   .")}},T=async j=>{try{const{data:S}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!S||j>=S.length)throw new Error("   .");const E=S[j],{error:A}=await t.from("encouragement_messages").delete().eq("id",E.id);if(A)throw A;await g()}catch(S){console.error("   :",S.message),alert("   .")}};return _.useEffect(()=>{n.length>0&&!v&&b(x())},[n]),{encouragementMessages:n,showEncouragementModal:r,setShowEncouragementModal:a,newEncouragementMessage:s,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:u,editingEncouragementText:f,setEditingEncouragementText:d,showEncouragementEmoji:m,currentEncouragementMessage:v,handleEncouragementClick:p,fetchEncouragementMessages:g,addEncouragementMessage:y,updateEncouragementMessage:w,deleteEncouragementMessage:T}}function tD(e){const[t,n]=_.useState(!1),[i,r]=_.useState([]),[a,s]=_.useState("1week"),l=async()=>{try{const f=new Date,d=Be(f);let m=null;if(a!=="all")switch(m=new Date(f),a){case"1week":m.setDate(f.getDate()-7);break;case"2weeks":m.setDate(f.getDate()-14);break;case"1month":m.setMonth(f.getMonth()-1);break;case"3months":m.setMonth(f.getMonth()-3);break;case"6months":m.setMonth(f.getMonth()-6);break}let h=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});m&&(h=h.gte("date",Be(m)));const{data:v,error:b}=await h;if(b)throw b;const x={};for(const g of v||[]){const y=g.original_todo_id||g.id;x[y]||(x[y]=[]),x[y].push(g)}const p=Object.entries(x).map(([g,y])=>{const w=y.sort((A,O)=>new Date(A.date)-new Date(O.date)),T=w[0],j=w.map(A=>A.date);let S=null;for(const A of w)if(A.completed&&A.completed_at){const O=new Date(A.completed_at);S=Be(O);break}const E=w.find(A=>A.date===d);return{text:T.text,originalId:parseInt(g),createdAt:T.created_at,startDate:j[0],endDate:j[j.length-1],dates:j,completed:(E==null?void 0:E.completed)||!1,completedDate:S}}).sort((g,y)=>new Date(g.createdAt)-new Date(y.createdAt));r(p)}catch(f){console.error("   :",f.message)}};return{showGanttChart:t,ganttData:i,ganttPeriod:a,setGanttPeriod:s,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),r([])},fetchGanttData:l}}function nD(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:i}=TO(),[r,a]=_.useState(new Date),[s,l]=_.useState(!1),[o,u]=_.useState("home"),f=_.useRef(new Set),d=ph(ka(jl),ka(Hb),ka(Rc,{coordinateGetter:Zb})),[m,h]=_.useState([]),[v,b]=_.useState(null),{showTodoHistoryModal:x,todoHistory:p,expandedHistoryIds:g,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:w,toggleHistoryDetail:T}=PO({session:e,supabase:ge,selectedTodoForModal:v,setSelectedTodoForModal:b}),{showRoutineModal:j,routines:S,setRoutines:E,routineInput:A,setRoutineInput:O,selectedDays:N,selectedTimeSlot:V,setSelectedTimeSlot:Z,isAddingRoutine:te,editingRoutineId:ce,editingRoutineText:C,setEditingRoutineText:B,showRoutineHistory:Q,selectedRoutineForHistory:de,routineHistoryData:ve,editingRoutineDays:vt,showDeleteConfirmModal:He,setShowDeleteConfirmModal:qe,routineToDelete:ze,fetchRoutines:$e,handleAddRoutine:Ge,handleCreateRoutineFromTodo:I,handleStartEditRoutine:R,handleCancelEditRoutine:z,handleSaveEditRoutine:M,handleToggleEditDay:ee,handleDeleteRoutine:G,deleteThisOnly:ne,deleteFromNow:U,deleteAll:se,fetchRoutineHistory:he,handleCloseRoutineHistory:F,handleOpenRoutine:ie,handleCloseRoutine:oe,handleToggleDay:Ee,createRoutineTodos:Bt}=QO({session:e,supabase:ge,selectedDate:r,setTodos:h,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:st,routineDaysForModal:Gt,setRoutineDaysForModal:nt,isEditingRoutineInModal:dt,setIsEditingRoutineInModal:Xe,routineTimeSlotForModal:H,setRoutineTimeSlotForModal:q,handleOpenTodoRoutineSetupModal:X,handleCloseTodoRoutineSetupModal:re}=ZO({selectedTodoForModal:v,setSelectedTodoForModal:b,routines:S}),{carryOverIncompleteTodos:ae}=FO({session:e,supabase:ge,selectedDate:r}),{routineInputValue:Ae,setRoutineInputValue:fe,normalInputValue:Ce,setNormalInputValue:ye,loading:be,isDraggingAny:je,isAdding:De,showUndoToast:Ke,showSuccessToast:nn,successToastMessage:Fn,lastDeleteAction:Pe,focusedTodoId:Fe,setFocusedTodoId:me,showDeleteConfirmModal:Dt,setShowDeleteConfirmModal:Tt,todoToDelete:Rt,activeTodoId:Lt,overId:fn,fetchTodos:Et,handleAddRoutineTodo:Sn,handleAddNormalTodo:hn,handleToggleTodo:rn,handleDeleteTodo:Bn,handleAddSubTodo:Ln,handleEditTodo:K,handleDragStart:J,handleDragOver:lt,handleDragCancel:Ht,handleDragEnd:Ie,handleUndoDelete:wt,deleteThisOnly:ot,deleteFromNow:bt,deleteAll:xn,handleRemoveTodoFromUI:gi}=JO(e,ge,r,m,h,S,E,v),oi=D=>{me(D)},zi=D=>{console.log("Success:",D)},cs=()=>{wt()},zc=()=>{const D=document.querySelector(".memo-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},{showGanttChart:Pr,ganttData:n_,ganttPeriod:Oh,setGanttPeriod:i_,handleOpenGanttChart:r_,handleCloseGanttChart:a_,fetchGanttData:s_}=tD(ge),{dummySessions:l_,showDummyModal:o_,setShowDummyModal:Dh,showDummySQL:$c,setShowDummySQL:c_,handleCreateDummyData:u_,handleDeleteDummySession:d_,handleDeleteAllDummies:f_,handleRemoveDuplicates:h_}=WO(e,ge,Et),[iD,rD]=_.useState(!1),{memoContent:m_,setMemoContent:g_,isSavingMemo:y_,isEditingMemoInline:Dl,memoTextareaRef:p_,fetchMemoContent:v_,handleStartEditMemoInline:Ah,handleSaveMemoInline:b_,handleCancelEditMemoInline:__,handleMemoKeyDown:w_}=VO(e),{blocks:Nh,setBlocks:Ch,focusedBlockId:S_,setFocusedBlockId:x_,keyThoughtsHistory:T_,showKeyThoughtsHistory:E_,setShowKeyThoughtsHistory:Bc,fetchBlocks:j_,saveAllBlocks:O_,fetchKeyThoughtsHistory:Rh,restoreKeyThoughtsVersion:D_}=KO(e),{encouragementMessages:A_,showEncouragementModal:N_,setShowEncouragementModal:Mh,newEncouragementMessage:C_,setNewEncouragementMessage:R_,editingEncouragementId:M_,setEditingEncouragementId:k_,editingEncouragementText:U_,setEditingEncouragementText:z_,showEncouragementEmoji:$_,currentEncouragementMessage:B_,handleEncouragementClick:L_,fetchEncouragementMessages:H_,addEncouragementMessage:q_,updateEncouragementMessage:I_,deleteEncouragementMessage:Y_}=eD(e,ge),V_=async D=>{var L,Y;try{const W=Be(r),$=m.filter(Ne=>!Ne.parent_id&&Ne.section_type==="normal"),P=$.length>0?Math.max(...$.map(Ne=>Ne.order_index))+1:1,Ze=`temp_${Date.now()}_${Math.random()}`,Oe={id:Ze,text:D,completed:!1,order_index:P,date:W,visible_dates:[W],hidden_dates:[],section_type:"normal",user_id:(L=e==null?void 0:e.user)==null?void 0:L.id,_isOptimistic:!0};if(h(Ne=>[...Ne,Oe]),(Y=e==null?void 0:e.user)!=null&&Y.id&&ge){const{data:Ne,error:St}=await ge.from("todos").insert([{text:D,completed:!1,order_index:P,date:W,visible_dates:[W],hidden_dates:[],section_type:"normal",user_id:e.user.id}]).select();if(St)throw St;h(Pt=>Pt.map(Re=>Re.id===Ze?Ne[0]:Re))}else{const Ne=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");Ne.push({text:D,dateStr:W,timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(Ne))}}catch(W){console.error("Quick add error:",W);const $=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");$.push({text:D,dateStr:Be(r),timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify($))}},[$i,G_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Lc,kh]=_.useState({normal:"  ",routine:"  ",memo:" ","key-thoughts":"  "}),[Zr,Al]=_.useState([]),[K_,Uh]=_.useState(!1),[zh,$h]=_.useState(!1),[Bh,Lh]=_.useState({}),X_=YO(e),{sectionOrder:us,setSectionOrder:Hh,fetchSectionOrder:Q_,saveSectionOrder:qh,moveSectionLeft:Ih,moveSectionRight:Yh}=X_,Fr=_.useRef(null),[J_,P_]=_.useState(0),Hc=_.useRef(null),[ds,qc]=_.useState([]),[Z_,Vh]=_.useState(!1),Gh=D=>{try{localStorage.setItem("hiddenSections",JSON.stringify(D))}catch(L){console.error("   :",L)}},F_=()=>{try{const D=localStorage.getItem("hiddenSections");D&&qc(JSON.parse(D))}catch(D){console.error("   :",D)}},Ic=D=>{const L=[...ds,D];qc(L),Gh(L)},W_=D=>{const L=ds.filter(Y=>Y!==D);qc(L),Gh(L)},ew=()=>{const D=new Date(r);D.setDate(D.getDate()-1),a(D)},tw=()=>{const D=new Date(r);D.setDate(D.getDate()+1),a(D)},nw=D=>{const L=new Date(D.target.value+"T00:00:00");a(L)},iw=async()=>{var D;if((D=e==null?void 0:e.user)!=null&&D.id)try{const{data:L,error:Y}=await ge.from("user_settings").select("setting_value").eq("setting_key","section_titles").maybeSingle();if(Y){console.error("   :",Y.message);return}if(L&&L.setting_value){const W=JSON.parse(L.setting_value);kh($=>({...$,...W}))}}catch(L){console.error("   :",L.message)}},rw=async(D,L)=>{var W;if(!((W=e==null?void 0:e.user)!=null&&W.id))return;const Y={...Lc,[D]:L};kh(Y);try{const{data:$,error:P}=await ge.from("user_settings").select("id").eq("setting_key","section_titles").maybeSingle();if(P){console.error("   :",P.message);return}$?await ge.from("user_settings").update({setting_value:JSON.stringify(Y),updated_at:new Date().toISOString()}).eq("setting_key","section_titles"):await ge.from("user_settings").insert([{setting_key:"section_titles",setting_value:JSON.stringify(Y),user_id:e.user.id}])}catch($){console.error("   :",$.message)}},aw=async()=>{var D;if((D=e==null?void 0:e.user)!=null&&D.id)try{const{data:L,error:Y}=await ge.from("user_settings").select("setting_value").eq("setting_key","custom_sections").maybeSingle();if(Y){console.error("    :",Y.message);return}if(L&&L.setting_value){const W=JSON.parse(L.setting_value);Al(W)}}catch(L){console.error("    :",L.message)}},Yc=async D=>{var L;if((L=e==null?void 0:e.user)!=null&&L.id)try{const{data:Y,error:W}=await ge.from("user_settings").select("id").eq("setting_key","custom_sections").maybeSingle();if(W){console.error("    :",W.message);return}Y?await ge.from("user_settings").update({setting_value:JSON.stringify(D),updated_at:new Date().toISOString()}).eq("setting_key","custom_sections"):await ge.from("user_settings").insert([{setting_key:"custom_sections",setting_value:JSON.stringify(D),user_id:e.user.id}])}catch(Y){console.error("    :",Y.message)}},sw=({name:D,icon:L})=>{const Y={id:`custom-${Date.now()}`,name:D,icon:L},W=[...Zr,Y];Al(W),Yc(W);const $=[...us,Y.id];Hh($),qh($)},lw=async D=>{const L=Bh[D]||"";if(!(!L.trim()||zh)){if(!e){alert(" ");return}$h(!0);try{const Y=m.filter(Ne=>!Ne.parent_id&&Ne.section_type==="custom"&&Ne.section_id===D),W=Y.length>0?Math.max(...Y.map(Ne=>Ne.order_index))+1:1,$=Be(r),P={text:L.trim(),completed:!1,order_index:W,date:$,visible_dates:[$],hidden_dates:[],user_id:e.user.id,section_id:D,section_type:"custom"},{data:Ze,error:Oe}=await ge.from("todos").insert([P]).select();if(Oe)throw Oe;Ze&&Ze.length>0&&(h(Ne=>[...Ne,Ze[0]]),Lh(Ne=>({...Ne,[D]:""})))}catch(Y){console.error("  :",Y.message)}finally{$h(!1)}}},ow=async D=>{if(!confirm("  ?      ."))return;try{const{error:W}=await ge.from("todos").delete().eq("section_id",D);if(W){console.error("   :",W.message);return}}catch(W){console.error("   :",W.message);return}const L=Zr.filter(W=>W.id!==D);Al(L),Yc(L);const Y=us.filter(W=>W!==D);Hh(Y),qh(Y),h(W=>W.filter($=>$.section_id!==D))},cw=async(D,L)=>{try{const Y=Be(D),W=Be(L),{data:$,error:P}=await ge.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(P)throw P;const Ze=($||[]).filter(Oe=>Oe.stop_carryover_from&&Y>=Oe.stop_carryover_from?!1:Oe.visible_dates&&Array.isArray(Oe.visible_dates)&&Oe.visible_dates.length>0?Oe.visible_dates.includes(Y):Oe.date===Y);if(Ze.length===0)return;for(const Oe of Ze){let Ne=Oe.visible_dates||[Oe.date];if(Ne.includes(W))continue;const St=[...Ne,W].sort(),{error:Pt}=await ge.from("todos").update({visible_dates:St}).eq("id",Oe.id);Pt&&console.error(` ${Oe.id}  :`,Pt.message)}}catch(Y){console.error("   :",Y.message)}};_.useEffect(()=>{let D=null;const L=()=>{document.body.classList.add("is-scrolling"),D&&clearTimeout(D),D=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",L),()=>{window.removeEventListener("scroll",L),D&&clearTimeout(D)}},[]),_.useEffect(()=>{e&&(H_(),v_(),j_(),$e(),Q_(),iw(),aw(),F_())},[e]),_.useEffect(()=>{if(!Fr.current)return;const D=Fr.current,L=$i==="horizontal";let Y=!1,W=0,$=0,P=0;const Ze=pe=>pe.type.includes("touch")?L?pe.touches[0].pageX:pe.touches[0].pageY:L?pe.pageX:pe.pageY,Oe=pe=>{pe.target.closest(".section-block")||(Y=!0,W=Ze(pe),$=L?D.scrollLeft:D.scrollTop,D.style.transition="none",D.style.transform=L?"translateX(0)":"translateY(0)",P=0)},Ne=()=>{Y&&P!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=L?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",P=0},300)),Y=!1},St=()=>{P!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform=L?"translateX(0)":"translateY(0)",setTimeout(()=>{D.style.transition="none",P=0},300)),Y=!1},Pt=pe=>{if(!Y)return;pe.preventDefault();const Me=(Ze(pe)-W)*1.5,Se=$-Me,We=L?D.scrollWidth-D.clientWidth:D.scrollHeight-D.clientHeight;if(Se<0){const At=-Se;P=Math.min(At*.3,100),L?(D.scrollLeft=0,D.style.transform=`translateX(${P}px)`):(D.scrollTop=0,D.style.transform=`translateY(${P}px)`)}else if(Se>We){const At=Se-We;P=-Math.min(At*.3,100),L?(D.scrollLeft=We,D.style.transform=`translateX(${P}px)`):(D.scrollTop=We,D.style.transform=`translateY(${P}px)`)}else P=0,D.style.transform=L?"translateX(0)":"translateY(0)",L?D.scrollLeft=Se:D.scrollTop=Se},Re=pe=>{L&&pe.target.closest(".section-block")&&pe.deltaX!==0&&pe.preventDefault()};return D.addEventListener("mousedown",Oe),document.addEventListener("mouseup",St),document.addEventListener("mouseleave",Ne),D.addEventListener("mousemove",Pt),D.addEventListener("touchstart",Oe,{passive:!0}),D.addEventListener("touchmove",Pt,{passive:!1}),D.addEventListener("touchend",St),D.addEventListener("touchcancel",St),D.addEventListener("wheel",Re,{passive:!1}),()=>{D.removeEventListener("mousedown",Oe),document.removeEventListener("mouseup",St),document.removeEventListener("mouseleave",Ne),D.removeEventListener("mousemove",Pt),D.removeEventListener("touchstart",Oe),D.removeEventListener("touchmove",Pt),D.removeEventListener("touchend",St),D.removeEventListener("touchcancel",St),D.removeEventListener("wheel",Re)}},[$i,m,S]),_.useEffect(()=>{if($i!=="horizontal"||!Fr.current)return;const D=Fr.current,L=()=>{const Y=D.querySelectorAll(".section-block");if(Y.length===0)return;const W=D.getBoundingClientRect(),$=W.left+W.width/2;let P=0,Ze=1/0;Y.forEach((Oe,Ne)=>{const St=Oe.getBoundingClientRect(),Pt=St.left+St.width/2,Re=Math.abs(Pt-$);Re<Ze&&(Ze=Re,P=Ne)}),P_(P)};return D.addEventListener("scroll",L),L(),()=>D.removeEventListener("scroll",L)},[$i,m,S]),_.useEffect(()=>{if(!Hc.current)return;const D=Hc.current;let L=!1,Y=0,W=0,$=0;const P=St=>{St.target.closest(".section-block")||(L=!0,Y=St.pageY,W=D.scrollTop,D.style.transition="none",D.style.transform="translateY(0)",$=0)},Ze=()=>{L&&$!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",$=0},300)),L=!1},Oe=()=>{$!==0&&(D.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",D.style.transform="translateY(0)",setTimeout(()=>{D.style.transition="none",$=0},300)),L=!1},Ne=St=>{if(!L)return;St.preventDefault();const Re=(St.pageY-Y)*1.5,pe=W-Re,ft=D.scrollHeight-D.clientHeight;if(pe<0){const Me=-pe;$=Math.min(Me*.3,100),D.scrollTop=0,D.style.transform=`translateY(${$}px)`}else if(pe>ft){const Me=pe-ft;$=-Math.min(Me*.3,100),D.scrollTop=ft,D.style.transform=`translateY(${$}px)`}else $=0,D.style.transform="translateY(0)",D.scrollTop=pe};return D.addEventListener("mousedown",P),document.addEventListener("mouseup",Oe),document.addEventListener("mouseleave",Ze),D.addEventListener("mousemove",Ne),()=>{D.removeEventListener("mousedown",P),document.removeEventListener("mouseup",Oe),document.removeEventListener("mouseleave",Ze),D.removeEventListener("mousemove",Ne)}},[m,S]),_.useEffect(()=>{Pr&&s_()},[Oh]),_.useEffect(()=>{const D=async()=>{const Y=new Date,W=new Date(Y);W.setHours(24,0,0,0);const $=W.getTime()-Y.getTime();return setTimeout(async()=>{const Ze=new Date(Y),Oe=new Date(Y);Oe.setDate(Oe.getDate()+1),await cw(Ze,Oe),await Bt(),a(new Date),D()},$)},L=D();return()=>clearTimeout(L)},[]),_.useEffect(()=>{(async()=>{var Oe;const W=Be(r),P=Be(new Date);W===P&&((Oe=e==null?void 0:e.user)!=null&&Oe.id)&&await ae(W),await Et()})();const L=Be(r),Y=ge.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${L}`},W=>{W.eventType==="INSERT"?h($=>$.some(P=>P.id===W.new.id)?$:[...$,W.new]):W.eventType==="UPDATE"?h($=>f.current.has(W.new.id)?$:$.map(P=>P.id===W.new.id?W.new:P)):W.eventType==="DELETE"&&h($=>$.filter(P=>P.id!==W.old.id))}).subscribe(W=>{});return()=>{ge.removeChannel(Y)}},[r,e]),_.useEffect(()=>{if(je){const D=window.scrollY,L=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${D}px`,document.body.style.left="0",document.body.style.right="0",L>0&&(document.body.style.paddingRight=`${L}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,D)}}},[je]);const Kh=IO({authLoading:t,session:e,handleGoogleLogin:n});return Kh||(o==="keyThoughtsViewer"?c.jsx(UO,{blocks:Nh,setBlocks:Ch,onSave:O_,onClose:()=>u("home")}):c.jsxs("div",{className:`app ${je?"dragging-active":""}`,children:[c.jsx(EO,{showSidebar:s,setShowSidebar:l,session:e,viewMode:$i,setViewMode:G_,onOpenRoutine:ie,onOpenMemo:zc,onScrollToKeyThoughts:()=>{const D=document.querySelector(".key-thoughts-section");D&&D.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:r_,onOpenEncouragementModal:()=>Mh(!0),onOpenDummyModal:()=>Dh(!0),onOpenAddSection:()=>Uh(!0),onOpenHiddenSections:()=>Vh(!0),onLogout:i}),c.jsxs("div",{className:`container ${$i==="horizontal"?"container-wide":""}`,children:[c.jsx(OO,{showSidebar:s,setShowSidebar:l,selectedDate:r,onDateChange:nw,onPrevDay:ew,onNextDay:tw,showEncouragementEmoji:$_,currentEncouragementMessage:B_,onEncouragementClick:L_,setSelectedDate:a,onQuickAdd:V_}),c.jsxs("div",{className:"content-scrollable",ref:Hc,children:[c.jsxs(Sh,{sensors:d,collisionDetection:vh,onDragStart:J,onDragOver:lt,onDragEnd:Ie,onDragCancel:Ht,measuring:{droppable:{strategy:Yr.Always}},children:[c.jsx("div",{className:"todo-list",children:be?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const D=m.filter($=>!$.parent_id&&$.section_type==="routine").sort(($,P)=>$.order_index-P.order_index),L=m.filter($=>!$.parent_id&&$.section_type==="pending_routine").sort(($,P)=>$.order_index-P.order_index),Y=m.filter($=>!$.parent_id&&$.section_type==="normal").sort(($,P)=>$.order_index-P.order_index),W=[...D.map($=>$.id),...L.map($=>$.id),...Y.map($=>$.id),...Zr.flatMap($=>m.filter(P=>!P.parent_id&&P.section_type==="custom"&&P.section_id===$.id).map(P=>P.id))];return c.jsx(Dr,{items:W,strategy:Or,children:c.jsx("div",{ref:Fr,className:`sections-container ${$i==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:us.filter($=>!ds.includes($)).map(($,P)=>{const Ze=us.filter(Re=>!ds.includes(Re)),Oe=Ze.indexOf($),Ne=Oe===0,St=Oe===Ze.length-1,Pt=[...Ne?[]:[{icon:"",label:" ",onClick:()=>Ih($)}],...St?[]:[{icon:"",label:" ",onClick:()=>Yh($)}],{icon:"",label:"",onClick:()=>Ic($)}];if($==="memo"){const Re=[...Pt,...Dl?[]:[{icon:"",label:"",onClick:Ah}]];return c.jsx("div",{children:c.jsxs(RO,{title:"  ",className:"memo-section section-block",content:m_,setContent:g_,isEditing:Dl,isSaving:y_,textareaRef:p_,onStartEdit:Ah,onSave:b_,onCancel:__,onKeyDown:w_,placeholder:" ...",emptyMessage:" ",settingsMenuItems:Re,children:[!Dl&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>c_(!$c),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:pe=>{pe.currentTarget.style.background="rgba(255, 255, 255, 0.1)",pe.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:pe=>{pe.currentTarget.style.background="rgba(255, 255, 255, 0.05)",pe.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:$c?"":""})]})}),$c&&!Dl&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const pe=new Date,ft=Nl=>{const yr=new Date(pe);return yr.setDate(yr.getDate()+Nl),yr.toISOString().split("T")[0]},Me=Nl=>{const yr=new Date(pe);return yr.setDate(yr.getDate()+Nl),yr.getDate()},Se=Date.now(),We=Me(-2),At=Me(-1),Tn=Me(0),Vc=Me(1),Xh=Me(2),En=ft(-2),mn=ft(-1),an=ft(0),Gc=ft(1),Qh=ft(2),uw=`--         (${an} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${We}--', '${En}', false, '${En}T09:00:00+09:00', 1001),
  ('[DUMMY-${Se}] : ${We}-${We}', '${En}', true, '${En}T09:10:00+09:00', 1002),
  ('[DUMMY-${Se}] : ${We}-${At}', '${En}', true, '${En}T09:20:00+09:00', 1003),
  ('[DUMMY-${Se}] : ${We}-${Tn}', '${En}', true, '${En}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${At}--', '${mn}', false, '${mn}T10:00:00+09:00', 1005),
  ('[DUMMY-${Se}] : ${At}-${At}', '${mn}', true, '${mn}T10:10:00+09:00', 1006),
  ('[DUMMY-${Se}] : ${At}-${Tn}', '${mn}', true, '${mn}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${Tn}-', '${an}', false, '${an}T11:00:00+09:00', 1008),
  ('[DUMMY-${Se}] : ${Tn}-${Tn}', '${an}', true, '${an}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${We}-${At}-', '${mn}', false, '${En}T14:00:00+09:00', 1010),
  ('[DUMMY-${Se}] : ${We}-${At}-${At}', '${mn}', true, '${En}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${At}-${Tn}-', '${an}', false, '${mn}T15:00:00+09:00', 1012),
  ('[DUMMY-${Se}] : ${At}-${Tn}-${Tn}', '${an}', true, '${mn}T15:10:00+09:00', 1013),
  ('[DUMMY-${Se}] : ${We}-${Tn}-', '${an}', false, '${En}T15:00:00+09:00', 1014),
  ('[DUMMY-${Se}] : ${We}-${Tn}-${Tn}', '${an}', true, '${En}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${Tn}-${Vc}-', '${Gc}', false, '${an}T16:00:00+09:00', 1016),
  ('[DUMMY-${Se}] : ${At}-${Vc}-', '${Gc}', false, '${mn}T16:00:00+09:00', 1017),
  ('[DUMMY-${Se}] : ${We}-${Vc}-', '${Gc}', false, '${En}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Se}] : ${Tn}-${Xh}-', '${Qh}', false, '${an}T17:00:00+09:00', 1019),
  ('[DUMMY-${Se}] : ${At}-${Xh}-', '${Qh}', false, '${mn}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Se}] : ${We}--1', '[DUMMY-${Se}] : ${We}--2', '${mn}T12:00:00+09:00', '${mn}'
FROM todos WHERE text = '[DUMMY-${Se}] : ${We}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Se}] : ${We}--2', '[DUMMY-${Se}] : ${We}--', '${an}T12:00:00+09:00', '${an}'
FROM todos WHERE text = '[DUMMY-${Se}] : ${We}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Se}] : ${At}--1', '[DUMMY-${Se}] : ${At}--', '${an}T13:00:00+09:00', '${an}'
FROM todos WHERE text = '[DUMMY-${Se}] : ${At}--' LIMIT 1;`,Wr=document.createElement("textarea");Wr.value=uw,Wr.style.position="fixed",Wr.style.opacity="0",document.body.appendChild(Wr),Wr.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(Wr)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const pe=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,ft=document.createElement("textarea");ft.value=pe,ft.style.position="fixed",ft.style.opacity="0",document.body.appendChild(ft),ft.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ft)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo")}else{if($==="routine")return c.jsx("div",{children:c.jsxs(Yu,{title:" ",className:"routine-section section-block",inputValue:Ae,setInputValue:fe,onAddTodo:Sn,isAdding:De,placeholder:"   ...",settingsMenuItems:Pt,children:[D.length>0&&c.jsx(Dr,{items:D.map(Re=>Re.id),strategy:Or,children:D.map((Re,pe)=>{const ft=m.filter(Me=>Me.parent_id===Re.id);return c.jsx(fa,{todo:Re,index:pe,onToggle:rn,onDelete:Bn,onEdit:K,formatDate:Hi,formatDateOnly:Hn,isFocused:Fe===Re.id,onFocus:oi,onAddSubTodo:Ln,subtodos:ft,level:0,onCreateRoutine:I,routines:S,onShowRoutineHistory:he,onOpenRoutineSetupModal:X,onOpenHistoryModal:y,currentPageDate:Be(r),onRemoveFromUI:gi,showSuccessMessage:zi,activeId:Lt,overId:fn},Re.id)})}),D.length>0&&L.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),L.length>0&&c.jsx(Dr,{items:L.map(Re=>Re.id),strategy:Or,children:L.map((Re,pe)=>{const ft=m.filter(Me=>Me.parent_id===Re.id);return c.jsx(fa,{todo:Re,index:pe,onToggle:rn,onDelete:Bn,onEdit:K,formatDate:Hi,formatDateOnly:Hn,isFocused:Fe===Re.id,onFocus:oi,onAddSubTodo:Ln,subtodos:ft,level:0,onCreateRoutine:I,routines:S,onShowRoutineHistory:he,onOpenRoutineSetupModal:X,onOpenHistoryModal:y,currentPageDate:Be(r),isPendingRoutine:!0,onRemoveFromUI:gi,showSuccessMessage:zi,activeId:Lt,overId:fn},Re.id)})})]})},"routine");if($==="normal"){const Re=[...Ne?[]:[{icon:"",label:" ",onClick:()=>Ih($)}],...St?[]:[{icon:"",label:" ",onClick:()=>Yh($)}],{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&Ic("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return c.jsx("div",{children:c.jsx(Yu,{title:Lc.normal,className:"normal-section section-block",inputValue:Ce,setInputValue:ye,onAddTodo:hn,isAdding:De,placeholder:"   ...",editable:!0,onTitleChange:pe=>rw("normal",pe),settingsMenuItems:Re,children:Y.length>0&&c.jsx(Dr,{items:Y.map(pe=>pe.id),strategy:Or,children:Y.map((pe,ft)=>{const Me=m.filter(We=>We.parent_id===pe.id),Se=Be(r);return c.jsx(fa,{todo:pe,index:ft,onToggle:rn,onDelete:Bn,onEdit:K,formatDate:Hi,formatDateOnly:Hn,isFocused:Fe===pe.id,onFocus:oi,onAddSubTodo:Ln,subtodos:Me,level:0,onCreateRoutine:I,routines:S,onShowRoutineHistory:he,onOpenRoutineSetupModal:X,onOpenHistoryModal:y,currentPageDate:Se,onRemoveFromUI:gi,showSuccessMessage:zi,activeId:Lt,overId:fn},pe.id)})})})},"normal")}else if($==="key-thoughts"){const Re=[...Pt,{icon:"",label:"",onClick:()=>u("keyThoughtsViewer")},{icon:"",label:"",onClick:()=>{Rh(),Bc(!0)}}];return c.jsx("div",{children:c.jsx(MO,{blocks:Nh,setBlocks:Ch,focusedBlockId:S_,setFocusedBlockId:x_,onOpenViewer:()=>u("keyThoughtsViewer"),onShowHistory:()=>{Rh(),Bc(!0)},settingsMenuItems:Re})},"key-thoughts")}else{const Re=Zr.find(Me=>Me.id===$);if(!Re)return null;const pe=m.filter(Me=>!Me.parent_id&&Me.section_type==="custom"&&Me.section_id===$).sort((Me,Se)=>Me.order_index-Se.order_index),ft=[{icon:"",label:"",onClick:()=>Ic($)},{icon:"",label:"",onClick:()=>ow($)}];return c.jsx("div",{children:c.jsx(Yu,{title:`${Re.icon} ${Re.name}`,className:"custom-section section-block",inputValue:Bh[$]||"",setInputValue:Me=>Lh(Se=>({...Se,[$]:Me})),onAddTodo:()=>lw($),isAdding:zh,placeholder:`${Re.name}   ...`,editable:!0,onTitleChange:Me=>{const Se=Zr.map(We=>We.id===$?{...We,name:Me}:We);Al(Se),Yc(Se)},settingsMenuItems:ft,children:pe.length>0&&c.jsx(Dr,{items:pe.map(Me=>Me.id),strategy:Or,children:pe.map((Me,Se)=>{const We=m.filter(At=>At.parent_id===Me.id);return c.jsx(fa,{todo:Me,index:Se,onToggle:rn,onDelete:Bn,onEdit:K,formatDate:Hi,formatDateOnly:Hn,isFocused:Fe===Me.id,onFocus:oi,onAddSubTodo:Ln,subtodos:We,level:0,onCreateRoutine:I,routines:S,onShowRoutineHistory:he,onOpenRoutineSetupModal:X,onOpenHistoryModal:y,currentPageDate:Be(r),onRemoveFromUI:gi,showSuccessMessage:zi,activeId:Lt,overId:fn},Me.id)})})})},$)}}})})})})()}),c.jsx(xh,{children:Lt?(()=>{const D=m.find(Y=>Y.id===Lt);if(!D)return null;const L=m.filter(Y=>Y.parent_id===D.id);return c.jsx("div",{className:"drag-overlay-todo",children:c.jsx(fa,{todo:D,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:Hi,formatDateOnly:Hn,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:L,level:0,onCreateRoutine:()=>{},routines:S,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:Be(r),onRemoveFromUI:()=>{},showSuccessMessage:()=>{}})})})():null})]}),c.jsx(DO,{viewMode:$i,currentSectionIndex:J_,sectionsContainerRef:Fr})]}),Ke&&c.jsx(dy,{message:"",onUndo:wt}),nn&&c.jsx(dy,{message:Fn,onUndo:Pe?cs:null,variant:"success"}),Dt&&Rt&&c.jsx(fy,{todo:Rt,onClose:()=>Tt(!1),onDeleteThisOnly:ot,onDeleteFromNow:bt,onDeleteAll:xn}),He&&ze&&c.jsx(fy,{todo:ze,onClose:()=>qe(!1),onDeleteThisOnly:ne,onDeleteFromNow:U,onDeleteAll:se}),x&&v&&(()=>{const D=v,L=D.visible_dates&&D.visible_dates.length>0?D.visible_dates:[D.date],Y=L[0],W=L.map(P=>({id:`${D.id}-${P}`,date:P})),$=p[D.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:w,children:c.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:w,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:Hi(D.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Hn(Y?new Date(Y+"T00:00:00"):new Date(D.date+"T00:00:00"))})]}),W.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:W.map((P,Ze)=>{const Oe=P.date===D.date,Ne=Hn(new Date(P.date+"T00:00:00"));return c.jsxs("span",{children:[Ze>0&&"  ",c.jsxs("span",{style:Oe?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ne.split("(")[0],Oe?"()":""]})]},P.id)})})]}),(()=>{const P=new Date(D.created_at).toISOString().split("T")[0],Ze=D.date;return P!==Ze&&W.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Hn(new Date(D.date+"T00:00:00"))})]}):null})(),$.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",$.length,")"]}),$.map(P=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[Hi(P.changed_at),P.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Hn(new Date(P.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:Ze=>{Ze.stopPropagation(),T(P.id)},children:g.includes(P.id)?"":""})]}),g.includes(P.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:P.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:P.new_text})]})]})]},P.id))]})]})})]})})})(),st&&v&&(()=>{const D=v,L=S.find(Y=>Y.id===D.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:re,children:c.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:re,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:L&&!dt?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:zr.filter(Y=>L.days.includes(Y.key)).map(Y=>c.jsx("span",{className:"routine-day-badge",children:Y.label},Y.key))}),L.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",L.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:Y=>{Y.stopPropagation(),L&&(nt(L.days),q(L.time_slot||""),Xe(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),L&&D&&(await I(D.id,D.text,[],null,!0),re())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:dt?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:zr.map(Y=>c.jsx("button",{onClick:W=>{W.stopPropagation(),handleToggleRoutineDayInModal(Y.key)},className:`day-button-inline ${Gt.includes(Y.key)?"selected":""}`,children:Y.label},Y.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(Eh,{value:H,onChange:Y=>q(Y)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async Y=>{Y.stopPropagation(),D&&(dt&&L?await I(D.id,D.text,Gt,L.id,!1,H):await I(D.id,D.text,Gt,null,!1,H),re())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:Y=>{Y.stopPropagation(),re()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx(AO,{showRoutineModal:j,onClose:oe,routineInput:A,setRoutineInput:O,isAddingRoutine:te,selectedDays:N,onToggleDay:Ee,selectedTimeSlot:V,setSelectedTimeSlot:Z,onAddRoutine:Ge,routines:S,editingRoutineId:ce,editingRoutineText:C,setEditingRoutineText:B,editingRoutineDays:vt,onToggleEditDay:ee,onStartEdit:R,onSaveEdit:M,onCancelEdit:z,onDelete:G,onShowHistory:he}),c.jsx(CO,{showRoutineHistory:Q,onClose:F,selectedRoutine:de,routineHistoryData:ve}),c.jsx(zO,{showDummyModal:o_,onClose:()=>Dh(!1),onCreateDummyData:u_,onRemoveDuplicates:h_,dummySessions:l_,onDeleteDummySession:d_,onDeleteAllDummies:f_,formatDate:Hi}),c.jsx($O,{showGanttChart:Pr,onClose:a_,ganttData:n_,ganttPeriod:Oh,setGanttPeriod:i_,formatDateOnly:Hn}),c.jsx(BO,{showEncouragementModal:N_,onClose:()=>Mh(!1),encouragementMessages:A_,newEncouragementMessage:C_,setNewEncouragementMessage:R_,onAddEncouragementMessage:q_,editingEncouragementId:M_,editingEncouragementText:U_,setEditingEncouragementId:k_,setEditingEncouragementText:z_,onUpdateEncouragementMessage:I_,onDeleteEncouragementMessage:Y_}),c.jsx(HO,{isOpen:K_,onClose:()=>Uh(!1),onAddSection:sw}),c.jsx(qO,{show:Z_,onClose:()=>Vh(!1),hiddenSections:ds,sectionOrder:us,sectionTitles:Lc,customSections:Zr,onShowSection:W_}),c.jsx(LO,{showKeyThoughtsHistory:E_,onClose:()=>Bc(!1),keyThoughtsHistory:T_,onRestoreVersion:D_})]})]}))}l1.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(nD,{})}));
