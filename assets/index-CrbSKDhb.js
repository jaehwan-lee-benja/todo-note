function Y_(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function I_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ay(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),n}var ry={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.transitional.element"),G_=Symbol.for("react.fragment");function iy(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:V_,type:e,key:a,ref:t!==void 0?t:null,props:n}}vc.Fragment=G_;vc.jsx=iy;vc.jsxs=iy;ry.exports=vc;var c=ry.exports,sy={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.transitional.element"),K_=Symbol.for("react.portal"),X_=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),Q_=Symbol.for("react.profiler"),P_=Symbol.for("react.consumer"),Z_=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),ew=Symbol.for("react.memo"),ly=Symbol.for("react.lazy"),tw=Symbol.for("react.activity"),Lh=Symbol.iterator;function nw(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cy=Object.assign,uy={};function Zi(e,t,n){this.props=e,this.context=t,this.refs=uy,this.updater=n||oy}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dy(){}dy.prototype=Zi.prototype;function df(e,t,n){this.props=e,this.context=t,this.refs=uy,this.updater=n||oy}var ff=df.prototype=new dy;ff.constructor=df;cy(ff,Zi.prototype);ff.isPureReactComponent=!0;var Hh=Array.isArray;function Ju(){}var ut={H:null,A:null,T:null,S:null},fy=Object.prototype.hasOwnProperty;function hf(e,t,n){var a=n.ref;return{$$typeof:uf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function aw(e,t){return hf(e.type,t,e.props)}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===uf}function rw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qh=/\/+/g;function Zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rw(""+e.key):t.toString(36)}function iw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ju,Ju):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function oi(e,t,n,a,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case uf:case K_:s=!0;break;case ly:return s=e._init,oi(s(e._payload),t,n,a,r)}}if(s)return r=r(e),s=a===""?"."+Zc(e,0):a,Hh(r)?(n="",s!=null&&(n=s.replace(qh,"$&/")+"/"),oi(r,t,n,"",function(u){return u})):r!=null&&(mf(r)&&(r=aw(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(qh,"$&/")+"/")+s)),t.push(r)),1;s=0;var l=a===""?".":a+":";if(Hh(e))for(var o=0;o<e.length;o++)a=e[o],i=l+Zc(a,o),s+=oi(a,t,n,i,r);else if(o=nw(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=l+Zc(a,o++),s+=oi(a,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return oi(iw(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function $l(e,t,n){if(e==null)return e;var a=[],r=0;return oi(e,a,"","",function(i){return t.call(n,i,r++)}),a}function sw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},lw={map:$l,forEach:function(e,t,n){$l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $l(e,function(){t++}),t},toArray:function(e){return $l(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Activity=tw;pe.Children=lw;pe.Component=Zi;pe.Fragment=X_;pe.Profiler=Q_;pe.PureComponent=df;pe.StrictMode=J_;pe.Suspense=W_;pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut;pe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ut.H.useMemoCache(e)}};pe.cache=function(e){return function(){return e.apply(null,arguments)}};pe.cacheSignal=function(){return null};pe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=cy({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!fy.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];a.children=s}return hf(e.type,r,a)};pe.createContext=function(e){return e={$$typeof:Z_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:P_,_context:e},e};pe.createElement=function(e,t,n){var a,r={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)fy.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)r[a]===void 0&&(r[a]=s[a]);return hf(e,i,r)};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:F_,render:e}};pe.isValidElement=mf;pe.lazy=function(e){return{$$typeof:ly,_payload:{_status:-1,_result:e},_init:sw}};pe.memo=function(e,t){return{$$typeof:ew,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=ut.T,n={};ut.T=n;try{var a=e(),r=ut.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Ju,Yh)}catch(i){Yh(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),ut.T=t}};pe.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()};pe.use=function(e){return ut.H.use(e)};pe.useActionState=function(e,t,n){return ut.H.useActionState(e,t,n)};pe.useCallback=function(e,t){return ut.H.useCallback(e,t)};pe.useContext=function(e){return ut.H.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e,t){return ut.H.useDeferredValue(e,t)};pe.useEffect=function(e,t){return ut.H.useEffect(e,t)};pe.useEffectEvent=function(e){return ut.H.useEffectEvent(e)};pe.useId=function(){return ut.H.useId()};pe.useImperativeHandle=function(e,t,n){return ut.H.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return ut.H.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return ut.H.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return ut.H.useMemo(e,t)};pe.useOptimistic=function(e,t){return ut.H.useOptimistic(e,t)};pe.useReducer=function(e,t,n){return ut.H.useReducer(e,t,n)};pe.useRef=function(e){return ut.H.useRef(e)};pe.useState=function(e){return ut.H.useState(e)};pe.useSyncExternalStore=function(e,t,n){return ut.H.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return ut.H.useTransition()};pe.version="19.2.0";sy.exports=pe;var _=sy.exports;const st=I_(_);var hy={exports:{}},pc={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,$){var F=C.length;C.push($);e:for(;0<F;){var he=F-1>>>1,Se=C[he];if(0<r(Se,$))C[he]=$,C[F]=Se,F=he;else break e}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var $=C[0],F=C.pop();if(F!==$){C[0]=F;e:for(var he=0,Se=C.length,mt=Se>>>1;he<mt;){var ye=2*(he+1)-1,He=C[ye],Te=ye+1,De=C[Te];if(0>r(He,F))Te<Se&&0>r(De,He)?(C[he]=De,C[Te]=F,he=Te):(C[he]=He,C[ye]=F,he=ye);else if(Te<Se&&0>r(De,F))C[he]=De,C[Te]=F,he=Te;else break e}}return $}function r(C,$){var F=C.sortIndex-$.sortIndex;return F!==0?F:C.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],u=[],d=1,h=null,m=3,f=!1,p=!1,b=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(C){for(var $=n(u);$!==null;){if($.callback===null)a(u);else if($.startTime<=C)a(u),$.sortIndex=$.expirationTime,t(o,$);else break;$=n(u)}}function T(C){if(b=!1,w(C),!p)if(n(o)!==null)p=!0,E||(E=!0,J());else{var $=n(u);$!==null&&se(T,$.startTime-C)}}var E=!1,S=-1,j=5,D=-1;function O(){return x?!0:!(e.unstable_now()-D<j)}function R(){if(x=!1,E){var C=e.unstable_now();D=C;var $=!0;try{e:{p=!1,b&&(b=!1,g(S),S=-1),f=!0;var F=m;try{t:{for(w(C),h=n(o);h!==null&&!(h.expirationTime>C&&O());){var he=h.callback;if(typeof he=="function"){h.callback=null,m=h.priorityLevel;var Se=he(h.expirationTime<=C);if(C=e.unstable_now(),typeof Se=="function"){h.callback=Se,w(C),$=!0;break t}h===n(o)&&a(o),w(C)}else a(o);h=n(o)}if(h!==null)$=!0;else{var mt=n(u);mt!==null&&se(T,mt.startTime-C),$=!1}}break e}finally{h=null,m=F,f=!1}$=void 0}}finally{$?J():E=!1}}}var J;if(typeof y=="function")J=function(){y(R)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=R,J=function(){re.postMessage(null)}}else J=function(){v(R,0)};function se(C,$){S=v(function(){C(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var F=m;m=$;try{return C()}finally{m=F}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=m;m=C;try{return $()}finally{m=F}},e.unstable_scheduleCallback=function(C,$,F){var he=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?he+F:he):F=he,C){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=F+Se,C={id:d++,callback:$,priorityLevel:C,startTime:F,expirationTime:Se,sortIndex:-1},F>he?(C.sortIndex=F,t(u,C),n(o)===null&&C===n(u)&&(b?(g(S),S=-1):b=!0,se(T,F-he))):(C.sortIndex=Se,t(o,C),p||f||(p=!0,E||(E=!0,J()))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var $=m;return function(){var F=m;m=$;try{return C.apply(this,arguments)}finally{m=F}}}})(gy);my.exports=gy;var ow=my.exports,yy={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=_;function vy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var nn={d:{f:Ma,r:function(){throw Error(vy(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},uw=Symbol.for("react.portal");function dw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ds=cw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nn;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(vy(299));return dw(e,t,null,n)};an.flushSync=function(e){var t=Ds.T,n=nn.p;try{if(Ds.T=null,nn.p=2,e)return e()}finally{Ds.T=t,nn.p=n,nn.d.f()}};an.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,nn.d.C(e,t))};an.prefetchDNS=function(e){typeof e=="string"&&nn.d.D(e)};an.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=bc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?nn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:i}):n==="script"&&nn.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};an.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=bc(t.as,t.crossOrigin);nn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&nn.d.M(e)};an.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=bc(n,t.crossOrigin);nn.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};an.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=bc(t.as,t.crossOrigin);nn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else nn.d.m(e)};an.requestFormReset=function(e){nn.d.r(e)};an.unstable_batchedUpdates=function(e,t){return e(t)};an.useFormState=function(e,t,n){return Ds.H.useFormState(e,t,n)};an.useFormStatus=function(){return Ds.H.useHostTransitionStatus()};an.version="19.2.0";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(e){console.error(e)}}py(),yy.exports=an;var hi=yy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=ow,by=_,fw=hi;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(hl(e)!==e)throw Error(U(188))}function hw(e){var t=e.alternate;if(!t){if(t=hl(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ih(r),e;if(i===a)return Ih(r),t;i=i.sibling}throw Error(U(188))}if(n.return!==a.return)n=r,a=i;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=i;break}if(l===a){s=!0,a=r,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,a=r;break}if(l===a){s=!0,a=i,n=r;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==a)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function xy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xy(e),t!==null)return t;e=e.sibling}return null}var dt=Object.assign,mw=Symbol.for("react.element"),Bl=Symbol.for("react.transitional.element"),ws=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Ty=Symbol.for("react.consumer"),va=Symbol.for("react.context"),gf=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),Fu=Symbol.for("react.activity"),gw=Symbol.for("react.memo_cache_sentinel"),Vh=Symbol.iterator;function hs(e){return e===null||typeof e!="object"?null:(e=Vh&&e[Vh]||e["@@iterator"],typeof e=="function"?e:null)}var yw=Symbol.for("react.client.reference");function Wu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case Qu:return"Profiler";case Ey:return"StrictMode";case Pu:return"Suspense";case Zu:return"SuspenseList";case Fu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ws:return"Portal";case va:return e.displayName||"Context";case Ty:return(e._context.displayName||"Context")+".Consumer";case gf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yf:return t=e.displayName||null,t!==null?t:Wu(e.type)||"Memo";case za:t=e._payload,e=e._init;try{return Wu(e(t))}catch{}}return null}var Ss=Array.isArray,ge=by.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve=fw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ar={pending:!1,data:null,method:null,action:null},ed=[],gi=-1;function ra(e){return{current:e}}function Lt(e){0>gi||(e.current=ed[gi],ed[gi]=null,gi--)}function lt(e,t){gi++,ed[gi]=e.current,e.current=t}var aa=ra(null),Js=ra(null),Pa=ra(null),Do=ra(null);function No(e,t){switch(lt(Pa,t),lt(Js,e),lt(aa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pm(t),e=Gp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Lt(aa),lt(aa,e)}function zi(){Lt(aa),Lt(Js),Lt(Pa)}function td(e){e.memoizedState!==null&&lt(Do,e);var t=aa.current,n=Gp(t,e.type);t!==n&&(lt(Js,e),lt(aa,n))}function Ao(e){Js.current===e&&(Lt(aa),Lt(Js)),Do.current===e&&(Lt(Do),il._currentValue=Ar)}var Fc,Gh;function wr(e){if(Fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||"",Gh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fc+e+Gh}var Wc=!1;function eu(e,t){if(!e||Wc)return"";Wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var m=f}Reflect.construct(e,[],h)}else{try{h.call()}catch(f){m=f}e.call(h.prototype)}}else{try{throw Error()}catch(f){m=f}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&m&&typeof f.stack=="string")return[f.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),s=i[0],l=i[1];if(s&&l){var o=s.split(`
`),u=l.split(`
`);for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===u.length)for(a=o.length-1,r=u.length-1;1<=a&&0<=r&&o[a]!==u[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==u[r]){if(a!==1||r!==1)do if(a--,r--,0>r||o[a]!==u[r]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=r);break}}}finally{Wc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?wr(n):""}function vw(e,t){switch(e.tag){case 26:case 27:case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return e.child!==t&&t!==null?wr("Suspense Fallback"):wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return eu(e.type,!1);case 11:return eu(e.type.render,!1);case 1:return eu(e.type,!0);case 31:return wr("Activity");default:return""}}function Kh(e){try{var t="",n=null;do t+=vw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var nd=Object.prototype.hasOwnProperty,vf=Mt.unstable_scheduleCallback,tu=Mt.unstable_cancelCallback,pw=Mt.unstable_shouldYield,bw=Mt.unstable_requestPaint,xn=Mt.unstable_now,_w=Mt.unstable_getCurrentPriorityLevel,jy=Mt.unstable_ImmediatePriority,Oy=Mt.unstable_UserBlockingPriority,Co=Mt.unstable_NormalPriority,ww=Mt.unstable_LowPriority,Dy=Mt.unstable_IdlePriority,Sw=Mt.log,xw=Mt.unstable_setDisableYieldValue,ml=null,En=null;function Ga(e){if(typeof Sw=="function"&&xw(e),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(ml,e)}catch{}}var Tn=Math.clz32?Math.clz32:jw,Ew=Math.log,Tw=Math.LN2;function jw(e){return e>>>=0,e===0?32:31-(Ew(e)/Tw|0)|0}var Ll=256,Hl=262144,ql=4194304;function Sr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _c(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?r=Sr(a):(s&=l,s!==0?r=Sr(s):n||(n=l&~e,n!==0&&(r=Sr(n))))):(l=a&~i,l!==0?r=Sr(l):s!==0?r=Sr(s):n||(n=a&~e,n!==0&&(r=Sr(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function gl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ow(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ny(){var e=ql;return ql<<=1,!(ql&62914560)&&(ql=4194304),e}function nu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dw(e,t,n,a,r,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Tn(n),h=1<<d;l[d]=0,o[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var f=m[d];f!==null&&(f.lane&=-536870913)}n&=~h}a!==0&&Ay(e,a,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(s&~t))}function Ay(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Cy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Tn(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ry(e,t){var n=t&-t;return n=n&42?1:pf(n),n&(e.suspendedLanes|t)?0:n}function pf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function My(){var e=Ve.p;return e!==0?e:(e=window.event,e===void 0?32:n0(e.type))}function Xh(e,t){var n=Ve.p;try{return Ve.p=e,t()}finally{Ve.p=n}}var ur=Math.random().toString(36).slice(2),Xt="__reactFiber$"+ur,dn="__reactProps$"+ur,Fi="__reactContainer$"+ur,ad="__reactEvents$"+ur,Nw="__reactListeners$"+ur,Aw="__reactHandles$"+ur,Jh="__reactResources$"+ur,vl="__reactMarker$"+ur;function _f(e){delete e[Xt],delete e[dn],delete e[ad],delete e[Nw],delete e[Aw]}function yi(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fi]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tg(e);e!==null;){if(n=e[Xt])return n;e=tg(e)}return t}e=n,n=e.parentNode}return null}function Wi(e){if(e=e[Xt]||e[Fi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Oi(e){var t=e[Jh];return t||(t=e[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Bt(e){e[vl]=!0}var ky=new Set,Uy={};function qr(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Uy[e]=t,e=0;e<t.length;e++)ky.add(t[e])}var Cw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qh={},Ph={};function Rw(e){return nd.call(Ph,e)?!0:nd.call(Qh,e)?!1:Cw.test(e)?Ph[e]=!0:(Qh[e]=!0,!1)}function fo(e,t,n){if(Rw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ca(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rd(e){if(!e._valueTracker){var t=zy(e)?"checked":"value";e._valueTracker=Mw(e,t,""+e[t])}}function $y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=zy(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kw=/[\n"\\]/g;function $n(e){return e.replace(kw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function id(e,t,n,a,r,i,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kn(t)):e.value!==""+kn(t)&&(e.value=""+kn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?sd(e,s,kn(t)):n!=null?sd(e,s,kn(n)):a!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+kn(l):e.removeAttribute("name")}function By(e,t,n,a,r,i,s,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){rd(e);return}n=n!=null?""+kn(n):"",t=t!=null?""+kn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),rd(e)}function sd(e,t,n){t==="number"&&Ro(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Di(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ly(e,t,n){if(t!=null&&(t=""+kn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+kn(n):""}function Hy(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(U(92));if(Ss(a)){if(1<a.length)throw Error(U(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=kn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),rd(e)}function Bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zh(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Uw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function qy(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&Zh(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&Zh(e,i,t[i])}function wf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$w=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return $w.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var ld=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ni=null;function Fh(e){var t=Wi(e);if(t&&(e=t.stateNode)){var n=e[dn]||null;e:switch(e=t.stateNode,t.type){case"input":if(id(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[dn]||null;if(!r)throw Error(U(90));id(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&$y(a)}break e;case"textarea":Ly(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}}}var au=!1;function Yy(e,t,n){if(au)return e(t,n);au=!0;try{var a=e(t);return a}finally{if(au=!1,(vi!==null||Ni!==null)&&(Rc(),vi&&(t=vi,e=Ni,Ni=vi=null,Fh(t),e)))for(t=0;t<e.length;t++)Fh(e[t])}}function Qs(e,t){var n=e.stateNode;if(n===null)return null;var a=n[dn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=!1;if(xa)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){od=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{od=!1}var Ka=null,xf=null,mo=null;function Iy(){if(mo)return mo;var e,t=xf,n=t.length,a,r="value"in Ka?Ka.value:Ka.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===r[i-a];a++);return mo=r.slice(e,1<a?1-a:void 0)}function go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Wh(){return!1}function fn(e){function t(n,a,r,i,s){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Il:Wh,this.isPropagationStopped=Wh,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=fn(Yr),pl=dt({},Yr,{view:0,detail:0}),Bw=fn(pl),ru,iu,gs,Sc=dt({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(ru=e.screenX-gs.screenX,iu=e.screenY-gs.screenY):iu=ru=0,gs=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),em=fn(Sc),Lw=dt({},Sc,{dataTransfer:0}),Hw=fn(Lw),qw=dt({},pl,{relatedTarget:0}),su=fn(qw),Yw=dt({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iw=fn(Yw),Vw=dt({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gw=fn(Vw),Kw=dt({},Yr,{data:0}),tm=fn(Kw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qw[e])?!!t[e]:!1}function Ef(){return Pw}var Zw=dt({},pl,{key:function(e){if(e.key){var t=Xw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fw=fn(Zw),Ww=dt({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=fn(Ww),eS=dt({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),tS=fn(eS),nS=dt({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),aS=fn(nS),rS=dt({},Sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iS=fn(rS),sS=dt({},Yr,{newState:0,oldState:0}),lS=fn(sS),oS=[9,13,27,32],Tf=xa&&"CompositionEvent"in window,Ns=null;xa&&"documentMode"in document&&(Ns=document.documentMode);var cS=xa&&"TextEvent"in window&&!Ns,Vy=xa&&(!Tf||Ns&&8<Ns&&11>=Ns),am=" ",rm=!1;function Gy(e,t){switch(e){case"keyup":return oS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pi=!1;function uS(e,t){switch(e){case"compositionend":return Ky(t);case"keypress":return t.which!==32?null:(rm=!0,am);case"textInput":return e=t.data,e===am&&rm?null:e;default:return null}}function dS(e,t){if(pi)return e==="compositionend"||!Tf&&Gy(e,t)?(e=Iy(),mo=xf=Ka=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vy&&t.locale!=="ko"?null:t.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fS[e.type]:t==="textarea"}function Xy(e,t,n,a){vi?Ni?Ni.push(a):Ni=[a]:vi=a,t=Po(t,"onChange"),0<t.length&&(n=new wc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var As=null,Ps=null;function hS(e){Yp(e,0)}function xc(e){var t=xs(e);if($y(t))return e}function sm(e,t){if(e==="change")return t}var Jy=!1;if(xa){var lu;if(xa){var ou="oninput"in document;if(!ou){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),ou=typeof lm.oninput=="function"}lu=ou}else lu=!1;Jy=lu&&(!document.documentMode||9<document.documentMode)}function om(){As&&(As.detachEvent("onpropertychange",Qy),Ps=As=null)}function Qy(e){if(e.propertyName==="value"&&xc(Ps)){var t=[];Xy(t,Ps,e,Sf(e)),Yy(hS,t)}}function mS(e,t,n){e==="focusin"?(om(),As=t,Ps=n,As.attachEvent("onpropertychange",Qy)):e==="focusout"&&om()}function gS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Ps)}function yS(e,t){if(e==="click")return xc(t)}function vS(e,t){if(e==="input"||e==="change")return xc(t)}function pS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:pS;function Zs(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!nd.call(t,r)||!On(e[r],t[r]))return!1}return!0}function cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function um(e,t){var n=cm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cm(n)}}function Py(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Py(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ro(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ro(e.document)}return t}function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bS=xa&&"documentMode"in document&&11>=document.documentMode,bi=null,cd=null,Cs=null,ud=!1;function dm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ud||bi==null||bi!==Ro(a)||(a=bi,"selectionStart"in a&&jf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cs&&Zs(Cs,a)||(Cs=a,a=Po(cd,"onSelect"),0<a.length&&(t=new wc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=bi)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},cu={},Fy={};xa&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ir(e){if(cu[e])return cu[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fy)return cu[e]=t[n];return e}var Wy=Ir("animationend"),ev=Ir("animationiteration"),tv=Ir("animationstart"),_S=Ir("transitionrun"),wS=Ir("transitionstart"),SS=Ir("transitioncancel"),nv=Ir("transitionend"),av=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function Fn(e,t){av.set(e,t),qr(t,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],wi=0,Of=0;function Ec(){for(var e=wi,t=Of=wi=0;t<e;){var n=Rn[t];Rn[t++]=null;var a=Rn[t];Rn[t++]=null;var r=Rn[t];Rn[t++]=null;var i=Rn[t];if(Rn[t++]=null,a!==null&&r!==null){var s=a.pending;s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r}i!==0&&rv(n,r,i)}}function Tc(e,t,n,a){Rn[wi++]=e,Rn[wi++]=t,Rn[wi++]=n,Rn[wi++]=a,Of|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Df(e,t,n,a){return Tc(e,t,n,a),ko(e)}function Vr(e,t){return Tc(e,null,null,t),ko(e)}function rv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Tn(n),e=i.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),i):null}function ko(e){if(50<Hs)throw Hs=0,Rd=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Si={};function xS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,a){return new xS(e,t,n,a)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function iv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yo(e,t,n,a,r,i){var s=0;if(a=e,typeof e=="function")Nf(e)&&(s=1);else if(typeof e=="string")s=Dx(e,n,aa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fu:return e=bn(31,n,t,r),e.elementType=Fu,e.lanes=i,e;case mi:return Cr(n.children,r,i,t);case Ey:s=8,r|=24;break;case Qu:return e=bn(12,n,t,r|2),e.elementType=Qu,e.lanes=i,e;case Pu:return e=bn(13,n,t,r),e.elementType=Pu,e.lanes=i,e;case Zu:return e=bn(19,n,t,r),e.elementType=Zu,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case va:s=10;break e;case Ty:s=9;break e;case gf:s=11;break e;case yf:s=14;break e;case za:s=16,a=null;break e}s=29,n=Error(U(130,e===null?"null":typeof e,"")),a=null}return t=bn(s,n,t,r),t.elementType=e,t.type=a,t.lanes=i,t}function Cr(e,t,n,a){return e=bn(7,e,a,t),e.lanes=n,e}function uu(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function sv(e){var t=bn(18,null,null,0);return t.stateNode=e,t}function du(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fm=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var n=fm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Kh(t)},fm.set(e,t),t)}return{value:e,source:t,stack:Kh(t)}}var xi=[],Ei=0,Uo=null,Fs=0,Un=[],zn=0,ir=null,ea=1,ta="";function ga(e,t){xi[Ei++]=Fs,xi[Ei++]=Uo,Uo=e,Fs=t}function lv(e,t,n){Un[zn++]=ea,Un[zn++]=ta,Un[zn++]=ir,ir=e;var a=ea;e=ta;var r=32-Tn(a)-1;a&=~(1<<r),n+=1;var i=32-Tn(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,ea=1<<32-Tn(t)+r|n<<r|a,ta=i+e}else ea=1<<i|n<<r|a,ta=e}function Af(e){e.return!==null&&(ga(e,1),lv(e,1,0))}function Cf(e){for(;e===Uo;)Uo=xi[--Ei],xi[Ei]=null,Fs=xi[--Ei],xi[Ei]=null;for(;e===ir;)ir=Un[--zn],Un[zn]=null,ta=Un[--zn],Un[zn]=null,ea=Un[--zn],Un[zn]=null}function ov(e,t){Un[zn++]=ea,Un[zn++]=ta,Un[zn++]=ir,ea=t.id,ta=t.overflow,ir=e}var Jt=null,ct=null,ze=!1,Za=null,Ln=!1,fd=Error(U(519));function sr(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ws(Bn(t,e)),fd}function hm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Xt]=e,t[dn]=a,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<al.length;n++)Ce(al[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),By(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Hy(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Vp(t.textContent,n)?(a.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),a.onScroll!=null&&Ce("scroll",t),a.onScrollEnd!=null&&Ce("scrollend",t),a.onClick!=null&&(t.onclick=pa),t=!0):t=!1,t||sr(e,!0)}function mm(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Jt=Jt.return}}function ti(e){if(e!==Jt)return!1;if(!ze)return mm(e),ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$d(e.type,e.memoizedProps)),n=!n),n&&ct&&sr(e),mm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));ct=eg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));ct=eg(e)}else t===27?(t=ct,dr(e.type)?(e=qd,qd=null,ct=e):ct=t):ct=Jt?qn(e.stateNode.nextSibling):null;return!0}function zr(){ct=Jt=null,ze=!1}function fu(){var e=Za;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Za=null),e}function Ws(e){Za===null?Za=[e]:Za.push(e)}var hd=ra(null),Gr=null,ba=null;function La(e,t,n){lt(hd,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=hd.current,Lt(hd)}function md(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function gd(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var s=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var o=0;o<t.length;o++)if(l.context===t[o]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),md(i.return,n,e),a||(s=null);break e}i=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(U(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),md(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function es(e,t,n,a){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(U(387));if(s=s.memoizedProps,s!==null){var l=r.type;On(r.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(r===Do.current){if(s=r.alternate,s===null)throw Error(U(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}r=r.return}e!==null&&gd(t,e,n,a),t.flags|=262144}function zo(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $r(e){Gr=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return cv(Gr,e)}function Vl(e,t){return Gr===null&&$r(e),cv(e,t)}function cv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ba===null){if(e===null)throw Error(U(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var ES=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},TS=Mt.unstable_scheduleCallback,jS=Mt.unstable_NormalPriority,Ot={$$typeof:va,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new ES,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&TS(jS,function(){e.controller.abort()})}var Rs=null,yd=0,Li=0,Ai=null;function OS(e,t){if(Rs===null){var n=Rs=[];yd=0,Li=ah(),Ai={status:"pending",value:void 0,then:function(a){n.push(a)}}}return yd++,t.then(gm,gm),t}function gm(){if(--yd===0&&Rs!==null){Ai!==null&&(Ai.status="fulfilled");var e=Rs;Rs=null,Li=0,Ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function DS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var ym=ge.S;ge.S=function(e,t){xp=xn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&OS(e,t),ym!==null&&ym(e,t)};var Rr=ra(null);function Mf(){var e=Rr.current;return e!==null?e:et.pooledCache}function vo(e,t){t===null?lt(Rr,Rr.current):lt(Rr,t.pool)}function uv(){var e=Mf();return e===null?null:{parent:Ot._currentValue,pool:e}}var ts=Error(U(460)),kf=Error(U(474)),jc=Error(U(542)),$o={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pa,pa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bm(e),e;default:if(typeof t.status=="string")t.then(pa,pa);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bm(e),e}throw Mr=t,ts}}function xr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mr=n,ts):n}}var Mr=null;function pm(){if(Mr===null)throw Error(U(459));var e=Mr;return Mr=null,e}function bm(e){if(e===ts||e===jc)throw Error(U(483))}var Ci=null,el=0;function Gl(e){var t=el;return el+=1,Ci===null&&(Ci=[]),dv(Ci,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kl(e,t){throw t.$$typeof===mw?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fv(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function a(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function r(v,g){return v=_a(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,g,y,w){return g===null||g.tag!==6?(g=uu(y,v.mode,w),g.return=v,g):(g=r(g,y),g.return=v,g)}function o(v,g,y,w){var T=y.type;return T===mi?d(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===za&&xr(T)===g.type)?(g=r(g,y.props),ys(g,y),g.return=v,g):(g=yo(y.type,y.key,y.props,null,v.mode,w),ys(g,y),g.return=v,g)}function u(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=du(y,v.mode,w),g.return=v,g):(g=r(g,y.children||[]),g.return=v,g)}function d(v,g,y,w,T){return g===null||g.tag!==7?(g=Cr(y,v.mode,w,T),g.return=v,g):(g=r(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=uu(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bl:return y=yo(g.type,g.key,g.props,null,v.mode,y),ys(y,g),y.return=v,y;case ws:return g=du(g,v.mode,y),g.return=v,g;case za:return g=xr(g),h(v,g,y)}if(Ss(g)||hs(g))return g=Cr(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return h(v,Gl(g),y);if(g.$$typeof===va)return h(v,Vl(v,g),y);Kl(v,g)}return null}function m(v,g,y,w){var T=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return T!==null?null:l(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:return y.key===T?o(v,g,y,w):null;case ws:return y.key===T?u(v,g,y,w):null;case za:return y=xr(y),m(v,g,y,w)}if(Ss(y)||hs(y))return T!==null?null:d(v,g,y,w,null);if(typeof y.then=="function")return m(v,g,Gl(y),w);if(y.$$typeof===va)return m(v,g,Vl(v,y),w);Kl(v,y)}return null}function f(v,g,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(y)||null,l(g,v,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:return v=v.get(w.key===null?y:w.key)||null,o(g,v,w,T);case ws:return v=v.get(w.key===null?y:w.key)||null,u(g,v,w,T);case za:return w=xr(w),f(v,g,y,w,T)}if(Ss(w)||hs(w))return v=v.get(y)||null,d(g,v,w,T,null);if(typeof w.then=="function")return f(v,g,y,Gl(w),T);if(w.$$typeof===va)return f(v,g,y,Vl(g,w),T);Kl(g,w)}return null}function p(v,g,y,w){for(var T=null,E=null,S=g,j=g=0,D=null;S!==null&&j<y.length;j++){S.index>j?(D=S,S=null):D=S.sibling;var O=m(v,S,y[j],w);if(O===null){S===null&&(S=D);break}e&&S&&O.alternate===null&&t(v,S),g=i(O,g,j),E===null?T=O:E.sibling=O,E=O,S=D}if(j===y.length)return n(v,S),ze&&ga(v,j),T;if(S===null){for(;j<y.length;j++)S=h(v,y[j],w),S!==null&&(g=i(S,g,j),E===null?T=S:E.sibling=S,E=S);return ze&&ga(v,j),T}for(S=a(S);j<y.length;j++)D=f(S,v,j,y[j],w),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?j:D.key),g=i(D,g,j),E===null?T=D:E.sibling=D,E=D);return e&&S.forEach(function(R){return t(v,R)}),ze&&ga(v,j),T}function b(v,g,y,w){if(y==null)throw Error(U(151));for(var T=null,E=null,S=g,j=g=0,D=null,O=y.next();S!==null&&!O.done;j++,O=y.next()){S.index>j?(D=S,S=null):D=S.sibling;var R=m(v,S,O.value,w);if(R===null){S===null&&(S=D);break}e&&S&&R.alternate===null&&t(v,S),g=i(R,g,j),E===null?T=R:E.sibling=R,E=R,S=D}if(O.done)return n(v,S),ze&&ga(v,j),T;if(S===null){for(;!O.done;j++,O=y.next())O=h(v,O.value,w),O!==null&&(g=i(O,g,j),E===null?T=O:E.sibling=O,E=O);return ze&&ga(v,j),T}for(S=a(S);!O.done;j++,O=y.next())O=f(S,v,j,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),g=i(O,g,j),E===null?T=O:E.sibling=O,E=O);return e&&S.forEach(function(J){return t(v,J)}),ze&&ga(v,j),T}function x(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===mi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:e:{for(var T=y.key;g!==null;){if(g.key===T){if(T=y.type,T===mi){if(g.tag===7){n(v,g.sibling),w=r(g,y.props.children),w.return=v,v=w;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===za&&xr(T)===g.type){n(v,g.sibling),w=r(g,y.props),ys(w,y),w.return=v,v=w;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===mi?(w=Cr(y.props.children,v.mode,w,y.key),w.return=v,v=w):(w=yo(y.type,y.key,y.props,null,v.mode,w),ys(w,y),w.return=v,v=w)}return s(v);case ws:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),w=r(g,y.children||[]),w.return=v,v=w;break e}else{n(v,g);break}else t(v,g);g=g.sibling}w=du(y,v.mode,w),w.return=v,v=w}return s(v);case za:return y=xr(y),x(v,g,y,w)}if(Ss(y))return p(v,g,y,w);if(hs(y)){if(T=hs(y),typeof T!="function")throw Error(U(150));return y=T.call(y),b(v,g,y,w)}if(typeof y.then=="function")return x(v,g,Gl(y),w);if(y.$$typeof===va)return x(v,g,Vl(v,y),w);Kl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),w=r(g,y),w.return=v,v=w):(n(v,g),w=uu(y,v.mode,w),w.return=v,v=w),s(v)):n(v,g)}return function(v,g,y,w){try{el=0;var T=x(v,g,y,w);return Ci=null,T}catch(S){if(S===ts||S===jc)throw S;var E=bn(29,S,null,v.mode);return E.lanes=w,E.return=v,E}finally{}}}var Br=fv(!0),hv=fv(!1),$a=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ie&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=ko(e),rv(e,null,n),t}return Tc(e,a,t,n),ko(e)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Cy(e,n)}}function hu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var pd=!1;function ks(){if(pd){var e=Ai;if(e!==null)throw e}}function Us(e,t,n,a){pd=!1;var r=e.updateQueue;$a=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var o=l,u=o.next;o.next=null,s===null?i=u:s.next=u,s=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=o))}if(i!==null){var h=r.baseState;s=0,d=u=o=null,l=i;do{var m=l.lane&-536870913,f=m!==l.lane;if(f?(Me&m)===m:(a&m)===m){m!==0&&m===Li&&(pd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,b=l;m=t;var x=n;switch(b.tag){case 1:if(p=b.payload,typeof p=="function"){h=p.call(x,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,m=typeof p=="function"?p.call(x,h,m):p,m==null)break e;h=dt({},h,m);break e;case 2:$a=!0}}m=l.callback,m!==null&&(e.flags|=64,f&&(e.flags|=8192),f=r.callbacks,f===null?r.callbacks=[m]:f.push(m))}else f={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,o=h):d=d.next=f,s|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);d===null&&(o=h),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),or|=s,e.lanes=s,e.memoizedState=h}}function mv(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function gv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)mv(n[e],t)}var Hi=ra(null),Bo=ra(0);function _m(e,t){e=Oa,lt(Bo,e),lt(Hi,t),Oa=e|t.baseLanes}function bd(){lt(Bo,Oa),lt(Hi,Hi.current)}function zf(){Oa=Bo.current,Lt(Hi),Lt(Bo)}var Dn=ra(null),Hn=null;function Ha(e){var t=e.alternate;lt(_t,_t.current&1),lt(Dn,e),Hn===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Hn=e)}function _d(e){lt(_t,_t.current),lt(Dn,e),Hn===null&&(Hn=e)}function yv(e){e.tag===22?(lt(_t,_t.current),lt(Dn,e),Hn===null&&(Hn=e)):qa()}function qa(){lt(_t,_t.current),lt(Dn,Dn.current)}function pn(e){Lt(Dn),Hn===e&&(Hn=null),Lt(_t)}var _t=ra(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ld(n)||Hd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=0,we=null,Fe=null,Tt=null,Ho=!1,Ri=!1,Lr=!1,qo=0,tl=0,Mi=null,NS=0;function vt(){throw Error(U(321))}function $f(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Bf(e,t,n,a,r,i){return Ea=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ge.H=e===null||e.memoizedState===null?Xv:Qf,Lr=!1,i=n(a,r),Lr=!1,Ri&&(i=pv(t,n,a,r)),vv(e),i}function vv(e){ge.H=nl;var t=Fe!==null&&Fe.next!==null;if(Ea=0,Tt=Fe=we=null,Ho=!1,tl=0,Mi=null,t)throw Error(U(300));e===null||Dt||(e=e.dependencies,e!==null&&zo(e)&&(Dt=!0))}function pv(e,t,n,a){we=e;var r=0;do{if(Ri&&(Mi=null),tl=0,Ri=!1,25<=r)throw Error(U(301));if(r+=1,Tt=Fe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ge.H=Jv,i=t(n,a)}while(Ri);return i}function AS(){var e=ge.H,t=e.useState()[0];return t=typeof t.then=="function"?_l(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(we.flags|=1024),t}function Lf(){var e=qo!==0;return qo=0,e}function Hf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qf(e){if(Ho){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ho=!1}Ea=0,Tt=Fe=we=null,Ri=!1,tl=qo=0,Mi=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?we.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function wt(){if(Fe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Tt===null?we.memoizedState:Tt.next;if(t!==null)Tt=t,Fe=e;else{if(e===null)throw we.alternate===null?Error(U(467)):Error(U(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Tt===null?we.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var t=tl;return tl+=1,Mi===null&&(Mi=[]),e=dv(Mi,e,t),t=we,(Tt===null?t.memoizedState:Tt.next)===null&&(t=t.alternate,ge.H=t===null||t.memoizedState===null?Xv:Qf),e}function Dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===va)return Qt(e)}throw Error(U(438,String(e)))}function Yf(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=we.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Oc(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=gw;return t.index++,n}function Ta(e,t){return typeof t=="function"?t(e):t}function po(e){var t=wt();return If(t,Fe,e)}function If(e,t,n){var a=e.queue;if(a===null)throw Error(U(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var l=s=null,o=null,u=t,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Me&h)===h:(Ea&h)===h){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else if((Ea&m)===m){u=u.next,m===Li&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,s=i):o=o.next=h,we.lanes|=m,or|=m;h=u.action,Lr&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,s=i):o=o.next=m,we.lanes|=h,or|=h;u=u.next}while(u!==null&&u!==t);if(o===null?s=i:o.next=l,!On(i,e.memoizedState)&&(Dt=!0,d&&(n=Ai,n!==null)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=o,a.lastRenderedState=i}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function mu(e){var t=wt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r);On(i,t.memoizedState)||(Dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function bv(e,t,n){var a=we,r=wt(),i=ze;if(i){if(n===void 0)throw Error(U(407));n=n()}else n=t();var s=!On((Fe||r).memoizedState,n);if(s&&(r.memoizedState=n,Dt=!0),r=r.queue,Vf(Sv.bind(null,a,r,e),[e]),r.getSnapshot!==t||s||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,qi(9,{destroy:void 0},wv.bind(null,a,r,n,t),null),et===null)throw Error(U(349));i||Ea&127||_v(a,t,n)}return n}function _v(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=Oc(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wv(e,t,n,a){t.value=n,t.getSnapshot=a,xv(t)&&Ev(e)}function Sv(e,t,n){return n(function(){xv(t)&&Ev(e)})}function xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function Ev(e){var t=Vr(e,2);t!==null&&un(t,e,2)}function wd(e){var t=en();if(typeof e=="function"){var n=e;if(e=n(),Lr){Ga(!0);try{n()}finally{Ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Tv(e,t,n,a){return e.baseState=n,If(e,Fe,typeof a=="function"?a:Ta)}function CS(e,t,n,a,r){if(Ac(e))throw Error(U(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};ge.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,jv(t,i)):(i.next=n.next,t.pending=n.next=i)}}function jv(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var i=ge.T,s={};ge.T=s;try{var l=n(r,a),o=ge.S;o!==null&&o(s,l),wm(e,t,l)}catch(u){Sd(e,t,u)}finally{i!==null&&s.types!==null&&(i.types=s.types),ge.T=i}}else try{i=n(r,a),wm(e,t,i)}catch(u){Sd(e,t,u)}}function wm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Sm(e,t,a)},function(a){return Sd(e,t,a)}):Sm(e,t,n)}function Sm(e,t,n){t.status="fulfilled",t.value=n,Ov(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,jv(e,n)))}function Sd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ov(t),t=t.next;while(t!==a)}e.action=null}function Ov(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dv(e,t){return t}function xm(e,t){if(ze){var n=et.formState;if(n!==null){e:{var a=we;if(ze){if(ct){t:{for(var r=ct,i=Ln;r.nodeType!==8;){if(!i){r=null;break t}if(r=qn(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ct=qn(r.nextSibling),a=r.data==="F!";break e}}sr(a)}a=!1}a&&(t=n[0])}}return n=en(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:t},n.queue=a,n=Vv.bind(null,we,a),a.dispatch=n,a=wd(!1),i=Jf.bind(null,we,!1,a.queue),a=en(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=CS.bind(null,we,r,i,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Em(e){var t=wt();return Nv(t,Fe,e)}function Nv(e,t,n){if(t=If(e,t,Dv)[0],e=po(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=_l(t)}catch(s){throw s===ts?jc:s}else a=t;t=wt();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(we.flags|=2048,qi(9,{destroy:void 0},RS.bind(null,r,n),null)),[a,i,e]}function RS(e,t){e.action=t}function Tm(e){var t=wt(),n=Fe;if(n!==null)return Nv(t,n,e);wt(),t=t.memoizedState,n=wt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function qi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=we.updateQueue,t===null&&(t=Oc(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Av(){return wt().memoizedState}function bo(e,t,n,a){var r=en();we.flags|=e,r.memoizedState=qi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Nc(e,t,n,a){var r=wt();a=a===void 0?null:a;var i=r.memoizedState.inst;Fe!==null&&a!==null&&$f(a,Fe.memoizedState.deps)?r.memoizedState=qi(t,i,n,a):(we.flags|=e,r.memoizedState=qi(1|t,i,n,a))}function jm(e,t){bo(8390656,8,e,t)}function Vf(e,t){Nc(2048,8,e,t)}function MS(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=Oc(),we.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Cv(e){var t=wt().memoizedState;return MS({ref:t,nextImpl:e}),function(){if(Ie&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function Rv(e,t){return Nc(4,2,e,t)}function Mv(e,t){return Nc(4,4,e,t)}function kv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uv(e,t,n){n=n!=null?n.concat([e]):null,Nc(4,4,kv.bind(null,t,e),n)}function Gf(){}function zv(e,t){var n=wt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&$f(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function $v(e,t){var n=wt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&$f(t,a[1]))return a[0];if(a=e(),Lr){Ga(!0);try{e()}finally{Ga(!1)}}return n.memoizedState=[a,t],a}function Kf(e,t,n){return n===void 0||Ea&1073741824&&!(Me&261930)?e.memoizedState=t:(e.memoizedState=n,e=Tp(),we.lanes|=e,or|=e,n)}function Bv(e,t,n,a){return On(n,t)?n:Hi.current!==null?(e=Kf(e,n,a),On(e,t)||(Dt=!0),e):!(Ea&42)||Ea&1073741824&&!(Me&261930)?(Dt=!0,e.memoizedState=n):(e=Tp(),we.lanes|=e,or|=e,t)}function Lv(e,t,n,a,r){var i=Ve.p;Ve.p=i!==0&&8>i?i:8;var s=ge.T,l={};ge.T=l,Jf(e,!1,t,n);try{var o=r(),u=ge.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=DS(o,a);zs(e,t,d,jn(e))}else zs(e,t,a,jn(e))}catch(h){zs(e,t,{then:function(){},status:"rejected",reason:h},jn())}finally{Ve.p=i,s!==null&&l.types!==null&&(s.types=l.types),ge.T=s}}function kS(){}function xd(e,t,n,a){if(e.tag!==5)throw Error(U(476));var r=Hv(e).queue;Lv(e,r,t,Ar,n===null?kS:function(){return qv(e),n(a)})}function Hv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ar,baseState:Ar,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Ar},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qv(e){var t=Hv(e);t.next===null&&(t=e.alternate.memoizedState),zs(e,t.next.queue,{},jn())}function Xf(){return Qt(il)}function Yv(){return wt().memoizedState}function Iv(){return wt().memoizedState}function US(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=jn();e=Fa(n);var a=Wa(t,e,n);a!==null&&(un(a,t,n),Ms(a,t,n)),t={cache:Rf()},e.payload=t;return}t=t.return}}function zS(e,t,n){var a=jn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ac(e)?Gv(t,n):(n=Df(e,t,n,a),n!==null&&(un(n,e,a),Kv(n,t,a)))}function Vv(e,t,n){var a=jn();zs(e,t,n,a)}function zs(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))Gv(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,On(l,s))return Tc(e,t,r,0),et===null&&Ec(),!1}catch{}finally{}if(n=Df(e,t,r,a),n!==null)return un(n,e,a),Kv(n,t,a),!0}return!1}function Jf(e,t,n,a){if(a={lane:2,revertLane:ah(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(e)){if(t)throw Error(U(479))}else t=Df(e,n,a,2),t!==null&&un(t,e,2)}function Ac(e){var t=e.alternate;return e===we||t!==null&&t===we}function Gv(e,t){Ri=Ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kv(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Cy(e,n)}}var nl={readContext:Qt,use:Dc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};nl.useEffectEvent=vt;var Xv={readContext:Qt,use:Dc,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:jm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bo(4194308,4,kv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var n=en();t=t===void 0?null:t;var a=e();if(Lr){Ga(!0);try{e()}finally{Ga(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=en();if(n!==void 0){var r=n(t);if(Lr){Ga(!0);try{n(t)}finally{Ga(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=zS.bind(null,we,e),[a.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=wd(e);var t=e.queue,n=Vv.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gf,useDeferredValue:function(e,t){var n=en();return Kf(n,e,t)},useTransition:function(){var e=wd(!1);return e=Lv.bind(null,we,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=we,r=en();if(ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),et===null)throw Error(U(349));Me&127||_v(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,jm(Sv.bind(null,a,i,e),[e]),a.flags|=2048,qi(9,{destroy:void 0},wv.bind(null,a,i,n,t),null),n},useId:function(){var e=en(),t=et.identifierPrefix;if(ze){var n=ta,a=ea;n=(a&~(1<<32-Tn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=NS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xf,useFormState:xm,useActionState:xm,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jf.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:Yf,useCacheRefresh:function(){return en().memoizedState=US.bind(null,we)},useEffectEvent:function(e){var t=en(),n={impl:e};return t.memoizedState=n,function(){if(Ie&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},Qf={readContext:Qt,use:Dc,useCallback:zv,useContext:Qt,useEffect:Vf,useImperativeHandle:Uv,useInsertionEffect:Rv,useLayoutEffect:Mv,useMemo:$v,useReducer:po,useRef:Av,useState:function(){return po(Ta)},useDebugValue:Gf,useDeferredValue:function(e,t){var n=wt();return Bv(n,Fe.memoizedState,e,t)},useTransition:function(){var e=po(Ta)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:_l(e),t]},useSyncExternalStore:bv,useId:Yv,useHostTransitionStatus:Xf,useFormState:Em,useActionState:Em,useOptimistic:function(e,t){var n=wt();return Tv(n,Fe,e,t)},useMemoCache:Yf,useCacheRefresh:Iv};Qf.useEffectEvent=Cv;var Jv={readContext:Qt,use:Dc,useCallback:zv,useContext:Qt,useEffect:Vf,useImperativeHandle:Uv,useInsertionEffect:Rv,useLayoutEffect:Mv,useMemo:$v,useReducer:mu,useRef:Av,useState:function(){return mu(Ta)},useDebugValue:Gf,useDeferredValue:function(e,t){var n=wt();return Fe===null?Kf(n,e,t):Bv(n,Fe.memoizedState,e,t)},useTransition:function(){var e=mu(Ta)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:_l(e),t]},useSyncExternalStore:bv,useId:Yv,useHostTransitionStatus:Xf,useFormState:Tm,useActionState:Tm,useOptimistic:function(e,t){var n=wt();return Fe!==null?Tv(n,Fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Iv};Jv.useEffectEvent=Cv;function gu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ed={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jn(),r=Fa(a);r.payload=t,n!=null&&(r.callback=n),t=Wa(e,r,a),t!==null&&(un(t,e,a),Ms(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jn(),r=Fa(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Wa(e,r,a),t!==null&&(un(t,e,a),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),a=Fa(n);a.tag=2,t!=null&&(a.callback=t),t=Wa(e,a,n),t!==null&&(un(t,e,n),Ms(t,e,n))}};function Om(e,t,n,a,r,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,s):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,a)||!Zs(r,i):!0}function Dm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ed.enqueueReplaceState(t,t.state,null)}function Hr(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=dt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Qv(e){Mo(e)}function Pv(e){console.error(e)}function Zv(e){Mo(e)}function Yo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Nm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Td(e,t,n){return n=Fa(n),n.tag=3,n.payload={element:null},n.callback=function(){Yo(e,t)},n}function Fv(e){return e=Fa(e),e.tag=3,e}function Wv(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=a.value;e.payload=function(){return r(i)},e.callback=function(){Nm(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Nm(t,n,a),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function $S(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&es(t,n,r,!0),n=Dn.current,n!==null){switch(n.tag){case 31:case 13:return Hn===null?Xo():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===$o?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ju(e,a,r)),!1;case 22:return n.flags|=65536,a===$o?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ju(e,a,r)),!1}throw Error(U(435,n.tag))}return ju(e,a,r),Xo(),!1}if(ze)return t=Dn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==fd&&(e=Error(U(422),{cause:a}),Ws(Bn(e,n)))):(a!==fd&&(t=Error(U(423),{cause:a}),Ws(Bn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Bn(a,n),r=Td(e.stateNode,a,r),hu(e,r),pt!==4&&(pt=2)),!1;var i=Error(U(520),{cause:a});if(i=Bn(i,n),Ls===null?Ls=[i]:Ls.push(i),pt!==4&&(pt=2),t===null)return!0;a=Bn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Td(n.stateNode,a,e),hu(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(er===null||!er.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Fv(r),Wv(r,e,n,a),hu(n,r),!1}n=n.return}while(n!==null);return!1}var Pf=Error(U(461)),Dt=!1;function Kt(e,t,n,a){t.child=e===null?hv(t,null,n,a):Br(t,e.child,n,a)}function Am(e,t,n,a,r){n=n.render;var i=t.ref;if("ref"in a){var s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}else s=a;return $r(t),a=Bf(e,t,n,s,i,r),l=Lf(),e!==null&&!Dt?(Hf(e,t,r),ja(e,t,r)):(ze&&l&&Af(t),t.flags|=1,Kt(e,t,a,r),t.child)}function Cm(e,t,n,a,r){if(e===null){var i=n.type;return typeof i=="function"&&!Nf(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ep(e,t,i,a,r)):(e=yo(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Zf(e,r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(s,a)&&e.ref===t.ref)return ja(e,t,r)}return t.flags|=1,e=_a(i,a),e.ref=t.ref,e.return=t,t.child=e}function ep(e,t,n,a,r){if(e!==null){var i=e.memoizedProps;if(Zs(i,a)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=a=i,Zf(e,r))e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,ja(e,t,r)}return jd(e,t,n,a,r)}function tp(e,t,n,a){var r=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~i}else a=0,t.child=null;return Rm(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(t,i!==null?i.cachePool:null),i!==null?_m(t,i):bd(),yv(t);else return a=t.lanes=536870912,Rm(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(vo(t,i.cachePool),_m(t,i),qa(),t.memoizedState=null):(e!==null&&vo(t,null),bd(),qa());return Kt(e,t,r,n),t.child}function Es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rm(e,t,n,a,r){var i=Mf();return i=i===null?null:{parent:Ot._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&vo(t,null),bd(),yv(t),e!==null&&es(e,t,a,!0),t.childLanes=r,null}function _o(e,t){return t=Io({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mm(e,t,n){return Br(t,e.child,null,n),e=_o(t,t.pendingProps),e.flags|=2,pn(t),t.memoizedState=null,e}function BS(e,t,n){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=_o(t,a),t.lanes=536870912,Es(null,e);if(_d(t),(e=ct)?(e=Xp(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ir!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=sv(e),n.return=t,t.child=n,Jt=t,ct=null)):e=null,e===null)throw sr(t);return t.lanes=536870912,null}return _o(t,a)}var i=e.memoizedState;if(i!==null){var s=i.dehydrated;if(_d(t),r)if(t.flags&256)t.flags&=-257,t=Mm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Dt||es(e,t,n,!1),r=(n&e.childLanes)!==0,Dt||r){if(a=et,a!==null&&(s=Ry(a,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,Vr(e,s),un(a,e,s),Pf;Xo(),t=Mm(e,t,n)}else e=i.treeContext,ct=qn(s.nextSibling),Jt=t,ze=!0,Za=null,Ln=!1,e!==null&&ov(t,e),t=_o(t,a),t.flags|=4096;return t}return e=_a(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jd(e,t,n,a,r){return $r(t),n=Bf(e,t,n,a,void 0,r),a=Lf(),e!==null&&!Dt?(Hf(e,t,r),ja(e,t,r)):(ze&&a&&Af(t),t.flags|=1,Kt(e,t,n,r),t.child)}function km(e,t,n,a,r,i){return $r(t),t.updateQueue=null,n=pv(t,a,n,r),vv(e),a=Lf(),e!==null&&!Dt?(Hf(e,t,i),ja(e,t,i)):(ze&&a&&Af(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Um(e,t,n,a,r){if($r(t),t.stateNode===null){var i=Si,s=n.contextType;typeof s=="object"&&s!==null&&(i=Qt(s)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ed,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Uf(t),s=n.contextType,i.context=typeof s=="object"&&s!==null?Qt(s):Si,i.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(gu(t,n,s,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Us(t,a,i,r),ks(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,o=Hr(n,l);i.props=o;var u=i.context,d=n.contextType;s=Si,typeof d=="object"&&d!==null&&(s=Qt(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==s)&&Dm(t,i,a,s),$a=!1;var m=t.memoizedState;i.state=m,Us(t,a,i,r),ks(),u=t.memoizedState,l||m!==u||$a?(typeof h=="function"&&(gu(t,n,h,a),u=t.memoizedState),(o=$a||Om(t,n,o,a,m,u,s))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=s,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,vd(e,t),s=t.memoizedProps,d=Hr(n,s),i.props=d,h=t.pendingProps,m=i.context,u=n.contextType,o=Si,typeof u=="object"&&u!==null&&(o=Qt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==h||m!==o)&&Dm(t,i,a,o),$a=!1,m=t.memoizedState,i.state=m,Us(t,a,i,r),ks();var f=t.memoizedState;s!==h||m!==f||$a||e!==null&&e.dependencies!==null&&zo(e.dependencies)?(typeof l=="function"&&(gu(t,n,l,a),f=t.memoizedState),(d=$a||Om(t,n,d,a,m,f,o)||e!==null&&e.dependencies!==null&&zo(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,f,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,f,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),i.props=a,i.state=f,i.context=o,a=d):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,wo(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Br(t,e.child,null,r),t.child=Br(t,null,n,r)):Kt(e,t,n,r),t.memoizedState=i.state,e=t.child):e=ja(e,t,r),e}function zm(e,t,n,a){return zr(),t.flags|=256,Kt(e,t,n,a),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(e){return{baseLanes:e,cachePool:uv()}}function pu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Sn),e}function np(e,t,n){var a=t.pendingProps,r=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(r?Ha(t):qa(),(e=ct)?(e=Xp(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ir!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},n=sv(e),n.return=t,t.child=n,Jt=t,ct=null)):e=null,e===null)throw sr(t);return Hd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,r?(qa(),r=t.mode,l=Io({mode:"hidden",children:l},r),a=Cr(a,r,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=vu(n),a.childLanes=pu(e,s,n),t.memoizedState=yu,Es(null,a)):(Ha(t),Od(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(i)t.flags&256?(Ha(t),t.flags&=-257,t=bu(e,t,n)):t.memoizedState!==null?(qa(),t.child=e.child,t.flags|=128,t=null):(qa(),l=a.fallback,r=t.mode,a=Io({mode:"visible",children:a.children},r),l=Cr(l,r,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Br(t,e.child,null,n),a=t.child,a.memoizedState=vu(n),a.childLanes=pu(e,s,n),t.memoizedState=yu,t=Es(null,a));else if(Ha(t),Hd(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,a=Error(U(419)),a.stack="",a.digest=s,Ws({value:a,source:null,stack:null}),t=bu(e,t,n)}else if(Dt||es(e,t,n,!1),s=(n&e.childLanes)!==0,Dt||s){if(s=et,s!==null&&(a=Ry(s,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Vr(e,a),un(s,e,a),Pf;Ld(l)||Xo(),t=bu(e,t,n)}else Ld(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ct=qn(l.nextSibling),Jt=t,ze=!0,Za=null,Ln=!1,e!==null&&ov(t,e),t=Od(t,a.children),t.flags|=4096);return t}return r?(qa(),l=a.fallback,r=t.mode,o=e.child,u=o.sibling,a=_a(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=_a(u,l):(l=Cr(l,r,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Es(null,a),a=t.child,l=e.child.memoizedState,l===null?l=vu(n):(r=l.cachePool,r!==null?(o=Ot._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=uv(),l={baseLanes:l.baseLanes|n,cachePool:r}),a.memoizedState=l,a.childLanes=pu(e,s,n),t.memoizedState=yu,Es(e.child,a)):(Ha(t),n=e.child,e=n.sibling,n=_a(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Od(e,t){return t=Io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Io(e,t){return e=bn(22,e,null,t),e.lanes=0,e}function bu(e,t,n){return Br(t,e.child,null,n),e=Od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $m(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),md(e.return,t,n)}function _u(e,t,n,a,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r,s.treeForkCount=i)}function ap(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;a=a.children;var s=_t.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,lt(_t,s),Kt(e,t,a,n),a=ze?Fs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$m(e,n,t);else if(e.tag===19)$m(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Lo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),_u(t,!1,r,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Lo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}_u(t,!0,n,null,i,a);break;case"together":_u(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ja(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))if(e!==null){if(es(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=_a(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_a(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&zo(e)))}function LS(e,t,n){switch(t.tag){case 3:No(t,t.stateNode.containerInfo),La(t,Ot,e.memoizedState.cache),zr();break;case 27:case 5:td(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_d(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ha(t),t.flags|=128,null):n&t.child.childLanes?np(e,t,n):(Ha(t),e=ja(e,t,n),e!==null?e.sibling:null);Ha(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(es(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return ap(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(_t,_t.current),a)break;return null;case 22:return t.lanes=0,tp(e,t,n,t.pendingProps);case 24:La(t,Ot,e.memoizedState.cache)}return ja(e,t,n)}function rp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!Zf(e,n)&&!(t.flags&128))return Dt=!1,LS(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,ze&&t.flags&1048576&&lv(t,Fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=xr(t.elementType),t.type=e,typeof e=="function")Nf(e)?(a=Hr(e,a),t.tag=1,t=Um(null,t,e,a,n)):(t.tag=0,t=jd(null,t,e,a,n));else{if(e!=null){var r=e.$$typeof;if(r===gf){t.tag=11,t=Am(null,t,e,a,n);break e}else if(r===yf){t.tag=14,t=Cm(null,t,e,a,n);break e}}throw t=Wu(e)||e,Error(U(306,t,""))}}return t;case 0:return jd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Hr(a,t.pendingProps),Um(e,t,a,r,n);case 3:e:{if(No(t,t.stateNode.containerInfo),e===null)throw Error(U(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,vd(e,t),Us(t,a,null,n);var s=t.memoizedState;if(a=s.cache,La(t,Ot,a),a!==i.cache&&gd(t,[Ot],n,!0),ks(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=zm(e,t,a,n);break e}else if(a!==r){r=Bn(Error(U(424)),t),Ws(r),t=zm(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=qn(e.firstChild),Jt=t,ze=!0,Za=null,Ln=!0,n=hv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zr(),a===r){t=ja(e,t,n);break e}Kt(e,t,a,n)}t=t.child}return t;case 26:return wo(e,t),e===null?(n=ag(t.type,null,t.pendingProps,null))?t.memoizedState=n:ze||(n=t.type,e=t.pendingProps,a=Zo(Pa.current).createElement(n),a[Xt]=t,a[dn]=e,Pt(a,n,e),Bt(a),t.stateNode=a):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return td(t),e===null&&ze&&(a=t.stateNode=Jp(t.type,t.pendingProps,Pa.current),Jt=t,Ln=!0,r=ct,dr(t.type)?(qd=r,ct=qn(a.firstChild)):ct=r),Kt(e,t,t.pendingProps.children,n),wo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((r=a=ct)&&(a=gx(a,t.type,t.pendingProps,Ln),a!==null?(t.stateNode=a,Jt=t,ct=qn(a.firstChild),Ln=!1,r=!0):r=!1),r||sr(t)),td(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,$d(r,i)?a=null:s!==null&&$d(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=Bf(e,t,AS,null,null,n),il._currentValue=r),wo(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&ze&&((e=n=ct)&&(n=yx(n,t.pendingProps,Ln),n!==null?(t.stateNode=n,Jt=t,ct=null,e=!0):e=!1),e||sr(t)),null;case 13:return np(e,t,n);case 4:return No(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Br(t,null,a,n):Kt(e,t,a,n),t.child;case 11:return Am(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,La(t,t.type,a.value),Kt(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,$r(t),r=Qt(r),a=a(r),t.flags|=1,Kt(e,t,a,n),t.child;case 14:return Cm(e,t,t.type,t.pendingProps,n);case 15:return ep(e,t,t.type,t.pendingProps,n);case 19:return ap(e,t,n);case 31:return BS(e,t,n);case 22:return tp(e,t,n,t.pendingProps);case 24:return $r(t),a=Qt(Ot),e===null?(r=Mf(),r===null&&(r=et,i=Rf(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},Uf(t),La(t,Ot,r)):(e.lanes&n&&(vd(e,t),Us(t,null,null,n),ks()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),La(t,Ot,a)):(a=i.cache,La(t,Ot,a),a!==r.cache&&gd(t,[Ot],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function ua(e){e.flags|=4}function wu(e,t,n,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Dp())e.flags|=8192;else throw Mr=$o,kf}else e.flags&=-16777217}function Bm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Zp(t))if(Dp())e.flags|=8192;else throw Mr=$o,kf}function Xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ny():536870912,e.lanes|=t,Yi|=t)}function vs(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function HS(e,t,n){var a=t.pendingProps;switch(Cf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(Ot),zi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ti(t)?ua(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fu())),ot(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(ua(t),i!==null?(ot(t),Bm(t,i)):(ot(t),wu(t,r,null,a,n))):i?i!==e.memoizedState?(ua(t),ot(t),Bm(t,i)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ua(t),ot(t),wu(t,r,e,a,n)),null;case 27:if(Ao(t),n=Pa.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return ot(t),null}e=aa.current,ti(t)?hm(t):(e=Jp(r,a,n),t.stateNode=e,ua(t))}return ot(t),null;case 5:if(Ao(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(!a){if(t.stateNode===null)throw Error(U(166));return ot(t),null}if(i=aa.current,ti(t))hm(t);else{var s=Zo(Pa.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?s.createElement(r,{is:a.is}):s.createElement(r)}}i[Xt]=t,i[dn]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(Pt(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ua(t)}}return ot(t),wu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ua(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(U(166));if(e=Pa.current,ti(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Jt,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Vp(e.nodeValue,n)),e||sr(t,!0)}else e=Zo(e).createTextNode(a),e[Xt]=t,t.stateNode=e}return ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ti(t),n!==null){if(e===null){if(!a)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[Xt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else n=fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(pn(t),t):(pn(t),null);if(t.flags&128)throw Error(U(558))}return ot(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ti(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(U(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[Xt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),r=!1}else r=fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(pn(t),t):(pn(t),null)}return pn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xl(t,t.updateQueue),ot(t),null);case 4:return zi(),e===null&&rh(t.stateNode.containerInfo),ot(t),null;case 10:return wa(t.type),ot(t),null;case 19:if(Lt(_t),a=t.memoizedState,a===null)return ot(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)vs(a,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Lo(e),i!==null){for(t.flags|=128,vs(a,!1),e=i.updateQueue,t.updateQueue=e,Xl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)iv(n,e),n=n.sibling;return lt(_t,_t.current&1|2),ze&&ga(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&xn()>Go&&(t.flags|=128,r=!0,vs(a,!1),t.lanes=4194304)}else{if(!r)if(e=Lo(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Xl(t,e),vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ze)return ot(t),null}else 2*xn()-a.renderingStartTime>Go&&n!==536870912&&(t.flags|=128,r=!0,vs(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=xn(),e.sibling=null,n=_t.current,lt(_t,r?n&1|2:n&1),ze&&ga(t,a.treeForkCount),e):(ot(t),null);case 22:case 23:return pn(t),zf(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Xl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Lt(Rr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(Ot),ot(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function qS(e,t){switch(Cf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(Ot),zi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ao(t),null;case 31:if(t.memoizedState!==null){if(pn(t),t.alternate===null)throw Error(U(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(_t),null;case 4:return zi(),null;case 10:return wa(t.type),null;case 22:case 23:return pn(t),zf(),e!==null&&Lt(Rr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(Ot),null;case 25:return null;default:return null}}function ip(e,t){switch(Cf(t),t.tag){case 3:wa(Ot),zi();break;case 26:case 27:case 5:Ao(t);break;case 4:zi();break;case 31:t.memoizedState!==null&&pn(t);break;case 13:pn(t);break;case 19:Lt(_t);break;case 10:wa(t.type);break;case 22:case 23:pn(t),zf(),e!==null&&Lt(Rr);break;case 24:wa(Ot)}}function wl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var i=n.create,s=n.inst;a=i(),s.destroy=a}n=n.next}while(n!==r)}}catch(l){Pe(t,t.return,l)}}function lr(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&e)===e){var s=a.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=t;var o=n,u=l;try{u()}catch(d){Pe(r,o,d)}}}a=a.next}while(a!==i)}}catch(d){Pe(t,t.return,d)}}function sp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gv(t,n)}catch(a){Pe(e,e.return,a)}}}function lp(e,t,n){n.props=Hr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Pe(e,t,a)}}function $s(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){Pe(e,t,r)}}function na(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){Pe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function op(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Pe(e,e.return,r)}}function Su(e,t,n){try{var a=e.stateNode;cx(a,e.type,n,t),a[dn]=t}catch(r){Pe(e,e.return,r)}}function cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pa));else if(a!==4&&(a===27&&dr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Dd(e,t,n),e=e.sibling;e!==null;)Dd(e,t,n),e=e.sibling}function Vo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&dr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vo(e,t,n),e=e.sibling;e!==null;)Vo(e,t,n),e=e.sibling}function up(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pt(t,a,n),t[Xt]=e,t[dn]=n}catch(i){Pe(e,e.return,i)}}var ya=!1,jt=!1,Eu=!1,Lm=typeof WeakSet=="function"?WeakSet:Set,zt=null;function YS(e,t){if(e=e.containerInfo,Ud=tc,e=Zy(e),jf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,o=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(l=s+r),h!==i||a!==0&&h.nodeType!==3||(o=s+a),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===r&&(l=s),m===i&&++d===a&&(o=s),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zd={focusedElem:e,selectionRange:n},tc=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var p=Hr(n.type,r);e=a.getSnapshotBeforeUpdate(p,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){Pe(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Bd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function dp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fa(e,n),a&4&&wl(5,n);break;case 1:if(fa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Pe(n,n.return,s)}else{var r=Hr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Pe(n,n.return,s)}}a&64&&sp(n),a&512&&$s(n,n.return);break;case 3:if(fa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gv(e,t)}catch(s){Pe(n,n.return,s)}}break;case 27:t===null&&a&4&&up(n);case 26:case 5:fa(e,n),t===null&&a&4&&op(n),a&512&&$s(n,n.return);break;case 12:fa(e,n);break;case 31:fa(e,n),a&4&&mp(e,n);break;case 13:fa(e,n),a&4&&gp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ZS.bind(null,n),vx(e,n))));break;case 22:if(a=n.memoizedState!==null||ya,!a){t=t!==null&&t.memoizedState!==null||jt,r=ya;var i=jt;ya=a,(jt=t)&&!i?ha(e,n,(n.subtreeFlags&8772)!==0):fa(e,n),ya=r,jt=i}break;case 30:break;default:fa(e,n)}}function fp(e){var t=e.alternate;t!==null&&(e.alternate=null,fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_f(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,on=!1;function da(e,t,n){for(n=n.child;n!==null;)hp(e,t,n),n=n.sibling}function hp(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 26:jt||na(n,t),da(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||na(n,t);var a=ft,r=on;dr(n.type)&&(ft=n.stateNode,on=!1),da(e,t,n),qs(n.stateNode),ft=a,on=r;break;case 5:jt||na(n,t);case 6:if(a=ft,r=on,ft=null,da(e,t,n),ft=a,on=r,ft!==null)if(on)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(i){Pe(n,t,i)}else try{ft.removeChild(n.stateNode)}catch(i){Pe(n,t,i)}break;case 18:ft!==null&&(on?(e=ft,Fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ki(e)):Fm(ft,n.stateNode));break;case 4:a=ft,r=on,ft=n.stateNode.containerInfo,on=!0,da(e,t,n),ft=a,on=r;break;case 0:case 11:case 14:case 15:lr(2,n,t),jt||lr(4,n,t),da(e,t,n);break;case 1:jt||(na(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&lp(n,t,a)),da(e,t,n);break;case 21:da(e,t,n);break;case 22:jt=(a=jt)||n.memoizedState!==null,da(e,t,n),jt=a;break;default:da(e,t,n)}}function mp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ki(e)}catch(n){Pe(t,t.return,n)}}}function gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ki(e)}catch(n){Pe(t,t.return,n)}}function IS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lm),t;default:throw Error(U(435,e.tag))}}function Jl(e,t){var n=IS(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var r=FS.bind(null,e,a);a.then(r,r)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(dr(l.type)){ft=l.stateNode,on=!1;break e}break;case 5:ft=l.stateNode,on=!1;break e;case 3:case 4:ft=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(ft===null)throw Error(U(160));hp(i,s,r),ft=null,on=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yp(t,e),t=t.sibling}var Jn=null;function yp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),ln(e),a&4&&(lr(3,e,e.return),wl(3,e),lr(5,e,e.return));break;case 1:sn(t,e),ln(e),a&512&&(jt||n===null||na(n,n.return)),a&64&&ya&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Jn;if(sn(t,e),ln(e),a&512&&(jt||n===null||na(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":i=r.getElementsByTagName("title")[0],(!i||i[vl]||i[Xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),Pt(i,a,n),i[Xt]=e,Bt(i),a=i;break e;case"link":var s=ig("link","href",r).get(a+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(i=s[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}i=r.createElement(a),Pt(i,a,n),r.head.appendChild(i);break;case"meta":if(s=ig("meta","content",r).get(a+(n.content||""))){for(l=0;l<s.length;l++)if(i=s[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}i=r.createElement(a),Pt(i,a,n),r.head.appendChild(i);break;default:throw Error(U(468,a))}i[Xt]=e,Bt(i),a=i}e.stateNode=a}else sg(r,e.type,e.stateNode);else e.stateNode=rg(r,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?sg(r,e.type,e.stateNode):rg(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Su(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),ln(e),a&512&&(jt||n===null||na(n,n.return)),n!==null&&a&4&&Su(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),ln(e),a&512&&(jt||n===null||na(n,n.return)),e.flags&32){r=e.stateNode;try{Bi(r,"")}catch(p){Pe(e,e.return,p)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Su(e,r,n!==null?n.memoizedProps:r)),a&1024&&(Eu=!0);break;case 6:if(sn(t,e),ln(e),a&4){if(e.stateNode===null)throw Error(U(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){Pe(e,e.return,p)}}break;case 3:if(Eo=null,r=Jn,Jn=Fo(t.containerInfo),sn(t,e),Jn=r,ln(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ki(t.containerInfo)}catch(p){Pe(e,e.return,p)}Eu&&(Eu=!1,vp(e));break;case 4:a=Jn,Jn=Fo(e.stateNode.containerInfo),sn(t,e),ln(e),Jn=a;break;case 12:sn(t,e),ln(e);break;case 31:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 13:sn(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cc=xn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=ya,d=jt;if(ya=u||r,jt=d||o,sn(t,e),jt=d,ya=u,ln(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||ya||jt||Er(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,r)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var h=o.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(p){Pe(o,o.return,p)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(p){Pe(o,o.return,p)}}}else if(t.tag===18){if(n===null){o=t;try{var f=o.stateNode;r?Wm(f,!0):Wm(o.stateNode,!1)}catch(p){Pe(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Jl(e,n))));break;case 19:sn(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Jl(e,a)));break;case 30:break;case 21:break;default:sn(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(cp(a)){n=a;break}a=a.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,i=xu(e);Vo(e,i,r);break;case 5:var s=n.stateNode;n.flags&32&&(Bi(s,""),n.flags&=-33);var l=xu(e);Vo(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=xu(e);Dd(e,u,o);break;default:throw Error(U(161))}}catch(d){Pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dp(e,t.alternate,t),t=t.sibling}function Er(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:lr(4,t,t.return),Er(t);break;case 1:na(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lp(t,t.return,n),Er(t);break;case 27:qs(t.stateNode);case 26:case 5:na(t,t.return),Er(t);break;case 22:t.memoizedState===null&&Er(t);break;case 30:Er(t);break;default:Er(t)}e=e.sibling}}function ha(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:ha(r,i,n),wl(4,i);break;case 1:if(ha(r,i,n),a=i,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Pe(a,a.return,u)}if(a=i,r=a.updateQueue,r!==null){var l=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)mv(o[r],l)}catch(u){Pe(a,a.return,u)}}n&&s&64&&sp(i),$s(i,i.return);break;case 27:up(i);case 26:case 5:ha(r,i,n),n&&a===null&&s&4&&op(i),$s(i,i.return);break;case 12:ha(r,i,n);break;case 31:ha(r,i,n),n&&s&4&&mp(r,i);break;case 13:ha(r,i,n),n&&s&4&&gp(r,i);break;case 22:i.memoizedState===null&&ha(r,i,n),$s(i,i.return);break;case 30:break;default:ha(r,i,n)}t=t.sibling}}function Ff(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bl(n))}function Wf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e))}function In(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(e,t,n,a),t=t.sibling}function pp(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,a),r&2048&&wl(9,t);break;case 1:In(e,t,n,a);break;case 3:In(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e)));break;case 12:if(r&2048){In(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,l=i.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Pe(t,t.return,o)}}else In(e,t,n,a);break;case 31:In(e,t,n,a);break;case 13:In(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,t.memoizedState!==null?i._visibility&2?In(e,t,n,a):Bs(e,t):i._visibility&2?In(e,t,n,a):(i._visibility|=2,ci(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Ff(s,t);break;case 24:In(e,t,n,a),r&2048&&Wf(t.alternate,t);break;default:In(e,t,n,a)}}function ci(e,t,n,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,s=t,l=n,o=a,u=s.flags;switch(s.tag){case 0:case 11:case 15:ci(i,s,l,o,r),wl(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?ci(i,s,l,o,r):Bs(i,s):(d._visibility|=2,ci(i,s,l,o,r)),r&&u&2048&&Ff(s.alternate,s);break;case 24:ci(i,s,l,o,r),r&&u&2048&&Wf(s.alternate,s);break;default:ci(i,s,l,o,r)}t=t.sibling}}function Bs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Bs(n,a),r&2048&&Ff(a.alternate,a);break;case 24:Bs(n,a),r&2048&&Wf(a.alternate,a);break;default:Bs(n,a)}t=t.sibling}}var Ts=8192;function ni(e,t,n){if(e.subtreeFlags&Ts)for(e=e.child;e!==null;)bp(e,t,n),e=e.sibling}function bp(e,t,n){switch(e.tag){case 26:ni(e,t,n),e.flags&Ts&&e.memoizedState!==null&&Nx(n,Jn,e.memoizedState,e.memoizedProps);break;case 5:ni(e,t,n);break;case 3:case 4:var a=Jn;Jn=Fo(e.stateNode.containerInfo),ni(e,t,n),Jn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ts,Ts=16777216,ni(e,t,n),Ts=a):ni(e,t,n));break;default:ni(e,t,n)}}function _p(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ps(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,Sp(a,e)}_p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&lr(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,So(e)):ps(e);break;default:ps(e)}}function So(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];zt=a,Sp(a,e)}_p(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:lr(8,t,t.return),So(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,So(t));break;default:So(t)}e=e.sibling}}function Sp(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:lr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,zt=a;else e:for(n=e;zt!==null;){a=zt;var r=a.sibling,i=a.return;if(fp(a),a===n){zt=null;break e}if(r!==null){r.return=i,zt=r;break e}zt=i}}}var VS={getCacheForType:function(e){var t=Qt(Ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qt(Ot).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,et=null,Re=null,Me=0,Qe=0,vn=null,Xa=!1,ns=!1,eh=!1,Oa=0,pt=0,or=0,kr=0,th=0,Sn=0,Yi=0,Ls=null,cn=null,Nd=!1,Cc=0,xp=0,Go=1/0,Ko=null,er=null,Rt=0,tr=null,Ii=null,Sa=0,Ad=0,Cd=null,Ep=null,Hs=0,Rd=null;function jn(){return Ie&2&&Me!==0?Me&-Me:ge.T!==null?ah():My()}function Tp(){if(Sn===0)if(!(Me&536870912)||ze){var e=Hl;Hl<<=1,!(Hl&3932160)&&(Hl=262144),Sn=e}else Sn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Sn}function un(e,t,n){(e===et&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Vi(e,0),Ja(e,Me,Sn,!1)),yl(e,n),(!(Ie&2)||e!==et)&&(e===et&&(!(Ie&2)&&(kr|=n),pt===4&&Ja(e,Me,Sn,!1)),ia(e))}function jp(e,t,n){if(Ie&6)throw Error(U(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||gl(e,t),r=a?JS(e,t):Tu(e,t,!0),i=a;do{if(r===0){ns&&!a&&Ja(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!KS(n)){r=Tu(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;r=Ls;var o=l.current.memoizedState.isDehydrated;if(o&&(Vi(l,s).flags|=256),s=Tu(l,s,!1),s!==2){if(eh&&!o){l.errorRecoveryDisabledLanes|=i,kr|=i,r=4;break e}i=cn,cn=r,i!==null&&(cn===null?cn=i:cn.push.apply(cn,i))}r=s}if(i=!1,r!==2)continue}}if(r===1){Vi(e,0),Ja(e,t,0,!0);break}e:{switch(a=e,i=r,i){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Ja(a,t,Sn,!Xa);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(r=Cc+300-xn(),10<r)){if(Ja(a,t,Sn,!Xa),_c(a,0,!0)!==0)break e;Sa=t,a.timeoutHandle=Kp(Hm.bind(null,a,n,cn,Ko,Nd,t,Sn,kr,Yi,Xa,i,"Throttled",-0,0),r);break e}Hm(a,n,cn,Ko,Nd,t,Sn,kr,Yi,Xa,i,null,-0,0)}}break}while(!0);ia(e)}function Hm(e,t,n,a,r,i,s,l,o,u,d,h,m,f){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},bp(t,i,h);var p=(i&62914560)===i?Cc-xn():(i&4194048)===i?xp-xn():0;if(p=Ax(h,p),p!==null){Sa=i,e.cancelPendingCommit=p(Ym.bind(null,e,t,i,n,a,r,s,l,o,d,h,null,m,f)),Ja(e,i,s,!u);return}}Ym(e,t,i,n,a,r,s,l,o)}function KS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!On(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,n,a){t&=~th,t&=~kr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var i=31-Tn(r),s=1<<i;a[i]=-1,r&=~s}n!==0&&Ay(e,n,t)}function Rc(){return Ie&6?!0:(Sl(0),!1)}function nh(){if(Re!==null){if(Qe===0)var e=Re.return;else e=Re,ba=Gr=null,qf(e),Ci=null,el=0,e=Re;for(;e!==null;)ip(e.alternate,e),e=e.return;Re=null}}function Vi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Sa=0,nh(),et=e,Re=n=_a(e.current,null),Me=t,Qe=0,vn=null,Xa=!1,ns=gl(e,t),eh=!1,Yi=Sn=th=kr=or=pt=0,cn=Ls=null,Nd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Tn(a),i=1<<r;t|=e[r],a&=~i}return Oa=t,Ec(),n}function Op(e,t){we=null,ge.H=nl,t===ts||t===jc?(t=pm(),Qe=3):t===kf?(t=pm(),Qe=4):Qe=t===Pf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,Re===null&&(pt=1,Yo(e,Bn(t,e.current)))}function Dp(){var e=Dn.current;return e===null?!0:(Me&4194048)===Me?Hn===null:(Me&62914560)===Me||Me&536870912?e===Hn:!1}function Np(){var e=ge.H;return ge.H=nl,e===null?nl:e}function Ap(){var e=ge.A;return ge.A=VS,e}function Xo(){pt=4,Xa||(Me&4194048)!==Me&&Dn.current!==null||(ns=!0),!(or&134217727)&&!(kr&134217727)||et===null||Ja(et,Me,Sn,!1)}function Tu(e,t,n){var a=Ie;Ie|=2;var r=Np(),i=Ap();(et!==e||Me!==t)&&(Ko=null,Vi(e,t)),t=!1;var s=pt;e:do try{if(Qe!==0&&Re!==null){var l=Re,o=vn;switch(Qe){case 8:nh(),s=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(t=!0);var u=Qe;if(Qe=0,vn=null,Ti(e,l,o,u),n&&ns){s=0;break e}break;default:u=Qe,Qe=0,vn=null,Ti(e,l,o,u)}}XS(),s=pt;break}catch(d){Op(e,d)}while(!0);return t&&e.shellSuspendCounter++,ba=Gr=null,Ie=a,ge.H=r,ge.A=i,Re===null&&(et=null,Me=0,Ec()),s}function XS(){for(;Re!==null;)Cp(Re)}function JS(e,t){var n=Ie;Ie|=2;var a=Np(),r=Ap();et!==e||Me!==t?(Ko=null,Go=xn()+500,Vi(e,t)):ns=gl(e,t);e:do try{if(Qe!==0&&Re!==null){t=Re;var i=vn;t:switch(Qe){case 1:Qe=0,vn=null,Ti(e,t,i,1);break;case 2:case 9:if(vm(i)){Qe=0,vn=null,qm(t);break}t=function(){Qe!==2&&Qe!==9||et!==e||(Qe=7),ia(e)},i.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:vm(i)?(Qe=0,vn=null,qm(t)):(Qe=0,vn=null,Ti(e,t,i,7));break;case 5:var s=null;switch(Re.tag){case 26:s=Re.memoizedState;case 5:case 27:var l=Re;if(s?Zp(s):l.stateNode.complete){Qe=0,vn=null;var o=l.sibling;if(o!==null)Re=o;else{var u=l.return;u!==null?(Re=u,Mc(u)):Re=null}break t}}Qe=0,vn=null,Ti(e,t,i,5);break;case 6:Qe=0,vn=null,Ti(e,t,i,6);break;case 8:nh(),pt=6;break e;default:throw Error(U(462))}}QS();break}catch(d){Op(e,d)}while(!0);return ba=Gr=null,ge.H=a,ge.A=r,Ie=n,Re!==null?0:(et=null,Me=0,Ec(),pt)}function QS(){for(;Re!==null&&!pw();)Cp(Re)}function Cp(e){var t=rp(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Mc(e):Re=t}function qm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=km(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=km(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:qf(t);default:ip(n,t),t=Re=iv(t,Oa),t=rp(n,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Mc(e):Re=t}function Ti(e,t,n,a){ba=Gr=null,qf(t),Ci=null,el=0;var r=t.return;try{if($S(e,r,t,n,Me)){pt=1,Yo(e,Bn(n,e.current)),Re=null;return}}catch(i){if(r!==null)throw Re=r,i;pt=1,Yo(e,Bn(n,e.current)),Re=null;return}t.flags&32768?(ze||a===1?e=!0:ns||Me&536870912?e=!1:(Xa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Dn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Rp(t,e)):Mc(t)}function Mc(e){var t=e;do{if(t.flags&32768){Rp(t,Xa);return}e=t.return;var n=HS(t.alternate,t,Oa);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);pt===0&&(pt=5)}function Rp(e,t){do{var n=qS(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);pt=6,Re=null}function Ym(e,t,n,a,r,i,s,l,o){e.cancelPendingCommit=null;do kc();while(Rt!==0);if(Ie&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(i=t.lanes|t.childLanes,i|=Of,Dw(e,n,i,s,l,o),e===et&&(Re=et=null,Me=0),Ii=t,tr=e,Sa=n,Ad=i,Cd=r,Ep=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,WS(Co,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ge.T,ge.T=null,r=Ve.p,Ve.p=2,s=Ie,Ie|=4;try{YS(e,t,n)}finally{Ie=s,Ve.p=r,ge.T=a}}Rt=1,Mp(),kp(),Up()}}function Mp(){if(Rt===1){Rt=0;var e=tr,t=Ii,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ge.T,ge.T=null;var a=Ve.p;Ve.p=2;var r=Ie;Ie|=4;try{yp(t,e);var i=zd,s=Zy(e.containerInfo),l=i.focusedElem,o=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Py(l.ownerDocument.documentElement,l)){if(o!==null&&jf(l)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var f=m.getSelection(),p=l.textContent.length,b=Math.min(o.start,p),x=o.end===void 0?b:Math.min(o.end,p);!f.extend&&b>x&&(s=x,x=b,b=s);var v=um(l,b),g=um(l,x);if(v&&g&&(f.rangeCount!==1||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==g.node||f.focusOffset!==g.offset)){var y=h.createRange();y.setStart(v.node,v.offset),f.removeAllRanges(),b>x?(f.addRange(y),f.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),f.addRange(y))}}}}for(h=[],f=l;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var w=h[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}tc=!!Ud,zd=Ud=null}finally{Ie=r,Ve.p=a,ge.T=n}}e.current=t,Rt=2}}function kp(){if(Rt===2){Rt=0;var e=tr,t=Ii,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ge.T,ge.T=null;var a=Ve.p;Ve.p=2;var r=Ie;Ie|=4;try{dp(e,t.alternate,t)}finally{Ie=r,Ve.p=a,ge.T=n}}Rt=3}}function Up(){if(Rt===4||Rt===3){Rt=0,bw();var e=tr,t=Ii,n=Sa,a=Ep;t.subtreeFlags&10256||t.flags&10256?Rt=5:(Rt=0,Ii=tr=null,zp(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(er=null),bf(n),t=t.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(ml,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ge.T,r=Ve.p,Ve.p=2,ge.T=null;try{for(var i=e.onRecoverableError,s=0;s<a.length;s++){var l=a[s];i(l.value,{componentStack:l.stack})}}finally{ge.T=t,Ve.p=r}}Sa&3&&kc(),ia(e),r=e.pendingLanes,n&261930&&r&42?e===Rd?Hs++:(Hs=0,Rd=e):Hs=0,Sl(0)}}function zp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bl(t)))}function kc(){return Mp(),kp(),Up(),$p()}function $p(){if(Rt!==5)return!1;var e=tr,t=Ad;Ad=0;var n=bf(Sa),a=ge.T,r=Ve.p;try{Ve.p=32>n?32:n,ge.T=null,n=Cd,Cd=null;var i=tr,s=Sa;if(Rt=0,Ii=tr=null,Sa=0,Ie&6)throw Error(U(331));var l=Ie;if(Ie|=4,wp(i.current),pp(i,i.current,s,n),Ie=l,Sl(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(ml,i)}catch{}return!0}finally{Ve.p=r,ge.T=a,zp(e,t)}}function Im(e,t,n){t=Bn(n,t),t=Td(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(yl(e,2),ia(e))}function Pe(e,t,n){if(e.tag===3)Im(e,e,n);else for(;t!==null;){if(t.tag===3){Im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(er===null||!er.has(a))){e=Bn(n,e),n=Fv(2),a=Wa(t,n,2),a!==null&&(Wv(n,a,t,e),yl(a,2),ia(a));break}}t=t.return}}function ju(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new GS;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(eh=!0,r.add(n),e=PS.bind(null,e,t,n),t.then(e,e))}function PS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,et===e&&(Me&n)===n&&(pt===4||pt===3&&(Me&62914560)===Me&&300>xn()-Cc?!(Ie&2)&&Vi(e,0):th|=n,Yi===Me&&(Yi=0)),ia(e)}function Bp(e,t){t===0&&(t=Ny()),e=Vr(e,t),e!==null&&(yl(e,t),ia(e))}function ZS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bp(e,n)}function FS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(U(314))}a!==null&&a.delete(t),Bp(e,n)}function WS(e,t){return vf(e,t)}var Jo=null,ui=null,Md=!1,Qo=!1,Ou=!1,Qa=0;function ia(e){e!==ui&&e.next===null&&(ui===null?Jo=ui=e:ui=ui.next=e),Qo=!0,Md||(Md=!0,tx())}function Sl(e,t){if(!Ou&&Qo){Ou=!0;do for(var n=!1,a=Jo;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var i=0;else{var s=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-Tn(42|e)+1)-1,i&=r&~(s&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Vm(a,i))}else i=Me,i=_c(a,a===et?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||gl(a,i)||(n=!0,Vm(a,i));a=a.next}while(n);Ou=!1}}function ex(){Lp()}function Lp(){Qo=Md=!1;var e=0;Qa!==0&&dx()&&(e=Qa);for(var t=xn(),n=null,a=Jo;a!==null;){var r=a.next,i=Hp(a,t);i===0?(a.next=null,n===null?Jo=r:n.next=r,r===null&&(ui=n)):(n=a,(e!==0||i&3)&&(Qo=!0)),a=r}Rt!==0&&Rt!==5||Sl(e),Qa!==0&&(Qa=0)}function Hp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var s=31-Tn(i),l=1<<s,o=r[s];o===-1?(!(l&n)||l&a)&&(r[s]=Ow(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}if(t=et,n=Me,n=_c(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&tu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||gl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&tu(a),bf(n)){case 2:case 8:n=Oy;break;case 32:n=Co;break;case 268435456:n=Dy;break;default:n=Co}return a=qp.bind(null,e),n=vf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&tu(a),e.callbackPriority=2,e.callbackNode=null,2}function qp(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var a=Me;return a=_c(e,e===et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(jp(e,a,t),Hp(e,xn()),e.callbackNode!=null&&e.callbackNode===n?qp.bind(null,e):null)}function Vm(e,t){if(kc())return null;jp(e,t,!0)}function tx(){hx(function(){Ie&6?vf(jy,ex):Lp()})}function ah(){if(Qa===0){var e=Li;e===0&&(e=Ll,Ll<<=1,!(Ll&261888)&&(Ll=256)),Qa=e}return Qa}function Gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Km(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function nx(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var i=Gm((r[dn]||null).action),s=a.submitter;s&&(t=(t=s[dn]||null)?Gm(t.formAction):s.getAttribute("formAction"),t!==null&&(i=t,s=null));var l=new wc("action","action",null,a,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qa!==0){var o=s?Km(r,s):new FormData(r);xd(n,{pending:!0,data:o,method:r.method,action:i},null,o)}}else typeof i=="function"&&(l.preventDefault(),o=s?Km(r,s):new FormData(r),xd(n,{pending:!0,data:o,method:r.method,action:i},i,o))},currentTarget:r}]})}}for(var Du=0;Du<dd.length;Du++){var Nu=dd[Du],ax=Nu.toLowerCase(),rx=Nu[0].toUpperCase()+Nu.slice(1);Fn(ax,"on"+rx)}Fn(Wy,"onAnimationEnd");Fn(ev,"onAnimationIteration");Fn(tv,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(_S,"onTransitionRun");Fn(wS,"onTransitionStart");Fn(SS,"onTransitionCancel");Fn(nv,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Yp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mo(d)}r.currentTarget=null,i=o}else for(s=0;s<a.length;s++){if(l=a[s],o=l.instance,u=l.currentTarget,l=l.listener,o!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mo(d)}r.currentTarget=null,i=o}}}}function Ce(e,t){var n=t[ad];n===void 0&&(n=t[ad]=new Set);var a=e+"__bubble";n.has(a)||(Ip(t,e,2,!1),n.add(a))}function Au(e,t,n){var a=0;t&&(a|=4),Ip(n,e,a,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function rh(e){if(!e[Ql]){e[Ql]=!0,ky.forEach(function(n){n!=="selectionchange"&&(ix.has(n)||Au(n,!1,e),Au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Au("selectionchange",!1,t))}}function Ip(e,t,n,a){switch(n0(t)){case 2:var r=Mx;break;case 8:r=kx;break;default:r=oh}n=r.bind(null,t,n,e),r=void 0,!od||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Cu(e,t,n,a,r){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var l=a.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=a.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=yi(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){a=i=s;continue e}l=l.parentNode}}a=a.return}Yy(function(){var u=i,d=Sf(n),h=[];e:{var m=av.get(e);if(m!==void 0){var f=wc,p=e;switch(e){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":f=Fw;break;case"focusin":p="focus",f=su;break;case"focusout":p="blur",f=su;break;case"beforeblur":case"afterblur":f=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tS;break;case Wy:case ev:case tv:f=Iw;break;case nv:f=aS;break;case"scroll":case"scrollend":f=Bw;break;case"wheel":f=iS;break;case"copy":case"cut":case"paste":f=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nm;break;case"toggle":case"beforetoggle":f=lS}var b=(t&4)!==0,x=!b&&(e==="scroll"||e==="scrollend"),v=b?m!==null?m+"Capture":null:m;b=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||v===null||(w=Qs(g,v),w!=null&&b.push(rl(g,w,y))),x)break;g=g.return}0<b.length&&(m=new f(m,p,null,n,d),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&n!==ld&&(p=n.relatedTarget||n.fromElement)&&(yi(p)||p[Fi]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?yi(p):null,p!==null&&(x=hl(p),b=p.tag,p!==x||b!==5&&b!==27&&b!==6)&&(p=null)):(f=null,p=u),f!==p)){if(b=em,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=nm,w="onPointerLeave",v="onPointerEnter",g="pointer"),x=f==null?m:xs(f),y=p==null?m:xs(p),m=new b(w,g+"leave",f,n,d),m.target=x,m.relatedTarget=y,w=null,yi(d)===u&&(b=new b(v,g+"enter",p,n,d),b.target=y,b.relatedTarget=x,w=b),x=w,f&&p)t:{for(b=sx,v=f,g=p,y=0,w=v;w;w=b(w))y++;w=0;for(var T=g;T;T=b(T))w++;for(;0<y-w;)v=b(v),y--;for(;0<w-y;)g=b(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate){b=v;break t}v=b(v),g=b(g)}b=null}else b=null;f!==null&&Xm(h,m,f,b,!1),p!==null&&x!==null&&Xm(h,x,p,b,!0)}}e:{if(m=u?xs(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var E=sm;else if(im(m))if(Jy)E=vS;else{E=gS;var S=mS}else f=m.nodeName,!f||f.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&wf(u.elementType)&&(E=sm):E=yS;if(E&&(E=E(e,u))){Xy(h,E,n,d);break e}S&&S(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&sd(m,"number",m.value)}switch(S=u?xs(u):window,e){case"focusin":(im(S)||S.contentEditable==="true")&&(bi=S,cd=u,Cs=null);break;case"focusout":Cs=cd=bi=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,dm(h,n,d);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":dm(h,n,d)}var j;if(Tf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else pi?Gy(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Vy&&n.locale!=="ko"&&(pi||D!=="onCompositionStart"?D==="onCompositionEnd"&&pi&&(j=Iy()):(Ka=d,xf="value"in Ka?Ka.value:Ka.textContent,pi=!0)),S=Po(u,D),0<S.length&&(D=new tm(D,e,null,n,d),h.push({event:D,listeners:S}),j?D.data=j:(j=Ky(n),j!==null&&(D.data=j)))),(j=cS?uS(e,n):dS(e,n))&&(D=Po(u,"onBeforeInput"),0<D.length&&(S=new tm("onBeforeInput","beforeinput",null,n,d),h.push({event:S,listeners:D}),S.data=j)),nx(h,e,u,n,d)}Yp(h,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Po(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Qs(e,n),r!=null&&a.unshift(rl(e,r,i)),r=Qs(e,t),r!=null&&a.push(rl(e,r,i))),e.tag===3)return a;e=e.return}return[]}function sx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xm(e,t,n,a,r){for(var i=t._reactName,s=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,r?(u=Qs(n,i),u!=null&&s.unshift(rl(n,u,o))):r||(u=Qs(n,i),u!=null&&s.push(rl(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function Jm(e){return(typeof e=="string"?e:""+e).replace(lx,`
`).replace(ox,"")}function Vp(e,t){return t=Jm(t),Jm(e)===t}function Ze(e,t,n,a,r,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Bi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Bi(e,""+a);break;case"className":Yl(e,"class",a);break;case"tabIndex":Yl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(e,n,a);break;case"style":qy(e,a,i);break;case"data":if(t!=="object"){Yl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ho(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",r.name,r,null),Ze(e,t,"formEncType",r.formEncType,r,null),Ze(e,t,"formMethod",r.formMethod,r,null),Ze(e,t,"formTarget",r.formTarget,r,null)):(Ze(e,t,"encType",r.encType,r,null),Ze(e,t,"method",r.method,r,null),Ze(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ho(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=pa);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),fo(e,"popover",a);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zw.get(n)||n,fo(e,n,a))}}function kd(e,t,n,a,r,i){switch(n){case"style":qy(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(U(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Bi(e,a):(typeof a=="number"||typeof a=="bigint")&&Bi(e,""+a);break;case"onScroll":a!=null&&Ce("scroll",e);break;case"onScrollEnd":a!=null&&Ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uy.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[dn]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):fo(e,n,a)}}}function Pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var a=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Ze(e,t,i,s,n,null)}}r&&Ze(e,t,"srcSet",n.srcSet,n,null),a&&Ze(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var l=i=s=r=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":r=d;break;case"type":s=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:Ze(e,t,a,d,n,null)}}By(e,i,l,o,u,s,r,!1);return;case"select":Ce("invalid",e),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Ze(e,t,r,l,n,null)}t=i,n=s,e.multiple=!!a,t!=null?Di(e,!!a,t,!1):n!=null&&Di(e,!!a,n,!0);return;case"textarea":Ce("invalid",e),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Ze(e,t,s,l,n,null)}Hy(e,a,r,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ze(e,t,o,a,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(a=0;a<al.length;a++)Ce(al[a],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Ze(e,t,u,a,n,null)}return;default:if(wf(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&kd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ze(e,t,l,a,n,null))}function cx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,l=null,o=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=h;default:a.hasOwnProperty(f)||Ze(e,t,f,null,a,h)}}for(var m in a){var f=a[m];if(h=n[m],a.hasOwnProperty(m)&&(f!=null||h!=null))switch(m){case"type":i=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,t));break;default:f!==h&&Ze(e,t,m,f,a,h)}}id(e,s,l,o,u,d,i,r);return;case"select":f=s=l=m=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":f=o;default:a.hasOwnProperty(i)||Ze(e,t,i,null,a,o)}for(r in a)if(i=a[r],o=n[r],a.hasOwnProperty(r)&&(i!=null||o!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==o&&Ze(e,t,r,i,a,o)}t=l,n=s,a=f,m!=null?Di(e,!!n,m,!1):!!a!=!!n&&(t!=null?Di(e,!!n,t,!0):Di(e,!!n,n?[]:"",!1));return;case"textarea":f=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ze(e,t,l,null,a,r)}for(s in a)if(r=a[s],i=n[s],a.hasOwnProperty(s)&&(r!=null||i!=null))switch(s){case"value":m=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==i&&Ze(e,t,s,r,a,i)}Ly(e,m,f);return;case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&m!=null&&!a.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:Ze(e,t,p,null,a,m)}for(o in a)if(m=a[o],f=n[o],a.hasOwnProperty(o)&&m!==f&&(m!=null||f!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ze(e,t,o,m,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Ze(e,t,b,null,a,m);for(u in a)if(m=a[u],f=n[u],a.hasOwnProperty(u)&&m!==f&&(m!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,t));break;default:Ze(e,t,u,m,a,f)}return;default:if(wf(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!==void 0&&!a.hasOwnProperty(x)&&kd(e,t,x,void 0,a,m);for(d in a)m=a[d],f=n[d],!a.hasOwnProperty(d)||m===f||m===void 0&&f===void 0||kd(e,t,d,m,a,f);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v)&&Ze(e,t,v,null,a,m);for(h in a)m=a[h],f=n[h],!a.hasOwnProperty(h)||m===f||m==null&&f==null||Ze(e,t,h,m,a,f)}function Qm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ux(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],i=r.transferSize,s=r.initiatorType,l=r.duration;if(i&&l&&Qm(s)){for(s=0,l=r.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var d=o.transferSize,h=o.initiatorType;d&&Qm(h)&&(o=o.responseEnd,s+=d*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(i+s)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ud=null,zd=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function Pm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ru=null;function dx(){var e=window.event;return e&&e.type==="popstate"?e===Ru?!1:(Ru=e,!0):(Ru=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(mx)}:Kp;function mx(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function Fm(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(r),Ki(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")qs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,qs(n);for(var i=n.firstChild;i;){var s=i.nextSibling,l=i.nodeName;i[vl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&qs(e.ownerDocument.body);n=r}while(n);Ki(t)}function Wm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Bd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bd(n),_f(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function gx(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[vl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function yx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function Xp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qd=null;function eg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Jp(e,t,n){switch(t=Zo(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_f(e)}var Yn=new Map,ng=new Set;function Fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=Ve.d;Ve.d={f:px,r:bx,D:_x,C:wx,L:Sx,m:xx,X:Tx,S:Ex,M:jx};function px(){var e=Da.f(),t=Rc();return e||t}function bx(e){var t=Wi(e);t!==null&&t.tag===5&&t.type==="form"?qv(t):Da.r(e)}var as=typeof document>"u"?null:document;function Qp(e,t,n){var a=as;if(a&&typeof t=="string"&&t){var r=$n(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),ng.has(r)||(ng.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),Pt(t,"link",e),Bt(t),a.head.appendChild(t)))}}function _x(e){Da.D(e),Qp("dns-prefetch",e,null)}function wx(e,t){Da.C(e,t),Qp("preconnect",e,t)}function Sx(e,t,n){Da.L(e,t,n);var a=as;if(a&&e&&t){var r='link[rel="preload"][as="'+$n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$n(n.imageSizes)+'"]')):r+='[href="'+$n(e)+'"]';var i=r;switch(t){case"style":i=Gi(e);break;case"script":i=rs(e)}Yn.has(i)||(e=dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yn.set(i,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(xl(i))||t==="script"&&a.querySelector(El(i))||(t=a.createElement("link"),Pt(t,"link",e),Bt(t),a.head.appendChild(t)))}}function xx(e,t){Da.m(e,t);var n=as;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+$n(a)+'"][href="'+$n(e)+'"]',i=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=rs(e)}if(!Yn.has(i)&&(e=dt({rel:"modulepreload",href:e},t),Yn.set(i,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(El(i)))return}a=n.createElement("link"),Pt(a,"link",e),Bt(a),n.head.appendChild(a)}}}function Ex(e,t,n){Da.S(e,t,n);var a=as;if(a&&e){var r=Oi(a).hoistableStyles,i=Gi(e);t=t||"default";var s=r.get(i);if(!s){var l={loading:0,preload:null};if(s=a.querySelector(xl(i)))l.loading=5;else{e=dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yn.get(i))&&ih(e,n);var o=s=a.createElement("link");Bt(o),Pt(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,xo(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(i,s)}}}function Tx(e,t){Da.X(e,t);var n=as;if(n&&e){var a=Oi(n).hoistableScripts,r=rs(e),i=a.get(r);i||(i=n.querySelector(El(r)),i||(e=dt({src:e,async:!0},t),(t=Yn.get(r))&&sh(e,t),i=n.createElement("script"),Bt(i),Pt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function jx(e,t){Da.M(e,t);var n=as;if(n&&e){var a=Oi(n).hoistableScripts,r=rs(e),i=a.get(r);i||(i=n.querySelector(El(r)),i||(e=dt({src:e,async:!0,type:"module"},t),(t=Yn.get(r))&&sh(e,t),i=n.createElement("script"),Bt(i),Pt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function ag(e,t,n,a){var r=(r=Pa.current)?Fo(r):null;if(!r)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Gi(n.href),n=Oi(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Gi(n.href);var i=Oi(r).hoistableStyles,s=i.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,s),(i=r.querySelector(xl(e)))&&!i._p&&(s.instance=i,s.state.loading=5),Yn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yn.set(e,n),i||Ox(r,e,n,s.state))),t&&a===null)throw Error(U(528,""));return s}if(t&&a!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rs(n),n=Oi(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function Gi(e){return'href="'+$n(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return dt({},e,{"data-precedence":e.precedence,precedence:null})}function Ox(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pt(t,"link",n),Bt(t),e.head.appendChild(t))}function rs(e){return'[src="'+$n(e)+'"]'}function El(e){return"script[async]"+e}function rg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$n(n.href)+'"]');if(a)return t.instance=a,Bt(a),a;var r=dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Bt(a),Pt(a,"style",r),xo(a,n.precedence,e),t.instance=a;case"stylesheet":r=Gi(n.href);var i=e.querySelector(xl(r));if(i)return t.state.loading|=4,t.instance=i,Bt(i),i;a=Pp(n),(r=Yn.get(r))&&ih(a,r),i=(e.ownerDocument||e).createElement("link"),Bt(i);var s=i;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Pt(i,"link",a),t.state.loading|=4,xo(i,n.precedence,e),t.instance=i;case"script":return i=rs(n.src),(r=e.querySelector(El(i)))?(t.instance=r,Bt(r),r):(a=n,(r=Yn.get(i))&&(a=dt({},n),sh(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),Bt(r),Pt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,xo(a,n.precedence,e));return t.instance}function xo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,i=r,s=0;s<a.length;s++){var l=a[s];if(l.dataset.precedence===t)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ih(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eo=null;function ig(e,t,n){if(Eo===null){var a=new Map,r=Eo=new Map;r.set(n,a)}else r=Eo,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[vl]||i[Xt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(t)||"";s=e+s;var l=a.get(s);l?l.push(i):a.set(s,[i])}}return a}function sg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Dx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Gi(a.href),i=t.querySelector(xl(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,Bt(i);return}i=t.ownerDocument||t,a=Pp(a),(r=Yn.get(r))&&ih(a,r),i=i.createElement("link"),Bt(i);var s=i;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Pt(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Wo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Mu=0;function Ax(e,t){return e.stylesheets&&e.count===0&&To(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&To(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Mu===0&&(Mu=62500*ux());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&To(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Mu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function Wo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)To(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function To(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,t.forEach(Cx,e),ec=null,Wo.call(e))}function Cx(e,t){if(!(t.state.loading&4)){var n=ec.get(e);if(n)var a=n.get(null);else{n=new Map,ec.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var s=r[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}r=t.instance,s=r.getAttribute("data-precedence"),i=n.get(s)||a,i===a&&n.set(null,r),n.set(s,r),this.count++,a=Wo.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var il={$$typeof:va,Provider:null,Consumer:null,_currentValue:Ar,_currentValue2:Ar,_threadCount:0};function Rx(e,t,n,a,r,i,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.hiddenUpdates=nu(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fp(e,t,n,a,r,i,s,l,o,u,d,h){return e=new Rx(e,t,n,s,o,u,d,h,l),t=1,i===!0&&(t|=24),i=bn(3,null,null,t),e.current=i,i.stateNode=e,t=Rf(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},Uf(i),e}function Wp(e){return e?(e=Si,e):Si}function e0(e,t,n,a,r,i){r=Wp(r),a.context===null?a.context=r:a.pendingContext=r,a=Fa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Wa(e,a,t),n!==null&&(un(n,e,t),Ms(n,e,t))}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lh(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function t0(e){if(e.tag===13||e.tag===31){var t=Vr(e,67108864);t!==null&&un(t,e,67108864),lh(e,67108864)}}function og(e){if(e.tag===13||e.tag===31){var t=jn();t=pf(t);var n=Vr(e,t);n!==null&&un(n,e,t),lh(e,t)}}var tc=!0;function Mx(e,t,n,a){var r=ge.T;ge.T=null;var i=Ve.p;try{Ve.p=2,oh(e,t,n,a)}finally{Ve.p=i,ge.T=r}}function kx(e,t,n,a){var r=ge.T;ge.T=null;var i=Ve.p;try{Ve.p=8,oh(e,t,n,a)}finally{Ve.p=i,ge.T=r}}function oh(e,t,n,a){if(tc){var r=Yd(a);if(r===null)Cu(e,t,a,nc,n),cg(e,a);else if(zx(r,e,t,n,a))a.stopPropagation();else if(cg(e,a),t&4&&-1<Ux.indexOf(e)){for(;r!==null;){var i=Wi(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Sr(i.pendingLanes);if(s!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-Tn(s);l.entanglements[1]|=o,s&=~o}ia(i),!(Ie&6)&&(Go=xn()+500,Sl(0))}}break;case 31:case 13:l=Vr(i,2),l!==null&&un(l,i,2),Rc(),lh(i,2)}if(i=Yd(a),i===null&&Cu(e,t,a,nc,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else Cu(e,t,a,null,n)}}function Yd(e){return e=Sf(e),ch(e)}var nc=null;function ch(e){if(nc=null,e=yi(e),e!==null){var t=hl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=wy(t),e!==null)return e;e=null}else if(n===31){if(e=Sy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nc=e,null}function n0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_w()){case jy:return 2;case Oy:return 8;case Co:case ww:return 32;case Dy:return 268435456;default:return 32}default:return 32}}var Id=!1,nr=null,ar=null,rr=null,sl=new Map,ll=new Map,Ya=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cg(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function bs(e,t,n,a,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Wi(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function zx(e,t,n,a,r){switch(t){case"focusin":return nr=bs(nr,e,t,n,a,r),!0;case"dragenter":return ar=bs(ar,e,t,n,a,r),!0;case"mouseover":return rr=bs(rr,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return sl.set(i,bs(sl.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,ll.set(i,bs(ll.get(i)||null,e,t,n,a,r)),!0}return!1}function a0(e){var t=yi(e.target);if(t!==null){var n=hl(t);if(n!==null){if(t=n.tag,t===13){if(t=wy(n),t!==null){e.blockedOn=t,Xh(e.priority,function(){og(n)});return}}else if(t===31){if(t=Sy(n),t!==null){e.blockedOn=t,Xh(e.priority,function(){og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ld=a,n.target.dispatchEvent(a),ld=null}else return t=Wi(n),t!==null&&t0(t),e.blockedOn=n,!1;t.shift()}return!0}function ug(e,t,n){jo(e)&&n.delete(t)}function $x(){Id=!1,nr!==null&&jo(nr)&&(nr=null),ar!==null&&jo(ar)&&(ar=null),rr!==null&&jo(rr)&&(rr=null),sl.forEach(ug),ll.forEach(ug)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Id||(Id=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,$x)))}var Zl=null;function dg(e){Zl!==e&&(Zl=e,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,function(){Zl===e&&(Zl=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(ch(a||n)===null)continue;break}var i=Wi(n);i!==null&&(e.splice(t,3),t-=3,xd(i,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Ki(e){function t(o){return Pl(o,e)}nr!==null&&Pl(nr,e),ar!==null&&Pl(ar,e),rr!==null&&Pl(rr,e),sl.forEach(t),ll.forEach(t);for(var n=0;n<Ya.length;n++){var a=Ya[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)a0(n),n.blockedOn===null&&Ya.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],i=n[a+1],s=r[dn]||null;if(typeof i=="function")s||dg(n);else if(s){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,s=i[dn]||null)l=s.formAction;else if(ch(r)!==null)continue}else l=s.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),dg(n)}}}function r0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return r=s})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function uh(e){this._internalRoot=e}Uc.prototype.render=uh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,a=jn();e0(n,a,e,t,null,null)};Uc.prototype.unmount=uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e0(e.current,2,null,e,null,null),Rc(),t[Fi]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=My();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&a0(e)}};var fg=by.version;if(fg!=="19.2.0")throw Error(U(527,fg,"19.2.0"));Ve.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=hw(t),e=e!==null?xy(e):null,e=e===null?null:e.stateNode,e};var Bx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{ml=Fl.inject(Bx),En=Fl}catch{}}pc.createRoot=function(e,t){if(!_y(e))throw Error(U(299));var n=!1,a="",r=Qv,i=Pv,s=Zv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fp(e,1,!1,null,null,n,a,null,r,i,s,r0),e[Fi]=t.current,rh(e),new uh(t)};pc.hydrateRoot=function(e,t,n){if(!_y(e))throw Error(U(299));var a=!1,r="",i=Qv,s=Pv,l=Zv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Fp(e,1,!0,t,n??null,a,r,o,i,s,l,r0),t.context=Wp(null),n=t.current,a=jn(),a=pf(a),r=Fa(a),r.callback=null,Wa(n,r,a),n=a,t.current.lanes=n,yl(t,n),ia(t),e[Fi]=t.current,rh(e),new Uc(t)};pc.version="19.2.0";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(e){console.error(e)}}i0(),hy.exports=pc;var Lx=hy.exports,Vd=function(e,t){return Vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},Vd(e,t)};function s0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ac=function(){return ac=Object.assign||function(t){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ac.apply(this,arguments)};function is(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function l0(e,t,n,a){var r=arguments.length,i=r<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}function o0(e,t){return function(n,a){t(n,a,e)}}function c0(e,t,n,a,r,i){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,f=n.length-1;f>=0;f--){var p={};for(var b in a)p[b]=b==="access"?{}:a[b];for(var b in a.access)p.access[b]=a.access[b];p.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(v||null))};var x=(0,n[f])(l==="accessor"?{get:d.get,set:d.set}:d[o],p);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=s(x.get))&&(d.get=h),(h=s(x.set))&&(d.set=h),(h=s(x.init))&&r.unshift(h)}else(h=s(x))&&(l==="field"?r.unshift(h):d[o]=h)}u&&Object.defineProperty(u,a.name,d),m=!0}function u0(e,t,n){for(var a=arguments.length>2,r=0;r<t.length;r++)n=a?t[r].call(e,n):t[r].call(e);return a?n:void 0}function d0(e){return typeof e=="symbol"?e:"".concat(e)}function f0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ie(e,t,n,a){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(d){try{u(a.next(d))}catch(h){s(h)}}function o(d){try{u(a.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function m0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return o([u,d])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(a=1,r&&(i=u[0]&2?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],r=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function g0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&zc(t,e,n)}function rc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),r,i=[],s;try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(l){s={error:l}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return i}function y0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dh(arguments[t]));return e}function v0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),r=0,t=0;t<n;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,r++)a[r]=i[s];return a}function p0(e,t,n){if(n||arguments.length===2)for(var a=0,r=t.length,i;a<r;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Xi(e){return this instanceof Xi?(this.v=e,this):new Xi(e)}function b0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(p){return Promise.resolve(p).then(f,h)}}function l(f,p){a[f]&&(r[f]=function(b){return new Promise(function(x,v){i.push([f,b,x,v])>1||o(f,b)})},p&&(r[f]=p(r[f])))}function o(f,p){try{u(a[f](p))}catch(b){m(i[0][3],b)}}function u(f){f.value instanceof Xi?Promise.resolve(f.value.v).then(d,h):m(i[0][2],f)}function d(f){o("next",f)}function h(f){o("throw",f)}function m(f,p){f(p),i.shift(),i.length&&o(i[0][0],i[0][1])}}function _0(e){var t,n;return t={},a("next"),a("throw",function(r){throw r}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(r,i){t[r]=e[r]?function(s){return(n=!n)?{value:Xi(e[r](s)),done:!1}:i?i(s):s}:i}}function w0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rc=="function"?rc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(s){return new Promise(function(l,o){s=e[i](s),r(l,o,s.done,s.value)})}}function r(i,s,l,o){Promise.resolve(o).then(function(u){i({value:u,done:l})},s)}}function S0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Hx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Gd=function(e){return Gd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Gd(e)};function x0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Gd(e),a=0;a<n.length;a++)n[a]!=="default"&&zc(t,e,n[a]);return Hx(t,e),t}function E0(e){return e&&e.__esModule?e:{default:e}}function T0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function j0(e,t,n,a,r){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function O0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function D0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(r=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");r&&(a=function(){try{r.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var qx=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function N0(e){function t(i){e.error=e.hasError?new qx(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(r,function(s){return t(s),r()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function A0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,r,i,s){return a?t?".jsx":".js":r&&(!i||!s)?n:r+i+"."+s.toLowerCase()+"js"}):e}const Yx={__extends:s0,__assign:ac,__rest:is,__decorate:l0,__param:o0,__esDecorate:c0,__runInitializers:u0,__propKey:d0,__setFunctionName:f0,__metadata:h0,__awaiter:ie,__generator:m0,__createBinding:zc,__exportStar:g0,__values:rc,__read:dh,__spread:y0,__spreadArrays:v0,__spreadArray:p0,__await:Xi,__asyncGenerator:b0,__asyncDelegator:_0,__asyncValues:w0,__makeTemplateObject:S0,__importStar:x0,__importDefault:E0,__classPrivateFieldGet:T0,__classPrivateFieldSet:j0,__classPrivateFieldIn:O0,__addDisposableResource:D0,__disposeResources:N0,__rewriteRelativeImportExtension:A0},Ix=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:D0,get __assign(){return ac},__asyncDelegator:_0,__asyncGenerator:b0,__asyncValues:w0,__await:Xi,__awaiter:ie,__classPrivateFieldGet:T0,__classPrivateFieldIn:O0,__classPrivateFieldSet:j0,__createBinding:zc,__decorate:l0,__disposeResources:N0,__esDecorate:c0,__exportStar:g0,__extends:s0,__generator:m0,__importDefault:E0,__importStar:x0,__makeTemplateObject:S0,__metadata:h0,__param:o0,__propKey:d0,__read:dh,__rest:is,__rewriteRelativeImportExtension:A0,__runInitializers:u0,__setFunctionName:f0,__spread:y0,__spreadArray:p0,__spreadArrays:v0,__values:rc,default:Yx},Symbol.toStringTag,{value:"Module"})),Vx="modulepreload",Gx=function(e){return"/todo-note/"+e},hg={},ss=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(o=>{if(o=Gx(o),o in hg)return;hg[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Vx,u||(h.as="script"),h.crossOrigin="",h.href=o,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Kx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class fh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class mg extends fh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gg extends fh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yg extends fh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kd||(Kd={}));class Xx{constructor(t,{headers:n={},customFetch:a,region:r=Kd.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Kx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ie(this,arguments,void 0,function*(n,a={}){var r;try{const{headers:i,method:s,body:l,signal:o}=a;let u={},{region:d}=a;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const f=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new mg(v)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new gg(f);if(!f.ok)throw new yg(f);let b=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield f.json():b==="application/octet-stream"||b==="application/pdf"?x=yield f.blob():b==="text/event-stream"?x=f:b==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new mg(i)}:{data:null,error:i,response:i instanceof yg||i instanceof gg?i.context:void 0}}})}}var tn={};const ls=ay(Ix);var Wl={},eo={},to={},no={},ao={},Jx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ji=Jx();const Qx=Ji.fetch,C0=Ji.fetch.bind(Ji),R0=Ji.Headers,Px=Ji.Request,Zx=Ji.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:R0,Request:Px,Response:Zx,default:C0,fetch:Qx},Symbol.toStringTag,{value:"Module"})),Fx=ay(Kr);var ro={},vg;function M0(){if(vg)return ro;vg=1,Object.defineProperty(ro,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ro.default=e,ro}var pg;function k0(){if(pg)return ao;pg=1,Object.defineProperty(ao,"__esModule",{value:!0});const e=ls,t=e.__importDefault(Fx),n=e.__importDefault(M0());class a{constructor(i){var s,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,m,f;let p=null,b=null,x=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=E:b=JSON.parse(E))}const w=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),T=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&T&&T.length>1&&(x=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,v=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await u.text();try{p=JSON.parse(w),Array.isArray(p)&&u.status===404&&(b=[],p=null,v=200,g="OK")}catch{u.status===404&&w===""?(v=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:b,count:x,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var d,h,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return ao.default=a,ao}var bg;function U0(){if(bg)return no;bg=1,Object.defineProperty(no,"__esModule",{value:!0});const t=ls.__importDefault(k0());class n extends t.default{select(r){let i=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${r}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,i,{foreignTable:s,referencedTable:l=s}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var d;const h=[r?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return no.default=n,no}var _g;function hh(){if(_g)return to;_g=1,Object.defineProperty(to,"__esModule",{value:!0});const t=ls.__importDefault(U0()),n=new RegExp("[,()]");class a extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return to.default=a,to}var wg;function z0(){if(wg)return eo;wg=1,Object.defineProperty(eo,"__esModule",{value:!0});const t=ls.__importDefault(hh());class n{constructor(r,{headers:i={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(r,i){const{head:s=!1,count:l}=i??{},o=s?"HEAD":"GET";let u=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:i,defaultToNull:s=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:o=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var i;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return eo.default=n,eo}var Sg;function Wx(){if(Sg)return Wl;Sg=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=ls,t=e.__importDefault(z0()),n=e.__importDefault(hh());class a{constructor(i,{headers:s={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=o}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:o=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||o?(h=l?"HEAD":"GET",Object.entries(s).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{m.searchParams.append(b,x)})):(h="POST",f=s);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:p,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Wl.default=a,Wl}Object.defineProperty(tn,"__esModule",{value:!0});var $0=tn.PostgrestError=X0=tn.PostgrestBuilder=G0=tn.PostgrestTransformBuilder=I0=tn.PostgrestFilterBuilder=q0=tn.PostgrestQueryBuilder=L0=tn.PostgrestClient=void 0;const os=ls,B0=os.__importDefault(Wx());var L0=tn.PostgrestClient=B0.default;const H0=os.__importDefault(z0());var q0=tn.PostgrestQueryBuilder=H0.default;const Y0=os.__importDefault(hh());var I0=tn.PostgrestFilterBuilder=Y0.default;const V0=os.__importDefault(U0());var G0=tn.PostgrestTransformBuilder=V0.default;const K0=os.__importDefault(k0());var X0=tn.PostgrestBuilder=K0.default;const J0=os.__importDefault(M0());$0=tn.PostgrestError=J0.default;var Q0=tn.default={PostgrestClient:B0.default,PostgrestQueryBuilder:H0.default,PostgrestFilterBuilder:Y0.default,PostgrestTransformBuilder:V0.default,PostgrestBuilder:K0.default,PostgrestError:J0.default};const e1=Y_({__proto__:null,get PostgrestBuilder(){return X0},get PostgrestClient(){return L0},get PostgrestError(){return $0},get PostgrestFilterBuilder(){return I0},get PostgrestQueryBuilder(){return q0},get PostgrestTransformBuilder(){return G0},default:Q0},[tn]),{PostgrestClient:t1,PostgrestQueryBuilder:LO,PostgrestFilterBuilder:HO,PostgrestTransformBuilder:qO,PostgrestBuilder:YO,PostgrestError:IO}=Q0||e1;class n1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a1="2.78.0",r1=`realtime-js/${a1}`,i1="1.0.0",Xd=1e4,s1=1e3,l1=100;var Ys;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ys||(Ys={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var Qn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qn||(Qn={}));var Jd;(function(e){e.websocket="websocket"})(Jd||(Jd={}));var jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jr||(jr={}));class o1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const r=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=a.decode(t.slice(s,s+r));s=s+r;const o=a.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class P0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const xg=(e,t,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=c1(s,e,t,r),i),{}):{}},c1=(e,t,n,a)=>{const r=t.find(l=>l.name===e),i=r==null?void 0:r.type,s=n[e];return i&&!a.includes(i)?Z0(i,s):Qd(s)},Z0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return h1(t,n)}switch(e){case it.bool:return u1(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return d1(t);case it.json:case it.jsonb:return f1(t);case it.timestamp:return m1(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Qd(t);default:return Qd(t)}},Qd=e=>e,u1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},d1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},f1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},h1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>Z0(t,l))}return e},m1=e=>typeof e=="string"?e.replace(" ","T"):e,F0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ku{constructor(t,n,a={},r=Xd){this.channel=t,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Eg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Eg||(Eg={}));class Is{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Is.syncState(this.state,r,i,s),this.pendingDiffs.forEach(o=>{this.state=Is.syncDiff(this.state,o,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Is.syncDiff(this.state,r,i,s),l())}),this.onJoin((r,i,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:s})}),this.onLeave((r,i,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,r){const i=this.cloneDeep(t),s=this.transformState(n),l={},o={};return this.map(i,(u,d)=>{s[u]||(o[u]=d)}),this.map(s,(u,d)=>{const h=i[u];if(h){const m=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),p=d.filter(x=>f.indexOf(x.presence_ref)<0),b=h.filter(x=>m.indexOf(x.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(o[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:o},a,r)}static syncDiff(t,n,a,r){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(l,o)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}a(l,d,o)}),this.map(s,(l,o)=>{let u=t[l];if(!u)return;const d=o.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const r=t[a];return"metas"in r?n[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tg||(Tg={}));var Vs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vs||(Vs={}));var ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class mh{constructor(t,n={config:{}},a){var r,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,Qn.join,this.params,this.timeout),this.rejoinTimer=new P0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qn.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Is(this),this.broadcastEndpointURL=F0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:s,presence:l,private:o}}=this.params,u=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&r!==void 0?r:[],d=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(ma.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t==null||t(ma.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<x;g++){const y=b[g],{filter:{event:w,schema:T,table:E,filter:S}}=y,j=f&&f[g];if(j&&j.event===w&&j.schema===T&&j.table===E&&j.filter===S)v.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ma.SUBSCRIBED);return}}).receive("error",f=>{this.state=At.errored,t==null||t(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===At.joined&&t===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var r;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new ku(this,Qn.leave,{},t),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),s}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ku(this,t,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>l1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var r,i;const s=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:d}=Qn;if(a&&[l,o,u,d].indexOf(s)>=0&&a!==this._joinRef())return;let m=this._onMessage(s,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,b,x;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(b=f.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(f=>f.callback(m,a)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,b,x,v,g,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const w=f.id,T=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(g=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:b,table:x,commit_timestamp:v,type:g,errors:y}=p;m=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(p))}f.callback(m,a)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&mh.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qn.close,{},t)}_onError(t){this._on(Qn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xg(t.columns,t.old_record)),n}}const Uu=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g1=[1e3,2e3,5e3,1e4],y1=1e4,v1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xd,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uu,this.ref=0,this.reconnectTimer=null,this.logger=Uu,this.conn=null,this.sendBuffer=[],this.serializer=new o1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>ss(async()=>{const{default:l}=await Promise.resolve().then(()=>Kr);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Jd.websocket}`,this.httpEndpoint=F0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return jr.Connecting;case Ys.open:return jr.Open;case Ys.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new mh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:r,ref:i}=t,s=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:r,payload:i,ref:s}=n,l=s?`(${s})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${r} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(r,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${a}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([v1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const r={access_token:n,version:r1};n&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(Qn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new P0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,r,i,s,l,o,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Xd,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:io.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Uu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:h=>g1[h-1]||y1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class gh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class b1 extends gh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pd extends gh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},_1=()=>ie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),Zd=e=>{if(Array.isArray(e))return e.map(n=>Zd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Zd(a)}),t},w1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},S1=(e,t,n)=>ie(void 0,void 0,void 0,function*(){const a=yield _1();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,s=(r==null?void 0:r.statusCode)||i+"";t(new b1(zu(r),i,s))}).catch(r=>{t(new Pd(zu(r),r))}):t(new Pd(zu(e),e))}),x1=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?r:(w1(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n))};function Tl(e,t,n,a,r,i){return ie(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,x1(t,a,r,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>s(o)).catch(o=>S1(o,l,a))})})}function ol(e,t,n,a){return ie(this,void 0,void 0,function*(){return Tl(e,"GET",t,n,a)})}function Xn(e,t,n,a,r){return ie(this,void 0,void 0,function*(){return Tl(e,"POST",t,a,r,n)})}function Fd(e,t,n,a,r){return ie(this,void 0,void 0,function*(){return Tl(e,"PUT",t,a,r,n)})}function E1(e,t,n,a){return ie(this,void 0,void 0,function*(){return Tl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function vh(e,t,n,a,r){return ie(this,void 0,void 0,function*(){return Tl(e,"DELETE",t,a,r,n)})}class T1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var W0;class j1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[W0]="BlobDownloadBuilder",this.promise=null}asStream(){return new T1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}W0=Symbol.toStringTag;const O1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D1{constructor(t,n={},a,r){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=yh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,r){return ie(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},jg),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",s.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=a,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?Fd:Xn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}upload(t,n,a){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,r){return ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:jg.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fd(this.fetch,l.toString(),o,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return ie(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Xn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new gh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}update(t,n,a){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return ie(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}copy(t,n,a){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,a){return ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Xn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,a){return ie(this,void 0,void 0,function*(){try{const r=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}download(t,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"",l=this._getFinalPath(t),o=()=>ol(this.fetch,`${this.url}/${r}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new j1(o,this.shouldThrowOnError)}info(t){return ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield ol(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}exists(t){return ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield E1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a)&&a instanceof Pd){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&r.push(o);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return ie(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}list(t,n,a){return ie(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},O1),n),{prefix:t||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listV2(t,n){return ie(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const eb="2.78.0",tb={"X-Client-Info":`storage-js/${eb}`};class N1{constructor(t,n={},a,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tb),n),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ol(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}createBucket(t){return ie(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ie(this,void 0,void 0,function*(){try{return{data:yield Fd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class A1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tb),n),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),r=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}const ph={"X-Client-Info":`storage-js/${eb}`,"Content-Type":"application/json"};class nb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class $u extends nb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class C1 extends nb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Og;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Og||(Og={}));const bh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},R1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M1=(e,t,n)=>ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";t(new $u(Dg(s),r,l))}).catch(()=>{const s=r+"",l=i.statusText||`HTTP ${r} error`;t(new $u(l,r,s))});else{const s=r+"",l=i.statusText||`HTTP ${r} error`;t(new $u(l,r,s))}}else t(new C1(Dg(e),e))}),k1=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(R1(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,Object.assign(Object.assign({},r),n)):r};function U1(e,t,n,a,r,i){return ie(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,k1(t,a,r,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>s(o)).catch(o=>M1(o,l,a))})})}function wn(e,t,n,a,r){return ie(this,void 0,void 0,function*(){return U1(e,"POST",t,a,r,n)})}class z1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ph),n),this.fetch=bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ie(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}listIndexes(t){return ie(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ie(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}}class $1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ph),n),this.fetch=bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}queryVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class B1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ph),n),this.fetch=bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listBuckets(){return ie(this,arguments,void 0,function*(t={}){try{return{data:yield wn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class L1 extends B1{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new H1(this.url,this.headers,t,this.fetch)}}class H1 extends z1{constructor(t,n,a,r){super(t,n,r),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new q1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class q1 extends $1{constructor(t,n,a,r,i){super(t,n,i),this.vectorBucketName=a,this.indexName=r}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Y1 extends N1{constructor(t,n={},a,r){super(t,n,a,r)}from(t){return new D1(this.url,this.headers,t,this.fetch)}get vectors(){return new L1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new A1(this.url+"/iceberg",this.headers,this.fetch)}}const I1="2.78.0";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const V1={"X-Client-Info":`supabase-js-${js}/${I1}`},G1={headers:V1},K1={schema:"public"},X1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J1={},Q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=C0:t=fetch,(...n)=>t(...n)},P1=()=>typeof Headers>"u"?R0:Headers,Z1=(e,t,n)=>{const a=Q1(n),r=P1();return async(i,s)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new r(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Object.assign(Object.assign({},s),{headers:u}))}};function F1(e){return e.endsWith("/")?e:e+"/"}function W1(e,t){var n,a;const{db:r,auth:i,realtime:s,global:l}=e,{db:o,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function eE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ab="2.78.0",di=30*1e3,Wd=3,Bu=Wd*di,tE="http://localhost:9999",nE="supabase.auth.token",aE={"X-Client-Info":`gotrue-js/${ab}`},ef="X-Supabase-Api-Version",rb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iE=10*60*1e3;class cl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sE extends cl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function lE(e){return ue(e)&&e.name==="AuthApiError"}class Or extends cl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fr extends cl{constructor(t,n,a,r){super(t,a,r),this.name=n,this.status=a}}class Vn extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oE(e){return ue(e)&&e.name==="AuthSessionMissingError"}class ai extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class so extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class lo extends fr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cE(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ng extends fr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tf extends fr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lu(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class Ag extends fr{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class nf extends fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cg=` 	
\r=`.split(""),uE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cg.length;t+=1)e[Cg[t].charCodeAt(0)]=-2;for(let t=0;t<ic.length;t+=1)e[ic[t].charCodeAt(0)]=t;return e})();function Rg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ic[a]),t.queuedBits-=6}}function ib(e,t,n){const a=uE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mg(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=s=>{hE(s,a,n)};for(let s=0;s<e.length;s+=1)ib(e.charCodeAt(s),r,i);return t.join("")}function dE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}dE(a,t)}}function hE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ki(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)ib(e.charCodeAt(r),n,a);return new Uint8Array(t)}function mE(e){const t=[];return fE(e,n=>t.push(n)),new Uint8Array(t)}function Nr(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};return e.forEach(r=>Rg(r,n,a)),Rg(null,n,a),t.join("")}function gE(e){return Math.round(Date.now()/1e3)+e}function yE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},sb=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function vE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((a,r)=>{t[r]=a}),t}const lb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},pE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_r=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ka=async(e,t)=>{await e.removeItem(t)};class $c{constructor(){this.promise=new $c.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$c.promiseConstructor=Promise;function Hu(e){const t=e.split(".");if(t.length!==3)throw new nf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!rE.test(t[a]))throw new nf("JWT not in base64url format");return{header:JSON.parse(Mg(t[0])),payload:JSON.parse(Mg(t[1])),signature:ki(t[2]),raw:{header:t[0],payload:t[1]}}}async function bE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _E(e,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){a(s);return}}catch(s){if(!t(i,s)){r(s);return}}})()})}function wE(e){return("0"+e.toString(16)).substr(-2)}function SE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,wE).join("")}async function xE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function EE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ri(e,t,n=!1){const a=SE();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await fi(e,`${t}-code-verifier`,r);const i=await EE(a);return[i,a===i?"plain":"s256"]}const TE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jE(e){const t=e.headers.get(ef);if(!t||!t.match(TE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(e){if(!NE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AE(e,t){return new Proxy(e,{get:(n,a,r)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,r)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,r)}})}function kg(e){return JSON.parse(JSON.stringify(e))}const Tr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CE=[502,503,504];async function Ug(e){var t;if(!pE(e))throw new tf(Tr(e),0);if(CE.includes(e.status))throw new tf(Tr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Or(Tr(i),i)}let a;const r=jE(e);if(r&&r.getTime()>=rb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Ag(Tr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ag(Tr(n),e.status,n.weak_password.reasons);throw new sE(Tr(n),e.status||500,a)}const RE=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function me(e,t,n,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[ef]||(i[ef]=rb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const s=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await ME(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function ME(e,t,n,a,r,i){const s=RE(t,a,r,i);let l;try{l=await e(n,Object.assign({},s))}catch(o){throw console.error(o),new tf(Tr(o),0)}if(l.ok||await Ug(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Ug(o)}}function Gn(e){var t;let n=null;zE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=gE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function zg(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kE(e){return{data:e,error:null}}function UE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i}=e,s=is(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i},o=Object.assign({},s);return{data:{properties:l,user:o},error:null}}function $g(e){return e}function zE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yu=["global","local","others"];class $E{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=lb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Yu[0]){if(Yu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yu.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ia})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=is(t,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:UE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ia})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,r,i,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:$g});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ii(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ia})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ii(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ia})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ii(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ia})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ii(t.userId);try{const{data:n,error:a}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ii(t.userId),ii(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,r,i,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:$g});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Bg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const si={debug:!!(globalThis&&sb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ob extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BE extends ob{}async function LE(e,t,n){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(si.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function HE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qE(e){return parseInt(e,16)}function YE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function IE(e){var t;const{chainId:n,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:o,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=cb(e.address),p=d?`${d}://${a}`:a,b=e.statement?`${e.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${f}

${b}`;let v=`URI: ${h}
Version: ${m}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(r&&(v+=`
Expiration Time: ${r.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${x}
${v}`}class Et extends Error{constructor({message:t,code:n,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class sc extends Et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function VE({error:e,options:t}){var n,a,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(ub(s)){if(i.rp.id!==s)return new Et({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function GE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ub(a)){if(n.rpId!==a)return new Et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class KE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XE=new KE;function JE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,r=is(e,["challenge","user","excludeCredentials"]),i=ki(t).buffer,s=Object.assign(Object.assign({},n),{id:ki(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:i,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:ki(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function QE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=is(e,["challenge","allowCredentials"]),r=ki(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:ki(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function PE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nr(new Uint8Array(r.authenticatorData)),clientDataJSON:Nr(new Uint8Array(r.clientDataJSON)),signature:Nr(new Uint8Array(r.signature)),userHandle:r.userHandle?Nr(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ub(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lg(){var e,t;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function FE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:VE({error:t,options:e})}}}async function WE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sc("Browser returned unexpected credential type",t)}:{data:null,error:new sc("Empty credential response",t)}}catch(t){return{data:null,error:GE({error:t,options:e})}}}const eT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tT={userVerification:"preferred",hints:["security-key"]};function lc(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of e)if(r)for(const i in r){const s=r[i];if(s!==void 0)if(Array.isArray(s))a[i]=s;else if(n(s))a[i]=s;else if(t(s)){const l=a[i];t(l)?a[i]=lc(l,s):a[i]=lc(s)}else a[i]=s}return a}function nT(e,t){return lc(eT,e,t||{})}function aT(e,t){return lc(tT,e,t||{})}class rT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:r},i){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const o=r??XE.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=nT(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await FE({publicKey:u,signal:o});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=aT(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await WE(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:o}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new Or("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!n)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:i});if(!s)return{data:null,error:l};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new Or("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!n)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:i});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ue(s)?{data:null,error:s}:{data:null,error:new Or("Unexpected error in register",s)}}}}HE();const iT={url:tE,storageKey:nE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hg(e,t,n){return await n()}const li={};class ul{get jwks(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ul.nextInstanceID,ul.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},iT),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new $E({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=lb(r.fetch),this.lock=r.lock||Hg,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LE:this.lock=Hg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:sb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ab}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=vE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Wt()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cE(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new Or("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,r;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Gn}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,r;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ri(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:Gn})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gn})}else throw new so("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:s,options:l}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zg})}else if("phone"in t){const{phone:i,password:s,options:l}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zg})}else throw new so("You must provide either an email or phone number and a password");const{data:a,error:r}=n;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ai}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,r,i,s,l,o,u,d,h,m;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:b,wallet:x,statement:v,options:g}=t;let y;if(Wt())if(typeof x=="object")y=x;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),T=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=cb(T[0]);let S=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!S){const D=await y.request({method:"eth_chainId"});S=qE(D)}const j={domain:w.host,address:E,statement:v,uri:w.href,version:"1",chainId:S,nonce:(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(s=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=IE(j),p=await y.request({method:"personal_sign",params:[YE(f),E]})}try{const{data:b,error:x}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gn});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ai}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(ue(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var n,a,r,i,s,l,o,u,d,h,m,f;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:x,wallet:v,statement:g,options:y}=t;let w;if(Wt())if(typeof v=="object")w=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const T=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=E}}try{const{data:x,error:v}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Nr(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gn});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ai}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(ue(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await _r(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{const{data:i,error:s}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Gn});if(await ka(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ai}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:s})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:r,access_token:i,nonce:s}=t,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gn}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ai}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,r,i,s;try{if("email"in t){const{email:l,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ri(this.storage,this.storageKey));const{error:h}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new so("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Gn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,u=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,a,r;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await ri(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:kE})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Vn;const{error:r}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:r,options:i}=t,{error:s}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:a,type:r,options:i}=t,{data:s,error:l}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new so("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Bu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await _r(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=qu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=AE(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ia}):await this._useSession(async n=>{var a,r,i;const{data:s,error:l}=n;if(l)throw l;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ia})})}catch(n){if(ue(n))return oE(n)&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new Vn;const s=r.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await ri(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:s.access_token,xform:Ia});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vn;const n=Date.now()/1e3;let a=n,r=!0,i=null;const{payload:s}=Hu(t.access_token);if(s.exp&&(a=s.exp,r=a<=n),r){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Vn;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Wt())throw new lo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new lo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ng("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ng("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:l,expires_at:o,token_type:u}=t;if(!i||!l||!s||!u)throw new lo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;o&&(m=parseInt(o));const f=m-d;f*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:m,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(ue(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{error:i};const s=(a=r.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(lE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,r;try{const{data:{session:i},error:s}=n;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await ri(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:r}=await this._useSession(async i=>{var s,l,o,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ue(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:s,provider:l,token:o,access_token:u,nonce:d}=t,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gn}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ai}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:f})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:s}=n;if(s)throw s;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await _E(async r=>(r>0&&await bE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(r,i)=>{const s=200*Math.pow(2,r);return i&&Lu(i)&&Date.now()+s-a<di})}catch(a){if(this._debug(n,"error",a),ue(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Wt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await _r(this.storage,this.storageKey);if(r&&this.userStorage){let s=await _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:r.user},await fi(this.userStorage,this.storageKey+"-user",s)),r.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:qu()}else if(r&&!r.user&&!r.user){const s=await _r(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(r.user=s.user,await ka(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,r)):r.user=qu()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bu;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Bu}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Lu(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(r.access_token);!l&&(s!=null&&s.user)?(r.user=s.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new $c;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),ue(i)){const s={data:null,error:i};return Lu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,a=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await fi(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=kg(r);await fi(this.storage,this.storageKey,i)}else{const r=kg(n);await fi(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ka(this.storage,this.storageKey),await ka(this.storage,this.storageKey+"-code-verifier"),await ka(this.storage,this.storageKey+"-user"),this.userStorage&&await ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${di}ms, refresh threshold is ${Wd} ticks`),r<=Wd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ob)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,s]=await ri(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;return i?{data:null,error:i}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{data:null,error:i};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PE(t.webauthn.credential_response):ZE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return{data:null,error:i};const s=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QE(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:r}=await this.getSession();if(r)return{data:null,error:r};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Hu(a.access_token);let s=null;i.aal&&(s=i.aal);let l=s;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?{data:null,error:r}:a?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Vn}})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return{data:null,error:i};if(!r)return{data:null,error:new Vn};const s=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return{data:null,error:i};if(!r)return{data:null,error:new Vn};const s=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+iE>r)return a;const{data:i,error:s}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};a=f.session.access_token}const{header:r,payload:i,signature:s,raw:{header:l,payload:o}}=Hu(a);n!=null&&n.allowExpired||OE(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:r,signature:s},error:null}}const d=DE(r.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,mE(`${l}.${o}`)))throw new nf("Invalid JWT signature");return{data:{claims:i,header:r,signature:s},error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}}ul.nextInstanceID=0;const sT=ul;class lT extends sT{constructor(t){super(t)}}class oT{constructor(t,n,a){var r,i,s;this.supabaseUrl=t,this.supabaseKey=n;const l=eE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:K1,realtime:J1,auth:Object.assign(Object.assign({},X1),{storageKey:o}),global:G1},d=W1(a??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Z1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new t1(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Y1(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Xx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:i,storageKey:s,flowType:l,lock:o,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:r,userStorage:i,flowType:l,lock:o,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new p1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cT=(e,t,n)=>new oT(e,t,n);function uT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}uT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dT="https://vqpubtahhvtkftafdlrp.supabase.co",fT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",de=cT(dT,fT);function hT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>a=>{t.forEach(r=>r(a))},t)}const Bc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function _h(e){return"nodeType"in e}function rn(e){var t,n;return e?cs(e)?e:_h(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function wh(e){const{Document:t}=rn(e);return e instanceof t}function jl(e){return cs(e)?!1:e instanceof rn(e).HTMLElement}function db(e){return e instanceof rn(e).SVGElement}function us(e){return e?cs(e)?e.document:_h(e)?wh(e)?e:jl(e)||db(e)?e.ownerDocument:document:document:document}const Pn=Bc?_.useLayoutEffect:_.useEffect;function Lc(e){const t=_.useRef(e);return Pn(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.current==null?void 0:t.current(...a)},[])}function mT(){const e=_.useRef(null),t=_.useCallback((a,r)=>{e.current=setInterval(a,r)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function dl(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return Pn(()=>{n.current!==e&&(n.current=e)},t),n}function Ol(e,t){const n=_.useRef();return _.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function oc(e){const t=Lc(e),n=_.useRef(null),a=_.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,a]}function cc(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let Iu={};function Dl(e,t){return _.useMemo(()=>{if(t)return t;const n=Iu[e]==null?0:Iu[e]+1;return Iu[e]=n,e+"-"+n},[e,t])}function fb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.reduce((i,s)=>{const l=Object.entries(s);for(const[o,u]of l){const d=i[o];d!=null&&(i[o]=d+e*u)}return i},{...t})}}const Ui=fb(1),fl=fb(-1);function gT(e){return"clientX"in e&&"clientY"in e}function Hc(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function yT(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function uc(e){if(yT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return gT(e)?{x:e.clientX,y:e.clientY}:null}const cr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cr.Translate.toString(e),cr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),qg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vT(e){return e.matches(qg)?e:e.querySelector(qg)}const pT={display:"none"};function bT(e){let{id:t,value:n}=e;return st.createElement("div",{id:t,style:pT},n)}function _T(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return st.createElement("div",{id:t,style:r,role:"status","aria-live":a,"aria-atomic":!0},n)}function wT(){const[e,t]=_.useState("");return{announce:_.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const hb=_.createContext(null);function ST(e){const t=_.useContext(hb);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function xT(){const[e]=_.useState(()=>new Set),t=_.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[_.useCallback(a=>{let{type:r,event:i}=a;e.forEach(s=>{var l;return(l=s[r])==null?void 0:l.call(s,i)})},[e]),t]}const ET={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function jT(e){let{announcements:t=TT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:r=ET}=e;const{announce:i,announcement:s}=wT(),l=Dl("DndLiveRegion"),[o,u]=_.useState(!1);if(_.useEffect(()=>{u(!0)},[]),ST(_.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:f}=h;t.onDragMove&&i(t.onDragMove({active:m,over:f}))},onDragOver(h){let{active:m,over:f}=h;i(t.onDragOver({active:m,over:f}))},onDragEnd(h){let{active:m,over:f}=h;i(t.onDragEnd({active:m,over:f}))},onDragCancel(h){let{active:m,over:f}=h;i(t.onDragCancel({active:m,over:f}))}}),[i,t])),!o)return null;const d=st.createElement(st.Fragment,null,st.createElement(bT,{id:a,value:r.draggable}),st.createElement(_T,{id:l,announcement:s}));return n?hi.createPortal(d,n):d}var Ct;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ct||(Ct={}));function dc(){}function Va(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Zn=Object.freeze({x:0,y:0});function mb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function OT(e,t){const n=uc(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function gb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function DT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Yg(e){let{left:t,top:n,height:a,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+a},{x:t+r,y:n+a}]}function yb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ig(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const hc=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=Ig(t,t.left,t.top),i=[];for(const s of a){const{id:l}=s,o=n.get(l);if(o){const u=mb(Ig(o),r);i.push({id:l,data:{droppableContainer:s,value:u}})}}return i.sort(gb)},NT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=Yg(t),i=[];for(const s of a){const{id:l}=s,o=n.get(l);if(o){const u=Yg(o),d=r.reduce((m,f,p)=>m+mb(u[p],f),0),h=Number((d/4).toFixed(4));i.push({id:l,data:{droppableContainer:s,value:h}})}}return i.sort(gb)};function AT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=r-a,l=i-n;if(a<r&&n<i){const o=t.width*t.height,u=e.width*e.height,d=s*l,h=d/(o+u-d);return Number(h.toFixed(4))}return 0}const CT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=[];for(const i of a){const{id:s}=i,l=n.get(s);if(l){const o=AT(l,t);o>0&&r.push({id:s,data:{droppableContainer:i,value:o}})}}return r.sort(DT)};function RT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function vb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Zn}function MT(e){return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const kT=MT(1);function pb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function UT(e,t,n){const a=pb(t);if(!a)return e;const{scaleX:r,scaleY:i,x:s,y:l}=a,o=e.left-s-(1-r)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=r?e.width/r:e.width,h=i?e.height/i:e.height;return{width:d,height:h,top:u,right:o+d,bottom:u+h,left:o}}const zT={ignoreTransform:!1};function ds(e,t){t===void 0&&(t=zT);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=rn(e).getComputedStyle(e);u&&(n=UT(n,u,d))}const{top:a,left:r,width:i,height:s,bottom:l,right:o}=n;return{top:a,left:r,width:i,height:s,bottom:l,right:o}}function Vg(e){return ds(e,{ignoreTransform:!0})}function $T(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function BT(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function LT(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const i=t[r];return typeof i=="string"?n.test(i):!1})}function qc(e,t){const n=[];function a(r){if(t!=null&&n.length>=t||!r)return n;if(wh(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!jl(r)||db(r)||n.includes(r))return n;const i=rn(e).getComputedStyle(r);return r!==e&&LT(r,i)&&n.push(r),BT(r,i)?n:a(r.parentNode)}return e?a(e):n}function bb(e){const[t]=qc(e,1);return t??null}function Vu(e){return!Bc||!e?null:cs(e)?e:_h(e)?wh(e)||e===us(e).scrollingElement?window:jl(e)?e:null:null}function _b(e){return cs(e)?e.scrollX:e.scrollLeft}function wb(e){return cs(e)?e.scrollY:e.scrollTop}function af(e){return{x:_b(e),y:wb(e)}}var $t;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($t||($t={}));function Sb(e){return!Bc||!e?!1:e===document.scrollingElement}function xb(e){const t={x:0,y:0},n=Sb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:r,isLeft:i,isBottom:s,isRight:l,maxScroll:a,minScroll:t}}const HT={x:.2,y:.2};function qT(e,t,n,a,r){let{top:i,left:s,right:l,bottom:o}=n;a===void 0&&(a=10),r===void 0&&(r=HT);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=xb(e),f={x:0,y:0},p={x:0,y:0},b={height:t.height*r.y,width:t.width*r.x};return!u&&i<=t.top+b.height?(f.y=$t.Backward,p.y=a*Math.abs((t.top+b.height-i)/b.height)):!d&&o>=t.bottom-b.height&&(f.y=$t.Forward,p.y=a*Math.abs((t.bottom-b.height-o)/b.height)),!m&&l>=t.right-b.width?(f.x=$t.Forward,p.x=a*Math.abs((t.right-b.width-l)/b.width)):!h&&s<=t.left+b.width&&(f.x=$t.Backward,p.x=a*Math.abs((t.left+b.width-s)/b.width)),{direction:f,speed:p}}function YT(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:a,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:r,width:e.clientWidth,height:e.clientHeight}}function Eb(e){return e.reduce((t,n)=>Ui(t,af(n)),Zn)}function IT(e){return e.reduce((t,n)=>t+_b(n),0)}function VT(e){return e.reduce((t,n)=>t+wb(n),0)}function Tb(e,t){if(t===void 0&&(t=ds),!e)return;const{top:n,left:a,bottom:r,right:i}=t(e);bb(e)&&(r<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const GT=[["x",["left","right"],IT],["y",["top","bottom"],VT]];class Sh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=qc(n),r=Eb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,l]of GT)for(const o of s)Object.defineProperty(this,o,{get:()=>{const u=l(a),d=r[i]-u;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var r;(r=this.target)==null||r.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function KT(e){const{EventTarget:t}=rn(e);return e instanceof t?e:us(e)}function Gu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Mn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function Gg(e){e.preventDefault()}function XT(e){e.stopPropagation()}var Ue;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ue||(Ue={}));const jb={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},JT=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ue.Right:return{...n,x:n.x+25};case Ue.Left:return{...n,x:n.x-25};case Ue.Down:return{...n,y:n.y+25};case Ue.Up:return{...n,y:n.y-25}}};class Yc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Gs(us(n)),this.windowListeners=new Gs(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Tb(a),n(Zn)}handleKeyDown(t){if(Hc(t)){const{active:n,context:a,options:r}=this.props,{keyboardCodes:i=jb,coordinateGetter:s=JT,scrollBehavior:l="smooth"}=r,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,d=u?{x:u.left,y:u.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(t,{active:n,context:a.current,currentCoordinates:d});if(h){const m=fl(h,d),f={x:0,y:0},{scrollableAncestors:p}=a.current;for(const b of p){const x=t.code,{isTop:v,isRight:g,isLeft:y,isBottom:w,maxScroll:T,minScroll:E}=xb(b),S=YT(b),j={x:Math.min(x===Ue.Right?S.right-S.width/2:S.right,Math.max(x===Ue.Right?S.left:S.left+S.width/2,h.x)),y:Math.min(x===Ue.Down?S.bottom-S.height/2:S.bottom,Math.max(x===Ue.Down?S.top:S.top+S.height/2,h.y))},D=x===Ue.Right&&!g||x===Ue.Left&&!y,O=x===Ue.Down&&!w||x===Ue.Up&&!v;if(D&&j.x!==h.x){const R=b.scrollLeft+m.x,J=x===Ue.Right&&R<=T.x||x===Ue.Left&&R>=E.x;if(J&&!m.y){b.scrollTo({left:R,behavior:l});return}J?f.x=b.scrollLeft-R:f.x=x===Ue.Right?b.scrollLeft-T.x:b.scrollLeft-E.x,f.x&&b.scrollBy({left:-f.x,behavior:l});break}else if(O&&j.y!==h.y){const R=b.scrollTop+m.y,J=x===Ue.Down&&R<=T.y||x===Ue.Up&&R>=E.y;if(J&&!m.x){b.scrollTo({top:R,behavior:l});return}J?f.y=b.scrollTop-R:f.y=x===Ue.Down?b.scrollTop-T.y:b.scrollTop-E.y,f.y&&b.scrollBy({top:-f.y,behavior:l});break}}this.handleMove(t,Ui(fl(h,this.referenceCoordinates),f))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Yc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=jb,onActivation:r}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(a.start.includes(s)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function Kg(e){return!!(e&&"distance"in e)}function Xg(e){return!!(e&&"delay"in e)}class xh{constructor(t,n,a){var r;a===void 0&&(a=KT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=us(s),this.documentListeners=new Gs(this.document),this.listeners=new Gs(a),this.windowListeners=new Gs(rn(s)),this.initialCoordinates=(r=uc(i))!=null?r:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,Gg),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,Gg),this.documentListeners.add(Mn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Kg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:r}=this.props;r(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Mn.Click,XT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:r,props:i}=this,{onMove:s,options:{activationConstraint:l}}=i;if(!r)return;const o=(n=uc(t))!=null?n:Zn,u=fl(r,o);if(!a&&l){if(Kg(l)){if(l.tolerance!=null&&Gu(u,l.tolerance))return this.handleCancel();if(Gu(u,l.distance))return this.handleStart()}if(Xg(l)&&Gu(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const QT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qi extends xh{constructor(t){const{event:n}=t,a=us(n.target);super(t,QT,a)}}Qi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const PT={move:{name:"mousemove"},end:{name:"mouseup"}};var rf;(function(e){e[e.RightClick=2]="RightClick"})(rf||(rf={}));class ZT extends xh{constructor(t){super(t,PT,us(t.event.target))}}ZT.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===rf.RightClick?!1:(a==null||a({event:n}),!0)}}];const Ku={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class sf extends xh{constructor(t){super(t,Ku)}static setup(){return window.addEventListener(Ku.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ku.move.name,t)};function t(){}}}sf.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:r}=n;return r.length>1?!1:(a==null||a({event:n}),!0)}}];var Ks;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ks||(Ks={}));var mc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mc||(mc={}));function FT(e){let{acceleration:t,activator:n=Ks.Pointer,canScroll:a,draggingRect:r,enabled:i,interval:s=5,order:l=mc.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=e;const f=ej({delta:h,disabled:!i}),[p,b]=mT(),x=_.useRef({x:0,y:0}),v=_.useRef({x:0,y:0}),g=_.useMemo(()=>{switch(n){case Ks.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Ks.DraggableRect:return r}},[n,r,o]),y=_.useRef(null),w=_.useCallback(()=>{const E=y.current;if(!E)return;const S=x.current.x*v.current.x,j=x.current.y*v.current.y;E.scrollBy(S,j)},[]),T=_.useMemo(()=>l===mc.TreeOrder?[...u].reverse():u,[l,u]);_.useEffect(()=>{if(!i||!u.length||!g){b();return}for(const E of T){if((a==null?void 0:a(E))===!1)continue;const S=u.indexOf(E),j=d[S];if(!j)continue;const{direction:D,speed:O}=qT(E,j,g,t,m);for(const R of["x","y"])f[R][D[R]]||(O[R]=0,D[R]=0);if(O.x>0||O.y>0){b(),y.current=E,p(w,s),x.current=O,v.current=D;return}}x.current={x:0,y:0},v.current={x:0,y:0},b()},[t,w,a,b,i,s,JSON.stringify(g),JSON.stringify(f),p,u,T,d,JSON.stringify(m)])}const WT={x:{[$t.Backward]:!1,[$t.Forward]:!1},y:{[$t.Backward]:!1,[$t.Forward]:!1}};function ej(e){let{delta:t,disabled:n}=e;const a=cc(t);return Ol(r=>{if(n||!a||!r)return WT;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$t.Backward]:r.x[$t.Backward]||i.x===-1,[$t.Forward]:r.x[$t.Forward]||i.x===1},y:{[$t.Backward]:r.y[$t.Backward]||i.y===-1,[$t.Forward]:r.y[$t.Forward]||i.y===1}}},[n,t,a])}function tj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Ol(r=>{var i;return t==null?null:(i=a??r)!=null?i:null},[a,t])}function nj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{const{sensor:r}=a,i=r.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,a)}));return[...n,...i]},[]),[e,t])}var Pi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Pi||(Pi={}));var lf;(function(e){e.Optimized="optimized"})(lf||(lf={}));const Jg=new Map;function aj(e,t){let{dragging:n,dependencies:a,config:r}=t;const[i,s]=_.useState(null),{frequency:l,measure:o,strategy:u}=r,d=_.useRef(e),h=x(),m=dl(h),f=_.useCallback(function(v){v===void 0&&(v=[]),!m.current&&s(g=>g===null?v:g.concat(v.filter(y=>!g.includes(y))))},[m]),p=_.useRef(null),b=Ol(v=>{if(h&&!n)return Jg;if(!v||v===Jg||d.current!==e||i!=null){const g=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){g.set(y.id,y.rect.current);continue}const w=y.node.current,T=w?new Sh(o(w),w):null;y.rect.current=T,T&&g.set(y.id,T)}return g}return v},[e,i,n,h,o]);return _.useEffect(()=>{d.current=e},[e]),_.useEffect(()=>{h||f()},[n,h]),_.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),_.useEffect(()=>{h||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{f(),p.current=null},l))},[l,h,f,...a]),{droppableRects:b,measureDroppableContainers:f,measuringScheduled:i!=null};function x(){switch(u){case Pi.Always:return!1;case Pi.BeforeDragging:return n;default:return!n}}}function Eh(e,t){return Ol(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function rj(e,t){return Eh(e,t)}function ij(e){let{callback:t,disabled:n}=e;const a=Lc(t),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return _.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Ic(e){let{callback:t,disabled:n}=e;const a=Lc(t),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return _.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function sj(e){return new Sh(ds(e),e)}function Qg(e,t,n){t===void 0&&(t=sj);const[a,r]=_.useState(null);function i(){r(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const d=t(e);return JSON.stringify(o)===JSON.stringify(d)?o:d})}const s=ij({callback(o){if(e)for(const u of o){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=Ic({callback:i});return Pn(()=>{i(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),a}function lj(e){const t=Eh(e);return vb(e,t)}const Pg=[];function oj(e){const t=_.useRef(e),n=Ol(a=>e?a&&a!==Pg&&e&&t.current&&e.parentNode===t.current.parentNode?a:qc(e):Pg,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function cj(e){const[t,n]=_.useState(null),a=_.useRef(e),r=_.useCallback(i=>{const s=Vu(i.target);s&&n(l=>l?(l.set(s,af(s)),new Map(l)):null)},[]);return _.useEffect(()=>{const i=a.current;if(e!==i){s(i);const l=e.map(o=>{const u=Vu(o);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,af(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{s(e),s(i)};function s(l){l.forEach(o=>{const u=Vu(o);u==null||u.removeEventListener("scroll",r)})}},[r,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Ui(i,s),Zn):Eb(e):Zn,[e,t])}function Zg(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const a=e!==Zn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?fl(e,n.current):Zn}function uj(e){_.useEffect(()=>{if(!Bc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function dj(e,t){return _.useMemo(()=>e.reduce((n,a)=>{let{eventName:r,handler:i}=a;return n[r]=s=>{i(s,t)},n},{}),[e,t])}function Ob(e){return _.useMemo(()=>e?$T(e):null,[e])}const Fg=[];function fj(e,t){t===void 0&&(t=ds);const[n]=e,a=Ob(n?rn(n):null),[r,i]=_.useState(Fg);function s(){i(()=>e.length?e.map(o=>Sb(o)?a:new Sh(t(o),o)):Fg)}const l=Ic({callback:s});return Pn(()=>{l==null||l.disconnect(),s(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),r}function Db(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jl(t)?t:e}function hj(e){let{measure:t}=e;const[n,a]=_.useState(null),r=_.useCallback(u=>{for(const{target:d}of u)if(jl(d)){a(h=>{const m=t(d);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=Ic({callback:r}),s=_.useCallback(u=>{const d=Db(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),a(d?t(d):null)},[t,i]),[l,o]=oc(s);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const mj=[{sensor:Qi,options:{}},{sensor:Yc,options:{}}],gj={current:{}},Oo={draggable:{measure:Vg},droppable:{measure:Vg,strategy:Pi.WhileDragging,frequency:lf.Optimized},dragOverlay:{measure:ds}};class Xs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const yj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Oo,measureDroppableContainers:dc,windowRect:null,measuringScheduled:!1},Nb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dc,draggableNodes:new Map,over:null,measureDroppableContainers:dc},Nl=_.createContext(Nb),Ab=_.createContext(yj);function vj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xs}}}function pj(e,t){switch(t.type){case Ct.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ct.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ct.DragEnd:case Ct.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ct.RegisterDroppable:{const{element:n}=t,{id:a}=n,r=new Xs(e.droppable.containers);return r.set(a,n),{...e,droppable:{...e.droppable,containers:r}}}case Ct.SetDroppableDisabled:{const{id:n,key:a,disabled:r}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new Xs(e.droppable.containers);return s.set(n,{...i,disabled:r}),{...e,droppable:{...e.droppable,containers:s}}}case Ct.UnregisterDroppable:{const{id:n,key:a}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const i=new Xs(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function bj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:r}=_.useContext(Nl),i=cc(a),s=cc(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!a&&i&&s!=null){if(!Hc(i)||document.activeElement===i.target)return;const l=r.get(s);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[o.current,u.current]){if(!d)continue;const h=vT(d);if(h){h.focus();break}}})}},[a,t,r,s,i]),null}function Cb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((r,i)=>i({transform:r,...a}),n):n}function _j(e){return _.useMemo(()=>({draggable:{...Oo.draggable,...e==null?void 0:e.draggable},droppable:{...Oo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Oo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function wj(e){let{activeNode:t,measure:n,initialRect:a,config:r=!0}=e;const i=_.useRef(!1),{x:s,y:l}=typeof r=="boolean"?{x:r,y:r}:r;Pn(()=>{if(!s&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=vb(d,a);if(s||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=bb(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,s,l,a,n])}const Vc=_.createContext({...Zn,scaleX:1,scaleY:1});var Ba;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ba||(Ba={}));const gc=_.memo(function(t){var n,a,r,i;let{id:s,accessibility:l,autoScroll:o=!0,children:u,sensors:d=mj,collisionDetection:h=CT,measuring:m,modifiers:f,...p}=t;const b=_.useReducer(pj,void 0,vj),[x,v]=b,[g,y]=xT(),[w,T]=_.useState(Ba.Uninitialized),E=w===Ba.Initialized,{draggable:{active:S,nodes:j,translate:D},droppable:{containers:O}}=x,R=S!=null?j.get(S):null,J=_.useRef({initial:null,translated:null}),ne=_.useMemo(()=>{var nt;return S!=null?{id:S,data:(nt=R==null?void 0:R.data)!=null?nt:gj,rect:J}:null},[S,R]),re=_.useRef(null),[se,C]=_.useState(null),[$,F]=_.useState(null),he=dl(p,Object.values(p)),Se=Dl("DndDescribedBy",s),mt=_.useMemo(()=>O.getEnabled(),[O]),ye=_j(m),{droppableRects:He,measureDroppableContainers:Te,measuringScheduled:De}=aj(mt,{dragging:E,dependencies:[D.x,D.y],config:ye.droppable}),Ne=tj(j,S),I=_.useMemo(()=>$?uc($):null,[$]),B=Ht(),H=rj(Ne,ye.draggable.measure);wj({activeNode:S!=null?j.get(S):null,config:B.layoutShiftCompensation,initialRect:H,measure:ye.draggable.measure});const N=Qg(Ne,ye.draggable.measure,H),L=Qg(Ne?Ne.parentElement:null),z=_.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:He,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),P=O.getNodeFor((n=z.current.over)==null?void 0:n.id),M=hj({measure:ye.dragOverlay.measure}),te=(a=M.nodeRef.current)!=null?a:Ne,ae=E?(r=M.rect)!=null?r:N:null,le=!!(M.nodeRef.current&&M.rect),be=lj(le?null:N),je=Ob(te?rn(te):null),xe=oj(E?P??Ne:null),Ge=fj(xe),qe=Cb(f,{transform:{x:D.x-be.x,y:D.y-be.y,scaleX:1,scaleY:1},activatorEvent:$,active:ne,activeNodeRect:N,containerNodeRect:L,draggingNodeRect:ae,over:z.current.over,overlayNodeRect:M.rect,scrollableAncestors:xe,scrollableAncestorRects:Ge,windowRect:je}),kt=I?Ui(I,D):null,Ut=cj(xe),Nn=Zg(Ut),Xr=Zg(Ut,[N]),hn=Ui(qe,Nn),An=ae?kT(ae,qe):null,Nt=ne&&An?h({active:ne,collisionRect:An,droppableRects:He,droppableContainers:mt,pointerCoordinates:kt}):null,sa=yb(Nt,"id"),[q,V]=_.useState(null),W=le?qe:Ui(qe,Xr),fe=RT(W,(i=q==null?void 0:q.rect)!=null?i:null,N),oe=_.useRef(null),_e=_.useCallback((nt,Ke)=>{let{sensor:gt,options:Zt}=Ke;if(re.current==null)return;const Ft=j.get(re.current);if(!Ft)return;const qt=nt.nativeEvent,Yt=new gt({active:re.current,activeNode:Ft,event:qt,options:Zt,context:z,onAbort(bt){if(!j.get(bt))return;const{onDragAbort:Vt}=he.current,Gt={id:bt};Vt==null||Vt(Gt),g({type:"onDragAbort",event:Gt})},onPending(bt,mn,Vt,Gt){if(!j.get(bt))return;const{onDragPending:oa}=he.current,Cn={id:bt,constraint:mn,initialCoordinates:Vt,offset:Gt};oa==null||oa(Cn),g({type:"onDragPending",event:Cn})},onStart(bt){const mn=re.current;if(mn==null)return;const Vt=j.get(mn);if(!Vt)return;const{onDragStart:Gt}=he.current,la={activatorEvent:qt,active:{id:mn,data:Vt.data,rect:J}};hi.unstable_batchedUpdates(()=>{Gt==null||Gt(la),T(Ba.Initializing),v({type:Ct.DragStart,initialCoordinates:bt,active:mn}),g({type:"onDragStart",event:la}),C(oe.current),F(qt)})},onMove(bt){v({type:Ct.DragMove,coordinates:bt})},onEnd:It(Ct.DragEnd),onCancel:It(Ct.DragCancel)});oe.current=Yt;function It(bt){return async function(){const{active:Vt,collisions:Gt,over:la,scrollAdjustedTranslate:oa}=z.current;let Cn=null;if(Vt&&oa){const{cancelDrop:Wn}=he.current;Cn={activatorEvent:qt,active:Vt,collisions:Gt,delta:oa,over:la},bt===Ct.DragEnd&&typeof Wn=="function"&&await Promise.resolve(Wn(Cn))&&(bt=Ct.DragCancel)}re.current=null,hi.unstable_batchedUpdates(()=>{v({type:bt}),T(Ba.Uninitialized),V(null),C(null),F(null),oe.current=null;const Wn=bt===Ct.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const Na=he.current[Wn];Na==null||Na(Cn),g({type:Wn,event:Cn})}})}}},[j]),tt=_.useCallback((nt,Ke)=>(gt,Zt)=>{const Ft=gt.nativeEvent,qt=j.get(Zt);if(re.current!==null||!qt||Ft.dndKit||Ft.defaultPrevented)return;const Yt={active:qt};nt(gt,Ke.options,Yt)===!0&&(Ft.dndKit={capturedBy:Ke.sensor},re.current=Zt,_e(gt,Ke))},[j,_e]),Ye=nj(d,tt);uj(d),Pn(()=>{N&&w===Ba.Initializing&&T(Ba.Initialized)},[N,w]),_.useEffect(()=>{const{onDragMove:nt}=he.current,{active:Ke,activatorEvent:gt,collisions:Zt,over:Ft}=z.current;if(!Ke||!gt)return;const qt={active:Ke,activatorEvent:gt,collisions:Zt,delta:{x:hn.x,y:hn.y},over:Ft};hi.unstable_batchedUpdates(()=>{nt==null||nt(qt),g({type:"onDragMove",event:qt})})},[hn.x,hn.y]),_.useEffect(()=>{const{active:nt,activatorEvent:Ke,collisions:gt,droppableContainers:Zt,scrollAdjustedTranslate:Ft}=z.current;if(!nt||re.current==null||!Ke||!Ft)return;const{onDragOver:qt}=he.current,Yt=Zt.get(sa),It=Yt&&Yt.rect.current?{id:Yt.id,rect:Yt.rect.current,data:Yt.data,disabled:Yt.disabled}:null,bt={active:nt,activatorEvent:Ke,collisions:gt,delta:{x:Ft.x,y:Ft.y},over:It};hi.unstable_batchedUpdates(()=>{V(It),qt==null||qt(bt),g({type:"onDragOver",event:bt})})},[sa]),Pn(()=>{z.current={activatorEvent:$,active:ne,activeNode:Ne,collisionRect:An,collisions:Nt,droppableRects:He,draggableNodes:j,draggingNode:te,draggingNodeRect:ae,droppableContainers:O,over:q,scrollableAncestors:xe,scrollAdjustedTranslate:hn},J.current={initial:ae,translated:An}},[ne,Ne,Nt,An,j,te,ae,He,O,q,xe,hn]),FT({...B,delta:D,draggingRect:An,pointerCoordinates:kt,scrollableAncestors:xe,scrollableAncestorRects:Ge});const We=_.useMemo(()=>({active:ne,activeNode:Ne,activeNodeRect:N,activatorEvent:$,collisions:Nt,containerNodeRect:L,dragOverlay:M,draggableNodes:j,droppableContainers:O,droppableRects:He,over:q,measureDroppableContainers:Te,scrollableAncestors:xe,scrollableAncestorRects:Ge,measuringConfiguration:ye,measuringScheduled:De,windowRect:je}),[ne,Ne,N,$,Nt,L,M,j,O,He,q,Te,xe,Ge,ye,De,je]),Oe=_.useMemo(()=>({activatorEvent:$,activators:Ye,active:ne,activeNodeRect:N,ariaDescribedById:{draggable:Se},dispatch:v,draggableNodes:j,over:q,measureDroppableContainers:Te}),[$,Ye,ne,N,v,Se,j,q,Te]);return st.createElement(hb.Provider,{value:y},st.createElement(Nl.Provider,{value:Oe},st.createElement(Ab.Provider,{value:We},st.createElement(Vc.Provider,{value:fe},u)),st.createElement(bj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),st.createElement(jT,{...l,hiddenTextDescribedById:Se}));function Ht(){const nt=(se==null?void 0:se.autoScrollEnabled)===!1,Ke=typeof o=="object"?o.enabled===!1:o===!1,gt=E&&!nt&&!Ke;return typeof o=="object"?{...o,enabled:gt}:{enabled:gt}}}),Sj=_.createContext(null),Wg="button",xj="Draggable";function Ej(e){let{id:t,data:n,disabled:a=!1,attributes:r}=e;const i=Dl(xj),{activators:s,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=_.useContext(Nl),{role:f=Wg,roleDescription:p="draggable",tabIndex:b=0}=r??{},x=(o==null?void 0:o.id)===t,v=_.useContext(x?Vc:Sj),[g,y]=oc(),[w,T]=oc(),E=dj(s,t),S=dl(n);Pn(()=>(h.set(t,{id:t,key:i,node:g,activatorNode:w,data:S}),()=>{const D=h.get(t);D&&D.key===i&&h.delete(t)}),[h,t]);const j=_.useMemo(()=>({role:f,tabIndex:b,"aria-disabled":a,"aria-pressed":x&&f===Wg?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[a,f,b,x,p,d.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:j,isDragging:x,listeners:a?void 0:E,node:g,over:m,setNodeRef:y,setActivatorNodeRef:T,transform:v}}function Rb(){return _.useContext(Ab)}const Tj="Droppable",jj={timeout:25};function Oj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:r}=e;const i=Dl(Tj),{active:s,dispatch:l,over:o,measureDroppableContainers:u}=_.useContext(Nl),d=_.useRef({disabled:n}),h=_.useRef(!1),m=_.useRef(null),f=_.useRef(null),{disabled:p,updateMeasurementsFor:b,timeout:x}={...jj,...r},v=dl(b??a),g=_.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),f.current=null},x)},[x]),y=Ic({callback:g,disabled:p||!s}),w=_.useCallback((j,D)=>{y&&(D&&(y.unobserve(D),h.current=!1),j&&y.observe(j))},[y]),[T,E]=oc(w),S=dl(t);return _.useEffect(()=>{!y||!T.current||(y.disconnect(),h.current=!1,y.observe(T.current))},[T,y]),_.useEffect(()=>(l({type:Ct.RegisterDroppable,element:{id:a,key:i,disabled:n,node:T,rect:m,data:S}}),()=>l({type:Ct.UnregisterDroppable,key:i,id:a})),[a]),_.useEffect(()=>{n!==d.current.disabled&&(l({type:Ct.SetDroppableDisabled,id:a,key:i,disabled:n}),d.current.disabled=n)},[a,i,n,l]),{active:s,rect:m,isOver:(o==null?void 0:o.id)===a,node:T,over:o,setNodeRef:E}}function Dj(e){let{animation:t,children:n}=e;const[a,r]=_.useState(null),[i,s]=_.useState(null),l=cc(n);return!n&&!a&&l&&r(l),Pn(()=>{if(!i)return;const o=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(o==null||u==null){r(null);return}Promise.resolve(t(u,i)).then(()=>{r(null)})},[t,a,i]),st.createElement(st.Fragment,null,n,a?_.cloneElement(a,{ref:s}):null)}const Nj={x:0,y:0,scaleX:1,scaleY:1};function Aj(e){let{children:t}=e;return st.createElement(Nl.Provider,{value:Nb},st.createElement(Vc.Provider,{value:Nj},t))}const Cj={position:"fixed",touchAction:"none"},Rj=e=>Hc(e)?"transform 250ms ease":void 0,Mj=_.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:r,children:i,className:s,rect:l,style:o,transform:u,transition:d=Rj}=e;if(!l)return null;const h=r?u:{...u,scaleX:1,scaleY:1},m={...Cj,width:l.width,height:l.height,top:l.top,left:l.left,transform:cr.Transform.toString(h),transformOrigin:r&&a?OT(a,l):void 0,transition:typeof d=="function"?d(a):d,...o};return st.createElement(n,{className:s,style:m,ref:t},i)}),kj=e=>t=>{let{active:n,dragOverlay:a}=t;const r={},{styles:i,className:s}=e;if(i!=null&&i.active)for(const[l,o]of Object.entries(i.active))o!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(i!=null&&i.dragOverlay)for(const[l,o]of Object.entries(i.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&a.node.classList.add(s.dragOverlay),function(){for(const[o,u]of Object.entries(r))n.node.style.setProperty(o,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},Uj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:cr.Transform.toString(t)},{transform:cr.Transform.toString(n)}]},zj={duration:250,easing:"ease",keyframes:Uj,sideEffects:kj({styles:{active:{opacity:"0"}}})};function $j(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:r}=e;return Lc((i,s)=>{if(t===null)return;const l=n.get(i);if(!l)return;const o=l.node.current;if(!o)return;const u=Db(s);if(!u)return;const{transform:d}=rn(s).getComputedStyle(s),h=pb(d);if(!h)return;const m=typeof t=="function"?t:Bj(t);return Tb(o,r.draggable.measure),m({active:{id:i,data:l.data,node:o,rect:r.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:s,rect:r.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:r,transform:h})})}function Bj(e){const{duration:t,easing:n,sideEffects:a,keyframes:r}={...zj,...e};return i=>{let{active:s,dragOverlay:l,transform:o,...u}=i;if(!t)return;const d={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},h={scaleX:o.scaleX!==1?s.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?s.rect.height*o.scaleY/l.rect.height:1},m={x:o.x-d.x,y:o.y-d.y,...h},f=r({...u,active:s,dragOverlay:l,transform:{initial:o,final:m}}),[p]=f,b=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(b))return;const x=a==null?void 0:a({active:s,dragOverlay:l,...u}),v=l.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{v.onfinish=()=>{x==null||x(),g()}})}}let ey=0;function Lj(e){return _.useMemo(()=>{if(e!=null)return ey++,ey},[e])}const Mb=st.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:r,transition:i,modifiers:s,wrapperElement:l="div",className:o,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:f,draggableNodes:p,droppableContainers:b,dragOverlay:x,over:v,measuringConfiguration:g,scrollableAncestors:y,scrollableAncestorRects:w,windowRect:T}=Rb(),E=_.useContext(Vc),S=Lj(h==null?void 0:h.id),j=Cb(s,{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:f,draggingNodeRect:x.rect,over:v,overlayNodeRect:x.rect,scrollableAncestors:y,scrollableAncestorRects:w,transform:E,windowRect:T}),D=Eh(m),O=$j({config:a,draggableNodes:p,droppableContainers:b,measuringConfiguration:g}),R=D?x.setRef:void 0;return st.createElement(Aj,null,st.createElement(Dj,{animation:O},h&&S?st.createElement(Mj,{key:S,id:h.id,ref:R,as:l,activatorEvent:d,adjustScale:t,className:o,transition:i,rect:D,style:{zIndex:u,...r},transform:j},n):null))});function Th(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function Hj(e,t){return e.reduce((n,a,r)=>{const i=t.get(a);return i&&(n[r]=i),n},Array(e.length))}function oo(e){return e!==null&&e>=0}function qj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Yj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const co={scaleX:1,scaleY:1},Ij=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:r,overIndex:i,index:s}=e;const l=(t=n[r])!=null?t:a;if(!l)return null;const o=Vj(n,s,r);if(s===r){const u=n[i];return u?{x:r<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...co}:null}return s>r&&s<=i?{x:-l.width-o,y:0,...co}:s<r&&s>=i?{x:l.width+o,y:0,...co}:{x:0,y:0,...co}};function Vj(e,t,n){const a=e[t],r=e[t-1],i=e[t+1];return!a||!r&&!i?0:n<t?r?a.left-(r.left+r.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(r.left+r.width)}const kb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:r}=e;const i=Th(t,a,n),s=t[r],l=i[r];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},uo={scaleX:1,scaleY:1},ji=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:r,rects:i,overIndex:s}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(r===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...uo}:null}const o=Gj(i,r,n);return r>n&&r<=s?{x:0,y:-l.height-o,...uo}:r<n&&r>=s?{x:0,y:l.height+o,...uo}:{x:0,y:0,...uo}};function Gj(e,t,n){const a=e[t],r=e[t-1],i=e[t+1];return a?n<t?r?a.top-(r.top+r.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):r?a.top-(r.top+r.height):0:0}const Ub="Sortable",zb=st.createContext({activeIndex:-1,containerId:Ub,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kb,disabled:{draggable:!1,droppable:!1}});function Dr(e){let{children:t,id:n,items:a,strategy:r=kb,disabled:i=!1}=e;const{active:s,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:d}=Rb(),h=Dl(Ub,n),m=l.rect!==null,f=_.useMemo(()=>a.map(E=>typeof E=="object"&&"id"in E?E.id:E),[a]),p=s!=null,b=s?f.indexOf(s.id):-1,x=u?f.indexOf(u.id):-1,v=_.useRef(f),g=!qj(f,v.current),y=x!==-1&&b===-1||g,w=Yj(i);Pn(()=>{g&&p&&d(f)},[g,f,p,d]),_.useEffect(()=>{v.current=f},[f]);const T=_.useMemo(()=>({activeIndex:b,containerId:h,disabled:w,disableTransforms:y,items:f,overIndex:x,useDragOverlay:m,sortedRects:Hj(f,o),strategy:r}),[b,h,w.draggable,w.droppable,y,f,x,o,m,r]);return st.createElement(zb.Provider,{value:T},t)}const Kj=e=>{let{id:t,items:n,activeIndex:a,overIndex:r}=e;return Th(n,a,r).indexOf(t)},Xj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:r,items:i,newIndex:s,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==i&&r===s?!1:n?!0:s!==r&&t===o},Jj={duration:200,easing:"ease"},$b="transform",Qj=cr.Transition.toString({property:$b,duration:0,easing:"linear"}),Pj={roleDescription:"sortable"};function Zj(e){let{disabled:t,index:n,node:a,rect:r}=e;const[i,s]=_.useState(null),l=_.useRef(n);return Pn(()=>{if(!t&&n!==l.current&&a.current){const o=r.current;if(o){const u=ds(a.current,{ignoreTransform:!0}),d={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(d.x||d.y)&&s(d)}}n!==l.current&&(l.current=n)},[t,n,a,r]),_.useEffect(()=>{i&&s(null)},[i]),i}function Gc(e){let{animateLayoutChanges:t=Xj,attributes:n,disabled:a,data:r,getNewIndex:i=Kj,id:s,strategy:l,resizeObserverConfig:o,transition:u=Jj}=e;const{items:d,containerId:h,activeIndex:m,disabled:f,disableTransforms:p,sortedRects:b,overIndex:x,useDragOverlay:v,strategy:g}=_.useContext(zb),y=Fj(a,f),w=d.indexOf(s),T=_.useMemo(()=>({sortable:{containerId:h,index:w,items:d},...r}),[h,r,w,d]),E=_.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:S,node:j,isOver:D,setNodeRef:O}=Oj({id:s,data:T,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...o}}),{active:R,activatorEvent:J,activeNodeRect:ne,attributes:re,setNodeRef:se,listeners:C,isDragging:$,over:F,setActivatorNodeRef:he,transform:Se}=Ej({id:s,data:T,attributes:{...Pj,...n},disabled:y.draggable}),mt=hT(O,se),ye=!!R,He=ye&&!p&&oo(m)&&oo(x),Te=!v&&$,De=Te&&He?Se:null,I=He?De??(l??g)({rects:b,activeNodeRect:ne,activeIndex:m,overIndex:x,index:w}):null,B=oo(m)&&oo(x)?i({id:s,items:d,activeIndex:m,overIndex:x}):w,H=R==null?void 0:R.id,N=_.useRef({activeId:H,items:d,newIndex:B,containerId:h}),L=d!==N.current.items,z=t({active:R,containerId:h,isDragging:$,isSorting:ye,id:s,index:w,items:d,newIndex:N.current.newIndex,previousItems:N.current.items,previousContainerId:N.current.containerId,transition:u,wasDragging:N.current.activeId!=null}),P=Zj({disabled:!z,index:w,node:j,rect:S});return _.useEffect(()=>{ye&&N.current.newIndex!==B&&(N.current.newIndex=B),h!==N.current.containerId&&(N.current.containerId=h),d!==N.current.items&&(N.current.items=d)},[ye,B,h,d]),_.useEffect(()=>{if(H===N.current.activeId)return;if(H!=null&&N.current.activeId==null){N.current.activeId=H;return}const te=setTimeout(()=>{N.current.activeId=H},50);return()=>clearTimeout(te)},[H]),{active:R,activeIndex:m,attributes:re,data:T,rect:S,index:w,newIndex:B,items:d,isOver:D,isSorting:ye,isDragging:$,listeners:C,node:j,overIndex:x,over:F,setNodeRef:mt,setActivatorNodeRef:he,setDroppableNodeRef:O,setDraggableNodeRef:se,transform:P??I,transition:M()};function M(){if(P||L&&N.current.newIndex===w)return Qj;if(!(Te&&!Hc(J)||!u)&&(ye||z))return cr.Transition.toString({...u,property:$b})}}function Fj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function yc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Wj=[Ue.Down,Ue.Right,Ue.Up,Ue.Left],Bb=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:r,droppableContainers:i,over:s,scrollableAncestors:l}}=t;if(Wj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=r.get(h.id);if(m)switch(e.code){case Ue.Down:a.top<m.top&&o.push(h);break;case Ue.Up:a.top>m.top&&o.push(h);break;case Ue.Left:a.left>m.left&&o.push(h);break;case Ue.Right:a.left<m.left&&o.push(h);break}});const u=NT({collisionRect:a,droppableRects:r,droppableContainers:o});let d=yb(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(n.id),m=i.get(d),f=m?r.get(m.id):null,p=m==null?void 0:m.node.current;if(p&&f&&h&&m){const x=qc(p).some((E,S)=>l[S]!==E),v=Lb(h,m),g=eO(h,m),y=x||!v?{x:0,y:0}:{x:g?a.width-f.width:0,y:g?a.height-f.height:0},w={x:f.left,y:f.top};return y.x&&y.y?w:fl(w,y)}}}};function Lb(e,t){return!yc(e)||!yc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function eO(e,t){return!yc(e)||!yc(t)||!Lb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ur=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],tO="09",nO="00",Le=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Kn=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${i})`},Ua=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${r}(${o}) ${i}:${s}`},aO=e=>{const t=new Date;return Le(e)===Le(t)},rO=()=>{const[e,t]=_.useState(null),[n,a]=_.useState(!0);return _.useEffect(()=>{de.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:s}}=de.auth.onAuthStateChange((l,o)=>{t(o)});return()=>s.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:s}=await de.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(s)throw s}catch(s){alert(" : "+s.message)}},handleLogout:async()=>{try{const{error:s}=await de.auth.signOut();if(s)throw s}catch(s){alert(" : "+s.message)}}}};function jh({value:e,onChange:t}){const n=_.useRef(null),a=_.useRef(null),r=_.useRef(e),i=_.useRef(!1),[s,l]=_.useState(()=>e&&e.includes(":")?e.split(":")[0]:tO),[o,u]=_.useState(()=>e&&e.includes(":")?e.split(":")[1]:nO);_.useEffect(()=>{if(e&&e.includes(":")&&e!==r.current){const[g,y]=e.split(":");r.current=e,l(g),u(y)}},[e]),_.useEffect(()=>{if(!i.current){i.current=!0;return}const g=`${s}:${o}`;r.current=g,t&&t(g)},[s,o]);const d=(g,y,w)=>{if(!g.current)return;const T=g.current.scrollTop,S=Math.round(T/40),j=String(S).padStart(2,"0");y(j)},h=(g,y)=>{if(!g.current)return;const w=40,T=parseInt(y,10);g.current.scrollTop=T*w};_.useEffect(()=>{h(n,s)},[]),_.useEffect(()=>{h(a,o)},[]);const m=Array.from({length:24},(g,y)=>String(y).padStart(2,"0")),f=Array.from({length:60},(g,y)=>String(y).padStart(2,"0")),p=()=>{const g=(parseInt(s,10)+1)%24,y=String(g).padStart(2,"0");l(y),h(n,y)},b=()=>{const g=(parseInt(s,10)-1+24)%24,y=String(g).padStart(2,"0");l(y),h(n,y)},x=()=>{const g=(parseInt(o,10)+1)%60,y=String(g).padStart(2,"0");u(y),h(a,y)},v=()=>{const g=(parseInt(o,10)-1+60)%60,y=String(g).padStart(2,"0");u(y),h(a,y)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:p,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:x,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(g=>c.jsx("div",{className:`picker-item ${g===s?"selected":""}`,onClick:()=>{l(g),h(n,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,u),children:[c.jsx("div",{className:"picker-spacer"}),f.map(g=>c.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{u(g),h(a,g)},children:g},g)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:v,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function ty({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return c.jsxs("div",{className:a,children:[c.jsx("span",{children:e}),t&&c.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function iO({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:r,isReorderMode:i,setIsReorderMode:s,onOpenTrash:l,onOpenRoutine:o,onOpenMemo:u,onScrollToKeyThoughts:d,onOpenGanttChart:h,onOpenEncouragementModal:m,onOpenDummyModal:f,onOpenAddSection:p,onLogout:b}){var x,v;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),c.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((x=n.user.user_metadata)==null?void 0:x.avatar_url)&&c.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((v=n.user.user_metadata)==null?void 0:v.full_name)||n.user.email}),c.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const g=a==="vertical"?"horizontal":"vertical";r(g),localStorage.setItem("viewMode",g),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),c.jsx("span",{children:a==="vertical"?" ":" "})]}),c.jsxs("button",{className:`sidebar-menu-item ${i?"active":""}`,onClick:()=>{s(!i),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:i?"  ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{p(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{u(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{d(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{h(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{m(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{f(),t(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&b()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]})]})]})]})}function sO({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Kn(e)}),c.jsx("input",{type:"date",value:Le(e),onChange:t,className:"date-picker-input"})]}),c.jsx("button",{onClick:n,className:"date-nav-button",children:""}),c.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function lO({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:r,onPrevDay:i,onNextDay:s,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:u,isReorderMode:d,setIsReorderMode:h}){return c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsx(sO,{selectedDate:n,onDateChange:r,onPrevDay:i,onNextDay:s}),c.jsx("div",{className:"encouragement-section",children:aO(n)?c.jsx("div",{className:"encouragement-message",onClick:u,title:"    !",children:l?c.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):c.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),d&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>h(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})})}function oO({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n}){return e!=="horizontal"?null:c.jsx("div",{className:"section-pagination-dots",onTouchStart:a=>{const r=a.touches[0];a.currentTarget.dataset.touchStartX=r.clientX,a.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:a=>{a.currentTarget.dataset.touchMoved="true"},onTouchEnd:a=>{const r=parseFloat(a.currentTarget.dataset.touchStartX||"0"),i=parseInt(a.currentTarget.dataset.touchStartTime||"0"),s=a.currentTarget.dataset.touchMoved==="true",l=a.changedTouches[0].clientX,o=Date.now()-i;if(delete a.currentTarget.dataset.touchStartX,delete a.currentTarget.dataset.touchStartTime,delete a.currentTarget.dataset.touchMoved,s&&o<500){const u=r-l,d=n.current;if(!d)return;const h=d.querySelectorAll(".section-block");Math.abs(u)>50&&(u>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):u<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(a=>c.jsx("button",{className:`pagination-dot ${t===a?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const i=r.querySelectorAll(".section-block");i[a]&&i[a].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},a))})}function Xu({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:r,isAdding:i,placeholder:s,children:l,editable:o=!1,onTitleChange:u,headerActions:d}){const[h,m]=_.useState(!1),[f,p]=_.useState(e),b=()=>{o&&(m(!0),p(e))},x=()=>{m(!1),f.trim()&&f!==e?u==null||u(f.trim()):p(e)},v=g=>{g.key==="Enter"?(g.preventDefault(),x()):g.key==="Escape"&&(m(!1),p(e))};return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[h?c.jsx("input",{type:"text",className:"section-title-edit",value:f,onChange:g=>p(g.target.value),onBlur:x,onKeyDown:v,autoFocus:!0}):c.jsx("h3",{className:`section-title ${o?"editable":""}`,onClick:b,children:e}),d&&c.jsx("div",{className:"section-header-actions",children:d})]}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:g=>a(g.target.value),onKeyDown:g=>{g.key==="Enter"&&r()},placeholder:s,className:"todo-input",disabled:i}),c.jsx("button",{onClick:r,className:"add-button",disabled:i,children:""})]}),l]})}function Os({todo:e,index:t,onToggle:n,onDelete:a,onEdit:r,formatDate:i,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:d,level:h=0,onCreateRoutine:m,routines:f,onShowRoutineHistory:p,onOpenRoutineSetupModal:b,onOpenHistoryModal:x,currentPageDate:v,isPendingRoutine:g=!1,onRemoveFromUI:y,showSuccessMessage:w}){const[T,E]=_.useState(!1),[S,j]=_.useState(!1),[D,O]=_.useState(e.text),[R,J]=_.useState(!1),[ne,re]=_.useState(!1),[se,C]=_.useState(!1),[$,F]=_.useState(""),[he,Se]=_.useState(!1),[mt,ye]=_.useState([]),[He,Te]=_.useState(!1),[De,Ne]=_.useState(!1),[I,B]=_.useState([]),[H,N]=_.useState([]),[L,z]=_.useState([]),[P,M]=_.useState(null),[te,ae]=_.useState(!1),[le,be]=_.useState(null),[je,xe]=_.useState(!1),[Ge,qe]=_.useState([]),[kt,Ut]=_.useState(""),[Nn,Xr]=_.useState({}),[hn,An]=_.useState(!1),[Nt,sa]=_.useState(null),[q,V]=_.useState([]),W=e.routine_id?f.find(k=>k.id===e.routine_id):null,[fe,oe]=_.useState(0),[_e,tt]=_.useState(0),[Ye,We]=_.useState(0),[Oe,Ht]=_.useState(!1),[nt,Ke]=_.useState(!1),{attributes:gt,listeners:Zt,setNodeRef:Ft,transform:qt,transition:Yt,isDragging:It}=Gc({id:e.id}),bt={transform:cr.Transform.toString(qt),transition:Yt,cursor:It?"grabbing":"grab"},mn=e.text.length>30,Vt=()=>{j(!0),O(e.text)},Gt=async()=>{D.trim()&&D!==e.text&&await r(e.id,D.trim()),j(!1)},la=async k=>{k.key==="Enter"?(k.preventDefault(),await Gt()):k.key==="Escape"&&(j(!1),O(e.text))},oa=k=>{qe(G=>G.includes(k)?G.filter(ke=>ke!==k):[...G,k])},Cn=k=>["sun","mon","tue","wed","thu","fri","sat"][k],Wn=async k=>{try{const G=typeof v=="string"?v:Le(v),$e=[...k.hidden_dates||[],G],ve=k.routine_id!==null&&k.routine_id!==void 0;let Be={hidden_dates:$e};ve||(Be.deleted=!0,Be.deleted_date=new Date().toISOString());const{error:Je}=await de.from("todos").update(Be).eq("id",k.id);if(Je)throw Je;y&&y(k.id);const at=k.routine_id!==null&&k.routine_id!==void 0;w(at?"  ":"   ",{type:"hideOnDate",todoId:k.id,hiddenDate:G,wasDeleted:!ve})}catch(G){console.error("  :",G.message),alert("   .")}},Na=async k=>{try{const{error:G}=await de.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",k.id);if(G)throw G;y&&y(k.id)}catch(G){console.error(" :",G.message),alert(" .")}},Kc=async k=>{try{if(!k.routine_id){alert("  .");return}const{error:G}=await de.from("routines").update({deleted:!0}).eq("id",k.routine_id);if(G)throw G;const ke=typeof v=="string"?v:Le(v),ve=[...k.hidden_dates||[],ke],{error:Be}=await de.from("todos").update({hidden_dates:ve}).eq("id",k.id);if(Be)throw Be;y&&y(k.id),w("   ",{type:"stopRoutineFromToday",todoId:k.id,routineId:k.routine_id,hiddenDate:ke})}catch(G){console.error("  :",G.message),alert("   .")}},Al=async k=>{try{if(!k.routine_id){alert("  .");return}const{error:G}=await de.from("routines").update({deleted:!0}).eq("id",k.routine_id);if(G)throw G;const{error:ke}=await de.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",k.id);if(ke)throw ke;y&&y(k.id),w("   ",{type:"deleteRoutineCompletely",todoId:k.id,routineId:k.routine_id})}catch(G){console.error("   :",G.message),alert("   .")}};_.useEffect(()=>{le==="history"&&!Nn[e.id]&&!hn&&(async()=>{An(!0);try{const{data:G,error:ke}=await de.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(ke)throw ke;Xr($e=>({...$e,[e.id]:G||[]}))}catch(G){console.error("Error fetching history:",G)}finally{An(!1)}})()},[le,e.id,Nn,hn]),_.useEffect(()=>{le==="routine-stats"&&W&&(!Nt||Nt.id!==W.id)&&(async()=>{try{const{data:G,error:ke}=await de.from("todos").select("*").eq("routine_id",W.id).eq("deleted",!1).maybeSingle();if(ke)throw ke;if(G&&G.visible_dates){const $e=G.visible_dates.sort().map(ve=>{var Be;return{id:`${G.id}-${ve}`,date:ve,text:G.text,completed:((Be=G.completed_dates)==null?void 0:Be.includes(ve))||!1}});V($e),sa(W)}}catch(G){console.error("Error fetching routine history:",G)}})()},[le,W,Nt]);const Cl=k=>{if(S||It)return;const G=k.type.includes("touch")?k.touches[0].clientX:k.clientX,ke=k.type.includes("touch")?k.touches[0].clientY:k.clientY;tt(G),We(ke),Ht(!1),Ke(!0)},Rl=k=>{if(S||It||!nt)return;const G=k.type.includes("touch")?k.touches[0].clientX:k.clientX,ke=k.type.includes("touch")?k.touches[0].clientY:k.clientY,$e=_e-G,ve=Math.abs(Ye-ke);if(!Oe){const Be=Math.abs($e)+ve;if(Be>10){if(Math.abs($e)>Be*.8)Ht(!0),k.type.includes("touch")&&k.preventDefault();else if(ve>Math.abs($e)){Ke(!1);return}}}if(Oe){if(k.type.includes("touch")&&k.preventDefault(),$e>0&&$e<=100)oe($e);else if($e<0&&fe>0){const Be=fe+$e;oe(Math.max(0,Be)),tt(G)}}},Aa=()=>{Ke(!1),Oe&&(Ht(!1),oe(fe>40?80:0))},Jr=()=>{a(e.id)},Qr=k=>{N(G=>G.includes(k)?G.filter(ke=>ke!==k):[...G,k])};return c.jsxs("div",{ref:Ft,style:bt,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:Jr,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...gt,...Zt,className:`todo-item ${e.completed?"completed":""} ${T?"expanded":""} ${It?"drag-mode":""}`,style:{transform:`translateX(-${fe}px)`,transition:Oe||It?"none":"transform 0.3s ease"},onMouseDown:Cl,onMouseMove:Rl,onMouseUp:Aa,onMouseLeave:Aa,onTouchStart:Cl,onTouchMove:Rl,onTouchEnd:Aa,onContextMenu:k=>k.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!S&&mn&&E(!T),onDoubleClick:Vt,style:{cursor:S?"text":mn?"pointer":"default"},children:S?c.jsx("input",{type:"text",value:D,onChange:k=>O(k.target.value),onBlur:Gt,onKeyDown:la,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${T?"expanded":""}`,children:e.text})}),(()=>{const k=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,G=e.routine_id&&W,ke=g||e.is_pending_routine;return(d.length>0||k||G||ke)&&c.jsxs("div",{className:"todo-badges",children:[k&&(()=>{const $e=new Date(e.completed_at).toISOString().split("T")[0],ve=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${$e} `,children:[ve,""]})})(),G&&(()=>{const $e=v||e.date,ve=new Date($e+"T00:00:00"),Be=ve.getMonth()+1,Je=ve.getDate(),gn=["","","","","","",""][ve.getDay()],Pr=`${Be}/${Je}(${gn})`;return c.jsxs("span",{className:"routine-date-badge",title:`${W.text} `,children:["for ",Pr]})})(),ke&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:$e=>{$e.stopPropagation(),ne?(J(!1),re(!1),C(!1)):(J(!0),re(!0),C(!1),Se(!1),Ne(!1))},children:""})]})})(),!S&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:k=>{k.stopPropagation(),ae(!0),be(null),xe(!1),qe([]),Ut("")},title:"",children:""}),ne&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((k,G)=>c.jsx(Os,{todo:k,index:G,onToggle:n,onDelete:a,onEdit:r,formatDate:i,formatDateOnly:s,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:h+1,routines:f,onShowRoutineHistory:p,showSuccessMessage:w,onOpenRoutineSetupModal:b,onOpenHistoryModal:x,currentPageDate:v},k.id)),se&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:$,onChange:k=>F(k.target.value),onKeyDown:k=>{k.key==="Enter"&&$.trim()&&(u(e.id,$.trim()),F(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{$.trim()&&(u(e.id,$.trim()),F(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{F("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),te&&c.jsx("div",{className:"modal-overlay",onClick:()=>ae(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:k=>k.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>ae(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:D,onChange:k=>O(k.target.value),onBlur:()=>{D.trim()!==""&&D!==e.text?r(e.id,D):D.trim()===""&&O(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${le==="nanotodo"?"active":""}`,onClick:()=>be("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${le==="routine"?"active":""}`,onClick:()=>{be("routine");const k=f.find(G=>G.id===e.routine_id);k?(qe(k.days||[]),Ut(k.time_slot||""),xe(!1)):(qe([]),Ut(""),xe(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${le==="history"?"active":""}`,onClick:()=>be("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&W&&c.jsxs("button",{className:`action-menu-item ${le==="routine-stats"?"active":""}`,onClick:()=>be("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${le==="delete"?"active":""}`,onClick:()=>be("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!le&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),le==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[d&&d.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:d.map(k=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:k.completed,onChange:()=>n(k.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${k.completed?"completed":""}`,children:k.text}),c.jsx("button",{onClick:()=>a(k.id),className:"subtodo-delete-modal",title:"",children:""})]},k.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:$,onChange:k=>F(k.target.value),onKeyDown:k=>{k.key==="Enter"&&$.trim()&&(u(e.id,$.trim()),F(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{$.trim()&&(u(e.id,$.trim()),F(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),le==="routine"&&(()=>{const k=f.find(G=>G.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:k&&!je?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ur.filter(G=>k.days.includes(G.key)).map(G=>c.jsx("span",{className:"routine-day-badge",children:G.label},G.key))}),k.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",k.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:G=>{G.stopPropagation(),k&&(qe(k.days),Ut(k.time_slot||""),xe(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async G=>{G.stopPropagation(),k&&e&&(await m(e.id,e.text,[],null,!0),ae(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:je?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ur.map(G=>c.jsx("button",{onClick:ke=>{ke.stopPropagation(),oa(G.key)},className:`day-button-inline ${Ge.includes(G.key)?"selected":""}`,children:G.label},G.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(jh,{value:kt,onChange:G=>Ut(G)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async G=>{G.stopPropagation(),e&&(je&&k?await m(e.id,e.text,Ge,k.id,!1,kt):await m(e.id,e.text,Ge,null,!1,kt),xe(!1),ae(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:G=>{G.stopPropagation(),xe(!1),qe([]),Ut("")},className:"routine-cancel-button",children:""})]})]})})]})})(),le==="history"&&(()=>{const k=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],G=k[0],ke=k.map(ve=>({id:`${e.id}-${ve}`,date:ve})),$e=Nn[e.id]||[];return hn?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:i(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(G?new Date(G+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),ke.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:ke.map((ve,Be)=>{const Je=ve.date===e.date,at=s(new Date(ve.date+"T00:00:00"));return c.jsxs("span",{children:[Be>0&&"  ",c.jsxs("span",{style:Je?{fontWeight:"bold",color:"#4CAF50"}:{},children:[at.split("(")[0],Je?"()":""]})]},ve.id)})})]}),(()=>{const ve=new Date(e.created_at).toISOString().split("T")[0],Be=e.date;return ve!==Be&&ke.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:s(new Date(e.date+"T00:00:00"))})]}):null})(),$e.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",$e.length,")"]}),$e.map(ve=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[i(ve.changed_at),ve.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",s(new Date(ve.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:Be=>{Be.stopPropagation(),Qr(ve.id)},children:H.includes(ve.id)?"":""})]}),H.includes(ve.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ve.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ve.new_text})]})]})]},ve.id))]})]})]})})(),le==="routine-stats"&&W&&(()=>{if(!Nt||Nt.id!==W.id||q.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",W.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Nt||Nt.id!==W.id?" ...":" ."})]});const k=q[0],G=new Date(k.date),ke=new Date,$e={};q.forEach(Je=>{$e[Je.date]=Je.completed});const ve=[];let Be=new Date(G);for(;Be<=ke;){const Je=Be.getFullYear(),at=Be.getMonth(),gn=`${Je}-${at+1}`;ve.find(fs=>fs.key===gn)||ve.push({key:gn,year:Je,month:at,days:[]});const Pr=ve.find(fs=>fs.key===gn),hr=Le(Be),Zr=Be.getDay(),mr=Cn(Zr),Xc=W.days.includes(mr);Pr.days.push({date:new Date(Be),dateStr:hr,day:Be.getDate(),dayOfWeek:Zr,isCompleted:$e[hr]===!0,isRoutineDay:Xc,hasTodo:$e[hr]!==void 0}),Be.setDate(Be.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",W.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:ve.map(Je=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[Je.year," ",Je.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),Je.days.length>0&&Array(Je.days[0].dayOfWeek).fill(null).map((at,gn)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${gn}`)),Je.days.map((at,gn)=>{if(gn>0&&at.day===1){const hr=6-Je.days[gn-1].dayOfWeek;return c.jsxs(st.Fragment,{children:[Array(hr).fill(null).map((Zr,mr)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${gn}-${mr}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${at.isCompleted?"completed":""} ${at.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:at.day}),at.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},at.dateStr)}return c.jsxs("div",{className:`history-day-cell ${at.isCompleted?"completed":""} ${at.isRoutineDay?"":"not-routine-day"}`,title:`${at.dateStr}${at.isRoutineDay?"":" (  )"}${at.isCompleted?" - ":at.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:at.day}),at.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},at.dateStr)})]})]},Je.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[q.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[q.filter(Je=>Je.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[q.filter(Je=>!Je.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[q.length>0?Math.round(q.filter(Je=>Je.completed).length/q.length*100):0,"%"]})]})]})]})]})})(),le==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var $e;const k=(($e=e.visible_dates)==null?void 0:$e.length)>0?e.visible_dates:[e.date||e.created_date],G=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Wn(e),ae(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Kc(e),ae(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Al(e),ae(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):k.length>1||G?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Wn(e),ae(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Na(e),ae(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Na(e),ae(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}function cO({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:r,selectedDays:i,onToggleDay:s,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:u,routines:d,editingRoutineId:h,editingRoutineText:m,setEditingRoutineText:f,editingRoutineDays:p,onToggleEditDay:b,onStartEdit:x,onSaveEdit:v,onCancelEdit:g,onDelete:y,onShowHistory:w}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:T=>T.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:n,onChange:T=>a(T.target.value),placeholder:"  ...",className:"routine-input",disabled:r}),c.jsx("div",{className:"day-selector",children:Ur.map(T=>c.jsx("button",{onClick:()=>s(T.key),className:`day-button ${i.includes(T.key)?"selected":""}`,disabled:r,children:T.label},T.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(jh,{value:l,onChange:T=>o(T)})]}),c.jsx("button",{onClick:u,className:"add-routine-button",disabled:r||n.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:d.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):d.map(T=>c.jsx("div",{className:"routine-item",children:h===T.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:m,onChange:E=>f(E.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Ur.map(E=>c.jsx("button",{onClick:()=>b(E.key),className:`day-button-inline ${p.includes(E.key)?"selected":""}`,children:E.label},E.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v,className:"routine-save-button",disabled:m.trim()===""||p.length===0,children:""}),c.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:T.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Ur.filter(E=>T.days.includes(E.key)).map(E=>c.jsx("span",{className:"routine-day-badge",children:E.label},E.key))}),T.time_slot&&c.jsx("span",{className:"routine-time-slot",children:T.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>w(T),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>x(T),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>y(T.id),className:"routine-delete-button",title:"",children:""})]})]})},T.id))})]})}):null}const uO=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function dO({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",n.text," "]}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const r=a[0],i=new Date(r.date),s=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const o=[];let u=new Date(i);for(;u<=s;){const d=u.getFullYear(),h=u.getMonth(),m=`${d}-${h+1}`;o.find(g=>g.key===m)||o.push({key:m,year:d,month:h,days:[]});const f=o.find(g=>g.key===m),p=Le(u),b=u.getDay(),x=uO(b),v=n.days.includes(x);f.days.push({date:new Date(u),dateStr:p,day:u.getDate(),dayOfWeek:b,isCompleted:l[p]===!0,isRoutineDay:v,hasTodo:l[p]!==void 0}),u.setDate(u.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:o.map(d=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((h,m)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${m}`)),d.days.map((h,m)=>{if(m>0&&h.day===1){const p=6-d.days[m-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(p).fill(null).map((b,x)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${m}-${x}`)),c.jsx("div",{className:"history-day-header",children:""},h.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${h.isCompleted?"completed":""} ${h.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:h.day}),h.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${h.isCompleted?"completed":""} ${h.isRoutineDay?"":"not-routine-day"}`,title:`${h.dateStr}${h.isRoutineDay?"":" (  )"}${h.isCompleted?" - ":h.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:h.day}),h.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},h.dateStr)})]})]},d.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[a.filter(r=>r.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[a.filter(r=>!r.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(r=>r.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function fO({title:e,className:t,content:n,setContent:a,isEditing:r,isSaving:i,textareaRef:s,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:d,placeholder:h,emptyMessage:m,children:f}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!r&&c.jsx("button",{onClick:l,className:"section-action-button",title:" ",children:" "}),r&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:i,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),r?c.jsx("textarea",{ref:s,value:n,onChange:p=>a(p.target.value),onKeyDown:d,className:"memo-textarea",placeholder:h}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((p,b)=>c.jsx("div",{className:"memo-preview-line",children:p||""},b))}):c.jsx("div",{className:"memo-empty",children:m})}),f]})}function Hb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,parentBlock:i,rootSetBlocks:s,draggingChildIds:l=[],activeId:o,overId:u}){const{attributes:d,listeners:h,setNodeRef:m,transform:f,transition:p,isDragging:b}=Gc({id:e.id}),x=e.id===o,v=e.id===u&&o&&o!==u,g={cursor:"grab",opacity:x?.4:1,borderTop:v?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return c.jsx("div",{ref:m,style:g,children:c.jsx(qb,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:{...d,...h},parentBlock:i,rootSetBlocks:s,draggingChildIds:l,activeId:o,overId:u})})}function qb({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:r,dragHandleProps:i,parentBlock:s,rootSetBlocks:l,draggingChildIds:o=[],activeId:u,overId:d}){const h=_.useRef(null),m=_.useRef(!1);_.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const T=h.current.value.length;h.current.setSelectionRange(T,T)}},[a,e.id]),_.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const f=(T,E,S)=>T.map(j=>{if(j.id===E){const D=S(j);return{...D,children:Array.isArray(D.children)?D.children:[]}}return Array.isArray(j.children)&&j.children.length>0?{...j,children:f(j.children,E,S)}:j}),p=T=>{n(E=>f(E,e.id,S=>({...S,content:T})))},b=T=>{n(E=>f(E,e.id,S=>({...S,children:typeof T=="function"?T(S.children):T})))},x=()=>{n(T=>f(T,e.id,E=>{const S=!E.isOpen;if(S&&(!Array.isArray(E.children)||E.children.length===0)){const j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...E,isOpen:S,children:[j]}}return{...E,isOpen:S,children:Array.isArray(E.children)?E.children:[]}}))},v=()=>{const T=t.findIndex(S=>S.id===e.id);if(T<=0)return;const E=t[T-1];n(S=>{const j=[...S];j.splice(T,1);const D={...E,children:[...Array.isArray(E.children)?E.children:[],e],isOpen:!0};return j[T-1]=D,j})},g=()=>{!s||!l||l(T=>{const E=(D,O,R)=>{const J=[];for(let ne=0;ne<D.length;ne++){const re=D[ne];if(re.id===O){const se=re.children.filter($=>$.id!==R.id),C={...re,children:se};J.push(C),J.push(R)}else if(Array.isArray(re.children)&&re.children.length>0){const se=E(re.children,O,R);se!==re.children?J.push({...re,children:se}):J.push(re)}else J.push(re)}return J},S=D=>D.map(O=>{const R=Array.isArray(O.children)&&O.children.length>0;return!R&&O.isOpen?{...O,isOpen:!1}:R?{...O,children:S(O.children)}:O}),j=E(T,s.id,e);return S(j)})},y=T=>{const E=[],S=j=>{for(const D of j)E.push(D),D.isOpen&&Array.isArray(D.children)&&D.children.length>0&&S(D.children)};return S(T),E},w=T=>{if(T.key==="Enter"){if(T.shiftKey)return;{if(m.current){T.preventDefault(),T.stopPropagation();return}T.preventDefault(),T.stopPropagation(),m.current=!0;const E=T.target.selectionStart,S={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};E===0?(n(j=>{const D=j.findIndex(R=>R.id===e.id);if(D===-1)return j;const O=[...j];return O.splice(D,0,S),O}),setTimeout(()=>{r(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(j=>{const D=j.findIndex(R=>R.id===e.id);if(D===-1)return j;const O=[...j];return O.splice(D+1,0,S),O}),setTimeout(()=>{r(S.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(T.key==="Tab"&&T.shiftKey)T.preventDefault(),T.stopPropagation(),s&&l&&g();else if(T.key==="Tab"&&!T.shiftKey)T.preventDefault(),T.stopPropagation(),v();else if(T.key==="Backspace"){const E=T.target.selectionStart;if(e.content===""||E===0){const O=(()=>{if(l){let ne=[];return l(re=>(ne=re,re)),ne}return t})(),R=y(O),J=R.findIndex(ne=>ne.id===e.id);if(J>0){T.preventDefault(),T.stopPropagation();const ne=R[J-1],re=(C,$)=>C.filter(F=>F.id!==$).map(F=>Array.isArray(F.children)&&F.children.length>0?{...F,children:re(F.children,$)}:F),se=C=>C.map($=>{const F=Array.isArray($.children)&&$.children.length>0;return!F&&$.isOpen?{...$,isOpen:!1}:F?{...$,children:se($.children)}:$});l?l(C=>{const $=re(C,e.id);return se($)}):n(C=>{const $=re(C,e.id);return se($)}),setTimeout(()=>{r(ne.id)},0)}}}else if(T.key==="ArrowUp"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const S=(()=>{if(l){let O=[];return l(R=>(O=R,R)),O}return t})(),j=y(S),D=j.findIndex(O=>O.id===e.id);D>0&&r(j[D-1].id)}else if(T.key==="ArrowDown"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const S=(()=>{if(l){let O=[];return l(R=>(O=R,R)),O}return t})(),j=y(S),D=j.findIndex(O=>O.id===e.id);D<j.length-1&&r(j[D+1].id)}};return c.jsxs("div",{className:"notion-block",children:[i&&c.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:x,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:h,value:e.content,onChange:T=>p(T.target.value),onKeyDown:w,onFocus:()=>r(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(T=>c.jsx(Hb,{block:T,blocks:e.children,setBlocks:b,focusedBlockId:a,setFocusedBlockId:r,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:o,activeId:u,overId:d},T.id))})]})}function hO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:r,onOpenViewer:i}){const[s,l]=_.useState(null),[o,u]=_.useState(null),d=fc(Va(Qi,{activationConstraint:{distance:3}}),Va(Yc,{coordinateGetter:Bb})),h=E=>E.map(S=>{const j=Array.isArray(S.children)&&S.children.length>0;return!j&&S.isOpen?{...S,isOpen:!1}:j?{...S,children:h(S.children)}:S});_.useEffect(()=>{const E=h(e);JSON.stringify(E)!==JSON.stringify(e)&&t(E)},[e]);const m=E=>{const S=[],j=D=>{for(const O of D)S.push(O),O.isOpen&&Array.isArray(O.children)&&O.children.length>0&&j(O.children)};return j(E),S},f=E=>{const S=[],j=D=>{if(Array.isArray(D.children)&&D.children.length>0)for(const O of D.children)S.push(O.id),j(O)};return j(E),S},p=E=>{const{active:S}=E,D=m(e).find(O=>O.id===S.id);l(D)},b=E=>{const{over:S}=E;u((S==null?void 0:S.id)||null)},x=st.useMemo(()=>s?f(s):[],[s]),v=E=>{const{active:S,over:j}=E;if(l(null),u(null),!j||S.id===j.id)return;const D=m(e),O=D.find(ye=>ye.id===S.id),R=D.find(ye=>ye.id===j.id);if(!O||!R||f(O).includes(j.id))return;const ne=JSON.parse(JSON.stringify(O)),re=(ye,He)=>ye.filter(Te=>Te.id!==He).map(Te=>({...Te,children:Array.isArray(Te.children)?re(Te.children,He):[]})),se=(ye,He,Te)=>{let De=!1;const Ne=[];for(const I of ye)if(Ne.push(I),I.id===He&&(Ne.push(Te),De=!0),Array.isArray(I.children)&&I.children.length>0){const{newChildren:B,wasInserted:H}=C(I.children,He,Te);H&&(Ne[Ne.length-1]={...I,children:B},De=!0)}return{newTree:Ne,inserted:De}},C=(ye,He,Te)=>{let De=!1;const Ne=[];for(const I of ye)if(Ne.push(I),I.id===He&&(Ne.push(Te),De=!0),Array.isArray(I.children)&&I.children.length>0){const{newChildren:B,wasInserted:H}=C(I.children,He,Te);H&&(Ne[Ne.length-1]={...I,children:B},De=!0)}return{newChildren:Ne,wasInserted:De}};let $=re(e,O.id);const F=$.length>0&&$[0].id===R.id;let he,Se=!1;if(F)he=[ne,...$],Se=!0;else{const ye=se($,R.id,ne);he=ye.newTree,Se=ye.inserted}if(!Se){console.warn("Failed to insert block, keeping original state");return}const mt=h(he);t(mt)},g=m(e).filter(E=>!x.includes(E.id)).map(E=>E.id),y=E=>{const S=j=>j.map(D=>({...D,isOpen:E,children:Array.isArray(D.children)?S(D.children):[]}));t(S(e))},w=E=>{for(const S of E)if(!S.isOpen&&Array.isArray(S.children)&&S.children.length>0||Array.isArray(S.children)&&S.children.length>0&&!w(S.children))return!1;return!0},T=w(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"section-action-button",onClick:()=>i&&i(),title:"  ",children:" "}),c.jsx("button",{className:"section-action-button",onClick:()=>r&&r(),title:"  ",children:" "}),c.jsx("button",{className:"section-action-button",onClick:()=>y(!T),title:T?" ":" ",children:T?" ":" "})]})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsxs(gc,{sensors:d,collisionDetection:hc,onDragStart:p,onDragOver:b,onDragEnd:v,measuring:{droppable:{strategy:Pi.Always}},children:[c.jsx(Dr,{items:g,strategy:ji,children:e.map(E=>c.jsx(Hb,{block:E,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:x,activeId:s==null?void 0:s.id,overId:o},E.id))}),c.jsx(Mb,{children:s?c.jsx("div",{className:"drag-overlay-block",children:c.jsx(qb,{block:s,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function mO({block:e,depth:t,isSelected:n,isCurrent:a,isOver:r,dropPosition:i,activeId:s,hasChildren:l,text:o,onClick:u,showBottomLine:d,isEditing:h,editingText:m,onDoubleClick:f,onEditChange:p,onSaveEdit:b,onCancelEdit:x,onAddChildBlock:v,onDeleteBlock:g,onToggleTodo:y,onToggleMemo:w}){const{attributes:T,listeners:E,setNodeRef:S}=Gc({id:e.id}),j=_.useRef(null),D=_.useRef(!1);_.useEffect(()=>{h&&j.current&&(j.current.style.height="auto",j.current.style.height=j.current.scrollHeight+"px")},[h,m]);const O=e.id===s,R=r&&i==="top"&&s&&s!==e.id,J=r&&i==="bottom"&&s&&s!==e.id||d,ne=r&&i==="center"&&s&&s!==e.id,re={cursor:h?"text":"grab",opacity:O?.4:1},se=h?{}:{...T,...E};return c.jsxs("div",{ref:S,style:re,"data-block-id":e.id,"data-drop-zone":r?i:"",className:`viewer-block ${n?"selected":""} ${a?"current-selected":""} ${l?"has-children":""} ${R?"show-drop-line-top":""} ${J?"show-drop-line-bottom":""} ${ne?"show-as-child-target":""} ${h?"editing":""}`,onClick:h?void 0:u,onDoubleClick:h?void 0:f,...se,children:[c.jsx("div",{className:"block-content-area",children:h?c.jsx("textarea",{ref:j,className:"block-edit-input",value:m,onChange:C=>p(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),C.stopPropagation(),D.current=!0,b(),j.current&&j.current.blur()):C.key==="Escape"&&(C.preventDefault(),C.stopPropagation(),D.current=!0,x(),j.current&&j.current.blur())},onBlur:()=>{D.current||b(),D.current=!1},autoFocus:!0,rows:1}):c.jsx("div",{className:"block-text",children:o||" "})}),c.jsx("div",{className:"block-actions-area",children:h?c.jsxs("div",{className:"block-edit-buttons",children:[c.jsx("button",{className:`todo-button ${e.isTodo?"active":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),y(e.id)},title:"TODO  ",children:e.isTodo?"":""}),c.jsx("button",{className:`memo-button ${e.memo?"has-memo":""}`,onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),w(e.id)},title:"",children:""}),c.jsx("button",{className:"add-child-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),b(),v(e.id)},title:"  ",children:""}),c.jsx("button",{className:"delete-block-button",onMouseDown:C=>C.preventDefault(),onClick:C=>{C.stopPropagation(),window.confirm("  ?")&&g(e.id)},title:" ",children:""})]}):l&&c.jsx("div",{className:"block-arrow",children:n?"":""})})]})}function gO({blocks:e=[],setBlocks:t,onSave:n,onClose:a}){const[r,i]=_.useState(!0),[s,l]=_.useState([]),[o,u]=_.useState(null),[d,h]=_.useState(null),[m,f]=_.useState(null),[p,b]=_.useState(null),[x,v]=_.useState(""),g=_.useRef({x:0,y:0}),y=_.useRef(null),w=_.useRef(null),T=fc(Va(Qi,{activationConstraint:{delay:500,tolerance:8}}));_.useEffect(()=>{if(s.length===0)return;const I=s.length-1,B=s[I];B&&setTimeout(()=>{let H=null;if(B==="ADD_BUTTON"){const N=document.querySelectorAll(".viewer-column");N[I]&&(H=N[I].querySelector(".add-block-button"))}else H=document.querySelector(`[data-block-id="${B}"]`);H&&H.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},50)},[s]),_.useEffect(()=>{const I=B=>{if(p)return;const H=s.length>0?s.length-1:0,N=s[H],L=N==="ADD_BUTTON",z=S(H),P=z.findIndex(M=>M.id===N);switch(B.key){case"Enter":{if(B.preventDefault(),L)C(H);else if(N){const M=E(e,N);M&&(b(N),v(De(M)))}break}case"ArrowUp":{if(B.preventDefault(),L){if(z.length>0){const M=z[z.length-1].id,te=s.slice(0,H);te[H]=M,l(te)}}else if(P>0){const M=z[P-1].id,te=s.slice(0,H);te[H]=M,l(te)}break}case"ArrowDown":{if(B.preventDefault(),P===z.length-1){const M=s.slice(0,H);M[H]="ADD_BUTTON",l(M)}else if(P<z.length-1&&!L){const M=z[P+1].id,te=s.slice(0,H);te[H]=M,l(te)}break}case"ArrowLeft":{B.preventDefault(),s.length>0&&l(s.slice(0,-1));break}case"ArrowRight":{if(B.preventDefault(),N&&N!=="ADD_BUTTON"){const M=E(e,N);if(M)if(M.children&&M.children.length>0){const te=[...s,M.children[0].id];l(te)}else{const te=[...s,"ADD_BUTTON"];l(te)}}else z.length>0&&l([z[0].id]);break}case"Tab":{if(B.preventDefault(),N&&N!=="ADD_BUTTON"){const M=E(e,N);if(M)if(M.children&&M.children.length>0){const te=[...s,M.children[0].id];l(te)}else{const te=[...s,"ADD_BUTTON"];l(te)}}else z.length>0&&l([z[0].id]);break}}B.key==="Tab"&&B.shiftKey&&(B.preventDefault(),s.length>0&&l(s.slice(0,-1)))};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[s,p,e]);const E=(I,B)=>{for(const H of I){if(H.id===B)return H;if(H.children){const N=E(H.children,B);if(N)return N}}return null},S=I=>{if(I===0)return e||[];let B=e;for(let H=0;H<I;H++){const N=s[H];if(!N)return[];const L=B.find(z=>z.id===N);if(!L||!L.children||L.children.length===0)return[];B=L.children}return B},j=(I,B,H)=>{if(p||o)return;const N=s.slice(0,I);N[I]=B,l(N)},D=(I,B)=>{B.stopPropagation();const H=E(e,I);H&&(b(I),v(De(H)))},O=()=>{if(!p||!t)return;const I=JSON.parse(JSON.stringify(e)),B=(H,N,L)=>{for(let z=0;z<H.length;z++){if(H[z].id===N)return Array.isArray(H[z].content)?H[z].content=[{text:L}]:H[z].content=L,!0;if(H[z].children&&B(H[z].children,N,L))return!0}return!1};B(I,p,x),t(I),b(null),v(""),n&&setTimeout(()=>{n()},100)},R=()=>{b(null),v("")},J=I=>{if(!t)return;const B=JSON.parse(JSON.stringify(e)),H=(L,z)=>{for(let P=0;P<L.length;P++){if(L[P].id===z){const M=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,te={id:M,content:"",children:[]};return L[P].children||(L[P].children=[]),L[P].children.push(te),M}if(L[P].children){const M=H(L[P].children,z);if(M)return M}}return null};if(H(B,I)){t(B),b(null),v("");const L=$(B,I);if(L!==-1){const z=s.slice(0,L);z[L]=I,l(z)}n&&setTimeout(()=>{n()},100)}},ne=I=>{if(!t)return;const B=JSON.parse(JSON.stringify(e)),H=(N,L)=>{for(let z=0;z<N.length;z++){if(N[z].id===L)return N.splice(z,1),!0;if(N[z].children&&H(N[z].children,L))return!0}return!1};if(H(B,I)){t(B),b(null),v("");const N=s.filter(L=>L!==I);l(N),n&&setTimeout(()=>{n()},100)}},re=I=>{if(!t)return;const B=JSON.parse(JSON.stringify(e)),H=(N,L)=>{for(let z=0;z<N.length;z++){if(N[z].id===L)return N[z].isTodo=!N[z].isTodo,N[z].isTodo||(N[z].isCompleted=!1),!0;if(N[z].children&&H(N[z].children,L))return!0}return!1};H(B,I)&&(t(B),n&&setTimeout(()=>{n()},100))},se=I=>{if(!t)return;const B=E(e,I);if(!B)return;const H=B.memo||"",N=prompt(" :",H);if(N===null)return;const L=JSON.parse(JSON.stringify(e)),z=(P,M,te)=>{for(let ae=0;ae<P.length;ae++){if(P[ae].id===M)return P[ae].memo=te,!0;if(P[ae].children&&z(P[ae].children,M,te))return!0}return!1};z(L,I,N)&&(t(L),n&&setTimeout(()=>{n()},100))},C=I=>{if(!t)return;const B=JSON.parse(JSON.stringify(e)),H=`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,N={id:H,content:"",children:[]};if(I===0)B.push(N);else{const L=s[I-1];if(!L)return;const z=P=>{for(let M=0;M<P.length;M++){if(P[M].id===L)return P[M].children||(P[M].children=[]),P[M].children.push(N),!0;if(P[M].children&&z(P[M].children))return!0}return!1};z(B)}t(B),setTimeout(()=>{b(H),v("")},50),n&&setTimeout(()=>{n()},100)},$=(I,B,H=0)=>{for(const N of I){if(N.id===B)return H;if(N.children){const L=$(N.children,B,H+1);if(L!==-1)return L}}return-1},F=(I,B)=>{if(!I||B===0)return null;const H=document.querySelector(`[data-block-id="${I}"]`);if(!H)return"top";const N=H.getBoundingClientRect(),z=(B-N.top)/N.height;let P;if(z<0?P="top":z>1?P="bottom":z<.25?P="top":z>.75?P="bottom":P="center",P==="center"&&E(e,I)){const te=$(e,I);if(te!==-1){const ae=s.slice(0,te);ae[te]=I,JSON.stringify(ae)!==JSON.stringify(s)&&l(ae)}}return P},he=(I,B,H)=>{if(!t)return;const N=JSON.parse(JSON.stringify(e));let L=null;const z=(M,te)=>{for(let ae=0;ae<M.length;ae++){if(M[ae].id===te)return L=M.splice(ae,1)[0],!0;if(M[ae].children&&z(M[ae].children,te))return!0}return!1};if(z(N,I),!L)return;const P=(M,te,ae,le)=>{for(let be=0;be<M.length;be++){if(M[be].id===te){const je=le==="bottom"?be+1:be;return M.splice(je,0,ae),!0}if(M[be].children&&P(M[be].children,te,ae,le))return!0}return!1};P(N,B,L,H)&&t(N)},Se=(I,B)=>{if(!t)return;const H=JSON.parse(JSON.stringify(e));let N=null;const L=(M,te)=>{for(let ae=0;ae<M.length;ae++){if(M[ae].id===te)return N=M.splice(ae,1)[0],!0;if(M[ae].children&&L(M[ae].children,te))return!0}return!1};if(L(H,I),!N)return;const z=(M,te,ae)=>{for(let le=0;le<M.length;le++){if(M[le].id===te)return M[le].children||(M[le].children=[]),M[le].children.push(ae),!0;if(M[le].children&&z(M[le].children,te,ae))return!0}return!1};if(!z(H,B,N))return;if(t(H),E(H,B)){const M=(ae,le,be=0)=>{for(const je of ae){if(je.id===le)return be;if(je.children){const xe=M(je.children,le,be+1);if(xe!==-1)return xe}}return-1},te=M(H,B);if(te!==-1){const ae=s.slice(0,te);ae[te]=B,l(ae)}}},mt=I=>{const{active:B,activatorEvent:H}=I,N=E(e,B.id);u(N),w.current=B.id,document.body.classList.add("dragging"),H&&H.clientY!==void 0&&(g.current={x:H.clientX||0,y:H.clientY});const L=P=>{g.current={x:P.clientX,y:P.clientY};const M=y.current||w.current;if(M){const te=F(M,P.clientY);te&&f(te)}},z=P=>{if(P.touches[0]){g.current={x:P.touches[0].clientX,y:P.touches[0].clientY};const M=y.current||w.current;if(M){const te=F(M,P.touches[0].clientY);te&&f(te)}}};window.addEventListener("mousemove",L),window.addEventListener("touchmove",z),window._dragMoveCleanup=()=>{window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",z)}},ye=I=>{const{over:B}=I;if(!B){h(null),f(null),y.current=null;return}y.current=B.id,h(B.id);const H=g.current.y,N=F(B.id,H);N&&f(N)},He=async I=>{const{active:B,over:H}=I;let N=!1;H&&B.id!==H.id&&(m==="center"?(Se(B.id,H.id),N=!0):(he(B.id,H.id,m),N=!0)),u(null),h(null),f(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null),N&&n&&setTimeout(()=>{n()},100)},Te=()=>{u(null),h(null),f(null),y.current=null,w.current=null,document.body.classList.remove("dragging"),window._dragMoveCleanup&&(window._dragMoveCleanup(),window._dragMoveCleanup=null)},De=I=>typeof I.content=="string"?I.content:Array.isArray(I.content)?I.content.map(B=>B.text||"").join(""):"",Ne=Math.min(s.length+1,10);return c.jsx(gc,{sensors:T,collisionDetection:hc,onDragStart:mt,onDragOver:ye,onDragEnd:He,onDragCancel:Te,children:c.jsxs("div",{className:`key-thoughts-viewer-page ${r?"dark-mode":""}`,children:[c.jsxs("header",{className:"viewer-header",children:[c.jsx("button",{className:"viewer-close-button",onClick:a,"aria-label":" ",children:""}),c.jsx("h2",{className:"viewer-title",children:" "}),c.jsx("button",{className:"dark-mode-toggle",onClick:()=>i(!r),"aria-label":r?"  ":"  ",children:r?"Light":"Dark"})]}),c.jsx("main",{className:"viewer-content",children:c.jsx("div",{className:"columns-container",children:Array.from({length:Ne}).map((I,B)=>{const H=S(B),N=s[B];if(H.length===0&&B>0&&!s[B-1])return null;const L=H.map(M=>M.id),z=d?$(e,d):-1,P=z!==-1&&z+1===B&&m==="center"&&o;return c.jsxs("div",{className:"viewer-column",children:[c.jsx("div",{className:"column-header",children:B===0?"A":B===1?"B":B===2?"C":String.fromCharCode(65+B)}),c.jsx(Dr,{items:L,strategy:ji,children:c.jsxs("div",{className:"column-blocks",children:[H.length===0&&P?c.jsx("div",{className:"empty-column-drop-line"}):H.map((M,te)=>{const ae=M.id===N,le=M.id===d,be=M.children&&M.children.length>0,je=De(M),Ge=te===H.length-1&&P,qe=s.length>0&&s[s.length-1]===M.id;return c.jsx(mO,{block:M,depth:B,isSelected:ae,isCurrent:qe,isOver:le,dropPosition:m,activeId:o==null?void 0:o.id,hasChildren:be,text:je,onClick:()=>j(B,M.id),showBottomLine:Ge,isEditing:p===M.id,editingText:x,onDoubleClick:kt=>D(M.id,kt),onEditChange:v,onSaveEdit:O,onCancelEdit:R,onAddChildBlock:J,onDeleteBlock:ne,onToggleTodo:re,onToggleMemo:se},M.id)}),(B===0||s[B-1]!=="ADD_BUTTON")&&c.jsx("button",{className:`add-block-button ${N==="ADD_BUTTON"?"selected":""}`,onClick:()=>C(B),children:"+  "})]})})]},B)})})}),c.jsx(Mb,{children:o?c.jsxs("div",{className:"viewer-block dragging-overlay",children:[c.jsx("div",{className:"block-content-area",children:c.jsx("div",{className:"block-text",children:De(o)||" "})}),c.jsx("div",{className:"block-actions-area",children:o.children&&o.children.length>0&&c.jsx("div",{className:"block-arrow",children:""})})]}):null})]})})}function yO({showTrashModal:e,onClose:t,trashedItems:n,onEmptyTrash:a,onRestoreFromTrash:r,onPermanentDelete:i,formatDate:s}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[n.length>0&&c.jsx("button",{onClick:a,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):n.map(l=>{const o=l.visible_dates||(l.date?[l.date]:[]),u=o.length>1||l.original_todo_id,d=l.original_todo_id!==null&&l.original_todo_id!==void 0,h=l.hidden_dates&&l.hidden_dates.length>0;let m="  ";return d?m="   ( )":h?m="  ":l.deleted===!0&&(m=o.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${l.completed?"completed":""}`,children:l.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",s(l.created_at)]}),l.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",l.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${d?"old-style":h?"partial":"complete"}`,children:m})]}),u&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:o.length>0?o.map((f,p)=>c.jsx("span",{className:"carryover-date-badge",children:f},p)):l.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",l.original_todo_id,")"]}):null}),h&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),l.hidden_dates.map((f,p)=>c.jsx("span",{className:"hidden-date-badge",children:f},p))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>r(l.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>i(l.id),className:"permanent-delete-button",title:" ",children:" "})]})]},l.id)})})]})}):null}function vO({showDummyModal:e,onClose:t,onCreateDummyData:n,onRemoveDuplicates:a,dummySessions:r,onDeleteDummySession:i,onDeleteAllDummies:s,formatDate:l}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:n,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:a,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),r.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[r.map((o,u)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",u+1,": ",o.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",o.count,""]}),o.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",o.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:l(o.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${u+1} ?`)&&i(o.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},o.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&s()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}):null}function pO({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:r,formatDateOnly:i}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:s=>s.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(s=>c.jsx("button",{className:`period-button ${a===s.value?"active":""}`,onClick:()=>r(s.value),children:s.label},s.value))})}),c.jsx("div",{className:"gantt-content",children:n.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const s=n.flatMap(h=>h.dates),l=[...new Set(s)].sort((h,m)=>new Date(h)-new Date(m));if(l.length===0)return c.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),u=new Date(l[l.length-1]),d=[];for(let h=new Date(o);h<=u;h.setDate(h.getDate()+1))d.push(new Date(h).toISOString().split("T")[0]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:d.map(h=>c.jsx("div",{className:"gantt-date-cell",children:i(new Date(h+"T00:00:00")).split("(")[0]},h))})]}),n.map((h,m)=>{const f=new Set(h.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:h.text,children:c.jsx("span",{className:h.completed?"completed-task":"",children:h.text})}),c.jsx("div",{className:"gantt-timeline",children:d.map(p=>{if(!f.has(p))return c.jsx("div",{className:"gantt-date-cell"},p);const x=p===h.startDate,v=p===h.completedDate;let g="gantt-date-cell has-task";return x?g+=" start-date":v?g+=" completed-date":g+=" middle-date",c.jsx("div",{className:g,children:v?c.jsx("span",{className:"completed-circle",children:""}):""},p)})})]},h.originalId)})]})})()})})]})}):null}function bO({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:r,onAddEncouragementMessage:i,editingEncouragementId:s,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:u,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:h}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:m=>m.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:a,onChange:m=>r(m.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async m=>{m.key==="Enter"&&a.trim()!==""&&(await i(a.trim()),r(""))}}),c.jsx("button",{onClick:async()=>{a.trim()!==""&&(await i(a.trim()),r(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:n.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):n.map((m,f)=>c.jsx("div",{className:"encouragement-item",children:s===f?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(f,l.trim()),o(null),u(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),c.jsx("button",{onClick:()=>{o(null),u("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:m}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{o(f),u(m)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await h(f)},className:"encouragement-delete-button",title:"",children:""})]})]})},f))})]})}):null}function _O({showKeyThoughtsHistory:e,onClose:t,keyThoughtsHistory:n,onRestoreVersion:a}){return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"    "}),c.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:n.length===0?c.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map(r=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(r.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),r.description&&c.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:r.description})]}),c.jsx("button",{onClick:()=>a(r.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),c.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(r.content)?r.content.map((i,s)=>c.jsxs("div",{style:{marginBottom:"4px"},children:[i.type==="toggle"?" ":"",i.content||"( )"]},s)):"( )"})]},r.id))})})]})}):null}function wO({isOpen:e,onClose:t,onAddSection:n}){const[a,r]=_.useState(""),[i,s]=_.useState(""),l=["","","","","","","","","","","",""],o=u=>{u.preventDefault(),a.trim()&&(n({name:a.trim(),icon:i}),r(""),s(""),t())};return e?c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal-content add-section-modal",onClick:u=>u.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),c.jsxs("form",{onSubmit:o,className:"add-section-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",value:a,onChange:u=>r(u.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("div",{className:"emoji-grid",children:l.map(u=>c.jsx("button",{type:"button",className:`emoji-button ${i===u?"selected":""}`,onClick:()=>s(u),children:u},u))}),c.jsx("div",{className:"custom-emoji-input",children:c.jsx("input",{type:"text",value:i,onChange:u=>s(u.target.value.slice(0,2)),placeholder:" ",className:"emoji-input",maxLength:2})})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsxs("div",{className:"section-preview",children:[i," ",a||" "]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),c.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function SO({authLoading:e,session:t,handleGoogleLogin:n}){return e?c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),c.jsx("div",{children:" ..."})]})}):t?null:c.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),c.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),c.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[c.jsx("span",{children:""}),"Google "]})]})})}function xO(e){const[t,n]=_.useState(["memo","routine","normal","key-thoughts"]),[a,r]=_.useState(!1),i=async()=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{const{data:m,error:f}=await de.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(f){console.error("   :",f.message);return}if(m&&m.setting_value){const p=JSON.parse(m.setting_value);n(p)}}catch(m){console.error("   :",m.message)}},s=async h=>{var m;if((m=e==null?void 0:e.user)!=null&&m.id)try{const{data:f,error:p}=await de.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(p){console.error("   :",p.message);return}f?await de.from("user_settings").update({setting_value:JSON.stringify(h),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await de.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(h),user_id:e.user.id}])}catch(f){console.error("   :",f.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:r,fetchSectionOrder:i,saveSectionOrder:s,moveSectionLeft:h=>{n(m=>{const f=m.indexOf(h);if(f<=0)return m;const p=[...m];return[p[f-1],p[f]]=[p[f],p[f-1]],s(p),p})},moveSectionRight:h=>{n(m=>{const f=m.indexOf(h);if(f===-1||f>=m.length-1)return m;const p=[...m];return[p[f],p[f+1]]=[p[f+1],p[f]],s(p),p})},handleSectionDragEnd:h=>{const{active:m,over:f}=h;m.id!==(f==null?void 0:f.id)&&n(p=>{const b=p.indexOf(m.id),x=p.indexOf(f.id),v=Th(p,b,x);return s(v),v})},handleSectionsContainerDoubleClick:h=>{a&&h.target===h.currentTarget&&r(!1)}}}function EO(e){const[t,n]=_.useState(""),[a,r]=_.useState(!1),[i,s]=_.useState(!1),[l,o]=_.useState(""),u=_.useRef(null),d=async()=>{try{const{data:b,error:x}=await de.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(x)throw x;const v=b&&b.length>0?b[0].content:"";n(v),o(v)}catch(b){console.error("   :",b.message),n(""),o("")}},h=()=>{r(!0),o(t),setTimeout(()=>{u.current&&u.current.focus()},0)},m=async()=>{var b;if(!i)try{s(!0);const{data:x}=await de.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);x&&x.length>0?await de.from("spec_memos").update({content:t,updated_at:new Date().toISOString()}).eq("id",x[0].id):await de.from("spec_memos").insert([{content:t,user_id:(b=e==null?void 0:e.user)==null?void 0:b.id}]),o(t),r(!1)}catch(x){console.error("  :",x.message),alert("  .")}finally{s(!1)}},f=()=>{n(l),r(!1)};return{memoContent:t,setMemoContent:n,isEditingMemoInline:a,setIsEditingMemoInline:r,isSavingMemo:i,memoOriginalContent:l,memoTextareaRef:u,fetchMemoContent:d,handleStartEditMemoInline:h,handleSaveMemoInline:m,handleCancelEditMemoInline:f,handleMemoKeyDown:b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),m()),b.key==="Escape"&&(b.preventDefault(),f())}}}function TO(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;e.forEach(r=>{t.set(r.block_id,{id:r.block_id,type:r.type||"toggle",content:r.content||"",isOpen:r.is_open!==void 0?r.is_open:!0,isTodo:r.is_todo||!1,isCompleted:r.is_completed||!1,memo:r.memo||"",children:[],_dbId:r.id,_parentId:r.parent_id,_position:r.position,_depth:r.depth,_createdAt:r.created_at,_updatedAt:r.updated_at})});const n=[];e.forEach(r=>{const i=t.get(r.block_id);if(r.parent_id===null||r.parent_id===void 0)n.push(i);else{const s=t.get(r.parent_id);s?s.children.push(i):(console.warn(`Parent not found for block ${r.block_id}, moving to root`),n.push(i))}});const a=r=>{r.sort((i,s)=>(i._position||0)-(s._position||0)),r.forEach(i=>{i.children.length>0&&a(i.children)})};return a(n),n}function of(e,t=null,n=0){if(!Array.isArray(e))return[];let a=[];return e.forEach((r,i)=>{const{children:s,_dbId:l,_parentId:o,_position:u,_depth:d,_createdAt:h,_updatedAt:m,...f}=r,p={block_id:f.id||r.id,content:f.content||"",type:f.type||"toggle",parent_id:t,position:i,depth:n,is_open:f.isOpen!==void 0?f.isOpen:!0,is_todo:f.isTodo||!1,is_completed:f.isCompleted||!1,memo:f.memo||""};if(a.push(p),s&&s.length>0){const b=of(s,f.id||r.id,n+1);a=a.concat(b)}}),a}function ny(){return`${Date.now()}.${Math.random().toString(36).substring(2,9)}`}function cf(e){return Array.isArray(e)?e.map(t=>({...t,children:Array.isArray(t.children)?cf(t.children):[]})):[]}function jO(e){const[t,n]=_.useState([{id:ny(),type:"toggle",content:"",children:[],isOpen:!0}]),[a,r]=_.useState(!1),[i,s]=_.useState(!1),l=_.useRef(null),o=_.useRef(null),[u,d]=_.useState(null),[h,m]=_.useState([]),[f,p]=_.useState(!1),b=async()=>{var O;if((O=e==null?void 0:e.user)!=null&&O.id){r(!0);try{const{data:R,error:J}=await de.from("key_thought_blocks").select("*").eq("user_id",e.user.id).order("position",{ascending:!0});if(J){console.error("  :",J.message);return}if(R&&R.length>0){const ne=TO(R);n(ne),l.current=JSON.parse(JSON.stringify(ne))}}catch(R){console.error("  :",R.message)}finally{r(!1)}}},x=async O=>{var R;if(!((R=e==null?void 0:e.user)!=null&&R.id))return null;try{const J=O.id||ny(),{data:ne,error:re}=await de.from("key_thought_blocks").insert([{user_id:e.user.id,block_id:J,content:O.content||"",type:O.type||"toggle",parent_id:O.parent_id||null,position:O.position||0,depth:O.depth||0,is_open:O.isOpen!==void 0?O.isOpen:!0}]).select().single();return re?(console.error("  :",re.message),null):ne}catch(J){return console.error("  :",J.message),null}},v=async(O,R)=>{var J;if(!((J=e==null?void 0:e.user)!=null&&J.id))return!1;try{const ne={};R.content!==void 0&&(ne.content=R.content),R.type!==void 0&&(ne.type=R.type),R.isOpen!==void 0&&(ne.is_open=R.isOpen),R.position!==void 0&&(ne.position=R.position),R.parent_id!==void 0&&(ne.parent_id=R.parent_id),R.depth!==void 0&&(ne.depth=R.depth),ne.updated_at=new Date().toISOString();const{error:re}=await de.from("key_thought_blocks").update(ne).eq("user_id",e.user.id).eq("block_id",O);return re?(console.error("  :",re.message),!1):!0}catch(ne){return console.error("  :",ne.message),!1}},g=async O=>{var R;if(!((R=e==null?void 0:e.user)!=null&&R.id))return!1;try{const{error:J}=await de.from("key_thought_blocks").delete().eq("user_id",e.user.id).eq("block_id",O);return J?(console.error("  :",J.message),!1):!0}catch(J){return console.error("  :",J.message),!1}},y=async(O,R,J,ne)=>{var re;if(!((re=e==null?void 0:e.user)!=null&&re.id))return!1;try{const{error:se}=await de.from("key_thought_blocks").update({parent_id:R,position:J,depth:ne,updated_at:new Date().toISOString()}).eq("user_id",e.user.id).eq("block_id",O);return se?(console.error("  :",se.message),!1):!0}catch(se){return console.error("  :",se.message),!1}},w=async()=>{var O;if(!((O=e==null?void 0:e.user)!=null&&O.id))return!1;s(!0);try{await de.from("key_thought_blocks").delete().eq("user_id",e.user.id);const R=of(t);if(R.length>0){const{error:J}=await de.from("key_thought_blocks").insert(R.map(ne=>({...ne,user_id:e.user.id})));if(J)return console.error("  :",J.message),!1}return await E(t),l.current=JSON.parse(JSON.stringify(t)),!0}catch(R){return console.error("  :",R.message),!1}finally{s(!1)}},T=(O,R)=>{if(!O||O.length===0||O.length!==R.length)return!0;const J=(ne,re)=>{for(let se=0;se<ne.length;se++){const C=ne[se],$=re[se];if(C.type!==$.type)return!0;const F=C.children?C.children.length:0,he=$.children?$.children.length:0;if(F!==he)return!0;const Se=C.content||"",mt=$.content||"";if(Math.abs(Se.length-mt.length)>=20||he>0&&J(C.children,$.children))return!0}return!1};return J(O,R)},E=async O=>{var R;if((R=e==null?void 0:e.user)!=null&&R.id)try{if(!T(l.current,O))return;const{error:J}=await de.from("key_thoughts_history").insert([{content:O,description:" ",user_id:e.user.id}]);J&&console.error("   :",J.message)}catch(J){console.error("   :",J.message)}},S=async()=>{try{const O=new Date().toDateString();if(o.current===O)return;const R=new Date;R.setDate(R.getDate()-30);const{error:J}=await de.from("key_thoughts_history").delete().lt("created_at",R.toISOString());J?console.error("   :",J.message):(o.current=O,console.log("   "))}catch(O){console.error("   :",O.message)}},j=async()=>{try{const{data:O,error:R}=await de.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(R){console.error("   :",R.message);return}m(O||[])}catch(O){console.error("   :",O.message)}};return{blocks:t,setBlocks:n,loading:a,isSaving:i,setIsSaving:s,lastSavedBlocksRef:l,focusedBlockId:u,setFocusedBlockId:d,keyThoughtsHistory:h,setKeyThoughtsHistory:m,showKeyThoughtsHistory:f,setShowKeyThoughtsHistory:p,fetchBlocks:b,createBlock:x,updateBlock:v,deleteBlock:g,moveBlock:y,saveAllBlocks:w,fetchKeyThoughtsHistory:j,restoreKeyThoughtsVersion:async O=>{try{const R=h.find(re=>re.id===O);if(!R){alert("    .");return}if(!window.confirm(`  ?
    .`))return;T(l.current,t)&&await de.from("key_thoughts_history").insert([{content:t,description:"   ",user_id:e.user.id}]);const J=cf(R.content);n(J),await de.from("key_thought_blocks").delete().eq("user_id",e.user.id);const ne=of(J);ne.length>0&&await de.from("key_thought_blocks").insert(ne.map(re=>({...re,user_id:e.user.id}))),await de.from("key_thoughts_history").insert([{content:J,description:`  (${new Date(R.created_at).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})`,user_id:e.user.id}]),l.current=JSON.parse(JSON.stringify(J)),alert("  !"),p(!1),await j()}catch(R){console.error("  :",R.message),alert("    : "+R.message)}},cleanupOldHistory:S,normalizeBlocks:cf}}const OO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],DO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:r,setShowSuccessToast:i})=>{const[s,l]=_.useState([]),[o,u]=_.useState(""),[d,h]=_.useState([]),[m,f]=_.useState(""),[p,b]=_.useState(!1),[x,v]=_.useState(!1),[g,y]=_.useState(null),[w,T]=_.useState(""),[E,S]=_.useState([]),[j,D]=_.useState(!1),[O,R]=_.useState(null),[J,ne]=_.useState([]),re=_.useRef(new Set),se=async()=>{var N;if((N=e==null?void 0:e.user)!=null&&N.id)try{const{data:L,error:z}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(z)throw z;l(L||[])}catch(L){console.error("  :",L.message)}},C=async()=>{var N;if(!(o.trim()===""||p))try{b(!0);const L={text:o,days:d,start_date:Le(n),user_id:(N=e==null?void 0:e.user)==null?void 0:N.id};m&&(L.time_slot=m);const{data:z,error:P}=await t.from("routines").insert([L]).select();if(P)throw P;l([z[0],...s]),u(""),h([]),f("")}catch(L){console.error("  :",L.message)}finally{b(!1)}},$=async(N,L,z,P=null,M=!1,te="",ae=null)=>{var le;try{if(M){const{error:be}=await t.from("todos").update({routine_id:null}).eq("id",N);if(be)throw be;a(je=>je.map(xe=>xe.id===N?{...xe,routine_id:null}:xe));return}if(P){const{error:be}=await t.from("routines").update({days:z,time_slot:te}).eq("id",P);if(be)throw be;const{error:je}=await t.from("todos").update({is_pending_routine:z.length===0}).eq("id",N);if(je)throw je;l(xe=>xe.map(Ge=>Ge.id===P?{...Ge,days:z,time_slot:te}:Ge)),a(xe=>xe.map(Ge=>Ge.id===N?{...Ge,is_pending_routine:z.length===0}:Ge))}else{const be={text:L,days:z,time_slot:te,start_date:ae||Le(n),user_id:(le=e==null?void 0:e.user)==null?void 0:le.id},{data:je,error:xe}=await t.from("routines").insert([be]).select();if(xe)throw xe;const{error:Ge}=await t.from("todos").update({routine_id:je[0].id,is_pending_routine:z.length===0}).eq("id",N);if(Ge)throw Ge;a(qe=>qe.map(kt=>kt.id===N?{...kt,routine_id:je[0].id,is_pending_routine:z.length===0}:kt)),l(qe=>[je[0],...qe])}}catch(be){console.error("  :",be.message)}},F=N=>{y(N.id),T(N.text),S(N.days)},he=()=>{y(null),T(""),S([])},Se=async()=>{if(!(!g||w.trim()===""||E.length===0))try{const{error:N}=await t.from("routines").update({text:w.trim(),days:E}).eq("id",g);if(N)throw N;l(s.map(L=>L.id===g?{...L,text:w.trim(),days:E}:L)),he()}catch(N){console.error("  :",N.message)}},mt=N=>{S(L=>L.includes(N)?L.filter(z=>z!==N):[...L,N])},ye=async N=>{const L=s.find(M=>M.id===N),z=L?L.text:" ";if(window.confirm(`  "${z}"() ?

    ,     .
(   )`))try{const{error:M}=await t.from("routines").update({deleted:!0}).eq("id",N);if(M)throw M;const{error:te}=await t.from("todos").update({routine_id:null}).eq("routine_id",N);te&&console.error("  ID  :",te.message),l(s.filter(ae=>ae.id!==N)),a(ae=>ae.map(le=>le.routine_id===N?{...le,routine_id:null}:le))}catch(M){console.error("  :",M.message)}},He=async N=>{var L;if(!re.current.has(N))try{re.current.add(N);const z=new Date(N),P=OO(z.getDay()),{data:M,error:te}=await t.from("routines").select("*").eq("deleted",!1);if(te)throw te;const ae=M.filter(le=>{const be=le.days||[],je=be.length===0||be.includes(P);if(le.start_date){const xe=new Date(le.start_date),Ge=z>=xe;return je&&Ge}return je});if(ae.length===0)return;for(const le of ae){const be=le.text,{data:je,error:xe}=await t.from("todos").select("*").eq("routine_id",le.id).eq("deleted",!1);if(xe)throw xe;if(je&&je.length>1){console.warn(` ${le.id}    (${je.length}).     .`);for(let qe=1;qe<je.length;qe++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",je[qe].id)}const Ge=je&&je.length>0?je[0]:null;if(Ge){const qe=Ge.visible_dates||[];if(qe.includes(N))continue;const kt=[...qe,N].sort(),{error:Ut}=await t.from("todos").update({visible_dates:kt}).eq("id",Ge.id);Ut&&console.error("    :",Ut.message)}else{const{error:qe}=await t.from("todos").insert([{text:be,completed:!1,date:N,visible_dates:[N],hidden_dates:[],order_index:0,routine_id:le.id,user_id:(L=e==null?void 0:e.user)==null?void 0:L.id}]);qe&&console.error("   :",qe.message)}}}catch(z){console.error("   :",z.message)}finally{setTimeout(()=>{re.current.delete(N)},1e3)}},Te=async()=>{const L=Le(new Date);await He(L)},De=async N=>{try{const{data:L,error:z}=await t.from("todos").select("*").eq("routine_id",N.id).eq("deleted",!1);if(z)throw z;const P=L&&L.length>0?L[0]:null;if(P&&P.visible_dates){const M=P.visible_dates.sort().map(te=>({id:`${P.id}-${te}`,date:te,text:P.text,completed:P.completed,routine_id:P.routine_id}));ne(M)}else ne([]);R(N),D(!0)}catch(L){console.error("   :",L.message),alert("   : "+L.message)}},Ne=()=>{D(!1),R(null),ne([])},I=()=>{v(!0),se()},B=()=>{v(!1),u(""),h([])},H=N=>{h(L=>L.includes(N)?L.filter(z=>z!==N):[...L,N])};return _.useEffect(()=>{e&&se()},[e]),{routines:s,setRoutines:l,routineInput:o,selectedDays:d,selectedTimeSlot:m,isAddingRoutine:p,showRoutineModal:x,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:E,showRoutineHistory:j,selectedRoutineForHistory:O,routineHistoryData:J,routineCreationInProgress:re,setRoutineInput:u,setSelectedTimeSlot:f,fetchRoutines:se,handleAddRoutine:C,handleDeleteRoutine:ye,handleStartEditRoutine:F,handleSaveEditRoutine:Se,handleCancelEditRoutine:he,handleToggleEditDay:mt,handleCreateRoutineFromTodo:$,createRoutineTodosForDate:He,createRoutineTodos:Te,fetchRoutineHistory:De,handleCloseRoutineHistory:Ne,handleOpenRoutine:I,handleCloseRoutine:B,handleToggleDay:H}},NO=(e,t,n,a,r,i,s,l,o)=>{const[u,d]=_.useState(""),[h,m]=_.useState(""),[f,p]=_.useState(""),[b,x]=_.useState(!0),[v,g]=_.useState(!1),[y,w]=_.useState(!1),[T,E]=_.useState(null),[S,j]=_.useState(!1),[D,O]=_.useState(!1),[R,J]=_.useState(""),[ne,re]=_.useState(null),[se,C]=_.useState(!1),[$,F]=_.useState([]),[he,Se]=_.useState(null),[mt,ye]=_.useState(!1),[He,Te]=_.useState(null),De=_.useRef(new Set),Ne=_.useRef(new Set),I=q=>["sun","mon","tue","wed","thu","fri","sat"][q],B=async q=>{var V;if(!De.current.has(q))try{De.current.add(q);const W=new Date(q),fe=I(W.getDay()),{data:oe,error:_e}=await t.from("routines").select("*").eq("deleted",!1);if(_e)throw _e;const tt=oe.filter(Ye=>{const We=Ye.days||[],Oe=We.length===0||We.includes(fe);if(Ye.start_date){const Ht=new Date(Ye.start_date),nt=W>=Ht;return Oe&&nt}return Oe});if(tt.length===0)return;for(const Ye of tt){const We=Ye.text,{data:Oe,error:Ht}=await t.from("todos").select("*").eq("routine_id",Ye.id).eq("deleted",!1);if(Ht)throw Ht;if(Oe&&Oe.length>1){console.warn(` ${Ye.id}    (${Oe.length}).     .`);for(let Ke=1;Ke<Oe.length;Ke++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Oe[Ke].id)}const nt=Oe&&Oe.length>0?Oe[0]:null;if(nt){const Ke=nt.visible_dates||[];if(Ke.includes(q))continue;const gt=[...Ke,q].sort(),{error:Zt}=await t.from("todos").update({visible_dates:gt}).eq("id",nt.id);Zt&&console.error("    :",Zt.message)}else{const{error:Ke}=await t.from("todos").insert([{text:We,completed:!1,date:q,visible_dates:[q],hidden_dates:[],order_index:0,routine_id:Ye.id,user_id:(V=e==null?void 0:e.user)==null?void 0:V.id}]);Ke&&console.error("   :",Ke.message)}}}catch(W){console.error("   :",W.message)}finally{setTimeout(()=>{De.current.delete(q)},1e3)}},H=async()=>{var q;if(!((q=e==null?void 0:e.user)!=null&&q.id)){x(!1);return}try{x(!0);const V=Le(n);await B(V);const{data:W,error:fe}=await t.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(fe)throw fe;const oe=(W||[]).filter(_e=>_e.hidden_dates&&Array.isArray(_e.hidden_dates)&&_e.hidden_dates.includes(V)?!1:_e.visible_dates&&Array.isArray(_e.visible_dates)&&_e.visible_dates.length>0?_e.visible_dates.includes(V):_e.date===V);r(oe)}catch(V){console.error("   :",V.message)}finally{x(!1)}},N=async()=>{try{const{data:q,error:V}=await t.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(V)throw V;F(q||[])}catch(q){console.error("  :",q.message)}},L=async()=>{var q;if(!(u.trim()===""||y))try{w(!0);const V=a.length>0?Math.max(...a.map(_e=>_e.order_index))+1:1,W=Le(n),{data:fe,error:oe}=await t.from("todos").insert([{text:u,completed:!1,order_index:V,date:W,visible_dates:[W],hidden_dates:[],user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}]).select();if(oe)throw oe;r([...a,fe[0]]),d("")}catch(V){console.error("   :",V.message)}finally{w(!1)}},z=async()=>{var q,V;if(!(h.trim()===""||y))try{w(!0);const W=Le(n),{data:fe,error:oe}=await t.from("routines").insert([{text:h,days:[],start_date:W,user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}]).select();if(oe)throw oe;const _e=fe[0],tt=a.filter(Ht=>!Ht.parent_id&&Ht.is_pending_routine),Ye=tt.length>0?Math.max(...tt.map(Ht=>Ht.order_index))+1:1,{data:We,error:Oe}=await t.from("todos").insert([{text:h,completed:!1,order_index:Ye,date:W,visible_dates:[W],hidden_dates:[],routine_id:_e.id,is_pending_routine:!0,user_id:(V=e==null?void 0:e.user)==null?void 0:V.id}]).select();if(Oe)throw Oe;s([_e,...i]),r([...a,We[0]]),m("")}catch(W){console.error("   :",W.message)}finally{w(!1)}},P=async()=>{var q;if(!(f.trim()===""||y))try{w(!0);const V=a.filter(tt=>!tt.parent_id&&tt.routine_id===null),W=V.length>0?Math.max(...V.map(tt=>tt.order_index))+1:1,fe=Le(n),{data:oe,error:_e}=await t.from("todos").insert([{text:f,completed:!1,order_index:W,date:fe,visible_dates:[fe],hidden_dates:[],user_id:(q=e==null?void 0:e.user)==null?void 0:q.id}]).select();if(_e)throw _e;r([...a,oe[0]]),p("")}catch(V){console.error("   :",V.message)}finally{w(!1)}},M=async q=>{const V=a.find(W=>W.id===q);if(V)try{const W=!V.completed,fe=W?new Date().toISOString():null,{error:oe}=await t.from("todos").update({completed:W,completed_at:fe}).eq("id",q);if(oe)throw oe;r(a.map(_e=>_e.id===q?{..._e,completed:W,completed_at:fe}:_e))}catch(W){console.error("   :",W.message)}},te=q=>{r(a.filter(V=>V.id!==q))},ae=async q=>{var oe;const V=a.find(_e=>_e.id===q);if(!V)return;const W=((oe=V.visible_dates)==null?void 0:oe.length)>0?V.visible_dates:[V.date||V.created_date],fe=V.original_todo_id!==null&&V.original_todo_id!==void 0;W.length>1||fe?(Te(V),ye(!0)):await le(q)},le=async q=>{try{const V=a.find(oe=>oe.id===q);if(!V)return;E(V);const W=Le(n),{error:fe}=await t.from("todos").update({deleted:!0,deleted_date:W}).eq("id",q);if(fe)throw fe;r(a.filter(oe=>oe.id!==q)),j(!0),setTimeout(()=>{j(!1),E(null)},5e3)}catch(V){console.error("   :",V.message)}};return{inputValue:u,setInputValue:d,routineInputValue:h,setRoutineInputValue:m,normalInputValue:f,setNormalInputValue:p,loading:b,isDraggingAny:v,isAdding:y,deletedTodo:T,showUndoToast:S,showSuccessToast:D,successToastMessage:R,lastDeleteAction:ne,showTrashModal:se,trashedItems:$,focusedTodoId:he,setFocusedTodoId:Se,selectedTodoForModal:l,showDeleteConfirmModal:mt,setShowDeleteConfirmModal:ye,todoToDelete:He,setTodoToDelete:Te,fetchTodos:H,handleAddTodo:L,handleAddRoutineTodo:z,handleAddNormalTodo:P,handleToggleTodo:M,handleDeleteTodo:ae,executeSimpleDelete:le,hideOnThisDateOnly:async q=>{try{const V=Le(n),fe=[...q.hidden_dates||[],V],{error:oe}=await t.from("todos").update({hidden_dates:fe}).eq("id",q.id);if(oe)throw oe;r(a.filter(_e=>_e.id!==q.id)),ye(!1),Te(null)}catch(V){console.error(" :",V.message)}},deleteCompletely:async q=>{try{const V=Le(n),{error:W}=await t.from("todos").update({deleted:!0,deleted_date:V}).eq("id",q.id);if(W)throw W;r(a.filter(fe=>fe.id!==q.id)),ye(!1),Te(null)}catch(V){console.error(" :",V.message)}},handleUndoDelete:async()=>{if(T)try{const{error:q}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",T.id);if(q)throw q;r(V=>{const W={...T,deleted:!1,deleted_date:null};return[...V,W].sort((oe,_e)=>oe.order_index-_e.order_index)}),j(!1),E(null)}catch(q){console.error("  :",q.message)}},handleRestoreFromTrash:async q=>{if(window.confirm(`  ?

      .`))try{const{error:W}=await t.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",q);if(W)throw W;F($.filter(fe=>fe.id!==q)),alert(" !")}catch(W){console.error(" :",W.message),alert("  : "+W.message)}},handlePermanentDelete:async q=>{if(window.confirm(`     ?

    .`))try{const{error:W}=await t.from("todos").delete().eq("id",q);if(W)throw W;F($.filter(fe=>fe.id!==q)),alert("  .")}catch(W){console.error("  :",W.message),alert("   : "+W.message)}},handleEditTodo:async(q,V)=>{var W,fe;try{let oe=null;Ne.current.add(q);const _e=new Date().toISOString();if(r(We=>(oe=We.find(Oe=>Oe.id===q),!oe||oe.text===V?(Ne.current.delete(q),We):We.map(Oe=>Oe.id===q?{...Oe,text:V,updated_at:_e}:Oe))),!oe||oe.text===V)return;const{error:tt}=await t.from("todo_history").insert([{todo_id:q,previous_text:oe.text,new_text:V,changed_on_date:oe.date,user_id:(W=e==null?void 0:e.user)==null?void 0:W.id}]);if(tt&&console.error("  :",tt.message),oe.original_todo_id){const{data:We,error:Oe}=await t.from("todos").select("text, date").eq("id",oe.original_todo_id).single();!Oe&&We&&await t.from("todo_history").insert([{todo_id:oe.original_todo_id,previous_text:oe.text,new_text:V,changed_on_date:oe.date,user_id:(fe=e==null?void 0:e.user)==null?void 0:fe.id}])}const{error:Ye}=await t.from("todos").update({text:V}).eq("id",q);Ye?(console.error("   :",Ye.message),r(We=>We.map(Oe=>Oe.id===q?oe:Oe)),Ne.current.delete(q)):setTimeout(()=>{Ne.current.delete(q)},5e3)}catch(oe){console.error("   :",oe.message),Ne.current.delete(q)}},handleAddSubTodo:async(q,V)=>{var W;if(!(!V||V.trim()===""))try{const oe=a.filter(We=>We.parent_id===q).length+1,_e=Le(n),{data:tt,error:Ye}=await t.from("todos").insert([{text:V.trim(),completed:!1,order_index:oe,date:_e,parent_id:q,user_id:(W=e==null?void 0:e.user)==null?void 0:W.id}]).select();if(Ye)throw Ye;r([...a,tt[0]])}catch(fe){console.error("    :",fe.message)}},handleDragEnd:async(q,V)=>{g(!1);const{active:W,over:fe}=q;if(!fe||W.id===fe.id)return;const oe=a.findIndex(Ye=>Ye.id===W.id),_e=a.findIndex(Ye=>Ye.id===fe.id),tt=V(a,oe,_e);r(tt);try{const Ye=tt.map((We,Oe)=>({id:We.id,order_index:Oe+1}));for(const We of Ye)await t.from("todos").update({order_index:We.order_index}).eq("id",We.id)}catch(Ye){console.error("  :",Ye.message)}},fetchTrash:N,handleEmptyTrash:async()=>{if(!($.length===0||!window.confirm(`   ?

${$.length}   .
    .`)))try{const V=$.map(fe=>fe.id),{error:W}=await t.from("todos").delete().in("id",V);if(W)throw W;F([]),alert(` ${V.length}   .`)}catch(V){console.error("  :",V.message),alert("   : "+V.message)}},handleRemoveTodoFromUI:te,handleOpenTrash:()=>{C(!0),N()},handleCloseTrash:()=>{C(!1)},handleDragStart:()=>{g(!0)},handleDragCancel:()=>{g(!1)}}},AO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[r,i]=_.useState(!1),[s,l]=_.useState({}),[o,u]=_.useState([]);return{showTodoHistoryModal:r,todoHistory:s,expandedHistoryIds:o,handleOpenTodoHistoryModal:async f=>{a(f);try{const{data:p,error:b}=await t.from("todo_history").select("*").eq("todo_id",f.id).order("changed_at",{ascending:!1});if(b)throw b;l(x=>({...x,[f.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}i(!0)},handleCloseTodoHistoryModal:()=>{i(!1),a(null),u([])},toggleHistoryDetail:f=>{u(p=>p.includes(f)?p.filter(b=>b!==f):[...p,f])}}},CO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,r]=_.useState(!1),[i,s]=_.useState([]),[l,o]=_.useState(!1),[u,d]=_.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:i,setRoutineDaysForModal:s,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:u,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:f=>{t(f);const p=n.find(b=>b.id===f.routine_id);p?(s(p.days||[]),d(p.time_slot||""),o(!1)):(s([]),d(""),o(!0)),r(!0)},handleCloseTodoRoutineSetupModal:()=>{r(!1),t(null),s([]),d(""),o(!1)}}},RO=({session:e,supabase:t,selectedDate:n})=>{const a=_.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async s=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const u=l.filter(d=>(d.hidden_dates||[]).includes(s)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(s)?!1:d.visible_dates.some(f=>f<s):!!(d.date&&d.date<s));if(u.length===0)return;for(const d of u){let h=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?h=[...d.visible_dates,s]:h=d.date?[d.date,s]:[s];const{error:m}=await t.from("todos").update({visible_dates:h}).eq("id",d.id);m&&console.error(` ${d.id}  :`,m.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const s=new Date,l=Le(s),{data:o,error:u}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(u)throw u;if(!o||o.length===0)return;const d=new Date(o[0].date+"T00:00:00");let h=new Date(d);const m=new Date(s);m.setDate(m.getDate()-1);let f=0;for(;h<=m;){const p=Le(h),b=new Date(h);b.setDate(b.getDate()+1);const x=Le(b),{data:v,error:g}=await t.from("todos").select("*").eq("date",p).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(v&&v.length>0){const{data:y,error:w}=await t.from("todos").select("*").eq("date",x).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const T=new Set;y==null||y.forEach(S=>{S.original_todo_id!==null&&T.add(S.original_todo_id)});const E=v.filter(S=>{const j=S.original_todo_id||S.id;return!T.has(j)});if(E.length>0){const S=E.map(se=>se.original_todo_id||se.id).filter((se,C,$)=>$.indexOf(se)===C),{data:j,error:D}=await t.from("todos").select("id, created_at").in("id",S);if(D)throw D;const O={};j==null||j.forEach(se=>{O[se.id]=se.created_at});const J=(y?y.length:0)+1,ne=E.map((se,C)=>{const $=se.original_todo_id||se.id;return{text:se.text,completed:!1,date:x,created_at:O[$]||se.created_at,order_index:J+C,original_todo_id:$,parent_id:null,routine_id:null}}),{error:re}=await t.from("todos").insert(ne);if(re)throw re;f+=E.length}}h.setDate(h.getDate()+1)}f>0}catch(s){console.error("    :",s.message)}finally{a.current=!1}}}};function MO(e,t,n){const[a,r]=_.useState([]),[i,s]=_.useState(!1),[l,o]=_.useState(!1);return{dummySessions:a,showDummyModal:i,setShowDummyModal:s,showDummySQL:l,setShowDummySQL:o,handleCreateDummyData:async()=>{try{const f=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),b=[],x=[],v="2025-11-14";b.push({text:`[${f}] : 14--`,date:v,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${f}] : 14-14`,date:v,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${f}] : 14-15`,date:v,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${f}] : 14-16`,date:v,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const g="2025-11-15";b.push({text:`[${f}] : 15--`,date:g,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${f}] : 15-15`,date:g,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${f}] : 15-16`,date:g,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const y="2025-11-16";b.push({text:`[${f}] : 16-`,date:y,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${f}] : 16-16`,date:y,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),b.push({text:`[${f}] : 14-15-`,date:g,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${f}] : 14-15-15`,date:g,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),b.push({text:`[${f}] : 15-16-`,date:y,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${f}] : 15-16-16`,date:y,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${f}] : 14-16-`,date:y,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${f}] : 14-16-16`,date:y,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const w="2025-11-17";b.push({text:`[${f}] : 16-17-`,date:w,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${f}] : 15-17-`,date:w,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${f}] : 14-17-`,date:w,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const T="2025-11-18";b.push({text:`[${f}] : 16-18-`,date:T,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${f}] : 15-18-`,date:T,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:E,error:S}=await t.from("todos").insert(b).select();if(S)throw S;const j=E.find(O=>O.text.includes("14--"));j&&x.push({todo_id:j.id,previous_text:`[${f}] : 14--1`,new_text:`[${f}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:g},{todo_id:j.id,previous_text:`[${f}] : 14--2`,new_text:`[${f}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:y});const D=E.find(O=>O.text.includes("15--"));if(D&&x.push({todo_id:D.id,previous_text:`[${f}] : 15--1`,new_text:`[${f}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:y}),x.length>0){const{error:O}=await t.from("todo_history").insert(x);O&&console.error("  :",O.message)}r(O=>[...O,{sessionId:f,createdAt:new Date().toISOString(),count:b.length,historyCount:x.length}]),alert(`    !
: ${b.length}
: ${x.length}
 ID: ${f}`),n()}catch(f){console.error("   :",f.message),alert("    : "+f.message)}},handleDeleteDummySession:async f=>{if(window.confirm(`   "${f}"   ?

      ,     .`))try{const{data:b,error:x}=await t.from("todos").select("id").like("text",`[${f}]%`);if(x)throw x;if(b&&b.length>0){const g=b.map(w=>w.id),{error:y}=await t.from("todo_history").delete().in("todo_id",g);y&&console.error("  :",y.message)}const{error:v}=await t.from("todos").delete().like("text",`[${f}]%`);if(v)throw v;r(g=>g.filter(y=>y.sessionId!==f)),alert(`  ${f}  !`),n()}catch(b){console.error("   :",b.message),alert("    : "+b.message)}},handleDeleteAllDummies:async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:b}=await t.from("todos").select("id").like("text","[DUMMY-%");if(b)throw b;if(p&&p.length>0){const v=p.map(y=>y.id),{error:g}=await t.from("todo_history").delete().in("todo_id",v);g&&console.error("  :",g.message)}const{error:x}=await t.from("todos").delete().like("text","[DUMMY-%");if(x)throw x;r([]),alert("     !"),n()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},handleRemoveDuplicates:async()=>{try{const{data:f,error:p}=await t.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!f||f.length===0){alert(" .");return}const b={};f.forEach(S=>{b[S.text]||(b[S.text]=[]),b[S.text].push(S)});const x=Object.entries(b).filter(([S,j])=>j.length>1);if(x.length===0){alert("  .");return}let v=`  :

`,g=[];if(x.forEach(([S,j])=>{v+=`"${S}" - ${j.length}
`;const D=j.slice(1);g.push(...D),D.forEach(J=>{const ne=new Date(J.created_at).toLocaleString("ko-KR");v+=`    : ${ne}
`});const O=j[0],R=new Date(O.created_at).toLocaleString("ko-KR");v+=`   : ${R}

`}),v+=`
 ${g.length}   .`,!window.confirm(v+`

     ,     .

?`))return;const w=g.map(S=>S.id),{error:T}=await t.from("todo_history").delete().in("todo_id",w);T&&console.error("  :",T.message);const{error:E}=await t.from("todos").delete().in("id",w);if(E)throw E;alert(` ${g.length}   .`),n()}catch(f){console.error("   :",f.message),alert("    : "+f.message)}}}}function kO(e,t){const[n,a]=_.useState([]),[r,i]=_.useState(!1),[s,l]=_.useState(""),[o,u]=_.useState(null),[d,h]=_.useState(""),[m,f]=_.useState(!1),[p,b]=_.useState(""),x=()=>{if(n.length===0)return"";const E=Math.floor(Math.random()*n.length);return n[E]},v=()=>{let E=0;f(!0),setTimeout(()=>{let S=x();for(;S===p&&n.length>1&&E<10;)S=x(),E++;f(!1),b(S)},300)},g=async()=>{try{const{data:E,error:S}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(S)throw S;if(E&&E.length>0){const j=E.map(D=>D.message);a(j),p||b(j[0])}}catch(E){console.error("   :",E.message)}},y=async E=>{var S;try{const{data:j}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),D=j&&j.length>0?j[0].order_index:0,{error:O}=await t.from("encouragement_messages").insert([{message:E,order_index:D+1,user_id:(S=e==null?void 0:e.user)==null?void 0:S.id}]);if(O)throw O;await g()}catch(j){console.error("   :",j.message),alert("   .")}},w=async(E,S)=>{try{const{data:j}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!j||E>=j.length)throw new Error("   .");const D=j[E],{error:O}=await t.from("encouragement_messages").update({message:S}).eq("id",D.id);if(O)throw O;await g()}catch(j){console.error("   :",j.message),alert("   .")}},T=async E=>{try{const{data:S}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!S||E>=S.length)throw new Error("   .");const j=S[E],{error:D}=await t.from("encouragement_messages").delete().eq("id",j.id);if(D)throw D;await g()}catch(S){console.error("   :",S.message),alert("   .")}};return _.useEffect(()=>{n.length>0&&!p&&b(x())},[n]),{encouragementMessages:n,showEncouragementModal:r,setShowEncouragementModal:i,newEncouragementMessage:s,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:u,editingEncouragementText:d,setEditingEncouragementText:h,showEncouragementEmoji:m,currentEncouragementMessage:p,handleEncouragementClick:v,fetchEncouragementMessages:g,addEncouragementMessage:y,updateEncouragementMessage:w,deleteEncouragementMessage:T}}function UO(e){const[t,n]=_.useState(!1),[a,r]=_.useState([]),[i,s]=_.useState("1week"),l=async()=>{try{const d=new Date,h=Le(d);let m=null;if(i!=="all")switch(m=new Date(d),i){case"1week":m.setDate(d.getDate()-7);break;case"2weeks":m.setDate(d.getDate()-14);break;case"1month":m.setMonth(d.getMonth()-1);break;case"3months":m.setMonth(d.getMonth()-3);break;case"6months":m.setMonth(d.getMonth()-6);break}let f=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});m&&(f=f.gte("date",Le(m)));const{data:p,error:b}=await f;if(b)throw b;const x={};for(const g of p||[]){const y=g.original_todo_id||g.id;x[y]||(x[y]=[]),x[y].push(g)}const v=Object.entries(x).map(([g,y])=>{const w=y.sort((D,O)=>new Date(D.date)-new Date(O.date)),T=w[0],E=w.map(D=>D.date);let S=null;for(const D of w)if(D.completed&&D.completed_at){const O=new Date(D.completed_at);S=Le(O);break}const j=w.find(D=>D.date===h);return{text:T.text,originalId:parseInt(g),createdAt:T.created_at,startDate:E[0],endDate:E[E.length-1],dates:E,completed:(j==null?void 0:j.completed)||!1,completedDate:S}}).sort((g,y)=>new Date(g.createdAt)-new Date(y.createdAt));r(v)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:i,setGanttPeriod:s,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),r([])},fetchGanttData:l}}function _s({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:r,listeners:i,setNodeRef:s,transform:l,transition:o,isDragging:u}=Gc({id:e,disabled:n}),d=_.useRef(null),[h,m]=_.useState(!1),f=T=>{if(n&&a){if(!T.target.closest(".section-header"))return;m(!0),d.current=setTimeout(()=>{a(),m(!1)},500)}},p=()=>{d.current&&(clearTimeout(d.current),d.current=null,m(!1))},b=()=>{d.current&&(clearTimeout(d.current),d.current=null),m(!1)},x=()=>{d.current&&(clearTimeout(d.current),d.current=null),m(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},y=n?{onPointerDown:f,onPointerMove:p,onPointerUp:b,onPointerCancel:x,onPointerLeave:x}:{...r,...i},w=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:s,style:g,className:w,...y,children:t})}function zO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=rO(),[r,i]=_.useState(new Date),[s,l]=_.useState(!1),[o,u]=_.useState("home"),d=_.useRef(new Set),h=fc(Va(Qi,{activationConstraint:{distance:8}}),Va(sf,{activationConstraint:{delay:200,tolerance:8}}),Va(Yc,{coordinateGetter:Bb})),m=fc(Va(Qi,{activationConstraint:{distance:8}}),Va(sf,{activationConstraint:{delay:200,tolerance:8}})),[f,p]=_.useState([]),[b,x]=_.useState(null),{showTodoHistoryModal:v,todoHistory:g,expandedHistoryIds:y,handleOpenTodoHistoryModal:w,handleCloseTodoHistoryModal:T,toggleHistoryDetail:E}=AO({session:e,supabase:de,selectedTodoForModal:b,setSelectedTodoForModal:x}),{showRoutineModal:S,routines:j,setRoutines:D,routineInput:O,setRoutineInput:R,selectedDays:J,selectedTimeSlot:ne,setSelectedTimeSlot:re,isAddingRoutine:se,editingRoutineId:C,editingRoutineText:$,setEditingRoutineText:F,showRoutineHistory:he,selectedRoutineForHistory:Se,routineHistoryData:mt,editingRoutineDays:ye,fetchRoutines:He,handleAddRoutine:Te,handleCreateRoutineFromTodo:De,handleStartEditRoutine:Ne,handleCancelEditRoutine:I,handleSaveEditRoutine:B,handleToggleEditDay:H,handleDeleteRoutine:N,fetchRoutineHistory:L,handleCloseRoutineHistory:z,handleOpenRoutine:P,handleCloseRoutine:M,handleToggleDay:te,createRoutineTodos:ae}=DO({session:e,supabase:de,selectedDate:r,setTodos:p,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:le,routineDaysForModal:be,setRoutineDaysForModal:je,isEditingRoutineInModal:xe,setIsEditingRoutineInModal:Ge,routineTimeSlotForModal:qe,setRoutineTimeSlotForModal:kt,handleOpenTodoRoutineSetupModal:Ut,handleCloseTodoRoutineSetupModal:Nn}=CO({selectedTodoForModal:b,setSelectedTodoForModal:x,routines:j}),{carryOverIncompleteTodos:Xr}=RO({session:e,supabase:de,selectedDate:r}),{routineInputValue:hn,setRoutineInputValue:An,normalInputValue:Nt,setNormalInputValue:sa,loading:q,isDraggingAny:V,isAdding:W,showUndoToast:fe,showSuccessToast:oe,successToastMessage:_e,lastDeleteAction:tt,showTrashModal:Ye,trashedItems:We,focusedTodoId:Oe,setFocusedTodoId:Ht,showDeleteConfirmModal:nt,setShowDeleteConfirmModal:Ke,todoToDelete:gt,fetchTodos:Zt,handleAddRoutineTodo:Ft,handleAddNormalTodo:qt,handleToggleTodo:Yt,handleDeleteTodo:It,handleRestoreFromTrash:bt,handlePermanentDelete:mn,handleAddSubTodo:Vt,handleEditTodo:Gt,handleDragStart:la,handleDragCancel:oa,handleDragEnd:Cn,handleOpenTrash:Wn,handleCloseTrash:Na,handleEmptyTrash:Kc,handleUndoDelete:Al,hideOnThisDateOnly:Cl,deleteCompletely:Rl,handleRemoveTodoFromUI:Aa}=NO(e,de,r,f,p,j,D,b),Jr=A=>{Ht(A)},Qr=A=>{console.log("Success:",A)},k=()=>{Al()},G=()=>{const A=document.querySelector(".memo-section");A&&A.scrollIntoView({behavior:"smooth",block:"start"})},{showGanttChart:ke,ganttData:$e,ganttPeriod:ve,setGanttPeriod:Be,handleOpenGanttChart:Je,handleCloseGanttChart:at,fetchGanttData:gn}=UO(de),{dummySessions:Pr,showDummyModal:hr,setShowDummyModal:Zr,showDummySQL:mr,setShowDummySQL:Xc,handleCreateDummyData:fs,handleDeleteDummySession:Yb,handleDeleteAllDummies:Ib,handleRemoveDuplicates:Vb}=MO(e,de,Zt),[$O,BO]=_.useState(!1),{memoContent:Gb,setMemoContent:Kb,isSavingMemo:Xb,isEditingMemoInline:Jc,memoTextareaRef:Jb,fetchMemoContent:Qb,handleStartEditMemoInline:Pb,handleSaveMemoInline:Zb,handleCancelEditMemoInline:Fb,handleMemoKeyDown:Wb}=EO(e),{blocks:Oh,setBlocks:Dh,focusedBlockId:e_,setFocusedBlockId:t_,keyThoughtsHistory:n_,showKeyThoughtsHistory:a_,setShowKeyThoughtsHistory:Nh,fetchBlocks:r_,saveAllBlocks:i_,fetchKeyThoughtsHistory:s_,restoreKeyThoughtsVersion:l_}=jO(e),{encouragementMessages:o_,showEncouragementModal:c_,setShowEncouragementModal:Ah,newEncouragementMessage:u_,setNewEncouragementMessage:d_,editingEncouragementId:f_,setEditingEncouragementId:h_,editingEncouragementText:m_,setEditingEncouragementText:g_,showEncouragementEmoji:y_,currentEncouragementMessage:v_,handleEncouragementClick:p_,fetchEncouragementMessages:b_,addEncouragementMessage:__,updateEncouragementMessage:w_,deleteEncouragementMessage:S_}=kO(e,de),[Ca,x_]=_.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Ch,Rh]=_.useState({normal:"  ",routine:"  ",memo:" ","key-thoughts":"  "}),[Ml,kl]=_.useState([]),[E_,Mh]=_.useState(!1),[kh,Uh]=_.useState(!1),T_=xO(e),{sectionOrder:Ul,setSectionOrder:zh,isReorderMode:gr,setIsReorderMode:yr,fetchSectionOrder:j_,saveSectionOrder:$h,handleSectionDragEnd:O_,handleSectionsContainerDoubleClick:D_}=T_,Fr=_.useRef(null),[N_,A_]=_.useState(0),Qc=_.useRef(null),C_=()=>{const A=new Date(r);A.setDate(A.getDate()-1),i(A)},R_=()=>{const A=new Date(r);A.setDate(A.getDate()+1),i(A)},M_=A=>{const Z=new Date(A.target.value+"T00:00:00");i(Z)},k_=async()=>{var A;if((A=e==null?void 0:e.user)!=null&&A.id)try{const{data:Z,error:ee}=await de.from("user_settings").select("setting_value").eq("setting_key","section_titles").maybeSingle();if(ee){console.error("   :",ee.message);return}if(Z&&Z.setting_value){const K=JSON.parse(Z.setting_value);Rh(Y=>({...Y,...K}))}}catch(Z){console.error("   :",Z.message)}},U_=async(A,Z)=>{var K;if(!((K=e==null?void 0:e.user)!=null&&K.id))return;const ee={...Ch,[A]:Z};Rh(ee);try{const{data:Y,error:X}=await de.from("user_settings").select("id").eq("setting_key","section_titles").maybeSingle();if(X){console.error("   :",X.message);return}Y?await de.from("user_settings").update({setting_value:JSON.stringify(ee),updated_at:new Date().toISOString()}).eq("setting_key","section_titles"):await de.from("user_settings").insert([{setting_key:"section_titles",setting_value:JSON.stringify(ee),user_id:e.user.id}])}catch(Y){console.error("   :",Y.message)}},z_=async()=>{var A;if((A=e==null?void 0:e.user)!=null&&A.id)try{const{data:Z,error:ee}=await de.from("user_settings").select("setting_value").eq("setting_key","custom_sections").maybeSingle();if(ee){console.error("    :",ee.message);return}if(Z&&Z.setting_value){const K=JSON.parse(Z.setting_value);kl(K)}}catch(Z){console.error("    :",Z.message)}},Pc=async A=>{var Z;if((Z=e==null?void 0:e.user)!=null&&Z.id)try{const{data:ee,error:K}=await de.from("user_settings").select("id").eq("setting_key","custom_sections").maybeSingle();if(K){console.error("    :",K.message);return}ee?await de.from("user_settings").update({setting_value:JSON.stringify(A),updated_at:new Date().toISOString()}).eq("setting_key","custom_sections"):await de.from("user_settings").insert([{setting_key:"custom_sections",setting_value:JSON.stringify(A),user_id:e.user.id}])}catch(ee){console.error("    :",ee.message)}},$_=({name:A,icon:Z})=>{const ee={id:`custom-${Date.now()}`,name:A,icon:Z},K=[...Ml,ee];kl(K),Pc(K);const Y=[...Ul,ee.id];zh(Y),$h(Y)},B_=async A=>{if(!(!Nt.trim()||kh)){if(!e){alert(" ");return}Uh(!0);try{const Z=f.filter(Q=>!Q.parent_id&&Q.section_id===A),ee=Z.length>0?Math.max(...Z.map(Q=>Q.order_index))+1:1,K=Le(r),Y={text:Nt.trim(),completed:!1,order_index:ee,date:K,visible_dates:[K],hidden_dates:[],user_id:e.user.id,section_id:A},{data:X,error:ce}=await de.from("todos").insert([Y]).select();if(ce)throw ce;X&&X.length>0&&(p(Q=>[...Q,X[0]]),sa(""))}catch(Z){console.error("  :",Z.message)}finally{Uh(!1)}}},L_=async A=>{if(!confirm("  ?      ."))return;try{const{error:K}=await de.from("todos").delete().eq("section_id",A);if(K){console.error("   :",K.message);return}}catch(K){console.error("   :",K.message);return}const Z=Ml.filter(K=>K.id!==A);kl(Z),Pc(Z);const ee=Ul.filter(K=>K!==A);zh(ee),$h(ee),p(K=>K.filter(Y=>Y.section_id!==A))},H_=async(A,Z)=>{try{const ee=Le(A),K=Le(Z),{data:Y,error:X}=await de.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(X)throw X;const ce=(Y||[]).filter(Q=>Q.hidden_dates&&Array.isArray(Q.hidden_dates)&&Q.hidden_dates.includes(ee)?!1:Q.visible_dates&&Array.isArray(Q.visible_dates)&&Q.visible_dates.length>0?Q.visible_dates.includes(ee):Q.date===ee);if(ce.length===0)return;for(const Q of ce){let Ee=Q.visible_dates||[Q.date];if(Ee.includes(K))continue;const Ae=[...Ee,K].sort(),{error:Xe}=await de.from("todos").update({visible_dates:Ae}).eq("id",Q.id);Xe&&console.error(` ${Q.id}  :`,Xe.message)}}catch(ee){console.error("   :",ee.message)}};_.useEffect(()=>{let A=null;const Z=()=>{document.body.classList.add("is-scrolling"),A&&clearTimeout(A),A=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z),A&&clearTimeout(A)}},[]),_.useEffect(()=>{e&&(b_(),Qb(),r_(),He(),j_(),k_(),z_())},[e]),_.useEffect(()=>{if(!Fr.current)return;const A=Fr.current,Z=Ca==="horizontal";let ee=!1,K=0,Y=0,X=0;const ce=rt=>rt.type.includes("touch")?Z?rt.touches[0].pageX:rt.touches[0].pageY:Z?rt.pageX:rt.pageY,Q=rt=>{rt.target.closest(".section-block")||(ee=!0,K=ce(rt),Y=Z?A.scrollLeft:A.scrollTop,A.style.transition="none",A.style.transform=Z?"translateX(0)":"translateY(0)",X=0)},Ee=()=>{ee&&X!==0&&(A.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=Z?"translateX(0)":"translateY(0)",setTimeout(()=>{A.style.transition="none",X=0},300)),ee=!1},Ae=()=>{X!==0&&(A.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=Z?"translateX(0)":"translateY(0)",setTimeout(()=>{A.style.transition="none",X=0},300)),ee=!1},Xe=rt=>{if(!ee)return;rt.preventDefault();const xt=(ce(rt)-K)*1.5,yt=Y-xt,Ra=Z?A.scrollWidth-A.clientWidth:A.scrollHeight-A.clientHeight;if(yt<0){const Wr=-yt;X=Math.min(Wr*.3,100),Z?(A.scrollLeft=0,A.style.transform=`translateX(${X}px)`):(A.scrollTop=0,A.style.transform=`translateY(${X}px)`)}else if(yt>Ra){const Wr=yt-Ra;X=-Math.min(Wr*.3,100),Z?(A.scrollLeft=Ra,A.style.transform=`translateX(${X}px)`):(A.scrollTop=Ra,A.style.transform=`translateY(${X}px)`)}else X=0,A.style.transform=Z?"translateX(0)":"translateY(0)",Z?A.scrollLeft=yt:A.scrollTop=yt},yn=rt=>{Z&&rt.target.closest(".section-block")&&rt.deltaX!==0&&rt.preventDefault()};return A.addEventListener("mousedown",Q),document.addEventListener("mouseup",Ae),document.addEventListener("mouseleave",Ee),A.addEventListener("mousemove",Xe),A.addEventListener("touchstart",Q,{passive:!0}),A.addEventListener("touchmove",Xe,{passive:!1}),A.addEventListener("touchend",Ae),A.addEventListener("touchcancel",Ae),A.addEventListener("wheel",yn,{passive:!1}),()=>{A.removeEventListener("mousedown",Q),document.removeEventListener("mouseup",Ae),document.removeEventListener("mouseleave",Ee),A.removeEventListener("mousemove",Xe),A.removeEventListener("touchstart",Q),A.removeEventListener("touchmove",Xe),A.removeEventListener("touchend",Ae),A.removeEventListener("touchcancel",Ae),A.removeEventListener("wheel",yn)}},[Ca,f,j]),_.useEffect(()=>{if(Ca!=="horizontal"||!Fr.current)return;const A=Fr.current,Z=()=>{const ee=A.querySelectorAll(".section-block");if(ee.length===0)return;const K=A.getBoundingClientRect(),Y=K.left+K.width/2;let X=0,ce=1/0;ee.forEach((Q,Ee)=>{const Ae=Q.getBoundingClientRect(),Xe=Ae.left+Ae.width/2,yn=Math.abs(Xe-Y);yn<ce&&(ce=yn,X=Ee)}),A_(X)};return A.addEventListener("scroll",Z),Z(),()=>A.removeEventListener("scroll",Z)},[Ca,f,j]),_.useEffect(()=>{if(!Qc.current)return;const A=Qc.current;let Z=!1,ee=0,K=0,Y=0;const X=Ae=>{Ae.target.closest(".section-block")||(Z=!0,ee=Ae.pageY,K=A.scrollTop,A.style.transition="none",A.style.transform="translateY(0)",Y=0)},ce=()=>{Z&&Y!==0&&(A.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform="translateY(0)",setTimeout(()=>{A.style.transition="none",Y=0},300)),Z=!1},Q=()=>{Y!==0&&(A.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform="translateY(0)",setTimeout(()=>{A.style.transition="none",Y=0},300)),Z=!1},Ee=Ae=>{if(!Z)return;Ae.preventDefault();const yn=(Ae.pageY-ee)*1.5,rt=K-yn,St=A.scrollHeight-A.clientHeight;if(rt<0){const xt=-rt;Y=Math.min(xt*.3,100),A.scrollTop=0,A.style.transform=`translateY(${Y}px)`}else if(rt>St){const xt=rt-St;Y=-Math.min(xt*.3,100),A.scrollTop=St,A.style.transform=`translateY(${Y}px)`}else Y=0,A.style.transform="translateY(0)",A.scrollTop=rt};return A.addEventListener("mousedown",X),document.addEventListener("mouseup",Q),document.addEventListener("mouseleave",ce),A.addEventListener("mousemove",Ee),()=>{A.removeEventListener("mousedown",X),document.removeEventListener("mouseup",Q),document.removeEventListener("mouseleave",ce),A.removeEventListener("mousemove",Ee)}},[f,j]),_.useEffect(()=>{ke&&gn()},[ve]),_.useEffect(()=>{const A=async()=>{const ee=new Date,K=new Date(ee);K.setHours(24,0,0,0);const Y=K.getTime()-ee.getTime();return setTimeout(async()=>{const ce=new Date(ee),Q=new Date(ee);Q.setDate(Q.getDate()+1),await H_(ce,Q),await ae(),i(new Date),A()},Y)},Z=A();return()=>clearTimeout(Z)},[]),_.useEffect(()=>{(async()=>{var Q;const K=Le(r),X=Le(new Date);K===X&&((Q=e==null?void 0:e.user)!=null&&Q.id)&&await Xr(K),await Zt()})();const Z=Le(r),ee=de.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${Z}`},K=>{K.eventType==="INSERT"?p(Y=>Y.some(ce=>ce.id===K.new.id)?Y:[...Y,K.new].sort((ce,Q)=>ce.order_index-Q.order_index)):K.eventType==="UPDATE"?p(Y=>d.current.has(K.new.id)?Y:Y.map(X=>X.id===K.new.id?K.new:X).sort((X,ce)=>X.order_index-ce.order_index)):K.eventType==="DELETE"&&p(Y=>Y.filter(X=>X.id!==K.old.id))}).subscribe(K=>{});return()=>{de.removeChannel(ee)}},[r,e]),_.useEffect(()=>{if(V){const A=window.scrollY,Z=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${A}px`,document.body.style.left="0",document.body.style.right="0",Z>0&&(document.body.style.paddingRight=`${Z}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,A)}}},[V]);const Bh=SO({authLoading:t,session:e,handleGoogleLogin:n});return Bh||(o==="keyThoughtsViewer"?c.jsx(gO,{blocks:Oh,setBlocks:Dh,onSave:i_,onClose:()=>u("home")}):c.jsxs("div",{className:`app ${V?"dragging-active":""}`,children:[c.jsx(iO,{showSidebar:s,setShowSidebar:l,session:e,viewMode:Ca,setViewMode:x_,isReorderMode:gr,setIsReorderMode:yr,onOpenTrash:Wn,onOpenRoutine:P,onOpenMemo:G,onScrollToKeyThoughts:()=>{const A=document.querySelector(".key-thoughts-section");A&&A.scrollIntoView({behavior:"smooth",block:"start"})},onOpenGanttChart:Je,onOpenEncouragementModal:()=>Ah(!0),onOpenDummyModal:()=>Zr(!0),onOpenAddSection:()=>Mh(!0),onLogout:a}),c.jsxs("div",{className:`container ${Ca==="horizontal"?"container-wide":""}`,children:[c.jsx(lO,{showSidebar:s,setShowSidebar:l,selectedDate:r,onDateChange:M_,onPrevDay:C_,onNextDay:R_,showEncouragementEmoji:y_,currentEncouragementMessage:v_,onEncouragementClick:p_,isReorderMode:gr,setIsReorderMode:yr,setSelectedDate:i}),c.jsxs("div",{className:"content-scrollable",ref:Qc,children:[c.jsx(gc,{sensors:h,collisionDetection:hc,onDragStart:la,onDragEnd:Cn,onDragCancel:oa,children:c.jsx("div",{className:"todo-list",children:q?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const A=f.filter(K=>!K.parent_id&&K.routine_id!==null&&!K.is_pending_routine),Z=f.filter(K=>!K.parent_id&&K.is_pending_routine),ee=f.filter(K=>!K.parent_id&&K.routine_id===null&&!K.is_pending_routine);return c.jsx(gc,{sensors:m,collisionDetection:hc,onDragEnd:O_,children:c.jsx(Dr,{items:Ul,strategy:Ij,children:c.jsx("div",{ref:Fr,className:`sections-container ${Ca==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:D_,children:Ul.map(K=>{if(K==="memo")return c.jsx(_s,{id:"memo",disabled:!gr,onLongPress:()=>yr(!0),children:c.jsxs(fO,{title:"  ",className:"memo-section section-block",content:Gb,setContent:Kb,isEditing:Jc,isSaving:Xb,textareaRef:Jb,onStartEdit:Pb,onSave:Zb,onCancel:Fb,onKeyDown:Wb,placeholder:" ...",emptyMessage:" ",children:[!Jc&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>Xc(!mr),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.currentTarget.style.background="rgba(255, 255, 255, 0.1)",Y.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:Y=>{Y.currentTarget.style.background="rgba(255, 255, 255, 0.05)",Y.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:mr?"":""})]})}),mr&&!Jc&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const Y=new Date,X=zl=>{const vr=new Date(Y);return vr.setDate(vr.getDate()+zl),vr.toISOString().split("T")[0]},ce=zl=>{const vr=new Date(Y);return vr.setDate(vr.getDate()+zl),vr.getDate()},Q=Date.now(),Ee=ce(-2),Ae=ce(-1),Xe=ce(0),yn=ce(1),rt=ce(2),St=X(-2),xt=X(-1),yt=X(0),Ra=X(1),Wr=X(2),q_=`--         (${yt} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Ee}--', '${St}', false, '${St}T09:00:00+09:00', 1001),
  ('[DUMMY-${Q}] : ${Ee}-${Ee}', '${St}', true, '${St}T09:10:00+09:00', 1002),
  ('[DUMMY-${Q}] : ${Ee}-${Ae}', '${St}', true, '${St}T09:20:00+09:00', 1003),
  ('[DUMMY-${Q}] : ${Ee}-${Xe}', '${St}', true, '${St}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Ae}--', '${xt}', false, '${xt}T10:00:00+09:00', 1005),
  ('[DUMMY-${Q}] : ${Ae}-${Ae}', '${xt}', true, '${xt}T10:10:00+09:00', 1006),
  ('[DUMMY-${Q}] : ${Ae}-${Xe}', '${xt}', true, '${xt}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Xe}-', '${yt}', false, '${yt}T11:00:00+09:00', 1008),
  ('[DUMMY-${Q}] : ${Xe}-${Xe}', '${yt}', true, '${yt}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Ee}-${Ae}-', '${xt}', false, '${St}T14:00:00+09:00', 1010),
  ('[DUMMY-${Q}] : ${Ee}-${Ae}-${Ae}', '${xt}', true, '${St}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Ae}-${Xe}-', '${yt}', false, '${xt}T15:00:00+09:00', 1012),
  ('[DUMMY-${Q}] : ${Ae}-${Xe}-${Xe}', '${yt}', true, '${xt}T15:10:00+09:00', 1013),
  ('[DUMMY-${Q}] : ${Ee}-${Xe}-', '${yt}', false, '${St}T15:00:00+09:00', 1014),
  ('[DUMMY-${Q}] : ${Ee}-${Xe}-${Xe}', '${yt}', true, '${St}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Xe}-${yn}-', '${Ra}', false, '${yt}T16:00:00+09:00', 1016),
  ('[DUMMY-${Q}] : ${Ae}-${yn}-', '${Ra}', false, '${xt}T16:00:00+09:00', 1017),
  ('[DUMMY-${Q}] : ${Ee}-${yn}-', '${Ra}', false, '${St}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${Q}] : ${Xe}-${rt}-', '${Wr}', false, '${yt}T17:00:00+09:00', 1019),
  ('[DUMMY-${Q}] : ${Ae}-${rt}-', '${Wr}', false, '${xt}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Q}] : ${Ee}--1', '[DUMMY-${Q}] : ${Ee}--2', '${xt}T12:00:00+09:00', '${xt}'
FROM todos WHERE text = '[DUMMY-${Q}] : ${Ee}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Q}] : ${Ee}--2', '[DUMMY-${Q}] : ${Ee}--', '${yt}T12:00:00+09:00', '${yt}'
FROM todos WHERE text = '[DUMMY-${Q}] : ${Ee}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${Q}] : ${Ae}--1', '[DUMMY-${Q}] : ${Ae}--', '${yt}T13:00:00+09:00', '${yt}'
FROM todos WHERE text = '[DUMMY-${Q}] : ${Ae}--' LIMIT 1;`,ei=document.createElement("textarea");ei.value=q_,ei.style.position="fixed",ei.style.opacity="0",document.body.appendChild(ei),ei.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ei)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const Y=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,X=document.createElement("textarea");X.value=Y,X.style.position="fixed",X.style.opacity="0",document.body.appendChild(X),X.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(X)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo");if(K==="routine")return c.jsx(_s,{id:"routine",disabled:!gr,onLongPress:()=>yr(!0),children:c.jsxs(Xu,{title:" ",className:"routine-section section-block",inputValue:hn,setInputValue:An,onAddTodo:Ft,isAdding:W,placeholder:"   ...",children:[A.length>0&&c.jsx(Dr,{items:A.map(Y=>Y.id),strategy:ji,children:A.map((Y,X)=>{const ce=f.filter(Q=>Q.parent_id===Y.id);return c.jsx(Os,{todo:Y,index:X,onToggle:Yt,onDelete:It,onEdit:Gt,formatDate:Ua,formatDateOnly:Kn,isFocused:Oe===Y.id,onFocus:Jr,onAddSubTodo:Vt,subtodos:ce,level:0,onCreateRoutine:De,routines:j,onShowRoutineHistory:L,onOpenRoutineSetupModal:Ut,onOpenHistoryModal:w,currentPageDate:Le(r),onRemoveFromUI:Aa,showSuccessMessage:Qr},Y.id)})}),A.length>0&&Z.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),Z.length>0&&c.jsx(Dr,{items:Z.map(Y=>Y.id),strategy:ji,children:Z.map((Y,X)=>{const ce=f.filter(Q=>Q.parent_id===Y.id);return c.jsx(Os,{todo:Y,index:X,onToggle:Yt,onDelete:It,onEdit:Gt,formatDate:Ua,formatDateOnly:Kn,isFocused:Oe===Y.id,onFocus:Jr,onAddSubTodo:Vt,subtodos:ce,level:0,onCreateRoutine:De,routines:j,onShowRoutineHistory:L,onOpenRoutineSetupModal:Ut,onOpenHistoryModal:w,currentPageDate:Le(r),isPendingRoutine:!0,onRemoveFromUI:Aa,showSuccessMessage:Qr},Y.id)})})]})},"routine");if(K==="normal")return c.jsx(_s,{id:"normal",disabled:!gr,onLongPress:()=>yr(!0),children:c.jsx(Xu,{title:Ch.normal,className:"normal-section section-block",inputValue:Nt,setInputValue:sa,onAddTodo:qt,isAdding:W,placeholder:"   ...",editable:!0,onTitleChange:Y=>U_("normal",Y),children:ee.length>0&&c.jsx(Dr,{items:ee.map(Y=>Y.id),strategy:ji,children:ee.map((Y,X,ce)=>{const Q=f.filter(St=>St.parent_id===Y.id),Ee=Le(r),Ae=Y.created_at?Y.created_at.split("T")[0]:Y.date,Xe=ce[X+1],yn=Xe?Xe.created_at?Xe.created_at.split("T")[0]:Xe.date:null,rt=Ae<Ee&&yn>=Ee;return c.jsxs(st.Fragment,{children:[c.jsx(Os,{todo:Y,index:X,onToggle:Yt,onDelete:It,onEdit:Gt,formatDate:Ua,formatDateOnly:Kn,isFocused:Oe===Y.id,onFocus:Jr,onAddSubTodo:Vt,subtodos:Q,level:0,onCreateRoutine:De,routines:j,onShowRoutineHistory:L,onOpenRoutineSetupModal:Ut,onOpenHistoryModal:w,currentPageDate:Ee,onRemoveFromUI:Aa,showSuccessMessage:Qr}),rt&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},Y.id)})})})},"normal");if(K==="key-thoughts")return c.jsx(_s,{id:"key-thoughts",disabled:!gr,onLongPress:()=>yr(!0),children:c.jsx(hO,{blocks:Oh,setBlocks:Dh,focusedBlockId:e_,setFocusedBlockId:t_,onOpenViewer:()=>u("keyThoughtsViewer"),onShowHistory:()=>{s_(),Nh(!0)}})},"key-thoughts");{const Y=Ml.find(ce=>ce.id===K);if(!Y)return null;const X=f.filter(ce=>!ce.parent_id&&ce.section_id===K);return c.jsx(_s,{id:K,disabled:!gr,onLongPress:()=>yr(!0),children:c.jsx(Xu,{title:`${Y.icon} ${Y.name}`,className:"custom-section section-block",inputValue:Nt,setInputValue:sa,onAddTodo:()=>B_(K),isAdding:kh,placeholder:`${Y.name}   ...`,editable:!0,onTitleChange:ce=>{const Q=Ml.map(Ee=>Ee.id===K?{...Ee,name:ce}:Ee);kl(Q),Pc(Q)},headerActions:c.jsx("button",{className:"delete-section-button",onClick:()=>L_(K),title:" ",children:" "}),children:X.length>0&&c.jsx(Dr,{items:X.map(ce=>ce.id),strategy:ji,children:X.map((ce,Q)=>{const Ee=f.filter(Ae=>Ae.parent_id===ce.id);return c.jsx(Os,{todo:ce,index:Q,onToggle:Yt,onDelete:It,onEdit:Gt,formatDate:Ua,formatDateOnly:Kn,isFocused:Oe===ce.id,onFocus:Jr,onAddSubTodo:Vt,subtodos:Ee,level:0,onCreateRoutine:De,routines:j,onShowRoutineHistory:L,onOpenRoutineSetupModal:Ut,onOpenHistoryModal:w,currentPageDate:Le(r),onRemoveFromUI:Aa,showSuccessMessage:Qr},ce.id)})})})},K)}})})})})})()})}),c.jsx(oO,{viewMode:Ca,currentSectionIndex:N_,sectionsContainerRef:Fr})]}),fe&&c.jsx(ty,{message:"",onUndo:Al}),oe&&c.jsx(ty,{message:_e,onUndo:tt?k:null,variant:"success"}),nt&&gt&&c.jsx("div",{className:"modal-overlay",onClick:()=>Ke(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>Ke(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:gt.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Cl(gt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>Rl(gt),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),v&&b&&(()=>{const A=b,Z=A.visible_dates&&A.visible_dates.length>0?A.visible_dates:[A.date],ee=Z[0],K=Z.map(X=>({id:`${A.id}-${X}`,date:X})),Y=g[A.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:T,children:c.jsxs("div",{className:"modal-content",onClick:X=>X.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:T,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:Ua(A.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Kn(ee?new Date(ee+"T00:00:00"):new Date(A.date+"T00:00:00"))})]}),K.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:K.map((X,ce)=>{const Q=X.date===A.date,Ee=Kn(new Date(X.date+"T00:00:00"));return c.jsxs("span",{children:[ce>0&&"  ",c.jsxs("span",{style:Q?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ee.split("(")[0],Q?"()":""]})]},X.id)})})]}),(()=>{const X=new Date(A.created_at).toISOString().split("T")[0],ce=A.date;return X!==ce&&K.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Kn(new Date(A.date+"T00:00:00"))})]}):null})(),Y.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",Y.length,")"]}),Y.map(X=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[Ua(X.changed_at),X.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Kn(new Date(X.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:ce=>{ce.stopPropagation(),E(X.id)},children:y.includes(X.id)?"":""})]}),y.includes(X.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:X.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:X.new_text})]})]})]},X.id))]})]})})]})})})(),le&&b&&(()=>{const A=b,Z=j.find(ee=>ee.id===A.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:Nn,children:c.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:Nn,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:Z&&!xe?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Ur.filter(ee=>Z.days.includes(ee.key)).map(ee=>c.jsx("span",{className:"routine-day-badge",children:ee.label},ee.key))}),Z.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",Z.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:ee=>{ee.stopPropagation(),Z&&(je(Z.days),kt(Z.time_slot||""),Ge(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async ee=>{ee.stopPropagation(),Z&&A&&(await De(A.id,A.text,[],null,!0),Nn())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:xe?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Ur.map(ee=>c.jsx("button",{onClick:K=>{K.stopPropagation(),handleToggleRoutineDayInModal(ee.key)},className:`day-button-inline ${be.includes(ee.key)?"selected":""}`,children:ee.label},ee.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(jh,{value:qe,onChange:ee=>kt(ee)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async ee=>{ee.stopPropagation(),A&&(xe&&Z?await De(A.id,A.text,be,Z.id,!1,qe):await De(A.id,A.text,be,null,!1,qe),Nn())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:ee=>{ee.stopPropagation(),Nn()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),c.jsx(cO,{showRoutineModal:S,onClose:M,routineInput:O,setRoutineInput:R,isAddingRoutine:se,selectedDays:J,onToggleDay:te,selectedTimeSlot:ne,setSelectedTimeSlot:re,onAddRoutine:Te,routines:j,editingRoutineId:C,editingRoutineText:$,setEditingRoutineText:F,editingRoutineDays:ye,onToggleEditDay:H,onStartEdit:Ne,onSaveEdit:B,onCancelEdit:I,onDelete:N,onShowHistory:L}),c.jsx(dO,{showRoutineHistory:he,onClose:z,selectedRoutine:Se,routineHistoryData:mt}),c.jsx(yO,{showTrashModal:Ye,onClose:Na,trashedItems:We,onEmptyTrash:Kc,onRestoreFromTrash:bt,onPermanentDelete:mn,formatDate:Ua}),c.jsx(vO,{showDummyModal:hr,onClose:()=>Zr(!1),onCreateDummyData:fs,onRemoveDuplicates:Vb,dummySessions:Pr,onDeleteDummySession:Yb,onDeleteAllDummies:Ib,formatDate:Ua}),c.jsx(pO,{showGanttChart:ke,onClose:at,ganttData:$e,ganttPeriod:ve,setGanttPeriod:Be,formatDateOnly:Kn}),c.jsx(bO,{showEncouragementModal:c_,onClose:()=>Ah(!1),encouragementMessages:o_,newEncouragementMessage:u_,setNewEncouragementMessage:d_,onAddEncouragementMessage:__,editingEncouragementId:f_,editingEncouragementText:m_,setEditingEncouragementId:h_,setEditingEncouragementText:g_,onUpdateEncouragementMessage:w_,onDeleteEncouragementMessage:S_}),c.jsx(wO,{isOpen:E_,onClose:()=>Mh(!1),onAddSection:$_}),c.jsx(_O,{showKeyThoughtsHistory:a_,onClose:()=>Nh(!1),keyThoughtsHistory:n_,onRestoreVersion:l_})]})]}))}Lx.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(zO,{})}));
