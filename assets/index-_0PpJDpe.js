function Dw(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $y(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Ly={exports:{}},Ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=Symbol.for("react.transitional.element"),Mw=Symbol.for("react.fragment");function By(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:Rw,type:e,key:a,ref:t!==void 0?t:null,props:n}}Ac.Fragment=Mw;Ac.jsx=By;Ac.jsxs=By;Ly.exports=Ac;var o=Ly.exports,Hy={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=Symbol.for("react.transitional.element"),kw=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Lw=Symbol.for("react.consumer"),Bw=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),qy=Symbol.for("react.lazy"),Vw=Symbol.for("react.activity"),pm=Symbol.iterator;function Iw(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var Yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vy=Object.assign,Iy={};function Zi(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Yy}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gy(){}Gy.prototype=Zi.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Yy}var $f=zf.prototype=new Gy;$f.constructor=zf;Vy($f,Zi.prototype);$f.isPureReactComponent=!0;var bm=Array.isArray;function yd(){}var Ie={H:null,A:null,T:null,S:null},Ky=Object.prototype.hasOwnProperty;function Lf(e,t,n){var a=n.ref;return{$$typeof:Uf,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Gw(e,t){return Lf(e.type,t,e.props)}function Bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uf}function Kw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _m=/\/+/g;function bu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kw(""+e.key):t.toString(36)}function Xw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(yd,yd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ci(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Uf:case kw:r=!0;break;case qy:return r=e._init,ci(r(e._payload),t,n,a,s)}}if(r)return s=s(e),r=a===""?"."+bu(e,0):a,bm(s)?(n="",r!=null&&(n=r.replace(_m,"$&/")+"/"),ci(s,t,n,"",function(u){return u})):s!=null&&(Bf(s)&&(s=Gw(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(_m,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=a===""?".":a+":";if(bm(e))for(var c=0;c<e.length;c++)a=e[c],i=l+bu(a,c),r+=ci(a,t,n,i,s);else if(c=Iw(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,i=l+bu(a,c++),r+=ci(a,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return ci(Xw(e),t,n,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Ql(e,t,n){if(e==null)return e;var a=[],s=0;return ci(e,a,"","",function(i){return t.call(n,i,s++)}),a}function Qw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jw={map:Ql,forEach:function(e,t,n){Ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ql(e,function(){t++}),t},toArray:function(e){return Ql(e,function(t){return t})||[]},only:function(e){if(!Bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Activity=Vw;ne.Children=Jw;ne.Component=Zi;ne.Fragment=Uw;ne.Profiler=$w;ne.PureComponent=zf;ne.StrictMode=zw;ne.Suspense=qw;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ie.H.useMemoCache(e)}};ne.cache=function(e){return function(){return e.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Vy({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!Ky.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];a.children=r}return Lf(e.type,s,a)};ne.createContext=function(e){return e={$$typeof:Bw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Lw,_context:e},e};ne.createElement=function(e,t,n){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)Ky.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),c=0;c<r;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return Lf(e,i,s)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Hw,render:e}};ne.isValidElement=Bf;ne.lazy=function(e){return{$$typeof:qy,_payload:{_status:-1,_result:e},_init:Qw}};ne.memo=function(e,t){return{$$typeof:Yw,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ie.T,n={};Ie.T=n;try{var a=e(),s=Ie.S;s!==null&&s(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(yd,wm)}catch(i){wm(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ie.T=t}};ne.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()};ne.use=function(e){return Ie.H.use(e)};ne.useActionState=function(e,t,n){return Ie.H.useActionState(e,t,n)};ne.useCallback=function(e,t){return Ie.H.useCallback(e,t)};ne.useContext=function(e){return Ie.H.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e,t){return Ie.H.useDeferredValue(e,t)};ne.useEffect=function(e,t){return Ie.H.useEffect(e,t)};ne.useEffectEvent=function(e){return Ie.H.useEffectEvent(e)};ne.useId=function(){return Ie.H.useId()};ne.useImperativeHandle=function(e,t,n){return Ie.H.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ie.H.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ie.H.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ie.H.useMemo(e,t)};ne.useOptimistic=function(e,t){return Ie.H.useOptimistic(e,t)};ne.useReducer=function(e,t,n){return Ie.H.useReducer(e,t,n)};ne.useRef=function(e){return Ie.H.useRef(e)};ne.useState=function(e){return Ie.H.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ie.H.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ie.H.useTransition()};ne.version="19.2.0";Hy.exports=ne;var w=Hy.exports;const Le=Cw(w);var Xy={exports:{}},Dc={},Qy={exports:{}},Jy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,I){var K=H.length;H.push(I);e:for(;0<K;){var le=K-1>>>1,_e=H[le];if(0<s(_e,I))H[le]=I,H[K]=_e,K=le;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var I=H[0],K=H.pop();if(K!==I){H[0]=K;e:for(var le=0,_e=H.length,He=_e>>>1;le<He;){var Se=2*(le+1)-1,Oe=H[Se],ie=Se+1,xe=H[ie];if(0>s(Oe,K))ie<_e&&0>s(xe,Oe)?(H[le]=xe,H[ie]=K,le=ie):(H[le]=Oe,H[Se]=K,le=Se);else if(ie<_e&&0>s(xe,K))H[le]=xe,H[ie]=K,le=ie;else break e}}return I}function s(H,I){var K=H.sortIndex-I.sortIndex;return K!==0?K:H.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var c=[],u=[],f=1,h=null,m=3,y=!1,E=!1,x=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function S(H){for(var I=n(u);I!==null;){if(I.callback===null)a(u);else if(I.startTime<=H)a(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function T(H){if(x=!1,S(H),!E)if(n(c)!==null)E=!0,A||(A=!0,se());else{var I=n(u);I!==null&&ze(T,I.startTime-H)}}var A=!1,j=-1,M=5,k=-1;function Y(){return O?!0:!(e.unstable_now()-k<M)}function X(){if(O=!1,A){var H=e.unstable_now();k=H;var I=!0;try{e:{E=!1,x&&(x=!1,g(j),j=-1),y=!0;var K=m;try{t:{for(S(H),h=n(c);h!==null&&!(h.expirationTime>H&&Y());){var le=h.callback;if(typeof le=="function"){h.callback=null,m=h.priorityLevel;var _e=le(h.expirationTime<=H);if(H=e.unstable_now(),typeof _e=="function"){h.callback=_e,S(H),I=!0;break t}h===n(c)&&a(c),S(H)}else a(c);h=n(c)}if(h!==null)I=!0;else{var He=n(u);He!==null&&ze(T,He.startTime-H),I=!1}}break e}finally{h=null,m=K,y=!1}I=void 0}}finally{I?se():A=!1}}}var se;if(typeof p=="function")se=function(){p(X)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ce=me.port2;me.port1.onmessage=X,se=function(){ce.postMessage(null)}}else se=function(){b(X,0)};function ze(H,I){j=b(function(){H(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var K=m;m=I;try{return H()}finally{m=K}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=m;m=H;try{return I()}finally{m=K}},e.unstable_scheduleCallback=function(H,I,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,H){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,H={id:f++,callback:I,priorityLevel:H,startTime:K,expirationTime:_e,sortIndex:-1},K>le?(H.sortIndex=K,t(u,H),n(c)===null&&H===n(u)&&(x?(g(j),j=-1):x=!0,ze(T,K-le))):(H.sortIndex=_e,t(c,H),E||y||(E=!0,A||(A=!0,se()))),H},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(H){var I=m;return function(){var K=m;m=I;try{return H.apply(this,arguments)}finally{m=K}}}})(Jy);Qy.exports=Jy;var Zw=Qy.exports,Zy={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=w;function Py(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ua(){}var Bt={d:{f:Ua,r:function(){throw Error(Py(522))},D:Ua,C:Ua,L:Ua,m:Ua,X:Ua,S:Ua,M:Ua},p:0,findDOMNode:null},Ww=Symbol.for("react.portal");function Fw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ww,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Mr=Pw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Py(299));return Fw(e,t,null,n)};Ht.flushSync=function(e){var t=Mr.T,n=Bt.p;try{if(Mr.T=null,Bt.p=2,e)return e()}finally{Mr.T=t,Bt.p=n,Bt.d.f()}};Ht.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bt.d.C(e,t))};Ht.prefetchDNS=function(e){typeof e=="string"&&Bt.d.D(e)};Ht.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Cc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):n==="script"&&Bt.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ht.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Cc(t.as,t.crossOrigin);Bt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bt.d.M(e)};Ht.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Cc(n,t.crossOrigin);Bt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ht.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Cc(t.as,t.crossOrigin);Bt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bt.d.m(e)};Ht.requestFormReset=function(e){Bt.d.r(e)};Ht.unstable_batchedUpdates=function(e,t){return e(t)};Ht.useFormState=function(e,t,n){return Mr.H.useFormState(e,t,n)};Ht.useFormStatus=function(){return Mr.H.useHostTransitionStatus()};Ht.version="19.2.0";function Wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wy)}catch(e){console.error(e)}}Wy(),Zy.exports=Ht;var mi=Zy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=Zw,Fy=w,eS=mi;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sm(e){if(_l(e)!==e)throw Error($(188))}function tS(e){var t=e.alternate;if(!t){if(t=_l(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sm(s),e;if(i===a)return Sm(s),t;i=i.sibling}throw Error($(188))}if(n.return!==a.return)n=s,a=i;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function av(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=av(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,nS=Symbol.for("react.element"),Jl=Symbol.for("react.transitional.element"),jr=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),iv=Symbol.for("react.consumer"),ya=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),bd=Symbol.for("react.suspense_list"),qf=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),_d=Symbol.for("react.activity"),aS=Symbol.for("react.memo_cache_sentinel"),xm=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var sS=Symbol.for("react.client.reference");function wd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gi:return"Fragment";case vd:return"Profiler";case sv:return"StrictMode";case pd:return"Suspense";case bd:return"SuspenseList";case _d:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case jr:return"Portal";case ya:return e.displayName||"Context";case iv:return(e._context.displayName||"Context")+".Consumer";case Hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qf:return t=e.displayName||null,t!==null?t:wd(e.type)||"Memo";case $a:t=e._payload,e=e._init;try{return wd(e(t))}catch{}}return null}var Or=Array.isArray,F=Fy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=eS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rs={pending:!1,data:null,method:null,action:null},Sd=[],yi=-1;function aa(e){return{current:e}}function wt(e){0>yi||(e.current=Sd[yi],Sd[yi]=null,yi--)}function Be(e,t){yi++,Sd[yi]=e.current,e.current=t}var na=aa(null),Fr=aa(null),Pa=aa(null),Yo=aa(null);function Vo(e,t){switch(Be(Pa,t),Be(Fr,e),Be(na,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ag(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ag(t),e=T0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}wt(na),Be(na,e)}function zi(){wt(na),wt(Fr),wt(Pa)}function xd(e){e.memoizedState!==null&&Be(Yo,e);var t=na.current,n=T0(t,e.type);t!==n&&(Be(Fr,e),Be(na,n))}function Io(e){Fr.current===e&&(wt(na),wt(Fr)),Yo.current===e&&(wt(Yo),ul._currentValue=Rs)}var _u,Em;function xs(e){if(_u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_u=t&&t[1]||"",Em=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_u+e+Em}var wu=!1;function Su(e,t){if(!e||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(y){var m=y}Reflect.construct(e,[],h)}else{try{h.call()}catch(y){m=y}e.call(h.prototype)}}else{try{throw Error()}catch(y){m=y}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(y){if(y&&m&&typeof y.stack=="string")return[y.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var c=r.split(`
`),u=l.split(`
`);for(s=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===c.length||s===u.length)for(a=c.length-1,s=u.length-1;1<=a&&0<=s&&c[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(c[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||c[a]!==u[s]){var f=`
`+c[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=s);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xs(n):""}function iS(e,t){switch(e.tag){case 26:case 27:case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return e.child!==t&&t!==null?xs("Suspense Fallback"):xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return Su(e.type,!1);case 11:return Su(e.type.render,!1);case 1:return Su(e.type,!0);case 31:return xs("Activity");default:return""}}function Tm(e){try{var t="",n=null;do t+=iS(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ed=Object.prototype.hasOwnProperty,Yf=yt.unstable_scheduleCallback,xu=yt.unstable_cancelCallback,rS=yt.unstable_shouldYield,lS=yt.unstable_requestPaint,fn=yt.unstable_now,oS=yt.unstable_getCurrentPriorityLevel,rv=yt.unstable_ImmediatePriority,lv=yt.unstable_UserBlockingPriority,Go=yt.unstable_NormalPriority,cS=yt.unstable_LowPriority,ov=yt.unstable_IdlePriority,uS=yt.log,dS=yt.unstable_setDisableYieldValue,wl=null,hn=null;function Ka(e){if(typeof uS=="function"&&dS(e),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(wl,e)}catch{}}var mn=Math.clz32?Math.clz32:mS,fS=Math.log,hS=Math.LN2;function mS(e){return e>>>=0,e===0?32:31-(fS(e)/hS|0)|0}var Zl=256,Pl=262144,Wl=4194304;function Es(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=Es(a):(r&=l,r!==0?s=Es(r):n||(n=l&~e,n!==0&&(s=Es(n))))):(l=a&~i,l!==0?s=Es(l):r!==0?s=Es(r):n||(n=a&~e,n!==0&&(s=Es(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cv(){var e=Wl;return Wl<<=1,!(Wl&62914560)&&(Wl=4194304),e}function Eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yS(e,t,n,a,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-mn(n),h=1<<f;l[f]=0,c[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var y=m[f];y!==null&&(y.lane&=-536870913)}n&=~h}a!==0&&uv(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function uv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-mn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function dv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-mn(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function fv(e,t){var n=t&-t;return n=n&42?1:Vf(n),n&(e.suspendedLanes|t)?0:n}function Vf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function If(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function hv(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:z0(e.type))}function jm(e,t){var n=je.p;try{return je.p=e,t()}finally{je.p=n}}var ds=Math.random().toString(36).slice(2),Et="__reactFiber$"+ds,Wt="__reactProps$"+ds,Pi="__reactContainer$"+ds,Td="__reactEvents$"+ds,vS="__reactListeners$"+ds,pS="__reactHandles$"+ds,Om="__reactResources$"+ds,El="__reactMarker$"+ds;function Gf(e){delete e[Et],delete e[Wt],delete e[Td],delete e[vS],delete e[pS]}function vi(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pi]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kg(e);e!==null;){if(n=e[Et])return n;e=kg(e)}return t}e=n,n=e.parentNode}return null}function Wi(e){if(e=e[Et]||e[Pi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Nr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Oi(e){var t=e[Om];return t||(t=e[Om]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function _t(e){e[El]=!0}var mv=new Set,gv={};function Ys(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(gv[e]=t,e=0;e<t.length;e++)mv.add(t[e])}var bS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nm={},Am={};function _S(e){return Ed.call(Am,e)?!0:Ed.call(Nm,e)?!1:bS.test(e)?Am[e]=!0:(Nm[e]=!0,!1)}function Eo(e,t,n){if(_S(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function oa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wS(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jd(e){if(!e._valueTracker){var t=yv(e)?"checked":"value";e._valueTracker=wS(e,t,""+e[t])}}function vv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=yv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var SS=/[\n"\\]/g;function Nn(e){return e.replace(SS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Od(e,t,n,a,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Nd(e,r,Tn(t)):n!=null?Nd(e,r,Tn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Tn(l):e.removeAttribute("name")}function pv(e,t,n,a,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){jd(e);return}n=n!=null?""+Tn(n):"",t=t!=null?""+Tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),jd(e)}function Nd(e,t,n){t==="number"&&Ko(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ni(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bv(e,t,n){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tn(n):""}function _v(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error($(92));if(Or(a)){if(1<a.length)throw Error($(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),jd(e)}function Li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dm(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||xS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wv(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&Dm(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&Dm(e,i,t[i])}function Kf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(e){return TS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var Ad=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,Ai=null;function Cm(e){var t=Wi(e);if(t&&(e=t.stateNode)){var n=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Od(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Wt]||null;if(!s)throw Error($(90));Od(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&vv(a)}break e;case"textarea":bv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ni(e,!!n.multiple,t,!1)}}}var Tu=!1;function Sv(e,t,n){if(Tu)return e(t,n);Tu=!0;try{var a=e(t);return a}finally{if(Tu=!1,(pi!==null||Ai!==null)&&(Ic(),pi&&(t=pi,e=Ai,Ai=pi=null,Cm(t),e)))for(t=0;t<e.length;t++)Cm(e[t])}}function el(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Wt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=!1;if(Sa)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Dd=!1}var Xa=null,Qf=null,jo=null;function xv(){if(jo)return jo;var e,t=Qf,n=t.length,a,s="value"in Xa?Xa.value:Xa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===s[i-a];a++);return jo=s.slice(e,1<a?1-a:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function Rm(){return!1}function Ft(e){function t(n,a,s,i,r){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eo:Rm,this.isPropagationStopped=Rm,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Ft(Vs),Tl=Ge({},Vs,{view:0,detail:0}),jS=Ft(Tl),ju,Ou,wr,kc=Ge({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(ju=e.screenX-wr.screenX,Ou=e.screenY-wr.screenY):Ou=ju=0,wr=e),ju)},movementY:function(e){return"movementY"in e?e.movementY:Ou}}),Mm=Ft(kc),OS=Ge({},kc,{dataTransfer:0}),NS=Ft(OS),AS=Ge({},Tl,{relatedTarget:0}),Nu=Ft(AS),DS=Ge({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=Ft(DS),RS=Ge({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MS=Ft(RS),kS=Ge({},Vs,{data:0}),km=Ft(kS),US={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$S[e])?!!t[e]:!1}function Jf(){return LS}var BS=Ge({},Tl,{key:function(e){if(e.key){var t=US[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HS=Ft(BS),qS=Ge({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=Ft(qS),YS=Ge({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),VS=Ft(YS),IS=Ge({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=Ft(IS),KS=Ge({},kc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XS=Ft(KS),QS=Ge({},Vs,{newState:0,oldState:0}),JS=Ft(QS),ZS=[9,13,27,32],Zf=Sa&&"CompositionEvent"in window,kr=null;Sa&&"documentMode"in document&&(kr=document.documentMode);var PS=Sa&&"TextEvent"in window&&!kr,Ev=Sa&&(!Zf||kr&&8<kr&&11>=kr),zm=" ",$m=!1;function Tv(e,t){switch(e){case"keyup":return ZS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function WS(e,t){switch(e){case"compositionend":return jv(t);case"keypress":return t.which!==32?null:($m=!0,zm);case"textInput":return e=t.data,e===zm&&$m?null:e;default:return null}}function FS(e,t){if(bi)return e==="compositionend"||!Zf&&Tv(e,t)?(e=xv(),jo=Qf=Xa=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ev&&t.locale!=="ko"?null:t.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ex[e.type]:t==="textarea"}function Ov(e,t,n,a){pi?Ai?Ai.push(a):Ai=[a]:pi=a,t=uc(t,"onChange"),0<t.length&&(n=new Mc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ur=null,tl=null;function tx(e){S0(e,0)}function Uc(e){var t=Nr(e);if(vv(t))return e}function Bm(e,t){if(e==="change")return t}var Nv=!1;if(Sa){var Au;if(Sa){var Du="oninput"in document;if(!Du){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),Du=typeof Hm.oninput=="function"}Au=Du}else Au=!1;Nv=Au&&(!document.documentMode||9<document.documentMode)}function qm(){Ur&&(Ur.detachEvent("onpropertychange",Av),tl=Ur=null)}function Av(e){if(e.propertyName==="value"&&Uc(tl)){var t=[];Ov(t,tl,e,Xf(e)),Sv(tx,t)}}function nx(e,t,n){e==="focusin"?(qm(),Ur=t,tl=n,Ur.attachEvent("onpropertychange",Av)):e==="focusout"&&qm()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uc(tl)}function sx(e,t){if(e==="click")return Uc(t)}function ix(e,t){if(e==="input"||e==="change")return Uc(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:rx;function nl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Ed.call(t,s)||!yn(e[s],t[s]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,t){var n=Ym(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ym(n)}}function Dv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ko(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lx=Sa&&"documentMode"in document&&11>=document.documentMode,_i=null,Cd=null,zr=null,Rd=!1;function Im(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||_i==null||_i!==Ko(a)||(a=_i,"selectionStart"in a&&Pf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),zr&&nl(zr,a)||(zr=a,a=uc(Cd,"onSelect"),0<a.length&&(t=new Mc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=_i)))}function bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Cu={},Rv={};Sa&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Is(e){if(Cu[e])return Cu[e];if(!wi[e])return e;var t=wi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rv)return Cu[e]=t[n];return e}var Mv=Is("animationend"),kv=Is("animationiteration"),Uv=Is("animationstart"),ox=Is("transitionrun"),cx=Is("transitionstart"),ux=Is("transitioncancel"),zv=Is("transitionend"),$v=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function Gn(e,t){$v.set(e,t),Ys(t,[e])}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Si=0,Wf=0;function zc(){for(var e=Si,t=Wf=Si=0;t<e;){var n=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var s=xn[t];xn[t++]=null;var i=xn[t];if(xn[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&Lv(n,s,i)}}function $c(e,t,n,a){xn[Si++]=e,xn[Si++]=t,xn[Si++]=n,xn[Si++]=a,Wf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ff(e,t,n,a){return $c(e,t,n,a),Qo(e)}function Gs(e,t){return $c(e,null,null,t),Qo(e)}function Lv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-mn(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Qo(e){if(50<Gr)throw Gr=0,ef=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xi={};function dx(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,a){return new dx(e,t,n,a)}function eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function No(e,t,n,a,s,i){var r=0;if(a=e,typeof e=="function")eh(e)&&(r=1);else if(typeof e=="string")r=y1(e,n,na.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _d:return e=on(31,n,t,s),e.elementType=_d,e.lanes=i,e;case gi:return Ms(n.children,s,i,t);case sv:r=8,s|=24;break;case vd:return e=on(12,n,t,s|2),e.elementType=vd,e.lanes=i,e;case pd:return e=on(13,n,t,s),e.elementType=pd,e.lanes=i,e;case bd:return e=on(19,n,t,s),e.elementType=bd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ya:r=10;break e;case iv:r=9;break e;case Hf:r=11;break e;case qf:r=14;break e;case $a:r=16,a=null;break e}r=29,n=Error($(130,e===null?"null":typeof e,"")),a=null}return t=on(r,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ms(e,t,n,a){return e=on(7,e,a,t),e.lanes=n,e}function Ru(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Hv(e){var t=on(18,null,null,0);return t.stateNode=e,t}function Mu(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gm=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=Gm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tm(t)},Gm.set(e,t),t)}return{value:e,source:t,stack:Tm(t)}}var Ei=[],Ti=0,Jo=null,al=0,jn=[],On=0,rs=null,Fn=1,ea="";function ma(e,t){Ei[Ti++]=al,Ei[Ti++]=Jo,Jo=e,al=t}function qv(e,t,n){jn[On++]=Fn,jn[On++]=ea,jn[On++]=rs,rs=e;var a=Fn;e=ea;var s=32-mn(a)-1;a&=~(1<<s),n+=1;var i=32-mn(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Fn=1<<32-mn(t)+s|n<<s|a,ea=i+e}else Fn=1<<i|n<<s|a,ea=e}function th(e){e.return!==null&&(ma(e,1),qv(e,1,0))}function nh(e){for(;e===Jo;)Jo=Ei[--Ti],Ei[Ti]=null,al=Ei[--Ti],Ei[Ti]=null;for(;e===rs;)rs=jn[--On],jn[On]=null,ea=jn[--On],jn[On]=null,Fn=jn[--On],jn[On]=null}function Yv(e,t){jn[On++]=Fn,jn[On++]=ea,jn[On++]=rs,Fn=t.id,ea=t.overflow,rs=e}var Tt=null,Ve=null,ye=!1,Wa=null,Dn=!1,kd=Error($(519));function ls(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(An(t,e)),kd}function Km(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Et]=e,t[Wt]=a,n){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(n=0;n<ol.length;n++)ue(ol[n],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),pv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),_v(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||E0(t.textContent,n)?(a.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),a.onScroll!=null&&ue("scroll",t),a.onScrollEnd!=null&&ue("scrollend",t),a.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||ls(e,!0)}function Xm(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Tt=Tt.return}}function ni(e){if(e!==Tt)return!1;if(!ye)return Xm(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||rf(e.type,e.memoizedProps)),n=!n),n&&Ve&&ls(e),Xm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ve=Mg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ve=Mg(e)}else t===27?(t=Ve,fs(e.type)?(e=uf,uf=null,Ve=e):Ve=t):Ve=Tt?Rn(e.stateNode.nextSibling):null;return!0}function $s(){Ve=Tt=null,ye=!1}function ku(){var e=Wa;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),Wa=null),e}function sl(e){Wa===null?Wa=[e]:Wa.push(e)}var Ud=aa(null),Ks=null,pa=null;function qa(e,t,n){Be(Ud,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=Ud.current,wt(Ud)}function zd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function $d(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zd(i.return,n,e),a||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error($(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),zd(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Fi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error($(387));if(r=r.memoizedProps,r!==null){var l=s.type;yn(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Yo.current){if(r=s.alternate,r===null)throw Error($(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}s=s.return}e!==null&&$d(t,e,n,a),t.flags|=262144}function Zo(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){Ks=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Vv(Ks,e)}function to(e,t){return Ks===null&&Ls(e),Vv(e,t)}function Vv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pa===null){if(e===null)throw Error($(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return n}var fx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hx=yt.unstable_scheduleCallback,mx=yt.unstable_NormalPriority,ot={$$typeof:ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new fx,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&hx(mx,function(){e.controller.abort()})}var $r=null,Ld=0,Bi=0,Di=null;function gx(e,t){if($r===null){var n=$r=[];Ld=0,Bi=Nh(),Di={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ld++,t.then(Qm,Qm),t}function Qm(){if(--Ld===0&&$r!==null){Di!==null&&(Di.status="fulfilled");var e=$r;$r=null,Bi=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yx(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var Jm=F.S;F.S=function(e,t){a0=fn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gx(e,t),Jm!==null&&Jm(e,t)};var ks=aa(null);function sh(){var e=ks.current;return e!==null?e:Ue.pooledCache}function Ao(e,t){t===null?Be(ks,ks.current):Be(ks,t.pool)}function Iv(){var e=sh();return e===null?null:{parent:ot._currentValue,pool:e}}var er=Error($(460)),ih=Error($(474)),Lc=Error($(542)),Po={then:function(){}};function Zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(va,va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wm(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wm(e),e}throw Us=t,er}}function Ts(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Us=n,er):n}}var Us=null;function Pm(){if(Us===null)throw Error($(459));var e=Us;return Us=null,e}function Wm(e){if(e===er||e===Lc)throw Error($(483))}var Ci=null,il=0;function no(e){var t=il;return il+=1,Ci===null&&(Ci=[]),Gv(Ci,e,t)}function Sr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ao(e,t){throw t.$$typeof===nS?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kv(e){function t(b,g){if(e){var p=b.deletions;p===null?(b.deletions=[g],b.flags|=16):p.push(g)}}function n(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function a(b){for(var g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(b,g){return b=ba(b,g),b.index=0,b.sibling=null,b}function i(b,g,p){return b.index=p,e?(p=b.alternate,p!==null?(p=p.index,p<g?(b.flags|=67108866,g):p):(b.flags|=67108866,g)):(b.flags|=1048576,g)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,g,p,S){return g===null||g.tag!==6?(g=Ru(p,b.mode,S),g.return=b,g):(g=s(g,p),g.return=b,g)}function c(b,g,p,S){var T=p.type;return T===gi?f(b,g,p.props.children,S,p.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$a&&Ts(T)===g.type)?(g=s(g,p.props),Sr(g,p),g.return=b,g):(g=No(p.type,p.key,p.props,null,b.mode,S),Sr(g,p),g.return=b,g)}function u(b,g,p,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Mu(p,b.mode,S),g.return=b,g):(g=s(g,p.children||[]),g.return=b,g)}function f(b,g,p,S,T){return g===null||g.tag!==7?(g=Ms(p,b.mode,S,T),g.return=b,g):(g=s(g,p),g.return=b,g)}function h(b,g,p){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ru(""+g,b.mode,p),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jl:return p=No(g.type,g.key,g.props,null,b.mode,p),Sr(p,g),p.return=b,p;case jr:return g=Mu(g,b.mode,p),g.return=b,g;case $a:return g=Ts(g),h(b,g,p)}if(Or(g)||br(g))return g=Ms(g,b.mode,p,null),g.return=b,g;if(typeof g.then=="function")return h(b,no(g),p);if(g.$$typeof===ya)return h(b,to(b,g),p);ao(b,g)}return null}function m(b,g,p,S){var T=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return T!==null?null:l(b,g,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jl:return p.key===T?c(b,g,p,S):null;case jr:return p.key===T?u(b,g,p,S):null;case $a:return p=Ts(p),m(b,g,p,S)}if(Or(p)||br(p))return T!==null?null:f(b,g,p,S,null);if(typeof p.then=="function")return m(b,g,no(p),S);if(p.$$typeof===ya)return m(b,g,to(b,p),S);ao(b,p)}return null}function y(b,g,p,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(p)||null,l(g,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jl:return b=b.get(S.key===null?p:S.key)||null,c(g,b,S,T);case jr:return b=b.get(S.key===null?p:S.key)||null,u(g,b,S,T);case $a:return S=Ts(S),y(b,g,p,S,T)}if(Or(S)||br(S))return b=b.get(p)||null,f(g,b,S,T,null);if(typeof S.then=="function")return y(b,g,p,no(S),T);if(S.$$typeof===ya)return y(b,g,p,to(g,S),T);ao(g,S)}return null}function E(b,g,p,S){for(var T=null,A=null,j=g,M=g=0,k=null;j!==null&&M<p.length;M++){j.index>M?(k=j,j=null):k=j.sibling;var Y=m(b,j,p[M],S);if(Y===null){j===null&&(j=k);break}e&&j&&Y.alternate===null&&t(b,j),g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y,j=k}if(M===p.length)return n(b,j),ye&&ma(b,M),T;if(j===null){for(;M<p.length;M++)j=h(b,p[M],S),j!==null&&(g=i(j,g,M),A===null?T=j:A.sibling=j,A=j);return ye&&ma(b,M),T}for(j=a(j);M<p.length;M++)k=y(j,b,M,p[M],S),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?M:k.key),g=i(k,g,M),A===null?T=k:A.sibling=k,A=k);return e&&j.forEach(function(X){return t(b,X)}),ye&&ma(b,M),T}function x(b,g,p,S){if(p==null)throw Error($(151));for(var T=null,A=null,j=g,M=g=0,k=null,Y=p.next();j!==null&&!Y.done;M++,Y=p.next()){j.index>M?(k=j,j=null):k=j.sibling;var X=m(b,j,Y.value,S);if(X===null){j===null&&(j=k);break}e&&j&&X.alternate===null&&t(b,j),g=i(X,g,M),A===null?T=X:A.sibling=X,A=X,j=k}if(Y.done)return n(b,j),ye&&ma(b,M),T;if(j===null){for(;!Y.done;M++,Y=p.next())Y=h(b,Y.value,S),Y!==null&&(g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y);return ye&&ma(b,M),T}for(j=a(j);!Y.done;M++,Y=p.next())Y=y(j,b,M,Y.value,S),Y!==null&&(e&&Y.alternate!==null&&j.delete(Y.key===null?M:Y.key),g=i(Y,g,M),A===null?T=Y:A.sibling=Y,A=Y);return e&&j.forEach(function(se){return t(b,se)}),ye&&ma(b,M),T}function O(b,g,p,S){if(typeof p=="object"&&p!==null&&p.type===gi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Jl:e:{for(var T=p.key;g!==null;){if(g.key===T){if(T=p.type,T===gi){if(g.tag===7){n(b,g.sibling),S=s(g,p.props.children),S.return=b,b=S;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$a&&Ts(T)===g.type){n(b,g.sibling),S=s(g,p.props),Sr(S,p),S.return=b,b=S;break e}n(b,g);break}else t(b,g);g=g.sibling}p.type===gi?(S=Ms(p.props.children,b.mode,S,p.key),S.return=b,b=S):(S=No(p.type,p.key,p.props,null,b.mode,S),Sr(S,p),S.return=b,b=S)}return r(b);case jr:e:{for(T=p.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(b,g.sibling),S=s(g,p.children||[]),S.return=b,b=S;break e}else{n(b,g);break}else t(b,g);g=g.sibling}S=Mu(p,b.mode,S),S.return=b,b=S}return r(b);case $a:return p=Ts(p),O(b,g,p,S)}if(Or(p))return E(b,g,p,S);if(br(p)){if(T=br(p),typeof T!="function")throw Error($(150));return p=T.call(p),x(b,g,p,S)}if(typeof p.then=="function")return O(b,g,no(p),S);if(p.$$typeof===ya)return O(b,g,to(b,p),S);ao(b,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,g!==null&&g.tag===6?(n(b,g.sibling),S=s(g,p),S.return=b,b=S):(n(b,g),S=Ru(p,b.mode,S),S.return=b,b=S),r(b)):n(b,g)}return function(b,g,p,S){try{il=0;var T=O(b,g,p,S);return Ci=null,T}catch(j){if(j===er||j===Lc)throw j;var A=on(29,j,null,b.mode);return A.lanes=S,A.return=b,A}finally{}}}var Bs=Kv(!0),Xv=Kv(!1),La=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Te&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Qo(e),Lv(e,null,n),t}return $c(e,a,t,n),Qo(e)}function Lr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,dv(e,n)}}function Uu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Hd=!1;function Br(){if(Hd){var e=Di;if(e!==null)throw e}}function Hr(e,t,n,a){Hd=!1;var s=e.updateQueue;La=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,r===null?i=u:r.next=u,r=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;r=0,f=u=c=null,l=i;do{var m=l.lane&-536870913,y=m!==l.lane;if(y?(he&m)===m:(a&m)===m){m!==0&&m===Bi&&(Hd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var E=e,x=l;m=t;var O=n;switch(x.tag){case 1:if(E=x.payload,typeof E=="function"){h=E.call(O,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,m=typeof E=="function"?E.call(O,h,m):E,m==null)break e;h=Ge({},h,m);break e;case 2:La=!0}}m=l.callback,m!==null&&(e.flags|=64,y&&(e.flags|=8192),y=s.callbacks,y===null?s.callbacks=[m]:y.push(m))}else y={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=h):f=f.next=y,r|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),cs|=r,e.lanes=r,e.memoizedState=h}}function Qv(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Jv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Qv(n[e],t)}var Hi=aa(null),Wo=aa(0);function Fm(e,t){e=ja,Be(Wo,e),Be(Hi,t),ja=e|t.baseLanes}function qd(){Be(Wo,ja),Be(Hi,Hi.current)}function lh(){ja=Wo.current,wt(Hi),wt(Wo)}var vn=aa(null),Cn=null;function Ya(e){var t=e.alternate;Be(et,et.current&1),Be(vn,e),Cn===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Cn=e)}function Yd(e){Be(et,et.current),Be(vn,e),Cn===null&&(Cn=e)}function Zv(e){e.tag===22?(Be(et,et.current),Be(vn,e),Cn===null&&(Cn=e)):Va()}function Va(){Be(et,et.current),Be(vn,vn.current)}function ln(e){wt(vn),Cn===e&&(Cn=null),wt(et)}var et=aa(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||of(n)||cf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=0,ae=null,Me=null,rt=null,ec=!1,Ri=!1,Hs=!1,tc=0,rl=0,Mi=null,vx=0;function Ze(){throw Error($(321))}function oh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function ch(e,t,n,a,s,i){return xa=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Op:_h,Hs=!1,i=n(a,s),Hs=!1,Ri&&(i=Wv(t,n,a,s)),Pv(e),i}function Pv(e){F.H=ll;var t=Me!==null&&Me.next!==null;if(xa=0,rt=Me=ae=null,ec=!1,rl=0,Mi=null,t)throw Error($(300));e===null||ct||(e=e.dependencies,e!==null&&Zo(e)&&(ct=!0))}function Wv(e,t,n,a){ae=e;var s=0;do{if(Ri&&(Mi=null),rl=0,Ri=!1,25<=s)throw Error($(301));if(s+=1,rt=Me=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}F.H=Np,i=t(n,a)}while(Ri);return i}function px(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?Ol(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ae.flags|=1024),t}function uh(){var e=tc!==0;return tc=0,e}function dh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function fh(e){if(ec){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ec=!1}xa=0,rt=Me=ae=null,Ri=!1,rl=tc=0,Mi=null}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ae.memoizedState=rt=e:rt=rt.next=e,rt}function tt(){if(Me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=rt===null?ae.memoizedState:rt.next;if(t!==null)rt=t,Me=e;else{if(e===null)throw ae.alternate===null?Error($(467)):Error($(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},rt===null?ae.memoizedState=rt=e:rt=rt.next=e}return rt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(e){var t=rl;return rl+=1,Mi===null&&(Mi=[]),e=Gv(Mi,e,t),t=ae,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Op:_h),e}function Hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ol(e);if(e.$$typeof===ya)return jt(e)}throw Error($(438,String(e)))}function hh(e){var t=null,n=ae.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ae.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Bc(),ae.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=aS;return t.index++,n}function Ea(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=tt();return mh(t,Me,e)}function mh(e,t,n){var a=e.queue;if(a===null)throw Error($(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,c=null,u=t,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(he&h)===h:(xa&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(f=!0);else if((xa&m)===m){u=u.next,m===Bi&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,r=i):c=c.next=h,ae.lanes|=m,cs|=m;h=u.action,Hs&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,r=i):c=c.next=m,ae.lanes|=h,cs|=h;u=u.next}while(u!==null&&u!==t);if(c===null?r=i:c.next=l,!yn(i,e.memoizedState)&&(ct=!0,f&&(n=Di,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=c,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function zu(e){var t=tt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);yn(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Fv(e,t,n){var a=ae,s=tt(),i=ye;if(i){if(n===void 0)throw Error($(407));n=n()}else n=t();var r=!yn((Me||s).memoizedState,n);if(r&&(s.memoizedState=n,ct=!0),s=s.queue,gh(np.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,qi(9,{destroy:void 0},tp.bind(null,a,s,n,t),null),Ue===null)throw Error($(349));i||xa&127||ep(a,t,n)}return n}function ep(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t=Bc(),ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tp(e,t,n,a){t.value=n,t.getSnapshot=a,ap(t)&&sp(e)}function np(e,t,n){return n(function(){ap(t)&&sp(e)})}function ap(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function sp(e){var t=Gs(e,2);t!==null&&Pt(t,e,2)}function Vd(e){var t=$t();if(typeof e=="function"){var n=e;if(e=n(),Hs){Ka(!0);try{n()}finally{Ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function ip(e,t,n,a){return e.baseState=n,mh(e,Me,typeof a=="function"?a:Ea)}function bx(e,t,n,a,s){if(Yc(e))throw Error($(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};F.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,rp(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rp(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=F.T,r={};F.T=r;try{var l=n(s,a),c=F.S;c!==null&&c(r,l),eg(e,t,l)}catch(u){Id(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),F.T=i}}else try{i=n(s,a),eg(e,t,i)}catch(u){Id(e,t,u)}}function eg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){tg(e,t,a)},function(a){return Id(e,t,a)}):tg(e,t,n)}function tg(e,t,n){t.status="fulfilled",t.value=n,lp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rp(e,n)))}function Id(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,lp(t),t=t.next;while(t!==a)}e.action=null}function lp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function op(e,t){return t}function ng(e,t){if(ye){var n=Ue.formState;if(n!==null){e:{var a=ae;if(ye){if(Ve){t:{for(var s=Ve,i=Dn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Rn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ve=Rn(s.nextSibling),a=s.data==="F!";break e}}ls(a)}a=!1}a&&(t=n[0])}}return n=$t(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:t},n.queue=a,n=Ep.bind(null,ae,a),a.dispatch=n,a=Vd(!1),i=bh.bind(null,ae,!1,a.queue),a=$t(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=bx.bind(null,ae,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function ag(e){var t=tt();return cp(t,Me,e)}function cp(e,t,n){if(t=mh(e,t,op)[0],e=Do(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ol(t)}catch(r){throw r===er?Lc:r}else a=t;t=tt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(ae.flags|=2048,qi(9,{destroy:void 0},_x.bind(null,s,n),null)),[a,i,e]}function _x(e,t){e.action=t}function sg(e){var t=tt(),n=Me;if(n!==null)return cp(t,n,e);tt(),t=t.memoizedState,n=tt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function qi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ae.updateQueue,t===null&&(t=Bc(),ae.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function up(){return tt().memoizedState}function Co(e,t,n,a){var s=$t();ae.flags|=e,s.memoizedState=qi(1|t,{destroy:void 0},n,a===void 0?null:a)}function qc(e,t,n,a){var s=tt();a=a===void 0?null:a;var i=s.memoizedState.inst;Me!==null&&a!==null&&oh(a,Me.memoizedState.deps)?s.memoizedState=qi(t,i,n,a):(ae.flags|=e,s.memoizedState=qi(1|t,i,n,a))}function ig(e,t){Co(8390656,8,e,t)}function gh(e,t){qc(2048,8,e,t)}function wx(e){ae.flags|=4;var t=ae.updateQueue;if(t===null)t=Bc(),ae.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dp(e){var t=tt().memoizedState;return wx({ref:t,nextImpl:e}),function(){if(Te&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function fp(e,t){return qc(4,2,e,t)}function hp(e,t){return qc(4,4,e,t)}function mp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gp(e,t,n){n=n!=null?n.concat([e]):null,qc(4,4,mp.bind(null,t,e),n)}function yh(){}function yp(e,t){var n=tt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&oh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function vp(e,t){var n=tt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&oh(t,a[1]))return a[0];if(a=e(),Hs){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[a,t],a}function vh(e,t,n){return n===void 0||xa&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=n,e=i0(),ae.lanes|=e,cs|=e,n)}function pp(e,t,n,a){return yn(n,t)?n:Hi.current!==null?(e=vh(e,n,a),yn(e,t)||(ct=!0),e):!(xa&42)||xa&1073741824&&!(he&261930)?(ct=!0,e.memoizedState=n):(e=i0(),ae.lanes|=e,cs|=e,t)}function bp(e,t,n,a,s){var i=je.p;je.p=i!==0&&8>i?i:8;var r=F.T,l={};F.T=l,bh(e,!1,t,n);try{var c=s(),u=F.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=yx(c,a);qr(e,t,f,gn(e))}else qr(e,t,a,gn(e))}catch(h){qr(e,t,{then:function(){},status:"rejected",reason:h},gn())}finally{je.p=i,r!==null&&l.types!==null&&(r.types=l.types),F.T=r}}function Sx(){}function Gd(e,t,n,a){if(e.tag!==5)throw Error($(476));var s=_p(e).queue;bp(e,s,t,Rs,n===null?Sx:function(){return wp(e),n(a)})}function _p(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rs,baseState:Rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Rs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wp(e){var t=_p(e);t.next===null&&(t=e.alternate.memoizedState),qr(e,t.next.queue,{},gn())}function ph(){return jt(ul)}function Sp(){return tt().memoizedState}function xp(){return tt().memoizedState}function xx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=gn();e=Fa(n);var a=es(t,e,n);a!==null&&(Pt(a,t,n),Lr(a,t,n)),t={cache:ah()},e.payload=t;return}t=t.return}}function Ex(e,t,n){var a=gn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yc(e)?Tp(t,n):(n=Ff(e,t,n,a),n!==null&&(Pt(n,e,a),jp(n,t,a)))}function Ep(e,t,n){var a=gn();qr(e,t,n,a)}function qr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yc(e))Tp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,n);if(s.hasEagerState=!0,s.eagerState=l,yn(l,r))return $c(e,t,s,0),Ue===null&&zc(),!1}catch{}finally{}if(n=Ff(e,t,s,a),n!==null)return Pt(n,e,a),jp(n,t,a),!0}return!1}function bh(e,t,n,a){if(a={lane:2,revertLane:Nh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(e)){if(t)throw Error($(479))}else t=Ff(e,n,a,2),t!==null&&Pt(t,e,2)}function Yc(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Tp(e,t){Ri=ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,dv(e,n)}}var ll={readContext:jt,use:Hc,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ll.useEffectEvent=Ze;var Op={readContext:jt,use:Hc,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:ig,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Co(4194308,4,mp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){Co(4,2,e,t)},useMemo:function(e,t){var n=$t();t=t===void 0?null:t;var a=e();if(Hs){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=$t();if(n!==void 0){var s=n(t);if(Hs){Ka(!0);try{n(t)}finally{Ka(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Ex.bind(null,ae,e),[a.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:function(e){e=Vd(e);var t=e.queue,n=Ep.bind(null,ae,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:yh,useDeferredValue:function(e,t){var n=$t();return vh(n,e,t)},useTransition:function(){var e=Vd(!1);return e=bp.bind(null,ae,e.queue,!0,!1),$t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ae,s=$t();if(ye){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ue===null)throw Error($(349));he&127||ep(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ig(np.bind(null,a,i,e),[e]),a.flags|=2048,qi(9,{destroy:void 0},tp.bind(null,a,i,n,t),null),n},useId:function(){var e=$t(),t=Ue.identifierPrefix;if(ye){var n=ea,a=Fn;n=(a&~(1<<32-mn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=tc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ph,useFormState:ng,useActionState:ng,useOptimistic:function(e){var t=$t();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bh.bind(null,ae,!0,n),n.dispatch=t,[e,t]},useMemoCache:hh,useCacheRefresh:function(){return $t().memoizedState=xx.bind(null,ae)},useEffectEvent:function(e){var t=$t(),n={impl:e};return t.memoizedState=n,function(){if(Te&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},_h={readContext:jt,use:Hc,useCallback:yp,useContext:jt,useEffect:gh,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:vp,useReducer:Do,useRef:up,useState:function(){return Do(Ea)},useDebugValue:yh,useDeferredValue:function(e,t){var n=tt();return pp(n,Me.memoizedState,e,t)},useTransition:function(){var e=Do(Ea)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ol(e),t]},useSyncExternalStore:Fv,useId:Sp,useHostTransitionStatus:ph,useFormState:ag,useActionState:ag,useOptimistic:function(e,t){var n=tt();return ip(n,Me,e,t)},useMemoCache:hh,useCacheRefresh:xp};_h.useEffectEvent=dp;var Np={readContext:jt,use:Hc,useCallback:yp,useContext:jt,useEffect:gh,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:vp,useReducer:zu,useRef:up,useState:function(){return zu(Ea)},useDebugValue:yh,useDeferredValue:function(e,t){var n=tt();return Me===null?vh(n,e,t):pp(n,Me.memoizedState,e,t)},useTransition:function(){var e=zu(Ea)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ol(e),t]},useSyncExternalStore:Fv,useId:Sp,useHostTransitionStatus:ph,useFormState:sg,useActionState:sg,useOptimistic:function(e,t){var n=tt();return Me!==null?ip(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hh,useCacheRefresh:xp};Np.useEffectEvent=dp;function $u(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=gn(),s=Fa(a);s.payload=t,n!=null&&(s.callback=n),t=es(e,s,a),t!==null&&(Pt(t,e,a),Lr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=gn(),s=Fa(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=es(e,s,a),t!==null&&(Pt(t,e,a),Lr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),a=Fa(n);a.tag=2,t!=null&&(a.callback=t),t=es(e,a,n),t!==null&&(Pt(t,e,n),Lr(t,e,n))}};function rg(e,t,n,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!nl(n,a)||!nl(s,i):!0}function lg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function qs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Ap(e){Xo(e)}function Dp(e){console.error(e)}function Cp(e){Xo(e)}function nc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function og(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Xd(e,t,n){return n=Fa(n),n.tag=3,n.payload={element:null},n.callback=function(){nc(e,t)},n}function Rp(e){return e=Fa(e),e.tag=3,e}function Mp(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){og(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){og(t,n,a),typeof s!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function Tx(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Fi(t,n,s,!0),n=vn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?lc():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Po?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Qu(e,a,s)),!1;case 22:return n.flags|=65536,a===Po?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Qu(e,a,s)),!1}throw Error($(435,n.tag))}return Qu(e,a,s),lc(),!1}if(ye)return t=vn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==kd&&(e=Error($(422),{cause:a}),sl(An(e,n)))):(a!==kd&&(t=Error($(423),{cause:a}),sl(An(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=An(a,n),s=Xd(e.stateNode,a,s),Uu(e,s),Pe!==4&&(Pe=2)),!1;var i=Error($(520),{cause:a});if(i=An(i,n),Ir===null?Ir=[i]:Ir.push(i),Pe!==4&&(Pe=2),t===null)return!0;a=An(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Xd(n.stateNode,a,e),Uu(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ts===null||!ts.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Rp(s),Mp(s,e,n,a),Uu(n,s),!1}n=n.return}while(n!==null);return!1}var wh=Error($(461)),ct=!1;function xt(e,t,n,a){t.child=e===null?Xv(t,null,n,a):Bs(t,e.child,n,a)}function cg(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Ls(t),a=ch(e,t,n,r,i,s),l=uh(),e!==null&&!ct?(dh(e,t,s),Ta(e,t,s)):(ye&&l&&th(t),t.flags|=1,xt(e,t,a,s),t.child)}function ug(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!eh(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,kp(e,t,i,a,s)):(e=No(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Sh(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(r,a)&&e.ref===t.ref)return Ta(e,t,s)}return t.flags|=1,e=ba(i,a),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(nl(i,a)&&e.ref===t.ref)if(ct=!1,t.pendingProps=a=i,Sh(e,s))e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Ta(e,t,s)}return Qd(e,t,n,a,s)}function Up(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return dg(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ao(t,i!==null?i.cachePool:null),i!==null?Fm(t,i):qd(),Zv(t);else return a=t.lanes=536870912,dg(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Ao(t,i.cachePool),Fm(t,i),Va(),t.memoizedState=null):(e!==null&&Ao(t,null),qd(),Va());return xt(e,t,s,n),t.child}function Ar(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dg(e,t,n,a,s){var i=sh();return i=i===null?null:{parent:ot._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Ao(t,null),qd(),Zv(t),e!==null&&Fi(e,t,a,!0),t.childLanes=s,null}function Ro(e,t){return t=ac({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fg(e,t,n){return Bs(t,e.child,null,n),e=Ro(t,t.pendingProps),e.flags|=2,ln(t),t.memoizedState=null,e}function jx(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=Ro(t,a),t.lanes=536870912,Ar(null,e);if(Yd(t),(e=Ve)?(e=O0(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:Fn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=Hv(e),n.return=t,t.child=n,Tt=t,Ve=null)):e=null,e===null)throw ls(t);return t.lanes=536870912,null}return Ro(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Yd(t),s)if(t.flags&256)t.flags&=-257,t=fg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(ct||Fi(e,t,n,!1),s=(n&e.childLanes)!==0,ct||s){if(a=Ue,a!==null&&(r=fv(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,Gs(e,r),Pt(a,e,r),wh;lc(),t=fg(e,t,n)}else e=i.treeContext,Ve=Rn(r.nextSibling),Tt=t,ye=!0,Wa=null,Dn=!1,e!==null&&Yv(t,e),t=Ro(t,a),t.flags|=4096;return t}return e=ba(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Mo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Qd(e,t,n,a,s){return Ls(t),n=ch(e,t,n,a,void 0,s),a=uh(),e!==null&&!ct?(dh(e,t,s),Ta(e,t,s)):(ye&&a&&th(t),t.flags|=1,xt(e,t,n,s),t.child)}function hg(e,t,n,a,s,i){return Ls(t),t.updateQueue=null,n=Wv(t,a,n,s),Pv(e),a=uh(),e!==null&&!ct?(dh(e,t,i),Ta(e,t,i)):(ye&&a&&th(t),t.flags|=1,xt(e,t,n,i),t.child)}function mg(e,t,n,a,s){if(Ls(t),t.stateNode===null){var i=xi,r=n.contextType;typeof r=="object"&&r!==null&&(i=jt(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Kd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},rh(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?jt(r):xi,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&($u(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Kd.enqueueReplaceState(i,i.state,null),Hr(t,a,i,s),Br(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,c=qs(n,l);i.props=c;var u=i.context,f=n.contextType;r=xi,typeof f=="object"&&f!==null&&(r=jt(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==r)&&lg(t,i,a,r),La=!1;var m=t.memoizedState;i.state=m,Hr(t,a,i,s),Br(),u=t.memoizedState,l||m!==u||La?(typeof h=="function"&&($u(t,n,h,a),u=t.memoizedState),(c=La||rg(t,n,c,a,m,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Bd(e,t),r=t.memoizedProps,f=qs(n,r),i.props=f,h=t.pendingProps,m=i.context,u=n.contextType,c=xi,typeof u=="object"&&u!==null&&(c=jt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==h||m!==c)&&lg(t,i,a,c),La=!1,m=t.memoizedState,i.state=m,Hr(t,a,i,s),Br();var y=t.memoizedState;r!==h||m!==y||La||e!==null&&e.dependencies!==null&&Zo(e.dependencies)?(typeof l=="function"&&($u(t,n,l,a),y=t.memoizedState),(f=La||rg(t,n,f,a,m,y,c)||e!==null&&e.dependencies!==null&&Zo(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=y),i.props=a,i.state=y,i.context=c,a=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Mo(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Bs(t,e.child,null,s),t.child=Bs(t,null,n,s)):xt(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Ta(e,t,s),e}function gg(e,t,n,a){return $s(),t.flags|=256,xt(e,t,n,a),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bu(e){return{baseLanes:e,cachePool:Iv()}}function Hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function zp(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?Ya(t):Va(),(e=Ve)?(e=O0(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:Fn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},n=Hv(e),n.return=t,t.child=n,Tt=t,Ve=null)):e=null,e===null)throw ls(t);return cf(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Va(),s=t.mode,l=ac({mode:"hidden",children:l},s),a=Ms(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Bu(n),a.childLanes=Hu(e,r,n),t.memoizedState=Lu,Ar(null,a)):(Ya(t),Jd(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)t.flags&256?(Ya(t),t.flags&=-257,t=qu(e,t,n)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),l=a.fallback,s=t.mode,a=ac({mode:"visible",children:a.children},s),l=Ms(l,s,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Bs(t,e.child,null,n),a=t.child,a.memoizedState=Bu(n),a.childLanes=Hu(e,r,n),t.memoizedState=Lu,t=Ar(null,a));else if(Ya(t),cf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error($(419)),a.stack="",a.digest=r,sl({value:a,source:null,stack:null}),t=qu(e,t,n)}else if(ct||Fi(e,t,n,!1),r=(n&e.childLanes)!==0,ct||r){if(r=Ue,r!==null&&(a=fv(r,n),a!==0&&a!==c.retryLane))throw c.retryLane=a,Gs(e,a),Pt(r,e,a),wh;of(l)||lc(),t=qu(e,t,n)}else of(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ve=Rn(l.nextSibling),Tt=t,ye=!0,Wa=null,Dn=!1,e!==null&&Yv(t,e),t=Jd(t,a.children),t.flags|=4096);return t}return s?(Va(),l=a.fallback,s=t.mode,c=e.child,u=c.sibling,a=ba(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=ba(u,l):(l=Ms(l,s,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Ar(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Bu(n):(s=l.cachePool,s!==null?(c=ot._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Iv(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Hu(e,r,n),t.memoizedState=Lu,Ar(e.child,a)):(Ya(t),n=e.child,e=n.sibling,n=ba(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Jd(e,t){return t=ac({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ac(e,t){return e=on(22,e,null,t),e.lanes=0,e}function qu(e,t,n){return Bs(t,e.child,null,n),e=Jd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),zd(e.return,t,n)}function Yu(e,t,n,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function $p(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=et.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Be(et,r),xt(e,t,a,n),a=ye?al:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yg(e,n,t);else if(e.tag===19)yg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yu(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yu(t,!0,n,null,i,a);break;case"together":Yu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Fi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=ba(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ba(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Zo(e)))}function Ox(e,t,n){switch(t.tag){case 3:Vo(t,t.stateNode.containerInfo),qa(t,ot,e.memoizedState.cache),$s();break;case 27:case 5:xd(t);break;case 4:Vo(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ya(t),t.flags|=128,null):n&t.child.childLanes?zp(e,t,n):(Ya(t),e=Ta(e,t,n),e!==null?e.sibling:null);Ya(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Fi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return $p(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(et,et.current),a)break;return null;case 22:return t.lanes=0,Up(e,t,n,t.pendingProps);case 24:qa(t,ot,e.memoizedState.cache)}return Ta(e,t,n)}function Lp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Sh(e,n)&&!(t.flags&128))return ct=!1,Ox(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ye&&t.flags&1048576&&qv(t,al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ts(t.elementType),t.type=e,typeof e=="function")eh(e)?(a=qs(e,a),t.tag=1,t=mg(null,t,e,a,n)):(t.tag=0,t=Qd(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===Hf){t.tag=11,t=cg(null,t,e,a,n);break e}else if(s===qf){t.tag=14,t=ug(null,t,e,a,n);break e}}throw t=wd(e)||e,Error($(306,t,""))}}return t;case 0:return Qd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=qs(a,t.pendingProps),mg(e,t,a,s,n);case 3:e:{if(Vo(t,t.stateNode.containerInfo),e===null)throw Error($(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,Bd(e,t),Hr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,qa(t,ot,a),a!==i.cache&&$d(t,[ot],n,!0),Br(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=gg(e,t,a,n);break e}else if(a!==s){s=An(Error($(424)),t),sl(s),t=gg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Rn(e.firstChild),Tt=t,ye=!0,Wa=null,Dn=!0,n=Xv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($s(),a===s){t=Ta(e,t,n);break e}xt(e,t,a,n)}t=t.child}return t;case 26:return Mo(e,t),e===null?(n=zg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,a=dc(Pa.current).createElement(n),a[Et]=t,a[Wt]=e,Ot(a,n,e),_t(a),t.stateNode=a):t.memoizedState=zg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xd(t),e===null&&ye&&(a=t.stateNode=N0(t.type,t.pendingProps,Pa.current),Tt=t,Dn=!0,s=Ve,fs(t.type)?(uf=s,Ve=Rn(a.firstChild)):Ve=s),xt(e,t,t.pendingProps.children,n),Mo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=a=Ve)&&(a=a1(a,t.type,t.pendingProps,Dn),a!==null?(t.stateNode=a,Tt=t,Ve=Rn(a.firstChild),Dn=!1,s=!0):s=!1),s||ls(t)),xd(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,rf(s,i)?a=null:r!==null&&rf(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=ch(e,t,px,null,null,n),ul._currentValue=s),Mo(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&ye&&((e=n=Ve)&&(n=s1(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Tt=t,Ve=null,e=!0):e=!1),e||ls(t)),null;case 13:return zp(e,t,n);case 4:return Vo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Bs(t,null,a,n):xt(e,t,a,n),t.child;case 11:return cg(e,t,t.type,t.pendingProps,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,qa(t,t.type,a.value),xt(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ls(t),s=jt(s),a=a(s),t.flags|=1,xt(e,t,a,n),t.child;case 14:return ug(e,t,t.type,t.pendingProps,n);case 15:return kp(e,t,t.type,t.pendingProps,n);case 19:return $p(e,t,n);case 31:return jx(e,t,n);case 22:return Up(e,t,n,t.pendingProps);case 24:return Ls(t),a=jt(ot),e===null?(s=sh(),s===null&&(s=Ue,i=ah(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},rh(t),qa(t,ot,s)):(e.lanes&n&&(Bd(e,t),Hr(t,null,null,n),Br()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),qa(t,ot,a)):(a=i.cache,qa(t,ot,a),a!==s.cache&&$d(t,[ot],n,!0))),xt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function ca(e){e.flags|=4}function Vu(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(o0())e.flags|=8192;else throw Us=Po,ih}else e.flags&=-16777217}function vg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!C0(t))if(o0())e.flags|=8192;else throw Us=Po,ih}function so(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cv():536870912,e.lanes|=t,Yi|=t)}function xr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Nx(e,t,n){var a=t.pendingProps;switch(nh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(ot),zi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ni(t)?ca(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ku())),Ye(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ca(t),i!==null?(Ye(t),vg(t,i)):(Ye(t),Vu(t,s,null,a,n))):i?i!==e.memoizedState?(ca(t),Ye(t),vg(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ca(t),Ye(t),Vu(t,s,e,a,n)),null;case 27:if(Io(t),n=Pa.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return Ye(t),null}e=na.current,ni(t)?Km(t):(e=N0(s,a,n),t.stateNode=e,ca(t))}return Ye(t),null;case 5:if(Io(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(!a){if(t.stateNode===null)throw Error($(166));return Ye(t),null}if(i=na.current,ni(t))Km(t);else{var r=dc(Pa.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[Et]=t,i[Wt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ot(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ca(t)}}return Ye(t),Vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ca(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(e=Pa.current,ni(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Tt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Et]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||E0(e.nodeValue,n)),e||ls(t,!0)}else e=dc(e).createTextNode(a),e[Et]=t,t.stateNode=e}return Ye(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ni(t),n!==null){if(e===null){if(!a)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Et]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else n=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ln(t),t):(ln(t),null);if(t.flags&128)throw Error($(558))}return Ye(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ni(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Et]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else s=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(ln(t),t):(ln(t),null)}return ln(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),so(t,t.updateQueue),Ye(t),null);case 4:return zi(),e===null&&Ah(t.stateNode.containerInfo),Ye(t),null;case 10:return _a(t.type),Ye(t),null;case 19:if(wt(et),a=t.memoizedState,a===null)return Ye(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)xr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Fo(e),i!==null){for(t.flags|=128,xr(a,!1),e=i.updateQueue,t.updateQueue=e,so(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Bv(n,e),n=n.sibling;return Be(et,et.current&1|2),ye&&ma(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&fn()>ic&&(t.flags|=128,s=!0,xr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Fo(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,so(t,e),xr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return Ye(t),null}else 2*fn()-a.renderingStartTime>ic&&n!==536870912&&(t.flags|=128,s=!0,xr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=fn(),e.sibling=null,n=et.current,Be(et,s?n&1|2:n&1),ye&&ma(t,a.treeForkCount),e):(Ye(t),null);case 22:case 23:return ln(t),lh(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&so(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&wt(ks),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(ot),Ye(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function Ax(e,t){switch(nh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(ot),zi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Io(t),null;case 31:if(t.memoizedState!==null){if(ln(t),t.alternate===null)throw Error($(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(et),null;case 4:return zi(),null;case 10:return _a(t.type),null;case 22:case 23:return ln(t),lh(),e!==null&&wt(ks),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(ot),null;case 25:return null;default:return null}}function Bp(e,t){switch(nh(t),t.tag){case 3:_a(ot),zi();break;case 26:case 27:case 5:Io(t);break;case 4:zi();break;case 31:t.memoizedState!==null&&ln(t);break;case 13:ln(t);break;case 19:wt(et);break;case 10:_a(t.type);break;case 22:case 23:ln(t),lh(),e!==null&&wt(ks);break;case 24:_a(ot)}}function Nl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==s)}}catch(l){De(t,t.return,l)}}function os(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var c=n,u=l;try{u()}catch(f){De(s,c,f)}}}a=a.next}while(a!==i)}}catch(f){De(t,t.return,f)}}function Hp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jv(t,n)}catch(a){De(e,e.return,a)}}}function qp(e,t,n){n.props=qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){De(e,t,a)}}function Yr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){De(e,t,s)}}function ta(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){De(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function Yp(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){De(e,e.return,s)}}function Iu(e,t,n){try{var a=e.stateNode;Px(a,e.type,n,t),a[Wt]=t}catch(s){De(e,e.return,s)}}function Vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(a!==4&&(a===27&&fs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zd(e,t,n),e=e.sibling;e!==null;)Zd(e,t,n),e=e.sibling}function sc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&fs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}function Ip(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ot(t,a,n),t[Et]=e,t[Wt]=n}catch(i){De(e,e.return,i)}}var ga=!1,lt=!1,Ku=!1,pg=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Dx(e,t){if(e=e.containerInfo,af=gc,e=Cv(e),Pf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,l=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=r+s),h!==i||a!==0&&h.nodeType!==3||(c=r+a),h.nodeType===3&&(r+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=r),m===i&&++f===a&&(c=r),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sf={focusedElem:e,selectionRange:n},gc=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var E=qs(n.type,s);e=a.getSnapshotBeforeUpdate(E,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){De(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Gp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:da(e,n),a&4&&Nl(5,n);break;case 1:if(da(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){De(n,n.return,r)}else{var s=qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){De(n,n.return,r)}}a&64&&Hp(n),a&512&&Yr(n,n.return);break;case 3:if(da(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jv(e,t)}catch(r){De(n,n.return,r)}}break;case 27:t===null&&a&4&&Ip(n);case 26:case 5:da(e,n),t===null&&a&4&&Yp(n),a&512&&Yr(n,n.return);break;case 12:da(e,n);break;case 31:da(e,n),a&4&&Qp(e,n);break;case 13:da(e,n),a&4&&Jp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Bx.bind(null,n),i1(e,n))));break;case 22:if(a=n.memoizedState!==null||ga,!a){t=t!==null&&t.memoizedState!==null||lt,s=ga;var i=lt;ga=a,(lt=t)&&!i?fa(e,n,(n.subtreeFlags&8772)!==0):da(e,n),ga=s,lt=i}break;case 30:break;default:da(e,n)}}function Kp(e){var t=e.alternate;t!==null&&(e.alternate=null,Kp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Jt=!1;function ua(e,t,n){for(n=n.child;n!==null;)Xp(e,t,n),n=n.sibling}function Xp(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 26:lt||ta(n,t),ua(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||ta(n,t);var a=Ke,s=Jt;fs(n.type)&&(Ke=n.stateNode,Jt=!1),ua(e,t,n),Kr(n.stateNode),Ke=a,Jt=s;break;case 5:lt||ta(n,t);case 6:if(a=Ke,s=Jt,Ke=null,ua(e,t,n),Ke=a,Jt=s,Ke!==null)if(Jt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(i){De(n,t,i)}else try{Ke.removeChild(n.stateNode)}catch(i){De(n,t,i)}break;case 18:Ke!==null&&(Jt?(e=Ke,Cg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ki(e)):Cg(Ke,n.stateNode));break;case 4:a=Ke,s=Jt,Ke=n.stateNode.containerInfo,Jt=!0,ua(e,t,n),Ke=a,Jt=s;break;case 0:case 11:case 14:case 15:os(2,n,t),lt||os(4,n,t),ua(e,t,n);break;case 1:lt||(ta(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&qp(n,t,a)),ua(e,t,n);break;case 21:ua(e,t,n);break;case 22:lt=(a=lt)||n.memoizedState!==null,ua(e,t,n),lt=a;break;default:ua(e,t,n)}}function Qp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ki(e)}catch(n){De(t,t.return,n)}}}function Jp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ki(e)}catch(n){De(t,t.return,n)}}function Cx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pg),t;default:throw Error($(435,e.tag))}}function io(e,t){var n=Cx(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Hx.bind(null,e,a);a.then(s,s)}})}function Xt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(fs(l.type)){Ke=l.stateNode,Jt=!1;break e}break;case 5:Ke=l.stateNode,Jt=!1;break e;case 3:case 4:Ke=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Ke===null)throw Error($(160));Xp(i,r,s),Ke=null,Jt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zp(t,e),t=t.sibling}var qn=null;function Zp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Qt(e),a&4&&(os(3,e,e.return),Nl(3,e),os(5,e,e.return));break;case 1:Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),a&64&&ga&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=qn;if(Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[El]||i[Et]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Ot(i,a,n),i[Et]=e,_t(i),a=i;break e;case"link":var r=Lg("link","href",s).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(a),Ot(i,a,n),s.head.appendChild(i);break;case"meta":if(r=Lg("meta","content",s).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}i=s.createElement(a),Ot(i,a,n),s.head.appendChild(i);break;default:throw Error($(468,a))}i[Et]=e,_t(i),a=i}e.stateNode=a}else Bg(s,e.type,e.stateNode);else e.stateNode=$g(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Bg(s,e.type,e.stateNode):$g(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),n!==null&&a&4&&Iu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xt(t,e),Qt(e),a&512&&(lt||n===null||ta(n,n.return)),e.flags&32){s=e.stateNode;try{Li(s,"")}catch(E){De(e,e.return,E)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Iu(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Ku=!0);break;case 6:if(Xt(t,e),Qt(e),a&4){if(e.stateNode===null)throw Error($(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(E){De(e,e.return,E)}}break;case 3:if(zo=null,s=qn,qn=fc(t.containerInfo),Xt(t,e),qn=s,Qt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ki(t.containerInfo)}catch(E){De(e,e.return,E)}Ku&&(Ku=!1,Pp(e));break;case 4:a=qn,qn=fc(e.stateNode.containerInfo),Xt(t,e),Qt(e),qn=a;break;case 12:Xt(t,e),Qt(e);break;case 31:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,io(e,a)));break;case 13:Xt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vc=fn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,io(e,a)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ga,f=lt;if(ga=u||s,lt=f||c,Xt(t,e),lt=f,ga=u,Qt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||ga||lt||js(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(i=c.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(E){De(c,c.return,E)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(E){De(c,c.return,E)}}}else if(t.tag===18){if(n===null){c=t;try{var y=c.stateNode;s?Rg(y,!0):Rg(c.stateNode,!1)}catch(E){De(c,c.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,io(e,n))));break;case 19:Xt(t,e),Qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,io(e,a)));break;case 30:break;case 21:break;default:Xt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Vp(a)){n=a;break}a=a.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var s=n.stateNode,i=Gu(e);sc(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&(Li(r,""),n.flags&=-33);var l=Gu(e);sc(e,l,r);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Gu(e);Zd(e,u,c);break;default:throw Error($(161))}}catch(f){De(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Pp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gp(e,t.alternate,t),t=t.sibling}function js(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:os(4,t,t.return),js(t);break;case 1:ta(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&qp(t,t.return,n),js(t);break;case 27:Kr(t.stateNode);case 26:case 5:ta(t,t.return),js(t);break;case 22:t.memoizedState===null&&js(t);break;case 30:js(t);break;default:js(t)}e=e.sibling}}function fa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:fa(s,i,n),Nl(4,i);break;case 1:if(fa(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){De(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)Qv(c[s],l)}catch(u){De(a,a.return,u)}}n&&r&64&&Hp(i),Yr(i,i.return);break;case 27:Ip(i);case 26:case 5:fa(s,i,n),n&&a===null&&r&4&&Yp(i),Yr(i,i.return);break;case 12:fa(s,i,n);break;case 31:fa(s,i,n),n&&r&4&&Qp(s,i);break;case 13:fa(s,i,n),n&&r&4&&Jp(s,i);break;case 22:i.memoizedState===null&&fa(s,i,n),Yr(i,i.return);break;case 30:break;default:fa(s,i,n)}t=t.sibling}}function xh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&jl(n))}function Eh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e))}function $n(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wp(e,t,n,a),t=t.sibling}function Wp(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$n(e,t,n,a),s&2048&&Nl(9,t);break;case 1:$n(e,t,n,a);break;case 3:$n(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e)));break;case 12:if(s&2048){$n(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){De(t,t.return,c)}}else $n(e,t,n,a);break;case 31:$n(e,t,n,a);break;case 13:$n(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?$n(e,t,n,a):Vr(e,t):i._visibility&2?$n(e,t,n,a):(i._visibility|=2,ui(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&xh(r,t);break;case 24:$n(e,t,n,a),s&2048&&Eh(t.alternate,t);break;default:$n(e,t,n,a)}}function ui(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=n,c=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ui(i,r,l,c,s),Nl(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?ui(i,r,l,c,s):Vr(i,r):(f._visibility|=2,ui(i,r,l,c,s)),s&&u&2048&&xh(r.alternate,r);break;case 24:ui(i,r,l,c,s),s&&u&2048&&Eh(r.alternate,r);break;default:ui(i,r,l,c,s)}t=t.sibling}}function Vr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Vr(n,a),s&2048&&xh(a.alternate,a);break;case 24:Vr(n,a),s&2048&&Eh(a.alternate,a);break;default:Vr(n,a)}t=t.sibling}}var Dr=8192;function ai(e,t,n){if(e.subtreeFlags&Dr)for(e=e.child;e!==null;)Fp(e,t,n),e=e.sibling}function Fp(e,t,n){switch(e.tag){case 26:ai(e,t,n),e.flags&Dr&&e.memoizedState!==null&&v1(n,qn,e.memoizedState,e.memoizedProps);break;case 5:ai(e,t,n);break;case 3:case 4:var a=qn;qn=fc(e.stateNode.containerInfo),ai(e,t,n),qn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Dr,Dr=16777216,ai(e,t,n),Dr=a):ai(e,t,n));break;default:ai(e,t,n)}}function e0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Er(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,n0(a,e)}e0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t0(e),e=e.sibling}function t0(e){switch(e.tag){case 0:case 11:case 15:Er(e),e.flags&2048&&os(9,e,e.return);break;case 3:Er(e);break;case 12:Er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ko(e)):Er(e);break;default:Er(e)}}function ko(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,n0(a,e)}e0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:os(8,t,t.return),ko(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ko(t));break;default:ko(t)}e=e.sibling}}function n0(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:os(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:jl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,pt=a;else e:for(n=e;pt!==null;){a=pt;var s=a.sibling,i=a.return;if(Kp(a),a===n){pt=null;break e}if(s!==null){s.return=i,pt=s;break e}pt=i}}}var Rx={getCacheForType:function(e){var t=jt(ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return jt(ot).controller.signal}},Mx=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,de=null,he=0,Ae=0,rn=null,Qa=!1,tr=!1,Th=!1,ja=0,Pe=0,cs=0,zs=0,jh=0,dn=0,Yi=0,Ir=null,Zt=null,Pd=!1,Vc=0,a0=0,ic=1/0,rc=null,ts=null,gt=0,ns=null,Vi=null,wa=0,Wd=0,Fd=null,s0=null,Gr=0,ef=null;function gn(){return Te&2&&he!==0?he&-he:F.T!==null?Nh():hv()}function i0(){if(dn===0)if(!(he&536870912)||ye){var e=Pl;Pl<<=1,!(Pl&3932160)&&(Pl=262144),dn=e}else dn=536870912;return e=vn.current,e!==null&&(e.flags|=32),dn}function Pt(e,t,n){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Ii(e,0),Ja(e,he,dn,!1)),xl(e,n),(!(Te&2)||e!==Ue)&&(e===Ue&&(!(Te&2)&&(zs|=n),Pe===4&&Ja(e,he,dn,!1)),sa(e))}function r0(e,t,n){if(Te&6)throw Error($(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Sl(e,t),s=a?zx(e,t):Xu(e,t,!0),i=a;do{if(s===0){tr&&!a&&Ja(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!kx(n)){s=Xu(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=Ir;var c=l.current.memoizedState.isDehydrated;if(c&&(Ii(l,r).flags|=256),r=Xu(l,r,!1),r!==2){if(Th&&!c){l.errorRecoveryDisabledLanes|=i,zs|=i,s=4;break e}i=Zt,Zt=s,i!==null&&(Zt===null?Zt=i:Zt.push.apply(Zt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){Ii(e,0),Ja(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Ja(a,t,dn,!Qa);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(s=Vc+300-fn(),10<s)){if(Ja(a,t,dn,!Qa),Rc(a,0,!0)!==0)break e;wa=t,a.timeoutHandle=j0(bg.bind(null,a,n,Zt,rc,Pd,t,dn,zs,Yi,Qa,i,"Throttled",-0,0),s);break e}bg(a,n,Zt,rc,Pd,t,dn,zs,Yi,Qa,i,null,-0,0)}}break}while(!0);sa(e)}function bg(e,t,n,a,s,i,r,l,c,u,f,h,m,y){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Fp(t,i,h);var E=(i&62914560)===i?Vc-fn():(i&4194048)===i?a0-fn():0;if(E=p1(h,E),E!==null){wa=i,e.cancelPendingCommit=E(wg.bind(null,e,t,i,n,a,s,r,l,c,f,h,null,m,y)),Ja(e,i,r,!u);return}}wg(e,t,i,n,a,s,r,l,c)}function kx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!yn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,n,a){t&=~jh,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-mn(s),r=1<<i;a[i]=-1,s&=~r}n!==0&&uv(e,n,t)}function Ic(){return Te&6?!0:(Al(0),!1)}function Oh(){if(de!==null){if(Ae===0)var e=de.return;else e=de,pa=Ks=null,fh(e),Ci=null,il=0,e=de;for(;e!==null;)Bp(e.alternate,e),e=e.return;de=null}}function Ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,e1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wa=0,Oh(),Ue=e,de=n=ba(e.current,null),he=t,Ae=0,rn=null,Qa=!1,tr=Sl(e,t),Th=!1,Yi=dn=jh=zs=cs=Pe=0,Zt=Ir=null,Pd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-mn(a),i=1<<s;t|=e[s],a&=~i}return ja=t,zc(),n}function l0(e,t){ae=null,F.H=ll,t===er||t===Lc?(t=Pm(),Ae=3):t===ih?(t=Pm(),Ae=4):Ae=t===wh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rn=t,de===null&&(Pe=1,nc(e,An(t,e.current)))}function o0(){var e=vn.current;return e===null?!0:(he&4194048)===he?Cn===null:(he&62914560)===he||he&536870912?e===Cn:!1}function c0(){var e=F.H;return F.H=ll,e===null?ll:e}function u0(){var e=F.A;return F.A=Rx,e}function lc(){Pe=4,Qa||(he&4194048)!==he&&vn.current!==null||(tr=!0),!(cs&134217727)&&!(zs&134217727)||Ue===null||Ja(Ue,he,dn,!1)}function Xu(e,t,n){var a=Te;Te|=2;var s=c0(),i=u0();(Ue!==e||he!==t)&&(rc=null,Ii(e,t)),t=!1;var r=Pe;e:do try{if(Ae!==0&&de!==null){var l=de,c=rn;switch(Ae){case 8:Oh(),r=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(t=!0);var u=Ae;if(Ae=0,rn=null,ji(e,l,c,u),n&&tr){r=0;break e}break;default:u=Ae,Ae=0,rn=null,ji(e,l,c,u)}}Ux(),r=Pe;break}catch(f){l0(e,f)}while(!0);return t&&e.shellSuspendCounter++,pa=Ks=null,Te=a,F.H=s,F.A=i,de===null&&(Ue=null,he=0,zc()),r}function Ux(){for(;de!==null;)d0(de)}function zx(e,t){var n=Te;Te|=2;var a=c0(),s=u0();Ue!==e||he!==t?(rc=null,ic=fn()+500,Ii(e,t)):tr=Sl(e,t);e:do try{if(Ae!==0&&de!==null){t=de;var i=rn;t:switch(Ae){case 1:Ae=0,rn=null,ji(e,t,i,1);break;case 2:case 9:if(Zm(i)){Ae=0,rn=null,_g(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),sa(e)},i.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Zm(i)?(Ae=0,rn=null,_g(t)):(Ae=0,rn=null,ji(e,t,i,7));break;case 5:var r=null;switch(de.tag){case 26:r=de.memoizedState;case 5:case 27:var l=de;if(r?C0(r):l.stateNode.complete){Ae=0,rn=null;var c=l.sibling;if(c!==null)de=c;else{var u=l.return;u!==null?(de=u,Gc(u)):de=null}break t}}Ae=0,rn=null,ji(e,t,i,5);break;case 6:Ae=0,rn=null,ji(e,t,i,6);break;case 8:Oh(),Pe=6;break e;default:throw Error($(462))}}$x();break}catch(f){l0(e,f)}while(!0);return pa=Ks=null,F.H=a,F.A=s,Te=n,de!==null?0:(Ue=null,he=0,zc(),Pe)}function $x(){for(;de!==null&&!rS();)d0(de)}function d0(e){var t=Lp(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?Gc(e):de=t}function _g(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hg(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=hg(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:fh(t);default:Bp(n,t),t=de=Bv(t,ja),t=Lp(n,t,ja)}e.memoizedProps=e.pendingProps,t===null?Gc(e):de=t}function ji(e,t,n,a){pa=Ks=null,fh(t),Ci=null,il=0;var s=t.return;try{if(Tx(e,s,t,n,he)){Pe=1,nc(e,An(n,e.current)),de=null;return}}catch(i){if(s!==null)throw de=s,i;Pe=1,nc(e,An(n,e.current)),de=null;return}t.flags&32768?(ye||a===1?e=!0:tr||he&536870912?e=!1:(Qa=e=!0,(a===2||a===9||a===3||a===6)&&(a=vn.current,a!==null&&a.tag===13&&(a.flags|=16384))),f0(t,e)):Gc(t)}function Gc(e){var t=e;do{if(t.flags&32768){f0(t,Qa);return}e=t.return;var n=Nx(t.alternate,t,ja);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Pe===0&&(Pe=5)}function f0(e,t){do{var n=Ax(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);Pe=6,de=null}function wg(e,t,n,a,s,i,r,l,c){e.cancelPendingCommit=null;do Kc();while(gt!==0);if(Te&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(i=t.lanes|t.childLanes,i|=Wf,yS(e,n,i,r,l,c),e===Ue&&(de=Ue=null,he=0),Vi=t,ns=e,wa=n,Wd=i,Fd=s,s0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qx(Go,function(){return v0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=F.T,F.T=null,s=je.p,je.p=2,r=Te,Te|=4;try{Dx(e,t,n)}finally{Te=r,je.p=s,F.T=a}}gt=1,h0(),m0(),g0()}}function h0(){if(gt===1){gt=0;var e=ns,t=Vi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var a=je.p;je.p=2;var s=Te;Te|=4;try{Zp(t,e);var i=sf,r=Cv(e.containerInfo),l=i.focusedElem,c=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&Dv(l.ownerDocument.documentElement,l)){if(c!==null&&Pf(l)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var y=m.getSelection(),E=l.textContent.length,x=Math.min(c.start,E),O=c.end===void 0?x:Math.min(c.end,E);!y.extend&&x>O&&(r=O,O=x,x=r);var b=Vm(l,x),g=Vm(l,O);if(b&&g&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==g.node||y.focusOffset!==g.offset)){var p=h.createRange();p.setStart(b.node,b.offset),y.removeAllRanges(),x>O?(y.addRange(p),y.extend(g.node,g.offset)):(p.setEnd(g.node,g.offset),y.addRange(p))}}}}for(h=[],y=l;y=y.parentNode;)y.nodeType===1&&h.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var S=h[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}gc=!!af,sf=af=null}finally{Te=s,je.p=a,F.T=n}}e.current=t,gt=2}}function m0(){if(gt===2){gt=0;var e=ns,t=Vi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var a=je.p;je.p=2;var s=Te;Te|=4;try{Gp(e,t.alternate,t)}finally{Te=s,je.p=a,F.T=n}}gt=3}}function g0(){if(gt===4||gt===3){gt=0,lS();var e=ns,t=Vi,n=wa,a=s0;t.subtreeFlags&10256||t.flags&10256?gt=5:(gt=0,Vi=ns=null,y0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ts=null),If(n),t=t.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,s=je.p,je.p=2,F.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];i(l.value,{componentStack:l.stack})}}finally{F.T=t,je.p=s}}wa&3&&Kc(),sa(e),s=e.pendingLanes,n&261930&&s&42?e===ef?Gr++:(Gr=0,ef=e):Gr=0,Al(0)}}function y0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jl(t)))}function Kc(){return h0(),m0(),g0(),v0()}function v0(){if(gt!==5)return!1;var e=ns,t=Wd;Wd=0;var n=If(wa),a=F.T,s=je.p;try{je.p=32>n?32:n,F.T=null,n=Fd,Fd=null;var i=ns,r=wa;if(gt=0,Vi=ns=null,wa=0,Te&6)throw Error($(331));var l=Te;if(Te|=4,t0(i.current),Wp(i,i.current,r,n),Te=l,Al(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(wl,i)}catch{}return!0}finally{je.p=s,F.T=a,y0(e,t)}}function Sg(e,t,n){t=An(n,t),t=Xd(e.stateNode,t,2),e=es(e,t,2),e!==null&&(xl(e,2),sa(e))}function De(e,t,n){if(e.tag===3)Sg(e,e,n);else for(;t!==null;){if(t.tag===3){Sg(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ts===null||!ts.has(a))){e=An(n,e),n=Rp(2),a=es(t,n,2),a!==null&&(Mp(n,a,t,e),xl(a,2),sa(a));break}}t=t.return}}function Qu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Mx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Th=!0,s.add(n),e=Lx.bind(null,e,t,n),t.then(e,e))}function Lx(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(he&n)===n&&(Pe===4||Pe===3&&(he&62914560)===he&&300>fn()-Vc?!(Te&2)&&Ii(e,0):jh|=n,Yi===he&&(Yi=0)),sa(e)}function p0(e,t){t===0&&(t=cv()),e=Gs(e,t),e!==null&&(xl(e,t),sa(e))}function Bx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p0(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error($(314))}a!==null&&a.delete(t),p0(e,n)}function qx(e,t){return Yf(e,t)}var oc=null,di=null,tf=!1,cc=!1,Ju=!1,Za=0;function sa(e){e!==di&&e.next===null&&(di===null?oc=di=e:di=di.next=e),cc=!0,tf||(tf=!0,Vx())}function Al(e,t){if(!Ju&&cc){Ju=!0;do for(var n=!1,a=oc;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-mn(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,xg(a,i))}else i=he,i=Rc(a,a===Ue?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Sl(a,i)||(n=!0,xg(a,i));a=a.next}while(n);Ju=!1}}function Yx(){b0()}function b0(){cc=tf=!1;var e=0;Za!==0&&Fx()&&(e=Za);for(var t=fn(),n=null,a=oc;a!==null;){var s=a.next,i=_0(a,t);i===0?(a.next=null,n===null?oc=s:n.next=s,s===null&&(di=n)):(n=a,(e!==0||i&3)&&(cc=!0)),a=s}gt!==0&&gt!==5||Al(e),Za!==0&&(Za=0)}function _0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-mn(i),l=1<<r,c=s[r];c===-1?(!(l&n)||l&a)&&(s[r]=gS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}if(t=Ue,n=he,n=Rc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&xu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Sl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&xu(a),If(n)){case 2:case 8:n=lv;break;case 32:n=Go;break;case 268435456:n=ov;break;default:n=Go}return a=w0.bind(null,e),n=Yf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&xu(a),e.callbackPriority=2,e.callbackNode=null,2}function w0(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Kc()&&e.callbackNode!==n)return null;var a=he;return a=Rc(e,e===Ue?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(r0(e,a,t),_0(e,fn()),e.callbackNode!=null&&e.callbackNode===n?w0.bind(null,e):null)}function xg(e,t){if(Kc())return null;r0(e,t,!0)}function Vx(){t1(function(){Te&6?Yf(rv,Yx):b0()})}function Nh(){if(Za===0){var e=Bi;e===0&&(e=Zl,Zl<<=1,!(Zl&261888)&&(Zl=256)),Za=e}return Za}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:To(""+e)}function Tg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ix(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=Eg((s[Wt]||null).action),r=a.submitter;r&&(t=(t=r[Wt]||null)?Eg(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new Mc("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Za!==0){var c=r?Tg(s,r):new FormData(s);Gd(n,{pending:!0,data:c,method:s.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=r?Tg(s,r):new FormData(s),Gd(n,{pending:!0,data:c,method:s.method,action:i},i,c))},currentTarget:s}]})}}for(var Zu=0;Zu<Md.length;Zu++){var Pu=Md[Zu],Gx=Pu.toLowerCase(),Kx=Pu[0].toUpperCase()+Pu.slice(1);Gn(Gx,"on"+Kx)}Gn(Mv,"onAnimationEnd");Gn(kv,"onAnimationIteration");Gn(Uv,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(ox,"onTransitionRun");Gn(cx,"onTransitionStart");Gn(ux,"onTransitionCancel");Gn(zv,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function S0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Xo(f)}s.currentTarget=null,i=c}else for(r=0;r<a.length;r++){if(l=a[r],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Xo(f)}s.currentTarget=null,i=c}}}}function ue(e,t){var n=t[Td];n===void 0&&(n=t[Td]=new Set);var a=e+"__bubble";n.has(a)||(x0(t,e,2,!1),n.add(a))}function Wu(e,t,n){var a=0;t&&(a|=4),x0(n,e,a,t)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Ah(e){if(!e[ro]){e[ro]=!0,mv.forEach(function(n){n!=="selectionchange"&&(Xx.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ro]||(t[ro]=!0,Wu("selectionchange",!1,t))}}function x0(e,t,n,a){switch(z0(t)){case 2:var s=w1;break;case 8:s=S1;break;default:s=Mh}n=s.bind(null,t,n,e),s=void 0,!Dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fu(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=a.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=vi(l),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){a=i=r;continue e}l=l.parentNode}}a=a.return}Sv(function(){var u=i,f=Xf(n),h=[];e:{var m=$v.get(e);if(m!==void 0){var y=Mc,E=e;switch(e){case"keypress":if(Oo(n)===0)break e;case"keydown":case"keyup":y=HS;break;case"focusin":E="focus",y=Nu;break;case"focusout":E="blur",y=Nu;break;case"beforeblur":case"afterblur":y=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VS;break;case Mv:case kv:case Uv:y=CS;break;case zv:y=GS;break;case"scroll":case"scrollend":y=jS;break;case"wheel":y=XS;break;case"copy":case"cut":case"paste":y=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Um;break;case"toggle":case"beforetoggle":y=JS}var x=(t&4)!==0,O=!x&&(e==="scroll"||e==="scrollend"),b=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,p;g!==null;){var S=g;if(p=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||p===null||b===null||(S=el(g,b),S!=null&&x.push(cl(g,S,p))),O)break;g=g.return}0<x.length&&(m=new y(m,E,null,n,f),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Ad&&(E=n.relatedTarget||n.fromElement)&&(vi(E)||E[Pi]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?vi(E):null,E!==null&&(O=_l(E),x=E.tag,E!==O||x!==5&&x!==27&&x!==6)&&(E=null)):(y=null,E=u),y!==E)){if(x=Mm,S="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Um,S="onPointerLeave",b="onPointerEnter",g="pointer"),O=y==null?m:Nr(y),p=E==null?m:Nr(E),m=new x(S,g+"leave",y,n,f),m.target=O,m.relatedTarget=p,S=null,vi(f)===u&&(x=new x(b,g+"enter",E,n,f),x.target=p,x.relatedTarget=O,S=x),O=S,y&&E)t:{for(x=Qx,b=y,g=E,p=0,S=b;S;S=x(S))p++;S=0;for(var T=g;T;T=x(T))S++;for(;0<p-S;)b=x(b),p--;for(;0<S-p;)g=x(g),S--;for(;p--;){if(b===g||g!==null&&b===g.alternate){x=b;break t}b=x(b),g=x(g)}x=null}else x=null;y!==null&&jg(h,m,y,x,!1),E!==null&&O!==null&&jg(h,O,E,x,!0)}}e:{if(m=u?Nr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var A=Bm;else if(Lm(m))if(Nv)A=ix;else{A=ax;var j=nx}else y=m.nodeName,!y||y.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Kf(u.elementType)&&(A=Bm):A=sx;if(A&&(A=A(e,u))){Ov(h,A,n,f);break e}j&&j(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Nd(m,"number",m.value)}switch(j=u?Nr(u):window,e){case"focusin":(Lm(j)||j.contentEditable==="true")&&(_i=j,Cd=u,zr=null);break;case"focusout":zr=Cd=_i=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Im(h,n,f);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":Im(h,n,f)}var M;if(Zf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else bi?Tv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ev&&n.locale!=="ko"&&(bi||k!=="onCompositionStart"?k==="onCompositionEnd"&&bi&&(M=xv()):(Xa=f,Qf="value"in Xa?Xa.value:Xa.textContent,bi=!0)),j=uc(u,k),0<j.length&&(k=new km(k,e,null,n,f),h.push({event:k,listeners:j}),M?k.data=M:(M=jv(n),M!==null&&(k.data=M)))),(M=PS?WS(e,n):FS(e,n))&&(k=uc(u,"onBeforeInput"),0<k.length&&(j=new km("onBeforeInput","beforeinput",null,n,f),h.push({event:j,listeners:k}),j.data=M)),Ix(h,e,u,n,f)}S0(h,t)})}function cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uc(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=el(e,n),s!=null&&a.unshift(cl(e,s,i)),s=el(e,t),s!=null&&a.push(cl(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Qx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,n,a,s){for(var i=t._reactName,r=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,s?(u=el(n,i),u!=null&&r.unshift(cl(n,u,c))):s||(u=el(n,i),u!=null&&r.push(cl(n,u,c)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Jx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Og(e){return(typeof e=="string"?e:""+e).replace(Jx,`
`).replace(Zx,"")}function E0(e,t){return t=Og(t),Og(e)===t}function Re(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Li(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Li(e,""+a);break;case"className":Fl(e,"class",a);break;case"tabIndex":Fl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(e,n,a);break;case"style":wv(e,a,i);break;case"data":if(t!=="object"){Fl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=To(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Re(e,t,"name",s.name,s,null),Re(e,t,"formEncType",s.formEncType,s,null),Re(e,t,"formMethod",s.formMethod,s,null),Re(e,t,"formTarget",s.formTarget,s,null)):(Re(e,t,"encType",s.encType,s,null),Re(e,t,"method",s.method,s,null),Re(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=To(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=va);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=To(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Eo(e,"popover",a);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Eo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ES.get(n)||n,Eo(e,n,a))}}function nf(e,t,n,a,s,i){switch(n){case"style":wv(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error($(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Li(e,a):(typeof a=="number"||typeof a=="bigint")&&Li(e,""+a);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[Wt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Eo(e,n,a)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Re(e,t,i,r,n,null)}}s&&Re(e,t,"srcSet",n.srcSet,n,null),a&&Re(e,t,"src",n.src,n,null);return;case"input":ue("invalid",e);var l=i=r=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":s=f;break;case"type":r=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Re(e,t,a,f,n,null)}}pv(e,i,l,c,u,r,s,!1);return;case"select":ue("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Re(e,t,s,l,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Ni(e,!!a,t,!1):n!=null&&Ni(e,!!a,n,!0);return;case"textarea":ue("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:Re(e,t,r,l,n,null)}_v(e,a,s,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Re(e,t,c,a,n,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(a=0;a<ol.length;a++)ue(ol[a],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Re(e,t,u,a,n,null)}return;default:if(Kf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&nf(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Re(e,t,l,a,n,null))}function Px(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,c=null,u=null,f=null;for(y in n){var h=n[y];if(n.hasOwnProperty(y)&&h!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(y)||Re(e,t,y,null,a,h)}}for(var m in a){var y=a[m];if(h=n[m],a.hasOwnProperty(m)&&(y!=null||h!=null))switch(m){case"type":i=y;break;case"name":s=y;break;case"checked":u=y;break;case"defaultChecked":f=y;break;case"value":r=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error($(137,t));break;default:y!==h&&Re(e,t,m,y,a,h)}}Od(e,r,l,c,u,f,i,s);return;case"select":y=r=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":y=c;default:a.hasOwnProperty(i)||Re(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=n[s],a.hasOwnProperty(s)&&(i!=null||c!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==c&&Re(e,t,s,i,a,c)}t=l,n=r,a=y,m!=null?Ni(e,!!n,m,!1):!!a!=!!n&&(t!=null?Ni(e,!!n,t,!0):Ni(e,!!n,n?[]:"",!1));return;case"textarea":y=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Re(e,t,l,null,a,s)}for(r in a)if(s=a[r],i=n[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":m=s;break;case"defaultValue":y=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($(91));break;default:s!==i&&Re(e,t,r,s,a,i)}bv(e,m,y);return;case"option":for(var E in n)if(m=n[E],n.hasOwnProperty(E)&&m!=null&&!a.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:Re(e,t,E,null,a,m)}for(c in a)if(m=a[c],y=n[c],a.hasOwnProperty(c)&&m!==y&&(m!=null||y!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Re(e,t,c,m,a,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x)&&Re(e,t,x,null,a,m);for(u in a)if(m=a[u],y=n[u],a.hasOwnProperty(u)&&m!==y&&(m!=null||y!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,t));break;default:Re(e,t,u,m,a,y)}return;default:if(Kf(t)){for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!==void 0&&!a.hasOwnProperty(O)&&nf(e,t,O,void 0,a,m);for(f in a)m=a[f],y=n[f],!a.hasOwnProperty(f)||m===y||m===void 0&&y===void 0||nf(e,t,f,m,a,y);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Re(e,t,b,null,a,m);for(h in a)m=a[h],y=n[h],!a.hasOwnProperty(h)||m===y||m==null&&y==null||Re(e,t,h,m,a,y)}function Ng(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&Ng(r)){for(r=0,l=s.responseEnd,a+=1;a<n.length;a++){var c=n[a],u=c.startTime;if(u>l)break;var f=c.transferSize,h=c.initiatorType;f&&Ng(h)&&(c=c.responseEnd,r+=f*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var af=null,sf=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Ag(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function rf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ed=null;function Fx(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(e){return Dg.resolve(null).then(e).catch(n1)}:j0;function n1(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function Cg(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Ki(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Kr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Kr(n);for(var i=n.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[El]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Kr(e.ownerDocument.body);n=s}while(n);Ki(t)}function Rg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lf(n),Gf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function a1(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[El])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rn(e.nextSibling),e===null)break}return null}function s1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rn(e.nextSibling),e===null))return null;return e}function O0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rn(e.nextSibling),e===null))return null;return e}function of(e){return e.data==="$?"||e.data==="$~"}function cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function i1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uf=null;function Mg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function N0(e,t,n){switch(t=dc(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function Kr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gf(e)}var Mn=new Map,Ug=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=je.d;je.d={f:r1,r:l1,D:o1,C:c1,L:u1,m:d1,X:h1,S:f1,M:m1};function r1(){var e=Oa.f(),t=Ic();return e||t}function l1(e){var t=Wi(e);t!==null&&t.tag===5&&t.type==="form"?wp(t):Oa.r(e)}var nr=typeof document>"u"?null:document;function A0(e,t,n){var a=nr;if(a&&typeof t=="string"&&t){var s=Nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Ug.has(s)||(Ug.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Ot(t,"link",e),_t(t),a.head.appendChild(t)))}}function o1(e){Oa.D(e),A0("dns-prefetch",e,null)}function c1(e,t){Oa.C(e,t),A0("preconnect",e,t)}function u1(e,t,n){Oa.L(e,t,n);var a=nr;if(a&&e&&t){var s='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Nn(n.imageSizes)+'"]')):s+='[href="'+Nn(e)+'"]';var i=s;switch(t){case"style":i=Gi(e);break;case"script":i=ar(e)}Mn.has(i)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Dl(i))||t==="script"&&a.querySelector(Cl(i))||(t=a.createElement("link"),Ot(t,"link",e),_t(t),a.head.appendChild(t)))}}function d1(e,t){Oa.m(e,t);var n=nr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Nn(a)+'"][href="'+Nn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ar(e)}if(!Mn.has(i)&&(e=Ge({rel:"modulepreload",href:e},t),Mn.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cl(i)))return}a=n.createElement("link"),Ot(a,"link",e),_t(a),n.head.appendChild(a)}}}function f1(e,t,n){Oa.S(e,t,n);var a=nr;if(a&&e){var s=Oi(a).hoistableStyles,i=Gi(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Dl(i)))l.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(i))&&Dh(e,n);var c=r=a.createElement("link");_t(c),Ot(c,"link",e),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Uo(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function h1(e,t){Oa.X(e,t);var n=nr;if(n&&e){var a=Oi(n).hoistableScripts,s=ar(e),i=a.get(s);i||(i=n.querySelector(Cl(s)),i||(e=Ge({src:e,async:!0},t),(t=Mn.get(s))&&Ch(e,t),i=n.createElement("script"),_t(i),Ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function m1(e,t){Oa.M(e,t);var n=nr;if(n&&e){var a=Oi(n).hoistableScripts,s=ar(e),i=a.get(s);i||(i=n.querySelector(Cl(s)),i||(e=Ge({src:e,async:!0,type:"module"},t),(t=Mn.get(s))&&Ch(e,t),i=n.createElement("script"),_t(i),Ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function zg(e,t,n,a){var s=(s=Pa.current)?fc(s):null;if(!s)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Gi(n.href),n=Oi(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Gi(n.href);var i=Oi(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Dl(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),i||g1(s,e,n,r.state))),t&&a===null)throw Error($(528,""));return r}if(t&&a!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ar(n),n=Oi(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function Gi(e){return'href="'+Nn(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function D0(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ot(t,"link",n),_t(t),e.head.appendChild(t))}function ar(e){return'[src="'+Nn(e)+'"]'}function Cl(e){return"script[async]"+e}function $g(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(a)return t.instance=a,_t(a),a;var s=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),_t(a),Ot(a,"style",s),Uo(a,n.precedence,e),t.instance=a;case"stylesheet":s=Gi(n.href);var i=e.querySelector(Dl(s));if(i)return t.state.loading|=4,t.instance=i,_t(i),i;a=D0(n),(s=Mn.get(s))&&Dh(a,s),i=(e.ownerDocument||e).createElement("link"),_t(i);var r=i;return r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),Ot(i,"link",a),t.state.loading|=4,Uo(i,n.precedence,e),t.instance=i;case"script":return i=ar(n.src),(s=e.querySelector(Cl(i)))?(t.instance=s,_t(s),s):(a=n,(s=Mn.get(i))&&(a=Ge({},n),Ch(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),_t(s),Ot(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Uo(a,n.precedence,e));return t.instance}function Uo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Dh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ch(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zo=null;function Lg(e,t,n){if(zo===null){var a=new Map,s=zo=new Map;s.set(n,a)}else s=zo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[El]||i[Et]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(i):a.set(r,[i])}}return a}function Bg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function y1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function C0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function v1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Gi(a.href),i=t.querySelector(Dl(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=hc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,_t(i);return}i=t.ownerDocument||t,a=D0(a),(s=Mn.get(s))&&Dh(a,s),i=i.createElement("link"),_t(i);var r=i;r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),Ot(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=hc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var td=0;function p1(e,t){return e.stylesheets&&e.count===0&&$o(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&$o(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&td===0&&(td=62500*Wx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$o(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>td?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function $o(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,t.forEach(b1,e),mc=null,hc.call(e))}function b1(e,t){if(!(t.state.loading&4)){var n=mc.get(e);if(n)var a=n.get(null);else{n=new Map,mc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,s),n.set(r,s),this.count++,a=hc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ul={$$typeof:ya,Provider:null,Consumer:null,_currentValue:Rs,_currentValue2:Rs,_threadCount:0};function _1(e,t,n,a,s,i,r,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.hiddenUpdates=Eu(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function R0(e,t,n,a,s,i,r,l,c,u,f,h){return e=new _1(e,t,n,r,c,u,f,h,l),t=1,i===!0&&(t|=24),i=on(3,null,null,t),e.current=i,i.stateNode=e,t=ah(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},rh(i),e}function M0(e){return e?(e=xi,e):xi}function k0(e,t,n,a,s,i){s=M0(s),a.context===null?a.context=s:a.pendingContext=s,a=Fa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=es(e,a,t),n!==null&&(Pt(n,e,t),Lr(n,e,t))}function Hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rh(e,t){Hg(e,t),(e=e.alternate)&&Hg(e,t)}function U0(e){if(e.tag===13||e.tag===31){var t=Gs(e,67108864);t!==null&&Pt(t,e,67108864),Rh(e,67108864)}}function qg(e){if(e.tag===13||e.tag===31){var t=gn();t=Vf(t);var n=Gs(e,t);n!==null&&Pt(n,e,t),Rh(e,t)}}var gc=!0;function w1(e,t,n,a){var s=F.T;F.T=null;var i=je.p;try{je.p=2,Mh(e,t,n,a)}finally{je.p=i,F.T=s}}function S1(e,t,n,a){var s=F.T;F.T=null;var i=je.p;try{je.p=8,Mh(e,t,n,a)}finally{je.p=i,F.T=s}}function Mh(e,t,n,a){if(gc){var s=df(a);if(s===null)Fu(e,t,a,yc,n),Yg(e,a);else if(E1(s,e,t,n,a))a.stopPropagation();else if(Yg(e,a),t&4&&-1<x1.indexOf(e)){for(;s!==null;){var i=Wi(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Es(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var c=1<<31-mn(r);l.entanglements[1]|=c,r&=~c}sa(i),!(Te&6)&&(ic=fn()+500,Al(0))}}break;case 31:case 13:l=Gs(i,2),l!==null&&Pt(l,i,2),Ic(),Rh(i,2)}if(i=df(a),i===null&&Fu(e,t,a,yc,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Fu(e,t,a,null,n)}}function df(e){return e=Xf(e),kh(e)}var yc=null;function kh(e){if(yc=null,e=vi(e),e!==null){var t=_l(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=tv(t),e!==null)return e;e=null}else if(n===31){if(e=nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yc=e,null}function z0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oS()){case rv:return 2;case lv:return 8;case Go:case cS:return 32;case ov:return 268435456;default:return 32}default:return 32}}var ff=!1,as=null,ss=null,is=null,dl=new Map,fl=new Map,Ia=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(t.pointerId)}}function Tr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wi(t),t!==null&&U0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E1(e,t,n,a,s){switch(t){case"focusin":return as=Tr(as,e,t,n,a,s),!0;case"dragenter":return ss=Tr(ss,e,t,n,a,s),!0;case"mouseover":return is=Tr(is,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return dl.set(i,Tr(dl.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,fl.set(i,Tr(fl.get(i)||null,e,t,n,a,s)),!0}return!1}function $0(e){var t=vi(e.target);if(t!==null){var n=_l(t);if(n!==null){if(t=n.tag,t===13){if(t=tv(n),t!==null){e.blockedOn=t,jm(e.priority,function(){qg(n)});return}}else if(t===31){if(t=nv(n),t!==null){e.blockedOn=t,jm(e.priority,function(){qg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=df(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ad=a,n.target.dispatchEvent(a),Ad=null}else return t=Wi(n),t!==null&&U0(t),e.blockedOn=n,!1;t.shift()}return!0}function Vg(e,t,n){Lo(e)&&n.delete(t)}function T1(){ff=!1,as!==null&&Lo(as)&&(as=null),ss!==null&&Lo(ss)&&(ss=null),is!==null&&Lo(is)&&(is=null),dl.forEach(Vg),fl.forEach(Vg)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,ff||(ff=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,T1)))}var oo=null;function Ig(e){oo!==e&&(oo=e,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){oo===e&&(oo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(kh(a||n)===null)continue;break}var i=Wi(n);i!==null&&(e.splice(t,3),t-=3,Gd(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Ki(e){function t(c){return lo(c,e)}as!==null&&lo(as,e),ss!==null&&lo(ss,e),is!==null&&lo(is,e),dl.forEach(t),fl.forEach(t);for(var n=0;n<Ia.length;n++){var a=Ia[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)$0(n),n.blockedOn===null&&Ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],r=s[Wt]||null;if(typeof i=="function")r||Ig(n);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Wt]||null)l=r.formAction;else if(kh(s)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Ig(n)}}}function L0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Uh(e){this._internalRoot=e}Xc.prototype.render=Uh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,a=gn();k0(n,a,e,t,null,null)};Xc.prototype.unmount=Uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;k0(e.current,2,null,e,null,null),Ic(),t[Pi]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=hv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ia.length&&t!==0&&t<Ia[n].priority;n++);Ia.splice(n,0,e),n===0&&$0(e)}};var Gg=Fy.version;if(Gg!=="19.2.0")throw Error($(527,Gg,"19.2.0"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=tS(t),e=e!==null?av(e):null,e=e===null?null:e.stateNode,e};var j1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{wl=co.inject(j1),hn=co}catch{}}Dc.createRoot=function(e,t){if(!ev(e))throw Error($(299));var n=!1,a="",s=Ap,i=Dp,r=Cp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=R0(e,1,!1,null,null,n,a,null,s,i,r,L0),e[Pi]=t.current,Ah(e),new Uh(t)};Dc.hydrateRoot=function(e,t,n){if(!ev(e))throw Error($(299));var a=!1,s="",i=Ap,r=Dp,l=Cp,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=R0(e,1,!0,t,n??null,a,s,c,i,r,l,L0),t.context=M0(null),n=t.current,a=gn(),a=Vf(a),s=Fa(a),s.callback=null,es(n,s,a),n=a,t.current.lanes=n,xl(t,n),sa(t),e[Pi]=t.current,Ah(e),new Xc(t)};Dc.version="19.2.0";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(e){console.error(e)}}B0(),Xy.exports=Dc;var O1=Xy.exports,hf=function(e,t){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},hf(e,t)};function H0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vc=function(){return vc=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vc.apply(this,arguments)};function sr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function q0(e,t,n,a){var s=arguments.length,i=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Y0(e,t){return function(n,a){t(n,a,e)}}function V0(e,t,n,a,s,i){function r(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),h,m=!1,y=n.length-1;y>=0;y--){var E={};for(var x in a)E[x]=x==="access"?{}:a[x];for(var x in a.access)E.access[x]=a.access[x];E.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(b||null))};var O=(0,n[y])(l==="accessor"?{get:f.get,set:f.set}:f[c],E);if(l==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(h=r(O.get))&&(f.get=h),(h=r(O.set))&&(f.set=h),(h=r(O.init))&&s.unshift(h)}else(h=r(O))&&(l==="field"?s.unshift(h):f[c]=h)}u&&Object.defineProperty(u,a.name,f),m=!0}function I0(e,t,n){for(var a=arguments.length>2,s=0;s<t.length;s++)n=a?t[s].call(e,n):t[s].call(e);return a?n:void 0}function G0(e){return typeof e=="symbol"?e:"".concat(e)}function K0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function X0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Q(e,t,n,a){function s(i){return i instanceof n?i:new n(function(r){r(i)})}return new(n||(n=Promise))(function(i,r){function l(f){try{u(a.next(f))}catch(h){r(h)}}function c(f){try{u(a.throw(f))}catch(h){r(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}function Q0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return c([u,f])}}function c(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Qc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function J0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Qc(t,e,n)}function pc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function Z0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zh(arguments[t]));return e}function P0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)a[s]=i[r];return a}function W0(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Xi(e){return this instanceof Xi?(this.v=e,this):new Xi(e)}function F0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(y){return function(E){return Promise.resolve(E).then(y,h)}}function l(y,E){a[y]&&(s[y]=function(x){return new Promise(function(O,b){i.push([y,x,O,b])>1||c(y,x)})},E&&(s[y]=E(s[y])))}function c(y,E){try{u(a[y](E))}catch(x){m(i[0][3],x)}}function u(y){y.value instanceof Xi?Promise.resolve(y.value.v).then(f,h):m(i[0][2],y)}function f(y){c("next",y)}function h(y){c("throw",y)}function m(y,E){y(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function eb(e){var t,n;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,i){t[s]=e[s]?function(r){return(n=!n)?{value:Xi(e[s](r)),done:!1}:i?i(r):r}:i}}function tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pc=="function"?pc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(r){return new Promise(function(l,c){r=e[i](r),s(l,c,r.done,r.value)})}}function s(i,r,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},r)}}function nb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var N1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},mf=function(e){return mf=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},mf(e)};function ab(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=mf(e),a=0;a<n.length;a++)n[a]!=="default"&&Qc(t,e,n[a]);return N1(t,e),t}function sb(e){return e&&e.__esModule?e:{default:e}}function ib(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function rb(e,t,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function lb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ob(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var A1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function cb(e){function t(i){e.error=e.hasError?new A1(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ub(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,r){return a?t?".jsx":".js":s&&(!i||!r)?n:s+i+"."+r.toLowerCase()+"js"}):e}const D1={__extends:H0,__assign:vc,__rest:sr,__decorate:q0,__param:Y0,__esDecorate:V0,__runInitializers:I0,__propKey:G0,__setFunctionName:K0,__metadata:X0,__awaiter:Q,__generator:Q0,__createBinding:Qc,__exportStar:J0,__values:pc,__read:zh,__spread:Z0,__spreadArrays:P0,__spreadArray:W0,__await:Xi,__asyncGenerator:F0,__asyncDelegator:eb,__asyncValues:tb,__makeTemplateObject:nb,__importStar:ab,__importDefault:sb,__classPrivateFieldGet:ib,__classPrivateFieldSet:rb,__classPrivateFieldIn:lb,__addDisposableResource:ob,__disposeResources:cb,__rewriteRelativeImportExtension:ub},C1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ob,get __assign(){return vc},__asyncDelegator:eb,__asyncGenerator:F0,__asyncValues:tb,__await:Xi,__awaiter:Q,__classPrivateFieldGet:ib,__classPrivateFieldIn:lb,__classPrivateFieldSet:rb,__createBinding:Qc,__decorate:q0,__disposeResources:cb,__esDecorate:V0,__exportStar:J0,__extends:H0,__generator:Q0,__importDefault:sb,__importStar:ab,__makeTemplateObject:nb,__metadata:X0,__param:Y0,__propKey:G0,__read:zh,__rest:sr,__rewriteRelativeImportExtension:ub,__runInitializers:I0,__setFunctionName:K0,__spread:Z0,__spreadArray:W0,__spreadArrays:P0,__values:pc,default:D1},Symbol.toStringTag,{value:"Module"})),R1="modulepreload",M1=function(e){return"/todo-note/"+e},Kg={},ir=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=M1(c),c in Kg)return;Kg[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":R1,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},k1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class $h extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Xg extends $h{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qg extends $h{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jg extends $h{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gf||(gf={}));class U1{constructor(t,{headers:n={},customFetch:a,region:s=gf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=k1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Q(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:r,body:l,signal:c}=a;let u={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const y=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new Xg(b)}),E=y.headers.get("x-relay-error");if(E&&E==="true")throw new Qg(y);if(!y.ok)throw new Jg(y);let x=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return x==="application/json"?O=yield y.json():x==="application/octet-stream"||x==="application/pdf"?O=yield y.blob():x==="text/event-stream"?O=y:x==="multipart/form-data"?O=yield y.formData():O=yield y.text(),{data:O,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Xg(i)}:{data:null,error:i,response:i instanceof Jg||i instanceof Qg?i.context:void 0}}})}}var Lt={};const rr=$y(C1);var uo={},fo={},ho={},mo={},go={},z1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qi=z1();const $1=Qi.fetch,db=Qi.fetch.bind(Qi),fb=Qi.Headers,L1=Qi.Request,B1=Qi.Response,Xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:fb,Request:L1,Response:B1,default:db,fetch:$1},Symbol.toStringTag,{value:"Module"})),H1=$y(Xs);var yo={},Zg;function hb(){if(Zg)return yo;Zg=1,Object.defineProperty(yo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return yo.default=e,yo}var Pg;function mb(){if(Pg)return go;Pg=1,Object.defineProperty(go,"__esModule",{value:!0});const e=rr,t=e.__importDefault(H1),n=e.__importDefault(hb());class a{constructor(i){var r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,m,y;let E=null,x=null,O=null,b=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=A:x=JSON.parse(A))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),T=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&T&&T.length>1&&(O=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(E={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,O=null,b=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await u.text();try{E=JSON.parse(S),Array.isArray(E)&&u.status===404&&(x=[],E=null,b=200,g="OK")}catch{u.status===404&&S===""?(b=204,g="No Content"):E={message:S}}if(E&&this.isMaybeSingle&&(!((y=E==null?void 0:E.details)===null||y===void 0)&&y.includes("0 rows"))&&(E=null,b=200,g="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:x,count:O,status:b,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,h,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,r)}returns(){return this}overrideTypes(){return this}}return go.default=a,go}var Wg;function gb(){if(Wg)return mo;Wg=1,Object.defineProperty(mo,"__esModule",{value:!0});const t=rr.__importDefault(mb());class n extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return mo.default=n,mo}var Fg;function Lh(){if(Fg)return ho;Fg=1,Object.defineProperty(ho,"__esModule",{value:!0});const t=rr.__importDefault(gb()),n=new RegExp("[,()]");class a extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${f}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return ho.default=a,ho}var ey;function yb(){if(ey)return fo;ey=1,Object.defineProperty(fo,"__esModule",{value:!0});const t=rr.__importDefault(Lh());class n{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},c=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(h.length>0){const m=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return fo.default=n,fo}var ty;function q1(){if(ty)return uo;ty=1,Object.defineProperty(uo,"__esModule",{value:!0});const e=rr,t=e.__importDefault(yb()),n=e.__importDefault(Lh());class a{constructor(i,{headers:r={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:c=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let y;l||c?(h=l?"HEAD":"GET",Object.entries(r).filter(([x,O])=>O!==void 0).map(([x,O])=>[x,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([x,O])=>{m.searchParams.append(x,O)})):(h="POST",y=r);const E=new Headers(this.headers);return u&&E.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:E,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return uo.default=a,uo}Object.defineProperty(Lt,"__esModule",{value:!0});var vb=Lt.PostgrestError=Ob=Lt.PostgrestBuilder=Tb=Lt.PostgrestTransformBuilder=xb=Lt.PostgrestFilterBuilder=wb=Lt.PostgrestQueryBuilder=bb=Lt.PostgrestClient=void 0;const lr=rr,pb=lr.__importDefault(q1());var bb=Lt.PostgrestClient=pb.default;const _b=lr.__importDefault(yb());var wb=Lt.PostgrestQueryBuilder=_b.default;const Sb=lr.__importDefault(Lh());var xb=Lt.PostgrestFilterBuilder=Sb.default;const Eb=lr.__importDefault(gb());var Tb=Lt.PostgrestTransformBuilder=Eb.default;const jb=lr.__importDefault(mb());var Ob=Lt.PostgrestBuilder=jb.default;const Nb=lr.__importDefault(hb());vb=Lt.PostgrestError=Nb.default;var Ab=Lt.default={PostgrestClient:pb.default,PostgrestQueryBuilder:_b.default,PostgrestFilterBuilder:Sb.default,PostgrestTransformBuilder:Eb.default,PostgrestBuilder:jb.default,PostgrestError:Nb.default};const Y1=Dw({__proto__:null,get PostgrestBuilder(){return Ob},get PostgrestClient(){return bb},get PostgrestError(){return vb},get PostgrestFilterBuilder(){return xb},get PostgrestQueryBuilder(){return wb},get PostgrestTransformBuilder(){return Tb},default:Ab},[Lt]),{PostgrestClient:V1,PostgrestQueryBuilder:ZO,PostgrestFilterBuilder:PO,PostgrestTransformBuilder:WO,PostgrestBuilder:FO,PostgrestError:eN}=Ab||Y1;class I1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const G1="2.78.0",K1=`realtime-js/${G1}`,X1="1.0.0",yf=1e4,Q1=1e3,J1=100;var Xr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xr||(Xr={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var vf;(function(e){e.websocket="websocket"})(vf||(vf={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class Z1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+s));r=r+s;const c=a.decode(t.slice(r,r+i));r=r+i;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Db{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const ny=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=P1(r,e,t,s),i),{}):{}},P1=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=n[e];return i&&!a.includes(i)?Cb(i,r):pf(r)},Cb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tE(t,n)}switch(e){case $e.bool:return W1(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return F1(t);case $e.json:case $e.jsonb:return eE(t);case $e.timestamp:return nE(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return pf(t);default:return pf(t)}},pf=e=>e,W1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>Cb(t,l))}return e},nE=e=>typeof e=="string"?e.replace(" ","T"):e,Rb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nd{constructor(t,n,a={},s=yf){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ay;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ay||(ay={}));class Qr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,s,i,r),this.pendingDiffs.forEach(c=>{this.state=Qr.syncDiff(this.state,c,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qr.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),r=this.transformState(n),l={},c={};return this.map(i,(u,f)=>{r[u]||(c[u]=f)}),this.map(r,(u,f)=>{const h=i[u];if(h){const m=f.map(O=>O.presence_ref),y=h.map(O=>O.presence_ref),E=f.filter(O=>y.indexOf(O.presence_ref)<0),x=h.filter(O=>m.indexOf(O.presence_ref)<0);E.length>0&&(l[u]=E),x.length>0&&(c[u]=x)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(y=>y.presence_ref),m=f.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...m)}a(l,f,c)}),this.map(r,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sy||(sy={}));var Jr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jr||(Jr={}));var ha;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ha||(ha={}));class Bh{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nd(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new Db(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Qr(this),this.broadcastEndpointURL=Rb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:r,presence:l,private:c}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Jr.PRESENCE]&&this.bindings[Jr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(ha.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(ha.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket.setAuth(),y===void 0){t==null||t(ha.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,O=(E=x==null?void 0:x.length)!==null&&E!==void 0?E:0,b=[];for(let g=0;g<O;g++){const p=x[g],{filter:{event:S,schema:T,table:A,filter:j}}=p,M=y&&y[g];if(M&&M.event===S&&M.schema===T&&M.table===A&&M.filter===j)b.push(Object.assign(Object.assign({},p),{id:M.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(ha.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ha.SUBSCRIBED);return}}).receive("error",y=>{this.state=ht.errored,t==null||t(ha.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ha.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ht.joined&&t===Jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new nd(this,Yn.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nd(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>J1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Yn;if(a&&[l,c,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let m=this._onMessage(r,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var E,x,O;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(x=y.filter)===null||x===void 0?void 0:x.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===r}).map(y=>y.callback(m,a)):(i=this.bindings[r])===null||i===void 0||i.filter(y=>{var E,x,O,b,g,p;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in y){const S=y.id,T=(E=y.filter)===null||E===void 0?void 0:E.event;return S&&((x=n.ids)===null||x===void 0?void 0:x.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const S=(g=(b=y==null?void 0:y.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===r}).map(y=>{if(typeof m=="object"&&"ids"in m){const E=m.data,{schema:x,table:O,commit_timestamp:b,type:g,errors:p}=E;m=Object.assign(Object.assign({},{schema:x,table:O,commit_timestamp:b,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(E))}y.callback(m,a)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Bh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ny(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ny(t.columns,t.old_record)),n}}const ad=()=>{},vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aE=[1e3,2e3,5e3,1e4],sE=1e4,iE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rE{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yf,this.transport=null,this.heartbeatIntervalMs=vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new Z1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>ir(async()=>{const{default:l}=await Promise.resolve().then(()=>Xs);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...r)=>i(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${vf.websocket}`,this.httpEndpoint=Rb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return Ns.Connecting;case Xr.open:return Ns.Open;case Xr.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new Bh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Q1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:r}=n,l=r?`(${r})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([iE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:K1};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Db(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,r,l,c,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:yf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:vo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ad,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>aE[h-1]||sE,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Hh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lE extends Hh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bf extends Hh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},oE=()=>Q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ir(()=>Promise.resolve().then(()=>Xs),void 0)).Response:Response}),_f=e=>{if(Array.isArray(e))return e.map(n=>_f(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=_f(a)}),t},cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){const a=yield oE();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new lE(sd(s),i,r))}).catch(s=>{t(new bf(sd(s),s))}):t(new bf(sd(e),e))}),dE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(cE(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Rl(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,dE(t,a,s,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>uE(c,l,a))})})}function hl(e,t,n,a){return Q(this,void 0,void 0,function*(){return Rl(e,"GET",t,n,a)})}function Hn(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Rl(e,"POST",t,a,s,n)})}function wf(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Rl(e,"PUT",t,a,s,n)})}function fE(e,t,n,a){return Q(this,void 0,void 0,function*(){return Rl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Yh(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return Rl(e,"DELETE",t,a,s,n)})}class hE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}}var Mb;class mE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Mb]="BlobDownloadBuilder",this.promise=null}asStream(){return new hE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}}Mb=Symbol.toStringTag;const gE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yE{constructor(t,n={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=qh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,s){return Q(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},iy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",r.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?wf:Hn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}upload(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,s){return Q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:iy.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl)):(c=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield wf(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Hn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new Hh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}update(t,n,a){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}copy(t,n,a){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,a){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>hl(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new mE(c,this.shouldThrowOnError)}info(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield hl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_f(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}exists(t){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a)&&a instanceof bf){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}list(t,n,a){return Q(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gE),n),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listV2(t,n){return Q(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const kb="2.78.0",Ub={"X-Client-Info":`storage-js/${kb}`};class vE{constructor(t,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ub),n),this.fetch=qh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield hl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createBucket(t){return Q(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class pE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ub),n),this.fetch=qh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(t){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield hl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}const Vh={"X-Client-Info":`storage-js/${kb}`,"Content-Type":"application/json"};class zb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function cn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class id extends zb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bE extends zb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var ry;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ry||(ry={}));const Ih=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},_E=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ly=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wE=(e,t,n)=>Q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new id(ly(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new id(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new id(l,s,r))}}else t(new bE(ly(e),e))}),SE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(_E(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function xE(e,t,n,a,s,i){return Q(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,SE(t,a,s,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>r(c)).catch(c=>wE(c,l,a))})})}function un(e,t,n,a,s){return Q(this,void 0,void 0,function*(){return xE(e,"POST",t,a,s,n)})}class EE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),n),this.fetch=Ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cn(a))return{data:null,error:a};throw a}})}listIndexes(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(cn(a))return{data:null,error:a};throw a}})}}class TE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),n),this.fetch=Ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield un(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield un(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}queryVectors(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield un(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class jE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),n),this.fetch=Ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(t={}){try{return{data:yield un(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Q(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class OE extends jE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new NE(this.url,this.headers,t,this.fetch)}}class NE extends EE{constructor(t,n,a,s){super(t,n,s),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new AE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class AE extends TE{constructor(t,n,a,s,i){super(t,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class DE extends vE{constructor(t,n={},a,s){super(t,n,a,s)}from(t){return new yE(this.url,this.headers,t,this.fetch)}get vectors(){return new OE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pE(this.url+"/iceberg",this.headers,this.fetch)}}const CE="2.78.0";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const RE={"X-Client-Info":`supabase-js-${Cr}/${CE}`},ME={headers:RE},kE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zE={},$E=e=>{let t;return e?t=e:typeof fetch>"u"?t=db:t=fetch,(...n)=>t(...n)},LE=()=>typeof Headers>"u"?fb:Headers,BE=(e,t,n)=>{const a=$E(n),s=LE();return async(i,r)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},r),{headers:u}))}};function HE(e){return e.endsWith("/")?e:e+"/"}function qE(e,t){var n,a;const{db:s,auth:i,realtime:r,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function YE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $b="2.78.0",fi=30*1e3,Sf=3,rd=Sf*fi,VE="http://localhost:9999",IE="supabase.auth.token",GE={"X-Client-Info":`gotrue-js/${$b}`},xf="X-Supabase-Api-Version",Lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XE=10*60*1e3;class ml extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QE extends ml{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function JE(e){return Z(e)&&e.name==="AuthApiError"}class As extends ml{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hs extends ml{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class Ln extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZE(e){return Z(e)&&e.name==="AuthSessionMissingError"}class si extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bo extends hs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PE(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class oy extends hs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ef extends hs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ld(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class cy extends hs{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Tf extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uy=` 	
\r=`.split(""),WE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uy.length;t+=1)e[uy[t].charCodeAt(0)]=-2;for(let t=0;t<bc.length;t+=1)e[bc[t].charCodeAt(0)]=t;return e})();function dy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(bc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(bc[a]),t.queuedBits-=6}}function Bb(e,t,n){const a=WE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fy(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{tT(r,a,n)};for(let r=0;r<e.length;r+=1)Bb(e.charCodeAt(r),s,i);return t.join("")}function FE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eT(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}FE(a,t)}}function tT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ki(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Bb(e.charCodeAt(s),n,a);return new Uint8Array(t)}function nT(e){const t=[];return eT(e,n=>t.push(n)),new Uint8Array(t)}function Cs(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>dy(s,n,a)),dy(null,n,a),t.join("")}function aT(e){return Math.round(Date.now()/1e3)+e}function sT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},Hb=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function iT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ir(async()=>{const{default:a}=await Promise.resolve().then(()=>Xs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},rT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ws=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},za=async(e,t)=>{await e.removeItem(t)};class Jc{constructor(){this.promise=new Jc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Jc.promiseConstructor=Promise;function od(e){const t=e.split(".");if(t.length!==3)throw new Tf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!KE.test(t[a]))throw new Tf("JWT not in base64url format");return{header:JSON.parse(fy(t[0])),payload:JSON.parse(fy(t[1])),signature:ki(t[2]),raw:{header:t[0],payload:t[1]}}}async function lT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oT(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){a(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function cT(e){return("0"+e.toString(16)).substr(-2)}function uT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,cT).join("")}async function dT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function fT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(e,t,n=!1){const a=uT();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await hi(e,`${t}-code-verifier`,s);const i=await fT(a);return[i,a===i?"plain":"s256"]}const hT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mT(e){const t=e.headers.get(xf);if(!t||!t.match(hT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(e){if(!vT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pT(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function hy(e){return JSON.parse(JSON.stringify(e))}const Os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bT=[502,503,504];async function my(e){var t;if(!rT(e))throw new Ef(Os(e),0);if(bT.includes(e.status))throw new Ef(Os(e),e.status);let n;try{n=await e.json()}catch(i){throw new As(Os(i),i)}let a;const s=mT(e);if(s&&s.getTime()>=Lb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new cy(Os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new cy(Os(n),e.status,n.weak_password.reasons);throw new QE(Os(n),e.status||500,a)}const _T=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function W(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[xf]||(i[xf]=Lb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const r=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await wT(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function wT(e,t,n,a,s,i){const r=_T(t,a,s,i);let l;try{l=await e(n,Object.assign({},r))}catch(c){throw console.error(c),new Ef(Os(c),0)}if(l.ok||await my(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await my(c)}}function Bn(e){var t;let n=null;ET(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aT(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function gy(e){const t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ST(e){return{data:e,error:null}}function xT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,r=sr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},r);return{data:{properties:l,user:c},error:null}}function yy(e){return e}function ET(e){return e.access_token&&e.refresh_token&&e.expires_in}const ud=["global","local","others"];class TT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=qb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ud[0]){if(ud.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ud.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ga})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=sr(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ga})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yy});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);u[`${O}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ri(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ga})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ri(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ga})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ri(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ga})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ri(t.userId);try{const{data:n,error:a}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ri(t.userId),ri(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,r,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yy});if(f.error)throw f.error;const h=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);u[`${O}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function vy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const li={debug:!!(globalThis&&Hb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jT extends Yb{}async function OT(e,t,n){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(li.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function AT(e){return parseInt(e,16)}function DT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function CT(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:c,resources:u,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Vb(e.address),E=f?`${f}://${a}`:a,x=e.statement?`${e.statement}
`:"",O=`${E} wants you to sign in with your Ethereum account:
${y}

${x}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);g+=`
- ${p}`}b+=g}return`${O}
${b}`}class it extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _c extends it{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RT({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Ib(r)){if(i.rp.id!==r)return new it({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Ib(a)){if(n.rpId!==a)return new it({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const UT=new kT;function zT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=sr(e,["challenge","user","excludeCredentials"]),i=ki(t).buffer,r=Object.assign(Object.assign({},n),{id:ki(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const u=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ki(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function $T(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=sr(e,["challenge","allowCredentials"]),s=ki(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:ki(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function LT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cs(new Uint8Array(s.authenticatorData)),clientDataJSON:Cs(new Uint8Array(s.clientDataJSON)),signature:Cs(new Uint8Array(s.signature)),userHandle:s.userHandle?Cs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ib(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function py(){var e,t;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _c("Browser returned unexpected credential type",t)}:{data:null,error:new _c("Empty credential response",t)}}catch(t){return{data:null,error:RT({error:t,options:e})}}}async function qT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _c("Browser returned unexpected credential type",t)}:{data:null,error:new _c("Empty credential response",t)}}catch(t){return{data:null,error:MT({error:t,options:e})}}}const YT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VT={userVerification:"preferred",hints:["security-key"]};function wc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))a[i]=r;else if(n(r))a[i]=r;else if(t(r)){const l=a[i];t(l)?a[i]=wc(l,r):a[i]=wc(r)}else a[i]=r}return a}function IT(e,t){return wc(YT,e,t||{})}function GT(e,t){return wc(VT,e,t||{})}class KT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const c=s??UT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=IT(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await HT({publicKey:u,signal:c});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=GT(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await qT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!py())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:c}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:a,credential_response:c.credential_response}})}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!py())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:r.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(r){return Z(r)?{data:null,error:r}:{data:null,error:new As("Unexpected error in register",r)}}}}NT();const XT={url:VE,storageKey:IE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function by(e,t,n){return await n()}const oi={};class gl{get jwks(){var t,n;return(n=(t=oi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gl.nextInstanceID,gl.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},XT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new TT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qb(s.fetch),this.lock=s.lock||by,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=OT:this.lock=by,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Hb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vy(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$b}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=iT(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),zt()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PE(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new As("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bn}),{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:f,password:h,options:m}=t;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ii(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:E},xform:Bn})}else if("phone"in t){const{phone:f,password:h,options:m}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Bn})}else throw new po("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gy})}else if("phone"in t){const{phone:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gy})}else throw new po("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new si}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,r,l,c,u,f,h,m;let y,E;if("message"in t)y=t.message,E=t.signature;else{const{chain:x,wallet:O,statement:b,options:g}=t;let p;if(zt())if(typeof O=="object")p=O;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")p=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=O}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Vb(T[0]);let j=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!j){const k=await p.request({method:"eth_chainId"});j=AT(k)}const M={domain:S.host,address:A,statement:b,uri:S.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=g==null?void 0:g.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=CT(M),E=await p.request({method:"personal_sign",params:[DT(y),A]})}try{const{data:x,error:O}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Bn});if(O)throw O;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new si}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:O})}catch(x){if(Z(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var n,a,s,i,r,l,c,u,f,h,m,y;let E,x;if("message"in t)E=t.message,x=t.signature;else{const{chain:O,wallet:b,statement:g,options:p}=t;let S;if(zt())if(typeof b=="object")S=b;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const T=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let j;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")j=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)j=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)E=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(a=p==null?void 0:p.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((r=p==null?void 0:p.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(f=p==null?void 0:p.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(E),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=A}}try{const{data:O,error:b}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Cs(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Bn});if(b)throw b;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new si}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:b})}catch(O){if(Z(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:r}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Bn});if(await za(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new si}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:r}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new si}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,s,i,r;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ii(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new po("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Bn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,u=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,a,s;try{let i=null,r=null;return this.flowType==="pkce"&&([i,r]=await ii(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:ST})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Ln;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:r}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:r,error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new po("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await ws(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=cd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=pT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ga}):await this._useSession(async n=>{var a,s,i;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ga})})}catch(n){if(Z(n))return ZE(n)&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Ln;const r=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ii(this.storage,this.storageKey));const{data:u,error:f}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:r.access_token,xform:Ga});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:r}=od(t.access_token);if(r.exp&&(a=r.exp,s=a<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ln;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!zt())throw new bo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oy("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!r||!u)throw new bo("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let m=f+h;c&&(m=parseInt(c));const y=m-f;y*1e3<=fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const E=m-h;f-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,m,f):f-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,m,f);const{data:x,error:O}=await this._getUser(i);if(O)throw O;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:r,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(Z(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const r=(a=s.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(JE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=sT(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await ii(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var r,l,c,u,f;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return zt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Z(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:r,provider:l,token:c,access_token:u,nonce:f}=t,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bn}),{data:m,error:y}=h;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new si}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:y})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)throw r;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await oT(async s=>(s>0&&await lT(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(s,i)=>{const r=200*Math.pow(2,s);return i&&ld(i)&&Date.now()+r-a<fi})}catch(a){if(this._debug(n,"error",a),Z(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),zt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await ws(this.storage,this.storageKey);if(s&&this.userStorage){let r=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await hi(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:cd()}else if(s&&!s.user&&!s.user){const r=await ws(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await za(this.storage,this.storageKey+"-user"),await hi(this.storage,this.storageKey,s)):s.user=cd()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rd;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${rd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),ld(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Jc;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Ln;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Z(i)){const r={data:null,error:i};return ld(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await hi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=hy(s);await hi(this.storage,this.storageKey,i)}else{const s=hy(n);await hi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await za(this.storage,this.storageKey),await za(this.storage,this.storageKey+"-code-verifier"),await za(this.storage,this.storageKey+"-user"),this.userStorage&&await za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fi}ms, refresh threshold is ${Sf} ticks`),s<=Sf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,r]=await ii(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LT(t.webauthn.credential_response):BT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$T(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=od(a.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Ln}})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Ln};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&zt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+XE>s)return a;const{data:i,error:r}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return{data:null,error:E};a=y.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:c}}=od(a);n!=null&&n.allowExpired||gT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:s,signature:r},error:null}}const f=yT(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,r,nT(`${l}.${c}`)))throw new Tf("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}}gl.nextInstanceID=0;const QT=gl;class JT extends QT{constructor(t){super(t)}}class ZT{constructor(t,n,a){var s,i,r;this.supabaseUrl=t,this.supabaseKey=n;const l=YE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:kE,realtime:zE,auth:Object.assign(Object.assign({},UE),{storageKey:c}),global:ME},f=qE(a??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=BE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new V1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new DE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new U1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:r,flowType:l,lock:c,debug:u},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PT=(e,t,n)=>new ZT(e,t,n);function WT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FT="https://vqpubtahhvtkftafdlrp.supabase.co",ej="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",q=PT(FT,ej);function tj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const Zc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function or(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Gh(e){return"nodeType"in e}function qt(e){var t,n;return e?or(e)?e:Gh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Kh(e){const{Document:t}=qt(e);return e instanceof t}function Ml(e){return or(e)?!1:e instanceof qt(e).HTMLElement}function Gb(e){return e instanceof qt(e).SVGElement}function cr(e){return e?or(e)?e.document:Gh(e)?Kh(e)?e:Ml(e)||Gb(e)?e.ownerDocument:document:document:document}const Vn=Zc?w.useLayoutEffect:w.useEffect;function Pc(e){const t=w.useRef(e);return Vn(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function nj(){const e=w.useRef(null),t=w.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yl(e,t){t===void 0&&(t=[e]);const n=w.useRef(e);return Vn(()=>{n.current!==e&&(n.current=e)},t),n}function kl(e,t){const n=w.useRef();return w.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Sc(e){const t=Pc(e),n=w.useRef(null),a=w.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function xc(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let dd={};function Ul(e,t){return w.useMemo(()=>{if(t)return t;const n=dd[e]==null?0:dd[e]+1;return dd[e]=n,e+"-"+n},[e,t])}function Kb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,r)=>{const l=Object.entries(r);for(const[c,u]of l){const f=i[c];f!=null&&(i[c]=f+e*u)}return i},{...t})}}const Ui=Kb(1),vl=Kb(-1);function aj(e){return"clientX"in e&&"clientY"in e}function Wc(e){if(!e)return!1;const{KeyboardEvent:t}=qt(e.target);return t&&e instanceof t}function sj(e){if(!e)return!1;const{TouchEvent:t}=qt(e.target);return t&&e instanceof t}function Ec(e){if(sj(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return aj(e)?{x:e.clientX,y:e.clientY}:null}const us=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[us.Translate.toString(e),us.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),_y="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ij(e){return e.matches(_y)?e:e.querySelector(_y)}const rj={display:"none"};function lj(e){let{id:t,value:n}=e;return Le.createElement("div",{id:t,style:rj},n)}function oj(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Le.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function cj(){const[e,t]=w.useState("");return{announce:w.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Xb=w.createContext(null);function uj(e){const t=w.useContext(Xb);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function dj(){const[e]=w.useState(()=>new Set),t=w.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[w.useCallback(a=>{let{type:s,event:i}=a;e.forEach(r=>{var l;return(l=r[s])==null?void 0:l.call(r,i)})},[e]),t]}const fj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},hj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function mj(e){let{announcements:t=hj,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=fj}=e;const{announce:i,announcement:r}=cj(),l=Ul("DndLiveRegion"),[c,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),uj(w.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:y}=h;t.onDragMove&&i(t.onDragMove({active:m,over:y}))},onDragOver(h){let{active:m,over:y}=h;i(t.onDragOver({active:m,over:y}))},onDragEnd(h){let{active:m,over:y}=h;i(t.onDragEnd({active:m,over:y}))},onDragCancel(h){let{active:m,over:y}=h;i(t.onDragCancel({active:m,over:y}))}}),[i,t])),!c)return null;const f=Le.createElement(Le.Fragment,null,Le.createElement(lj,{id:a,value:s.draggable}),Le.createElement(oj,{id:l,announcement:r}));return n?mi.createPortal(f,n):f}var mt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mt||(mt={}));function Tc(){}function Ba(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function jf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const In=Object.freeze({x:0,y:0});function Qb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gj(e,t){const n=Ec(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Jb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function yj(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function wy(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function Zb(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Sy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Of=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=Sy(t,t.left,t.top),i=[];for(const r of a){const{id:l}=r,c=n.get(l);if(c){const u=Qb(Sy(c),s);i.push({id:l,data:{droppableContainer:r,value:u}})}}return i.sort(Jb)},vj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=wy(t),i=[];for(const r of a){const{id:l}=r,c=n.get(l);if(c){const u=wy(c),f=s.reduce((m,y,E)=>m+Qb(u[E],y),0),h=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:r,value:h}})}}return i.sort(Jb)};function pj(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),r=s-a,l=i-n;if(a<s&&n<i){const c=t.width*t.height,u=e.width*e.height,f=r*l,h=f/(c+u-f);return Number(h.toFixed(4))}return 0}const bj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const i of a){const{id:r}=i,l=n.get(r);if(l){const c=pj(l,t);c>0&&s.push({id:r,data:{droppableContainer:i,value:c}})}}return s.sort(yj)};function _j(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Pb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:In}function wj(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const Sj=wj(1);function Wb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xj(e,t,n){const a=Wb(t);if(!a)return e;const{scaleX:s,scaleY:i,x:r,y:l}=a,c=e.left-r-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c}}const Ej={ignoreTransform:!1};function ur(e,t){t===void 0&&(t=Ej);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=qt(e).getComputedStyle(e);u&&(n=xj(n,u,f))}const{top:a,left:s,width:i,height:r,bottom:l,right:c}=n;return{top:a,left:s,width:i,height:r,bottom:l,right:c}}function xy(e){return ur(e,{ignoreTransform:!0})}function Tj(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function jj(e,t){return t===void 0&&(t=qt(e).getComputedStyle(e)),t.position==="fixed"}function Oj(e,t){t===void 0&&(t=qt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Fc(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(Kh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ml(s)||Gb(s)||n.includes(s))return n;const i=qt(e).getComputedStyle(s);return s!==e&&Oj(s,i)&&n.push(s),jj(s,i)?n:a(s.parentNode)}return e?a(e):n}function Fb(e){const[t]=Fc(e,1);return t??null}function fd(e){return!Zc||!e?null:or(e)?e:Gh(e)?Kh(e)||e===cr(e).scrollingElement?window:Ml(e)?e:null:null}function e_(e){return or(e)?e.scrollX:e.scrollLeft}function t_(e){return or(e)?e.scrollY:e.scrollTop}function Nf(e){return{x:e_(e),y:t_(e)}}var bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bt||(bt={}));function n_(e){return!Zc||!e?!1:e===document.scrollingElement}function a_(e){const t={x:0,y:0},n=n_(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:i,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const Nj={x:.2,y:.2};function Aj(e,t,n,a,s){let{top:i,left:r,right:l,bottom:c}=n;a===void 0&&(a=10),s===void 0&&(s=Nj);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=a_(e),y={x:0,y:0},E={x:0,y:0},x={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+x.height?(y.y=bt.Backward,E.y=a*Math.abs((t.top+x.height-i)/x.height)):!f&&c>=t.bottom-x.height&&(y.y=bt.Forward,E.y=a*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(y.x=bt.Forward,E.x=a*Math.abs((t.right-x.width-l)/x.width)):!h&&r<=t.left+x.width&&(y.x=bt.Backward,E.x=a*Math.abs((t.left+x.width-r)/x.width)),{direction:y,speed:E}}function Dj(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:r}=window;return{top:0,left:0,right:i,bottom:r,width:i,height:r}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function s_(e){return e.reduce((t,n)=>Ui(t,Nf(n)),In)}function Cj(e){return e.reduce((t,n)=>t+e_(n),0)}function Rj(e){return e.reduce((t,n)=>t+t_(n),0)}function i_(e,t){if(t===void 0&&(t=ur),!e)return;const{top:n,left:a,bottom:s,right:i}=t(e);Fb(e)&&(s<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mj=[["x",["left","right"],Cj],["y",["top","bottom"],Rj]];class Xh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Fc(n),s=s_(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,r,l]of Mj)for(const c of r)Object.defineProperty(this,c,{get:()=>{const u=l(a),f=s[i]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function kj(e){const{EventTarget:t}=qt(e);return e instanceof t?e:cr(e)}function hd(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function Ey(e){e.preventDefault()}function Uj(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const r_={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},zj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}};class pl{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Zr(cr(n)),this.windowListeners=new Zr(qt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&i_(a),n(In)}handleKeyDown(t){if(Wc(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:i=r_,coordinateGetter:r=zj,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:In;this.referenceCoordinates||(this.referenceCoordinates=f);const h=r(t,{active:n,context:a.current,currentCoordinates:f});if(h){const m=vl(h,f),y={x:0,y:0},{scrollableAncestors:E}=a.current;for(const x of E){const O=t.code,{isTop:b,isRight:g,isLeft:p,isBottom:S,maxScroll:T,minScroll:A}=a_(x),j=Dj(x),M={x:Math.min(O===ge.Right?j.right-j.width/2:j.right,Math.max(O===ge.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(O===ge.Down?j.bottom-j.height/2:j.bottom,Math.max(O===ge.Down?j.top:j.top+j.height/2,h.y))},k=O===ge.Right&&!g||O===ge.Left&&!p,Y=O===ge.Down&&!S||O===ge.Up&&!b;if(k&&M.x!==h.x){const X=x.scrollLeft+m.x,se=O===ge.Right&&X<=T.x||O===ge.Left&&X>=A.x;if(se&&!m.y){x.scrollTo({left:X,behavior:l});return}se?y.x=x.scrollLeft-X:y.x=O===ge.Right?x.scrollLeft-T.x:x.scrollLeft-A.x,y.x&&x.scrollBy({left:-y.x,behavior:l});break}else if(Y&&M.y!==h.y){const X=x.scrollTop+m.y,se=O===ge.Down&&X<=T.y||O===ge.Up&&X>=A.y;if(se&&!m.x){x.scrollTo({top:X,behavior:l});return}se?y.y=x.scrollTop-X:y.y=O===ge.Down?x.scrollTop-T.y:x.scrollTop-A.y,y.y&&x.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(t,Ui(vl(h,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=r_,onActivation:s}=t,{active:i}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Ty(e){return!!(e&&"distance"in e)}function jy(e){return!!(e&&"delay"in e)}class Qh{constructor(t,n,a){var s;a===void 0&&(a=kj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:r}=i;this.props=t,this.events=n,this.document=cr(r),this.documentListeners=new Zr(this.document),this.listeners=new Zr(a),this.windowListeners=new Zr(qt(r)),this.initialCoordinates=(s=Ec(i))!=null?s:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,Ey),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,Ey),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ty(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,Uj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:i}=this,{onMove:r,options:{activationConstraint:l}}=i;if(!s)return;const c=(n=Ec(t))!=null?n:In,u=vl(s,c);if(!a&&l){if(Ty(l)){if(l.tolerance!=null&&hd(u,l.tolerance))return this.handleCancel();if(hd(u,l.distance))return this.handleStart()}if(jy(l)&&hd(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $j={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bl extends Qh{constructor(t){const{event:n}=t,a=cr(n.target);super(t,$j,a)}}bl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const Lj={move:{name:"mousemove"},end:{name:"mouseup"}};var Af;(function(e){e[e.RightClick=2]="RightClick"})(Af||(Af={}));class Bj extends Qh{constructor(t){super(t,Lj,cr(t.event.target))}}Bj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Af.RightClick?!1:(a==null||a({event:n}),!0)}}];const md={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Df extends Qh{constructor(t){super(t,md)}static setup(){return window.addEventListener(md.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(md.move.name,t)};function t(){}}}Df.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Pr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Pr||(Pr={}));var jc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(jc||(jc={}));function Hj(e){let{acceleration:t,activator:n=Pr.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:r=5,order:l=jc.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=e;const y=Yj({delta:h,disabled:!i}),[E,x]=nj(),O=w.useRef({x:0,y:0}),b=w.useRef({x:0,y:0}),g=w.useMemo(()=>{switch(n){case Pr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Pr.DraggableRect:return s}},[n,s,c]),p=w.useRef(null),S=w.useCallback(()=>{const A=p.current;if(!A)return;const j=O.current.x*b.current.x,M=O.current.y*b.current.y;A.scrollBy(j,M)},[]),T=w.useMemo(()=>l===jc.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!i||!u.length||!g){x();return}for(const A of T){if((a==null?void 0:a(A))===!1)continue;const j=u.indexOf(A),M=f[j];if(!M)continue;const{direction:k,speed:Y}=Aj(A,M,g,t,m);for(const X of["x","y"])y[X][k[X]]||(Y[X]=0,k[X]=0);if(Y.x>0||Y.y>0){x(),p.current=A,E(S,r),O.current=Y,b.current=k;return}}O.current={x:0,y:0},b.current={x:0,y:0},x()},[t,S,a,x,i,r,JSON.stringify(g),JSON.stringify(y),E,u,T,f,JSON.stringify(m)])}const qj={x:{[bt.Backward]:!1,[bt.Forward]:!1},y:{[bt.Backward]:!1,[bt.Forward]:!1}};function Yj(e){let{delta:t,disabled:n}=e;const a=xc(t);return kl(s=>{if(n||!a||!s)return qj;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[bt.Backward]:s.x[bt.Backward]||i.x===-1,[bt.Forward]:s.x[bt.Forward]||i.x===1},y:{[bt.Backward]:s.y[bt.Backward]||i.y===-1,[bt.Forward]:s.y[bt.Forward]||i.y===1}}},[n,t,a])}function Vj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return kl(s=>{var i;return t==null?null:(i=a??s)!=null?i:null},[a,t])}function Ij(e,t){return w.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,i=s.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...i]},[]),[e,t])}var Ji;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ji||(Ji={}));var Cf;(function(e){e.Optimized="optimized"})(Cf||(Cf={}));const Oy=new Map;function Gj(e,t){let{dragging:n,dependencies:a,config:s}=t;const[i,r]=w.useState(null),{frequency:l,measure:c,strategy:u}=s,f=w.useRef(e),h=O(),m=yl(h),y=w.useCallback(function(b){b===void 0&&(b=[]),!m.current&&r(g=>g===null?b:g.concat(b.filter(p=>!g.includes(p))))},[m]),E=w.useRef(null),x=kl(b=>{if(h&&!n)return Oy;if(!b||b===Oy||f.current!==e||i!=null){const g=new Map;for(let p of e){if(!p)continue;if(i&&i.length>0&&!i.includes(p.id)&&p.rect.current){g.set(p.id,p.rect.current);continue}const S=p.node.current,T=S?new Xh(c(S),S):null;p.rect.current=T,T&&g.set(p.id,T)}return g}return b},[e,i,n,h,c]);return w.useEffect(()=>{f.current=e},[e]),w.useEffect(()=>{h||y()},[n,h]),w.useEffect(()=>{i&&i.length>0&&r(null)},[JSON.stringify(i)]),w.useEffect(()=>{h||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},l))},[l,h,y,...a]),{droppableRects:x,measureDroppableContainers:y,measuringScheduled:i!=null};function O(){switch(u){case Ji.Always:return!1;case Ji.BeforeDragging:return n;default:return!n}}}function Jh(e,t){return kl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Kj(e,t){return Jh(e,t)}function Xj(e){let{callback:t,disabled:n}=e;const a=Pc(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function eu(e){let{callback:t,disabled:n}=e;const a=Pc(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qj(e){return new Xh(ur(e),e)}function Ny(e,t,n){t===void 0&&(t=Qj);const[a,s]=w.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const r=Xj({callback(c){if(e)for(const u of c){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=eu({callback:i});return Vn(()=>{i(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Jj(e){const t=Jh(e);return Pb(e,t)}const Ay=[];function Zj(e){const t=w.useRef(e),n=kl(a=>e?a&&a!==Ay&&e&&t.current&&e.parentNode===t.current.parentNode?a:Fc(e):Ay,[e]);return w.useEffect(()=>{t.current=e},[e]),n}function Pj(e){const[t,n]=w.useState(null),a=w.useRef(e),s=w.useCallback(i=>{const r=fd(i.target);r&&n(l=>l?(l.set(r,Nf(r)),new Map(l)):null)},[]);return w.useEffect(()=>{const i=a.current;if(e!==i){r(i);const l=e.map(c=>{const u=fd(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Nf(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(i)};function r(l){l.forEach(c=>{const u=fd(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,r)=>Ui(i,r),In):s_(e):In,[e,t])}function Dy(e,t){t===void 0&&(t=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},t),w.useEffect(()=>{const a=e!==In;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?vl(e,n.current):In}function Wj(e){w.useEffect(()=>{if(!Zc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Fj(e,t){return w.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:i}=a;return n[s]=r=>{i(r,t)},n},{}),[e,t])}function l_(e){return w.useMemo(()=>e?Tj(e):null,[e])}const Cy=[];function eO(e,t){t===void 0&&(t=ur);const[n]=e,a=l_(n?qt(n):null),[s,i]=w.useState(Cy);function r(){i(()=>e.length?e.map(c=>n_(c)?a:new Xh(t(c),c)):Cy)}const l=eu({callback:r});return Vn(()=>{l==null||l.disconnect(),r(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function o_(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ml(t)?t:e}function tO(e){let{measure:t}=e;const[n,a]=w.useState(null),s=w.useCallback(u=>{for(const{target:f}of u)if(Ml(f)){a(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=eu({callback:s}),r=w.useCallback(u=>{const f=o_(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),a(f?t(f):null)},[t,i]),[l,c]=Sc(r);return w.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const nO=[{sensor:bl,options:{}},{sensor:pl,options:{}}],aO={current:{}},Bo={draggable:{measure:xy},droppable:{measure:xy,strategy:Ji.WhileDragging,frequency:Cf.Optimized},dragOverlay:{measure:ur}};class Wr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const sO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Tc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bo,measureDroppableContainers:Tc,windowRect:null,measuringScheduled:!1},c_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Tc,draggableNodes:new Map,over:null,measureDroppableContainers:Tc},zl=w.createContext(c_),u_=w.createContext(sO);function iO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wr}}}function rO(e,t){switch(t.type){case mt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case mt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case mt.DragEnd:case mt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mt.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Wr(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case mt.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Wr(e.droppable.containers);return r.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:r}}}case mt.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const i=new Wr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function lO(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=w.useContext(zl),i=xc(a),r=xc(n==null?void 0:n.id);return w.useEffect(()=>{if(!t&&!a&&i&&r!=null){if(!Wc(i)||document.activeElement===i.target)return;const l=s.get(r);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const h=ij(f);if(h){h.focus();break}}})}},[a,t,s,r,i]),null}function d_(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...a}),n):n}function oO(e){return w.useMemo(()=>({draggable:{...Bo.draggable,...e==null?void 0:e.draggable},droppable:{...Bo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function cO(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const i=w.useRef(!1),{x:r,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Vn(()=>{if(!r&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=Pb(f,a);if(r||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Fb(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,r,l,a,n])}const tu=w.createContext({...In,scaleX:1,scaleY:1});var Ha;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ha||(Ha={}));const Rf=w.memo(function(t){var n,a,s,i;let{id:r,accessibility:l,autoScroll:c=!0,children:u,sensors:f=nO,collisionDetection:h=bj,measuring:m,modifiers:y,...E}=t;const x=w.useReducer(rO,void 0,iO),[O,b]=x,[g,p]=dj(),[S,T]=w.useState(Ha.Uninitialized),A=S===Ha.Initialized,{draggable:{active:j,nodes:M,translate:k},droppable:{containers:Y}}=O,X=j!=null?M.get(j):null,se=w.useRef({initial:null,translated:null}),me=w.useMemo(()=>{var Qe;return j!=null?{id:j,data:(Qe=X==null?void 0:X.data)!=null?Qe:aO,rect:se}:null},[j,X]),ce=w.useRef(null),[ze,H]=w.useState(null),[I,K]=w.useState(null),le=yl(E,Object.values(E)),_e=Ul("DndDescribedBy",r),He=w.useMemo(()=>Y.getEnabled(),[Y]),Se=oO(m),{droppableRects:Oe,measureDroppableContainers:ie,measuringScheduled:xe}=Gj(He,{dragging:A,dependencies:[k.x,k.y],config:Se.droppable}),we=Vj(M,j),en=w.useMemo(()=>I?Ec(I):null,[I]),Nt=wn(),At=Kj(we,Se.draggable.measure);cO({activeNode:j!=null?M.get(j):null,config:Nt.layoutShiftCompensation,initialRect:At,measure:Se.draggable.measure});const ve=Ny(we,Se.draggable.measure,At),ia=Ny(we?we.parentElement:null),Dt=w.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:Oe,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Kn=Y.getNodeFor((n=Dt.current.over)==null?void 0:n.id),Yt=tO({measure:Se.dragOverlay.measure}),nt=(a=Yt.nodeRef.current)!=null?a:we,qe=A?(s=Yt.rect)!=null?s:ve:null,Xe=!!(Yt.nodeRef.current&&Yt.rect),pn=Jj(Xe?null:ve),tn=l_(nt?qt(nt):null),ut=Zj(A?Kn??we:null),Xn=eO(ut),Vt=d_(y,{transform:{x:k.x-pn.x,y:k.y-pn.y,scaleX:1,scaleY:1},activatorEvent:I,active:me,activeNodeRect:ve,containerNodeRect:ia,draggingNodeRect:qe,over:Dt.current.over,overlayNodeRect:Yt.rect,scrollableAncestors:ut,scrollableAncestorRects:Xn,windowRect:tn}),Qn=en?Ui(en,k):null,bn=Pj(ut),kt=Dy(bn),ms=Dy(bn,[ve]),Ct=Ui(Vt,kt),nn=qe?Sj(qe,Vt):null,Rt=me&&nn?h({active:me,collisionRect:nn,droppableRects:Oe,droppableContainers:He,pointerCoordinates:Qn}):null,Na=Zb(Rt,"id"),[at,Aa]=w.useState(null),st=Xe?Vt:Ui(Vt,ms),Da=_j(st,(i=at==null?void 0:at.rect)!=null?i:null,ve),ra=w.useRef(null),gs=w.useCallback((Qe,We)=>{let{sensor:Fe,options:It}=We;if(ce.current==null)return;const vt=M.get(ce.current);if(!vt)return;const dt=Qe.nativeEvent,an=new Fe({active:ce.current,activeNode:vt,event:dt,options:It,context:Dt,onAbort(ke){if(!M.get(ke))return;const{onDragAbort:ft}=le.current,Gt={id:ke};ft==null||ft(Gt),g({type:"onDragAbort",event:Gt})},onPending(ke,St,ft,Gt){if(!M.get(ke))return;const{onDragPending:Un}=le.current,Sn={id:ke,constraint:St,initialCoordinates:ft,offset:Gt};Un==null||Un(Sn),g({type:"onDragPending",event:Sn})},onStart(ke){const St=ce.current;if(St==null)return;const ft=M.get(St);if(!ft)return;const{onDragStart:Gt}=le.current,la={activatorEvent:dt,active:{id:St,data:ft.data,rect:se}};mi.unstable_batchedUpdates(()=>{Gt==null||Gt(la),T(Ha.Initializing),b({type:mt.DragStart,initialCoordinates:ke,active:St}),g({type:"onDragStart",event:la}),H(ra.current),K(dt)})},onMove(ke){b({type:mt.DragMove,coordinates:ke})},onEnd:sn(mt.DragEnd),onCancel:sn(mt.DragCancel)});ra.current=an;function sn(ke){return async function(){const{active:ft,collisions:Gt,over:la,scrollAdjustedTranslate:Un}=Dt.current;let Sn=null;if(ft&&Un){const{cancelDrop:Jn}=le.current;Sn={activatorEvent:dt,active:ft,collisions:Gt,delta:Un,over:la},ke===mt.DragEnd&&typeof Jn=="function"&&await Promise.resolve(Jn(Sn))&&(ke=mt.DragCancel)}ce.current=null,mi.unstable_batchedUpdates(()=>{b({type:ke}),T(Ha.Uninitialized),Aa(null),H(null),K(null),ra.current=null;const Jn=ke===mt.DragEnd?"onDragEnd":"onDragCancel";if(Sn){const zn=le.current[Jn];zn==null||zn(Sn),g({type:Jn,event:Sn})}})}}},[M]),Ut=w.useCallback((Qe,We)=>(Fe,It)=>{const vt=Fe.nativeEvent,dt=M.get(It);if(ce.current!==null||!dt||vt.dndKit||vt.defaultPrevented)return;const an={active:dt};Qe(Fe,We.options,an)===!0&&(vt.dndKit={capturedBy:We.sensor},ce.current=It,gs(Fe,We))},[M,gs]),_n=Ij(f,Ut);Wj(f),Vn(()=>{ve&&S===Ha.Initializing&&T(Ha.Initialized)},[ve,S]),w.useEffect(()=>{const{onDragMove:Qe}=le.current,{active:We,activatorEvent:Fe,collisions:It,over:vt}=Dt.current;if(!We||!Fe)return;const dt={active:We,activatorEvent:Fe,collisions:It,delta:{x:Ct.x,y:Ct.y},over:vt};mi.unstable_batchedUpdates(()=>{Qe==null||Qe(dt),g({type:"onDragMove",event:dt})})},[Ct.x,Ct.y]),w.useEffect(()=>{const{active:Qe,activatorEvent:We,collisions:Fe,droppableContainers:It,scrollAdjustedTranslate:vt}=Dt.current;if(!Qe||ce.current==null||!We||!vt)return;const{onDragOver:dt}=le.current,an=It.get(Na),sn=an&&an.rect.current?{id:an.id,rect:an.rect.current,data:an.data,disabled:an.disabled}:null,ke={active:Qe,activatorEvent:We,collisions:Fe,delta:{x:vt.x,y:vt.y},over:sn};mi.unstable_batchedUpdates(()=>{Aa(sn),dt==null||dt(ke),g({type:"onDragOver",event:ke})})},[Na]),Vn(()=>{Dt.current={activatorEvent:I,active:me,activeNode:we,collisionRect:nn,collisions:Rt,droppableRects:Oe,draggableNodes:M,draggingNode:nt,draggingNodeRect:qe,droppableContainers:Y,over:at,scrollableAncestors:ut,scrollAdjustedTranslate:Ct},se.current={initial:qe,translated:nn}},[me,we,Rt,nn,M,nt,qe,Oe,Y,at,ut,Ct]),Hj({...Nt,delta:k,draggingRect:nn,pointerCoordinates:Qn,scrollableAncestors:ut,scrollableAncestorRects:Xn});const dr=w.useMemo(()=>({active:me,activeNode:we,activeNodeRect:ve,activatorEvent:I,collisions:Rt,containerNodeRect:ia,dragOverlay:Yt,draggableNodes:M,droppableContainers:Y,droppableRects:Oe,over:at,measureDroppableContainers:ie,scrollableAncestors:ut,scrollableAncestorRects:Xn,measuringConfiguration:Se,measuringScheduled:xe,windowRect:tn}),[me,we,ve,I,Rt,ia,Yt,M,Y,Oe,at,ie,ut,Xn,Se,xe,tn]),kn=w.useMemo(()=>({activatorEvent:I,activators:_n,active:me,activeNodeRect:ve,ariaDescribedById:{draggable:_e},dispatch:b,draggableNodes:M,over:at,measureDroppableContainers:ie}),[I,_n,me,ve,b,_e,M,at,ie]);return Le.createElement(Xb.Provider,{value:p},Le.createElement(zl.Provider,{value:kn},Le.createElement(u_.Provider,{value:dr},Le.createElement(tu.Provider,{value:Da},u)),Le.createElement(lO,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Le.createElement(mj,{...l,hiddenTextDescribedById:_e}));function wn(){const Qe=(ze==null?void 0:ze.autoScrollEnabled)===!1,We=typeof c=="object"?c.enabled===!1:c===!1,Fe=A&&!Qe&&!We;return typeof c=="object"?{...c,enabled:Fe}:{enabled:Fe}}}),uO=w.createContext(null),Ry="button",dO="Draggable";function fO(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const i=Ul(dO),{activators:r,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=w.useContext(zl),{role:y=Ry,roleDescription:E="draggable",tabIndex:x=0}=s??{},O=(c==null?void 0:c.id)===t,b=w.useContext(O?tu:uO),[g,p]=Sc(),[S,T]=Sc(),A=Fj(r,t),j=yl(n);Vn(()=>(h.set(t,{id:t,key:i,node:g,activatorNode:S,data:j}),()=>{const k=h.get(t);k&&k.key===i&&h.delete(t)}),[h,t]);const M=w.useMemo(()=>({role:y,tabIndex:x,"aria-disabled":a,"aria-pressed":O&&y===Ry?!0:void 0,"aria-roledescription":E,"aria-describedby":f.draggable}),[a,y,x,O,E,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:M,isDragging:O,listeners:a?void 0:A,node:g,over:m,setNodeRef:p,setActivatorNodeRef:T,transform:b}}function f_(){return w.useContext(u_)}const hO="Droppable",mO={timeout:25};function gO(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const i=Ul(hO),{active:r,dispatch:l,over:c,measureDroppableContainers:u}=w.useContext(zl),f=w.useRef({disabled:n}),h=w.useRef(!1),m=w.useRef(null),y=w.useRef(null),{disabled:E,updateMeasurementsFor:x,timeout:O}={...mO,...s},b=yl(x??a),g=w.useCallback(()=>{if(!h.current){h.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),y.current=null},O)},[O]),p=eu({callback:g,disabled:E||!r}),S=w.useCallback((M,k)=>{p&&(k&&(p.unobserve(k),h.current=!1),M&&p.observe(M))},[p]),[T,A]=Sc(S),j=yl(t);return w.useEffect(()=>{!p||!T.current||(p.disconnect(),h.current=!1,p.observe(T.current))},[T,p]),w.useEffect(()=>(l({type:mt.RegisterDroppable,element:{id:a,key:i,disabled:n,node:T,rect:m,data:j}}),()=>l({type:mt.UnregisterDroppable,key:i,id:a})),[a]),w.useEffect(()=>{n!==f.current.disabled&&(l({type:mt.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,l]),{active:r,rect:m,isOver:(c==null?void 0:c.id)===a,node:T,over:c,setNodeRef:A}}function yO(e){let{animation:t,children:n}=e;const[a,s]=w.useState(null),[i,r]=w.useState(null),l=xc(n);return!n&&!a&&l&&s(l),Vn(()=>{if(!i)return;const c=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,a,i]),Le.createElement(Le.Fragment,null,n,a?w.cloneElement(a,{ref:r}):null)}const vO={x:0,y:0,scaleX:1,scaleY:1};function pO(e){let{children:t}=e;return Le.createElement(zl.Provider,{value:c_},Le.createElement(tu.Provider,{value:vO},t))}const bO={position:"fixed",touchAction:"none"},_O=e=>Wc(e)?"transform 250ms ease":void 0,wO=w.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:i,className:r,rect:l,style:c,transform:u,transition:f=_O}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...bO,width:l.width,height:l.height,top:l.top,left:l.left,transform:us.Transform.toString(h),transformOrigin:s&&a?gj(a,l):void 0,transition:typeof f=="function"?f(a):f,...c};return Le.createElement(n,{className:r,style:m,ref:t},i)}),SO=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:i,className:r}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);r!=null&&r.active&&n.node.classList.remove(r.active)}},xO=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:us.Transform.toString(t)},{transform:us.Transform.toString(n)}]},EO={duration:250,easing:"ease",keyframes:xO,sideEffects:SO({styles:{active:{opacity:"0"}}})};function TO(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return Pc((i,r)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=o_(r);if(!u)return;const{transform:f}=qt(r).getComputedStyle(r),h=Wb(f);if(!h)return;const m=typeof t=="function"?t:jO(t);return i_(c,s.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:r,rect:s.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:s,transform:h})})}function jO(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...EO,...e};return i=>{let{active:r,dragOverlay:l,transform:c,...u}=i;if(!t)return;const f={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},h={scaleX:c.scaleX!==1?r.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?r.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-f.x,y:c.y-f.y,...h},y=s({...u,active:r,dragOverlay:l,transform:{initial:c,final:m}}),[E]=y,x=y[y.length-1];if(JSON.stringify(E)===JSON.stringify(x))return;const O=a==null?void 0:a({active:r,dragOverlay:l,...u}),b=l.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{b.onfinish=()=>{O==null||O(),g()}})}}let My=0;function OO(e){return w.useMemo(()=>{if(e!=null)return My++,My},[e])}const NO=Le.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:i,modifiers:r,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggableNodes:E,droppableContainers:x,dragOverlay:O,over:b,measuringConfiguration:g,scrollableAncestors:p,scrollableAncestorRects:S,windowRect:T}=f_(),A=w.useContext(tu),j=OO(h==null?void 0:h.id),M=d_(r,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:O.rect,over:b,overlayNodeRect:O.rect,scrollableAncestors:p,scrollableAncestorRects:S,transform:A,windowRect:T}),k=Jh(m),Y=TO({config:a,draggableNodes:E,droppableContainers:x,measuringConfiguration:g}),X=k?O.setRef:void 0;return Le.createElement(pO,null,Le.createElement(yO,{animation:Y},h&&j?Le.createElement(wO,{key:j,id:h.id,ref:X,as:l,activatorEvent:f,adjustScale:t,className:c,transition:i,rect:k,style:{zIndex:u,...s},transform:M},n):null))});function Oc(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function AO(e,t){return e.reduce((n,a,s)=>{const i=t.get(a);return i&&(n[s]=i),n},Array(e.length))}function _o(e){return e!==null&&e>=0}function DO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function CO(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const wo={scaleX:1,scaleY:1},RO=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:s,overIndex:i,index:r}=e;const l=(t=n[s])!=null?t:a;if(!l)return null;const c=MO(n,r,s);if(r===s){const u=n[i];return u?{x:s<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...wo}:null}return r>s&&r<=i?{x:-l.width-c,y:0,...wo}:r<s&&r>=i?{x:l.width+c,y:0,...wo}:{x:0,y:0,...wo}};function MO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return!a||!s&&!i?0:n<t?s?a.left-(s.left+s.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(s.left+s.width)}const h_=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const i=Oc(t,a,n),r=t[s],l=i[s];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},So={scaleX:1,scaleY:1},Ho=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:i,overIndex:r}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(s===n){const u=i[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...So}:null}const c=kO(i,s,n);return s>n&&s<=r?{x:0,y:-l.height-c,...So}:s<n&&s>=r?{x:0,y:l.height+c,...So}:{x:0,y:0,...So}};function kO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return a?n<t?s?a.top-(s.top+s.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const m_="Sortable",g_=Le.createContext({activeIndex:-1,containerId:m_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:h_,disabled:{draggable:!1,droppable:!1}});function Rr(e){let{children:t,id:n,items:a,strategy:s=h_,disabled:i=!1}=e;const{active:r,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=f_(),h=Ul(m_,n),m=l.rect!==null,y=w.useMemo(()=>a.map(A=>typeof A=="object"&&"id"in A?A.id:A),[a]),E=r!=null,x=r?y.indexOf(r.id):-1,O=u?y.indexOf(u.id):-1,b=w.useRef(y),g=!DO(y,b.current),p=O!==-1&&x===-1||g,S=CO(i);Vn(()=>{g&&E&&f(y)},[g,y,E,f]),w.useEffect(()=>{b.current=y},[y]);const T=w.useMemo(()=>({activeIndex:x,containerId:h,disabled:S,disableTransforms:p,items:y,overIndex:O,useDragOverlay:m,sortedRects:AO(y,c),strategy:s}),[x,h,S.draggable,S.droppable,p,y,O,c,m,s]);return Le.createElement(g_.Provider,{value:T},t)}const UO=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return Oc(n,a,s).indexOf(t)},zO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:i,newIndex:r,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!a||l!==i&&s===r?!1:n?!0:r!==s&&t===c},$O={duration:200,easing:"ease"},y_="transform",LO=us.Transition.toString({property:y_,duration:0,easing:"linear"}),BO={roleDescription:"sortable"};function HO(e){let{disabled:t,index:n,node:a,rect:s}=e;const[i,r]=w.useState(null),l=w.useRef(n);return Vn(()=>{if(!t&&n!==l.current&&a.current){const c=s.current;if(c){const u=ur(a.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,s]),w.useEffect(()=>{i&&r(null)},[i]),i}function Zh(e){let{animateLayoutChanges:t=zO,attributes:n,disabled:a,data:s,getNewIndex:i=UO,id:r,strategy:l,resizeObserverConfig:c,transition:u=$O}=e;const{items:f,containerId:h,activeIndex:m,disabled:y,disableTransforms:E,sortedRects:x,overIndex:O,useDragOverlay:b,strategy:g}=w.useContext(g_),p=qO(a,y),S=f.indexOf(r),T=w.useMemo(()=>({sortable:{containerId:h,index:S,items:f},...s}),[h,s,S,f]),A=w.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:j,node:M,isOver:k,setNodeRef:Y}=gO({id:r,data:T,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:X,activatorEvent:se,activeNodeRect:me,attributes:ce,setNodeRef:ze,listeners:H,isDragging:I,over:K,setActivatorNodeRef:le,transform:_e}=fO({id:r,data:T,attributes:{...BO,...n},disabled:p.draggable}),He=tj(Y,ze),Se=!!X,Oe=Se&&!E&&_o(m)&&_o(O),ie=!b&&I,xe=ie&&Oe?_e:null,en=Oe?xe??(l??g)({rects:x,activeNodeRect:me,activeIndex:m,overIndex:O,index:S}):null,Nt=_o(m)&&_o(O)?i({id:r,items:f,activeIndex:m,overIndex:O}):S,At=X==null?void 0:X.id,ve=w.useRef({activeId:At,items:f,newIndex:Nt,containerId:h}),ia=f!==ve.current.items,Dt=t({active:X,containerId:h,isDragging:I,isSorting:Se,id:r,index:S,items:f,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:u,wasDragging:ve.current.activeId!=null}),Kn=HO({disabled:!Dt,index:S,node:M,rect:j});return w.useEffect(()=>{Se&&ve.current.newIndex!==Nt&&(ve.current.newIndex=Nt),h!==ve.current.containerId&&(ve.current.containerId=h),f!==ve.current.items&&(ve.current.items=f)},[Se,Nt,h,f]),w.useEffect(()=>{if(At===ve.current.activeId)return;if(At!=null&&ve.current.activeId==null){ve.current.activeId=At;return}const nt=setTimeout(()=>{ve.current.activeId=At},50);return()=>clearTimeout(nt)},[At]),{active:X,activeIndex:m,attributes:ce,data:T,rect:j,index:S,newIndex:Nt,items:f,isOver:k,isSorting:Se,isDragging:I,listeners:H,node:M,overIndex:O,over:K,setNodeRef:He,setActivatorNodeRef:le,setDroppableNodeRef:Y,setDraggableNodeRef:ze,transform:Kn??en,transition:Yt()};function Yt(){if(Kn||ia&&ve.current.newIndex===S)return LO;if(!(ie&&!Wc(se)||!u)&&(Se||Dt))return us.Transition.toString({...u,property:y_})}}function qO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Nc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const YO=[ge.Down,ge.Right,ge.Up,ge.Left],Mf=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:i,over:r,scrollableAncestors:l}}=t;if(YO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case ge.Down:a.top<m.top&&c.push(h);break;case ge.Up:a.top>m.top&&c.push(h);break;case ge.Left:a.left>m.left&&c.push(h);break;case ge.Right:a.left<m.left&&c.push(h);break}});const u=vj({collisionRect:a,droppableRects:s,droppableContainers:c});let f=Zb(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const h=i.get(n.id),m=i.get(f),y=m?s.get(m.id):null,E=m==null?void 0:m.node.current;if(E&&y&&h&&m){const O=Fc(E).some((A,j)=>l[j]!==A),b=v_(h,m),g=VO(h,m),p=O||!b?{x:0,y:0}:{x:g?a.width-y.width:0,y:g?a.height-y.height:0},S={x:y.left,y:y.top};return p.x&&p.y?S:vl(S,p)}}}};function v_(e,t){return!Nc(e)||!Nc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function VO(e,t){return!Nc(e)||!Nc(t)||!v_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ds=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],gd=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`,IO=1e3,GO="09",KO="00",Ce=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Wn=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${i})`},Ss=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),c=["","","","","","",""][t.getDay()];return`${n}.${a}.${s}(${c}) ${i}:${r}`},ky=e=>{const t=new Date;return Ce(e)===Ce(t)};function kf({value:e,onChange:t}){const n=w.useRef(null),a=w.useRef(null),s=w.useRef(e),i=w.useRef(!1),[r,l]=w.useState(()=>e&&e.includes(":")?e.split(":")[0]:GO),[c,u]=w.useState(()=>e&&e.includes(":")?e.split(":")[1]:KO);w.useEffect(()=>{if(e&&e.includes(":")&&e!==s.current){const[g,p]=e.split(":");s.current=e,l(g),u(p)}},[e]),w.useEffect(()=>{if(!i.current){i.current=!0;return}const g=`${r}:${c}`;s.current=g,t&&t(g)},[r,c]);const f=(g,p,S)=>{if(!g.current)return;const T=g.current.scrollTop,j=Math.round(T/40),M=String(j).padStart(2,"0");p(M)},h=(g,p)=>{if(!g.current)return;const S=40,T=parseInt(p,10);g.current.scrollTop=T*S};w.useEffect(()=>{h(n,r)},[]),w.useEffect(()=>{h(a,c)},[]);const m=Array.from({length:24},(g,p)=>String(p).padStart(2,"0")),y=Array.from({length:60},(g,p)=>String(p).padStart(2,"0")),E=()=>{const g=(parseInt(r,10)+1)%24,p=String(g).padStart(2,"0");l(p),h(n,p)},x=()=>{const g=(parseInt(r,10)-1+24)%24,p=String(g).padStart(2,"0");l(p),h(n,p)},O=()=>{const g=(parseInt(c,10)+1)%60,p=String(g).padStart(2,"0");u(p),h(a,p)},b=()=>{const g=(parseInt(c,10)-1+60)%60,p=String(g).padStart(2,"0");u(p),h(a,p)};return o.jsxs("div",{className:"apple-time-picker",children:[o.jsxs("div",{className:"picker-arrows-top",children:[o.jsx("button",{className:"picker-arrow-button",onClick:E,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:O,children:""})]}),o.jsxs("div",{className:"picker-container",children:[o.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[o.jsx("div",{className:"picker-spacer"}),m.map(g=>o.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),h(n,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]}),o.jsx("div",{className:"picker-separator",children:":"}),o.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[o.jsx("div",{className:"picker-spacer"}),y.map(g=>o.jsx("div",{className:`picker-item ${g===c?"selected":""}`,onClick:()=>{u(g),h(a,g)},children:g},g)),o.jsx("div",{className:"picker-spacer"})]})]}),o.jsxs("div",{className:"picker-arrows-bottom",children:[o.jsx("button",{className:"picker-arrow-button",onClick:x,children:""}),o.jsx("div",{style:{width:"20px"}}),o.jsx("button",{className:"picker-arrow-button",onClick:b,children:""})]}),o.jsx("div",{className:"picker-selection-indicator"})]})}function xo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:s,listeners:i,setNodeRef:r,transform:l,transition:c,isDragging:u}=Zh({id:e,disabled:n}),f=w.useRef(null),[h,m]=w.useState(!1),y=T=>{if(n&&a){if(!T.target.closest(".section-header"))return;m(!0),f.current=setTimeout(()=>{a(),m(!1)},500)}},E=()=>{f.current&&(clearTimeout(f.current),f.current=null,m(!1))},x=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},O=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},g={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:c},p=n?{onPointerDown:y,onPointerMove:E,onPointerUp:x,onPointerCancel:O,onPointerLeave:O}:{...s,...i},S=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return o.jsx("div",{ref:r,style:g,className:S,...p,children:t})}function XO({title:e,className:t,content:n,setContent:a,isEditing:s,isSaving:i,textareaRef:r,onStartEdit:l,onSave:c,onCancel:u,onKeyDown:f,placeholder:h,emptyMessage:m,children:y}){return o.jsxs("div",{className:t,children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{className:"section-title",children:e}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!s&&o.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),s&&o.jsxs("div",{className:"memo-edit-actions",children:[o.jsx("button",{onClick:c,className:"memo-save-button",disabled:i,children:" "}),o.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),s?o.jsx("textarea",{ref:r,value:n,onChange:E=>a(E.target.value),onKeyDown:f,className:"memo-textarea",placeholder:h}):o.jsx("div",{className:"memo-preview",onClick:l,children:n?o.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((E,x)=>o.jsx("div",{className:"memo-preview-line",children:E||""},x))}):o.jsx("div",{className:"memo-empty",children:m})}),y]})}function p_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,parentBlock:i,rootSetBlocks:r,draggingChildIds:l=[],activeId:c,overId:u}){const{attributes:f,listeners:h,setNodeRef:m,transform:y,transition:E,isDragging:x}=Zh({id:e.id}),O=e.id===c,b=e.id===u&&c&&c!==u,g={cursor:"grab",opacity:O?.4:1,borderTop:b?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"};return o.jsx("div",{ref:m,style:g,children:o.jsx(b_,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:{...f,...h},parentBlock:i,rootSetBlocks:r,draggingChildIds:l,activeId:c,overId:u})})}function b_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:i,parentBlock:r,rootSetBlocks:l,draggingChildIds:c=[],activeId:u,overId:f}){const h=w.useRef(null),m=w.useRef(!1);w.useEffect(()=>{if(a===e.id&&h.current){h.current.focus();const T=h.current.value.length;h.current.setSelectionRange(T,T)}},[a,e.id]),w.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=h.current.scrollHeight+"px")},[e.content]);const y=(T,A,j)=>T.map(M=>{if(M.id===A){const k=j(M);return{...k,children:Array.isArray(k.children)?k.children:[]}}return Array.isArray(M.children)&&M.children.length>0?{...M,children:y(M.children,A,j)}:M}),E=T=>{n(A=>y(A,e.id,j=>({...j,content:T})))},x=T=>{n(A=>y(A,e.id,j=>({...j,children:typeof T=="function"?T(j.children):T})))},O=()=>{n(T=>y(T,e.id,A=>{const j=!A.isOpen;if(j&&(!Array.isArray(A.children)||A.children.length===0)){const M={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...A,isOpen:j,children:[M]}}return{...A,isOpen:j,children:Array.isArray(A.children)?A.children:[]}}))},b=()=>{const T=t.findIndex(j=>j.id===e.id);if(T<=0)return;const A=t[T-1];n(j=>{const M=[...j];M.splice(T,1);const k={...A,children:[...Array.isArray(A.children)?A.children:[],e],isOpen:!0};return M[T-1]=k,M})},g=()=>{!r||!l||l(T=>{const A=(k,Y,X)=>{const se=[];for(let me=0;me<k.length;me++){const ce=k[me];if(ce.id===Y){const ze=ce.children.filter(I=>I.id!==X.id),H={...ce,children:ze};se.push(H),se.push(X)}else if(Array.isArray(ce.children)&&ce.children.length>0){const ze=A(ce.children,Y,X);ze!==ce.children?se.push({...ce,children:ze}):se.push(ce)}else se.push(ce)}return se},j=k=>k.map(Y=>{const X=Array.isArray(Y.children)&&Y.children.length>0;return!X&&Y.isOpen?{...Y,isOpen:!1}:X?{...Y,children:j(Y.children)}:Y}),M=A(T,r.id,e);return j(M)})},p=T=>{const A=[],j=M=>{for(const k of M)A.push(k),k.isOpen&&Array.isArray(k.children)&&k.children.length>0&&j(k.children)};return j(T),A},S=T=>{if(T.key==="Enter"){if(T.shiftKey)return;{if(m.current){T.preventDefault(),T.stopPropagation();return}T.preventDefault(),T.stopPropagation(),m.current=!0;const A=T.target.selectionStart,j={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};A===0?(n(M=>{const k=M.findIndex(X=>X.id===e.id);if(k===-1)return M;const Y=[...M];return Y.splice(k,0,j),Y}),setTimeout(()=>{s(e.id),setTimeout(()=>{m.current=!1},100)},0)):(n(M=>{const k=M.findIndex(X=>X.id===e.id);if(k===-1)return M;const Y=[...M];return Y.splice(k+1,0,j),Y}),setTimeout(()=>{s(j.id),setTimeout(()=>{m.current=!1},100)},0))}}else if(T.key==="Tab"&&T.shiftKey)T.preventDefault(),T.stopPropagation(),r&&l&&g();else if(T.key==="Tab"&&!T.shiftKey)T.preventDefault(),T.stopPropagation(),b();else if(T.key==="Backspace"){const A=T.target.selectionStart;if(e.content===""||A===0){const Y=(()=>{if(l){let me=[];return l(ce=>(me=ce,ce)),me}return t})(),X=p(Y),se=X.findIndex(me=>me.id===e.id);if(se>0){T.preventDefault(),T.stopPropagation();const me=X[se-1],ce=(H,I)=>H.filter(K=>K.id!==I).map(K=>Array.isArray(K.children)&&K.children.length>0?{...K,children:ce(K.children,I)}:K),ze=H=>H.map(I=>{const K=Array.isArray(I.children)&&I.children.length>0;return!K&&I.isOpen?{...I,isOpen:!1}:K?{...I,children:ze(I.children)}:I});l?l(H=>{const I=ce(H,e.id);return ze(I)}):n(H=>{const I=ce(H,e.id);return ze(I)}),setTimeout(()=>{s(me.id)},0)}}}else if(T.key==="ArrowUp"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let Y=[];return l(X=>(Y=X,X)),Y}return t})(),M=p(j),k=M.findIndex(Y=>Y.id===e.id);k>0&&s(M[k-1].id)}else if(T.key==="ArrowDown"&&!T.shiftKey){T.preventDefault(),T.stopPropagation();const j=(()=>{if(l){let Y=[];return l(X=>(Y=X,X)),Y}return t})(),M=p(j),k=M.findIndex(Y=>Y.id===e.id);k<M.length-1&&s(M[k+1].id)}};return o.jsxs("div",{className:"notion-block",children:[i&&o.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),o.jsx("div",{className:"notion-block-controls",children:o.jsx("button",{className:"block-type-button",onClick:O,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),o.jsx("div",{className:"notion-block-content",children:o.jsx("textarea",{ref:h,value:e.content,onChange:T=>E(T.target.value),onKeyDown:S,onFocus:()=>s(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&o.jsx("div",{className:"notion-block-children",children:e.children.map(T=>o.jsx(p_,{block:T,blocks:e.children,setBlocks:x,focusedBlockId:a,setFocusedBlockId:s,parentBlock:e,rootSetBlocks:l||n,draggingChildIds:c,activeId:u,overId:f},T.id))})]})}function QO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,onShowHistory:s}){const[i,r]=w.useState(null),[l,c]=w.useState(null),u=jf(Ba(bl,{activationConstraint:{distance:3}}),Ba(pl,{coordinateGetter:Mf})),f=T=>T.map(A=>{const j=Array.isArray(A.children)&&A.children.length>0;return!j&&A.isOpen?{...A,isOpen:!1}:j?{...A,children:f(A.children)}:A});w.useEffect(()=>{const T=f(e);JSON.stringify(T)!==JSON.stringify(e)&&t(T)},[e]);const h=T=>{const A=[],j=M=>{for(const k of M)A.push(k),k.isOpen&&Array.isArray(k.children)&&k.children.length>0&&j(k.children)};return j(T),A},m=T=>{const A=[],j=M=>{if(Array.isArray(M.children)&&M.children.length>0)for(const k of M.children)A.push(k.id),j(k)};return j(T),A},y=T=>{const{active:A}=T,M=h(e).find(k=>k.id===A.id);r(M)},E=T=>{const{over:A}=T;c((A==null?void 0:A.id)||null)},x=Le.useMemo(()=>i?m(i):[],[i]),O=T=>{const{active:A,over:j}=T;if(r(null),c(null),!j||A.id===j.id)return;const M=h(e),k=M.find(He=>He.id===A.id),Y=M.find(He=>He.id===j.id);if(!k||!Y||m(k).includes(j.id))return;const se=JSON.parse(JSON.stringify(k)),me=(He,Se)=>He.filter(Oe=>Oe.id!==Se).map(Oe=>({...Oe,children:Array.isArray(Oe.children)?me(Oe.children,Se):[]})),ce=(He,Se,Oe)=>{let ie=!1;const xe=[];for(const we of He)if(xe.push(we),we.id===Se&&(xe.push(Oe),ie=!0),Array.isArray(we.children)&&we.children.length>0){const{newChildren:en,wasInserted:Nt}=ze(we.children,Se,Oe);Nt&&(xe[xe.length-1]={...we,children:en},ie=!0)}return{newTree:xe,inserted:ie}},ze=(He,Se,Oe)=>{let ie=!1;const xe=[];for(const we of He)if(xe.push(we),we.id===Se&&(xe.push(Oe),ie=!0),Array.isArray(we.children)&&we.children.length>0){const{newChildren:en,wasInserted:Nt}=ze(we.children,Se,Oe);Nt&&(xe[xe.length-1]={...we,children:en},ie=!0)}return{newChildren:xe,wasInserted:ie}};let H=me(e,k.id);const I=H.length>0&&H[0].id===Y.id;let K,le=!1;if(I)K=[se,...H],le=!0;else{const He=ce(H,Y.id,se);K=He.newTree,le=He.inserted}if(!le){console.warn("Failed to insert block, keeping original state");return}const _e=f(K);t(_e)},b=h(e).filter(T=>!x.includes(T.id)).map(T=>T.id),g=T=>{const A=j=>j.map(M=>({...M,isOpen:T,children:Array.isArray(M.children)?A(M.children):[]}));t(A(e))},p=T=>{for(const A of T)if(!A.isOpen&&Array.isArray(A.children)&&A.children.length>0||Array.isArray(A.children)&&A.children.length>0&&!p(A.children))return!1;return!0},S=p(e);return o.jsxs("div",{className:"key-thoughts-section section-block",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h3",{className:"section-title",children:"  "}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"toggle-all-button",onClick:()=>s&&s(),title:"  ",children:" "}),o.jsx("button",{className:"toggle-all-button",onClick:()=>g(!S),title:S?" ":" ",children:S?" ":" "})]})]}),o.jsx("div",{className:"key-thoughts-content notion-editor",children:o.jsxs(Rf,{sensors:u,collisionDetection:Of,onDragStart:y,onDragOver:E,onDragEnd:O,measuring:{droppable:{strategy:Ji.Always}},children:[o.jsx(Rr,{items:b,strategy:Ho,children:e.map(T=>o.jsx(p_,{block:T,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t,draggingChildIds:x,activeId:i==null?void 0:i.id,overId:l},T.id))}),o.jsx(NO,{children:i?o.jsx("div",{className:"drag-overlay-block",children:o.jsx(b_,{block:i,blocks:e,setBlocks:()=>{},focusedBlockId:null,setFocusedBlockId:()=>{},dragHandleProps:{},parentBlock:null,rootSetBlocks:()=>{},draggingChildIds:[]})}):null})]})})]})}function Uy({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:s,isAdding:i,placeholder:r,children:l}){return o.jsxs("div",{className:t,children:[o.jsx("div",{className:"section-header",children:o.jsx("h3",{className:"section-title",children:e})}),o.jsxs("div",{className:"section-input",children:[o.jsx("input",{type:"text",value:n,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&s()},placeholder:r,className:"todo-input",disabled:i}),o.jsx("button",{onClick:s,className:"add-button",disabled:i,children:""})]}),l]})}function qo({todo:e,index:t,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:f,level:h=0,onCreateRoutine:m,routines:y,onShowRoutineHistory:E,onOpenRoutineSetupModal:x,onOpenHistoryModal:O,currentPageDate:b,isPendingRoutine:g=!1,onRemoveFromUI:p,showSuccessMessage:S}){const[T,A]=w.useState(!1),[j,M]=w.useState(!1),[k,Y]=w.useState(e.text),[X,se]=w.useState(!1),[me,ce]=w.useState(!1),[ze,H]=w.useState(!1),[I,K]=w.useState(""),[le,_e]=w.useState(!1),[He,Se]=w.useState([]),[Oe,ie]=w.useState(!1),[xe,we]=w.useState(!1),[en,Nt]=w.useState([]),[At,ve]=w.useState([]),[ia,Dt]=w.useState([]),[Kn,Yt]=w.useState(null),[nt,qe]=w.useState(!1),[Xe,pn]=w.useState(null),[tn,ut]=w.useState(!1),[Xn,Vt]=w.useState([]),[Qn,bn]=w.useState(""),[kt,ms]=w.useState({}),[Ct,nn]=w.useState(!1),[Rt,Na]=w.useState(null),[at,Aa]=w.useState([]),st=e.routine_id?y.find(z=>z.id===e.routine_id):null,[Da,ra]=w.useState(0),[gs,Ut]=w.useState(0),[_n,dr]=w.useState(0),[kn,wn]=w.useState(!1),[Qe,We]=w.useState(!1),{attributes:Fe,listeners:It,setNodeRef:vt,transform:dt,transition:an,isDragging:sn}=Zh({id:e.id}),ke={transform:us.Transform.toString(dt),transition:an,cursor:sn?"grabbing":"grab"},St=e.text.length>30,ft=()=>{M(!0),Y(e.text)},Gt=async()=>{k.trim()&&k!==e.text&&await s(e.id,k.trim()),M(!1)},la=async z=>{z.key==="Enter"?(z.preventDefault(),await Gt()):z.key==="Escape"&&(M(!1),Y(e.text))},Un=z=>{Vt(G=>G.includes(z)?G.filter(fe=>fe!==z):[...G,z])},Sn=z=>["sun","mon","tue","wed","thu","fri","sat"][z],Jn=async z=>{try{const G=typeof b=="string"?b:Ce(b),re=[...z.hidden_dates||[],G],ee=z.routine_id!==null&&z.routine_id!==void 0;let pe={hidden_dates:re};ee||(pe.deleted=!0,pe.deleted_date=new Date().toISOString());const{error:Ee}=await q.from("todos").update(pe).eq("id",z.id);if(Ee)throw Ee;p&&p(z.id);const Ne=z.routine_id!==null&&z.routine_id!==void 0;S(Ne?"  ":"   ",{type:"hideOnDate",todoId:z.id,hiddenDate:G,wasDeleted:!ee})}catch(G){console.error("  :",G.message),alert("   .")}},zn=async z=>{try{const{error:G}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(G)throw G;p&&p(z.id)}catch(G){console.error(" :",G.message),alert(" .")}},$l=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:G}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(G)throw G;const fe=typeof b=="string"?b:Ce(b),ee=[...z.hidden_dates||[],fe],{error:pe}=await q.from("todos").update({hidden_dates:ee}).eq("id",z.id);if(pe)throw pe;p&&p(z.id),S("   ",{type:"stopRoutineFromToday",todoId:z.id,routineId:z.routine_id,hiddenDate:fe})}catch(G){console.error("  :",G.message),alert("   .")}},Ll=async z=>{try{if(!z.routine_id){alert("  .");return}const{error:G}=await q.from("routines").update({deleted:!0}).eq("id",z.routine_id);if(G)throw G;const{error:fe}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",z.id);if(fe)throw fe;p&&p(z.id),S("   ",{type:"deleteRoutineCompletely",todoId:z.id,routineId:z.routine_id})}catch(G){console.error("   :",G.message),alert("   .")}};w.useEffect(()=>{Xe==="history"&&!kt[e.id]&&!Ct&&(async()=>{nn(!0);try{const{data:G,error:fe}=await q.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(fe)throw fe;ms(re=>({...re,[e.id]:G||[]}))}catch(G){console.error("Error fetching history:",G)}finally{nn(!1)}})()},[Xe,e.id,kt,Ct]),w.useEffect(()=>{Xe==="routine-stats"&&st&&(!Rt||Rt.id!==st.id)&&(async()=>{try{const{data:G,error:fe}=await q.from("todos").select("*").eq("routine_id",st.id).eq("deleted",!1).maybeSingle();if(fe)throw fe;if(G&&G.visible_dates){const re=G.visible_dates.sort().map(ee=>{var pe;return{id:`${G.id}-${ee}`,date:ee,text:G.text,completed:((pe=G.completed_dates)==null?void 0:pe.includes(ee))||!1}});Aa(re),Na(st)}}catch(G){console.error("Error fetching routine history:",G)}})()},[Xe,st,Rt]);const Qs=z=>{if(j||sn)return;const G=z.type.includes("touch")?z.touches[0].clientX:z.clientX,fe=z.type.includes("touch")?z.touches[0].clientY:z.clientY;Ut(G),dr(fe),wn(!1),We(!0)},fr=z=>{if(j||sn||!Qe)return;const G=z.type.includes("touch")?z.touches[0].clientX:z.clientX,fe=z.type.includes("touch")?z.touches[0].clientY:z.clientY,re=gs-G,ee=Math.abs(_n-fe);if(!kn){const pe=Math.abs(re)+ee;if(pe>10){if(Math.abs(re)>pe*.8)wn(!0),z.type.includes("touch")&&z.preventDefault();else if(ee>Math.abs(re)){We(!1);return}}}if(kn){if(z.type.includes("touch")&&z.preventDefault(),re>0&&re<=100)ra(re);else if(re<0&&Da>0){const pe=Da+re;ra(Math.max(0,pe)),Ut(G)}}},Ca=()=>{We(!1),kn&&(wn(!1),ra(Da>40?80:0))},nu=()=>{a(e.id)},Zn=z=>{ve(G=>G.includes(z)?G.filter(fe=>fe!==z):[...G,z])};return o.jsxs("div",{ref:vt,style:ke,className:`todo-item-container ${l?"focused":""}`,children:[o.jsxs("span",{className:"todo-number",onClick:()=>c(e.id),children:[l&&o.jsx("span",{className:"focus-icon",children:""}),t+1]}),o.jsxs("div",{className:"todo-item-wrapper",children:[o.jsx("div",{className:"swipe-background",children:o.jsx("button",{onClick:nu,className:"swipe-delete-button",title:"",children:""})}),o.jsxs("div",{...Fe,...It,className:`todo-item ${e.completed?"completed":""} ${T?"expanded":""} ${sn?"drag-mode":""}`,style:{transform:`translateX(-${Da}px)`,transition:kn||sn?"none":"transform 0.3s ease"},onMouseDown:Qs,onMouseMove:fr,onMouseUp:Ca,onMouseLeave:Ca,onTouchStart:Qs,onTouchMove:fr,onTouchEnd:Ca,onContextMenu:z=>z.preventDefault(),children:[o.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),o.jsx("div",{className:"todo-content",onClick:()=>!j&&St&&A(!T),onDoubleClick:ft,style:{cursor:j?"text":St?"pointer":"default"},children:j?o.jsx("input",{type:"text",value:k,onChange:z=>Y(z.target.value),onBlur:Gt,onKeyDown:la,className:"todo-edit-input",autoFocus:!0}):o.jsx("span",{className:`todo-text ${T?"expanded":""}`,children:e.text})}),(()=>{const z=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,G=e.routine_id&&st,fe=g||e.is_pending_routine;return(f.length>0||z||G||fe)&&o.jsxs("div",{className:"todo-badges",children:[z&&(()=>{const re=new Date(e.completed_at).toISOString().split("T")[0],ee=new Date(e.completed_at).getDate();return o.jsxs("span",{className:"completed-date-badge",title:`${re} `,children:[ee,""]})})(),G&&(()=>{const re=b||e.date,ee=new Date(re+"T00:00:00"),pe=ee.getMonth()+1,Ee=ee.getDate(),Mt=["","","","","","",""][ee.getDay()],Js=`${pe}/${Ee}(${Mt})`;return o.jsxs("span",{className:"routine-date-badge",title:`${st.text} `,children:["for ",Js]})})(),fe&&o.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),f.length>0&&o.jsx("span",{className:"todo-badge clickable",title:" ",onClick:re=>{re.stopPropagation(),me?(se(!1),ce(!1),H(!1)):(se(!0),ce(!0),H(!1),_e(!1),we(!1))},children:""})]})})(),!j&&!e.parent_id&&o.jsx("button",{className:"todo-more-button",onClick:z=>{z.stopPropagation(),qe(!0),pn(null),ut(!1),Vt([]),bn("")},title:"",children:""}),me&&!e.parent_id&&o.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((z,G)=>o.jsx(qo,{todo:z,index:G,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:c,onAddSubTodo:u,subtodos:[],level:h+1,routines:y,onShowRoutineHistory:E,showSuccessMessage:S,onOpenRoutineSetupModal:x,onOpenHistoryModal:O,currentPageDate:b},z.id)),ze&&o.jsxs("div",{className:"subtodo-input-section",children:[o.jsx("input",{type:"text",value:I,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&I.trim()&&(u(e.id,I.trim()),K(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),o.jsx("button",{onClick:()=>{I.trim()&&(u(e.id,I.trim()),K(""))},className:"subtodo-add-button",children:""}),o.jsx("button",{onClick:()=>{K("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),nt&&o.jsx("div",{className:"modal-overlay",onClick:()=>qe(!1),children:o.jsxs("div",{className:"actions-modal-content",onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"actions-modal-header",children:[o.jsx("h3",{children:" "}),o.jsx("button",{onClick:()=>qe(!1),className:"modal-close-button",children:""})]}),o.jsx("div",{className:"todo-edit-section",children:o.jsx("textarea",{value:k,onChange:z=>Y(z.target.value),onBlur:()=>{k.trim()!==""&&k!==e.text?s(e.id,k):k.trim()===""&&Y(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),o.jsxs("div",{className:"actions-modal-body",children:[o.jsxs("div",{className:"actions-menu",children:[o.jsxs("button",{className:`action-menu-item ${Xe==="nanotodo"?"active":""}`,onClick:()=>pn("nanotodo"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${Xe==="routine"?"active":""}`,onClick:()=>{pn("routine");const z=y.find(G=>G.id===e.routine_id);z?(Vt(z.days||[]),bn(z.time_slot||""),ut(!1)):(Vt([]),bn(""),ut(!0))},children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item ${Xe==="history"?"active":""}`,onClick:()=>pn("history"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),e.routine_id&&st&&o.jsxs("button",{className:`action-menu-item ${Xe==="routine-stats"?"active":""}`,onClick:()=>pn("routine-stats"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:`action-menu-item delete ${Xe==="delete"?"active":""}`,onClick:()=>pn("delete"),children:[o.jsx("span",{className:"action-icon",children:""}),o.jsx("span",{children:""})]})]}),o.jsxs("div",{className:"actions-detail",children:[!Xe&&o.jsx("div",{className:"actions-detail-empty",children:o.jsx("p",{children:"  "})}),Xe==="nanotodo"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&o.jsx("div",{className:"subtodo-list-in-modal",children:f.map(z=>o.jsxs("div",{className:"subtodo-item-in-modal",children:[o.jsx("input",{type:"checkbox",checked:z.completed,onChange:()=>n(z.id),className:"subtodo-checkbox-modal"}),o.jsx("span",{className:`subtodo-text-modal ${z.completed?"completed":""}`,children:z.text}),o.jsx("button",{onClick:()=>a(z.id),className:"subtodo-delete-modal",title:"",children:""})]},z.id))}),o.jsxs("div",{className:"subtodo-input-section-modal",children:[o.jsx("input",{type:"text",value:I,onChange:z=>K(z.target.value),onKeyDown:z=>{z.key==="Enter"&&I.trim()&&(u(e.id,I.trim()),K(""))},placeholder:" ...",className:"subtodo-input-modal"}),o.jsx("button",{onClick:()=>{I.trim()&&(u(e.id,I.trim()),K(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),Xe==="routine"&&(()=>{const z=y.find(G=>G.id===e.routine_id);return o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{className:"routine-setup-inline",children:z&&!tn?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Ds.filter(G=>z.days.includes(G.key)).map(G=>o.jsx("span",{className:"routine-day-badge",children:G.label},G.key))}),z.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",z.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:G=>{G.stopPropagation(),z&&(Vt(z.days),bn(z.time_slot||""),ut(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async G=>{G.stopPropagation(),z&&e&&(await m(e.id,e.text,[],null,!0),qe(!1))},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:tn?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(G=>o.jsx("button",{onClick:fe=>{fe.stopPropagation(),Un(G.key)},className:`day-button-inline ${Xn.includes(G.key)?"selected":""}`,children:G.label},G.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx(kf,{value:Qn,onChange:G=>bn(G)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async G=>{G.stopPropagation(),e&&(tn&&z?await m(e.id,e.text,Xn,z.id,!1,Qn):await m(e.id,e.text,Xn,null,!1,Qn),ut(!1),qe(!1))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:G=>{G.stopPropagation(),ut(!1),Vt([]),bn("")},className:"routine-cancel-button",children:""})]})]})})]})})(),Xe==="history"&&(()=>{const z=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],G=z[0],fe=z.map(ee=>({id:`${e.id}-${ee}`,date:ee})),re=kt[e.id]||[];return Ct?o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:"  "}),o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:i(e.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:r(G?new Date(G+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),fe.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:fe.map((ee,pe)=>{const Ee=ee.date===e.date,Ne=r(new Date(ee.date+"T00:00:00"));return o.jsxs("span",{children:[pe>0&&"  ",o.jsxs("span",{style:Ee?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ne.split("(")[0],Ee?"()":""]})]},ee.id)})})]}),(()=>{const ee=new Date(e.created_at).toISOString().split("T")[0],pe=e.date;return ee!==pe&&fe.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),re.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",re.length,")"]}),re.map(ee=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[i(ee.changed_at),ee.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(ee.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:pe=>{pe.stopPropagation(),Zn(ee.id)},children:At.includes(ee.id)?"":""})]}),At.includes(ee.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:ee.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:ee.new_text})]})]})]},ee.id))]})]})]})})(),Xe==="routine-stats"&&st&&(()=>{if(!Rt||Rt.id!==st.id||at.length===0)return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",st.text," "]}),o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!Rt||Rt.id!==st.id?" ...":" ."})]});const z=at[0],G=new Date(z.date),fe=new Date,re={};at.forEach(Ee=>{re[Ee.date]=Ee.completed});const ee=[];let pe=new Date(G);for(;pe<=fe;){const Ee=pe.getFullYear(),Ne=pe.getMonth(),Mt=`${Ee}-${Ne+1}`;ee.find(Zs=>Zs.key===Mt)||ee.push({key:Mt,year:Ee,month:Ne,days:[]});const Js=ee.find(Zs=>Zs.key===Mt),Ra=Ce(pe),Ma=pe.getDay(),ys=Sn(Ma),au=st.days.includes(ys);Js.days.push({date:new Date(pe),dateStr:Ra,day:pe.getDate(),dayOfWeek:Ma,isCompleted:re[Ra]===!0,isRoutineDay:au,hasTodo:re[Ra]!==void 0}),pe.setDate(pe.getDate()+1)}return o.jsxs("div",{className:"actions-detail-content",children:[o.jsxs("h4",{children:[" ",st.text," "]}),o.jsxs("div",{className:"routine-history-content",children:[o.jsx("div",{className:"routine-history-calendar",children:ee.map(Ee=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[Ee.year," ",Ee.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),Ee.days.length>0&&Array(Ee.days[0].dayOfWeek).fill(null).map((Ne,Mt)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${Mt}`)),Ee.days.map((Ne,Mt)=>{if(Mt>0&&Ne.day===1){const Ra=6-Ee.days[Mt-1].dayOfWeek;return o.jsxs(Le.Fragment,{children:[Array(Ra).fill(null).map((Ma,ys)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${Mt}-${ys}`)),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${Ne.isCompleted?"completed":""} ${Ne.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:Ne.day}),Ne.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]},Ne.dateStr)}return o.jsxs("div",{className:`history-day-cell ${Ne.isCompleted?"completed":""} ${Ne.isRoutineDay?"":"not-routine-day"}`,title:`${Ne.dateStr}${Ne.isRoutineDay?"":" (  )"}${Ne.isCompleted?" - ":Ne.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:Ne.day}),Ne.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},Ne.dateStr)})]})]},Ee.key))}),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[at.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[at.filter(Ee=>Ee.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[at.filter(Ee=>!Ee.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[at.length>0?Math.round(at.filter(Ee=>Ee.completed).length/at.length*100):0,"%"]})]})]})]})]})})(),Xe==="delete"&&o.jsxs("div",{className:"actions-detail-content",children:[o.jsx("h4",{children:" "}),o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:e.text})}),(()=>{var re;const z=((re=e.visible_dates)==null?void 0:re.length)>0?e.visible_dates:[e.date||e.created_date],G=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Jn(e),qe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await $l(e),qe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await Ll(e),qe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):z.length>1||G?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Jn(e),qe(!1))},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await zn(e),qe(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"delete-confirm-description",children:"   ?"}),o.jsx("div",{className:"delete-options-simple",children:o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await zn(e),qe(!1)},children:[o.jsx("span",{className:"option-icon",children:""}),o.jsxs("div",{className:"option-content",children:[o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}const zy=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function JO(){var ym,vm;const[e,t]=w.useState(null),[n,a]=w.useState(!0),[s,i]=w.useState([]),[r,l]=w.useState(""),[c,u]=w.useState(""),[f,h]=w.useState(""),[m,y]=w.useState(!0),[E,x]=w.useState(!1),[O,b]=w.useState(!1),[g,p]=w.useState(new Date),[S,T]=w.useState(null),[A,j]=w.useState(!1),[M,k]=w.useState(!1),[Y,X]=w.useState(""),[se,me]=w.useState(null),[ce,ze]=w.useState(!1),[H,I]=w.useState([]),K=(d,v=null)=>(X(d),me(v),k(!0),setTimeout(()=>{k(!1),X(""),me(null)},5e3)),le=async()=>{if(se)try{const{type:d,todoId:v,routineId:_,hiddenDate:C,wasDeleted:N}=se;if(d==="hideOnDate"){const{data:D,error:U}=await q.from("todos").select("*").eq("id",v).single();if(U)throw U;let L={hidden_dates:(D.hidden_dates||[]).filter(V=>V!==C)};N&&(L.deleted=!1,L.deleted_date=null);const{error:B}=await q.from("todos").update(L).eq("id",v);if(B)throw B}else if(d==="stopRoutineFromToday"){const{error:D}=await q.from("routines").update({deleted:!1}).eq("id",_);if(D)throw D;const{data:U,error:R}=await q.from("todos").select("*").eq("id",v).single();if(R)throw R;const L=(U.hidden_dates||[]).filter(V=>V!==C),{error:B}=await q.from("todos").update({hidden_dates:L}).eq("id",v);if(B)throw B}else if(d==="deleteRoutineCompletely"){const{error:D}=await q.from("routines").update({deleted:!1}).eq("id",_);if(D)throw D;const{error:U}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",v);if(U)throw U}k(!1),X(""),me(null),ka()}catch(d){console.error("  :",d.message),alert("   .")}},[_e,He]=w.useState(null),[Se,Oe]=w.useState(!1),[ie,xe]=w.useState([]),[we,en]=w.useState(""),[Nt,At]=w.useState([]),[ve,ia]=w.useState(""),[Dt,Kn]=w.useState(!1),[Yt,nt]=w.useState(!1),qe=w.useRef(new Set),[Xe,pn]=w.useState(null),[tn,ut]=w.useState(""),[Xn,Vt]=w.useState(!1),[Qn,bn]=w.useState(null),[kt,ms]=w.useState([]),[Ct,nn]=w.useState([]),[Rt,Na]=w.useState([]),[at,Aa]=w.useState(!1),[st,Da]=w.useState(!1),[ra,gs]=w.useState(!1),[Ut,_n]=w.useState(""),[dr,kn]=w.useState(!1),[wn,Qe]=w.useState(!1),[We,Fe]=w.useState(""),[It,vt]=w.useState(!1),dt=w.useRef(null),[an,sn]=w.useState(!1),[ke,St]=w.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),ft=w.useRef(null),[Gt,la]=w.useState(null),[Un,Sn]=w.useState([]),[Jn,zn]=w.useState(!1),[$l,Ll]=w.useState(!1),[Qs,fr]=w.useState([]),[Ca,nu]=w.useState("1week"),[Zn,z]=w.useState([]),[G,fe]=w.useState(!1),[re,ee]=w.useState(""),[pe,Ee]=w.useState(null),[Ne,Mt]=w.useState(""),[Js,Ra]=w.useState(!1),[Ma,ys]=w.useState(""),[au,Zs]=w.useState(!1),[__,Ph]=w.useState(!1),[Bl,Hl]=w.useState(null),[w_,S_]=w.useState({}),[Wh,Fh]=w.useState([]),[su,hr]=w.useState([]),[iu,ql]=w.useState(!1),[ru,mr]=w.useState(""),[Pn,x_]=w.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Ps,Ws]=w.useState(!1),[em,Yl]=w.useState(["memo","routine","normal","key-thoughts"]),lu=w.useRef(new Set),ou=w.useRef(!1),vs=w.useRef(null),[gr,E_]=w.useState(0),cu=w.useRef(null),[T_,yr]=w.useState(!1),[Vl,uu]=w.useState(null),Il=()=>{if(Zn.length===0)return"";const d=Math.floor(Math.random()*Zn.length);return Zn[d]},j_=()=>{Ra(!0);let d=Il(),v=0;for(;d===Ma&&Zn.length>1&&v<10;)d=Il(),v++;setTimeout(()=>{Ra(!1),ys(d)},1e3)},O_=async()=>{try{const d=`DUMMY-${Date.now()}`,v=new Date(2025,10,16),_=[],C=[],N="2025-11-14";_.push({text:`[${d}] : 14--`,date:N,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${d}] : 14-14`,date:N,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${d}] : 14-15`,date:N,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${d}] : 14-16`,date:N,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const D="2025-11-15";_.push({text:`[${d}] : 15--`,date:D,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${d}] : 15-15`,date:D,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${d}] : 15-16`,date:D,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const U="2025-11-16";_.push({text:`[${d}] : 16-`,date:U,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${d}] : 16-16`,date:U,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),_.push({text:`[${d}] : 14-15-`,date:D,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${d}] : 14-15-15`,date:D,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),_.push({text:`[${d}] : 15-16-`,date:U,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${d}] : 15-16-16`,date:U,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${d}] : 14-16-`,date:U,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${d}] : 14-16-16`,date:U,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const R="2025-11-17";_.push({text:`[${d}] : 16-17-`,date:R,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${d}] : 15-17-`,date:R,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${d}] : 14-17-`,date:R,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const L="2025-11-18";_.push({text:`[${d}] : 16-18-`,date:L,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${d}] : 15-18-`,date:L,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:B,error:V}=await q.from("todos").insert(_).select();if(V)throw V;const P=B.find(te=>te.text.includes("14--"));P&&C.push({todo_id:P.id,previous_text:`[${d}] : 14--1`,new_text:`[${d}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:D},{todo_id:P.id,previous_text:`[${d}] : 14--2`,new_text:`[${d}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:U});const J=B.find(te=>te.text.includes("15--"));if(J&&C.push({todo_id:J.id,previous_text:`[${d}] : 15--1`,new_text:`[${d}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:U}),C.length>0){const{error:te}=await q.from("todo_history").insert(C);te&&console.error("  :",te.message)}Na(te=>[...te,{sessionId:d,createdAt:new Date().toISOString(),count:_.length,historyCount:C.length}]),alert(`    !
: ${_.length}
: ${C.length}
 ID: ${d}`),ka()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},N_=async d=>{if(window.confirm(`   "${d}"   ?

      ,     .`))try{const{data:_,error:C}=await q.from("todos").select("id").like("text",`[${d}]%`);if(C)throw C;if(_&&_.length>0){const D=_.map(R=>R.id),{error:U}=await q.from("todo_history").delete().in("todo_id",D);U&&console.error("  :",U.message)}const{error:N}=await q.from("todos").delete().like("text",`[${d}]%`);if(N)throw N;Na(D=>D.filter(U=>U.sessionId!==d)),alert(`  ${d}  !`),ka()}catch(_){console.error("   :",_.message),alert("    : "+_.message)}},A_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:v,error:_}=await q.from("todos").select("id").like("text","[DUMMY-%");if(_)throw _;if(v&&v.length>0){const N=v.map(U=>U.id),{error:D}=await q.from("todo_history").delete().in("todo_id",N);D&&console.error("  :",D.message)}const{error:C}=await q.from("todos").delete().like("text","[DUMMY-%");if(C)throw C;Na([]),alert("     !"),ka()}catch(v){console.error("    :",v.message),alert("     : "+v.message)}},D_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(v)throw v;if(!d||d.length===0){alert(" .");return}const _={};d.forEach(V=>{_[V.text]||(_[V.text]=[]),_[V.text].push(V)});const C=Object.entries(_).filter(([V,P])=>P.length>1);if(C.length===0){alert("  .");return}let N=`  :

`,D=[];if(C.forEach(([V,P])=>{N+=`"${V}" - ${P.length}
`;const J=P.slice(1);D.push(...J),J.forEach(be=>{const Kt=new Date(be.created_at).toLocaleString("ko-KR");N+=`    : ${Kt}
`});const te=P[0],oe=new Date(te.created_at).toLocaleString("ko-KR");N+=`   : ${oe}

`}),N+=`
 ${D.length}   .`,!window.confirm(N+`

     ,     .

?`))return;const R=D.map(V=>V.id),{error:L}=await q.from("todo_history").delete().in("todo_id",R);L&&console.error("  :",L.message);const{error:B}=await q.from("todos").delete().in("id",R);if(B)throw B;alert(` ${D.length}   .`),ka()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},C_=()=>{const d=new Date(g);d.setDate(d.getDate()-1),p(d)},R_=()=>{const d=new Date(g);d.setDate(d.getDate()+1),p(d)},M_=d=>{const v=new Date(d.target.value+"T00:00:00");p(v)},k_=async(d,v)=>{try{const _=Ce(d),C=Ce(v),{data:N,error:D}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(D)throw D;const U=(N||[]).filter(R=>R.hidden_dates&&Array.isArray(R.hidden_dates)&&R.hidden_dates.includes(_)?!1:R.visible_dates&&Array.isArray(R.visible_dates)&&R.visible_dates.length>0?R.visible_dates.includes(_):R.date===_);if(U.length===0)return;for(const R of U){let L=R.visible_dates||[R.date];if(L.includes(C))continue;const B=[...L,C].sort(),{error:V}=await q.from("todos").update({visible_dates:B}).eq("id",R.id);V&&console.error(` ${R.id}  :`,V.message)}}catch(_){console.error("   :",_.message)}},tm=async()=>{try{const{data:d,error:v}=await q.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(v)throw v;xe(d||[])}catch(d){console.error("  :",d.message)}},U_=async()=>{var d;if(!(we.trim()===""||Dt))try{Kn(!0);const v={text:we,days:Nt,start_date:Ce(g),user_id:(d=e==null?void 0:e.user)==null?void 0:d.id};ve&&(v.time_slot=ve);const{data:_,error:C}=await q.from("routines").insert([v]).select();if(C)throw C;xe([_[0],...ie]),en(""),At([]),ia("")}catch(v){console.error("  :",v.message)}finally{Kn(!1)}},Fs=async(d,v,_,C=null,N=!1,D="",U=null)=>{var R;try{if(N){const{error:L}=await q.from("todos").update({routine_id:null}).eq("id",d);if(L)throw L;i(B=>B.map(V=>V.id===d?{...V,routine_id:null}:V));return}if(C){const{error:L}=await q.from("routines").update({days:_,time_slot:D}).eq("id",C);if(L)throw L;const{error:B}=await q.from("todos").update({is_pending_routine:_.length===0}).eq("id",d);if(B)throw B;xe(V=>V.map(P=>P.id===C?{...P,days:_,time_slot:D}:P)),i(V=>V.map(P=>P.id===d?{...P,is_pending_routine:_.length===0}:P))}else{const L={text:v,days:_,time_slot:D,start_date:U||Ce(g),user_id:(R=e==null?void 0:e.user)==null?void 0:R.id},{data:B,error:V}=await q.from("routines").insert([L]).select();if(V)throw V;const{error:P}=await q.from("todos").update({routine_id:B[0].id,is_pending_routine:_.length===0}).eq("id",d);if(P)throw P;i(J=>J.map(te=>te.id===d?{...te,routine_id:B[0].id,is_pending_routine:_.length===0}:te)),xe(J=>[B[0],...J])}}catch(L){console.error("  :",L.message)}},z_=d=>{pn(d.id),ut(d.text),nn(d.days)},nm=()=>{pn(null),ut(""),nn([])},$_=async()=>{if(!(!Xe||tn.trim()===""||Ct.length===0))try{const{error:d}=await q.from("routines").update({text:tn.trim(),days:Ct}).eq("id",Xe);if(d)throw d;xe(ie.map(v=>v.id===Xe?{...v,text:tn.trim(),days:Ct}:v)),nm()}catch(d){console.error("  :",d.message)}},L_=d=>{nn(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},B_=async d=>{const v=ie.find(N=>N.id===d),_=v?v.text:" ";if(window.confirm(`  "${_}"() ?

    ,     .
(   )`))try{const{error:N}=await q.from("routines").update({deleted:!0}).eq("id",d);if(N)throw N;const{error:D}=await q.from("todos").update({routine_id:null}).eq("routine_id",d);D&&console.error("  ID  :",D.message),xe(ie.filter(U=>U.id!==d)),i(U=>U.map(R=>R.routine_id===d?{...R,routine_id:null}:R))}catch(N){console.error("  :",N.message)}},H_=async d=>{if(!ou.current)try{ou.current=!0;const{data:v,error:_}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(_)throw _;if(!v||v.length===0)return;const C=v.filter(N=>{const D=new Date(N.created_at);return!(Ce(D)>=d||(N.visible_dates||[]).includes(d)||(N.hidden_dates||[]).includes(d))});for(const N of C){const D=[...N.visible_dates||[],d],{error:U}=await q.from("todos").update({visible_dates:D}).eq("id",N.id);U&&console.error(` ${N.id}  :`,U.message)}}catch(v){console.error("  :",v.message)}finally{ou.current=!1}},am=async d=>{var v;if(!lu.current.has(d))try{lu.current.add(d);const _=new Date(d),C=zy(_.getDay()),{data:N,error:D}=await q.from("routines").select("*").eq("deleted",!1);if(D)throw D;const U=N.filter(R=>{const L=R.days||[],B=L.length===0||L.includes(C);if(R.start_date){const V=new Date(R.start_date),P=_>=V;return B&&P}return B});if(U.length===0)return;for(const R of U){const L=R.text,{data:B,error:V}=await q.from("todos").select("*").eq("routine_id",R.id).eq("deleted",!1);if(V)throw V;if(B&&B.length>1){console.warn(` ${R.id}    (${B.length}).     .`);for(let J=1;J<B.length;J++)await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",B[J].id)}const P=B&&B.length>0?B[0]:null;if(P){const J=P.visible_dates||[];if(J.includes(d))continue;const te=[...J,d].sort(),{error:oe}=await q.from("todos").update({visible_dates:te}).eq("id",P.id);oe&&console.error("    :",oe.message)}else{const{error:J}=await q.from("todos").insert([{text:L,completed:!1,date:d,visible_dates:[d],hidden_dates:[],order_index:0,routine_id:R.id,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]);J&&console.error("   :",J.message)}}}catch(_){console.error("   :",_.message)}finally{setTimeout(()=>{lu.current.delete(d)},1e3)}},q_=async()=>{const v=Ce(new Date);await am(v)},Gl=async d=>{try{const{data:v,error:_}=await q.from("todos").select("*").eq("routine_id",d.id).eq("deleted",!1);if(_)throw _;const C=v&&v.length>0?v[0]:null;if(C&&C.visible_dates){const N=C.visible_dates.sort().map(D=>({id:`${C.id}-${D}`,date:D,text:C.text,completed:C.completed,routine_id:C.routine_id}));ms(N)}else ms([]);bn(d),Vt(!0)}catch(v){console.error("   :",v.message),alert("   : "+v.message)}},sm=()=>{Vt(!1),bn(null),ms([])},Y_=()=>{Oe(!0),tm()},im=()=>{Oe(!1),en(""),At([])},V_=d=>{At(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])};w.useEffect(()=>{let d=null;const v=()=>{document.body.classList.add("is-scrolling"),d&&clearTimeout(d),d=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v),d&&clearTimeout(d)}},[]),w.useEffect(()=>{q.auth.getSession().then(({data:{session:v}})=>{t(v),a(!1)});const{data:{subscription:d}}=q.auth.onAuthStateChange((v,_)=>{t(_)});return()=>d.unsubscribe()},[]),w.useEffect(()=>{e&&tm()},[e]),w.useEffect(()=>{e&&Kl()},[e]),w.useEffect(()=>{e&&fm()},[e]),w.useEffect(()=>{e&&(uw(),fw())},[e]),w.useEffect(()=>{if(!e)return;const d=setTimeout(()=>{ke.length>0&&gm()},IO);return()=>clearTimeout(d)},[ke,e]),w.useEffect(()=>{e&&yw()},[e]),w.useEffect(()=>{Zn.length>0&&!Ma&&ys(Il())},[Zn]),w.useEffect(()=>{if(!vs.current)return;const d=vs.current,v=Pn==="horizontal";let _=!1,C=0,N=0,D=0;const U=J=>J.type.includes("touch")?v?J.touches[0].pageX:J.touches[0].pageY:v?J.pageX:J.pageY,R=J=>{J.target.closest(".section-block")||(_=!0,C=U(J),N=v?d.scrollLeft:d.scrollTop,d.style.transition="none",d.style.transform=v?"translateX(0)":"translateY(0)",D=0)},L=()=>{_&&D!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",D=0},300)),_=!1},B=()=>{D!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=v?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",D=0},300)),_=!1},V=J=>{if(!_)return;J.preventDefault();const oe=(U(J)-C)*1.5,be=N-oe,Kt=v?d.scrollWidth-d.clientWidth:d.scrollHeight-d.clientHeight;if(be<0){const ei=-be;D=Math.min(ei*.3,100),v?(d.scrollLeft=0,d.style.transform=`translateX(${D}px)`):(d.scrollTop=0,d.style.transform=`translateY(${D}px)`)}else if(be>Kt){const ei=be-Kt;D=-Math.min(ei*.3,100),v?(d.scrollLeft=Kt,d.style.transform=`translateX(${D}px)`):(d.scrollTop=Kt,d.style.transform=`translateY(${D}px)`)}else D=0,d.style.transform=v?"translateX(0)":"translateY(0)",v?d.scrollLeft=be:d.scrollTop=be},P=J=>{v&&J.target.closest(".section-block")&&J.deltaX!==0&&J.preventDefault()};return d.addEventListener("mousedown",R),document.addEventListener("mouseup",B),document.addEventListener("mouseleave",L),d.addEventListener("mousemove",V),d.addEventListener("touchstart",R,{passive:!0}),d.addEventListener("touchmove",V,{passive:!1}),d.addEventListener("touchend",B),d.addEventListener("touchcancel",B),d.addEventListener("wheel",P,{passive:!1}),()=>{d.removeEventListener("mousedown",R),document.removeEventListener("mouseup",B),document.removeEventListener("mouseleave",L),d.removeEventListener("mousemove",V),d.removeEventListener("touchstart",R),d.removeEventListener("touchmove",V),d.removeEventListener("touchend",B),d.removeEventListener("touchcancel",B),d.removeEventListener("wheel",P)}},[Pn,s,ie]),w.useEffect(()=>{if(Pn!=="horizontal"||!vs.current)return;const d=vs.current,v=()=>{const _=d.querySelectorAll(".section-block");if(_.length===0)return;const C=d.getBoundingClientRect(),N=C.left+C.width/2;let D=0,U=1/0;_.forEach((R,L)=>{const B=R.getBoundingClientRect(),V=B.left+B.width/2,P=Math.abs(V-N);P<U&&(U=P,D=L)}),E_(D)};return d.addEventListener("scroll",v),v(),()=>d.removeEventListener("scroll",v)},[Pn,s,ie]),w.useEffect(()=>{if(!cu.current)return;const d=cu.current;let v=!1,_=0,C=0,N=0;const D=B=>{B.target.closest(".section-block")||(v=!0,_=B.pageY,C=d.scrollTop,d.style.transition="none",d.style.transform="translateY(0)",N=0)},U=()=>{v&&N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),v=!1},R=()=>{N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),v=!1},L=B=>{if(!v)return;B.preventDefault();const P=(B.pageY-_)*1.5,J=C-P,te=d.scrollHeight-d.clientHeight;if(J<0){const oe=-J;N=Math.min(oe*.3,100),d.scrollTop=0,d.style.transform=`translateY(${N}px)`}else if(J>te){const oe=J-te;N=-Math.min(oe*.3,100),d.scrollTop=te,d.style.transform=`translateY(${N}px)`}else N=0,d.style.transform="translateY(0)",d.scrollTop=J};return d.addEventListener("mousedown",D),document.addEventListener("mouseup",R),document.addEventListener("mouseleave",U),d.addEventListener("mousemove",L),()=>{d.removeEventListener("mousedown",D),document.removeEventListener("mouseup",R),document.removeEventListener("mouseleave",U),d.removeEventListener("mousemove",L)}},[s,ie]),w.useEffect(()=>{$l&&um()},[Ca]),w.useEffect(()=>{const d=async()=>{const _=new Date,C=new Date(_);C.setHours(24,0,0,0);const N=C.getTime()-_.getTime();return setTimeout(async()=>{const U=new Date(_),R=new Date(_);R.setDate(R.getDate()+1),await k_(U,R),await q_(),p(new Date),d()},N)},v=d();return()=>clearTimeout(v)},[]),w.useEffect(()=>{ka();const d=Ce(g),v=q.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${d}`},_=>{_.eventType==="INSERT"?i(C=>C.some(D=>D.id===_.new.id)?C:[...C,_.new].sort((D,U)=>D.order_index-U.order_index)):_.eventType==="UPDATE"?i(C=>qe.current.has(_.new.id)?C:C.map(N=>N.id===_.new.id?_.new:N).sort((N,D)=>N.order_index-D.order_index)):_.eventType==="DELETE"&&i(C=>C.filter(N=>N.id!==_.old.id))}).subscribe(_=>{});return()=>{q.removeChannel(v)}},[g]),w.useEffect(()=>{if(E){const d=window.scrollY,v=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",v>0&&(document.body.style.paddingRight=`${v}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,d)}}},[E]);const Kl=async()=>{try{const{data:d,error:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(v)throw v;if(d&&d.length>0){const _=d.map(C=>C.message);z(_),Ma||ys(_[0])}}catch(d){console.error("   :",d.message)}},rm=async d=>{var v;try{const{data:_}=await q.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),C=_&&_.length>0?_[0].order_index:0,{error:N}=await q.from("encouragement_messages").insert([{message:d,order_index:C+1,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]);if(N)throw N;await Kl()}catch(_){console.error("   :",_.message),alert("   .")}},I_=async(d,v)=>{try{const{data:_}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!_||d>=_.length)throw new Error("   .");const C=_[d],{error:N}=await q.from("encouragement_messages").update({message:v}).eq("id",C.id);if(N)throw N;await Kl()}catch(_){console.error("   :",_.message),alert("   .")}},G_=async d=>{try{const{data:v}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!v||d>=v.length)throw new Error("   .");const _=v[d],{error:C}=await q.from("encouragement_messages").delete().eq("id",_.id);if(C)throw C;await Kl()}catch(v){console.error("   :",v.message),alert("   .")}},ka=async()=>{try{y(!0);const d=Ce(g);ky(g)&&await H_(d),await am(d);const{data:v,error:_}=await q.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(_)throw _;const C=(v||[]).filter(N=>N.hidden_dates&&Array.isArray(N.hidden_dates)&&N.hidden_dates.includes(d)?!1:N.visible_dates&&Array.isArray(N.visible_dates)&&N.visible_dates.length>0?N.visible_dates.includes(d):N.date===d);i(C)}catch(d){console.error("   :",d.message)}finally{y(!1)}},K_=async()=>{try{const{data:d,error:v}=await q.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(v)throw v;I(d||[])}catch(d){console.error("  :",d.message)}},X_=async()=>{var d,v;if(!(c.trim()===""||O))try{b(!0);const _=Ce(g),{data:C,error:N}=await q.from("routines").insert([{text:c,days:[],start_date:_,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]).select();if(N)throw N;const D=C[0],U=s.filter(V=>!V.parent_id&&V.is_pending_routine),R=U.length>0?Math.max(...U.map(V=>V.order_index))+1:1,{data:L,error:B}=await q.from("todos").insert([{text:c,completed:!1,order_index:R,date:_,visible_dates:[_],hidden_dates:[],routine_id:D.id,is_pending_routine:!0,user_id:(v=e==null?void 0:e.user)==null?void 0:v.id}]).select();if(B)throw B;xe([D,...ie]),i([...s,L[0]]),u("")}catch(_){console.error("   :",_.message)}finally{b(!1)}},Q_=async()=>{var d;if(!(f.trim()===""||O))try{b(!0);const v=s.filter(U=>!U.parent_id&&U.routine_id===null),_=v.length>0?Math.max(...v.map(U=>U.order_index))+1:1,C=Ce(g),{data:N,error:D}=await q.from("todos").insert([{text:f,completed:!1,order_index:_,date:C,visible_dates:[C],hidden_dates:[],user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]).select();if(D)throw D;i([...s,N[0]]),h("")}catch(v){console.error("   :",v.message)}finally{b(!1)}},du=async d=>{const v=s.find(_=>_.id===d);if(v)try{const _=!v.completed,C=_?new Date().toISOString():null,{error:N}=await q.from("todos").update({completed:_,completed_at:C}).eq("id",d);if(N)throw N;i(s.map(D=>D.id===d?{...D,completed:_,completed_at:C}:D))}catch(_){console.error("   :",_.message)}},fu=d=>{i(s.filter(v=>v.id!==d))},hu=async d=>{var N;const v=s.find(D=>D.id===d);if(!v)return;const _=((N=v.visible_dates)==null?void 0:N.length)>0?v.visible_dates:[v.date||v.created_date],C=v.original_todo_id!==null&&v.original_todo_id!==void 0;_.length>1||C?(uu(v),yr(!0)):await J_(d)},J_=async d=>{try{const v=s.find(N=>N.id===d);if(!v)return;T(v);const _=Ce(g),{error:C}=await q.from("todos").update({deleted:!0,deleted_date:_}).eq("id",d);if(C)throw C;i(s.filter(N=>N.id!==d)),j(!0),setTimeout(()=>{j(!1),T(null)},5e3)}catch(v){console.error("   :",v.message)}},Z_=async d=>{try{const v=Ce(g),C=[...d.hidden_dates||[],v],{error:N}=await q.from("todos").update({hidden_dates:C}).eq("id",d.id);if(N)throw N;i(s.filter(D=>D.id!==d.id)),yr(!1),uu(null)}catch(v){console.error(" :",v.message)}},P_=async d=>{try{const v=Ce(g),{error:_}=await q.from("todos").update({deleted:!0,deleted_date:v}).eq("id",d.id);if(_)throw _;i(s.filter(C=>C.id!==d.id)),yr(!1),uu(null)}catch(v){console.error(" :",v.message)}},W_=async()=>{if(S)try{const{error:d}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",S.id);if(d)throw d;i(v=>{const _={...S,deleted:!1,deleted_date:null};return[...v,_].sort((N,D)=>N.order_index-D.order_index)}),j(!1),T(null)}catch(d){console.error("  :",d.message)}},F_=async d=>{if(window.confirm(`  ?

      .`))try{const{error:_}=await q.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",d);if(_)throw _;I(H.filter(C=>C.id!==d)),ka(),alert(" !")}catch(_){console.error(" :",_.message),alert("  : "+_.message)}},ew=async d=>{if(window.confirm(`     ?

    .`))try{const{error:_}=await q.from("todos").delete().eq("id",d);if(_)throw _;I(H.filter(C=>C.id!==d)),alert("  .")}catch(_){console.error("  :",_.message),alert("   : "+_.message)}},tw=async()=>{if(!(H.length===0||!window.confirm(`   ?

${H.length}   .
    .`)))try{const v=H.map(C=>C.id),{error:_}=await q.from("todos").delete().in("id",v);if(_)throw _;I([]),alert(` ${v.length}   .`)}catch(v){console.error("  :",v.message),alert("   : "+v.message)}},nw=()=>{ze(!0),K_()},lm=()=>{ze(!1)},aw=async()=>{Ll(!0),await um()},om=()=>{Ll(!1),fr([])},mu=async d=>{Hl(d);try{const{data:v,error:_}=await q.from("todo_history").select("*").eq("todo_id",d.id).order("changed_at",{ascending:!1});if(_)throw _;S_(C=>({...C,[d.id]:v||[]}))}catch(v){console.error("Error fetching history:",v)}Zs(!0)},cm=()=>{Zs(!1),Hl(null),Fh([])},sw=d=>{Fh(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},gu=d=>{Hl(d);const v=ie.find(_=>_.id===d.routine_id);v?(hr(v.days||[]),mr(v.time_slot||""),ql(!1)):(hr([]),mr(""),ql(!0)),Ph(!0)},vr=()=>{Ph(!1),Hl(null),hr([]),mr(""),ql(!1)},iw=d=>{hr(v=>v.includes(d)?v.filter(_=>_!==d):[...v,d])},um=async()=>{try{const d=new Date,v=Ce(d);let _=null;if(Ca!=="all")switch(_=new Date(d),Ca){case"1week":_.setDate(d.getDate()-7);break;case"2weeks":_.setDate(d.getDate()-14);break;case"1month":_.setMonth(d.getMonth()-1);break;case"3months":_.setMonth(d.getMonth()-3);break;case"6months":_.setMonth(d.getMonth()-6);break}let C=q.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});_&&(C=C.gte("date",Ce(_)));const{data:N,error:D}=await C;if(D)throw D;const U={};for(const L of N||[]){const B=L.original_todo_id||L.id;U[B]||(U[B]=[]),U[B].push(L)}const R=Object.entries(U).map(([L,B])=>{const V=B.sort((be,Kt)=>new Date(be.date)-new Date(Kt.date)),P=V[0],J=V.map(be=>be.date);let te=null;for(const be of V)if(be.completed&&be.completed_at){const Kt=new Date(be.completed_at);te=Ce(Kt);break}const oe=V.find(be=>be.date===v);return{text:P.text,originalId:parseInt(L),createdAt:P.created_at,startDate:J[0],endDate:J[J.length-1],dates:J,completed:(oe==null?void 0:oe.completed)||!1,completedDate:te}}).sort((L,B)=>new Date(L.createdAt)-new Date(B.createdAt));fr(R)}catch(d){console.error("   :",d.message)}},rw=async()=>{gs(!0),await fm()},dm=()=>{gs(!1),kn(!1),_n(We)},fm=async()=>{try{const{data:d,error:v}=await q.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(v)throw v;const _=d&&d.length>0?d[0].content:gd;_n(_),Fe(_)}catch(d){console.error("   :",d.message),_n(gd),Fe(gd)}},lw=()=>{kn(!0)},ow=()=>{vt(!0),Fe(Ut),setTimeout(()=>{dt.current&&dt.current.focus()},0)},hm=async()=>{var d;if(!wn)try{Qe(!0);const{data:v}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);v&&v.length>0?await q.from("spec_memos").update({content:Ut,updated_at:new Date().toISOString()}).eq("id",v[0].id):await q.from("spec_memos").insert([{content:Ut,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]),Fe(Ut),vt(!1)}catch(v){console.error("  :",v.message),alert("  .")}finally{Qe(!1)}},mm=()=>{_n(We),vt(!1)},cw=d=>{(d.metaKey||d.ctrlKey)&&d.key==="s"&&(d.preventDefault(),hm()),d.key==="Escape"&&(d.preventDefault(),mm())},pr=d=>Array.isArray(d)?d.map(v=>({...v,children:Array.isArray(v.children)?pr(v.children):[]})):[],uw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").maybeSingle();if(v){console.error("   :",v.message);return}if(d&&d.setting_value){const _=pr(JSON.parse(d.setting_value));St(_),localStorage.setItem("keyThoughtsBlocks",JSON.stringify(_)),ft.current=JSON.parse(JSON.stringify(_))}else{const _=localStorage.getItem("keyThoughtsBlocks");if(_){const C=pr(JSON.parse(_));St(C),ft.current=JSON.parse(JSON.stringify(C))}}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("keyThoughtsBlocks");if(v){const _=pr(JSON.parse(v));St(_),ft.current=JSON.parse(JSON.stringify(_))}}},gm=async()=>{var d;if((d=e==null?void 0:e.user)!=null&&d.id)try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(ke));const{data:v,error:_}=await q.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").maybeSingle();if(_){console.error("   :",_.message);return}v?await q.from("user_settings").update({setting_value:JSON.stringify(ke)}).eq("setting_key","key_thoughts_blocks"):await q.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(ke),user_id:e.user.id}]),await hw(ke)}catch(v){console.error("   :",v.message)}},dw=(d,v)=>{if(!d||d.length===0||d.length!==v.length)return!0;const _=(C,N)=>{for(let D=0;D<C.length;D++){const U=C[D],R=N[D];if(U.type!==R.type)return!0;const L=U.children?U.children.length:0,B=R.children?R.children.length:0;if(L!==B)return!0;const V=U.content||"",P=R.content||"";if(Math.abs(V.length-P.length)>=20||B>0&&_(U.children,R.children))return!0}return!1};return _(d,v)},fw=async()=>{try{const d=localStorage.getItem("lastHistoryCleanup"),v=new Date().toDateString();if(d===v)return;const _=new Date;_.setDate(_.getDate()-30);const{error:C}=await q.from("key_thoughts_history").delete().lt("created_at",_.toISOString());C?console.error("   :",C.message):(localStorage.setItem("lastHistoryCleanup",v),console.log("   "))}catch(d){console.error("   :",d.message)}},hw=async d=>{var v;if((v=e==null?void 0:e.user)!=null&&v.id)try{if(!dw(ft.current,d))return;const{error:_}=await q.from("key_thoughts_history").insert([{content:d,description:" ",user_id:e.user.id}]);_?console.error("   :",_.message):ft.current=JSON.parse(JSON.stringify(d))}catch(_){console.error("   :",_.message)}},mw=async()=>{try{const{data:d,error:v}=await q.from("key_thoughts_history").select("*").order("created_at",{ascending:!1}).limit(50);if(v){console.error("   :",v.message);return}Sn(d||[])}catch(d){console.error("   :",d.message)}},gw=async d=>{try{const v=Un.find(C=>C.id===d);if(!v){alert("    .");return}if(!window.confirm("  ?     ."))return;const _=pr(v.content);St(_),ft.current=JSON.parse(JSON.stringify(_)),await gm(),alert("!"),zn(!1)}catch(v){console.error("  :",v.message),alert("   .")}},yw=async()=>{try{const{data:d,error:v}=await q.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(v){console.error("   :",v.message);return}if(d&&d.setting_value){const _=JSON.parse(d.setting_value);Yl(_),localStorage.setItem("sectionOrder",JSON.stringify(_))}else{const _=localStorage.getItem("sectionOrder");_&&Yl(JSON.parse(_))}}catch(d){console.error("   :",d.message);const v=localStorage.getItem("sectionOrder");v&&Yl(JSON.parse(v))}},vw=async d=>{var v;try{if(localStorage.setItem("sectionOrder",JSON.stringify(d)),!((v=e==null?void 0:e.user)!=null&&v.id))return;const{data:_,error:C}=await q.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(C){console.error("   :",C.message);return}_?await q.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await q.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d),user_id:e.user.id}])}catch(_){console.error("   :",_.message)}},pw=async()=>{var d;if(!wn)try{Qe(!0);const{data:v,error:_}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);if(_)throw _;if(v&&v.length>0){const{error:C}=await q.from("spec_memos").update({content:Ut,updated_at:new Date().toISOString()}).eq("id",v[0].id);if(C)throw C}else{const{error:C}=await q.from("spec_memos").insert([{content:Ut,user_id:(d=e==null?void 0:e.user)==null?void 0:d.id}]);if(C)throw C}Fe(Ut),kn(!1)}catch(v){console.error("  :",v.message)}finally{Qe(!1)}},bw=()=>{_n(We),kn(!1)},yu=d=>{He(_e===d?null:d)},vu=async(d,v)=>{var _;if(!(!v||v.trim()===""))try{const N=s.filter(L=>L.parent_id===d).length+1,D=Ce(g),{data:U,error:R}=await q.from("todos").insert([{text:v.trim(),completed:!1,order_index:N,date:D,parent_id:d,user_id:(_=e==null?void 0:e.user)==null?void 0:_.id}]).select();if(R)throw R;i([...s,U[0]])}catch(C){console.error("    :",C.message)}},pu=async(d,v)=>{var _,C;try{let N=null;qe.current.add(d);const D=new Date().toISOString();if(i(L=>(N=L.find(B=>B.id===d),!N||N.text===v?(qe.current.delete(d),L):L.map(B=>B.id===d?{...B,text:v,updated_at:D}:B))),!N||N.text===v)return;const{error:U}=await q.from("todo_history").insert([{todo_id:d,previous_text:N.text,new_text:v,changed_on_date:N.date,user_id:(_=e==null?void 0:e.user)==null?void 0:_.id}]);if(U&&console.error("  :",U.message),N.original_todo_id){const{data:L,error:B}=await q.from("todos").select("text, date").eq("id",N.original_todo_id).single();!B&&L&&await q.from("todo_history").insert([{todo_id:N.original_todo_id,previous_text:N.text,new_text:v,changed_on_date:N.date,user_id:(C=e==null?void 0:e.user)==null?void 0:C.id}])}const{error:R}=await q.from("todos").update({text:v}).eq("id",d);R?(console.error("   :",R.message),i(L=>L.map(B=>B.id===d?N:B)),qe.current.delete(d)):setTimeout(()=>{qe.current.delete(d)},5e3)}catch(N){console.error("   :",N.message),qe.current.delete(d)}},_w=jf(Ba(bl,{activationConstraint:{delay:300,tolerance:8}}),Ba(Df,{activationConstraint:{delay:500,tolerance:10,distance:10}}),Ba(pl,{coordinateGetter:Mf})),ww=jf(Ba(bl,{activationConstraint:{distance:5}}),Ba(Df,{activationConstraint:{delay:100,tolerance:5}}),Ba(pl,{coordinateGetter:Mf})),Sw=d=>{const{active:v,over:_}=d;v.id!==(_==null?void 0:_.id)&&Yl(C=>{const N=C.indexOf(v.id),D=C.indexOf(_.id),U=Oc(C,N,D);return vw(U),U})},xw=d=>{Ps&&d.target===d.currentTarget&&Ws(!1)},Ew=()=>{x(!0)},Tw=()=>{x(!1)},jw=async d=>{x(!1);const{active:v,over:_}=d;if(!_||v.id===_.id)return;const C=s.findIndex(U=>U.id===v.id),N=s.findIndex(U=>U.id===_.id),D=Oc(s,C,N);i(D);try{const U=D.map((R,L)=>({id:R.id,order_index:L+1}));for(const R of U)await q.from("todos").update({order_index:R.order_index}).eq("id",R.id)}catch(U){console.error("  :",U.message),ka()}},Ow=async()=>{try{const{error:d}=await q.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(d)throw d}catch(d){alert(" : "+d.message)}},Nw=async()=>{try{const{error:d}=await q.auth.signOut();if(d)throw d}catch(d){alert(" : "+d.message)}};return n?o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),o.jsx("div",{children:" ..."})]})}):e?o.jsxs("div",{className:`app ${E?"dragging-active":""}`,children:[Yt&&o.jsx("div",{className:"sidebar-overlay",onClick:()=>nt(!1)}),o.jsxs("div",{className:`sidebar ${Yt?"open":""}`,children:[o.jsxs("div",{className:"sidebar-header",children:[o.jsx("h2",{children:""}),o.jsx("button",{className:"sidebar-close",onClick:()=>nt(!1),children:""})]}),e&&e.user&&o.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((ym=e.user.user_metadata)==null?void 0:ym.avatar_url)&&o.jsx("img",{src:e.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((vm=e.user.user_metadata)==null?void 0:vm.full_name)||e.user.email}),o.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.user.email})]})]}),o.jsxs("div",{className:"sidebar-content",children:[o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=Pn==="vertical"?"horizontal":"vertical";x_(d),localStorage.setItem("viewMode",d),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:Pn==="vertical"?"":""}),o.jsx("span",{children:Pn==="vertical"?" ":" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{nw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Y_(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{rw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=document.querySelector(".key-thoughts-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"}),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{aw(),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:" "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{fe(!0),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Aa(!0),nt(!1)},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:"  "})]}),o.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&Nw()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[o.jsx("span",{className:"sidebar-icon",children:""}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:`container ${Pn==="horizontal"?"container-wide":""}`,children:[o.jsx("div",{className:"header-fixed",children:o.jsxs("div",{className:"settings-bar",children:[o.jsx("button",{className:"hamburger-menu",onClick:()=>nt(!Yt),title:"",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),o.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),o.jsxs("div",{className:"date-nav-section",children:[o.jsxs("div",{className:"date-display-wrapper",children:[o.jsx("span",{className:"date-display",children:Wn(g)}),o.jsx("input",{type:"date",value:Ce(g),onChange:M_,className:"date-picker-input"})]}),o.jsx("button",{onClick:C_,className:"date-nav-button",children:""}),o.jsx("button",{onClick:R_,className:"date-nav-button",children:""})]}),o.jsx("div",{className:"encouragement-section",children:ky(g)?o.jsx("div",{className:"encouragement-message",onClick:j_,title:"    !",children:Js?o.jsx("span",{className:"encouragement-emoji",children:"  "}):Ma||Il()}):o.jsx("button",{onClick:()=>p(new Date),className:"today-link",title:" ",children:"  "})}),Ps&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[o.jsx("span",{children:"    "}),o.jsx("button",{onClick:()=>Ws(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})}),o.jsxs("div",{className:"content-scrollable",ref:cu,children:[o.jsx(Rf,{sensors:_w,collisionDetection:Of,onDragStart:Ew,onDragEnd:jw,onDragCancel:Tw,children:o.jsx("div",{className:"todo-list",children:m?o.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const d=s.filter(C=>!C.parent_id&&C.routine_id!==null&&!C.is_pending_routine),v=s.filter(C=>!C.parent_id&&C.is_pending_routine),_=s.filter(C=>!C.parent_id&&C.routine_id===null&&!C.is_pending_routine);return o.jsx(Rf,{sensors:ww,collisionDetection:Of,onDragEnd:Sw,children:o.jsx(Rr,{items:em,strategy:RO,children:o.jsx("div",{ref:vs,className:`sections-container ${Pn==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:xw,children:em.map(C=>C==="memo"?o.jsx(xo,{id:"memo",disabled:!Ps,onLongPress:()=>Ws(!0),children:o.jsxs(XO,{title:"  ",className:"memo-section section-block",content:Ut,setContent:_n,isEditing:It,isSaving:wn,textareaRef:dt,onStartEdit:ow,onSave:hm,onCancel:mm,onKeyDown:cw,placeholder:" ...",emptyMessage:" ",children:[!It&&o.jsx("div",{style:{marginTop:"1rem"},children:o.jsxs("button",{onClick:()=>Da(!st),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.background="rgba(255, 255, 255, 0.1)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:N=>{N.currentTarget.style.background="rgba(255, 255, 255, 0.05)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[o.jsx("span",{children:" SQL  "}),o.jsx("span",{children:st?"":""})]})}),st&&!It&&o.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const N=new Date,D=Xl=>{const ps=new Date(N);return ps.setDate(ps.getDate()+Xl),ps.toISOString().split("T")[0]},U=Xl=>{const ps=new Date(N);return ps.setDate(ps.getDate()+Xl),ps.getDate()},R=Date.now(),L=U(-2),B=U(-1),V=U(0),P=U(1),J=U(2),te=D(-2),oe=D(-1),be=D(0),Kt=D(1),ei=D(2),Aw=`--         (${be} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${L}--', '${te}', false, '${te}T09:00:00+09:00', 1001),
  ('[DUMMY-${R}] : ${L}-${L}', '${te}', true, '${te}T09:10:00+09:00', 1002),
  ('[DUMMY-${R}] : ${L}-${B}', '${te}', true, '${te}T09:20:00+09:00', 1003),
  ('[DUMMY-${R}] : ${L}-${V}', '${te}', true, '${te}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${B}--', '${oe}', false, '${oe}T10:00:00+09:00', 1005),
  ('[DUMMY-${R}] : ${B}-${B}', '${oe}', true, '${oe}T10:10:00+09:00', 1006),
  ('[DUMMY-${R}] : ${B}-${V}', '${oe}', true, '${oe}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${V}-', '${be}', false, '${be}T11:00:00+09:00', 1008),
  ('[DUMMY-${R}] : ${V}-${V}', '${be}', true, '${be}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${L}-${B}-', '${oe}', false, '${te}T14:00:00+09:00', 1010),
  ('[DUMMY-${R}] : ${L}-${B}-${B}', '${oe}', true, '${te}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${B}-${V}-', '${be}', false, '${oe}T15:00:00+09:00', 1012),
  ('[DUMMY-${R}] : ${B}-${V}-${V}', '${be}', true, '${oe}T15:10:00+09:00', 1013),
  ('[DUMMY-${R}] : ${L}-${V}-', '${be}', false, '${te}T15:00:00+09:00', 1014),
  ('[DUMMY-${R}] : ${L}-${V}-${V}', '${be}', true, '${te}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${V}-${P}-', '${Kt}', false, '${be}T16:00:00+09:00', 1016),
  ('[DUMMY-${R}] : ${B}-${P}-', '${Kt}', false, '${oe}T16:00:00+09:00', 1017),
  ('[DUMMY-${R}] : ${L}-${P}-', '${Kt}', false, '${te}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${R}] : ${V}-${J}-', '${ei}', false, '${be}T17:00:00+09:00', 1019),
  ('[DUMMY-${R}] : ${B}-${J}-', '${ei}', false, '${oe}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${L}--1', '[DUMMY-${R}] : ${L}--2', '${oe}T12:00:00+09:00', '${oe}'
FROM todos WHERE text = '[DUMMY-${R}] : ${L}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${L}--2', '[DUMMY-${R}] : ${L}--', '${be}T12:00:00+09:00', '${be}'
FROM todos WHERE text = '[DUMMY-${R}] : ${L}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${R}] : ${B}--1', '[DUMMY-${R}] : ${B}--', '${be}T13:00:00+09:00', '${be}'
FROM todos WHERE text = '[DUMMY-${R}] : ${B}--' LIMIT 1;`,ti=document.createElement("textarea");ti.value=Aw,ti.style.position="fixed",ti.style.opacity="0",document.body.appendChild(ti),ti.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ti)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),o.jsxs("div",{className:"sql-block",children:[o.jsxs("div",{className:"sql-header",children:[o.jsx("span",{children:" SQL"}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),o.jsx("button",{onClick:()=>{const N=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,D=document.createElement("textarea");D.value=N,D.style.position="fixed",D.style.opacity="0",document.body.appendChild(D),D.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(D)},className:"copy-button",children:" "})]})]}),o.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):C==="routine"?o.jsx(xo,{id:"routine",disabled:!Ps,onLongPress:()=>Ws(!0),children:o.jsxs(Uy,{title:" ",className:"routine-section section-block",inputValue:c,setInputValue:u,onAddTodo:X_,isAdding:O,placeholder:"   ...",children:[d.length>0&&o.jsx(Rr,{items:d.map(N=>N.id),strategy:Ho,children:d.map((N,D)=>{const U=s.filter(R=>R.parent_id===N.id);return o.jsx(qo,{todo:N,index:D,onToggle:du,onDelete:hu,onEdit:pu,formatDate:Ss,formatDateOnly:Wn,isFocused:_e===N.id,onFocus:yu,onAddSubTodo:vu,subtodos:U,level:0,onCreateRoutine:Fs,routines:ie,onShowRoutineHistory:Gl,onOpenRoutineSetupModal:gu,onOpenHistoryModal:mu,currentPageDate:Ce(g),onRemoveFromUI:fu,showSuccessMessage:K},N.id)})}),d.length>0&&v.length>0&&o.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:o.jsx("div",{className:"separator-line"})}),v.length>0&&o.jsx(Rr,{items:v.map(N=>N.id),strategy:Ho,children:v.map((N,D)=>{const U=s.filter(R=>R.parent_id===N.id);return o.jsx(qo,{todo:N,index:D,onToggle:du,onDelete:hu,onEdit:pu,formatDate:Ss,formatDateOnly:Wn,isFocused:_e===N.id,onFocus:yu,onAddSubTodo:vu,subtodos:U,level:0,onCreateRoutine:Fs,routines:ie,onShowRoutineHistory:Gl,onOpenRoutineSetupModal:gu,onOpenHistoryModal:mu,currentPageDate:Ce(g),isPendingRoutine:!0,onRemoveFromUI:fu,showSuccessMessage:K},N.id)})})]})},"routine"):C==="normal"?o.jsx(xo,{id:"normal",disabled:!Ps,onLongPress:()=>Ws(!0),children:o.jsx(Uy,{title:"  ",className:"normal-section section-block",inputValue:f,setInputValue:h,onAddTodo:Q_,isAdding:O,placeholder:"   ...",children:_.length>0&&o.jsx(Rr,{items:_.map(N=>N.id),strategy:Ho,children:_.map((N,D,U)=>{const R=s.filter(te=>te.parent_id===N.id),L=Ce(g),B=N.created_at?N.created_at.split("T")[0]:N.date,V=U[D+1],P=V?V.created_at?V.created_at.split("T")[0]:V.date:null,J=B<L&&P>=L;return o.jsxs(Le.Fragment,{children:[o.jsx(qo,{todo:N,index:D,onToggle:du,onDelete:hu,onEdit:pu,formatDate:Ss,formatDateOnly:Wn,isFocused:_e===N.id,onFocus:yu,onAddSubTodo:vu,subtodos:R,level:0,onCreateRoutine:Fs,routines:ie,onShowRoutineHistory:Gl,onOpenRoutineSetupModal:gu,onOpenHistoryModal:mu,currentPageDate:L,onRemoveFromUI:fu,showSuccessMessage:K}),J&&o.jsxs("div",{className:"todo-date-separator",children:[o.jsx("div",{className:"separator-line"}),o.jsx("div",{className:"separator-text",children:" "}),o.jsx("div",{className:"separator-line"})]})]},N.id)})})})},"normal"):C==="key-thoughts"?o.jsx(xo,{id:"key-thoughts",disabled:!Ps,onLongPress:()=>Ws(!0),children:o.jsx(QO,{blocks:ke,setBlocks:St,focusedBlockId:Gt,setFocusedBlockId:la,onShowHistory:()=>{mw(),zn(!0)}})},"key-thoughts"):null)})})})})()})}),Pn==="horizontal"&&o.jsx("div",{className:"section-pagination-dots",onTouchStart:d=>{const v=d.touches[0];d.currentTarget.dataset.touchStartX=v.clientX,d.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:d=>{d.currentTarget.dataset.touchMoved="true"},onTouchEnd:d=>{const v=parseFloat(d.currentTarget.dataset.touchStartX||"0"),_=parseInt(d.currentTarget.dataset.touchStartTime||"0"),C=d.currentTarget.dataset.touchMoved==="true",N=d.changedTouches[0].clientX,D=Date.now()-_;if(delete d.currentTarget.dataset.touchStartX,delete d.currentTarget.dataset.touchStartTime,delete d.currentTarget.dataset.touchMoved,C&&D<500){const U=v-N,R=vs.current;if(!R)return;const L=R.querySelectorAll(".section-block");Math.abs(U)>50&&(U>0&&gr<L.length-1?L[gr+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):U<0&&gr>0&&L[gr-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:[0,1,2].map(d=>o.jsx("button",{className:`pagination-dot ${gr===d?"active":""}`,onClick:()=>{const v=vs.current;if(!v)return;const _=v.querySelectorAll(".section-block");_[d]&&_[d].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},d))})]}),A&&o.jsxs("div",{className:"undo-toast",children:[o.jsx("span",{children:""}),o.jsx("button",{onClick:W_,className:"undo-button",children:""})]}),M&&o.jsxs("div",{className:"undo-toast success-toast",children:[o.jsx("span",{children:Y}),se&&o.jsx("button",{onClick:le,className:"undo-button",children:""})]}),T_&&Vl&&o.jsx("div",{className:"modal-overlay",onClick:()=>yr(!1),children:o.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>yr(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"delete-confirm-content",children:[o.jsx("p",{className:"delete-confirm-text",children:o.jsx("strong",{children:Vl.text})}),o.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),o.jsxs("div",{className:"delete-options-simple",children:[o.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>Z_(Vl),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:"  "}),o.jsx("span",{className:"option-desc",children:"   "})]}),o.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>P_(Vl),children:[o.jsx("span",{className:"option-icon",children:""}),o.jsx("span",{className:"option-title",children:" "}),o.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),au&&Bl&&(()=>{const d=Bl,v=d.visible_dates&&d.visible_dates.length>0?d.visible_dates:[d.date],_=v[0],C=v.map(D=>({id:`${d.id}-${D}`,date:D})),N=w_[d.id]||[];return o.jsx("div",{className:"modal-overlay",onClick:cm,children:o.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:cm,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"todo-history",children:[o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:":"}),o.jsx("span",{className:"history-value",children:Ss(d.created_at)})]}),o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Wn(_?new Date(_+"T00:00:00"):new Date(d.date+"T00:00:00"))})]}),C.length>0&&o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:C.map((D,U)=>{const R=D.date===d.date,L=Wn(new Date(D.date+"T00:00:00"));return o.jsxs("span",{children:[U>0&&"  ",o.jsxs("span",{style:R?{fontWeight:"bold",color:"#4CAF50"}:{},children:[L.split("(")[0],R?"()":""]})]},D.id)})})]}),(()=>{const D=new Date(d.created_at).toISOString().split("T")[0],U=d.date;return D!==U&&C.length===0?o.jsxs("div",{className:"history-item",children:[o.jsx("span",{className:"history-label",children:" :"}),o.jsx("span",{className:"history-value",children:Wn(new Date(d.date+"T00:00:00"))})]}):null})(),N.length>0&&o.jsxs("div",{className:"history-changes-list",children:[o.jsxs("div",{className:"history-changes-header",children:["  (",N.length,")"]}),N.map(D=>o.jsxs("div",{className:"history-record-compact",children:[o.jsxs("div",{className:"history-record-summary",children:[o.jsxs("div",{className:"history-change-time",children:[Ss(D.changed_at),D.changed_on_date&&o.jsxs("span",{className:"history-page-info",children:[" (: ",Wn(new Date(D.changed_on_date+"T00:00:00")),")"]})]}),o.jsx("button",{className:"history-detail-button",onClick:U=>{U.stopPropagation(),sw(D.id)},children:Wh.includes(D.id)?"":""})]}),Wh.includes(D.id)&&o.jsxs("div",{className:"history-change",children:[o.jsxs("div",{className:"history-change-item history-before",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:D.previous_text})]}),o.jsx("div",{className:"history-change-arrow",children:""}),o.jsxs("div",{className:"history-change-item history-after",children:[o.jsx("span",{className:"change-badge",children:""}),o.jsx("span",{className:"change-text",children:D.new_text})]})]})]},D.id))]})]})})]})})})(),__&&Bl&&(()=>{const d=Bl,v=ie.find(_=>_.id===d.routine_id);return o.jsx("div",{className:"modal-overlay",onClick:vr,children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:vr,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsx("div",{className:"routine-setup-inline",children:v&&!iu?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-current-info",children:[o.jsx("div",{className:"routine-info-title",children:" :"}),o.jsx("div",{className:"routine-days-display",children:Ds.filter(_=>v.days.includes(_.key)).map(_=>o.jsx("span",{className:"routine-day-badge",children:_.label},_.key))}),v.time_slot&&o.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",v.time_slot]})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),v&&(hr(v.days),mr(v.time_slot||""),ql(!0))},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:async _=>{_.stopPropagation(),v&&d&&(await Fs(d.id,d.text,[],null,!0),vr())},className:"routine-remove-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"routine-setup-title",children:iu?" :":"  :"}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(_=>o.jsx("button",{onClick:C=>{C.stopPropagation(),iw(_.key)},className:`day-button-inline ${su.includes(_.key)?"selected":""}`,children:_.label},_.key))}),o.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[o.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),o.jsx(kf,{value:ru,onChange:_=>mr(_)})]}),o.jsxs("div",{className:"routine-setup-actions",children:[o.jsx("button",{onClick:async _=>{_.stopPropagation(),d&&(iu&&v?await Fs(d.id,d.text,su,v.id,!1,ru):await Fs(d.id,d.text,su,null,!1,ru),vr())},className:"routine-confirm-button",children:""}),o.jsx("button",{onClick:_=>{_.stopPropagation(),vr()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),ce&&o.jsx("div",{className:"modal-overlay",onClick:lm,children:o.jsxs("div",{className:"modal-content trash-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:" "}),o.jsxs("div",{className:"modal-header-actions",children:[H.length>0&&o.jsx("button",{onClick:tw,className:"empty-trash-button",title:" ",children:" "}),o.jsx("button",{onClick:lm,className:"modal-close-button",children:""})]})]}),o.jsx("div",{className:"trash-list",children:H.length===0?o.jsx("p",{className:"empty-message",children:" ."}):H.map(d=>{const v=d.visible_dates||(d.date?[d.date]:[]),_=v.length>1||d.original_todo_id,C=d.original_todo_id!==null&&d.original_todo_id!==void 0,N=d.hidden_dates&&d.hidden_dates.length>0;let D="  ";return C?D="   ( )":N?D="  ":d.deleted===!0&&(D=v.length>1?"  ":""),o.jsxs("div",{className:"trash-item",children:[o.jsxs("div",{className:"trash-item-content",children:[o.jsx("span",{className:`trash-text ${d.completed?"completed":""}`,children:d.text}),o.jsxs("div",{className:"trash-metadata",children:[o.jsxs("span",{className:"trash-date",children:[": ",Ss(d.created_at)]}),d.deleted_date&&o.jsxs("span",{className:"trash-deleted-date",children:[": ",d.deleted_date]}),o.jsx("span",{className:`trash-delete-type ${C?"old-style":N?"partial":"complete"}`,children:D})]}),_&&o.jsxs("div",{className:"trash-carryover-info",children:[o.jsx("div",{className:"carryover-label",children:"  :"}),o.jsx("div",{className:"carryover-dates",children:v.length>0?v.map((U,R)=>o.jsx("span",{className:"carryover-date-badge",children:U},R)):d.original_todo_id?o.jsxs("span",{className:"carryover-note",children:["    (original_id: ",d.original_todo_id,")"]}):null}),N&&o.jsxs("div",{className:"hidden-dates-info",children:[o.jsx("span",{className:"hidden-label",children:"  :"}),d.hidden_dates.map((U,R)=>o.jsx("span",{className:"hidden-date-badge",children:U},R))]})]})]}),o.jsxs("div",{className:"trash-actions",children:[o.jsx("button",{onClick:()=>F_(d.id),className:"restore-button",title:"",children:""}),o.jsx("button",{onClick:()=>ew(d.id),className:"permanent-delete-button",title:" ",children:" "})]})]},d.id)})})]})}),at&&o.jsx("div",{className:"modal-overlay",onClick:()=>Aa(!1),children:o.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>Aa(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),o.jsx("button",{onClick:O_,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("h3",{children:"  "}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),o.jsx("button",{onClick:D_,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),o.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[o.jsx("h3",{children:"  "}),Rt.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):o.jsxs(o.Fragment,{children:[Rt.map((d,v)=>o.jsxs("div",{className:"routine-item",children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsxs("span",{className:"routine-text",children:[" #",v+1,": ",d.sessionId]}),o.jsxs("div",{className:"routine-days",children:[o.jsxs("span",{className:"routine-day-badge",children:[" ",d.count,""]}),d.historyCount>0&&o.jsxs("span",{className:"routine-day-badge",children:[" ",d.historyCount,""]}),o.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:Ss(d.createdAt)})]})]}),o.jsx("div",{className:"routine-item-actions",children:o.jsx("button",{onClick:()=>{window.confirm(` #${v+1} ?`)&&N_(d.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},d.sessionId)),o.jsx("button",{onClick:()=>{window.confirm("   ?")&&A_()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}),ra&&o.jsx("div",{className:"modal-overlay",onClick:dm,children:o.jsxs("div",{className:"modal-content memo-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:dm,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"memo-content",children:dr?o.jsxs("div",{className:"memo-edit-mode",children:[o.jsx("textarea",{value:Ut,onChange:d=>_n(d.target.value),className:"memo-textarea",placeholder:"  ...",rows:20}),o.jsxs("div",{className:"memo-actions",children:[o.jsx("button",{onClick:pw,className:"memo-save-button",disabled:wn,children:wn?" ...":" "}),o.jsx("button",{onClick:bw,className:"memo-cancel-button",disabled:wn,children:" "})]})]}):o.jsxs("div",{className:"memo-view-mode",children:[o.jsx("div",{className:"memo-display",children:o.jsx("pre",{className:"memo-text",children:Ut})}),o.jsx("div",{className:"memo-actions",children:o.jsx("button",{onClick:lw,className:"memo-edit-button",children:" "})})]})})]})}),$l&&o.jsx("div",{className:"modal-overlay",onClick:om,children:o.jsxs("div",{className:"modal-content gantt-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  -  "}),o.jsx("button",{onClick:om,className:"modal-close-button",children:""})]}),o.jsx("div",{className:"gantt-filter",children:o.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(d=>o.jsx("button",{className:`period-button ${Ca===d.value?"active":""}`,onClick:()=>nu(d.value),children:d.label},d.value))})}),o.jsx("div",{className:"gantt-content",children:Qs.length===0?o.jsx("p",{className:"empty-message",children:" ."}):o.jsx("div",{className:"gantt-chart",children:(()=>{const d=Qs.flatMap(R=>R.dates),v=[...new Set(d)].sort((R,L)=>new Date(R)-new Date(L)),_=v[0],C=v[v.length-1],N=[];let D=new Date(_+"T00:00:00");const U=new Date(C+"T00:00:00");for(;D<=U;)N.push(Ce(D)),D.setDate(D.getDate()+1);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"gantt-header",children:[o.jsx("div",{className:"gantt-task-column",children:" "}),o.jsx("div",{className:"gantt-timeline",children:N.map(R=>o.jsx("div",{className:"gantt-date-cell",children:Wn(new Date(R+"T00:00:00")).split("(")[0]},R))})]}),Qs.map((R,L)=>{const B=new Set(R.dates);return o.jsxs("div",{className:"gantt-row",children:[o.jsx("div",{className:"gantt-task-column",title:R.text,children:o.jsx("span",{className:R.completed?"completed-task":"",children:R.text})}),o.jsx("div",{className:"gantt-timeline",children:N.map(V=>{if(!B.has(V))return o.jsx("div",{className:"gantt-date-cell"},V);const J=V===R.startDate,te=V===R.completedDate;let oe="gantt-date-cell has-task";return J?oe+=" start-date":te?oe+=" completed-date":oe+=" middle-date",o.jsx("div",{className:oe,children:te?o.jsx("span",{className:"completed-circle",children:""}):""},V)})})]},R.originalId)})]})})()})})]})}),Se&&o.jsx("div",{className:"modal-overlay",onClick:im,children:o.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"  "}),o.jsx("button",{onClick:im,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-add-section",children:[o.jsx("input",{type:"text",value:we,onChange:d=>en(d.target.value),placeholder:"  ...",className:"routine-input",disabled:Dt}),o.jsx("div",{className:"day-selector",children:Ds.map(d=>o.jsx("button",{onClick:()=>V_(d.key),className:`day-button ${Nt.includes(d.key)?"selected":""}`,disabled:Dt,children:d.label},d.key))}),o.jsxs("div",{className:"time-slot-selector",children:[o.jsx("label",{className:"time-slot-label",children:"  ()"}),o.jsx(kf,{value:ve,onChange:d=>ia(d)})]}),o.jsx("button",{onClick:U_,className:"add-routine-button",disabled:Dt||we.trim()==="",children:" "})]}),o.jsx("div",{className:"routine-list",children:ie.length===0?o.jsx("p",{className:"empty-message",children:"  ."}):ie.map(d=>o.jsx("div",{className:"routine-item",children:Xe===d.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-edit-content",children:[o.jsx("input",{type:"text",value:tn,onChange:v=>ut(v.target.value),className:"routine-edit-input",placeholder:" "}),o.jsx("div",{className:"day-selector-inline",children:Ds.map(v=>o.jsx("button",{onClick:()=>L_(v.key),className:`day-button-inline ${Ct.includes(v.key)?"selected":""}`,children:v.label},v.key))})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:$_,className:"routine-save-button",disabled:tn.trim()===""||Ct.length===0,children:""}),o.jsx("button",{onClick:nm,className:"routine-cancel-edit-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"routine-item-content",children:[o.jsx("span",{className:"routine-text",children:d.text}),o.jsxs("div",{className:"routine-meta",children:[o.jsx("div",{className:"routine-days",children:Ds.filter(v=>d.days.includes(v.key)).map(v=>o.jsx("span",{className:"routine-day-badge",children:v.label},v.key))}),d.time_slot&&o.jsx("span",{className:"routine-time-slot",children:d.time_slot})]})]}),o.jsxs("div",{className:"routine-item-actions",children:[o.jsx("button",{onClick:()=>Gl(d),className:"routine-history-button",title:" ",children:""}),o.jsx("button",{onClick:()=>z_(d),className:"routine-edit-button",title:"",children:""}),o.jsx("button",{onClick:()=>B_(d.id),className:"routine-delete-button",title:"",children:""})]})]})},d.id))})]})}),Xn&&Qn&&o.jsx("div",{className:"modal-overlay",onClick:sm,children:o.jsxs("div",{className:"modal-content routine-history-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h2",{children:[" ",Qn.text," "]}),o.jsx("button",{onClick:sm,className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"routine-history-content",children:[(()=>{if(kt.length===0)return o.jsx("p",{className:"empty-message",children:"   ."});const d=kt[0],v=new Date(d.date),_=new Date,C={};kt.forEach(U=>{C[U.date]=U.completed});const N=[];let D=new Date(v);for(;D<=_;){const U=D.getFullYear(),R=D.getMonth(),L=`${U}-${R+1}`;N.find(oe=>oe.key===L)||N.push({key:L,year:U,month:R,days:[]});const B=N.find(oe=>oe.key===L),V=Ce(D),P=D.getDay(),J=zy(P),te=Qn.days.includes(J);B.days.push({date:new Date(D),dateStr:V,day:D.getDate(),dayOfWeek:P,isCompleted:C[V]===!0,isRoutineDay:te,hasTodo:C[V]!==void 0}),D.setDate(D.getDate()+1)}return o.jsx("div",{className:"routine-history-calendar",children:N.map(U=>o.jsxs("div",{className:"history-month",children:[o.jsxs("h3",{className:"history-month-title",children:[U.year," ",U.month+1,""]}),o.jsxs("div",{className:"history-calendar-grid",children:[o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),U.days.length>0&&Array(U.days[0].dayOfWeek).fill(null).map((R,L)=>o.jsx("div",{className:"history-day-cell empty"},`empty-${L}`)),U.days.map((R,L)=>{if(L>0&&R.day===1){const V=6-U.days[L-1].dayOfWeek;return o.jsxs(o.Fragment,{children:[Array(V).fill(null).map((P,J)=>o.jsx("div",{className:"history-day-cell empty"},`empty-end-${L}-${J}`)),o.jsx("div",{className:"history-day-header",children:""},R.dateStr),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsx("div",{className:"history-day-header",children:""}),o.jsxs("div",{className:`history-day-cell ${R.isCompleted?"completed":""} ${R.isRoutineDay?"":"not-routine-day"}`,children:[o.jsx("span",{className:"day-number",children:R.day}),R.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]})]})}return o.jsxs("div",{className:`history-day-cell ${R.isCompleted?"completed":""} ${R.isRoutineDay?"":"not-routine-day"}`,title:`${R.dateStr}${R.isRoutineDay?"":" (  )"}${R.isCompleted?" - ":R.hasTodo?" - ":""}`,children:[o.jsx("span",{className:"day-number",children:R.day}),R.isCompleted&&o.jsx("span",{className:"check-mark",children:""})]},R.dateStr)})]})]},U.key))})})(),o.jsxs("div",{className:"routine-history-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:" :"}),o.jsxs("span",{className:"stat-value",children:[kt.length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value completed",children:[kt.filter(d=>d.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value incomplete",children:[kt.filter(d=>!d.completed).length,""]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:":"}),o.jsxs("span",{className:"stat-value",children:[kt.length>0?Math.round(kt.filter(d=>d.completed).length/kt.length*100):0,"%"]})]})]})]})]})}),G&&o.jsx("div",{className:"modal-overlay",onClick:()=>fe(!1),children:o.jsxs("div",{className:"modal-content encouragement-modal",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"   "}),o.jsx("button",{onClick:()=>fe(!1),className:"modal-close-button",children:""})]}),o.jsxs("div",{className:"encouragement-add-section",children:[o.jsx("input",{type:"text",value:re,onChange:d=>ee(d.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async d=>{d.key==="Enter"&&re.trim()!==""&&(await rm(re.trim()),ee(""))}}),o.jsx("button",{onClick:async()=>{re.trim()!==""&&(await rm(re.trim()),ee(""))},className:"add-encouragement-button",disabled:re.trim()==="",children:""})]}),o.jsx("div",{className:"encouragement-list",children:Zn.length===0?o.jsx("p",{className:"empty-message",children:"   ."}):Zn.map((d,v)=>o.jsx("div",{className:"encouragement-item",children:pe===v?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:Ne,onChange:_=>Mt(_.target.value),className:"encouragement-edit-input",placeholder:" "}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:async()=>{Ne.trim()!==""&&(await I_(v,Ne.trim()),Ee(null),Mt(""))},className:"encouragement-save-button",disabled:Ne.trim()==="",children:""}),o.jsx("button",{onClick:()=>{Ee(null),Mt("")},className:"encouragement-cancel-button",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"encouragement-text",children:d}),o.jsxs("div",{className:"encouragement-item-actions",children:[o.jsx("button",{onClick:()=>{Ee(v),Mt(d)},className:"encouragement-edit-button",title:"",children:""}),o.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await G_(v)},className:"encouragement-delete-button",title:"",children:""})]})]})},v))})]})}),Jn&&o.jsx("div",{className:"modal-overlay",onClick:()=>zn(!1),children:o.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"    "}),o.jsx("button",{onClick:()=>zn(!1),className:"modal-close-button",children:""})]}),o.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:Un.length===0?o.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"  ."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:Un.map(d=>o.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#f9f9f9"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:new Date(d.created_at).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.description&&o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:d.description})]}),o.jsx("button",{onClick:()=>gw(d.id),style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",maxHeight:"100px",overflowY:"auto",backgroundColor:"white",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap"},children:Array.isArray(d.content)?d.content.map((v,_)=>o.jsxs("div",{style:{marginBottom:"4px"},children:[v.type==="toggle"?" ":"",v.content||"( )"]},_)):"( )"})]},d.id))})})]})})]})]}):o.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[o.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),o.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),o.jsxs("button",{onClick:Ow,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[o.jsx("span",{children:""}),"Google "]})]})})}O1.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(JO,{})}));
