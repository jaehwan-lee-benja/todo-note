function sw(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function iw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ey(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Ty={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw=Symbol.for("react.transitional.element"),lw=Symbol.for("react.fragment");function jy(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:rw,type:e,key:a,ref:t!==void 0?t:null,props:n}}xc.Fragment=lw;xc.jsx=jy;xc.jsxs=jy;Ty.exports=xc;var c=Ty.exports,Oy={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=Symbol.for("react.transitional.element"),ow=Symbol.for("react.portal"),cw=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),dw=Symbol.for("react.profiler"),fw=Symbol.for("react.consumer"),hw=Symbol.for("react.context"),mw=Symbol.for("react.forward_ref"),gw=Symbol.for("react.suspense"),yw=Symbol.for("react.memo"),Ny=Symbol.for("react.lazy"),vw=Symbol.for("react.activity"),lm=Symbol.iterator;function pw(e){return e===null||typeof e!="object"?null:(e=lm&&e[lm]||e["@@iterator"],typeof e=="function"?e:null)}var Ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dy=Object.assign,Cy={};function Pi(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||Ay}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ry(){}Ry.prototype=Pi.prototype;function Nf(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||Ay}var Af=Nf.prototype=new Ry;Af.constructor=Nf;Dy(Af,Pi.prototype);Af.isPureReactComponent=!0;var om=Array.isArray;function rd(){}var $e={H:null,A:null,T:null,S:null},My=Object.prototype.hasOwnProperty;function Df(e,t,n){var a=n.ref;return{$$typeof:Of,type:e,key:t,ref:a!==void 0?a:null,props:n}}function bw(e,t){return Df(e.type,t,e.props)}function Cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Of}function _w(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cm=/\/+/g;function cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_w(""+e.key):t.toString(36)}function ww(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rd,rd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ui(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Of:case ow:r=!0;break;case Ny:return r=e._init,ui(r(e._payload),t,n,a,s)}}if(r)return s=s(e),r=a===""?"."+cu(e,0):a,om(s)?(n="",r!=null&&(n=r.replace(cm,"$&/")+"/"),ui(s,t,n,"",function(u){return u})):s!=null&&(Cf(s)&&(s=bw(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(cm,"$&/")+"/")+r)),t.push(s)),1;r=0;var l=a===""?".":a+":";if(om(e))for(var o=0;o<e.length;o++)a=e[o],i=l+cu(a,o),r+=ui(a,t,n,i,s);else if(o=pw(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=l+cu(a,o++),r+=ui(a,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return ui(ww(e),t,n,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Gl(e,t,n){if(e==null)return e;var a=[],s=0;return ui(e,a,"","",function(i){return t.call(n,i,s++)}),a}function Sw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var um=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xw={map:Gl,forEach:function(e,t,n){Gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!Cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Activity=vw;se.Children=xw;se.Component=Pi;se.Fragment=cw;se.Profiler=dw;se.PureComponent=Nf;se.StrictMode=uw;se.Suspense=gw;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return $e.H.useMemoCache(e)}};se.cache=function(e){return function(){return e.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Dy({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!My.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),l=0;l<i;l++)r[l]=arguments[l+2];a.children=r}return Df(e.type,s,a)};se.createContext=function(e){return e={$$typeof:hw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:fw,_context:e},e};se.createElement=function(e,t,n){var a,s={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)My.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(s[a]=t[a]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return Df(e,i,s)};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:mw,render:e}};se.isValidElement=Cf;se.lazy=function(e){return{$$typeof:Ny,_payload:{_status:-1,_result:e},_init:Sw}};se.memo=function(e,t){return{$$typeof:yw,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=$e.T,n={};$e.T=n;try{var a=e(),s=$e.S;s!==null&&s(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(rd,um)}catch(i){um(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),$e.T=t}};se.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()};se.use=function(e){return $e.H.use(e)};se.useActionState=function(e,t,n){return $e.H.useActionState(e,t,n)};se.useCallback=function(e,t){return $e.H.useCallback(e,t)};se.useContext=function(e){return $e.H.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e,t){return $e.H.useDeferredValue(e,t)};se.useEffect=function(e,t){return $e.H.useEffect(e,t)};se.useEffectEvent=function(e){return $e.H.useEffectEvent(e)};se.useId=function(){return $e.H.useId()};se.useImperativeHandle=function(e,t,n){return $e.H.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return $e.H.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return $e.H.useLayoutEffect(e,t)};se.useMemo=function(e,t){return $e.H.useMemo(e,t)};se.useOptimistic=function(e,t){return $e.H.useOptimistic(e,t)};se.useReducer=function(e,t,n){return $e.H.useReducer(e,t,n)};se.useRef=function(e){return $e.H.useRef(e)};se.useState=function(e){return $e.H.useState(e)};se.useSyncExternalStore=function(e,t,n){return $e.H.useSyncExternalStore(e,t,n)};se.useTransition=function(){return $e.H.useTransition()};se.version="19.2.0";Oy.exports=se;var w=Oy.exports;const Dt=iw(w);var ky={exports:{}},Ec={},Uy={exports:{}},zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,K){var Q=L.length;L.push(K);e:for(;0<Q;){var me=Q-1>>>1,ie=L[me];if(0<s(ie,K))L[me]=K,L[Q]=ie,Q=me;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var K=L[0],Q=L.pop();if(Q!==K){L[0]=Q;e:for(var me=0,ie=L.length,ut=ie>>>1;me<ut;){var Me=2*(me+1)-1,dt=L[Me],it=Me+1,Ct=L[it];if(0>s(dt,Q))it<ie&&0>s(Ct,dt)?(L[me]=Ct,L[it]=Q,me=it):(L[me]=dt,L[Me]=Q,me=Me);else if(it<ie&&0>s(Ct,Q))L[me]=Ct,L[it]=Q,me=it;else break e}}return K}function s(L,K){var Q=L.sortIndex-K.sortIndex;return Q!==0?Q:L.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],f=1,y=null,m=3,g=!1,x=!1,E=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(L){for(var K=n(u);K!==null;){if(K.callback===null)a(u);else if(K.startTime<=L)a(u),K.sortIndex=K.expirationTime,t(o,K);else break;K=n(u)}}function A(L){if(E=!1,S(L),!x)if(n(o)!==null)x=!0,R||(R=!0,P());else{var K=n(u);K!==null&&de(A,K.startTime-L)}}var R=!1,O=-1,U=5,$=-1;function V(){return T?!0:!(e.unstable_now()-$<U)}function I(){if(T=!1,R){var L=e.unstable_now();$=L;var K=!0;try{e:{x=!1,E&&(E=!1,h(O),O=-1),g=!0;var Q=m;try{t:{for(S(L),y=n(o);y!==null&&!(y.expirationTime>L&&V());){var me=y.callback;if(typeof me=="function"){y.callback=null,m=y.priorityLevel;var ie=me(y.expirationTime<=L);if(L=e.unstable_now(),typeof ie=="function"){y.callback=ie,S(L),K=!0;break t}y===n(o)&&a(o),S(L)}else a(o);y=n(o)}if(y!==null)K=!0;else{var ut=n(u);ut!==null&&de(A,ut.startTime-L),K=!1}}break e}finally{y=null,m=Q,g=!1}K=void 0}}finally{K?P():R=!1}}}var P;if(typeof v=="function")P=function(){v(I)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=I,P=function(){te.postMessage(null)}}else P=function(){b(I,0)};function de(L,K){O=b(function(){L(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Q=m;m=K;try{return L()}finally{m=Q}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=m;m=L;try{return K()}finally{m=Q}},e.unstable_scheduleCallback=function(L,K,Q){var me=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,L={id:f++,callback:K,priorityLevel:L,startTime:Q,expirationTime:ie,sortIndex:-1},Q>me?(L.sortIndex=Q,t(u,L),n(o)===null&&L===n(u)&&(E?(h(O),O=-1):E=!0,de(A,Q-me))):(L.sortIndex=ie,t(o,L),x||g||(x=!0,R||(R=!0,P()))),L},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(L){var K=m;return function(){var Q=m;m=K;try{return L.apply(this,arguments)}finally{m=Q}}}})(zy);Uy.exports=zy;var Ew=Uy.exports,$y={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=w;function By(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var Bt={d:{f:Ma,r:function(){throw Error(By(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},jw=Symbol.for("react.portal");function Ow(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jw,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Cr=Tw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Tc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(By(299));return Ow(e,t,null,n)};Lt.flushSync=function(e){var t=Cr.T,n=Bt.p;try{if(Cr.T=null,Bt.p=2,e)return e()}finally{Cr.T=t,Bt.p=n,Bt.d.f()}};Lt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bt.d.C(e,t))};Lt.prefetchDNS=function(e){typeof e=="string"&&Bt.d.D(e)};Lt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Tc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:i}):n==="script"&&Bt.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Lt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Tc(t.as,t.crossOrigin);Bt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bt.d.M(e)};Lt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Tc(n,t.crossOrigin);Bt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Lt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Tc(t.as,t.crossOrigin);Bt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bt.d.m(e)};Lt.requestFormReset=function(e){Bt.d.r(e)};Lt.unstable_batchedUpdates=function(e,t){return e(t)};Lt.useFormState=function(e,t,n){return Cr.H.useFormState(e,t,n)};Lt.useFormStatus=function(){return Cr.H.useHostTransitionStatus()};Lt.version="19.2.0";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(e){console.error(e)}}Ly(),$y.exports=Lt;var gi=$y.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=Ew,qy=w,Nw=gi;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Hy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dm(e){if(bl(e)!==e)throw Error(z(188))}function Aw(e){var t=e.alternate;if(!t){if(t=bl(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dm(s),e;if(i===a)return dm(s),t;i=i.sibling}throw Error(z(188))}if(n.return!==a.return)n=s,a=i;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r){for(l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r)throw Error(z(189))}}if(n.alternate!==a)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Gy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Gy(e),t!==null)return t;e=e.sibling}return null}var Be=Object.assign,Dw=Symbol.for("react.element"),Il=Symbol.for("react.transitional.element"),Er=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),Ky=Symbol.for("react.consumer"),ga=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),ud=Symbol.for("react.activity"),Cw=Symbol.for("react.memo_cache_sentinel"),fm=Symbol.iterator;function vr(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var Rw=Symbol.for("react.client.reference");function dd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Rw?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yi:return"Fragment";case ld:return"Profiler";case Iy:return"StrictMode";case od:return"Suspense";case cd:return"SuspenseList";case ud:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Er:return"Portal";case ga:return e.displayName||"Context";case Ky:return(e._context.displayName||"Context")+".Consumer";case Rf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mf:return t=e.displayName||null,t!==null?t:dd(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return dd(e(t))}catch{}}return null}var Tr=Array.isArray,F=qy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=Nw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,As={pending:!1,data:null,method:null,action:null},fd=[],vi=-1;function Wn(e){return{current:e}}function _t(e){0>vi||(e.current=fd[vi],fd[vi]=null,vi--)}function Re(e,t){vi++,fd[vi]=e.current,e.current=t}var Zn=Wn(null),Pr=Wn(null),Ja=Wn(null),Bo=Wn(null);function Lo(e,t){switch(Re(Ja,t),Re(Pr,e),Re(Zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pg(t),e=f0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(Zn),Re(Zn,e)}function $i(){_t(Zn),_t(Pr),_t(Ja)}function hd(e){e.memoizedState!==null&&Re(Bo,e);var t=Zn.current,n=f0(t,e.type);t!==n&&(Re(Pr,e),Re(Zn,n))}function qo(e){Pr.current===e&&(_t(Zn),_t(Pr)),Bo.current===e&&(_t(Bo),ol._currentValue=As)}var uu,hm;function _s(e){if(uu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uu=t&&t[1]||"",hm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uu+e+hm}var du=!1;function fu(e,t){if(!e||du)return"";du=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(g){var m=g}Reflect.construct(e,[],y)}else{try{y.call()}catch(g){m=g}e.call(y.prototype)}}else{try{throw Error()}catch(g){m=g}(y=e())&&typeof y.catch=="function"&&y.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],l=i[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(s=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(a===o.length||s===u.length)for(a=o.length-1,s=u.length-1;1<=a&&0<=s&&o[a]!==u[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==u[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==u[s]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=s);break}}}finally{du=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_s(n):""}function Mw(e,t){switch(e.tag){case 26:case 27:case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return e.child!==t&&t!==null?_s("Suspense Fallback"):_s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return fu(e.type,!1);case 11:return fu(e.type.render,!1);case 1:return fu(e.type,!0);case 31:return _s("Activity");default:return""}}function mm(e){try{var t="",n=null;do t+=Mw(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var md=Object.prototype.hasOwnProperty,kf=ct.unstable_scheduleCallback,hu=ct.unstable_cancelCallback,kw=ct.unstable_shouldYield,Uw=ct.unstable_requestPaint,dn=ct.unstable_now,zw=ct.unstable_getCurrentPriorityLevel,Xy=ct.unstable_ImmediatePriority,Qy=ct.unstable_UserBlockingPriority,Ho=ct.unstable_NormalPriority,$w=ct.unstable_LowPriority,Jy=ct.unstable_IdlePriority,Bw=ct.log,Lw=ct.unstable_setDisableYieldValue,_l=null,fn=null;function Ga(e){if(typeof Bw=="function"&&Lw(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(_l,e)}catch{}}var hn=Math.clz32?Math.clz32:Yw,qw=Math.log,Hw=Math.LN2;function Yw(e){return e>>>=0,e===0?32:31-(qw(e)/Hw|0)|0}var Kl=256,Xl=262144,Ql=4194304;function ws(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~i,a!==0?s=ws(a):(r&=l,r!==0?s=ws(r):n||(n=l&~e,n!==0&&(s=ws(n))))):(l=a&~i,l!==0?s=ws(l):r!==0?s=ws(r):n||(n=a&~e,n!==0&&(s=ws(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zy(){var e=Ql;return Ql<<=1,!(Ql&62914560)&&(Ql=4194304),e}function mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gw(e,t,n,a,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var f=31-hn(n),y=1<<f;l[f]=0,o[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~y}a!==0&&Py(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Py(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-hn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-hn(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Fy(e,t){var n=t&-t;return n=n&42?1:Uf(n),n&(e.suspendedLanes|t)?0:n}function Uf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ev(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:x0(e.type))}function gm(e,t){var n=Se.p;try{return Se.p=e,t()}finally{Se.p=n}}var os=Math.random().toString(36).slice(2),xt="__reactFiber$"+os,Pt="__reactProps$"+os,Wi="__reactContainer$"+os,gd="__reactEvents$"+os,Iw="__reactListeners$"+os,Kw="__reactHandles$"+os,ym="__reactResources$"+os,xl="__reactMarker$"+os;function $f(e){delete e[xt],delete e[Pt],delete e[gd],delete e[Iw],delete e[Kw]}function pi(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wi]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xg(e);e!==null;){if(n=e[xt])return n;e=xg(e)}return t}e=n,n=e.parentNode}return null}function Fi(e){if(e=e[xt]||e[Wi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function jr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function Ni(e){var t=e[ym];return t||(t=e[ym]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[xl]=!0}var tv=new Set,nv={};function Ls(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for(nv[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var Xw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vm={},pm={};function Qw(e){return md.call(pm,e)?!0:md.call(vm,e)?!1:Xw.test(e)?pm[e]=!0:(vm[e]=!0,!1)}function _o(e,t,n){if(Qw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function la(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yd(e){if(!e._valueTracker){var t=av(e)?"checked":"value";e._valueTracker=Jw(e,t,""+e[t])}}function sv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=av(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zw=/[\n"\\]/g;function Nn(e){return e.replace(Zw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vd(e,t,n,a,s,i,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tn(t)):e.value!==""+Tn(t)&&(e.value=""+Tn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?pd(e,r,Tn(t)):n!=null?pd(e,r,Tn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Tn(l):e.removeAttribute("name")}function iv(e,t,n,a,s,i,r,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){yd(e);return}n=n!=null?""+Tn(n):"",t=t!=null?""+Tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),yd(e)}function pd(e,t,n){t==="number"&&Yo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ai(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rv(e,t,n){if(t!=null&&(t=""+Tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tn(n):""}function lv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(z(92));if(Tr(a)){if(1<a.length)throw Error(z(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),yd(e)}function Li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bm(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Pw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ov(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&bm(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&bm(e,i,t[i])}function Bf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(e){return Fw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ya(){}var bd=null;function Lf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Di=null;function _m(e){var t=Fi(e);if(t&&(e=t.stateNode)){var n=e[Pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Pt]||null;if(!s)throw Error(z(90));vd(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&sv(a)}break e;case"textarea":rv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ai(e,!!n.multiple,t,!1)}}}var gu=!1;function cv(e,t,n){if(gu)return e(t,n);gu=!0;try{var a=e(t);return a}finally{if(gu=!1,(bi!==null||Di!==null)&&(Bc(),bi&&(t=bi,e=Di,Di=bi=null,_m(t),e)))for(t=0;t<e.length;t++)_m(e[t])}}function Wr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Pt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=!1;if(wa)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){_d=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{_d=!1}var Ia=null,qf=null,So=null;function uv(){if(So)return So;var e,t=qf,n=t.length,a,s="value"in Ia?Ia.value:Ia.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===s[i-a];a++);return So=s.slice(e,1<a?1-a:void 0)}function xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function wm(){return!1}function Wt(e){function t(n,a,s,i,r){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zl:wm,this.isPropagationStopped=wm,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=Wt(qs),El=Be({},qs,{view:0,detail:0}),eS=Wt(El),yu,vu,br,Nc=Be({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(yu=e.screenX-br.screenX,vu=e.screenY-br.screenY):vu=yu=0,br=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),Sm=Wt(Nc),tS=Be({},Nc,{dataTransfer:0}),nS=Wt(tS),aS=Be({},El,{relatedTarget:0}),pu=Wt(aS),sS=Be({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=Wt(sS),rS=Be({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lS=Wt(rS),oS=Be({},qs,{data:0}),xm=Wt(oS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dS[e])?!!t[e]:!1}function Hf(){return fS}var hS=Be({},El,{key:function(e){if(e.key){var t=cS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=Wt(hS),gS=Be({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Em=Wt(gS),yS=Be({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),vS=Wt(yS),pS=Be({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),bS=Wt(pS),_S=Be({},Nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=Wt(_S),SS=Be({},qs,{newState:0,oldState:0}),xS=Wt(SS),ES=[9,13,27,32],Yf=wa&&"CompositionEvent"in window,Rr=null;wa&&"documentMode"in document&&(Rr=document.documentMode);var TS=wa&&"TextEvent"in window&&!Rr,dv=wa&&(!Yf||Rr&&8<Rr&&11>=Rr),Tm=" ",jm=!1;function fv(e,t){switch(e){case"keyup":return ES.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function jS(e,t){switch(e){case"compositionend":return hv(t);case"keypress":return t.which!==32?null:(jm=!0,Tm);case"textInput":return e=t.data,e===Tm&&jm?null:e;default:return null}}function OS(e,t){if(_i)return e==="compositionend"||!Yf&&fv(e,t)?(e=uv(),So=qf=Ia=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dv&&t.locale!=="ko"?null:t.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NS[e.type]:t==="textarea"}function mv(e,t,n,a){bi?Di?Di.push(a):Di=[a]:bi=a,t=rc(t,"onChange"),0<t.length&&(n=new Oc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Mr=null,Fr=null;function AS(e){c0(e,0)}function Ac(e){var t=jr(e);if(sv(t))return e}function Nm(e,t){if(e==="change")return t}var gv=!1;if(wa){var bu;if(wa){var _u="oninput"in document;if(!_u){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),_u=typeof Am.oninput=="function"}bu=_u}else bu=!1;gv=bu&&(!document.documentMode||9<document.documentMode)}function Dm(){Mr&&(Mr.detachEvent("onpropertychange",yv),Fr=Mr=null)}function yv(e){if(e.propertyName==="value"&&Ac(Fr)){var t=[];mv(t,Fr,e,Lf(e)),cv(AS,t)}}function DS(e,t,n){e==="focusin"?(Dm(),Mr=t,Fr=n,Mr.attachEvent("onpropertychange",yv)):e==="focusout"&&Dm()}function CS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ac(Fr)}function RS(e,t){if(e==="click")return Ac(t)}function MS(e,t){if(e==="input"||e==="change")return Ac(t)}function kS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:kS;function el(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!md.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function Cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,t){var n=Cm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cm(n)}}function vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yo(e.document)}return t}function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var US=wa&&"documentMode"in document&&11>=document.documentMode,wi=null,wd=null,kr=null,Sd=!1;function Mm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sd||wi==null||wi!==Yo(a)||(a=wi,"selectionStart"in a&&Vf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),kr&&el(kr,a)||(kr=a,a=rc(wd,"onSelect"),0<a.length&&(t=new Oc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=wi)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},wu={},bv={};wa&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Hs(e){if(wu[e])return wu[e];if(!Si[e])return e;var t=Si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bv)return wu[e]=t[n];return e}var _v=Hs("animationend"),wv=Hs("animationiteration"),Sv=Hs("animationstart"),zS=Hs("transitionrun"),$S=Hs("transitionstart"),BS=Hs("transitioncancel"),xv=Hs("transitionend"),Ev=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function Gn(e,t){Ev.set(e,t),Ls(t,[e])}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],xi=0,Gf=0;function Dc(){for(var e=xi,t=Gf=xi=0;t<e;){var n=xn[t];xn[t++]=null;var a=xn[t];xn[t++]=null;var s=xn[t];xn[t++]=null;var i=xn[t];if(xn[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&Tv(n,s,i)}}function Cc(e,t,n,a){xn[xi++]=e,xn[xi++]=t,xn[xi++]=n,xn[xi++]=a,Gf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function If(e,t,n,a){return Cc(e,t,n,a),Go(e)}function Ys(e,t){return Cc(e,null,null,t),Go(e)}function Tv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-hn(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Go(e){if(50<Vr)throw Vr=0,Gd=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ei={};function LS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,a){return new LS(e,t,n,a)}function Kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pa(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Eo(e,t,n,a,s,i){var r=0;if(a=e,typeof e=="function")Kf(e)&&(r=1);else if(typeof e=="string")r=Gx(e,n,Zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ud:return e=ln(31,n,t,s),e.elementType=ud,e.lanes=i,e;case yi:return Ds(n.children,s,i,t);case Iy:r=8,s|=24;break;case ld:return e=ln(12,n,t,s|2),e.elementType=ld,e.lanes=i,e;case od:return e=ln(13,n,t,s),e.elementType=od,e.lanes=i,e;case cd:return e=ln(19,n,t,s),e.elementType=cd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ga:r=10;break e;case Ky:r=9;break e;case Rf:r=11;break e;case Mf:r=14;break e;case Ua:r=16,a=null;break e}r=29,n=Error(z(130,e===null?"null":typeof e,"")),a=null}return t=ln(r,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ds(e,t,n,a){return e=ln(7,e,a,t),e.lanes=n,e}function Su(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Ov(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function xu(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var km=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=km.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mm(t)},km.set(e,t),t)}return{value:e,source:t,stack:mm(t)}}var Ti=[],ji=0,Io=null,tl=0,jn=[],On=0,ss=null,Xn=1,Qn="";function ha(e,t){Ti[ji++]=tl,Ti[ji++]=Io,Io=e,tl=t}function Nv(e,t,n){jn[On++]=Xn,jn[On++]=Qn,jn[On++]=ss,ss=e;var a=Xn;e=Qn;var s=32-hn(a)-1;a&=~(1<<s),n+=1;var i=32-hn(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Xn=1<<32-hn(t)+s|n<<s|a,Qn=i+e}else Xn=1<<i|n<<s|a,Qn=e}function Xf(e){e.return!==null&&(ha(e,1),Nv(e,1,0))}function Qf(e){for(;e===Io;)Io=Ti[--ji],Ti[ji]=null,tl=Ti[--ji],Ti[ji]=null;for(;e===ss;)ss=jn[--On],jn[On]=null,Qn=jn[--On],jn[On]=null,Xn=jn[--On],jn[On]=null}function Av(e,t){jn[On++]=Xn,jn[On++]=Qn,jn[On++]=ss,Xn=t.id,Qn=t.overflow,ss=e}var Et=null,ze=null,ye=!1,Za=null,Dn=!1,Ed=Error(z(519));function is(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(An(t,e)),Ed}function Um(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[xt]=e,t[Pt]=a,n){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(n=0;n<rl.length;n++)ce(rl[n],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),iv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),lv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||d0(t.textContent,n)?(a.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),a.onScroll!=null&&ce("scroll",t),a.onScrollEnd!=null&&ce("scrollend",t),a.onClick!=null&&(t.onclick=ya),t=!0):t=!1,t||is(e,!0)}function zm(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Et=Et.return}}function ai(e){if(e!==Et)return!1;if(!ye)return zm(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jd(e.type,e.memoizedProps)),n=!n),n&&ze&&is(e),zm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));ze=Sg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));ze=Sg(e)}else t===27?(t=ze,cs(e.type)?(e=Fd,Fd=null,ze=e):ze=t):ze=Et?Rn(e.stateNode.nextSibling):null;return!0}function ks(){ze=Et=null,ye=!1}function Eu(){var e=Za;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Za=null),e}function nl(e){Za===null?Za=[e]:Za.push(e)}var Td=Wn(null),Vs=null,va=null;function La(e,t,n){Re(Td,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=Td.current,_t(Td)}function jd(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Od(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=s;for(var o=0;o<t.length;o++)if(l.context===t[o]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),jd(i.return,n,e),a||(r=null);break e}i=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(z(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),jd(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function er(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(z(387));if(r=r.memoizedProps,r!==null){var l=s.type;gn(s.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(s===Bo.current){if(r=s.alternate,r===null)throw Error(z(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}s=s.return}e!==null&&Od(t,e,n,a),t.flags|=262144}function Ko(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Us(e){Vs=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return Dv(Vs,e)}function Pl(e,t){return Vs===null&&Us(e),Dv(e,t)}function Dv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},va===null){if(e===null)throw Error(z(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var qS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},HS=ct.unstable_scheduleCallback,YS=ct.unstable_NormalPriority,at={$$typeof:ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new qS,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&HS(YS,function(){e.controller.abort()})}var Ur=null,Nd=0,qi=0,Ci=null;function VS(e,t){if(Ur===null){var n=Ur=[];Nd=0,qi=_h(),Ci={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Nd++,t.then($m,$m),t}function $m(){if(--Nd===0&&Ur!==null){Ci!==null&&(Ci.status="fulfilled");var e=Ur;Ur=null,qi=0,Ci=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function GS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var Bm=F.S;F.S=function(e,t){Gp=dn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&VS(e,t),Bm!==null&&Bm(e,t)};var Cs=Wn(null);function Zf(){var e=Cs.current;return e!==null?e:De.pooledCache}function To(e,t){t===null?Re(Cs,Cs.current):Re(Cs,t.pool)}function Cv(){var e=Zf();return e===null?null:{parent:at._currentValue,pool:e}}var tr=Error(z(460)),Pf=Error(z(474)),Rc=Error(z(542)),Xo={then:function(){}};function Lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ya,ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hm(e),e;default:if(typeof t.status=="string")t.then(ya,ya);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hm(e),e}throw Rs=t,tr}}function Ss(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Rs=n,tr):n}}var Rs=null;function qm(){if(Rs===null)throw Error(z(459));var e=Rs;return Rs=null,e}function Hm(e){if(e===tr||e===Rc)throw Error(z(483))}var Ri=null,al=0;function Wl(e){var t=al;return al+=1,Ri===null&&(Ri=[]),Rv(Ri,e,t)}function _r(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fl(e,t){throw t.$$typeof===Dw?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mv(e){function t(b,h){if(e){var v=b.deletions;v===null?(b.deletions=[h],b.flags|=16):v.push(h)}}function n(b,h){if(!e)return null;for(;h!==null;)t(b,h),h=h.sibling;return null}function a(b){for(var h=new Map;b!==null;)b.key!==null?h.set(b.key,b):h.set(b.index,b),b=b.sibling;return h}function s(b,h){return b=pa(b,h),b.index=0,b.sibling=null,b}function i(b,h,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<h?(b.flags|=67108866,h):v):(b.flags|=67108866,h)):(b.flags|=1048576,h)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,h,v,S){return h===null||h.tag!==6?(h=Su(v,b.mode,S),h.return=b,h):(h=s(h,v),h.return=b,h)}function o(b,h,v,S){var A=v.type;return A===yi?f(b,h,v.props.children,S,v.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ua&&Ss(A)===h.type)?(h=s(h,v.props),_r(h,v),h.return=b,h):(h=Eo(v.type,v.key,v.props,null,b.mode,S),_r(h,v),h.return=b,h)}function u(b,h,v,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=xu(v,b.mode,S),h.return=b,h):(h=s(h,v.children||[]),h.return=b,h)}function f(b,h,v,S,A){return h===null||h.tag!==7?(h=Ds(v,b.mode,S,A),h.return=b,h):(h=s(h,v),h.return=b,h)}function y(b,h,v){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Su(""+h,b.mode,v),h.return=b,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Il:return v=Eo(h.type,h.key,h.props,null,b.mode,v),_r(v,h),v.return=b,v;case Er:return h=xu(h,b.mode,v),h.return=b,h;case Ua:return h=Ss(h),y(b,h,v)}if(Tr(h)||vr(h))return h=Ds(h,b.mode,v,null),h.return=b,h;if(typeof h.then=="function")return y(b,Wl(h),v);if(h.$$typeof===ga)return y(b,Pl(b,h),v);Fl(b,h)}return null}function m(b,h,v,S){var A=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:l(b,h,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Il:return v.key===A?o(b,h,v,S):null;case Er:return v.key===A?u(b,h,v,S):null;case Ua:return v=Ss(v),m(b,h,v,S)}if(Tr(v)||vr(v))return A!==null?null:f(b,h,v,S,null);if(typeof v.then=="function")return m(b,h,Wl(v),S);if(v.$$typeof===ga)return m(b,h,Pl(b,v),S);Fl(b,v)}return null}function g(b,h,v,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(v)||null,l(h,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Il:return b=b.get(S.key===null?v:S.key)||null,o(h,b,S,A);case Er:return b=b.get(S.key===null?v:S.key)||null,u(h,b,S,A);case Ua:return S=Ss(S),g(b,h,v,S,A)}if(Tr(S)||vr(S))return b=b.get(v)||null,f(h,b,S,A,null);if(typeof S.then=="function")return g(b,h,v,Wl(S),A);if(S.$$typeof===ga)return g(b,h,v,Pl(h,S),A);Fl(h,S)}return null}function x(b,h,v,S){for(var A=null,R=null,O=h,U=h=0,$=null;O!==null&&U<v.length;U++){O.index>U?($=O,O=null):$=O.sibling;var V=m(b,O,v[U],S);if(V===null){O===null&&(O=$);break}e&&O&&V.alternate===null&&t(b,O),h=i(V,h,U),R===null?A=V:R.sibling=V,R=V,O=$}if(U===v.length)return n(b,O),ye&&ha(b,U),A;if(O===null){for(;U<v.length;U++)O=y(b,v[U],S),O!==null&&(h=i(O,h,U),R===null?A=O:R.sibling=O,R=O);return ye&&ha(b,U),A}for(O=a(O);U<v.length;U++)$=g(O,b,U,v[U],S),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?U:$.key),h=i($,h,U),R===null?A=$:R.sibling=$,R=$);return e&&O.forEach(function(I){return t(b,I)}),ye&&ha(b,U),A}function E(b,h,v,S){if(v==null)throw Error(z(151));for(var A=null,R=null,O=h,U=h=0,$=null,V=v.next();O!==null&&!V.done;U++,V=v.next()){O.index>U?($=O,O=null):$=O.sibling;var I=m(b,O,V.value,S);if(I===null){O===null&&(O=$);break}e&&O&&I.alternate===null&&t(b,O),h=i(I,h,U),R===null?A=I:R.sibling=I,R=I,O=$}if(V.done)return n(b,O),ye&&ha(b,U),A;if(O===null){for(;!V.done;U++,V=v.next())V=y(b,V.value,S),V!==null&&(h=i(V,h,U),R===null?A=V:R.sibling=V,R=V);return ye&&ha(b,U),A}for(O=a(O);!V.done;U++,V=v.next())V=g(O,b,U,V.value,S),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?U:V.key),h=i(V,h,U),R===null?A=V:R.sibling=V,R=V);return e&&O.forEach(function(P){return t(b,P)}),ye&&ha(b,U),A}function T(b,h,v,S){if(typeof v=="object"&&v!==null&&v.type===yi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Il:e:{for(var A=v.key;h!==null;){if(h.key===A){if(A=v.type,A===yi){if(h.tag===7){n(b,h.sibling),S=s(h,v.props.children),S.return=b,b=S;break e}}else if(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ua&&Ss(A)===h.type){n(b,h.sibling),S=s(h,v.props),_r(S,v),S.return=b,b=S;break e}n(b,h);break}else t(b,h);h=h.sibling}v.type===yi?(S=Ds(v.props.children,b.mode,S,v.key),S.return=b,b=S):(S=Eo(v.type,v.key,v.props,null,b.mode,S),_r(S,v),S.return=b,b=S)}return r(b);case Er:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(b,h.sibling),S=s(h,v.children||[]),S.return=b,b=S;break e}else{n(b,h);break}else t(b,h);h=h.sibling}S=xu(v,b.mode,S),S.return=b,b=S}return r(b);case Ua:return v=Ss(v),T(b,h,v,S)}if(Tr(v))return x(b,h,v,S);if(vr(v)){if(A=vr(v),typeof A!="function")throw Error(z(150));return v=A.call(v),E(b,h,v,S)}if(typeof v.then=="function")return T(b,h,Wl(v),S);if(v.$$typeof===ga)return T(b,h,Pl(b,v),S);Fl(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,h!==null&&h.tag===6?(n(b,h.sibling),S=s(h,v),S.return=b,b=S):(n(b,h),S=Su(v,b.mode,S),S.return=b,b=S),r(b)):n(b,h)}return function(b,h,v,S){try{al=0;var A=T(b,h,v,S);return Ri=null,A}catch(O){if(O===tr||O===Rc)throw O;var R=ln(29,O,null,b.mode);return R.lanes=S,R.return=b,R}finally{}}}var zs=Mv(!0),kv=Mv(!1),za=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,we&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Go(e),Tv(e,null,n),t}return Cc(e,a,t,n),Go(e)}function zr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Wy(e,n)}}function Tu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dd=!1;function $r(){if(Dd){var e=Ci;if(e!==null)throw e}}function Br(e,t,n,a){Dd=!1;var s=e.updateQueue;za=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?i=u:r.next=u,r=o;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==r&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=o))}if(i!==null){var y=s.baseState;r=0,f=u=o=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(he&m)===m:(a&m)===m){m!==0&&m===qi&&(Dd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var x=e,E=l;m=t;var T=n;switch(E.tag){case 1:if(x=E.payload,typeof x=="function"){y=x.call(T,y,m);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,m=typeof x=="function"?x.call(T,y,m):x,m==null)break e;y=Be({},y,m);break e;case 2:za=!0}}m=l.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,o=y):f=f.next=g,r|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(o=y),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),ls|=r,e.lanes=r,e.memoizedState=y}}function Uv(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function zv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Uv(n[e],t)}var Hi=Wn(null),Qo=Wn(0);function Ym(e,t){e=Ta,Re(Qo,e),Re(Hi,t),Ta=e|t.baseLanes}function Cd(){Re(Qo,Ta),Re(Hi,Hi.current)}function Ff(){Ta=Qo.current,_t(Hi),_t(Qo)}var yn=Wn(null),Cn=null;function qa(e){var t=e.alternate;Re(Je,Je.current&1),Re(yn,e),Cn===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Cn=e)}function Rd(e){Re(Je,Je.current),Re(yn,e),Cn===null&&(Cn=e)}function $v(e){e.tag===22?(Re(Je,Je.current),Re(yn,e),Cn===null&&(Cn=e)):Ha()}function Ha(){Re(Je,Je.current),Re(yn,yn.current)}function rn(e){_t(yn),Cn===e&&(Cn=null),_t(Je)}var Je=Wn(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Pd(n)||Wd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,re=null,Ne=null,tt=null,Zo=!1,Mi=!1,$s=!1,Po=0,sl=0,ki=null,IS=0;function Ge(){throw Error(z(321))}function eh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function th(e,t,n,a,s,i){return Sa=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?mp:fh,$s=!1,i=n(a,s),$s=!1,Mi&&(i=Lv(t,n,a,s)),Bv(e),i}function Bv(e){F.H=il;var t=Ne!==null&&Ne.next!==null;if(Sa=0,tt=Ne=re=null,Zo=!1,sl=0,ki=null,t)throw Error(z(300));e===null||st||(e=e.dependencies,e!==null&&Ko(e)&&(st=!0))}function Lv(e,t,n,a){re=e;var s=0;do{if(Mi&&(ki=null),sl=0,Mi=!1,25<=s)throw Error(z(301));if(s+=1,tt=Ne=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}F.H=gp,i=t(n,a)}while(Mi);return i}function KS(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(re.flags|=1024),t}function nh(){var e=Po!==0;return Po=0,e}function ah(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function sh(e){if(Zo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zo=!1}Sa=0,tt=Ne=re=null,Mi=!1,sl=Po=0,ki=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?re.memoizedState=tt=e:tt=tt.next=e,tt}function Ze(){if(Ne===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=tt===null?re.memoizedState:tt.next;if(t!==null)tt=t,Ne=e;else{if(e===null)throw re.alternate===null?Error(z(467)):Error(z(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},tt===null?re.memoizedState=tt=e:tt=tt.next=e}return tt}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=sl;return sl+=1,ki===null&&(ki=[]),e=Rv(ki,e,t),t=re,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?mp:fh),e}function kc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===ga)return Tt(e)}throw Error(z(438,String(e)))}function ih(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mc(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Cw;return t.index++,n}function xa(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=Ze();return rh(t,Ne,e)}function rh(e,t,n){var a=e.queue;if(a===null)throw Error(z(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var l=r=null,o=null,u=t,f=!1;do{var y=u.lane&-536870913;if(y!==u.lane?(he&y)===y:(Sa&y)===y){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),y===qi&&(f=!0);else if((Sa&m)===m){u=u.next,m===qi&&(f=!0);continue}else y={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=y,r=i):o=o.next=y,re.lanes|=m,ls|=m;y=u.action,$s&&n(i,y),i=u.hasEagerState?u.eagerState:n(i,y)}else m={lane:y,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,r=i):o=o.next=m,re.lanes|=y,ls|=y;u=u.next}while(u!==null&&u!==t);if(o===null?r=i:o.next=l,!gn(i,e.memoizedState)&&(st=!0,f&&(n=Ci,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=o,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ju(e){var t=Ze(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);gn(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function qv(e,t,n){var a=re,s=Ze(),i=ye;if(i){if(n===void 0)throw Error(z(407));n=n()}else n=t();var r=!gn((Ne||s).memoizedState,n);if(r&&(s.memoizedState=n,st=!0),s=s.queue,lh(Vv.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,Yi(9,{destroy:void 0},Yv.bind(null,a,s,n,t),null),De===null)throw Error(z(349));i||Sa&127||Hv(a,t,n)}return n}function Hv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=Mc(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,a){t.value=n,t.getSnapshot=a,Gv(t)&&Iv(e)}function Vv(e,t,n){return n(function(){Gv(t)&&Iv(e)})}function Gv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Iv(e){var t=Ys(e,2);t!==null&&Zt(t,e,2)}function Md(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),$s){Ga(!0);try{n()}finally{Ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t}function Kv(e,t,n,a){return e.baseState=n,rh(e,Ne,typeof a=="function"?a:xa)}function XS(e,t,n,a,s){if(zc(e))throw Error(z(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};F.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Xv(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Xv(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=F.T,r={};F.T=r;try{var l=n(s,a),o=F.S;o!==null&&o(r,l),Vm(e,t,l)}catch(u){kd(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),F.T=i}}else try{i=n(s,a),Vm(e,t,i)}catch(u){kd(e,t,u)}}function Vm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Gm(e,t,a)},function(a){return kd(e,t,a)}):Gm(e,t,n)}function Gm(e,t,n){t.status="fulfilled",t.value=n,Qv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xv(e,n)))}function kd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Qv(t),t=t.next;while(t!==a)}e.action=null}function Qv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jv(e,t){return t}function Im(e,t){if(ye){var n=De.formState;if(n!==null){e:{var a=re;if(ye){if(ze){t:{for(var s=ze,i=Dn;s.nodeType!==8;){if(!i){s=null;break t}if(s=Rn(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ze=Rn(s.nextSibling),a=s.data==="F!";break e}}is(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:t},n.queue=a,n=dp.bind(null,re,a),a.dispatch=n,a=Md(!1),i=dh.bind(null,re,!1,a.queue),a=zt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=XS.bind(null,re,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Km(e){var t=Ze();return Zv(t,Ne,e)}function Zv(e,t,n){if(t=rh(e,t,Jv)[0],e=jo(xa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=jl(t)}catch(r){throw r===tr?Rc:r}else a=t;t=Ze();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(re.flags|=2048,Yi(9,{destroy:void 0},QS.bind(null,s,n),null)),[a,i,e]}function QS(e,t){e.action=t}function Xm(e){var t=Ze(),n=Ne;if(n!==null)return Zv(t,n,e);Ze(),t=t.memoizedState,n=Ze();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Yi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=Mc(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Pv(){return Ze().memoizedState}function Oo(e,t,n,a){var s=zt();re.flags|=e,s.memoizedState=Yi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Uc(e,t,n,a){var s=Ze();a=a===void 0?null:a;var i=s.memoizedState.inst;Ne!==null&&a!==null&&eh(a,Ne.memoizedState.deps)?s.memoizedState=Yi(t,i,n,a):(re.flags|=e,s.memoizedState=Yi(1|t,i,n,a))}function Qm(e,t){Oo(8390656,8,e,t)}function lh(e,t){Uc(2048,8,e,t)}function JS(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Mc(),re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Wv(e){var t=Ze().memoizedState;return JS({ref:t,nextImpl:e}),function(){if(we&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function Fv(e,t){return Uc(4,2,e,t)}function ep(e,t){return Uc(4,4,e,t)}function tp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function np(e,t,n){n=n!=null?n.concat([e]):null,Uc(4,4,tp.bind(null,t,e),n)}function oh(){}function ap(e,t){var n=Ze();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&eh(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function sp(e,t){var n=Ze();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&eh(t,a[1]))return a[0];if(a=e(),$s){Ga(!0);try{e()}finally{Ga(!1)}}return n.memoizedState=[a,t],a}function ch(e,t,n){return n===void 0||Sa&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=n,e=Kp(),re.lanes|=e,ls|=e,n)}function ip(e,t,n,a){return gn(n,t)?n:Hi.current!==null?(e=ch(e,n,a),gn(e,t)||(st=!0),e):!(Sa&42)||Sa&1073741824&&!(he&261930)?(st=!0,e.memoizedState=n):(e=Kp(),re.lanes|=e,ls|=e,t)}function rp(e,t,n,a,s){var i=Se.p;Se.p=i!==0&&8>i?i:8;var r=F.T,l={};F.T=l,dh(e,!1,t,n);try{var o=s(),u=F.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=GS(o,a);Lr(e,t,f,mn(e))}else Lr(e,t,a,mn(e))}catch(y){Lr(e,t,{then:function(){},status:"rejected",reason:y},mn())}finally{Se.p=i,r!==null&&l.types!==null&&(r.types=l.types),F.T=r}}function ZS(){}function Ud(e,t,n,a){if(e.tag!==5)throw Error(z(476));var s=lp(e).queue;rp(e,s,t,As,n===null?ZS:function(){return op(e),n(a)})}function lp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:As,baseState:As,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:As},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function op(e){var t=lp(e);t.next===null&&(t=e.alternate.memoizedState),Lr(e,t.next.queue,{},mn())}function uh(){return Tt(ol)}function cp(){return Ze().memoizedState}function up(){return Ze().memoizedState}function PS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Pa(n);var a=Wa(t,e,n);a!==null&&(Zt(a,t,n),zr(a,t,n)),t={cache:Jf()},e.payload=t;return}t=t.return}}function WS(e,t,n){var a=mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},zc(e)?fp(t,n):(n=If(e,t,n,a),n!==null&&(Zt(n,e,a),hp(n,t,a)))}function dp(e,t,n){var a=mn();Lr(e,t,n,a)}function Lr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(zc(e))fp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,l=i(r,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,r))return Cc(e,t,s,0),De===null&&Dc(),!1}catch{}finally{}if(n=If(e,t,s,a),n!==null)return Zt(n,e,a),hp(n,t,a),!0}return!1}function dh(e,t,n,a){if(a={lane:2,revertLane:_h(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(e)){if(t)throw Error(z(479))}else t=If(e,n,a,2),t!==null&&Zt(t,e,2)}function zc(e){var t=e.alternate;return e===re||t!==null&&t===re}function fp(e,t){Mi=Zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hp(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Wy(e,n)}}var il={readContext:Tt,use:kc,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};il.useEffectEvent=Ge;var mp={readContext:Tt,use:kc,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Qm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Oo(4194308,4,tp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){Oo(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if($s){Ga(!0);try{e()}finally{Ga(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var s=n(t);if($s){Ga(!0);try{n(t)}finally{Ga(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=WS.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Md(e);var t=e.queue,n=dp.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oh,useDeferredValue:function(e,t){var n=zt();return ch(n,e,t)},useTransition:function(){var e=Md(!1);return e=rp.bind(null,re,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=re,s=zt();if(ye){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),De===null)throw Error(z(349));he&127||Hv(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Qm(Vv.bind(null,a,i,e),[e]),a.flags|=2048,Yi(9,{destroy:void 0},Yv.bind(null,a,i,n,t),null),n},useId:function(){var e=zt(),t=De.identifierPrefix;if(ye){var n=Qn,a=Xn;n=(a&~(1<<32-hn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=IS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uh,useFormState:Im,useActionState:Im,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=dh.bind(null,re,!0,n),n.dispatch=t,[e,t]},useMemoCache:ih,useCacheRefresh:function(){return zt().memoizedState=PS.bind(null,re)},useEffectEvent:function(e){var t=zt(),n={impl:e};return t.memoizedState=n,function(){if(we&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},fh={readContext:Tt,use:kc,useCallback:ap,useContext:Tt,useEffect:lh,useImperativeHandle:np,useInsertionEffect:Fv,useLayoutEffect:ep,useMemo:sp,useReducer:jo,useRef:Pv,useState:function(){return jo(xa)},useDebugValue:oh,useDeferredValue:function(e,t){var n=Ze();return ip(n,Ne.memoizedState,e,t)},useTransition:function(){var e=jo(xa)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:qv,useId:cp,useHostTransitionStatus:uh,useFormState:Km,useActionState:Km,useOptimistic:function(e,t){var n=Ze();return Kv(n,Ne,e,t)},useMemoCache:ih,useCacheRefresh:up};fh.useEffectEvent=Wv;var gp={readContext:Tt,use:kc,useCallback:ap,useContext:Tt,useEffect:lh,useImperativeHandle:np,useInsertionEffect:Fv,useLayoutEffect:ep,useMemo:sp,useReducer:ju,useRef:Pv,useState:function(){return ju(xa)},useDebugValue:oh,useDeferredValue:function(e,t){var n=Ze();return Ne===null?ch(n,e,t):ip(n,Ne.memoizedState,e,t)},useTransition:function(){var e=ju(xa)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:qv,useId:cp,useHostTransitionStatus:uh,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,t){var n=Ze();return Ne!==null?Kv(n,Ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ih,useCacheRefresh:up};gp.useEffectEvent=Wv;function Ou(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Pa(a);s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Zt(t,e,a),zr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=mn(),s=Pa(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wa(e,s,a),t!==null&&(Zt(t,e,a),zr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),a=Pa(n);a.tag=2,t!=null&&(a.callback=t),t=Wa(e,a,n),t!==null&&(Zt(t,e,n),zr(t,e,n))}};function Jm(e,t,n,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!el(n,a)||!el(s,i):!0}function Zm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&zd.enqueueReplaceState(t,t.state,null)}function Bs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Be({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function yp(e){Vo(e)}function vp(e){console.error(e)}function pp(e){Vo(e)}function Wo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Pm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function $d(e,t,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){Wo(e,t)},n}function bp(e){return e=Pa(e),e.tag=3,e}function _p(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){Pm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Pm(t,n,a),typeof s!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function FS(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&er(t,n,s,!0),n=yn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?ac():n.alternate===null&&Ie===0&&(Ie=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Xo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Bu(e,a,s)),!1;case 22:return n.flags|=65536,a===Xo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Bu(e,a,s)),!1}throw Error(z(435,n.tag))}return Bu(e,a,s),ac(),!1}if(ye)return t=yn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Ed&&(e=Error(z(422),{cause:a}),nl(An(e,n)))):(a!==Ed&&(t=Error(z(423),{cause:a}),nl(An(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=An(a,n),s=$d(e.stateNode,a,s),Tu(e,s),Ie!==4&&(Ie=2)),!1;var i=Error(z(520),{cause:a});if(i=An(i,n),Yr===null?Yr=[i]:Yr.push(i),Ie!==4&&(Ie=2),t===null)return!0;a=An(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=$d(n.stateNode,a,e),Tu(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=bp(s),_p(s,e,n,a),Tu(n,s),!1}n=n.return}while(n!==null);return!1}var hh=Error(z(461)),st=!1;function St(e,t,n,a){t.child=e===null?kv(t,null,n,a):zs(t,e.child,n,a)}function Wm(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Us(t),a=th(e,t,n,r,i,s),l=nh(),e!==null&&!st?(ah(e,t,s),Ea(e,t,s)):(ye&&l&&Xf(t),t.flags|=1,St(e,t,a,s),t.child)}function Fm(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Kf(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,wp(e,t,i,a,s)):(e=Eo(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!mh(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(r,a)&&e.ref===t.ref)return Ea(e,t,s)}return t.flags|=1,e=pa(i,a),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(el(i,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=i,mh(e,s))e.flags&131072&&(st=!0);else return t.lanes=e.lanes,Ea(e,t,s)}return Bd(e,t,n,a,s)}function Sp(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return eg(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(t,i!==null?i.cachePool:null),i!==null?Ym(t,i):Cd(),$v(t);else return a=t.lanes=536870912,eg(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(To(t,i.cachePool),Ym(t,i),Ha(),t.memoizedState=null):(e!==null&&To(t,null),Cd(),Ha());return St(e,t,s,n),t.child}function Or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function eg(e,t,n,a,s){var i=Zf();return i=i===null?null:{parent:at._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&To(t,null),Cd(),$v(t),e!==null&&er(e,t,a,!0),t.childLanes=s,null}function No(e,t){return t=Fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tg(e,t,n){return zs(t,e.child,null,n),e=No(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function ex(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=No(t,a),t.lanes=536870912,Or(null,e);if(Rd(t),(e=ze)?(e=m0(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=Ov(e),n.return=t,t.child=n,Et=t,ze=null)):e=null,e===null)throw is(t);return t.lanes=536870912,null}return No(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Rd(t),s)if(t.flags&256)t.flags&=-257,t=tg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(st||er(e,t,n,!1),s=(n&e.childLanes)!==0,st||s){if(a=De,a!==null&&(r=Fy(a,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,Ys(e,r),Zt(a,e,r),hh;ac(),t=tg(e,t,n)}else e=i.treeContext,ze=Rn(r.nextSibling),Et=t,ye=!0,Za=null,Dn=!1,e!==null&&Av(t,e),t=No(t,a),t.flags|=4096;return t}return e=pa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ao(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Bd(e,t,n,a,s){return Us(t),n=th(e,t,n,a,void 0,s),a=nh(),e!==null&&!st?(ah(e,t,s),Ea(e,t,s)):(ye&&a&&Xf(t),t.flags|=1,St(e,t,n,s),t.child)}function ng(e,t,n,a,s,i){return Us(t),t.updateQueue=null,n=Lv(t,a,n,s),Bv(e),a=nh(),e!==null&&!st?(ah(e,t,i),Ea(e,t,i)):(ye&&a&&Xf(t),t.flags|=1,St(e,t,n,i),t.child)}function ag(e,t,n,a,s){if(Us(t),t.stateNode===null){var i=Ei,r=n.contextType;typeof r=="object"&&r!==null&&(i=Tt(r)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Wf(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?Tt(r):Ei,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Ou(t,n,r,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&zd.enqueueReplaceState(i,i.state,null),Br(t,a,i,s),$r(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,o=Bs(n,l);i.props=o;var u=i.context,f=n.contextType;r=Ei,typeof f=="object"&&f!==null&&(r=Tt(f));var y=n.getDerivedStateFromProps;f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==r)&&Zm(t,i,a,r),za=!1;var m=t.memoizedState;i.state=m,Br(t,a,i,s),$r(),u=t.memoizedState,l||m!==u||za?(typeof y=="function"&&(Ou(t,n,y,a),u=t.memoizedState),(o=za||Jm(t,n,o,a,m,u,r))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ad(e,t),r=t.memoizedProps,f=Bs(n,r),i.props=f,y=t.pendingProps,m=i.context,u=n.contextType,o=Ei,typeof u=="object"&&u!==null&&(o=Tt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==y||m!==o)&&Zm(t,i,a,o),za=!1,m=t.memoizedState,i.state=m,Br(t,a,i,s),$r();var g=t.memoizedState;r!==y||m!==g||za||e!==null&&e.dependencies!==null&&Ko(e.dependencies)?(typeof l=="function"&&(Ou(t,n,l,a),g=t.memoizedState),(f=za||Jm(t,n,f,a,m,g,o)||e!==null&&e.dependencies!==null&&Ko(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=o,a=f):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ao(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=zs(t,e.child,null,s),t.child=zs(t,null,n,s)):St(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Ea(e,t,s),e}function sg(e,t,n,a){return ks(),t.flags|=256,St(e,t,n,a),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:Cv()}}function Du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function xp(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?qa(t):Ha(),(e=ze)?(e=m0(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=Ov(e),n.return=t,t.child=n,Et=t,ze=null)):e=null,e===null)throw is(t);return Wd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ha(),s=t.mode,l=Fo({mode:"hidden",children:l},s),a=Ds(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Au(n),a.childLanes=Du(e,r,n),t.memoizedState=Nu,Or(null,a)):(qa(t),Ld(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(i)t.flags&256?(qa(t),t.flags&=-257,t=Cu(e,t,n)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),l=a.fallback,s=t.mode,a=Fo({mode:"visible",children:a.children},s),l=Ds(l,s,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,zs(t,e.child,null,n),a=t.child,a.memoizedState=Au(n),a.childLanes=Du(e,r,n),t.memoizedState=Nu,t=Or(null,a));else if(qa(t),Wd(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(z(419)),a.stack="",a.digest=r,nl({value:a,source:null,stack:null}),t=Cu(e,t,n)}else if(st||er(e,t,n,!1),r=(n&e.childLanes)!==0,st||r){if(r=De,r!==null&&(a=Fy(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Ys(e,a),Zt(r,e,a),hh;Pd(l)||ac(),t=Cu(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ze=Rn(l.nextSibling),Et=t,ye=!0,Za=null,Dn=!1,e!==null&&Av(t,e),t=Ld(t,a.children),t.flags|=4096);return t}return s?(Ha(),l=a.fallback,s=t.mode,o=e.child,u=o.sibling,a=pa(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=pa(u,l):(l=Ds(l,s,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Or(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Au(n):(s=l.cachePool,s!==null?(o=at._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=Cv(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Du(e,r,n),t.memoizedState=Nu,Or(e.child,a)):(qa(t),n=e.child,e=n.sibling,n=pa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ld(e,t){return t=Fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fo(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function Cu(e,t,n){return zs(t,e.child,null,n),e=Ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ig(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),jd(e.return,t,n)}function Ru(e,t,n,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function Ep(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=Je.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,Re(Je,r),St(e,t,a,n),a=ye?tl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ig(e,n,t);else if(e.tag===19)ig(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ru(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ru(t,!0,n,null,i,a);break;case"together":Ru(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ls|=t.lanes,!(n&t.childLanes))if(e!==null){if(er(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=pa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ko(e)))}function tx(e,t,n){switch(t.tag){case 3:Lo(t,t.stateNode.containerInfo),La(t,at,e.memoizedState.cache),ks();break;case 27:case 5:hd(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Rd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(qa(t),t.flags|=128,null):n&t.child.childLanes?xp(e,t,n):(qa(t),e=Ea(e,t,n),e!==null?e.sibling:null);qa(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(er(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Ep(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Je,Je.current),a)break;return null;case 22:return t.lanes=0,Sp(e,t,n,t.pendingProps);case 24:La(t,at,e.memoizedState.cache)}return Ea(e,t,n)}function Tp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!mh(e,n)&&!(t.flags&128))return st=!1,tx(e,t,n);st=!!(e.flags&131072)}else st=!1,ye&&t.flags&1048576&&Nv(t,tl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ss(t.elementType),t.type=e,typeof e=="function")Kf(e)?(a=Bs(e,a),t.tag=1,t=ag(null,t,e,a,n)):(t.tag=0,t=Bd(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===Rf){t.tag=11,t=Wm(null,t,e,a,n);break e}else if(s===Mf){t.tag=14,t=Fm(null,t,e,a,n);break e}}throw t=dd(e)||e,Error(z(306,t,""))}}return t;case 0:return Bd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Bs(a,t.pendingProps),ag(e,t,a,s,n);case 3:e:{if(Lo(t,t.stateNode.containerInfo),e===null)throw Error(z(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,Ad(e,t),Br(t,a,null,n);var r=t.memoizedState;if(a=r.cache,La(t,at,a),a!==i.cache&&Od(t,[at],n,!0),$r(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=sg(e,t,a,n);break e}else if(a!==s){s=An(Error(z(424)),t),nl(s),t=sg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Rn(e.firstChild),Et=t,ye=!0,Za=null,Dn=!0,n=kv(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ks(),a===s){t=Ea(e,t,n);break e}St(e,t,a,n)}t=t.child}return t;case 26:return Ao(e,t),e===null?(n=Tg(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,a=lc(Ja.current).createElement(n),a[xt]=t,a[Pt]=e,jt(a,n,e),bt(a),t.stateNode=a):t.memoizedState=Tg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hd(t),e===null&&ye&&(a=t.stateNode=g0(t.type,t.pendingProps,Ja.current),Et=t,Dn=!0,s=ze,cs(t.type)?(Fd=s,ze=Rn(a.firstChild)):ze=s),St(e,t,t.pendingProps.children,n),Ao(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=a=ze)&&(a=Cx(a,t.type,t.pendingProps,Dn),a!==null?(t.stateNode=a,Et=t,ze=Rn(a.firstChild),Dn=!1,s=!0):s=!1),s||is(t)),hd(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,Jd(s,i)?a=null:r!==null&&Jd(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=th(e,t,KS,null,null,n),ol._currentValue=s),Ao(e,t),St(e,t,a,n),t.child;case 6:return e===null&&ye&&((e=n=ze)&&(n=Rx(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Et=t,ze=null,e=!0):e=!1),e||is(t)),null;case 13:return xp(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=zs(t,null,a,n):St(e,t,a,n),t.child;case 11:return Wm(e,t,t.type,t.pendingProps,n);case 7:return St(e,t,t.pendingProps,n),t.child;case 8:return St(e,t,t.pendingProps.children,n),t.child;case 12:return St(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,La(t,t.type,a.value),St(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Us(t),s=Tt(s),a=a(s),t.flags|=1,St(e,t,a,n),t.child;case 14:return Fm(e,t,t.type,t.pendingProps,n);case 15:return wp(e,t,t.type,t.pendingProps,n);case 19:return Ep(e,t,n);case 31:return ex(e,t,n);case 22:return Sp(e,t,n,t.pendingProps);case 24:return Us(t),a=Tt(at),e===null?(s=Zf(),s===null&&(s=De,i=Jf(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},Wf(t),La(t,at,s)):(e.lanes&n&&(Ad(e,t),Br(t,null,null,n),$r()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),La(t,at,a)):(a=i.cache,La(t,at,a),a!==s.cache&&Od(t,[at],n,!0))),St(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function oa(e){e.flags|=4}function Mu(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Jp())e.flags|=8192;else throw Rs=Xo,Pf}else e.flags&=-16777217}function rg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!p0(t))if(Jp())e.flags|=8192;else throw Rs=Xo,Pf}function eo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zy():536870912,e.lanes|=t,Vi|=t)}function wr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function nx(e,t,n){var a=t.pendingProps;switch(Qf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ba(at),$i(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?oa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Eu())),Ue(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(oa(t),i!==null?(Ue(t),rg(t,i)):(Ue(t),Mu(t,s,null,a,n))):i?i!==e.memoizedState?(oa(t),Ue(t),rg(t,i)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&oa(t),Ue(t),Mu(t,s,e,a,n)),null;case 27:if(qo(t),n=Ja.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&oa(t);else{if(!a){if(t.stateNode===null)throw Error(z(166));return Ue(t),null}e=Zn.current,ai(t)?Um(t):(e=g0(s,a,n),t.stateNode=e,oa(t))}return Ue(t),null;case 5:if(qo(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&oa(t);else{if(!a){if(t.stateNode===null)throw Error(z(166));return Ue(t),null}if(i=Zn.current,ai(t))Um(t);else{var r=lc(Ja.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[xt]=t,i[Pt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(jt(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oa(t)}}return Ue(t),Mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&oa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(z(166));if(e=Ja.current,ai(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Et,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||d0(e.nodeValue,n)),e||is(t,!0)}else e=lc(e).createTextNode(a),e[xt]=t,t.stateNode=e}return Ue(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ai(t),n!==null){if(e===null){if(!a)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[xt]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else n=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if(t.flags&128)throw Error(z(558))}return Ue(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ai(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[xt]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else s=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),eo(t,t.updateQueue),Ue(t),null);case 4:return $i(),e===null&&wh(t.stateNode.containerInfo),Ue(t),null;case 10:return ba(t.type),Ue(t),null;case 19:if(_t(Je),a=t.memoizedState,a===null)return Ue(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)wr(a,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Jo(e),i!==null){for(t.flags|=128,wr(a,!1),e=i.updateQueue,t.updateQueue=e,eo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jv(n,e),n=n.sibling;return Re(Je,Je.current&1|2),ye&&ha(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&dn()>tc&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Jo(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,eo(t,e),wr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return Ue(t),null}else 2*dn()-a.renderingStartTime>tc&&n!==536870912&&(t.flags|=128,s=!0,wr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,n=Je.current,Re(Je,s?n&1|2:n&1),ye&&ha(t,a.treeForkCount),e):(Ue(t),null);case 22:case 23:return rn(t),Ff(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),n=t.updateQueue,n!==null&&eo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&_t(Cs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(at),Ue(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function ax(e,t){switch(Qf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(at),$i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qo(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error(z(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Je),null;case 4:return $i(),null;case 10:return ba(t.type),null;case 22:case 23:return rn(t),Ff(),e!==null&&_t(Cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(at),null;case 25:return null;default:return null}}function jp(e,t){switch(Qf(t),t.tag){case 3:ba(at),$i();break;case 26:case 27:case 5:qo(t);break;case 4:$i();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:_t(Je);break;case 10:ba(t.type);break;case 22:case 23:rn(t),Ff(),e!==null&&_t(Cs);break;case 24:ba(at)}}function Ol(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,r=n.inst;a=i(),r.destroy=a}n=n.next}while(n!==s)}}catch(l){je(t,t.return,l)}}function rs(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=t;var o=n,u=l;try{u()}catch(f){je(s,o,f)}}}a=a.next}while(a!==i)}}catch(f){je(t,t.return,f)}}function Op(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{zv(t,n)}catch(a){je(e,e.return,a)}}}function Np(e,t,n){n.props=Bs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){je(e,t,a)}}function qr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){je(e,t,s)}}function Jn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){je(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){je(e,t,s)}else n.current=null}function Ap(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){je(e,e.return,s)}}function ku(e,t,n){try{var a=e.stateNode;Tx(a,e.type,n,t),a[Pt]=t}catch(s){je(e,e.return,s)}}function Dp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cs(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ya));else if(a!==4&&(a===27&&cs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}function ec(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&cs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function Cp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);jt(t,a,n),t[xt]=e,t[Pt]=n}catch(i){je(e,e.return,i)}}var ma=!1,nt=!1,zu=!1,lg=typeof WeakSet=="function"?WeakSet:Set,vt=null;function sx(e,t){if(e=e.containerInfo,Xd=dc,e=pv(e),Vf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,f=0,y=e,m=null;t:for(;;){for(var g;y!==n||s!==0&&y.nodeType!==3||(l=r+s),y!==i||a!==0&&y.nodeType!==3||(o=r+a),y.nodeType===3&&(r+=y.nodeValue.length),(g=y.firstChild)!==null;)m=y,y=g;for(;;){if(y===e)break t;if(m===n&&++u===s&&(l=r),m===i&&++f===a&&(o=r),(g=y.nextSibling)!==null)break;y=m,m=y.parentNode}y=g}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qd={focusedElem:e,selectionRange:n},dc=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var x=Bs(n.type,s);e=a.getSnapshotBeforeUpdate(x,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(E){je(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Rp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ua(e,n),a&4&&Ol(5,n);break;case 1:if(ua(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){je(n,n.return,r)}else{var s=Bs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){je(n,n.return,r)}}a&64&&Op(n),a&512&&qr(n,n.return);break;case 3:if(ua(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{zv(e,t)}catch(r){je(n,n.return,r)}}break;case 27:t===null&&a&4&&Cp(n);case 26:case 5:ua(e,n),t===null&&a&4&&Ap(n),a&512&&qr(n,n.return);break;case 12:ua(e,n);break;case 31:ua(e,n),a&4&&Up(e,n);break;case 13:ua(e,n),a&4&&zp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=hx.bind(null,n),Mx(e,n))));break;case 22:if(a=n.memoizedState!==null||ma,!a){t=t!==null&&t.memoizedState!==null||nt,s=ma;var i=nt;ma=a,(nt=t)&&!i?da(e,n,(n.subtreeFlags&8772)!==0):ua(e,n),ma=s,nt=i}break;case 30:break;default:ua(e,n)}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$f(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,Qt=!1;function ca(e,t,n){for(n=n.child;n!==null;)kp(e,t,n),n=n.sibling}function kp(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 26:nt||Jn(n,t),ca(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||Jn(n,t);var a=Le,s=Qt;cs(n.type)&&(Le=n.stateNode,Qt=!1),ca(e,t,n),Gr(n.stateNode),Le=a,Qt=s;break;case 5:nt||Jn(n,t);case 6:if(a=Le,s=Qt,Le=null,ca(e,t,n),Le=a,Qt=s,Le!==null)if(Qt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(i){je(n,t,i)}else try{Le.removeChild(n.stateNode)}catch(i){je(n,t,i)}break;case 18:Le!==null&&(Qt?(e=Le,_g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xi(e)):_g(Le,n.stateNode));break;case 4:a=Le,s=Qt,Le=n.stateNode.containerInfo,Qt=!0,ca(e,t,n),Le=a,Qt=s;break;case 0:case 11:case 14:case 15:rs(2,n,t),nt||rs(4,n,t),ca(e,t,n);break;case 1:nt||(Jn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Np(n,t,a)),ca(e,t,n);break;case 21:ca(e,t,n);break;case 22:nt=(a=nt)||n.memoizedState!==null,ca(e,t,n),nt=a;break;default:ca(e,t,n)}}function Up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xi(e)}catch(n){je(t,t.return,n)}}}function zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xi(e)}catch(n){je(t,t.return,n)}}function ix(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lg),t;default:throw Error(z(435,e.tag))}}function to(e,t){var n=ix(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=mx.bind(null,e,a);a.then(s,s)}})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(cs(l.type)){Le=l.stateNode,Qt=!1;break e}break;case 5:Le=l.stateNode,Qt=!1;break e;case 3:case 4:Le=l.stateNode.containerInfo,Qt=!0;break e}l=l.return}if(Le===null)throw Error(z(160));kp(i,r,s),Le=null,Qt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$p(t,e),t=t.sibling}var Hn=null;function $p(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Xt(e),a&4&&(rs(3,e,e.return),Ol(3,e),rs(5,e,e.return));break;case 1:Kt(t,e),Xt(e),a&512&&(nt||n===null||Jn(n,n.return)),a&64&&ma&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Hn;if(Kt(t,e),Xt(e),a&512&&(nt||n===null||Jn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[xl]||i[xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),jt(i,a,n),i[xt]=e,bt(i),a=i;break e;case"link":var r=Og("link","href",s).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(i=r[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}i=s.createElement(a),jt(i,a,n),s.head.appendChild(i);break;case"meta":if(r=Og("meta","content",s).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(i=r[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}i=s.createElement(a),jt(i,a,n),s.head.appendChild(i);break;default:throw Error(z(468,a))}i[xt]=e,bt(i),a=i}e.stateNode=a}else Ng(s,e.type,e.stateNode);else e.stateNode=jg(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Ng(s,e.type,e.stateNode):jg(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ku(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Xt(e),a&512&&(nt||n===null||Jn(n,n.return)),n!==null&&a&4&&ku(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Xt(e),a&512&&(nt||n===null||Jn(n,n.return)),e.flags&32){s=e.stateNode;try{Li(s,"")}catch(x){je(e,e.return,x)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,ku(e,s,n!==null?n.memoizedProps:s)),a&1024&&(zu=!0);break;case 6:if(Kt(t,e),Xt(e),a&4){if(e.stateNode===null)throw Error(z(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(x){je(e,e.return,x)}}break;case 3:if(Ro=null,s=Hn,Hn=oc(t.containerInfo),Kt(t,e),Hn=s,Xt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(t.containerInfo)}catch(x){je(e,e.return,x)}zu&&(zu=!1,Bp(e));break;case 4:a=Hn,Hn=oc(e.stateNode.containerInfo),Kt(t,e),Xt(e),Hn=a;break;case 12:Kt(t,e),Xt(e);break;case 31:Kt(t,e),Xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 13:Kt(t,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($c=dn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 22:s=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=ma,f=nt;if(ma=u||s,nt=f||o,Kt(t,e),nt=f,ma=u,Xt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||o||ma||nt||xs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var y=o.memoizedProps.style,m=y!=null&&y.hasOwnProperty("display")?y.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(x){je(o,o.return,x)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(x){je(o,o.return,x)}}}else if(t.tag===18){if(n===null){o=t;try{var g=o.stateNode;s?wg(g,!0):wg(o.stateNode,!1)}catch(x){je(o,o.return,x)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,to(e,n))));break;case 19:Kt(t,e),Xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,to(e,a)));break;case 30:break;case 21:break;default:Kt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Dp(a)){n=a;break}a=a.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var s=n.stateNode,i=Uu(e);ec(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&(Li(r,""),n.flags&=-33);var l=Uu(e);ec(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Uu(e);qd(e,u,o);break;default:throw Error(z(161))}}catch(f){je(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rp(e,t.alternate,t),t=t.sibling}function xs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rs(4,t,t.return),xs(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Np(t,t.return,n),xs(t);break;case 27:Gr(t.stateNode);case 26:case 5:Jn(t,t.return),xs(t);break;case 22:t.memoizedState===null&&xs(t);break;case 30:xs(t);break;default:xs(t)}e=e.sibling}}function da(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:da(s,i,n),Ol(4,i);break;case 1:if(da(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){je(a,a.return,u)}if(a=i,s=a.updateQueue,s!==null){var l=a.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)Uv(o[s],l)}catch(u){je(a,a.return,u)}}n&&r&64&&Op(i),qr(i,i.return);break;case 27:Cp(i);case 26:case 5:da(s,i,n),n&&a===null&&r&4&&Ap(i),qr(i,i.return);break;case 12:da(s,i,n);break;case 31:da(s,i,n),n&&r&4&&Up(s,i);break;case 13:da(s,i,n),n&&r&4&&zp(s,i);break;case 22:i.memoizedState===null&&da(s,i,n),qr(i,i.return);break;case 30:break;default:da(s,i,n)}t=t.sibling}}function gh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Tl(n))}function yh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e))}function $n(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lp(e,t,n,a),t=t.sibling}function Lp(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$n(e,t,n,a),s&2048&&Ol(9,t);break;case 1:$n(e,t,n,a);break;case 3:$n(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e)));break;case 12:if(s&2048){$n(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,l=i.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){je(t,t.return,o)}}else $n(e,t,n,a);break;case 31:$n(e,t,n,a);break;case 13:$n(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?$n(e,t,n,a):Hr(e,t):i._visibility&2?$n(e,t,n,a):(i._visibility|=2,di(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&gh(r,t);break;case 24:$n(e,t,n,a),s&2048&&yh(t.alternate,t);break;default:$n(e,t,n,a)}}function di(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,l=n,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,l,o,s),Ol(8,r);break;case 23:break;case 22:var f=r.stateNode;r.memoizedState!==null?f._visibility&2?di(i,r,l,o,s):Hr(i,r):(f._visibility|=2,di(i,r,l,o,s)),s&&u&2048&&gh(r.alternate,r);break;case 24:di(i,r,l,o,s),s&&u&2048&&yh(r.alternate,r);break;default:di(i,r,l,o,s)}t=t.sibling}}function Hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Hr(n,a),s&2048&&gh(a.alternate,a);break;case 24:Hr(n,a),s&2048&&yh(a.alternate,a);break;default:Hr(n,a)}t=t.sibling}}var Nr=8192;function si(e,t,n){if(e.subtreeFlags&Nr)for(e=e.child;e!==null;)qp(e,t,n),e=e.sibling}function qp(e,t,n){switch(e.tag){case 26:si(e,t,n),e.flags&Nr&&e.memoizedState!==null&&Ix(n,Hn,e.memoizedState,e.memoizedProps);break;case 5:si(e,t,n);break;case 3:case 4:var a=Hn;Hn=oc(e.stateNode.containerInfo),si(e,t,n),Hn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Nr,Nr=16777216,si(e,t,n),Nr=a):si(e,t,n));break;default:si(e,t,n)}}function Hp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];vt=a,Vp(a,e)}Hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&rs(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Do(e)):Sr(e);break;default:Sr(e)}}function Do(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];vt=a,Vp(a,e)}Hp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rs(8,t,t.return),Do(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Do(t));break;default:Do(t)}e=e.sibling}}function Vp(e,t){for(;vt!==null;){var n=vt;switch(n.tag){case 0:case 11:case 15:rs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Tl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,vt=a;else e:for(n=e;vt!==null;){a=vt;var s=a.sibling,i=a.return;if(Mp(a),a===n){vt=null;break e}if(s!==null){s.return=i,vt=s;break e}vt=i}}}var rx={getCacheForType:function(e){var t=Tt(at),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Tt(at).controller.signal}},lx=typeof WeakMap=="function"?WeakMap:Map,we=0,De=null,ue=null,he=0,Te=0,sn=null,Ka=!1,nr=!1,vh=!1,Ta=0,Ie=0,ls=0,Ms=0,ph=0,un=0,Vi=0,Yr=null,Jt=null,Hd=!1,$c=0,Gp=0,tc=1/0,nc=null,Fa=null,ot=0,es=null,Gi=null,_a=0,Yd=0,Vd=null,Ip=null,Vr=0,Gd=null;function mn(){return we&2&&he!==0?he&-he:F.T!==null?_h():ev()}function Kp(){if(un===0)if(!(he&536870912)||ye){var e=Xl;Xl<<=1,!(Xl&3932160)&&(Xl=262144),un=e}else un=536870912;return e=yn.current,e!==null&&(e.flags|=32),un}function Zt(e,t,n){(e===De&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Ii(e,0),Xa(e,he,un,!1)),Sl(e,n),(!(we&2)||e!==De)&&(e===De&&(!(we&2)&&(Ms|=n),Ie===4&&Xa(e,he,un,!1)),Fn(e))}function Xp(e,t,n){if(we&6)throw Error(z(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||wl(e,t),s=a?ux(e,t):$u(e,t,!0),i=a;do{if(s===0){nr&&!a&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!ox(n)){s=$u(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;s=Yr;var o=l.current.memoizedState.isDehydrated;if(o&&(Ii(l,r).flags|=256),r=$u(l,r,!1),r!==2){if(vh&&!o){l.errorRecoveryDisabledLanes|=i,Ms|=i,s=4;break e}i=Jt,Jt=s,i!==null&&(Jt===null?Jt=i:Jt.push.apply(Jt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){Ii(e,0),Xa(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:Xa(a,t,un,!Ka);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(s=$c+300-dn(),10<s)){if(Xa(a,t,un,!Ka),jc(a,0,!0)!==0)break e;_a=t,a.timeoutHandle=h0(og.bind(null,a,n,Jt,nc,Hd,t,un,Ms,Vi,Ka,i,"Throttled",-0,0),s);break e}og(a,n,Jt,nc,Hd,t,un,Ms,Vi,Ka,i,null,-0,0)}}break}while(!0);Fn(e)}function og(e,t,n,a,s,i,r,l,o,u,f,y,m,g){if(e.timeoutHandle=-1,y=t.subtreeFlags,y&8192||(y&16785408)===16785408){y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},qp(t,i,y);var x=(i&62914560)===i?$c-dn():(i&4194048)===i?Gp-dn():0;if(x=Kx(y,x),x!==null){_a=i,e.cancelPendingCommit=x(ug.bind(null,e,t,i,n,a,s,r,l,o,f,y,null,m,g)),Xa(e,i,r,!u);return}}ug(e,t,i,n,a,s,r,l,o)}function ox(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,a){t&=~ph,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-hn(s),r=1<<i;a[i]=-1,s&=~r}n!==0&&Py(e,n,t)}function Bc(){return we&6?!0:(Nl(0),!1)}function bh(){if(ue!==null){if(Te===0)var e=ue.return;else e=ue,va=Vs=null,sh(e),Ri=null,al=0,e=ue;for(;e!==null;)jp(e.alternate,e),e=e.return;ue=null}}function Ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Nx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_a=0,bh(),De=e,ue=n=pa(e.current,null),he=t,Te=0,sn=null,Ka=!1,nr=wl(e,t),vh=!1,Vi=un=ph=Ms=ls=Ie=0,Jt=Yr=null,Hd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-hn(a),i=1<<s;t|=e[s],a&=~i}return Ta=t,Dc(),n}function Qp(e,t){re=null,F.H=il,t===tr||t===Rc?(t=qm(),Te=3):t===Pf?(t=qm(),Te=4):Te=t===hh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,ue===null&&(Ie=1,Wo(e,An(t,e.current)))}function Jp(){var e=yn.current;return e===null?!0:(he&4194048)===he?Cn===null:(he&62914560)===he||he&536870912?e===Cn:!1}function Zp(){var e=F.H;return F.H=il,e===null?il:e}function Pp(){var e=F.A;return F.A=rx,e}function ac(){Ie=4,Ka||(he&4194048)!==he&&yn.current!==null||(nr=!0),!(ls&134217727)&&!(Ms&134217727)||De===null||Xa(De,he,un,!1)}function $u(e,t,n){var a=we;we|=2;var s=Zp(),i=Pp();(De!==e||he!==t)&&(nc=null,Ii(e,t)),t=!1;var r=Ie;e:do try{if(Te!==0&&ue!==null){var l=ue,o=sn;switch(Te){case 8:bh(),r=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(t=!0);var u=Te;if(Te=0,sn=null,Oi(e,l,o,u),n&&nr){r=0;break e}break;default:u=Te,Te=0,sn=null,Oi(e,l,o,u)}}cx(),r=Ie;break}catch(f){Qp(e,f)}while(!0);return t&&e.shellSuspendCounter++,va=Vs=null,we=a,F.H=s,F.A=i,ue===null&&(De=null,he=0,Dc()),r}function cx(){for(;ue!==null;)Wp(ue)}function ux(e,t){var n=we;we|=2;var a=Zp(),s=Pp();De!==e||he!==t?(nc=null,tc=dn()+500,Ii(e,t)):nr=wl(e,t);e:do try{if(Te!==0&&ue!==null){t=ue;var i=sn;t:switch(Te){case 1:Te=0,sn=null,Oi(e,t,i,1);break;case 2:case 9:if(Lm(i)){Te=0,sn=null,cg(t);break}t=function(){Te!==2&&Te!==9||De!==e||(Te=7),Fn(e)},i.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Lm(i)?(Te=0,sn=null,cg(t)):(Te=0,sn=null,Oi(e,t,i,7));break;case 5:var r=null;switch(ue.tag){case 26:r=ue.memoizedState;case 5:case 27:var l=ue;if(r?p0(r):l.stateNode.complete){Te=0,sn=null;var o=l.sibling;if(o!==null)ue=o;else{var u=l.return;u!==null?(ue=u,Lc(u)):ue=null}break t}}Te=0,sn=null,Oi(e,t,i,5);break;case 6:Te=0,sn=null,Oi(e,t,i,6);break;case 8:bh(),Ie=6;break e;default:throw Error(z(462))}}dx();break}catch(f){Qp(e,f)}while(!0);return va=Vs=null,F.H=a,F.A=s,we=n,ue!==null?0:(De=null,he=0,Dc(),Ie)}function dx(){for(;ue!==null&&!kw();)Wp(ue)}function Wp(e){var t=Tp(e.alternate,e,Ta);e.memoizedProps=e.pendingProps,t===null?Lc(e):ue=t}function cg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ng(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=ng(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:sh(t);default:jp(n,t),t=ue=jv(t,Ta),t=Tp(n,t,Ta)}e.memoizedProps=e.pendingProps,t===null?Lc(e):ue=t}function Oi(e,t,n,a){va=Vs=null,sh(t),Ri=null,al=0;var s=t.return;try{if(FS(e,s,t,n,he)){Ie=1,Wo(e,An(n,e.current)),ue=null;return}}catch(i){if(s!==null)throw ue=s,i;Ie=1,Wo(e,An(n,e.current)),ue=null;return}t.flags&32768?(ye||a===1?e=!0:nr||he&536870912?e=!1:(Ka=e=!0,(a===2||a===9||a===3||a===6)&&(a=yn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fp(t,e)):Lc(t)}function Lc(e){var t=e;do{if(t.flags&32768){Fp(t,Ka);return}e=t.return;var n=nx(t.alternate,t,Ta);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Ie===0&&(Ie=5)}function Fp(e,t){do{var n=ax(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);Ie=6,ue=null}function ug(e,t,n,a,s,i,r,l,o){e.cancelPendingCommit=null;do qc();while(ot!==0);if(we&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(i=t.lanes|t.childLanes,i|=Gf,Gw(e,n,i,r,l,o),e===De&&(ue=De=null,he=0),Gi=t,es=e,_a=n,Yd=i,Vd=s,Ip=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,gx(Ho,function(){return s0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=F.T,F.T=null,s=Se.p,Se.p=2,r=we,we|=4;try{sx(e,t,n)}finally{we=r,Se.p=s,F.T=a}}ot=1,e0(),t0(),n0()}}function e0(){if(ot===1){ot=0;var e=es,t=Gi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var a=Se.p;Se.p=2;var s=we;we|=4;try{$p(t,e);var i=Qd,r=pv(e.containerInfo),l=i.focusedElem,o=i.selectionRange;if(r!==l&&l&&l.ownerDocument&&vv(l.ownerDocument.documentElement,l)){if(o!==null&&Vf(l)){var u=o.start,f=o.end;if(f===void 0&&(f=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(f,l.value.length);else{var y=l.ownerDocument||document,m=y&&y.defaultView||window;if(m.getSelection){var g=m.getSelection(),x=l.textContent.length,E=Math.min(o.start,x),T=o.end===void 0?E:Math.min(o.end,x);!g.extend&&E>T&&(r=T,T=E,E=r);var b=Rm(l,E),h=Rm(l,T);if(b&&h&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==h.node||g.focusOffset!==h.offset)){var v=y.createRange();v.setStart(b.node,b.offset),g.removeAllRanges(),E>T?(g.addRange(v),g.extend(h.node,h.offset)):(v.setEnd(h.node,h.offset),g.addRange(v))}}}}for(y=[],g=l;g=g.parentNode;)g.nodeType===1&&y.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<y.length;l++){var S=y[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}dc=!!Xd,Qd=Xd=null}finally{we=s,Se.p=a,F.T=n}}e.current=t,ot=2}}function t0(){if(ot===2){ot=0;var e=es,t=Gi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var a=Se.p;Se.p=2;var s=we;we|=4;try{Rp(e,t.alternate,t)}finally{we=s,Se.p=a,F.T=n}}ot=3}}function n0(){if(ot===4||ot===3){ot=0,Uw();var e=es,t=Gi,n=_a,a=Ip;t.subtreeFlags&10256||t.flags&10256?ot=5:(ot=0,Gi=es=null,a0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Fa=null),zf(n),t=t.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,s=Se.p,Se.p=2,F.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];i(l.value,{componentStack:l.stack})}}finally{F.T=t,Se.p=s}}_a&3&&qc(),Fn(e),s=e.pendingLanes,n&261930&&s&42?e===Gd?Vr++:(Vr=0,Gd=e):Vr=0,Nl(0)}}function a0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tl(t)))}function qc(){return e0(),t0(),n0(),s0()}function s0(){if(ot!==5)return!1;var e=es,t=Yd;Yd=0;var n=zf(_a),a=F.T,s=Se.p;try{Se.p=32>n?32:n,F.T=null,n=Vd,Vd=null;var i=es,r=_a;if(ot=0,Gi=es=null,_a=0,we&6)throw Error(z(331));var l=we;if(we|=4,Yp(i.current),Lp(i,i.current,r,n),we=l,Nl(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(_l,i)}catch{}return!0}finally{Se.p=s,F.T=a,a0(e,t)}}function dg(e,t,n){t=An(n,t),t=$d(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(Sl(e,2),Fn(e))}function je(e,t,n){if(e.tag===3)dg(e,e,n);else for(;t!==null;){if(t.tag===3){dg(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Fa===null||!Fa.has(a))){e=An(n,e),n=bp(2),a=Wa(t,n,2),a!==null&&(_p(n,a,t,e),Sl(a,2),Fn(a));break}}t=t.return}}function Bu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new lx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(vh=!0,s.add(n),e=fx.bind(null,e,t,n),t.then(e,e))}function fx(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,De===e&&(he&n)===n&&(Ie===4||Ie===3&&(he&62914560)===he&&300>dn()-$c?!(we&2)&&Ii(e,0):ph|=n,Vi===he&&(Vi=0)),Fn(e)}function i0(e,t){t===0&&(t=Zy()),e=Ys(e,t),e!==null&&(Sl(e,t),Fn(e))}function hx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),i0(e,n)}function mx(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(z(314))}a!==null&&a.delete(t),i0(e,n)}function gx(e,t){return kf(e,t)}var sc=null,fi=null,Id=!1,ic=!1,Lu=!1,Qa=0;function Fn(e){e!==fi&&e.next===null&&(fi===null?sc=fi=e:fi=fi.next=e),ic=!0,Id||(Id=!0,vx())}function Nl(e,t){if(!Lu&&ic){Lu=!0;do for(var n=!1,a=sc;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,l=a.pingedLanes;i=(1<<31-hn(42|e)+1)-1,i&=s&~(r&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,fg(a,i))}else i=he,i=jc(a,a===De?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||wl(a,i)||(n=!0,fg(a,i));a=a.next}while(n);Lu=!1}}function yx(){r0()}function r0(){ic=Id=!1;var e=0;Qa!==0&&Ox()&&(e=Qa);for(var t=dn(),n=null,a=sc;a!==null;){var s=a.next,i=l0(a,t);i===0?(a.next=null,n===null?sc=s:n.next=s,s===null&&(fi=n)):(n=a,(e!==0||i&3)&&(ic=!0)),a=s}ot!==0&&ot!==5||Nl(e),Qa!==0&&(Qa=0)}function l0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-hn(i),l=1<<r,o=s[r];o===-1?(!(l&n)||l&a)&&(s[r]=Vw(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}if(t=De,n=he,n=jc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&hu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||wl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&hu(a),zf(n)){case 2:case 8:n=Qy;break;case 32:n=Ho;break;case 268435456:n=Jy;break;default:n=Ho}return a=o0.bind(null,e),n=kf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&hu(a),e.callbackPriority=2,e.callbackNode=null,2}function o0(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qc()&&e.callbackNode!==n)return null;var a=he;return a=jc(e,e===De?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xp(e,a,t),l0(e,dn()),e.callbackNode!=null&&e.callbackNode===n?o0.bind(null,e):null)}function fg(e,t){if(qc())return null;Xp(e,t,!0)}function vx(){Ax(function(){we&6?kf(Xy,yx):r0()})}function _h(){if(Qa===0){var e=qi;e===0&&(e=Kl,Kl<<=1,!(Kl&261888)&&(Kl=256)),Qa=e}return Qa}function hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wo(""+e)}function mg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function px(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=hg((s[Pt]||null).action),r=a.submitter;r&&(t=(t=r[Pt]||null)?hg(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var l=new Oc("action","action",null,a,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qa!==0){var o=r?mg(s,r):new FormData(s);Ud(n,{pending:!0,data:o,method:s.method,action:i},null,o)}}else typeof i=="function"&&(l.preventDefault(),o=r?mg(s,r):new FormData(s),Ud(n,{pending:!0,data:o,method:s.method,action:i},i,o))},currentTarget:s}]})}}for(var qu=0;qu<xd.length;qu++){var Hu=xd[qu],bx=Hu.toLowerCase(),_x=Hu[0].toUpperCase()+Hu.slice(1);Gn(bx,"on"+_x)}Gn(_v,"onAnimationEnd");Gn(wv,"onAnimationIteration");Gn(Sv,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(zS,"onTransitionRun");Gn($S,"onTransitionStart");Gn(BS,"onTransitionCancel");Gn(xv,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function c0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Vo(f)}s.currentTarget=null,i=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;i=l,s.currentTarget=u;try{i(s)}catch(f){Vo(f)}s.currentTarget=null,i=o}}}}function ce(e,t){var n=t[gd];n===void 0&&(n=t[gd]=new Set);var a=e+"__bubble";n.has(a)||(u0(t,e,2,!1),n.add(a))}function Yu(e,t,n){var a=0;t&&(a|=4),u0(n,e,a,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function wh(e){if(!e[no]){e[no]=!0,tv.forEach(function(n){n!=="selectionchange"&&(wx.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,Yu("selectionchange",!1,t))}}function u0(e,t,n,a){switch(x0(t)){case 2:var s=Jx;break;case 8:s=Zx;break;default:s=Th}n=s.bind(null,t,n,e),s=void 0,!_d||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vu(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=pi(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=i=r;continue e}l=l.parentNode}}a=a.return}cv(function(){var u=i,f=Lf(n),y=[];e:{var m=Ev.get(e);if(m!==void 0){var g=Oc,x=e;switch(e){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":g=mS;break;case"focusin":x="focus",g=pu;break;case"focusout":x="blur",g=pu;break;case"beforeblur":case"afterblur":g=pu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vS;break;case _v:case wv:case Sv:g=iS;break;case xv:g=bS;break;case"scroll":case"scrollend":g=eS;break;case"wheel":g=wS;break;case"copy":case"cut":case"paste":g=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Em;break;case"toggle":case"beforetoggle":g=xS}var E=(t&4)!==0,T=!E&&(e==="scroll"||e==="scrollend"),b=E?m!==null?m+"Capture":null:m;E=[];for(var h=u,v;h!==null;){var S=h;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||b===null||(S=Wr(h,b),S!=null&&E.push(ll(h,S,v))),T)break;h=h.return}0<E.length&&(m=new g(m,x,null,n,f),y.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==bd&&(x=n.relatedTarget||n.fromElement)&&(pi(x)||x[Wi]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?pi(x):null,x!==null&&(T=bl(x),E=x.tag,x!==T||E!==5&&E!==27&&E!==6)&&(x=null)):(g=null,x=u),g!==x)){if(E=Sm,S="onMouseLeave",b="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=Em,S="onPointerLeave",b="onPointerEnter",h="pointer"),T=g==null?m:jr(g),v=x==null?m:jr(x),m=new E(S,h+"leave",g,n,f),m.target=T,m.relatedTarget=v,S=null,pi(f)===u&&(E=new E(b,h+"enter",x,n,f),E.target=v,E.relatedTarget=T,S=E),T=S,g&&x)t:{for(E=Sx,b=g,h=x,v=0,S=b;S;S=E(S))v++;S=0;for(var A=h;A;A=E(A))S++;for(;0<v-S;)b=E(b),v--;for(;0<S-v;)h=E(h),S--;for(;v--;){if(b===h||h!==null&&b===h.alternate){E=b;break t}b=E(b),h=E(h)}E=null}else E=null;g!==null&&gg(y,m,g,E,!1),x!==null&&T!==null&&gg(y,T,x,E,!0)}}e:{if(m=u?jr(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var R=Nm;else if(Om(m))if(gv)R=MS;else{R=CS;var O=DS}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Bf(u.elementType)&&(R=Nm):R=RS;if(R&&(R=R(e,u))){mv(y,R,n,f);break e}O&&O(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&pd(m,"number",m.value)}switch(O=u?jr(u):window,e){case"focusin":(Om(O)||O.contentEditable==="true")&&(wi=O,wd=u,kr=null);break;case"focusout":kr=wd=wi=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Mm(y,n,f);break;case"selectionchange":if(US)break;case"keydown":case"keyup":Mm(y,n,f)}var U;if(Yf)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else _i?fv(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(dv&&n.locale!=="ko"&&(_i||$!=="onCompositionStart"?$==="onCompositionEnd"&&_i&&(U=uv()):(Ia=f,qf="value"in Ia?Ia.value:Ia.textContent,_i=!0)),O=rc(u,$),0<O.length&&($=new xm($,e,null,n,f),y.push({event:$,listeners:O}),U?$.data=U:(U=hv(n),U!==null&&($.data=U)))),(U=TS?jS(e,n):OS(e,n))&&($=rc(u,"onBeforeInput"),0<$.length&&(O=new xm("onBeforeInput","beforeinput",null,n,f),y.push({event:O,listeners:$}),O.data=U)),px(y,e,u,n,f)}c0(y,t)})}function ll(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rc(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Wr(e,n),s!=null&&a.unshift(ll(e,s,i)),s=Wr(e,t),s!=null&&a.push(ll(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Sx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gg(e,t,n,a,s){for(var i=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,s?(u=Wr(n,i),u!=null&&r.unshift(ll(n,u,o))):s||(u=Wr(n,i),u!=null&&r.push(ll(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var xx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function yg(e){return(typeof e=="string"?e:""+e).replace(xx,`
`).replace(Ex,"")}function d0(e,t){return t=yg(t),yg(e)===t}function Oe(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Li(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Li(e,""+a);break;case"className":Jl(e,"class",a);break;case"tabIndex":Jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(e,n,a);break;case"style":ov(e,a,i);break;case"data":if(t!=="object"){Jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",s.name,s,null),Oe(e,t,"formEncType",s.formEncType,s,null),Oe(e,t,"formMethod",s.formMethod,s,null),Oe(e,t,"formTarget",s.formTarget,s,null)):(Oe(e,t,"encType",s.encType,s,null),Oe(e,t,"method",s.method,s,null),Oe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ya);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(z(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=wo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ce("beforetoggle",e),ce("toggle",e),_o(e,"popover",a);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_o(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ww.get(n)||n,_o(e,n,a))}}function Kd(e,t,n,a,s,i){switch(n){case"style":ov(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(z(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Li(e,a):(typeof a=="number"||typeof a=="bigint")&&Li(e,""+a);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[Pt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):_o(e,n,a)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Oe(e,t,i,r,n,null)}}s&&Oe(e,t,"srcSet",n.srcSet,n,null),a&&Oe(e,t,"src",n.src,n,null);return;case"input":ce("invalid",e);var l=i=r=s=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var f=n[a];if(f!=null)switch(a){case"name":s=f;break;case"type":r=f;break;case"checked":o=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(z(137,t));break;default:Oe(e,t,a,f,n,null)}}iv(e,i,l,o,u,r,s,!1);return;case"select":ce("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Oe(e,t,s,l,n,null)}t=i,n=r,e.multiple=!!a,t!=null?Ai(e,!!a,t,!1):n!=null&&Ai(e,!!a,n,!0);return;case"textarea":ce("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(z(91));break;default:Oe(e,t,r,l,n,null)}lv(e,a,s,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Oe(e,t,o,a,n,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(a=0;a<rl.length;a++)ce(rl[a],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Oe(e,t,u,a,n,null)}return;default:if(Bf(t)){for(f in n)n.hasOwnProperty(f)&&(a=n[f],a!==void 0&&Kd(e,t,f,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Oe(e,t,l,a,n,null))}function Tx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,l=null,o=null,u=null,f=null;for(g in n){var y=n[g];if(n.hasOwnProperty(g)&&y!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=y;default:a.hasOwnProperty(g)||Oe(e,t,g,null,a,y)}}for(var m in a){var g=a[m];if(y=n[m],a.hasOwnProperty(m)&&(g!=null||y!=null))switch(m){case"type":i=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":r=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(z(137,t));break;default:g!==y&&Oe(e,t,m,g,a,y)}}vd(e,r,l,o,u,f,i,s);return;case"select":g=r=l=m=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(i)||Oe(e,t,i,null,a,o)}for(s in a)if(i=a[s],o=n[s],a.hasOwnProperty(s)&&(i!=null||o!=null))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":r=i;default:i!==o&&Oe(e,t,s,i,a,o)}t=l,n=r,a=g,m!=null?Ai(e,!!n,m,!1):!!a!=!!n&&(t!=null?Ai(e,!!n,t,!0):Ai(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Oe(e,t,l,null,a,s)}for(r in a)if(s=a[r],i=n[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(z(91));break;default:s!==i&&Oe(e,t,r,s,a,i)}rv(e,m,g);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Oe(e,t,x,null,a,m)}for(o in a)if(m=a[o],g=n[o],a.hasOwnProperty(o)&&m!==g&&(m!=null||g!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Oe(e,t,o,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!a.hasOwnProperty(E)&&Oe(e,t,E,null,a,m);for(u in a)if(m=a[u],g=n[u],a.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,t));break;default:Oe(e,t,u,m,a,g)}return;default:if(Bf(t)){for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!==void 0&&!a.hasOwnProperty(T)&&Kd(e,t,T,void 0,a,m);for(f in a)m=a[f],g=n[f],!a.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||Kd(e,t,f,m,a,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&Oe(e,t,b,null,a,m);for(y in a)m=a[y],g=n[y],!a.hasOwnProperty(y)||m===g||m==null&&g==null||Oe(e,t,y,m,a,g)}function vg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,r=s.initiatorType,l=s.duration;if(i&&l&&vg(r)){for(r=0,l=s.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var f=o.transferSize,y=o.initiatorType;f&&vg(y)&&(o=o.responseEnd,r+=f*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xd=null,Qd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function pg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=null;function Ox(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,Nx=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(e){return bg.resolve(null).then(e).catch(Dx)}:h0;function Dx(e){setTimeout(function(){throw e})}function cs(e){return e==="head"}function _g(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Xi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Gr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Gr(n);for(var i=n.firstChild;i;){var r=i.nextSibling,l=i.nodeName;i[xl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&Gr(e.ownerDocument.body);n=s}while(n);Xi(t)}function wg(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Zd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zd(n),$f(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Cx(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Rn(e.nextSibling),e===null)break}return null}function Rx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rn(e.nextSibling),e===null))return null;return e}function m0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rn(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$?"||e.data==="$~"}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fd=null;function Sg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function xg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function g0(e,t,n){switch(t=lc(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Gr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$f(e)}var Mn=new Map,Eg=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ja=Se.d;Se.d={f:kx,r:Ux,D:zx,C:$x,L:Bx,m:Lx,X:Hx,S:qx,M:Yx};function kx(){var e=ja.f(),t=Bc();return e||t}function Ux(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?op(t):ja.r(e)}var ar=typeof document>"u"?null:document;function y0(e,t,n){var a=ar;if(a&&typeof t=="string"&&t){var s=Nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Eg.has(s)||(Eg.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),jt(t,"link",e),bt(t),a.head.appendChild(t)))}}function zx(e){ja.D(e),y0("dns-prefetch",e,null)}function $x(e,t){ja.C(e,t),y0("preconnect",e,t)}function Bx(e,t,n){ja.L(e,t,n);var a=ar;if(a&&e&&t){var s='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Nn(n.imageSizes)+'"]')):s+='[href="'+Nn(e)+'"]';var i=s;switch(t){case"style":i=Ki(e);break;case"script":i=sr(e)}Mn.has(i)||(e=Be({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Al(i))||t==="script"&&a.querySelector(Dl(i))||(t=a.createElement("link"),jt(t,"link",e),bt(t),a.head.appendChild(t)))}}function Lx(e,t){ja.m(e,t);var n=ar;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Nn(a)+'"][href="'+Nn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=sr(e)}if(!Mn.has(i)&&(e=Be({rel:"modulepreload",href:e},t),Mn.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dl(i)))return}a=n.createElement("link"),jt(a,"link",e),bt(a),n.head.appendChild(a)}}}function qx(e,t,n){ja.S(e,t,n);var a=ar;if(a&&e){var s=Ni(a).hoistableStyles,i=Ki(e);t=t||"default";var r=s.get(i);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(Al(i)))l.loading=5;else{e=Be({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(i))&&Sh(e,n);var o=r=a.createElement("link");bt(o),jt(o,"link",e),o._p=new Promise(function(u,f){o.onload=u,o.onerror=f}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Co(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(i,r)}}}function Hx(e,t){ja.X(e,t);var n=ar;if(n&&e){var a=Ni(n).hoistableScripts,s=sr(e),i=a.get(s);i||(i=n.querySelector(Dl(s)),i||(e=Be({src:e,async:!0},t),(t=Mn.get(s))&&xh(e,t),i=n.createElement("script"),bt(i),jt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Yx(e,t){ja.M(e,t);var n=ar;if(n&&e){var a=Ni(n).hoistableScripts,s=sr(e),i=a.get(s);i||(i=n.querySelector(Dl(s)),i||(e=Be({src:e,async:!0,type:"module"},t),(t=Mn.get(s))&&xh(e,t),i=n.createElement("script"),bt(i),jt(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Tg(e,t,n,a){var s=(s=Ja.current)?oc(s):null;if(!s)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ki(n.href),n=Ni(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ki(n.href);var i=Ni(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Al(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),i||Vx(s,e,n,r.state))),t&&a===null)throw Error(z(528,""));return r}if(t&&a!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sr(n),n=Ni(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Ki(e){return'href="'+Nn(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function v0(e){return Be({},e,{"data-precedence":e.precedence,precedence:null})}function Vx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),jt(t,"link",n),bt(t),e.head.appendChild(t))}function sr(e){return'[src="'+Nn(e)+'"]'}function Dl(e){return"script[async]"+e}function jg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(a)return t.instance=a,bt(a),a;var s=Be({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),bt(a),jt(a,"style",s),Co(a,n.precedence,e),t.instance=a;case"stylesheet":s=Ki(n.href);var i=e.querySelector(Al(s));if(i)return t.state.loading|=4,t.instance=i,bt(i),i;a=v0(n),(s=Mn.get(s))&&Sh(a,s),i=(e.ownerDocument||e).createElement("link"),bt(i);var r=i;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),jt(i,"link",a),t.state.loading|=4,Co(i,n.precedence,e),t.instance=i;case"script":return i=sr(n.src),(s=e.querySelector(Dl(i)))?(t.instance=s,bt(s),s):(a=n,(s=Mn.get(i))&&(a=Be({},n),xh(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),bt(s),jt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Co(a,n.precedence,e));return t.instance}function Co(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)i=l;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Sh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ro=null;function Og(e,t,n){if(Ro===null){var a=new Map,s=Ro=new Map;s.set(n,a)}else s=Ro,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[xl]||i[xt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(i):a.set(r,[i])}}return a}function Ng(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Gx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Ix(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Ki(a.href),i=t.querySelector(Al(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=cc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,bt(i);return}i=t.ownerDocument||t,a=v0(a),(s=Mn.get(s))&&Sh(a,s),i=i.createElement("link"),bt(i);var r=i;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),jt(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=cc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Iu=0;function Kx(e,t){return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Iu===0&&(Iu=62500*jx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Iu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function Mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,t.forEach(Xx,e),uc=null,cc.call(e))}function Xx(e,t){if(!(t.state.loading&4)){var n=uc.get(e);if(n)var a=n.get(null);else{n=new Map,uc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||a,i===a&&n.set(null,s),n.set(r,s),this.count++,a=cc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ol={$$typeof:ga,Provider:null,Consumer:null,_currentValue:As,_currentValue2:As,_threadCount:0};function Qx(e,t,n,a,s,i,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.hiddenUpdates=mu(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function b0(e,t,n,a,s,i,r,l,o,u,f,y){return e=new Qx(e,t,n,r,o,u,f,y,l),t=1,i===!0&&(t|=24),i=ln(3,null,null,t),e.current=i,i.stateNode=e,t=Jf(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},Wf(i),e}function _0(e){return e?(e=Ei,e):Ei}function w0(e,t,n,a,s,i){s=_0(s),a.context===null?a.context=s:a.pendingContext=s,a=Pa(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Wa(e,a,t),n!==null&&(Zt(n,e,t),zr(n,e,t))}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eh(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function S0(e){if(e.tag===13||e.tag===31){var t=Ys(e,67108864);t!==null&&Zt(t,e,67108864),Eh(e,67108864)}}function Dg(e){if(e.tag===13||e.tag===31){var t=mn();t=Uf(t);var n=Ys(e,t);n!==null&&Zt(n,e,t),Eh(e,t)}}var dc=!0;function Jx(e,t,n,a){var s=F.T;F.T=null;var i=Se.p;try{Se.p=2,Th(e,t,n,a)}finally{Se.p=i,F.T=s}}function Zx(e,t,n,a){var s=F.T;F.T=null;var i=Se.p;try{Se.p=8,Th(e,t,n,a)}finally{Se.p=i,F.T=s}}function Th(e,t,n,a){if(dc){var s=ef(a);if(s===null)Vu(e,t,a,fc,n),Cg(e,a);else if(Wx(s,e,t,n,a))a.stopPropagation();else if(Cg(e,a),t&4&&-1<Px.indexOf(e)){for(;s!==null;){var i=Fi(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=ws(i.pendingLanes);if(r!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-hn(r);l.entanglements[1]|=o,r&=~o}Fn(i),!(we&6)&&(tc=dn()+500,Nl(0))}}break;case 31:case 13:l=Ys(i,2),l!==null&&Zt(l,i,2),Bc(),Eh(i,2)}if(i=ef(a),i===null&&Vu(e,t,a,fc,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Vu(e,t,a,null,n)}}function ef(e){return e=Lf(e),jh(e)}var fc=null;function jh(e){if(fc=null,e=pi(e),e!==null){var t=bl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Yy(t),e!==null)return e;e=null}else if(n===31){if(e=Vy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fc=e,null}function x0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zw()){case Xy:return 2;case Qy:return 8;case Ho:case $w:return 32;case Jy:return 268435456;default:return 32}default:return 32}}var tf=!1,ts=null,ns=null,as=null,cl=new Map,ul=new Map,Ya=[],Px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cg(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function xr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&S0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wx(e,t,n,a,s){switch(t){case"focusin":return ts=xr(ts,e,t,n,a,s),!0;case"dragenter":return ns=xr(ns,e,t,n,a,s),!0;case"mouseover":return as=xr(as,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,xr(cl.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,ul.set(i,xr(ul.get(i)||null,e,t,n,a,s)),!0}return!1}function E0(e){var t=pi(e.target);if(t!==null){var n=bl(t);if(n!==null){if(t=n.tag,t===13){if(t=Yy(n),t!==null){e.blockedOn=t,gm(e.priority,function(){Dg(n)});return}}else if(t===31){if(t=Vy(n),t!==null){e.blockedOn=t,gm(e.priority,function(){Dg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ef(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);bd=a,n.target.dispatchEvent(a),bd=null}else return t=Fi(n),t!==null&&S0(t),e.blockedOn=n,!1;t.shift()}return!0}function Rg(e,t,n){ko(e)&&n.delete(t)}function Fx(){tf=!1,ts!==null&&ko(ts)&&(ts=null),ns!==null&&ko(ns)&&(ns=null),as!==null&&ko(as)&&(as=null),cl.forEach(Rg),ul.forEach(Rg)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Fx)))}var so=null;function Mg(e){so!==e&&(so=e,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){so===e&&(so=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(jh(a||n)===null)continue;break}var i=Fi(n);i!==null&&(e.splice(t,3),t-=3,Ud(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Xi(e){function t(o){return ao(o,e)}ts!==null&&ao(ts,e),ns!==null&&ao(ns,e),as!==null&&ao(as,e),cl.forEach(t),ul.forEach(t);for(var n=0;n<Ya.length;n++){var a=Ya[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)E0(n),n.blockedOn===null&&Ya.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],r=s[Pt]||null;if(typeof i=="function")r||Mg(n);else if(r){var l=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Pt]||null)l=r.formAction;else if(jh(s)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Mg(n)}}}function T0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Oh(e){this._internalRoot=e}Hc.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,a=mn();w0(n,a,e,t,null,null)};Hc.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;w0(e.current,2,null,e,null,null),Bc(),t[Wi]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ev();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&E0(e)}};var kg=qy.version;if(kg!=="19.2.0")throw Error(z(527,kg,"19.2.0"));Se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Aw(t),e=e!==null?Gy(e):null,e=e===null?null:e.stateNode,e};var e1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{_l=io.inject(e1),fn=io}catch{}}Ec.createRoot=function(e,t){if(!Hy(e))throw Error(z(299));var n=!1,a="",s=yp,i=vp,r=pp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=b0(e,1,!1,null,null,n,a,null,s,i,r,T0),e[Wi]=t.current,wh(e),new Oh(t)};Ec.hydrateRoot=function(e,t,n){if(!Hy(e))throw Error(z(299));var a=!1,s="",i=yp,r=vp,l=pp,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=b0(e,1,!0,t,n??null,a,s,o,i,r,l,T0),t.context=_0(null),n=t.current,a=mn(),a=Uf(a),s=Pa(a),s.callback=null,Wa(n,s,a),n=a,t.current.lanes=n,Sl(t,n),Fn(t),e[Wi]=t.current,wh(e),new Hc(t)};Ec.version="19.2.0";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(e){console.error(e)}}j0(),ky.exports=Ec;var t1=ky.exports,nf=function(e,t){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},nf(e,t)};function O0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hc=function(){return hc=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hc.apply(this,arguments)};function ir(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function N0(e,t,n,a){var s=arguments.length,i=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function A0(e,t){return function(n,a){t(n,a,e)}}function D0(e,t,n,a,s,i){function r(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),y,m=!1,g=n.length-1;g>=0;g--){var x={};for(var E in a)x[E]=E==="access"?{}:a[E];for(var E in a.access)x.access[E]=a.access[E];x.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(b||null))};var T=(0,n[g])(l==="accessor"?{get:f.get,set:f.set}:f[o],x);if(l==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(y=r(T.get))&&(f.get=y),(y=r(T.set))&&(f.set=y),(y=r(T.init))&&s.unshift(y)}else(y=r(T))&&(l==="field"?s.unshift(y):f[o]=y)}u&&Object.defineProperty(u,a.name,f),m=!0}function C0(e,t,n){for(var a=arguments.length>2,s=0;s<t.length;s++)n=a?t[s].call(e,n):t[s].call(e);return a?n:void 0}function R0(e){return typeof e=="symbol"?e:"".concat(e)}function M0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function k0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X(e,t,n,a){function s(i){return i instanceof n?i:new n(function(r){r(i)})}return new(n||(n=Promise))(function(i,r){function l(f){try{u(a.next(f))}catch(y){r(y)}}function o(f){try{u(a.throw(f))}catch(y){r(y)}}function u(f){f.done?i(f.value):s(f.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function U0(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(u){return function(f){return o([u,f])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Yc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function z0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Yc(t,e,n)}function mc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],r;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function $0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nh(arguments[t]));return e}function B0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],r=0,l=i.length;r<l;r++,s++)a[s]=i[r];return a}function L0(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Qi(e){return this instanceof Qi?(this.v=e,this):new Qi(e)}function q0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(g){return function(x){return Promise.resolve(x).then(g,y)}}function l(g,x){a[g]&&(s[g]=function(E){return new Promise(function(T,b){i.push([g,E,T,b])>1||o(g,E)})},x&&(s[g]=x(s[g])))}function o(g,x){try{u(a[g](x))}catch(E){m(i[0][3],E)}}function u(g){g.value instanceof Qi?Promise.resolve(g.value.v).then(f,y):m(i[0][2],g)}function f(g){o("next",g)}function y(g){o("throw",g)}function m(g,x){g(x),i.shift(),i.length&&o(i[0][0],i[0][1])}}function H0(e){var t,n;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,i){t[s]=e[s]?function(r){return(n=!n)?{value:Qi(e[s](r)),done:!1}:i?i(r):r}:i}}function Y0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mc=="function"?mc(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(r){return new Promise(function(l,o){r=e[i](r),s(l,o,r.done,r.value)})}}function s(i,r,l,o){Promise.resolve(o).then(function(u){i({value:u,done:l})},r)}}function V0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var n1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},af=function(e){return af=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},af(e)};function G0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=af(e),a=0;a<n.length;a++)n[a]!=="default"&&Yc(t,e,n[a]);return n1(t,e),t}function I0(e){return e&&e.__esModule?e:{default:e}}function K0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function X0(e,t,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function Q0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function J0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var a1=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function Z0(e){function t(i){e.error=e.hasError?new a1(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(r){return t(r),s()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function P0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,r){return a?t?".jsx":".js":s&&(!i||!r)?n:s+i+"."+r.toLowerCase()+"js"}):e}const s1={__extends:O0,__assign:hc,__rest:ir,__decorate:N0,__param:A0,__esDecorate:D0,__runInitializers:C0,__propKey:R0,__setFunctionName:M0,__metadata:k0,__awaiter:X,__generator:U0,__createBinding:Yc,__exportStar:z0,__values:mc,__read:Nh,__spread:$0,__spreadArrays:B0,__spreadArray:L0,__await:Qi,__asyncGenerator:q0,__asyncDelegator:H0,__asyncValues:Y0,__makeTemplateObject:V0,__importStar:G0,__importDefault:I0,__classPrivateFieldGet:K0,__classPrivateFieldSet:X0,__classPrivateFieldIn:Q0,__addDisposableResource:J0,__disposeResources:Z0,__rewriteRelativeImportExtension:P0},i1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:J0,get __assign(){return hc},__asyncDelegator:H0,__asyncGenerator:q0,__asyncValues:Y0,__await:Qi,__awaiter:X,__classPrivateFieldGet:K0,__classPrivateFieldIn:Q0,__classPrivateFieldSet:X0,__createBinding:Yc,__decorate:N0,__disposeResources:Z0,__esDecorate:D0,__exportStar:z0,__extends:O0,__generator:U0,__importDefault:I0,__importStar:G0,__makeTemplateObject:V0,__metadata:k0,__param:A0,__propKey:R0,__read:Nh,__rest:ir,__rewriteRelativeImportExtension:P0,__runInitializers:C0,__setFunctionName:M0,__spread:$0,__spreadArray:L0,__spreadArrays:B0,__values:mc,default:s1},Symbol.toStringTag,{value:"Module"})),r1="modulepreload",l1=function(e){return"/todo-note/"+e},Ug={},rr=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=l1(o),o in Ug)return;Ug[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":r1,u||(y.as="script"),y.crossOrigin="",y.href=o,l&&y.setAttribute("nonce",l),document.head.appendChild(y),u)return new Promise((m,g)=>{y.addEventListener("load",m),y.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},o1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class Ah extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class zg extends Ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $g extends Ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bg extends Ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sf||(sf={}));class c1{constructor(t,{headers:n={},customFetch:a,region:s=sf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=o1(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:r,body:l,signal:o}=a;let u={},{region:f}=a;f||(f=this.region);const y=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const g=yield this.fetch(y.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:o}).catch(b=>{throw b.name==="AbortError"?b:new zg(b)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new $g(g);if(!g.ok)throw new Bg(g);let E=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield g.json():E==="application/octet-stream"||E==="application/pdf"?T=yield g.blob():E==="text/event-stream"?T=g:E==="multipart/form-data"?T=yield g.formData():T=yield g.text(),{data:T,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new zg(i)}:{data:null,error:i,response:i instanceof Bg||i instanceof $g?i.context:void 0}}})}}var $t={};const lr=Ey(i1);var ro={},lo={},oo={},co={},uo={},u1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ji=u1();const d1=Ji.fetch,W0=Ji.fetch.bind(Ji),F0=Ji.Headers,f1=Ji.Request,h1=Ji.Response,Gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:F0,Request:f1,Response:h1,default:W0,fetch:d1},Symbol.toStringTag,{value:"Module"})),m1=Ey(Gs);var fo={},Lg;function eb(){if(Lg)return fo;Lg=1,Object.defineProperty(fo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return fo.default=e,fo}var qg;function tb(){if(qg)return uo;qg=1,Object.defineProperty(uo,"__esModule",{value:!0});const e=lr,t=e.__importDefault(m1),n=e.__importDefault(eb());class a{constructor(i){var r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,y,m,g;let x=null,E=null,T=null,b=u.status,h=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?E=R:E=JSON.parse(R))}const S=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),A=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&A&&A.length>1&&(T=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,b=406,h="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const S=await u.text();try{x=JSON.parse(S),Array.isArray(x)&&u.status===404&&(E=[],x=null,b=200,h="OK")}catch{u.status===404&&S===""?(b=204,h="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((g=x==null?void 0:x.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,b=200,h="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:E,count:T,status:b,statusText:h}});return this.shouldThrowOnError||(o=o.catch(u=>{var f,y,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(y=u==null?void 0:u.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,r)}returns(){return this}overrideTypes(){return this}}return uo.default=a,uo}var Hg;function nb(){if(Hg)return co;Hg=1,Object.defineProperty(co,"__esModule",{value:!0});const t=lr.__importDefault(tb());class n extends t.default{select(s){let i=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:r=i}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const y=[s?"analyze":null,i?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${y};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return co.default=n,co}var Yg;function Dh(){if(Yg)return oo;Yg=1,Object.defineProperty(oo,"__esModule",{value:!0});const t=lr.__importDefault(nb()),n=new RegExp("[,()]");class a extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${f}.${r}`),this}match(i){return Object.entries(i).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(i,r,l){return this.url.searchParams.append(i,`not.${r}.${l}`),this}or(i,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,r,l){return this.url.searchParams.append(i,`${r}.${l}`),this}}return oo.default=a,oo}var Vg;function ab(){if(Vg)return lo;Vg=1,Object.defineProperty(lo,"__esModule",{value:!0});const t=lr.__importDefault(Dh());class n{constructor(s,{headers:i={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=r,this.fetch=l}select(s,i){const{head:r=!1,count:l}=i??{},o=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:r=!0}={}){var l;const o="POST";if(i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(u.length>0){const f=[...new Set(u)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(y.length>0){const m=[...new Set(y)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var r;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var i;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return lo.default=n,lo}var Gg;function g1(){if(Gg)return ro;Gg=1,Object.defineProperty(ro,"__esModule",{value:!0});const e=lr,t=e.__importDefault(ab()),n=e.__importDefault(Dh());class a{constructor(i,{headers:r={},schema:l,fetch:o}={}){this.url=i,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(i){const r=new URL(`${this.url}/${i}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,r={},{head:l=!1,get:o=!1,count:u}={}){var f;let y;const m=new URL(`${this.url}/rpc/${i}`);let g;l||o?(y=l?"HEAD":"GET",Object.entries(r).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{m.searchParams.append(E,T)})):(y="POST",g=r);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:y,url:m,headers:x,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ro.default=a,ro}Object.defineProperty($t,"__esModule",{value:!0});var sb=$t.PostgrestError=mb=$t.PostgrestBuilder=fb=$t.PostgrestTransformBuilder=ub=$t.PostgrestFilterBuilder=ob=$t.PostgrestQueryBuilder=rb=$t.PostgrestClient=void 0;const or=lr,ib=or.__importDefault(g1());var rb=$t.PostgrestClient=ib.default;const lb=or.__importDefault(ab());var ob=$t.PostgrestQueryBuilder=lb.default;const cb=or.__importDefault(Dh());var ub=$t.PostgrestFilterBuilder=cb.default;const db=or.__importDefault(nb());var fb=$t.PostgrestTransformBuilder=db.default;const hb=or.__importDefault(tb());var mb=$t.PostgrestBuilder=hb.default;const gb=or.__importDefault(eb());sb=$t.PostgrestError=gb.default;var yb=$t.default={PostgrestClient:ib.default,PostgrestQueryBuilder:lb.default,PostgrestFilterBuilder:cb.default,PostgrestTransformBuilder:db.default,PostgrestBuilder:hb.default,PostgrestError:gb.default};const y1=sw({__proto__:null,get PostgrestBuilder(){return mb},get PostgrestClient(){return rb},get PostgrestError(){return sb},get PostgrestFilterBuilder(){return ub},get PostgrestQueryBuilder(){return ob},get PostgrestTransformBuilder(){return fb},default:yb},[$t]),{PostgrestClient:v1,PostgrestQueryBuilder:mO,PostgrestFilterBuilder:gO,PostgrestTransformBuilder:yO,PostgrestBuilder:vO,PostgrestError:pO}=yb||y1;class p1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const b1="2.78.0",_1=`realtime-js/${b1}`,w1="1.0.0",rf=1e4,S1=1e3,x1=100;var Ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ir||(Ir={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var lf;(function(e){e.websocket="websocket"})(lf||(lf={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class E1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+s));r=r+s;const o=a.decode(t.slice(r,r+i));r=r+i;const u=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class vb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const Ig=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,r)=>(i[r]=T1(r,e,t,s),i),{}):{}},T1=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,r=n[e];return i&&!a.includes(i)?pb(i,r):of(r)},pb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return A1(t,n)}switch(e){case Ce.bool:return j1(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return O1(t);case Ce.json:case Ce.jsonb:return N1(t);case Ce.timestamp:return D1(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return of(t);default:return of(t)}},of=e=>e,j1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},N1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},A1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch{i=r?r.split(","):[]}return i.map(l=>pb(t,l))}return e},D1=e=>typeof e=="string"?e.replace(" ","T"):e,bb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ku{constructor(t,n,a={},s=rf){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kg||(Kg={}));class Kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,s,i,r),this.pendingDiffs.forEach(o=>{this.state=Kr.syncDiff(this.state,o,i,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kr.syncDiff(this.state,s,i,r),l())}),this.onJoin((s,i,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:r})}),this.onLeave((s,i,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(i,(u,f)=>{r[u]||(o[u]=f)}),this.map(r,(u,f)=>{const y=i[u];if(y){const m=f.map(T=>T.presence_ref),g=y.map(T=>T.presence_ref),x=f.filter(T=>g.indexOf(T.presence_ref)<0),E=y.filter(T=>m.indexOf(T.presence_ref)<0);x.length>0&&(l[u]=x),E.length>0&&(o[u]=E)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:o},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,o)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),f.length>0){const y=t[l].map(g=>g.presence_ref),m=f.filter(g=>y.indexOf(g.presence_ref)<0);t[l].unshift(...m)}a(l,f,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const f=o.map(y=>y.presence_ref);u=u.filter(y=>f.indexOf(y.presence_ref)<0),t[l]=u,s(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xg||(Xg={}));var Xr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xr||(Xr={}));var fa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fa||(fa={}));class Ch{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ku(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Kr(this),this.broadcastEndpointURL=bb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,u=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,y={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(fa.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(fa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(fa.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,b=[];for(let h=0;h<T;h++){const v=E[h],{filter:{event:S,schema:A,table:R,filter:O}}=v,U=g&&g[h];if(U&&U.event===S&&U.schema===A&&U.table===R&&U.filter===O)b.push(Object.assign(Object.assign({},v),{id:U.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(fa.SUBSCRIBED);return}}).receive("error",g=>{this.state=rt.errored,t==null||t(fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===rt.joined&&t===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Ku(this,Yn.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ku(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>x1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:f}=Yn;if(a&&[l,o,u,f].indexOf(r)>=0&&a!==this._joinRef())return;let m=this._onMessage(r,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,E,T;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((T=(E=g.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===r}).map(g=>g.callback(m,a)):(i=this.bindings[r])===null||i===void 0||i.filter(g=>{var x,E,T,b,h,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in g){const S=g.id,A=(x=g.filter)===null||x===void 0?void 0:x.event;return S&&((E=n.ids)===null||E===void 0?void 0:E.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const S=(h=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===r}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:E,table:T,commit_timestamp:b,type:h,errors:v}=x;m=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:b,eventType:h,new:{},old:{},errors:v}),this._getPayloadRecords(x))}g.callback(m,a)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Ch.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ig(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ig(t.columns,t.old_record)),n}}const Xu=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C1=[1e3,2e3,5e3,1e4],R1=1e4,M1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xu,this.ref=0,this.reconnectTimer=null,this.logger=Xu,this.conn=null,this.sendBuffer=[],this.serializer=new E1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>rr(async()=>{const{default:l}=await Promise.resolve().then(()=>Gs);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...r)=>i(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${lf.websocket}`,this.httpEndpoint=bb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:w1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Ts.Connecting;case Ir.open:return Ts.Open;case Ir.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new Ch(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(S1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:r}=n,l=r?`(${r})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(s,i,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([M1],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:_1};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new vb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,r,l,o,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:rf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ho.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Xu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:y=>C1[y-1]||R1,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class U1 extends Rh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cf extends Rh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Mh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},z1=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rr(()=>Promise.resolve().then(()=>Gs),void 0)).Response:Response}),uf=e=>{if(Array.isArray(e))return e.map(n=>uf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=uf(a)}),t},$1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},B1=(e,t,n)=>X(void 0,void 0,void 0,function*(){const a=yield z1();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,r=(s==null?void 0:s.statusCode)||i+"";t(new U1(Qu(s),i,r))}).catch(s=>{t(new cf(Qu(s),s))}):t(new cf(Qu(e),e))}),L1=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:($1(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Cl(e,t,n,a,s,i){return X(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,L1(t,a,s,i)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>B1(o,l,a))})})}function dl(e,t,n,a){return X(this,void 0,void 0,function*(){return Cl(e,"GET",t,n,a)})}function qn(e,t,n,a,s){return X(this,void 0,void 0,function*(){return Cl(e,"POST",t,a,s,n)})}function df(e,t,n,a,s){return X(this,void 0,void 0,function*(){return Cl(e,"PUT",t,a,s,n)})}function q1(e,t,n,a){return X(this,void 0,void 0,function*(){return Cl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function kh(e,t,n,a,s){return X(this,void 0,void 0,function*(){return Cl(e,"DELETE",t,a,s,n)})}class H1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}var _b;class Y1{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[_b]="BlobDownloadBuilder",this.promise=null}asStream(){return new H1(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}_b=Symbol.toStringTag;const V1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G1{constructor(t,n={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Mh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,s){return X(this,void 0,void 0,function*(){try{let i;const r=Object.assign(Object.assign({},Qg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",r.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),y=yield(t=="PUT"?df:qn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:u,id:y.Id,fullPath:y.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}upload(t,n,a){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,s){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),r=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:Qg.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const y=yield df(this.fetch,l.toString(),o,{headers:f});return{data:{path:i,fullPath:y.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield qn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),r=new URL(this.url+i.url),l=r.searchParams.get("token");if(!l)throw new Rh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}update(t,n,a){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return X(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}copy(t,n,a){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,a){return X(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${r}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,a){return X(this,void 0,void 0,function*(){try{const s=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=i?`?${i}`:"",l=this._getFinalPath(t),o=()=>dl(this.fetch,`${this.url}/${s}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new Y1(o,this.shouldThrowOnError)}info(t){return X(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield dl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}exists(t){return X(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield q1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a)&&a instanceof cf){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return X(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}list(t,n,a){return X(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},V1),n),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}listV2(t,n){return X(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const wb="2.78.0",Sb={"X-Client-Info":`storage-js/${wb}`};class I1{constructor(t,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=Mh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return X(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield dl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}createBucket(t){return X(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return X(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}emptyBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class K1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=Mh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}listBuckets(t){return X(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield dl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}const Uh={"X-Client-Info":`storage-js/${wb}`,"Content-Type":"application/json"};class xb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ju extends xb{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X1 extends xb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Jg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jg||(Jg={}));const zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Q1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J1=(e,t,n)=>X(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||s+"";t(new Ju(Zg(r),s,l))}).catch(()=>{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ju(l,s,r))});else{const r=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ju(l,s,r))}}else t(new X1(Zg(e),e))}),Z1=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(Q1(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function P1(e,t,n,a,s,i){return X(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,Z1(t,a,s,i)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>J1(o,l,a))})})}function cn(e,t,n,a,s){return X(this,void 0,void 0,function*(){return P1(e,"POST",t,a,s,n)})}class W1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),n),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return X(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getIndex(t,n){return X(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}listIndexes(t){return X(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return X(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}})}}class F1{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),n),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return X(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listVectors(t){return X(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}queryVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteVectors(t){return X(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class eE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uh),n),this.fetch=zh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listBuckets(){return X(this,arguments,void 0,function*(t={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class tE extends eE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new nE(this.url,this.headers,t,this.fetch)}}class nE extends W1{constructor(t,n,a,s){super(t,n,s),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new aE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class aE extends F1{constructor(t,n,a,s,i){super(t,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sE extends I1{constructor(t,n={},a,s){super(t,n,a,s)}from(t){return new G1(this.url,this.headers,t,this.fetch)}get vectors(){return new tE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K1(this.url+"/iceberg",this.headers,this.fetch)}}const iE="2.78.0";let Ar="";typeof Deno<"u"?Ar="deno":typeof document<"u"?Ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ar="react-native":Ar="node";const rE={"X-Client-Info":`supabase-js-${Ar}/${iE}`},lE={headers:rE},oE={schema:"public"},cE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uE={},dE=e=>{let t;return e?t=e:typeof fetch>"u"?t=W0:t=fetch,(...n)=>t(...n)},fE=()=>typeof Headers>"u"?F0:Headers,hE=(e,t,n)=>{const a=dE(n),s=fE();return async(i,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new s(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Object.assign(Object.assign({},r),{headers:u}))}};function mE(e){return e.endsWith("/")?e:e+"/"}function gE(e,t){var n,a;const{db:s,auth:i,realtime:r,global:l}=e,{db:o,auth:u,realtime:f,global:y}=t,m={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),r),storage:{},global:Object.assign(Object.assign(Object.assign({},y),l),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function yE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Eb="2.78.0",hi=30*1e3,ff=3,Zu=ff*hi,vE="http://localhost:9999",pE="supabase.auth.token",bE={"X-Client-Info":`gotrue-js/${Eb}`},hf="X-Supabase-Api-Version",Tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_E=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wE=10*60*1e3;class fl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class SE extends fl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function xE(e){return J(e)&&e.name==="AuthApiError"}class js extends fl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class us extends fl{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class Bn extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EE(e){return J(e)&&e.name==="AuthSessionMissingError"}class ii extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class go extends us{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TE(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pg extends us{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mf extends us{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Pu(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Wg extends us{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class gf extends us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fg=` 	
\r=`.split(""),jE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fg.length;t+=1)e[Fg[t].charCodeAt(0)]=-2;for(let t=0;t<gc.length;t+=1)e[gc[t].charCodeAt(0)]=t;return e})();function ey(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(gc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(gc[a]),t.queuedBits-=6}}function jb(e,t,n){const a=jE[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ty(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=r=>{AE(r,a,n)};for(let r=0;r<e.length;r+=1)jb(e.charCodeAt(r),s,i);return t.join("")}function OE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}OE(a,t)}}function AE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ui(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)jb(e.charCodeAt(s),n,a);return new Uint8Array(t)}function DE(e){const t=[];return NE(e,n=>t.push(n)),new Uint8Array(t)}function Ns(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>ey(s,n,a)),ey(null,n,a),t.join("")}function CE(e){return Math.round(Date.now()/1e3)+e}function RE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},Ob=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function ME(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const Nb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gs);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},kE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},bs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ka=async(e,t)=>{await e.removeItem(t)};class Vc{constructor(){this.promise=new Vc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vc.promiseConstructor=Promise;function Wu(e){const t=e.split(".");if(t.length!==3)throw new gf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!_E.test(t[a]))throw new gf("JWT not in base64url format");return{header:JSON.parse(ty(t[0])),payload:JSON.parse(ty(t[1])),signature:Ui(t[2]),raw:{header:t[0],payload:t[1]}}}async function UE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zE(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r)){a(r);return}}catch(r){if(!t(i,r)){s(r);return}}})()})}function $E(e){return("0"+e.toString(16)).substr(-2)}function BE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,$E).join("")}async function LE(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ri(e,t,n=!1){const a=BE();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await mi(e,`${t}-code-verifier`,s);const i=await qE(a);return[i,a===i?"plain":"s256"]}const HE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YE(e){const t=e.headers.get(hf);if(!t||!t.match(HE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function li(e){if(!IE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KE(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function ny(e){return JSON.parse(JSON.stringify(e))}const Es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XE=[502,503,504];async function ay(e){var t;if(!kE(e))throw new mf(Es(e),0);if(XE.includes(e.status))throw new mf(Es(e),e.status);let n;try{n=await e.json()}catch(i){throw new js(Es(i),i)}let a;const s=YE(e);if(s&&s.getTime()>=Tb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Wg(Es(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0))throw new Wg(Es(n),e.status,n.weak_password.reasons);throw new SE(Es(n),e.status||500,a)}const QE=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function W(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[hf]||(i[hf]=Tb["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const r=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await JE(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function JE(e,t,n,a,s,i){const r=QE(t,a,s,i);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new mf(Es(o),0)}if(l.ok||await ay(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await ay(o)}}function Ln(e){var t;let n=null;WE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=CE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function sy(e){const t=Ln(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZE(e){return{data:e,error:null}}function PE(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,r=ir(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function iy(e){return e}function WE(e){return e.access_token&&e.refresh_token&&e.expires_in}const ed=["global","local","others"];class FE{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Nb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ed[0]){if(ed.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=ir(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Va})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iy});if(f.error)throw f.error;const y=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);u[`${T}Page`]=E}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},y),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){li(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Va})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){li(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){li(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Va})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){li(t.userId);try{const{data:n,error:a}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){li(t.userId),li(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},f=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iy});if(f.error)throw f.error;const y=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,g=(o=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);u[`${T}Page`]=E}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},y),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function ry(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const oi={debug:!!(globalThis&&Ob()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ab extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eT extends Ab{}async function tT(e,t,n){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function nT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Db(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function aT(e){return parseInt(e,16)}function sT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function iT(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:r,notBefore:l,requestId:o,resources:u,scheme:f,uri:y,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Db(e.address),x=f?`${f}://${a}`:a,E=e.statement?`${e.statement}
`:"",T=`${x} wants you to sign in with your Ethereum account:
${g}

${E}`;let b=`URI: ${y}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),o&&(b+=`
Request ID: ${o}`),u){let h=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);h+=`
- ${v}`}b+=h}return`${T}
${b}`}class et extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class yc extends et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function rT({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Cb(r)){if(i.rp.id!==r)return new et({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Cb(a)){if(n.rpId!==a)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class oT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cT=new oT;function uT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=ir(e,["challenge","user","excludeCredentials"]),i=Ui(t).buffer,r=Object.assign(Object.assign({},n),{id:Ui(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Ui(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function dT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=ir(e,["challenge","allowCredentials"]),s=Ui(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];i.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Ui(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function fT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ns(new Uint8Array(s.authenticatorData)),clientDataJSON:Ns(new Uint8Array(s.clientDataJSON)),signature:Ns(new Uint8Array(s.signature)),userHandle:s.userHandle?Ns(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Cb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ly(){var e,t;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:rT({error:t,options:e})}}}async function gT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:lT({error:t,options:e})}}}const yT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},vT={userVerification:"preferred",hints:["security-key"]};function vc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const r=s[i];if(r!==void 0)if(Array.isArray(r))a[i]=r;else if(n(r))a[i]=r;else if(t(r)){const l=a[i];t(l)?a[i]=vc(l,r):a[i]=vc(r)}else a[i]=r}return a}function pT(e,t){return vc(yT,e,t||{})}function bT(e,t){return vc(vT,e,t||{})}class _T{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=s??cT.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:u}=r.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(r.webauthn.type){case"create":{const u=pT(r.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:y}=await mT({publicKey:u,signal:o});return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:y}}case"request":{const u=bT(r.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:y}=await gT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:u,signal:o}));return f?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:f}},error:null}:{data:null,error:y}}}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new js("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new fl("rpId is required for WebAuthn authentication")};try{if(!ly())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new js("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new fl("rpId is required for WebAuthn registration")};try{if(!ly())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var y;return(y=f.data)===null||y===void 0?void 0:y.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(r){return J(r)?{data:null,error:r}:{data:null,error:new js("Unexpected error in register",r)}}}}nT();const wT={url:vE,storageKey:pE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oy(e,t,n){return await n()}const ci={};class hl{get jwks(){var t,n;return(n=(t=ci[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ci[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hl.nextInstanceID,hl.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new FE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nb(s.fetch),this.lock=s.lock||oy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tT:this.lock=oy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _T(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ob()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ry(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ry(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ME(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ut()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),TE(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new js("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ln}),{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:f,password:y,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await ri(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:y,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Ln})}else if("phone"in t){const{phone:f,password:y,options:m}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:y,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ln})}else throw new mo("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sy})}else if("phone"in t){const{phone:i,password:r,options:l}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sy})}else throw new mo("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ii}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,r,l,o,u,f,y,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:E,wallet:T,statement:b,options:h}=t;let v;if(Ut())if(typeof T=="object")v=T;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")v=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=T}const S=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href),A=await v.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Db(A[0]);let O=(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!O){const $=await v.request({method:"eth_chainId"});O=aT($)}const U={domain:S.host,address:R,statement:b,uri:S.href,version:"1",chainId:O,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=h==null?void 0:h.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=iT(U),x=await v.request({method:"personal_sign",params:[sT(g),R]})}try{const{data:E,error:T}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ln});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ii}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(J(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var n,a,s,i,r,l,o,u,f,y,m,g;let x,E;if("message"in t)x=t.message,E=t.signature;else{const{chain:T,wallet:b,statement:h,options:v}=t;let S;if(Ut())if(typeof b=="object")S=b;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))S=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const A=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const R=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),h?{statement:h}:null));let O;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")O=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)O=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),E=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((y=(f=v==null?void 0:v.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||y===void 0)&&y.length?["Resources",...v.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const R=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=R}}try{const{data:T,error:b}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ns(E)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ln});if(b)throw b;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new ii}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:b})}catch(T){if(J(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await bs(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:r}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ln});if(await ka(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ii}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:r})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:r}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ln}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ii}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,s,i,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ri(this.storage,this.storageKey));const{error:y}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:f}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new mo("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ln});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,a,s;try{let i=null,r=null;return this.flowType==="pkce"&&([i,r]=await ri(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:r}),headers:this.headers,xform:ZE})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Bn;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:r}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:r,error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new mo("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Zu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await bs(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=Fu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=KE(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Va}):await this._useSession(async n=>{var a,s,i;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Va})})}catch(n){if(J(n))return EE(n)&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Bn;const r=s.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await ri(this.storage,this.storageKey));const{data:u,error:f}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Va});if(f)throw f;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:r}=Wu(t.access_token);if(r.exp&&(a=r.exp,s=a<=n),s){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ut())throw new go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pg("No code detected.");const{data:h,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!i||!l||!r||!u)throw new go("No session defined in URL");const f=Math.round(Date.now()/1e3),y=parseInt(l);let m=f+y;o&&(m=parseInt(o));const g=m-f;g*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${y}s`);const x=m-y;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,f);const{data:E,error:T}=await this._getUser(i);if(T)throw T;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:y,expires_at:m,refresh_token:r,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(J(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const r=(a=s.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(xE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await ri(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var r,l,o,u,f;const{data:y,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=y.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(J(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:r,provider:l,token:o,access_token:u,nonce:f}=t,y=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ln}),{data:m,error:g}=y;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ii}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)throw r;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await zE(async s=>(s>0&&await UE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(s,i)=>{const r=200*Math.pow(2,s);return i&&Pu(i)&&Date.now()+r-a<hi})}catch(a){if(this._debug(n,"error",a),J(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ut()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await bs(this.storage,this.storageKey);if(s&&this.userStorage){let r=await bs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await mi(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:Fu()}else if(s&&!s.user&&!s.user){const r=await bs(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(s.user=r.user,await ka(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,s)):s.user=Fu()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zu;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Zu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),Pu(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&(r!=null&&r.user)?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vc;const{data:i,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!i.session)throw new Bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const r={data:null,error:i};return Pu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(r),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await mi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ny(s);await mi(this.storage,this.storageKey,i)}else{const s=ny(n);await mi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ka(this.storage,this.storageKey),await ka(this.storage,this.storageKey+"-code-verifier"),await ka(this.storage,this.storageKey+"-user"),this.userStorage&&await ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hi}ms, refresh threshold is ${ff} ticks`),s<=ff&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ab)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,r]=await ri(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&o.type==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fT(t.webauthn.credential_response):hT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const r=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:uT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:dT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Wu(a.access_token);let r=null;i.aal&&(r=i.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Bn}})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Bn};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Bn};const r=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&Ut()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(J(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+wE>s)return a;const{data:i,error:r}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};a=g.session.access_token}const{header:s,payload:i,signature:r,raw:{header:l,payload:o}}=Wu(a);n!=null&&n.allowExpired||VE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(a);if(g)throw g;return{data:{claims:i,header:s,signature:r},error:null}}const f=GE(s.alg),y=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,y,r,DE(`${l}.${o}`)))throw new gf("Invalid JWT signature");return{data:{claims:i,header:s,signature:r},error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}}hl.nextInstanceID=0;const ST=hl;class xT extends ST{constructor(t){super(t)}}class ET{constructor(t,n,a){var s,i,r;this.supabaseUrl=t,this.supabaseKey=n;const l=yE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:oE,realtime:uE,auth:Object.assign(Object.assign({},cE),{storageKey:o}),global:lE},f=gE(a??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=hE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new v1(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new sE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new c1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:r,flowType:l,lock:o,debug:u},f,y){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xT({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:o,debug:u,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new k1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TT=(e,t,n)=>new ET(e,t,n);function jT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OT="https://vqpubtahhvtkftafdlrp.supabase.co",NT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",q=TT(OT,NT);function AT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const Gc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $h(e){return"nodeType"in e}function Ft(e){var t,n;return e?cr(e)?e:$h(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Bh(e){const{Document:t}=Ft(e);return e instanceof t}function Rl(e){return cr(e)?!1:e instanceof Ft(e).HTMLElement}function Rb(e){return e instanceof Ft(e).SVGElement}function ur(e){return e?cr(e)?e.document:$h(e)?Bh(e)?e:Rl(e)||Rb(e)?e.ownerDocument:document:document:document}const Pn=Gc?w.useLayoutEffect:w.useEffect;function Lh(e){const t=w.useRef(e);return Pn(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function DT(){const e=w.useRef(null),t=w.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ml(e,t){t===void 0&&(t=[e]);const n=w.useRef(e);return Pn(()=>{n.current!==e&&(n.current=e)},t),n}function Ml(e,t){const n=w.useRef();return w.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function pc(e){const t=Lh(e),n=w.useRef(null),a=w.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function yf(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let td={};function kl(e,t){return w.useMemo(()=>{if(t)return t;const n=td[e]==null?0:td[e]+1;return td[e]=n,e+"-"+n},[e,t])}function Mb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,r)=>{const l=Object.entries(r);for(const[o,u]of l){const f=i[o];f!=null&&(i[o]=f+e*u)}return i},{...t})}}const zi=Mb(1),gl=Mb(-1);function CT(e){return"clientX"in e&&"clientY"in e}function qh(e){if(!e)return!1;const{KeyboardEvent:t}=Ft(e.target);return t&&e instanceof t}function RT(e){if(!e)return!1;const{TouchEvent:t}=Ft(e.target);return t&&e instanceof t}function vf(e){if(RT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return CT(e)?{x:e.clientX,y:e.clientY}:null}const yl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[yl.Translate.toString(e),yl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),cy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function MT(e){return e.matches(cy)?e:e.querySelector(cy)}const kT={display:"none"};function UT(e){let{id:t,value:n}=e;return Dt.createElement("div",{id:t,style:kT},n)}function zT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Dt.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function $T(){const[e,t]=w.useState("");return{announce:w.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const kb=w.createContext(null);function BT(e){const t=w.useContext(kb);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function LT(){const[e]=w.useState(()=>new Set),t=w.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[w.useCallback(a=>{let{type:s,event:i}=a;e.forEach(r=>{var l;return(l=r[s])==null?void 0:l.call(r,i)})},[e]),t]}const qT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},HT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function YT(e){let{announcements:t=HT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=qT}=e;const{announce:i,announcement:r}=$T(),l=kl("DndLiveRegion"),[o,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),BT(w.useMemo(()=>({onDragStart(y){let{active:m}=y;i(t.onDragStart({active:m}))},onDragMove(y){let{active:m,over:g}=y;t.onDragMove&&i(t.onDragMove({active:m,over:g}))},onDragOver(y){let{active:m,over:g}=y;i(t.onDragOver({active:m,over:g}))},onDragEnd(y){let{active:m,over:g}=y;i(t.onDragEnd({active:m,over:g}))},onDragCancel(y){let{active:m,over:g}=y;i(t.onDragCancel({active:m,over:g}))}}),[i,t])),!o)return null;const f=Dt.createElement(Dt.Fragment,null,Dt.createElement(UT,{id:a,value:s.draggable}),Dt.createElement(zT,{id:l,announcement:r}));return n?gi.createPortal(f,n):f}var lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function bc(){}function $a(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function pf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Vn=Object.freeze({x:0,y:0});function Ub(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function VT(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function uy(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function $b(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function dy(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const bf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=dy(t,t.left,t.top),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=Ub(dy(o),s);i.push({id:l,data:{droppableContainer:r,value:u}})}}return i.sort(zb)},GT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=uy(t),i=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const u=uy(o),f=s.reduce((m,g,x)=>m+Ub(u[x],g),0),y=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:r,value:y}})}}return i.sort(zb)};function IT(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),r=s-a,l=i-n;if(a<s&&n<i){const o=t.width*t.height,u=e.width*e.height,f=r*l,y=f/(o+u-f);return Number(y.toFixed(4))}return 0}const KT=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const i of a){const{id:r}=i,l=n.get(r);if(l){const o=IT(l,t);o>0&&s.push({id:r,data:{droppableContainer:i,value:o}})}}return s.sort(VT)};function XT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Bb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vn}function QT(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const JT=QT(1);function ZT(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function PT(e,t,n){const a=ZT(t);if(!a)return e;const{scaleX:s,scaleY:i,x:r,y:l}=a,o=e.left-r-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,y=i?e.height/i:e.height;return{width:f,height:y,top:u,right:o+f,bottom:u+y,left:o}}const WT={ignoreTransform:!1};function dr(e,t){t===void 0&&(t=WT);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=Ft(e).getComputedStyle(e);u&&(n=PT(n,u,f))}const{top:a,left:s,width:i,height:r,bottom:l,right:o}=n;return{top:a,left:s,width:i,height:r,bottom:l,right:o}}function fy(e){return dr(e,{ignoreTransform:!0})}function FT(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function ej(e,t){return t===void 0&&(t=Ft(e).getComputedStyle(e)),t.position==="fixed"}function tj(e,t){t===void 0&&(t=Ft(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Ic(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(Bh(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Rl(s)||Rb(s)||n.includes(s))return n;const i=Ft(e).getComputedStyle(s);return s!==e&&tj(s,i)&&n.push(s),ej(s,i)?n:a(s.parentNode)}return e?a(e):n}function Lb(e){const[t]=Ic(e,1);return t??null}function nd(e){return!Gc||!e?null:cr(e)?e:$h(e)?Bh(e)||e===ur(e).scrollingElement?window:Rl(e)?e:null:null}function qb(e){return cr(e)?e.scrollX:e.scrollLeft}function Hb(e){return cr(e)?e.scrollY:e.scrollTop}function _f(e){return{x:qb(e),y:Hb(e)}}var pt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pt||(pt={}));function Yb(e){return!Gc||!e?!1:e===document.scrollingElement}function Vb(e){const t={x:0,y:0},n=Yb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:i,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const nj={x:.2,y:.2};function aj(e,t,n,a,s){let{top:i,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),s===void 0&&(s=nj);const{isTop:u,isBottom:f,isLeft:y,isRight:m}=Vb(e),g={x:0,y:0},x={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+E.height?(g.y=pt.Backward,x.y=a*Math.abs((t.top+E.height-i)/E.height)):!f&&o>=t.bottom-E.height&&(g.y=pt.Forward,x.y=a*Math.abs((t.bottom-E.height-o)/E.height)),!m&&l>=t.right-E.width?(g.x=pt.Forward,x.x=a*Math.abs((t.right-E.width-l)/E.width)):!y&&r<=t.left+E.width&&(g.x=pt.Backward,x.x=a*Math.abs((t.left+E.width-r)/E.width)),{direction:g,speed:x}}function sj(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:r}=window;return{top:0,left:0,right:i,bottom:r,width:i,height:r}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Gb(e){return e.reduce((t,n)=>zi(t,_f(n)),Vn)}function ij(e){return e.reduce((t,n)=>t+qb(n),0)}function rj(e){return e.reduce((t,n)=>t+Hb(n),0)}function lj(e,t){if(t===void 0&&(t=dr),!e)return;const{top:n,left:a,bottom:s,right:i}=t(e);Lb(e)&&(s<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const oj=[["x",["left","right"],ij],["y",["top","bottom"],rj]];class Hh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Ic(n),s=Gb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,r,l]of oj)for(const o of r)Object.defineProperty(this,o,{get:()=>{const u=l(a),f=s[i]-u;return this.rect[o]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function cj(e){const{EventTarget:t}=Ft(e);return e instanceof t?e:ur(e)}function ad(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var En;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(En||(En={}));function hy(e){e.preventDefault()}function uj(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const Ib={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},dj=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}};class vl{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Qr(ur(n)),this.windowListeners=new Qr(Ft(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(En.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&lj(a),n(Vn)}handleKeyDown(t){if(qh(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:i=Ib,coordinateGetter:r=dj,scrollBehavior:l="smooth"}=s,{code:o}=t;if(i.end.includes(o)){this.handleEnd(t);return}if(i.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:u}=a.current,f=u?{x:u.left,y:u.top}:Vn;this.referenceCoordinates||(this.referenceCoordinates=f);const y=r(t,{active:n,context:a.current,currentCoordinates:f});if(y){const m=gl(y,f),g={x:0,y:0},{scrollableAncestors:x}=a.current;for(const E of x){const T=t.code,{isTop:b,isRight:h,isLeft:v,isBottom:S,maxScroll:A,minScroll:R}=Vb(E),O=sj(E),U={x:Math.min(T===ge.Right?O.right-O.width/2:O.right,Math.max(T===ge.Right?O.left:O.left+O.width/2,y.x)),y:Math.min(T===ge.Down?O.bottom-O.height/2:O.bottom,Math.max(T===ge.Down?O.top:O.top+O.height/2,y.y))},$=T===ge.Right&&!h||T===ge.Left&&!v,V=T===ge.Down&&!S||T===ge.Up&&!b;if($&&U.x!==y.x){const I=E.scrollLeft+m.x,P=T===ge.Right&&I<=A.x||T===ge.Left&&I>=R.x;if(P&&!m.y){E.scrollTo({left:I,behavior:l});return}P?g.x=E.scrollLeft-I:g.x=T===ge.Right?E.scrollLeft-A.x:E.scrollLeft-R.x,g.x&&E.scrollBy({left:-g.x,behavior:l});break}else if(V&&U.y!==y.y){const I=E.scrollTop+m.y,P=T===ge.Down&&I<=A.y||T===ge.Up&&I>=R.y;if(P&&!m.x){E.scrollTo({top:I,behavior:l});return}P?g.y=E.scrollTop-I:g.y=T===ge.Down?E.scrollTop-A.y:E.scrollTop-R.y,g.y&&E.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,zi(gl(y,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vl.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Ib,onActivation:s}=t,{active:i}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function my(e){return!!(e&&"distance"in e)}function gy(e){return!!(e&&"delay"in e)}class Yh{constructor(t,n,a){var s;a===void 0&&(a=cj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:r}=i;this.props=t,this.events=n,this.document=ur(r),this.documentListeners=new Qr(this.document),this.listeners=new Qr(a),this.windowListeners=new Qr(Ft(r)),this.initialCoordinates=(s=vf(i))!=null?s:Vn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(En.Resize,this.handleCancel),this.windowListeners.add(En.DragStart,hy),this.windowListeners.add(En.VisibilityChange,this.handleCancel),this.windowListeners.add(En.ContextMenu,hy),this.documentListeners.add(En.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gy(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(my(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(En.Click,uj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(En.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:i}=this,{onMove:r,options:{activationConstraint:l}}=i;if(!s)return;const o=(n=vf(t))!=null?n:Vn,u=gl(s,o);if(!a&&l){if(my(l)){if(l.tolerance!=null&&ad(u,l.tolerance))return this.handleCancel();if(ad(u,l.distance))return this.handleStart()}if(gy(l)&&ad(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const fj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class pl extends Yh{constructor(t){const{event:n}=t,a=ur(n.target);super(t,fj,a)}}pl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const hj={move:{name:"mousemove"},end:{name:"mouseup"}};var wf;(function(e){e[e.RightClick=2]="RightClick"})(wf||(wf={}));class mj extends Yh{constructor(t){super(t,hj,ur(t.event.target))}}mj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===wf.RightClick?!1:(a==null||a({event:n}),!0)}}];const sd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Sf extends Yh{constructor(t){super(t,sd)}static setup(){return window.addEventListener(sd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sd.move.name,t)};function t(){}}}Sf.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Jr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Jr||(Jr={}));var _c;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(_c||(_c={}));function gj(e){let{acceleration:t,activator:n=Jr.Pointer,canScroll:a,draggingRect:s,enabled:i,interval:r=5,order:l=_c.TreeOrder,pointerCoordinates:o,scrollableAncestors:u,scrollableAncestorRects:f,delta:y,threshold:m}=e;const g=vj({delta:y,disabled:!i}),[x,E]=DT(),T=w.useRef({x:0,y:0}),b=w.useRef({x:0,y:0}),h=w.useMemo(()=>{switch(n){case Jr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Jr.DraggableRect:return s}},[n,s,o]),v=w.useRef(null),S=w.useCallback(()=>{const R=v.current;if(!R)return;const O=T.current.x*b.current.x,U=T.current.y*b.current.y;R.scrollBy(O,U)},[]),A=w.useMemo(()=>l===_c.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!i||!u.length||!h){E();return}for(const R of A){if((a==null?void 0:a(R))===!1)continue;const O=u.indexOf(R),U=f[O];if(!U)continue;const{direction:$,speed:V}=aj(R,U,h,t,m);for(const I of["x","y"])g[I][$[I]]||(V[I]=0,$[I]=0);if(V.x>0||V.y>0){E(),v.current=R,x(S,r),T.current=V,b.current=$;return}}T.current={x:0,y:0},b.current={x:0,y:0},E()},[t,S,a,E,i,r,JSON.stringify(h),JSON.stringify(g),x,u,A,f,JSON.stringify(m)])}const yj={x:{[pt.Backward]:!1,[pt.Forward]:!1},y:{[pt.Backward]:!1,[pt.Forward]:!1}};function vj(e){let{delta:t,disabled:n}=e;const a=yf(t);return Ml(s=>{if(n||!a||!s)return yj;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[pt.Backward]:s.x[pt.Backward]||i.x===-1,[pt.Forward]:s.x[pt.Forward]||i.x===1},y:{[pt.Backward]:s.y[pt.Backward]||i.y===-1,[pt.Forward]:s.y[pt.Forward]||i.y===1}}},[n,t,a])}function pj(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Ml(s=>{var i;return t==null?null:(i=a??s)!=null?i:null},[a,t])}function bj(e,t){return w.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,i=s.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...i]},[]),[e,t])}var Zi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Zi||(Zi={}));var xf;(function(e){e.Optimized="optimized"})(xf||(xf={}));const yy=new Map;function _j(e,t){let{dragging:n,dependencies:a,config:s}=t;const[i,r]=w.useState(null),{frequency:l,measure:o,strategy:u}=s,f=w.useRef(e),y=T(),m=ml(y),g=w.useCallback(function(b){b===void 0&&(b=[]),!m.current&&r(h=>h===null?b:h.concat(b.filter(v=>!h.includes(v))))},[m]),x=w.useRef(null),E=Ml(b=>{if(y&&!n)return yy;if(!b||b===yy||f.current!==e||i!=null){const h=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){h.set(v.id,v.rect.current);continue}const S=v.node.current,A=S?new Hh(o(S),S):null;v.rect.current=A,A&&h.set(v.id,A)}return h}return b},[e,i,n,y,o]);return w.useEffect(()=>{f.current=e},[e]),w.useEffect(()=>{y||g()},[n,y]),w.useEffect(()=>{i&&i.length>0&&r(null)},[JSON.stringify(i)]),w.useEffect(()=>{y||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{g(),x.current=null},l))},[l,y,g,...a]),{droppableRects:E,measureDroppableContainers:g,measuringScheduled:i!=null};function T(){switch(u){case Zi.Always:return!1;case Zi.BeforeDragging:return n;default:return!n}}}function Kb(e,t){return Ml(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function wj(e,t){return Kb(e,t)}function Sj(e){let{callback:t,disabled:n}=e;const a=Lh(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Kc(e){let{callback:t,disabled:n}=e;const a=Lh(t),s=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return w.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function xj(e){return new Hh(dr(e),e)}function vy(e,t,n){t===void 0&&(t=xj);const[a,s]=w.useState(null);function i(){s(o=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=o??n)!=null?u:null}const f=t(e);return JSON.stringify(o)===JSON.stringify(f)?o:f})}const r=Sj({callback(o){if(e)for(const u of o){const{type:f,target:y}=u;if(f==="childList"&&y instanceof HTMLElement&&y.contains(e)){i();break}}}}),l=Kc({callback:i});return Pn(()=>{i(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function Ej(e){const t=Kb(e);return Bb(e,t)}const py=[];function Tj(e){const t=w.useRef(e),n=Ml(a=>e?a&&a!==py&&e&&t.current&&e.parentNode===t.current.parentNode?a:Ic(e):py,[e]);return w.useEffect(()=>{t.current=e},[e]),n}function jj(e){const[t,n]=w.useState(null),a=w.useRef(e),s=w.useCallback(i=>{const r=nd(i.target);r&&n(l=>l?(l.set(r,_f(r)),new Map(l)):null)},[]);return w.useEffect(()=>{const i=a.current;if(e!==i){r(i);const l=e.map(o=>{const u=nd(o);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,_f(u)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(i)};function r(l){l.forEach(o=>{const u=nd(o);u==null||u.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,r)=>zi(i,r),Vn):Gb(e):Vn,[e,t])}function by(e,t){t===void 0&&(t=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},t),w.useEffect(()=>{const a=e!==Vn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?gl(e,n.current):Vn}function Oj(e){w.useEffect(()=>{if(!Gc)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Nj(e,t){return w.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:i}=a;return n[s]=r=>{i(r,t)},n},{}),[e,t])}function Xb(e){return w.useMemo(()=>e?FT(e):null,[e])}const _y=[];function Aj(e,t){t===void 0&&(t=dr);const[n]=e,a=Xb(n?Ft(n):null),[s,i]=w.useState(_y);function r(){i(()=>e.length?e.map(o=>Yb(o)?a:new Hh(t(o),o)):_y)}const l=Kc({callback:r});return Pn(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),s}function Dj(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rl(t)?t:e}function Cj(e){let{measure:t}=e;const[n,a]=w.useState(null),s=w.useCallback(u=>{for(const{target:f}of u)if(Rl(f)){a(y=>{const m=t(f);return y?{...y,width:m.width,height:m.height}:m});break}},[t]),i=Kc({callback:s}),r=w.useCallback(u=>{const f=Dj(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),a(f?t(f):null)},[t,i]),[l,o]=pc(r);return w.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const Rj=[{sensor:pl,options:{}},{sensor:vl,options:{}}],Mj={current:{}},Uo={draggable:{measure:fy},droppable:{measure:fy,strategy:Zi.WhileDragging,frequency:xf.Optimized},dragOverlay:{measure:dr}};class Zr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const kj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uo,measureDroppableContainers:bc,windowRect:null,measuringScheduled:!1},Uj={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bc,draggableNodes:new Map,over:null,measureDroppableContainers:bc},Xc=w.createContext(Uj),Qb=w.createContext(kj);function zj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zr}}}function $j(e,t){switch(t.type){case lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Zr(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case lt.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const r=new Zr(e.droppable.containers);return r.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:r}}}case lt.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const i=new Zr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Bj(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=w.useContext(Xc),i=yf(a),r=yf(n==null?void 0:n.id);return w.useEffect(()=>{if(!t&&!a&&i&&r!=null){if(!qh(i)||document.activeElement===i.target)return;const l=s.get(r);if(!l)return;const{activatorNode:o,node:u}=l;if(!o.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[o.current,u.current]){if(!f)continue;const y=MT(f);if(y){y.focus();break}}})}},[a,t,s,r,i]),null}function Lj(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...a}),n):n}function qj(e){return w.useMemo(()=>({draggable:{...Uo.draggable,...e==null?void 0:e.draggable},droppable:{...Uo.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Uo.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Hj(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const i=w.useRef(!1),{x:r,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Pn(()=>{if(!r&&!l||!t){i.current=!1;return}if(i.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),y=Bb(f,a);if(r||(y.x=0),l||(y.y=0),i.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const m=Lb(u);m&&m.scrollBy({top:y.y,left:y.x})}},[t,r,l,a,n])}const Jb=w.createContext({...Vn,scaleX:1,scaleY:1});var Ba;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ba||(Ba={}));const Ef=w.memo(function(t){var n,a,s,i;let{id:r,accessibility:l,autoScroll:o=!0,children:u,sensors:f=Rj,collisionDetection:y=KT,measuring:m,modifiers:g,...x}=t;const E=w.useReducer($j,void 0,zj),[T,b]=E,[h,v]=LT(),[S,A]=w.useState(Ba.Uninitialized),R=S===Ba.Initialized,{draggable:{active:O,nodes:U,translate:$},droppable:{containers:V}}=T,I=O!=null?U.get(O):null,P=w.useRef({initial:null,translated:null}),ee=w.useMemo(()=>{var Ye;return O!=null?{id:O,data:(Ye=I==null?void 0:I.data)!=null?Ye:Mj,rect:P}:null},[O,I]),te=w.useRef(null),[de,L]=w.useState(null),[K,Q]=w.useState(null),me=ml(x,Object.values(x)),ie=kl("DndDescribedBy",r),ut=w.useMemo(()=>V.getEnabled(),[V]),Me=qj(m),{droppableRects:dt,measureDroppableContainers:it,measuringScheduled:Ct}=_j(ut,{dragging:R,dependencies:[$.x,$.y],config:Me.droppable}),ft=pj(U,O),Oa=w.useMemo(()=>K?vf(K):null,[K]),qt=aa(),Rt=wj(ft,Me.draggable.measure);Hj({activeNode:O!=null?U.get(O):null,config:qt.layoutShiftCompensation,initialRect:Rt,measure:Me.draggable.measure});const ve=vy(ft,Me.draggable.measure,Rt),ht=vy(ft?ft.parentElement:null),mt=w.useRef({activatorEvent:null,active:null,activeNode:ft,collisionRect:null,collisions:null,droppableRects:dt,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vn=V.getNodeFor((n=mt.current.over)==null?void 0:n.id),en=Cj({measure:Me.dragOverlay.measure}),Ht=(a=en.nodeRef.current)!=null?a:ft,He=R?(s=en.rect)!=null?s:ve:null,Pe=!!(en.nodeRef.current&&en.rect),pn=Ej(Pe?null:ve),kn=Xb(Ht?Ft(Ht):null),gt=Tj(R?vn??ft:null),yt=Aj(gt),Mt=Lj(g,{transform:{x:$.x-pn.x,y:$.y-pn.y,scaleX:1,scaleY:1},activatorEvent:K,active:ee,activeNodeRect:ve,containerNodeRect:ht,draggingNodeRect:He,over:mt.current.over,overlayNodeRect:en.rect,scrollableAncestors:gt,scrollableAncestorRects:yt,windowRect:kn}),bn=Oa?zi(Oa,$):null,tn=jj(gt),Na=by(tn),ds=by(tn,[ve]),_n=zi(Mt,Na),nn=He?JT(He,Mt):null,wt=ee&&nn?y({active:ee,collisionRect:nn,droppableRects:dt,droppableContainers:ut,pointerCoordinates:bn}):null,Is=$b(wt,"id"),[We,fs]=w.useState(null),Ae=Pe?Mt:zi(Mt,ds),Yt=XT(Ae,(i=We==null?void 0:We.rect)!=null?i:null,ve),ea=w.useRef(null),ta=w.useCallback((Ye,Ke)=>{let{sensor:Ot,options:zn}=Ke;if(te.current==null)return;const Xe=U.get(te.current);if(!Xe)return;const Fe=Ye.nativeEvent,Vt=new Ot({active:te.current,activeNode:Xe,event:Fe,options:zn,context:mt,onAbort(Ve){if(!U.get(Ve))return;const{onDragAbort:Nt}=me.current,kt={id:Ve};Nt==null||Nt(kt),h({type:"onDragAbort",event:kt})},onPending(Ve,It,Nt,kt){if(!U.get(Ve))return;const{onDragPending:sa}=me.current,Qe={id:Ve,constraint:It,initialCoordinates:Nt,offset:kt};sa==null||sa(Qe),h({type:"onDragPending",event:Qe})},onStart(Ve){const It=te.current;if(It==null)return;const Nt=U.get(It);if(!Nt)return;const{onDragStart:kt}=me.current,Sn={activatorEvent:Fe,active:{id:It,data:Nt.data,rect:P}};gi.unstable_batchedUpdates(()=>{kt==null||kt(Sn),A(Ba.Initializing),b({type:lt.DragStart,initialCoordinates:Ve,active:It}),h({type:"onDragStart",event:Sn}),L(ea.current),Q(Fe)})},onMove(Ve){b({type:lt.DragMove,coordinates:Ve})},onEnd:Gt(lt.DragEnd),onCancel:Gt(lt.DragCancel)});ea.current=Vt;function Gt(Ve){return async function(){const{active:Nt,collisions:kt,over:Sn,scrollAdjustedTranslate:sa}=mt.current;let Qe=null;if(Nt&&sa){const{cancelDrop:ia}=me.current;Qe={activatorEvent:Fe,active:Nt,collisions:kt,delta:sa,over:Sn},Ve===lt.DragEnd&&typeof ia=="function"&&await Promise.resolve(ia(Qe))&&(Ve=lt.DragCancel)}te.current=null,gi.unstable_batchedUpdates(()=>{b({type:Ve}),A(Ba.Uninitialized),fs(null),L(null),Q(null),ea.current=null;const ia=Ve===lt.DragEnd?"onDragEnd":"onDragCancel";if(Qe){const Aa=me.current[ia];Aa==null||Aa(Qe),h({type:ia,event:Qe})}})}}},[U]),Un=w.useCallback((Ye,Ke)=>(Ot,zn)=>{const Xe=Ot.nativeEvent,Fe=U.get(zn);if(te.current!==null||!Fe||Xe.dndKit||Xe.defaultPrevented)return;const Vt={active:Fe};Ye(Ot,Ke.options,Vt)===!0&&(Xe.dndKit={capturedBy:Ke.sensor},te.current=zn,ta(Ot,Ke))},[U,ta]),na=bj(f,Un);Oj(f),Pn(()=>{ve&&S===Ba.Initializing&&A(Ba.Initialized)},[ve,S]),w.useEffect(()=>{const{onDragMove:Ye}=me.current,{active:Ke,activatorEvent:Ot,collisions:zn,over:Xe}=mt.current;if(!Ke||!Ot)return;const Fe={active:Ke,activatorEvent:Ot,collisions:zn,delta:{x:_n.x,y:_n.y},over:Xe};gi.unstable_batchedUpdates(()=>{Ye==null||Ye(Fe),h({type:"onDragMove",event:Fe})})},[_n.x,_n.y]),w.useEffect(()=>{const{active:Ye,activatorEvent:Ke,collisions:Ot,droppableContainers:zn,scrollAdjustedTranslate:Xe}=mt.current;if(!Ye||te.current==null||!Ke||!Xe)return;const{onDragOver:Fe}=me.current,Vt=zn.get(Is),Gt=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,Ve={active:Ye,activatorEvent:Ke,collisions:Ot,delta:{x:Xe.x,y:Xe.y},over:Gt};gi.unstable_batchedUpdates(()=>{fs(Gt),Fe==null||Fe(Ve),h({type:"onDragOver",event:Ve})})},[Is]),Pn(()=>{mt.current={activatorEvent:K,active:ee,activeNode:ft,collisionRect:nn,collisions:wt,droppableRects:dt,draggableNodes:U,draggingNode:Ht,draggingNodeRect:He,droppableContainers:V,over:We,scrollableAncestors:gt,scrollAdjustedTranslate:_n},P.current={initial:He,translated:nn}},[ee,ft,wt,nn,U,Ht,He,dt,V,We,gt,_n]),gj({...qt,delta:$,draggingRect:nn,pointerCoordinates:bn,scrollableAncestors:gt,scrollableAncestorRects:yt});const hs=w.useMemo(()=>({active:ee,activeNode:ft,activeNodeRect:ve,activatorEvent:K,collisions:wt,containerNodeRect:ht,dragOverlay:en,draggableNodes:U,droppableContainers:V,droppableRects:dt,over:We,measureDroppableContainers:it,scrollableAncestors:gt,scrollableAncestorRects:yt,measuringConfiguration:Me,measuringScheduled:Ct,windowRect:kn}),[ee,ft,ve,K,wt,ht,en,U,V,dt,We,it,gt,yt,Me,Ct,kn]),wn=w.useMemo(()=>({activatorEvent:K,activators:na,active:ee,activeNodeRect:ve,ariaDescribedById:{draggable:ie},dispatch:b,draggableNodes:U,over:We,measureDroppableContainers:it}),[K,na,ee,ve,b,ie,U,We,it]);return Dt.createElement(kb.Provider,{value:v},Dt.createElement(Xc.Provider,{value:wn},Dt.createElement(Qb.Provider,{value:hs},Dt.createElement(Jb.Provider,{value:Yt},u)),Dt.createElement(Bj,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Dt.createElement(YT,{...l,hiddenTextDescribedById:ie}));function aa(){const Ye=(de==null?void 0:de.autoScrollEnabled)===!1,Ke=typeof o=="object"?o.enabled===!1:o===!1,Ot=R&&!Ye&&!Ke;return typeof o=="object"?{...o,enabled:Ot}:{enabled:Ot}}}),Yj=w.createContext(null),wy="button",Vj="Draggable";function Gj(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const i=kl(Vj),{activators:r,activatorEvent:l,active:o,activeNodeRect:u,ariaDescribedById:f,draggableNodes:y,over:m}=w.useContext(Xc),{role:g=wy,roleDescription:x="draggable",tabIndex:E=0}=s??{},T=(o==null?void 0:o.id)===t,b=w.useContext(T?Jb:Yj),[h,v]=pc(),[S,A]=pc(),R=Nj(r,t),O=ml(n);Pn(()=>(y.set(t,{id:t,key:i,node:h,activatorNode:S,data:O}),()=>{const $=y.get(t);$&&$.key===i&&y.delete(t)}),[y,t]);const U=w.useMemo(()=>({role:g,tabIndex:E,"aria-disabled":a,"aria-pressed":T&&g===wy?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[a,g,E,T,x,f.draggable]);return{active:o,activatorEvent:l,activeNodeRect:u,attributes:U,isDragging:T,listeners:a?void 0:R,node:h,over:m,setNodeRef:v,setActivatorNodeRef:A,transform:b}}function Ij(){return w.useContext(Qb)}const Kj="Droppable",Xj={timeout:25};function Qj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const i=kl(Kj),{active:r,dispatch:l,over:o,measureDroppableContainers:u}=w.useContext(Xc),f=w.useRef({disabled:n}),y=w.useRef(!1),m=w.useRef(null),g=w.useRef(null),{disabled:x,updateMeasurementsFor:E,timeout:T}={...Xj,...s},b=ml(E??a),h=w.useCallback(()=>{if(!y.current){y.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),g.current=null},T)},[T]),v=Kc({callback:h,disabled:x||!r}),S=w.useCallback((U,$)=>{v&&($&&(v.unobserve($),y.current=!1),U&&v.observe(U))},[v]),[A,R]=pc(S),O=ml(t);return w.useEffect(()=>{!v||!A.current||(v.disconnect(),y.current=!1,v.observe(A.current))},[A,v]),w.useEffect(()=>(l({type:lt.RegisterDroppable,element:{id:a,key:i,disabled:n,node:A,rect:m,data:O}}),()=>l({type:lt.UnregisterDroppable,key:i,id:a})),[a]),w.useEffect(()=>{n!==f.current.disabled&&(l({type:lt.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,l]),{active:r,rect:m,isOver:(o==null?void 0:o.id)===a,node:A,over:o,setNodeRef:R}}function wc(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function Jj(e,t){return e.reduce((n,a,s)=>{const i=t.get(a);return i&&(n[s]=i),n},Array(e.length))}function yo(e){return e!==null&&e>=0}function Zj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Pj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const vo={scaleX:1,scaleY:1},Wj=e=>{var t;let{rects:n,activeNodeRect:a,activeIndex:s,overIndex:i,index:r}=e;const l=(t=n[s])!=null?t:a;if(!l)return null;const o=Fj(n,r,s);if(r===s){const u=n[i];return u?{x:s<i?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...vo}:null}return r>s&&r<=i?{x:-l.width-o,y:0,...vo}:r<s&&r>=i?{x:l.width+o,y:0,...vo}:{x:0,y:0,...vo}};function Fj(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return!a||!s&&!i?0:n<t?s?a.left-(s.left+s.width):i.left-(a.left+a.width):i?i.left-(a.left+a.width):a.left-(s.left+s.width)}const Zb=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const i=wc(t,a,n),r=t[s],l=i[s];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},po={scaleX:1,scaleY:1},zo=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:i,overIndex:r}=e;const l=(t=i[n])!=null?t:a;if(!l)return null;if(s===n){const u=i[r];return u?{x:0,y:n<r?u.top+u.height-(l.top+l.height):u.top-l.top,...po}:null}const o=eO(i,s,n);return s>n&&s<=r?{x:0,y:-l.height-o,...po}:s<n&&s>=r?{x:0,y:l.height+o,...po}:{x:0,y:0,...po}};function eO(e,t,n){const a=e[t],s=e[t-1],i=e[t+1];return a?n<t?s?a.top-(s.top+s.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const Pb="Sortable",Wb=Dt.createContext({activeIndex:-1,containerId:Pb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Zb,disabled:{draggable:!1,droppable:!1}});function Dr(e){let{children:t,id:n,items:a,strategy:s=Zb,disabled:i=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:u,measureDroppableContainers:f}=Ij(),y=kl(Pb,n),m=l.rect!==null,g=w.useMemo(()=>a.map(R=>typeof R=="object"&&"id"in R?R.id:R),[a]),x=r!=null,E=r?g.indexOf(r.id):-1,T=u?g.indexOf(u.id):-1,b=w.useRef(g),h=!Zj(g,b.current),v=T!==-1&&E===-1||h,S=Pj(i);Pn(()=>{h&&x&&f(g)},[h,g,x,f]),w.useEffect(()=>{b.current=g},[g]);const A=w.useMemo(()=>({activeIndex:E,containerId:y,disabled:S,disableTransforms:v,items:g,overIndex:T,useDragOverlay:m,sortedRects:Jj(g,o),strategy:s}),[E,y,S.draggable,S.droppable,v,g,T,o,m,s]);return Dt.createElement(Wb.Provider,{value:A},t)}const tO=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return wc(n,a,s).indexOf(t)},nO=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:i,newIndex:r,previousItems:l,previousContainerId:o,transition:u}=e;return!u||!a||l!==i&&s===r?!1:n?!0:r!==s&&t===o},aO={duration:200,easing:"ease"},Fb="transform",sO=yl.Transition.toString({property:Fb,duration:0,easing:"linear"}),iO={roleDescription:"sortable"};function rO(e){let{disabled:t,index:n,node:a,rect:s}=e;const[i,r]=w.useState(null),l=w.useRef(n);return Pn(()=>{if(!t&&n!==l.current&&a.current){const o=s.current;if(o){const u=dr(a.current,{ignoreTransform:!0}),f={x:o.left-u.left,y:o.top-u.top,scaleX:o.width/u.width,scaleY:o.height/u.height};(f.x||f.y)&&r(f)}}n!==l.current&&(l.current=n)},[t,n,a,s]),w.useEffect(()=>{i&&r(null)},[i]),i}function Vh(e){let{animateLayoutChanges:t=nO,attributes:n,disabled:a,data:s,getNewIndex:i=tO,id:r,strategy:l,resizeObserverConfig:o,transition:u=aO}=e;const{items:f,containerId:y,activeIndex:m,disabled:g,disableTransforms:x,sortedRects:E,overIndex:T,useDragOverlay:b,strategy:h}=w.useContext(Wb),v=lO(a,g),S=f.indexOf(r),A=w.useMemo(()=>({sortable:{containerId:y,index:S,items:f},...s}),[y,s,S,f]),R=w.useMemo(()=>f.slice(f.indexOf(r)),[f,r]),{rect:O,node:U,isOver:$,setNodeRef:V}=Qj({id:r,data:A,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...o}}),{active:I,activatorEvent:P,activeNodeRect:ee,attributes:te,setNodeRef:de,listeners:L,isDragging:K,over:Q,setActivatorNodeRef:me,transform:ie}=Gj({id:r,data:A,attributes:{...iO,...n},disabled:v.draggable}),ut=AT(V,de),Me=!!I,dt=Me&&!x&&yo(m)&&yo(T),it=!b&&K,Ct=it&&dt?ie:null,Oa=dt?Ct??(l??h)({rects:E,activeNodeRect:ee,activeIndex:m,overIndex:T,index:S}):null,qt=yo(m)&&yo(T)?i({id:r,items:f,activeIndex:m,overIndex:T}):S,Rt=I==null?void 0:I.id,ve=w.useRef({activeId:Rt,items:f,newIndex:qt,containerId:y}),ht=f!==ve.current.items,mt=t({active:I,containerId:y,isDragging:K,isSorting:Me,id:r,index:S,items:f,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:u,wasDragging:ve.current.activeId!=null}),vn=rO({disabled:!mt,index:S,node:U,rect:O});return w.useEffect(()=>{Me&&ve.current.newIndex!==qt&&(ve.current.newIndex=qt),y!==ve.current.containerId&&(ve.current.containerId=y),f!==ve.current.items&&(ve.current.items=f)},[Me,qt,y,f]),w.useEffect(()=>{if(Rt===ve.current.activeId)return;if(Rt!=null&&ve.current.activeId==null){ve.current.activeId=Rt;return}const Ht=setTimeout(()=>{ve.current.activeId=Rt},50);return()=>clearTimeout(Ht)},[Rt]),{active:I,activeIndex:m,attributes:te,data:A,rect:O,index:S,newIndex:qt,items:f,isOver:$,isSorting:Me,isDragging:K,listeners:L,node:U,overIndex:T,over:Q,setNodeRef:ut,setActivatorNodeRef:me,setDroppableNodeRef:V,setDraggableNodeRef:de,transform:vn??Oa,transition:en()};function en(){if(vn||ht&&ve.current.newIndex===S)return sO;if(!(it&&!qh(P)||!u)&&(Me||mt))return yl.Transition.toString({...u,property:Fb})}}function lO(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Sc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const oO=[ge.Down,ge.Right,ge.Up,ge.Left],Tf=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:i,over:r,scrollableAncestors:l}}=t;if(oO.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];i.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const m=s.get(y.id);if(m)switch(e.code){case ge.Down:a.top<m.top&&o.push(y);break;case ge.Up:a.top>m.top&&o.push(y);break;case ge.Left:a.left>m.left&&o.push(y);break;case ge.Right:a.left<m.left&&o.push(y);break}});const u=GT({collisionRect:a,droppableRects:s,droppableContainers:o});let f=$b(u,"id");if(f===(r==null?void 0:r.id)&&u.length>1&&(f=u[1].id),f!=null){const y=i.get(n.id),m=i.get(f),g=m?s.get(m.id):null,x=m==null?void 0:m.node.current;if(x&&g&&y&&m){const T=Ic(x).some((R,O)=>l[O]!==R),b=e_(y,m),h=cO(y,m),v=T||!b?{x:0,y:0}:{x:h?a.width-g.width:0,y:h?a.height-g.height:0},S={x:g.left,y:g.top};return v.x&&v.y?S:gl(S,v)}}}};function e_(e,t){return!Sc(e)||!Sc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function cO(e,t){return!Sc(e)||!Sc(t)||!e_(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Os=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],id=`# Todo Note  

##   
**Todo Note** -        

---

##   

### ** ** -    , ,    

### ** ** -        

### ** ** -      

### ** ** -      /  

---

##   

- **Frontend**: React 19.1.1 + Vite
- **Database**: Supabase (PostgreSQL)
- **Deployment**: GitHub Pages

---

##   

- ** URL**: https://jaehwan-lee-benja.github.io/todo-note/
- ** **: \`npm run dev\`  http://localhost:5173/todo-note/`;function jf({value:e,onChange:t}){const n=w.useRef(null),a=w.useRef(null),s=w.useRef(e),i=w.useRef(!1),[r,l]=w.useState(()=>e&&e.includes(":")?e.split(":")[0]:"09"),[o,u]=w.useState(()=>e&&e.includes(":")?e.split(":")[1]:"00");w.useEffect(()=>{if(e&&e.includes(":")&&e!==s.current){const[h,v]=e.split(":");s.current=e,l(h),u(v)}},[e]),w.useEffect(()=>{if(!i.current){i.current=!0;return}const h=`${r}:${o}`;s.current=h,t&&t(h)},[r,o]);const f=(h,v,S)=>{if(!h.current)return;const A=h.current.scrollTop,O=Math.round(A/40),U=String(O).padStart(2,"0");v(U)},y=(h,v)=>{if(!h.current)return;const S=40,A=parseInt(v,10);h.current.scrollTop=A*S};w.useEffect(()=>{y(n,r)},[]),w.useEffect(()=>{y(a,o)},[]);const m=Array.from({length:24},(h,v)=>String(v).padStart(2,"0")),g=Array.from({length:60},(h,v)=>String(v).padStart(2,"0")),x=()=>{const h=(parseInt(r,10)+1)%24,v=String(h).padStart(2,"0");l(v),y(n,v)},E=()=>{const h=(parseInt(r,10)-1+24)%24,v=String(h).padStart(2,"0");l(v),y(n,v)},T=()=>{const h=(parseInt(o,10)+1)%60,v=String(h).padStart(2,"0");u(v),y(a,v)},b=()=>{const h=(parseInt(o,10)-1+60)%60,v=String(h).padStart(2,"0");u(v),y(a,v)};return c.jsxs("div",{className:"apple-time-picker",children:[c.jsxs("div",{className:"picker-arrows-top",children:[c.jsx("button",{className:"picker-arrow-button",onClick:x,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:T,children:""})]}),c.jsxs("div",{className:"picker-container",children:[c.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>f(n,l),children:[c.jsx("div",{className:"picker-spacer"}),m.map(h=>c.jsx("div",{className:`picker-item ${h===r?"selected":""}`,onClick:()=>{l(h),y(n,h)},children:h},h)),c.jsx("div",{className:"picker-spacer"})]}),c.jsx("div",{className:"picker-separator",children:":"}),c.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>f(a,u),children:[c.jsx("div",{className:"picker-spacer"}),g.map(h=>c.jsx("div",{className:`picker-item ${h===o?"selected":""}`,onClick:()=>{u(h),y(a,h)},children:h},h)),c.jsx("div",{className:"picker-spacer"})]})]}),c.jsxs("div",{className:"picker-arrows-bottom",children:[c.jsx("button",{className:"picker-arrow-button",onClick:E,children:""}),c.jsx("div",{style:{width:"20px"}}),c.jsx("button",{className:"picker-arrow-button",onClick:b,children:""})]}),c.jsx("div",{className:"picker-selection-indicator"})]})}function bo({id:e,children:t,disabled:n,onLongPress:a}){const{attributes:s,listeners:i,setNodeRef:r,transform:l,transition:o,isDragging:u}=Vh({id:e,disabled:n}),f=w.useRef(null),[y,m]=w.useState(!1),g=A=>{if(n&&a){if(!A.target.closest(".section-header"))return;m(!0),f.current=setTimeout(()=>{a(),m(!1)},500)}},x=()=>{f.current&&(clearTimeout(f.current),f.current=null,m(!1))},E=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},T=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)},h={transform:l?`translate3d(${Math.round(l.x)}px, ${Math.round(l.y)}px, 0)`:void 0,transition:o},v=n?{onPointerDown:g,onPointerMove:x,onPointerUp:E,onPointerCancel:T,onPointerLeave:T}:{...s,...i},S=[!n&&"reorder-mode",u&&"dragging"].filter(Boolean).join(" ");return c.jsx("div",{ref:r,style:h,className:S,...v,children:t})}function uO({title:e,className:t,content:n,setContent:a,isEditing:s,isSaving:i,textareaRef:r,onStartEdit:l,onSave:o,onCancel:u,onKeyDown:f,placeholder:y,emptyMessage:m,children:g}){return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:e}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[!s&&c.jsx("button",{onClick:l,className:"memo-edit-button-inline",title:" ",children:" "}),s&&c.jsxs("div",{className:"memo-edit-actions",children:[c.jsx("button",{onClick:o,className:"memo-save-button",disabled:i,children:" "}),c.jsx("button",{onClick:u,className:"memo-cancel-button",disabled:i,children:" "})]})]})]}),s?c.jsx("textarea",{ref:r,value:n,onChange:x=>a(x.target.value),onKeyDown:f,className:"memo-textarea",placeholder:y}):c.jsx("div",{className:"memo-preview",onClick:l,children:n?c.jsx("div",{className:"memo-preview-content",children:n.split(`
`).map((x,E)=>c.jsx("div",{className:"memo-preview-line",children:x||""},E))}):c.jsx("div",{className:"memo-empty",children:m})}),g]})}function t_({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,parentBlock:i,rootSetBlocks:r}){const{attributes:l,listeners:o,setNodeRef:u,transform:f,transition:y,isDragging:m}=Vh({id:e.id}),x={transform:f?`translate3d(${Math.round(f.x)}px, ${Math.round(f.y)}px, 0)`:void 0,transition:m?"none":y,cursor:m?"grabbing":"grab"};return c.jsx("div",{ref:u,style:x,className:m?"dragging":"",children:c.jsx(dO,{block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:{...l,...o},parentBlock:i,rootSetBlocks:r})})}function dO({block:e,blocks:t,setBlocks:n,focusedBlockId:a,setFocusedBlockId:s,dragHandleProps:i,parentBlock:r,rootSetBlocks:l}){const o=w.useRef(null),u=w.useRef(!1);w.useEffect(()=>{if(a===e.id&&o.current){o.current.focus();const h=o.current.value.length;o.current.setSelectionRange(h,h)}},[a,e.id]),w.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=o.current.scrollHeight+"px")},[e.content]);const f=(h,v,S)=>h.map(A=>{if(A.id===v){const R=S(A);return{...R,children:Array.isArray(R.children)?R.children:[]}}return Array.isArray(A.children)&&A.children.length>0?{...A,children:f(A.children,v,S)}:A}),y=h=>{n(v=>f(v,e.id,S=>({...S,content:h})))},m=h=>{n(v=>f(v,e.id,S=>({...S,children:typeof h=="function"?h(S.children):h})))},g=()=>{n(h=>f(h,e.id,v=>{const S=!v.isOpen;if(S&&(!Array.isArray(v.children)||v.children.length===0)){const A={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};return{...v,isOpen:S,children:[A]}}return{...v,isOpen:S,children:Array.isArray(v.children)?v.children:[]}}))},x=()=>{const h=t.findIndex(S=>S.id===e.id);if(h<=0)return;const v=t[h-1];n(S=>{const A=[...S];A.splice(h,1);const R={...v,children:[...Array.isArray(v.children)?v.children:[],e],isOpen:!0};return A[h-1]=R,A})},E=()=>{!r||!l||l(h=>{const v=(R,O,U)=>{const $=[];for(let V=0;V<R.length;V++){const I=R[V];if(I.id===O){const P=I.children.filter(te=>te.id!==U.id),ee={...I,children:P};$.push(ee),$.push(U)}else if(Array.isArray(I.children)&&I.children.length>0){const P=v(I.children,O,U);P!==I.children?$.push({...I,children:P}):$.push(I)}else $.push(I)}return $},S=R=>R.map(O=>{const U=Array.isArray(O.children)&&O.children.length>0;return!U&&O.isOpen?{...O,isOpen:!1}:U?{...O,children:S(O.children)}:O}),A=v(h,r.id,e);return S(A)})},T=h=>{const v=[],S=A=>{for(const R of A)v.push(R),R.isOpen&&Array.isArray(R.children)&&R.children.length>0&&S(R.children)};return S(h),v},b=h=>{if(h.key==="Enter"){if(h.shiftKey)return;{if(u.current){h.preventDefault(),h.stopPropagation();return}h.preventDefault(),h.stopPropagation(),u.current=!0;const v=h.target.selectionStart,S={id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0};v===0?(n(A=>{const R=A.findIndex(U=>U.id===e.id);if(R===-1)return A;const O=[...A];return O.splice(R,0,S),O}),setTimeout(()=>{s(e.id),setTimeout(()=>{u.current=!1},100)},0)):(n(A=>{const R=A.findIndex(U=>U.id===e.id);if(R===-1)return A;const O=[...A];return O.splice(R+1,0,S),O}),setTimeout(()=>{s(S.id),setTimeout(()=>{u.current=!1},100)},0))}}else if(h.key==="Tab"&&h.shiftKey)h.preventDefault(),h.stopPropagation(),r&&l&&E();else if(h.key==="Tab"&&!h.shiftKey)h.preventDefault(),h.stopPropagation(),x();else if(h.key==="Backspace"){const v=h.target.selectionStart;if(e.content===""||v===0){const O=(()=>{if(l){let V=[];return l(I=>(V=I,I)),V}return t})(),U=T(O),$=U.findIndex(V=>V.id===e.id);if($>0){h.preventDefault(),h.stopPropagation();const V=U[$-1],I=(ee,te)=>ee.filter(de=>de.id!==te).map(de=>Array.isArray(de.children)&&de.children.length>0?{...de,children:I(de.children,te)}:de),P=ee=>ee.map(te=>{const de=Array.isArray(te.children)&&te.children.length>0;return!de&&te.isOpen?{...te,isOpen:!1}:de?{...te,children:P(te.children)}:te});l?l(ee=>{const te=I(ee,e.id);return P(te)}):n(ee=>{const te=I(ee,e.id);return P(te)}),setTimeout(()=>{s(V.id)},0)}}}else if(h.key==="ArrowUp"&&!h.shiftKey){h.preventDefault(),h.stopPropagation();const S=(()=>{if(l){let O=[];return l(U=>(O=U,U)),O}return t})(),A=T(S),R=A.findIndex(O=>O.id===e.id);R>0&&s(A[R-1].id)}else if(h.key==="ArrowDown"&&!h.shiftKey){h.preventDefault(),h.stopPropagation();const S=(()=>{if(l){let O=[];return l(U=>(O=U,U)),O}return t})(),A=T(S),R=A.findIndex(O=>O.id===e.id);R<A.length-1&&s(A[R+1].id)}};return c.jsxs("div",{className:"notion-block",children:[i&&c.jsx("div",{className:"notion-drag-handle",...i,title:" ",children:""}),c.jsx("div",{className:"notion-block-controls",children:c.jsx("button",{className:"block-type-button",onClick:g,title:": /",style:{transform:e.isOpen?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})}),c.jsx("div",{className:"notion-block-content",children:c.jsx("textarea",{ref:o,value:e.content,onChange:h=>y(h.target.value),onKeyDown:b,onFocus:()=>s(e.id),placeholder:"",className:"notion-block-input",rows:1})}),e.isOpen&&Array.isArray(e.children)&&e.children.length>0&&c.jsx("div",{className:"notion-block-children",children:e.children.map(h=>c.jsx(t_,{block:h,blocks:e.children,setBlocks:m,focusedBlockId:a,setFocusedBlockId:s,parentBlock:e,rootSetBlocks:l||n},h.id))})]})}function fO({blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a}){const s=pf($a(pl,{activationConstraint:{distance:3}}),$a(vl,{coordinateGetter:Tf})),i=m=>m.map(g=>{const x=Array.isArray(g.children)&&g.children.length>0;return!x&&g.isOpen?{...g,isOpen:!1}:x?{...g,children:i(g.children)}:g});w.useEffect(()=>{const m=i(e);JSON.stringify(m)!==JSON.stringify(e)&&t(m)},[e]);const r=m=>{const g=[],x=E=>{for(const T of E)g.push(T),T.isOpen&&Array.isArray(T.children)&&T.children.length>0&&x(T.children)};return x(m),g},l=m=>{const{active:g,over:x}=m;if(!x||g.id===x.id)return;const E=r(e),T=E.find(I=>I.id===g.id),b=E.find(I=>I.id===x.id);if(!T||!b)return;const h=JSON.parse(JSON.stringify(T)),v=(I,P)=>I.filter(ee=>ee.id!==P).map(ee=>({...ee,children:Array.isArray(ee.children)?v(ee.children,P):[]})),S=(I,P,ee)=>{let te=!1;const de=[];for(const L of I)if(de.push(L),L.id===P&&(de.push(ee),te=!0),Array.isArray(L.children)&&L.children.length>0){const{newChildren:K,wasInserted:Q}=A(L.children,P,ee);Q&&(de[de.length-1]={...L,children:K},te=!0)}return{newTree:de,inserted:te}},A=(I,P,ee)=>{let te=!1;const de=[];for(const L of I)if(de.push(L),L.id===P&&(de.push(ee),te=!0),Array.isArray(L.children)&&L.children.length>0){const{newChildren:K,wasInserted:Q}=A(L.children,P,ee);Q&&(de[de.length-1]={...L,children:K},te=!0)}return{newChildren:de,wasInserted:te}};let R=v(e,T.id);const O=R.length>0&&R[0].id===b.id;let U,$=!1;if(O)U=[h,...R],$=!0;else{const I=S(R,b.id,h);U=I.newTree,$=I.inserted}if(!$){console.warn("Failed to insert block, keeping original state");return}const V=i(U);t(V)},o=r(e).map(m=>m.id),u=m=>{const g=x=>x.map(E=>({...E,isOpen:m,children:Array.isArray(E.children)?g(E.children):[]}));t(g(e))},f=m=>{for(const g of m)if(!g.isOpen&&Array.isArray(g.children)&&g.children.length>0||Array.isArray(g.children)&&g.children.length>0&&!f(g.children))return!1;return!0},y=f(e);return c.jsxs("div",{className:"key-thoughts-section section-block",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:"  "}),c.jsx("button",{className:"toggle-all-button",onClick:()=>u(!y),title:y?" ":" ",children:y?" ":" "})]}),c.jsx("div",{className:"key-thoughts-content notion-editor",children:c.jsx(Ef,{sensors:s,collisionDetection:bf,onDragEnd:l,measuring:{droppable:{strategy:Zi.Always}},children:c.jsx(Dr,{items:o,strategy:zo,children:e.map(m=>c.jsx(t_,{block:m,blocks:e,setBlocks:t,focusedBlockId:n,setFocusedBlockId:a,rootSetBlocks:t},m.id))})})})]})}function Sy({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:s,isAdding:i,placeholder:r,children:l}){return c.jsxs("div",{className:t,children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{className:"section-title",children:e})}),c.jsxs("div",{className:"section-input",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyDown:o=>{o.key==="Enter"&&s()},placeholder:r,className:"todo-input",disabled:i}),c.jsx("button",{onClick:s,className:"add-button",disabled:i,children:""})]}),l]})}function $o({todo:e,index:t,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:f,level:y=0,onCreateRoutine:m,routines:g,onShowRoutineHistory:x,onOpenRoutineSetupModal:E,onOpenHistoryModal:T,currentPageDate:b,isPendingRoutine:h=!1,onRemoveFromUI:v,showSuccessMessage:S}){const[A,R]=w.useState(!1),[O,U]=w.useState(!1),[$,V]=w.useState(e.text),[I,P]=w.useState(!1),[ee,te]=w.useState(!1),[de,L]=w.useState(!1),[K,Q]=w.useState(""),[me,ie]=w.useState(!1),[ut,Me]=w.useState([]),[dt,it]=w.useState(!1),[Ct,ft]=w.useState(!1),[Oa,qt]=w.useState([]),[Rt,ve]=w.useState([]),[ht,mt]=w.useState([]),[vn,en]=w.useState(null),[Ht,He]=w.useState(!1),[Pe,pn]=w.useState(null),[kn,gt]=w.useState(!1),[yt,Mt]=w.useState([]),[bn,tn]=w.useState(""),[Na,ds]=w.useState({}),[_n,nn]=w.useState(!1),[wt,Is]=w.useState(null),[We,fs]=w.useState([]),Ae=e.routine_id?g.find(k=>k.id===e.routine_id):null,[Yt,ea]=w.useState(0),[ta,Un]=w.useState(0),[na,hs]=w.useState(0),[wn,aa]=w.useState(!1),[Ye,Ke]=w.useState(!1),{attributes:Ot,listeners:zn,setNodeRef:Xe,transform:Fe,transition:Vt,isDragging:Gt}=Vh({id:e.id}),Ve={transform:yl.Transform.toString(Fe),transition:Vt,cursor:Gt?"grabbing":"grab"},It=e.text.length>30,Nt=()=>{U(!0),V(e.text)},kt=async()=>{$.trim()&&$!==e.text&&await s(e.id,$.trim()),U(!1)},Sn=async k=>{k.key==="Enter"?(k.preventDefault(),await kt()):k.key==="Escape"&&(U(!1),V(e.text))},sa=k=>{Mt(H=>H.includes(k)?H.filter(oe=>oe!==k):[...H,k])},Qe=k=>{const H=k.getFullYear(),oe=String(k.getMonth()+1).padStart(2,"0"),fe=String(k.getDate()).padStart(2,"0");return`${H}-${oe}-${fe}`},ia=k=>["sun","mon","tue","wed","thu","fri","sat"][k],Aa=async k=>{try{const H=typeof b=="string"?b:Qe(b),fe=[...k.hidden_dates||[],H],ne=k.routine_id!==null&&k.routine_id!==void 0;let pe={hidden_dates:fe};ne||(pe.deleted=!0,pe.deleted_date=new Date().toISOString());const{error:xe}=await q.from("todos").update(pe).eq("id",k.id);if(xe)throw xe;v&&v(k.id);const Ee=k.routine_id!==null&&k.routine_id!==void 0;S(Ee?"  ":"   ",{type:"hideOnDate",todoId:k.id,hiddenDate:H,wasDeleted:!ne})}catch(H){console.error("  :",H.message),alert("   .")}},Ks=async k=>{try{const{error:H}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",k.id);if(H)throw H;v&&v(k.id)}catch(H){console.error(" :",H.message),alert(" .")}},Da=async k=>{try{if(!k.routine_id){alert("  .");return}const{error:H}=await q.from("routines").update({deleted:!0}).eq("id",k.routine_id);if(H)throw H;const oe=typeof b=="string"?b:Qe(b),ne=[...k.hidden_dates||[],oe],{error:pe}=await q.from("todos").update({hidden_dates:ne}).eq("id",k.id);if(pe)throw pe;v&&v(k.id),S("   ",{type:"stopRoutineFromToday",todoId:k.id,routineId:k.routine_id,hiddenDate:oe})}catch(H){console.error("  :",H.message),alert("   .")}},fr=async k=>{try{if(!k.routine_id){alert("  .");return}const{error:H}=await q.from("routines").update({deleted:!0}).eq("id",k.routine_id);if(H)throw H;const{error:oe}=await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",k.id);if(oe)throw oe;v&&v(k.id),S("   ",{type:"deleteRoutineCompletely",todoId:k.id,routineId:k.routine_id})}catch(H){console.error("   :",H.message),alert("   .")}};w.useEffect(()=>{Pe==="history"&&!Na[e.id]&&!_n&&(async()=>{nn(!0);try{const{data:H,error:oe}=await q.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(oe)throw oe;ds(fe=>({...fe,[e.id]:H||[]}))}catch(H){console.error("Error fetching history:",H)}finally{nn(!1)}})()},[Pe,e.id,Na,_n]),w.useEffect(()=>{Pe==="routine-stats"&&Ae&&(!wt||wt.id!==Ae.id)&&(async()=>{try{const{data:H,error:oe}=await q.from("todos").select("*").eq("routine_id",Ae.id).eq("deleted",!1).maybeSingle();if(oe)throw oe;if(H&&H.visible_dates){const fe=H.visible_dates.sort().map(ne=>{var pe;return{id:`${H.id}-${ne}`,date:ne,text:H.text,completed:((pe=H.completed_dates)==null?void 0:pe.includes(ne))||!1}});fs(fe),Is(Ae)}}catch(H){console.error("Error fetching routine history:",H)}})()},[Pe,Ae,wt]);const Ul=k=>{if(O||Gt)return;const H=k.type.includes("touch")?k.touches[0].clientX:k.clientX,oe=k.type.includes("touch")?k.touches[0].clientY:k.clientY;Un(H),hs(oe),aa(!1),Ke(!0)},Xs=k=>{if(O||Gt||!Ye)return;const H=k.type.includes("touch")?k.touches[0].clientX:k.clientX,oe=k.type.includes("touch")?k.touches[0].clientY:k.clientY,fe=ta-H,ne=Math.abs(na-oe);if(!wn){const pe=Math.abs(fe)+ne;if(pe>10){if(Math.abs(fe)>pe*.8)aa(!0),k.type.includes("touch")&&k.preventDefault();else if(ne>Math.abs(fe)){Ke(!1);return}}}if(wn){if(k.type.includes("touch")&&k.preventDefault(),fe>0&&fe<=100)ea(fe);else if(fe<0&&Yt>0){const pe=Yt+fe;ea(Math.max(0,pe)),Un(H)}}},Ca=()=>{Ke(!1),wn&&(aa(!1),ea(Yt>40?80:0))},Qs=()=>{a(e.id)},Qc=k=>{ve(H=>H.includes(k)?H.filter(oe=>oe!==k):[...H,k])};return c.jsxs("div",{ref:Xe,style:Ve,className:`todo-item-container ${l?"focused":""}`,children:[c.jsxs("span",{className:"todo-number",onClick:()=>o(e.id),children:[l&&c.jsx("span",{className:"focus-icon",children:""}),t+1]}),c.jsxs("div",{className:"todo-item-wrapper",children:[c.jsx("div",{className:"swipe-background",children:c.jsx("button",{onClick:Qs,className:"swipe-delete-button",title:"",children:""})}),c.jsxs("div",{...Ot,...zn,className:`todo-item ${e.completed?"completed":""} ${A?"expanded":""} ${Gt?"drag-mode":""}`,style:{transform:`translateX(-${Yt}px)`,transition:wn||Gt?"none":"transform 0.3s ease"},onMouseDown:Ul,onMouseMove:Xs,onMouseUp:Ca,onMouseLeave:Ca,onTouchStart:Ul,onTouchMove:Xs,onTouchEnd:Ca,onContextMenu:k=>k.preventDefault(),children:[c.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),c.jsx("div",{className:"todo-content",onClick:()=>!O&&It&&R(!A),onDoubleClick:Nt,style:{cursor:O?"text":It?"pointer":"default"},children:O?c.jsx("input",{type:"text",value:$,onChange:k=>V(k.target.value),onBlur:kt,onKeyDown:Sn,className:"todo-edit-input",autoFocus:!0}):c.jsx("span",{className:`todo-text ${A?"expanded":""}`,children:e.text})}),(()=>{const k=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,H=e.routine_id&&Ae,oe=h||e.is_pending_routine;return(f.length>0||k||H||oe)&&c.jsxs("div",{className:"todo-badges",children:[oe&&c.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),k&&(()=>{const fe=new Date(e.completed_at).toISOString().split("T")[0],ne=new Date(e.completed_at).getDate();return c.jsxs("span",{className:"completed-date-badge",title:`${fe} `,children:[ne,""]})})(),H&&(()=>{const fe=b||e.date,ne=new Date(fe+"T00:00:00"),pe=ne.getMonth()+1,xe=ne.getDate(),At=["","","","","","",""][ne.getDay()],Js=`${pe}/${xe}(${At})`;return c.jsxs("span",{className:"routine-date-badge",title:`${Ae.text} `,children:["for ",Js]})})(),f.length>0&&c.jsx("span",{className:"todo-badge clickable",title:" ",onClick:fe=>{fe.stopPropagation(),ee?(P(!1),te(!1),L(!1)):(P(!0),te(!0),L(!1),ie(!1),ft(!1))},children:""})]})})(),!O&&!e.parent_id&&c.jsx("button",{className:"todo-more-button",onClick:k=>{k.stopPropagation(),He(!0),pn(null),gt(!1),Mt([]),tn("")},title:"",children:""}),ee&&!e.parent_id&&c.jsxs("div",{className:"subtodos-in-item",children:[f&&f.length>0&&f.map((k,H)=>c.jsx($o,{todo:k,index:H,onToggle:n,onDelete:a,onEdit:s,formatDate:i,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:u,subtodos:[],level:y+1,routines:g,onShowRoutineHistory:x,showSuccessMessage:S,onOpenRoutineSetupModal:E,onOpenHistoryModal:T,currentPageDate:b},k.id)),de&&c.jsxs("div",{className:"subtodo-input-section",children:[c.jsx("input",{type:"text",value:K,onChange:k=>Q(k.target.value),onKeyDown:k=>{k.key==="Enter"&&K.trim()&&(u(e.id,K.trim()),Q(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),c.jsx("button",{onClick:()=>{K.trim()&&(u(e.id,K.trim()),Q(""))},className:"subtodo-add-button",children:""}),c.jsx("button",{onClick:()=>{Q("")},className:"subtodo-cancel-button",children:""})]})]})]})]}),Ht&&c.jsx("div",{className:"modal-overlay",onClick:()=>He(!1),children:c.jsxs("div",{className:"actions-modal-content",onClick:k=>k.stopPropagation(),children:[c.jsxs("div",{className:"actions-modal-header",children:[c.jsx("h3",{children:" "}),c.jsx("button",{onClick:()=>He(!1),className:"modal-close-button",children:""})]}),c.jsx("div",{className:"todo-edit-section",children:c.jsx("textarea",{value:$,onChange:k=>V(k.target.value),onBlur:()=>{$.trim()!==""&&$!==e.text?s(e.id,$):$.trim()===""&&V(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),c.jsxs("div",{className:"actions-modal-body",children:[c.jsxs("div",{className:"actions-menu",children:[c.jsxs("button",{className:`action-menu-item ${Pe==="nanotodo"?"active":""}`,onClick:()=>pn("nanotodo"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${Pe==="routine"?"active":""}`,onClick:()=>{pn("routine");const k=g.find(H=>H.id===e.routine_id);k?(Mt(k.days||[]),tn(k.time_slot||""),gt(!1)):(Mt([]),tn(""),gt(!0))},children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item ${Pe==="history"?"active":""}`,onClick:()=>pn("history"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),e.routine_id&&Ae&&c.jsxs("button",{className:`action-menu-item ${Pe==="routine-stats"?"active":""}`,onClick:()=>pn("routine-stats"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:`action-menu-item delete ${Pe==="delete"?"active":""}`,onClick:()=>pn("delete"),children:[c.jsx("span",{className:"action-icon",children:""}),c.jsx("span",{children:""})]})]}),c.jsxs("div",{className:"actions-detail",children:[!Pe&&c.jsx("div",{className:"actions-detail-empty",children:c.jsx("p",{children:"  "})}),Pe==="nanotodo"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsxs("div",{className:"nanotodo-section-in-modal",children:[f&&f.length>0&&c.jsx("div",{className:"subtodo-list-in-modal",children:f.map(k=>c.jsxs("div",{className:"subtodo-item-in-modal",children:[c.jsx("input",{type:"checkbox",checked:k.completed,onChange:()=>n(k.id),className:"subtodo-checkbox-modal"}),c.jsx("span",{className:`subtodo-text-modal ${k.completed?"completed":""}`,children:k.text}),c.jsx("button",{onClick:()=>a(k.id),className:"subtodo-delete-modal",title:"",children:""})]},k.id))}),c.jsxs("div",{className:"subtodo-input-section-modal",children:[c.jsx("input",{type:"text",value:K,onChange:k=>Q(k.target.value),onKeyDown:k=>{k.key==="Enter"&&K.trim()&&(u(e.id,K.trim()),Q(""))},placeholder:" ...",className:"subtodo-input-modal"}),c.jsx("button",{onClick:()=>{K.trim()&&(u(e.id,K.trim()),Q(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),Pe==="routine"&&(()=>{const k=g.find(H=>H.id===e.routine_id);return c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{className:"routine-setup-inline",children:k&&!kn?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Os.filter(H=>k.days.includes(H.key)).map(H=>c.jsx("span",{className:"routine-day-badge",children:H.label},H.key))}),k.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",k.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:H=>{H.stopPropagation(),k&&(Mt(k.days),tn(k.time_slot||""),gt(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async H=>{H.stopPropagation(),k&&e&&(await m(e.id,e.text,[],null,!0),He(!1))},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:kn?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Os.map(H=>c.jsx("button",{onClick:oe=>{oe.stopPropagation(),sa(H.key)},className:`day-button-inline ${yt.includes(H.key)?"selected":""}`,children:H.label},H.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(jf,{value:bn,onChange:H=>tn(H)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async H=>{H.stopPropagation(),e&&(kn&&k?await m(e.id,e.text,yt,k.id,!1,bn):await m(e.id,e.text,yt,null,!1,bn),gt(!1),He(!1))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:H=>{H.stopPropagation(),gt(!1),Mt([]),tn("")},className:"routine-cancel-button",children:""})]})]})})]})})(),Pe==="history"&&(()=>{const k=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],H=k[0],oe=k.map(ne=>({id:`${e.id}-${ne}`,date:ne})),fe=Na[e.id]||[];return _n?c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:"  "}),c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:i(e.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(H?new Date(H+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),oe.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:oe.map((ne,pe)=>{const xe=ne.date===e.date,Ee=r(new Date(ne.date+"T00:00:00"));return c.jsxs("span",{children:[pe>0&&"  ",c.jsxs("span",{style:xe?{fontWeight:"bold",color:"#4CAF50"}:{},children:[Ee.split("(")[0],xe?"()":""]})]},ne.id)})})]}),(()=>{const ne=new Date(e.created_at).toISOString().split("T")[0],pe=e.date;return ne!==pe&&oe.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),fe.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",fe.length,")"]}),fe.map(ne=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[i(ne.changed_at),ne.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(ne.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:pe=>{pe.stopPropagation(),Qc(ne.id)},children:Rt.includes(ne.id)?"":""})]}),Rt.includes(ne.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ne.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:ne.new_text})]})]})]},ne.id))]})]})]})})(),Pe==="routine-stats"&&Ae&&(()=>{if(!wt||wt.id!==Ae.id||We.length===0)return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Ae.text," "]}),c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!wt||wt.id!==Ae.id?" ...":" ."})]});const k=We[0],H=new Date(k.date),oe=new Date,fe={};We.forEach(xe=>{fe[xe.date]=xe.completed});const ne=[];let pe=new Date(H);for(;pe<=oe;){const xe=pe.getFullYear(),Ee=pe.getMonth(),At=`${xe}-${Ee+1}`;ne.find(ra=>ra.key===At)||ne.push({key:At,year:xe,month:Ee,days:[]});const Js=ne.find(ra=>ra.key===At),ms=Qe(pe),Zs=pe.getDay(),Ps=ia(Zs),hr=Ae.days.includes(Ps);Js.days.push({date:new Date(pe),dateStr:ms,day:pe.getDate(),dayOfWeek:Zs,isCompleted:fe[ms]===!0,isRoutineDay:hr,hasTodo:fe[ms]!==void 0}),pe.setDate(pe.getDate()+1)}return c.jsxs("div",{className:"actions-detail-content",children:[c.jsxs("h4",{children:[" ",Ae.text," "]}),c.jsxs("div",{className:"routine-history-content",children:[c.jsx("div",{className:"routine-history-calendar",children:ne.map(xe=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[xe.year," ",xe.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),xe.days.length>0&&Array(xe.days[0].dayOfWeek).fill(null).map((Ee,At)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${At}`)),xe.days.map((Ee,At)=>{if(At>0&&Ee.day===1){const ms=6-xe.days[At-1].dayOfWeek;return c.jsxs(Dt.Fragment,{children:[Array(ms).fill(null).map((Zs,Ps)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${At}-${Ps}`)),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${Ee.isCompleted?"completed":""} ${Ee.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:Ee.day}),Ee.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]},Ee.dateStr)}return c.jsxs("div",{className:`history-day-cell ${Ee.isCompleted?"completed":""} ${Ee.isRoutineDay?"":"not-routine-day"}`,title:`${Ee.dateStr}${Ee.isRoutineDay?"":" (  )"}${Ee.isCompleted?" - ":Ee.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:Ee.day}),Ee.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},Ee.dateStr)})]})]},xe.key))}),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[We.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[We.filter(xe=>xe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[We.filter(xe=>!xe.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[We.length>0?Math.round(We.filter(xe=>xe.completed).length/We.length*100):0,"%"]})]})]})]})]})})(),Pe==="delete"&&c.jsxs("div",{className:"actions-detail-content",children:[c.jsx("h4",{children:" "}),c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:e.text})}),(()=>{var fe;const k=((fe=e.visible_dates)==null?void 0:fe.length)>0?e.visible_dates:[e.date||e.created_date],H=e.original_todo_id!==null&&e.original_todo_id!==void 0;return e.routine_id!==null&&e.routine_id!==void 0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(` ?
   .`)&&(await Aa(e),He(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-future",onClick:async()=>{window.confirm(`  ?
  .`)&&(await Da(e),He(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"    ( )"})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{window.confirm(`    ?
  .`)&&(await fr(e),He(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"++  "})]})]})]})]}):k.length>1||H?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:async()=>{window.confirm(`  ?
   .`)&&(await Aa(e),He(!1))},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Ks(e),He(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"delete-confirm-description",children:"   ?"}),c.jsx("div",{className:"delete-options-simple",children:c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:async()=>{await Ks(e),He(!1)},children:[c.jsx("span",{className:"option-icon",children:""}),c.jsxs("div",{className:"option-content",children:[c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:" "})]})]})})]})})()]})]})]})]})})]})}const xy=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function hO(){const[e,t]=w.useState([]),[n,a]=w.useState(""),[s,i]=w.useState(""),[r,l]=w.useState(""),[o,u]=w.useState(!0),[f,y]=w.useState(!1),[m,g]=w.useState(!1),[x,E]=w.useState(new Date),[T,b]=w.useState(null),[h,v]=w.useState(!1),[S,A]=w.useState(!1),[R,O]=w.useState(""),[U,$]=w.useState(null),[V,I]=w.useState(!1),[P,ee]=w.useState([]),te=(d,p=null)=>(O(d),$(p),A(!0),setTimeout(()=>{A(!1),O(""),$(null)},5e3)),de=async()=>{if(U)try{const{type:d,todoId:p,routineId:_,hiddenDate:C,wasDeleted:N}=U;if(d==="hideOnDate"){const{data:j,error:M}=await q.from("todos").select("*").eq("id",p).single();if(M)throw M;let B={hidden_dates:(j.hidden_dates||[]).filter(Y=>Y!==C)};N&&(B.deleted=!1,B.deleted_date=null);const{error:G}=await q.from("todos").update(B).eq("id",p);if(G)throw G}else if(d==="stopRoutineFromToday"){const{error:j}=await q.from("routines").update({deleted:!1}).eq("id",_);if(j)throw j;const{data:M,error:D}=await q.from("todos").select("*").eq("id",p).single();if(D)throw D;const B=(M.hidden_dates||[]).filter(Y=>Y!==C),{error:G}=await q.from("todos").update({hidden_dates:B}).eq("id",p);if(G)throw G}else if(d==="deleteRoutineCompletely"){const{error:j}=await q.from("routines").update({deleted:!1}).eq("id",_);if(j)throw j;const{error:M}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",p);if(M)throw M}A(!1),O(""),$(null),Ra()}catch(d){console.error("  :",d.message),alert("   .")}},[L,K]=w.useState(null),[Q,me]=w.useState(!1),[ie,ut]=w.useState([]),[Me,dt]=w.useState(""),[it,Ct]=w.useState([]),[ft,Oa]=w.useState(""),[qt,Rt]=w.useState(!1),[ve,ht]=w.useState(!1),mt=w.useRef(new Set),[vn,en]=w.useState(null),[Ht,He]=w.useState(""),[Pe,pn]=w.useState(!1),[kn,gt]=w.useState(null),[yt,Mt]=w.useState([]),[bn,tn]=w.useState([]),[Na,ds]=w.useState([]),[_n,nn]=w.useState(!1),[wt,Is]=w.useState(!1),[We,fs]=w.useState(!1),[Ae,Yt]=w.useState(""),[ea,ta]=w.useState(!1),[Un,na]=w.useState(!1),[hs,wn]=w.useState(""),[aa,Ye]=w.useState(!1),Ke=w.useRef(null),[Ot,zn]=w.useState(!1),[Xe,Fe]=w.useState([{id:Date.now()+Math.random(),type:"toggle",content:"",children:[],isOpen:!0}]),[Vt,Gt]=w.useState(null),[Ve,It]=w.useState(!1),[Nt,kt]=w.useState([]),[Sn,sa]=w.useState("1week"),[Qe,ia]=w.useState([]),[Aa,Ks]=w.useState(!1),[Da,fr]=w.useState(""),[Ul,Xs]=w.useState(null),[Ca,Qs]=w.useState(""),[Qc,k]=w.useState(!1),[H,oe]=w.useState(""),[fe,ne]=w.useState(!1),[pe,xe]=w.useState(!1),[Ee,At]=w.useState(null),[Js,ms]=w.useState({}),[Zs,Ps]=w.useState([]),[hr,ra]=w.useState([]),[Jc,zl]=w.useState(!1),[Zc,mr]=w.useState(""),[In,n_]=w.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Ws,Fs]=w.useState(!1),[Gh,$l]=w.useState(["memo","routine","normal","key-thoughts"]),Pc=w.useRef(new Set),Wc=w.useRef(!1),ei=w.useRef(null),[a_,s_]=w.useState(0),Fc=w.useRef(null),[i_,gr]=w.useState(!1),[Bl,eu]=w.useState(null),ke=d=>{const p=d.getFullYear(),_=String(d.getMonth()+1).padStart(2,"0"),C=String(d.getDate()).padStart(2,"0");return`${p}-${_}-${C}`},Kn=d=>{const p=String(d.getFullYear()).slice(2),_=String(d.getMonth()+1).padStart(2,"0"),C=String(d.getDate()).padStart(2,"0"),j=["","","","","","",""][d.getDay()];return`${p}.${_}.${C}(${j})`},Ih=d=>{const p=new Date;return ke(d)===ke(p)},Ll=()=>{if(Qe.length===0)return"";const d=Math.floor(Math.random()*Qe.length);return Qe[d]},r_=()=>{k(!0);let d=Ll(),p=0;for(;d===H&&Qe.length>1&&p<10;)d=Ll(),p++;setTimeout(()=>{k(!1),oe(d)},1e3)},gs=d=>{const p=new Date(d),_=String(p.getFullYear()).slice(2),C=String(p.getMonth()+1).padStart(2,"0"),N=String(p.getDate()).padStart(2,"0"),j=String(p.getHours()).padStart(2,"0"),M=String(p.getMinutes()).padStart(2,"0"),B=["","","","","","",""][p.getDay()];return`${_}.${C}.${N}(${B}) ${j}:${M}`},l_=async()=>{try{const d=`DUMMY-${Date.now()}`,p=new Date(2025,10,16),_=[],C=[],N="2025-11-14";_.push({text:`[${d}] : 14--`,date:N,completed:!1,created_at:"2025-11-14T09:00:00Z",order_index:1001},{text:`[${d}] : 14-14`,date:N,completed:!0,created_at:"2025-11-14T09:10:00Z",order_index:1002},{text:`[${d}] : 14-15`,date:N,completed:!0,created_at:"2025-11-14T09:20:00Z",order_index:1003},{text:`[${d}] : 14-16`,date:N,completed:!0,created_at:"2025-11-14T09:30:00Z",order_index:1004});const j="2025-11-15";_.push({text:`[${d}] : 15--`,date:j,completed:!1,created_at:"2025-11-15T10:00:00Z",order_index:1005},{text:`[${d}] : 15-15`,date:j,completed:!0,created_at:"2025-11-15T10:10:00Z",order_index:1006},{text:`[${d}] : 15-16`,date:j,completed:!0,created_at:"2025-11-15T10:20:00Z",order_index:1007});const M="2025-11-16";_.push({text:`[${d}] : 16-`,date:M,completed:!1,created_at:"2025-11-16T11:00:00Z",order_index:1008},{text:`[${d}] : 16-16`,date:M,completed:!0,created_at:"2025-11-16T11:10:00Z",order_index:1009}),_.push({text:`[${d}] : 14-15-`,date:j,completed:!1,created_at:"2025-11-14T14:00:00Z",order_index:1010},{text:`[${d}] : 14-15-15`,date:j,completed:!0,created_at:"2025-11-14T14:10:00Z",order_index:1011}),_.push({text:`[${d}] : 15-16-`,date:M,completed:!1,created_at:"2025-11-15T15:00:00Z",order_index:1012},{text:`[${d}] : 15-16-16`,date:M,completed:!0,created_at:"2025-11-15T15:10:00Z",order_index:1013},{text:`[${d}] : 14-16-`,date:M,completed:!1,created_at:"2025-11-14T15:00:00Z",order_index:1014},{text:`[${d}] : 14-16-16`,date:M,completed:!0,created_at:"2025-11-14T15:10:00Z",order_index:1015});const D="2025-11-17";_.push({text:`[${d}] : 16-17-`,date:D,completed:!1,created_at:"2025-11-16T16:00:00Z",order_index:1016},{text:`[${d}] : 15-17-`,date:D,completed:!1,created_at:"2025-11-15T16:00:00Z",order_index:1017},{text:`[${d}] : 14-17-`,date:D,completed:!1,created_at:"2025-11-14T16:00:00Z",order_index:1018});const B="2025-11-18";_.push({text:`[${d}] : 16-18-`,date:B,completed:!1,created_at:"2025-11-16T17:00:00Z",order_index:1019},{text:`[${d}] : 15-18-`,date:B,completed:!1,created_at:"2025-11-15T17:00:00Z",order_index:1020});const{data:G,error:Y}=await q.from("todos").insert(_).select();if(Y)throw Y;const Z=G.find(ae=>ae.text.includes("14--"));Z&&C.push({todo_id:Z.id,previous_text:`[${d}] : 14--1`,new_text:`[${d}] : 14--2`,changed_at:"2025-11-15T12:00:00Z",changed_on_date:j},{todo_id:Z.id,previous_text:`[${d}] : 14--2`,new_text:`[${d}] : 14--`,changed_at:"2025-11-16T12:00:00Z",changed_on_date:M});const be=G.find(ae=>ae.text.includes("15--"));if(be&&C.push({todo_id:be.id,previous_text:`[${d}] : 15--1`,new_text:`[${d}] : 15--`,changed_at:"2025-11-16T13:00:00Z",changed_on_date:M}),C.length>0){const{error:ae}=await q.from("todo_history").insert(C);ae&&console.error("  :",ae.message)}ds(ae=>[...ae,{sessionId:d,createdAt:new Date().toISOString(),count:_.length,historyCount:C.length}]),alert(`    !
: ${_.length}
: ${C.length}
 ID: ${d}`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},o_=async d=>{if(window.confirm(`   "${d}"   ?

      ,     .`))try{const{data:_,error:C}=await q.from("todos").select("id").like("text",`[${d}]%`);if(C)throw C;if(_&&_.length>0){const j=_.map(D=>D.id),{error:M}=await q.from("todo_history").delete().in("todo_id",j);M&&console.error("  :",M.message)}const{error:N}=await q.from("todos").delete().like("text",`[${d}]%`);if(N)throw N;ds(j=>j.filter(M=>M.sessionId!==d)),alert(`  ${d}  !`),Ra()}catch(_){console.error("   :",_.message),alert("    : "+_.message)}},c_=async()=>{if(window.confirm(`     ?

      ,     .`))try{const{data:p,error:_}=await q.from("todos").select("id").like("text","[DUMMY-%");if(_)throw _;if(p&&p.length>0){const N=p.map(M=>M.id),{error:j}=await q.from("todo_history").delete().in("todo_id",N);j&&console.error("  :",j.message)}const{error:C}=await q.from("todos").delete().like("text","[DUMMY-%");if(C)throw C;ds([]),alert("     !"),Ra()}catch(p){console.error("    :",p.message),alert("     : "+p.message)}},u_=async()=>{try{const{data:d,error:p}=await q.from("todos").select("*").eq("deleted",!1).order("created_at",{ascending:!0});if(p)throw p;if(!d||d.length===0){alert(" .");return}const _={};d.forEach(Y=>{_[Y.text]||(_[Y.text]=[]),_[Y.text].push(Y)});const C=Object.entries(_).filter(([Y,Z])=>Z.length>1);if(C.length===0){alert("  .");return}let N=`  :

`,j=[];if(C.forEach(([Y,Z])=>{N+=`"${Y}" - ${Z.length}
`;const be=Z.slice(1);j.push(...be),be.forEach(_e=>{const an=new Date(_e.created_at).toLocaleString("ko-KR");N+=`    : ${an}
`});const ae=Z[0],le=new Date(ae.created_at).toLocaleString("ko-KR");N+=`   : ${le}

`}),N+=`
 ${j.length}   .`,!window.confirm(N+`

     ,     .

?`))return;const D=j.map(Y=>Y.id),{error:B}=await q.from("todo_history").delete().in("todo_id",D);B&&console.error("  :",B.message);const{error:G}=await q.from("todos").delete().in("id",D);if(G)throw G;alert(` ${j.length}   .`),Ra()}catch(d){console.error("   :",d.message),alert("    : "+d.message)}},d_=()=>{const d=new Date(x);d.setDate(d.getDate()-1),E(d)},f_=()=>{const d=new Date(x);d.setDate(d.getDate()+1),E(d)},h_=d=>{const p=new Date(d.target.value+"T00:00:00");E(p)},m_=async(d,p)=>{try{const _=ke(d),C=ke(p),{data:N,error:j}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if(j)throw j;const M=(N||[]).filter(D=>D.hidden_dates&&Array.isArray(D.hidden_dates)&&D.hidden_dates.includes(_)?!1:D.visible_dates&&Array.isArray(D.visible_dates)&&D.visible_dates.length>0?D.visible_dates.includes(_):D.date===_);if(M.length===0)return;for(const D of M){let B=D.visible_dates||[D.date];if(B.includes(C))continue;const G=[...B,C].sort(),{error:Y}=await q.from("todos").update({visible_dates:G}).eq("id",D.id);Y&&console.error(` ${D.id}  :`,Y.message)}}catch(_){console.error("   :",_.message)}},Kh=async()=>{try{const{data:d,error:p}=await q.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(p)throw p;ut(d||[])}catch(d){console.error("  :",d.message)}},g_=async()=>{if(!(Me.trim()===""||qt))try{Rt(!0);const d={text:Me,days:it,start_date:ke(x)};ft&&(d.time_slot=ft);const{data:p,error:_}=await q.from("routines").insert([d]).select();if(_)throw _;ut([p[0],...ie]),dt(""),Ct([]),Oa("")}catch(d){console.error("  :",d.message)}finally{Rt(!1)}},ti=async(d,p,_,C=null,N=!1,j="",M=null)=>{try{if(N){const{error:D}=await q.from("todos").update({routine_id:null}).eq("id",d);if(D)throw D;t(B=>B.map(G=>G.id===d?{...G,routine_id:null}:G));return}if(C){const{error:D}=await q.from("routines").update({days:_,time_slot:j}).eq("id",C);if(D)throw D;const{error:B}=await q.from("todos").update({is_pending_routine:_.length===0}).eq("id",d);if(B)throw B;ut(G=>G.map(Y=>Y.id===C?{...Y,days:_,time_slot:j}:Y)),t(G=>G.map(Y=>Y.id===d?{...Y,is_pending_routine:_.length===0}:Y))}else{const D={text:p,days:_,time_slot:j,start_date:M||ke(x)},{data:B,error:G}=await q.from("routines").insert([D]).select();if(G)throw G;const{error:Y}=await q.from("todos").update({routine_id:B[0].id,is_pending_routine:_.length===0}).eq("id",d);if(Y)throw Y;t(Z=>Z.map(be=>be.id===d?{...be,routine_id:B[0].id,is_pending_routine:_.length===0}:be)),ut(Z=>[B[0],...Z])}}catch(D){console.error("  :",D.message)}},y_=d=>{en(d.id),He(d.text),tn(d.days)},Xh=()=>{en(null),He(""),tn([])},v_=async()=>{if(!(!vn||Ht.trim()===""||bn.length===0))try{const{error:d}=await q.from("routines").update({text:Ht.trim(),days:bn}).eq("id",vn);if(d)throw d;ut(ie.map(p=>p.id===vn?{...p,text:Ht.trim(),days:bn}:p)),Xh()}catch(d){console.error("  :",d.message)}},p_=d=>{tn(p=>p.includes(d)?p.filter(_=>_!==d):[...p,d])},b_=async d=>{const p=ie.find(N=>N.id===d),_=p?p.text:" ";if(window.confirm(`  "${_}"() ?

    ,     .
(   )`))try{const{error:N}=await q.from("routines").update({deleted:!0}).eq("id",d);if(N)throw N;const{error:j}=await q.from("todos").update({routine_id:null}).eq("routine_id",d);j&&console.error("  ID  :",j.message),ut(ie.filter(M=>M.id!==d)),t(M=>M.map(D=>D.routine_id===d?{...D,routine_id:null}:D))}catch(N){console.error("  :",N.message)}},__=async d=>{if(!Wc.current)try{Wc.current=!0;const{data:p,error:_}=await q.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(_)throw _;if(!p||p.length===0)return;const C=p.filter(N=>{const j=new Date(N.created_at);return!(ke(j)>=d||(N.visible_dates||[]).includes(d)||(N.hidden_dates||[]).includes(d))});for(const N of C){const j=[...N.visible_dates||[],d],{error:M}=await q.from("todos").update({visible_dates:j}).eq("id",N.id);M&&console.error(` ${N.id}  :`,M.message)}}catch(p){console.error("  :",p.message)}finally{Wc.current=!1}},Qh=async d=>{if(!Pc.current.has(d))try{Pc.current.add(d);const p=new Date(d),_=xy(p.getDay()),{data:C,error:N}=await q.from("routines").select("*").eq("deleted",!1);if(N)throw N;const j=C.filter(M=>{const D=M.days||[],B=D.length===0||D.includes(_);if(M.start_date){const G=new Date(M.start_date),Y=p>=G;return B&&Y}return B});if(j.length===0)return;for(const M of j){const D=M.text,{data:B,error:G}=await q.from("todos").select("*").eq("routine_id",M.id).eq("deleted",!1);if(G)throw G;if(B&&B.length>1){console.warn(` ${M.id}    (${B.length}).     .`);for(let Z=1;Z<B.length;Z++)await q.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",B[Z].id)}const Y=B&&B.length>0?B[0]:null;if(Y){const Z=Y.visible_dates||[];if(Z.includes(d))continue;const be=[...Z,d].sort(),{error:ae}=await q.from("todos").update({visible_dates:be}).eq("id",Y.id);ae&&console.error("    :",ae.message)}else{const{error:Z}=await q.from("todos").insert([{text:D,completed:!1,date:d,visible_dates:[d],hidden_dates:[],order_index:0,routine_id:M.id}]);Z&&console.error("   :",Z.message)}}}catch(p){console.error("   :",p.message)}finally{setTimeout(()=>{Pc.current.delete(d)},1e3)}},w_=async()=>{const p=ke(new Date);await Qh(p)},ql=async d=>{try{const{data:p,error:_}=await q.from("todos").select("*").eq("routine_id",d.id).eq("deleted",!1);if(_)throw _;const C=p&&p.length>0?p[0]:null;if(C&&C.visible_dates){const N=C.visible_dates.sort().map(j=>({id:`${C.id}-${j}`,date:j,text:C.text,completed:C.completed,routine_id:C.routine_id}));Mt(N)}else Mt([]);gt(d),pn(!0)}catch(p){console.error("   :",p.message),alert("   : "+p.message)}},Jh=()=>{pn(!1),gt(null),Mt([])},S_=()=>{me(!0),Kh()},Zh=()=>{me(!1),dt(""),Ct([])},x_=d=>{Ct(p=>p.includes(d)?p.filter(_=>_!==d):[...p,d])};w.useEffect(()=>{let d=null;const p=()=>{document.body.classList.add("is-scrolling"),d&&clearTimeout(d),d=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p),d&&clearTimeout(d)}},[]),w.useEffect(()=>{Kh()},[]),w.useEffect(()=>{Hl()},[]),w.useEffect(()=>{am()},[]),w.useEffect(()=>{G_()},[]),w.useEffect(()=>{const d=setTimeout(()=>{Xe.length>0&&I_()},1e3);return()=>clearTimeout(d)},[Xe]),w.useEffect(()=>{K_()},[]),w.useEffect(()=>{Qe.length>0&&!H&&oe(Ll())},[Qe]),w.useEffect(()=>{if(!ei.current)return;const d=ei.current,p=In==="horizontal";let _=!1,C=0,N=0,j=0;const M=Z=>{Z.target.closest(".section-block")||(_=!0,C=p?Z.pageX:Z.pageY,N=p?d.scrollLeft:d.scrollTop,d.style.transition="none",d.style.transform=p?"translateX(0)":"translateY(0)",j=0)},D=()=>{_&&j!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=p?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",j=0},300)),_=!1},B=()=>{j!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform=p?"translateX(0)":"translateY(0)",setTimeout(()=>{d.style.transition="none",j=0},300)),_=!1},G=Z=>{if(!_)return;Z.preventDefault();const ae=((p?Z.pageX:Z.pageY)-C)*1.5,le=N-ae,_e=p?d.scrollWidth-d.clientWidth:d.scrollHeight-d.clientHeight;if(le<0){const an=-le;j=Math.min(an*.3,100),p?(d.scrollLeft=0,d.style.transform=`translateX(${j}px)`):(d.scrollTop=0,d.style.transform=`translateY(${j}px)`)}else if(le>_e){const an=le-_e;j=-Math.min(an*.3,100),p?(d.scrollLeft=_e,d.style.transform=`translateX(${j}px)`):(d.scrollTop=_e,d.style.transform=`translateY(${j}px)`)}else j=0,d.style.transform=p?"translateX(0)":"translateY(0)",p?d.scrollLeft=le:d.scrollTop=le},Y=Z=>{p&&Z.target.closest(".section-block")&&Z.deltaX!==0&&Z.preventDefault()};return d.addEventListener("mousedown",M),document.addEventListener("mouseup",B),document.addEventListener("mouseleave",D),d.addEventListener("mousemove",G),d.addEventListener("wheel",Y,{passive:!1}),()=>{d.removeEventListener("mousedown",M),document.removeEventListener("mouseup",B),document.removeEventListener("mouseleave",D),d.removeEventListener("mousemove",G),d.removeEventListener("wheel",Y)}},[In,e,ie]),w.useEffect(()=>{if(In!=="horizontal"||!ei.current)return;const d=ei.current,p=()=>{const _=d.querySelectorAll(".section-block");if(_.length===0)return;const C=d.getBoundingClientRect(),N=C.left+C.width/2;let j=0,M=1/0;_.forEach((D,B)=>{const G=D.getBoundingClientRect(),Y=G.left+G.width/2,Z=Math.abs(Y-N);Z<M&&(M=Z,j=B)}),s_(j)};return d.addEventListener("scroll",p),p(),()=>d.removeEventListener("scroll",p)},[In,e,ie]),w.useEffect(()=>{if(!Fc.current)return;const d=Fc.current;let p=!1,_=0,C=0,N=0;const j=G=>{G.target.closest(".section-block")||(p=!0,_=G.pageY,C=d.scrollTop,d.style.transition="none",d.style.transform="translateY(0)",N=0)},M=()=>{p&&N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),p=!1},D=()=>{N!==0&&(d.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",d.style.transform="translateY(0)",setTimeout(()=>{d.style.transition="none",N=0},300)),p=!1},B=G=>{if(!p)return;G.preventDefault();const Z=(G.pageY-_)*1.5,be=C-Z,ae=d.scrollHeight-d.clientHeight;if(be<0){const le=-be;N=Math.min(le*.3,100),d.scrollTop=0,d.style.transform=`translateY(${N}px)`}else if(be>ae){const le=be-ae;N=-Math.min(le*.3,100),d.scrollTop=ae,d.style.transform=`translateY(${N}px)`}else N=0,d.style.transform="translateY(0)",d.scrollTop=be};return d.addEventListener("mousedown",j),document.addEventListener("mouseup",D),document.addEventListener("mouseleave",M),d.addEventListener("mousemove",B),()=>{d.removeEventListener("mousedown",j),document.removeEventListener("mouseup",D),document.removeEventListener("mouseleave",M),d.removeEventListener("mousemove",B)}},[e,ie]),w.useEffect(()=>{Ve&&tm()},[Sn]),w.useEffect(()=>{const d=async()=>{const _=new Date,C=new Date(_);C.setHours(24,0,0,0);const N=C.getTime()-_.getTime();return setTimeout(async()=>{const M=new Date(_),D=new Date(_);D.setDate(D.getDate()+1),await m_(M,D),await w_(),E(new Date),d()},N)},p=d();return()=>clearTimeout(p)},[]),w.useEffect(()=>{Ra();const d=ke(x),p=q.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${d}`},_=>{_.eventType==="INSERT"?t(C=>C.some(j=>j.id===_.new.id)?C:[...C,_.new].sort((j,M)=>j.order_index-M.order_index)):_.eventType==="UPDATE"?t(C=>mt.current.has(_.new.id)?C:C.map(N=>N.id===_.new.id?_.new:N).sort((N,j)=>N.order_index-j.order_index)):_.eventType==="DELETE"&&t(C=>C.filter(N=>N.id!==_.old.id))}).subscribe(_=>{});return()=>{q.removeChannel(p)}},[x]),w.useEffect(()=>{if(f){const d=window.scrollY,p=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",p>0&&(document.body.style.paddingRight=`${p}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,d)}}},[f]);const Hl=async()=>{try{const{data:d,error:p}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(p)throw p;if(d&&d.length>0){const _=d.map(C=>C.message);ia(_),H||oe(_[0])}}catch(d){console.error("   :",d.message)}},Ph=async d=>{try{const{data:p}=await q.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),_=p&&p.length>0?p[0].order_index:0,{error:C}=await q.from("encouragement_messages").insert([{message:d,order_index:_+1}]);if(C)throw C;await Hl()}catch(p){console.error("   :",p.message),alert("   .")}},E_=async(d,p)=>{try{const{data:_}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!_||d>=_.length)throw new Error("   .");const C=_[d],{error:N}=await q.from("encouragement_messages").update({message:p}).eq("id",C.id);if(N)throw N;await Hl()}catch(_){console.error("   :",_.message),alert("   .")}},T_=async d=>{try{const{data:p}=await q.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!p||d>=p.length)throw new Error("   .");const _=p[d],{error:C}=await q.from("encouragement_messages").delete().eq("id",_.id);if(C)throw C;await Hl()}catch(p){console.error("   :",p.message),alert("   .")}},Ra=async()=>{try{u(!0);const d=ke(x);Ih(x)&&await __(d),await Qh(d);const{data:p,error:_}=await q.from("todos").select("*").eq("deleted",!1).order("order_index",{ascending:!0});if(_)throw _;const C=(p||[]).filter(N=>N.hidden_dates&&Array.isArray(N.hidden_dates)&&N.hidden_dates.includes(d)?!1:N.visible_dates&&Array.isArray(N.visible_dates)&&N.visible_dates.length>0?N.visible_dates.includes(d):N.date===d);t(C)}catch(d){console.error("   :",d.message)}finally{u(!1)}},j_=async()=>{try{const{data:d,error:p}=await q.from("todos").select("*").eq("deleted",!0).order("deleted_date",{ascending:!1});if(p)throw p;ee(d||[])}catch(d){console.error("  :",d.message)}},O_=async()=>{if(!(s.trim()===""||m))try{g(!0);const d=ke(x),{data:p,error:_}=await q.from("routines").insert([{text:s,days:[],start_date:d}]).select();if(_)throw _;const C=p[0],N=e.filter(B=>!B.parent_id&&B.is_pending_routine),j=N.length>0?Math.max(...N.map(B=>B.order_index))+1:1,{data:M,error:D}=await q.from("todos").insert([{text:s,completed:!1,order_index:j,date:d,visible_dates:[d],hidden_dates:[],routine_id:C.id,is_pending_routine:!0}]).select();if(D)throw D;ut([C,...ie]),t([...e,M[0]]),i("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},N_=async()=>{if(!(r.trim()===""||m))try{g(!0);const d=e.filter(j=>!j.parent_id&&j.routine_id===null),p=d.length>0?Math.max(...d.map(j=>j.order_index))+1:1,_=ke(x),{data:C,error:N}=await q.from("todos").insert([{text:r,completed:!1,order_index:p,date:_,visible_dates:[_],hidden_dates:[]}]).select();if(N)throw N;t([...e,C[0]]),l("")}catch(d){console.error("   :",d.message)}finally{g(!1)}},tu=async d=>{const p=e.find(_=>_.id===d);if(p)try{const _=!p.completed,C=_?new Date().toISOString():null,{error:N}=await q.from("todos").update({completed:_,completed_at:C}).eq("id",d);if(N)throw N;t(e.map(j=>j.id===d?{...j,completed:_,completed_at:C}:j))}catch(_){console.error("   :",_.message)}},nu=d=>{t(e.filter(p=>p.id!==d))},au=async d=>{var N;const p=e.find(j=>j.id===d);if(!p)return;const _=((N=p.visible_dates)==null?void 0:N.length)>0?p.visible_dates:[p.date||p.created_date],C=p.original_todo_id!==null&&p.original_todo_id!==void 0;_.length>1||C?(eu(p),gr(!0)):await A_(d)},A_=async d=>{try{const p=e.find(N=>N.id===d);if(!p)return;b(p);const _=ke(x),{error:C}=await q.from("todos").update({deleted:!0,deleted_date:_}).eq("id",d);if(C)throw C;t(e.filter(N=>N.id!==d)),v(!0),setTimeout(()=>{v(!1),b(null)},5e3)}catch(p){console.error("   :",p.message)}},D_=async d=>{try{const p=ke(x),C=[...d.hidden_dates||[],p],{error:N}=await q.from("todos").update({hidden_dates:C}).eq("id",d.id);if(N)throw N;t(e.filter(j=>j.id!==d.id)),gr(!1),eu(null)}catch(p){console.error(" :",p.message)}},C_=async d=>{try{const p=ke(x),{error:_}=await q.from("todos").update({deleted:!0,deleted_date:p}).eq("id",d.id);if(_)throw _;t(e.filter(C=>C.id!==d.id)),gr(!1),eu(null)}catch(p){console.error(" :",p.message)}},R_=async()=>{if(T)try{const{error:d}=await q.from("todos").update({deleted:!1,deleted_date:null}).eq("id",T.id);if(d)throw d;t(p=>{const _={...T,deleted:!1,deleted_date:null};return[...p,_].sort((N,j)=>N.order_index-j.order_index)}),v(!1),b(null)}catch(d){console.error("  :",d.message)}},M_=async d=>{if(window.confirm(`  ?

      .`))try{const{error:_}=await q.from("todos").update({deleted:!1,deleted_date:null,hidden_dates:[]}).eq("id",d);if(_)throw _;ee(P.filter(C=>C.id!==d)),Ra(),alert(" !")}catch(_){console.error(" :",_.message),alert("  : "+_.message)}},k_=async d=>{if(window.confirm(`     ?

    .`))try{const{error:_}=await q.from("todos").delete().eq("id",d);if(_)throw _;ee(P.filter(C=>C.id!==d)),alert("  .")}catch(_){console.error("  :",_.message),alert("   : "+_.message)}},U_=async()=>{if(!(P.length===0||!window.confirm(`   ?

${P.length}   .
    .`)))try{const p=P.map(C=>C.id),{error:_}=await q.from("todos").delete().in("id",p);if(_)throw _;ee([]),alert(` ${p.length}   .`)}catch(p){console.error("  :",p.message),alert("   : "+p.message)}},z_=()=>{I(!0),j_()},Wh=()=>{I(!1)},$_=async()=>{It(!0),await tm()},Fh=()=>{It(!1),kt([])},su=async d=>{At(d);try{const{data:p,error:_}=await q.from("todo_history").select("*").eq("todo_id",d.id).order("changed_at",{ascending:!1});if(_)throw _;ms(C=>({...C,[d.id]:p||[]}))}catch(p){console.error("Error fetching history:",p)}ne(!0)},em=()=>{ne(!1),At(null),Ps([])},B_=d=>{Ps(p=>p.includes(d)?p.filter(_=>_!==d):[...p,d])},iu=d=>{At(d);const p=ie.find(_=>_.id===d.routine_id);p?(ra(p.days||[]),mr(p.time_slot||""),zl(!1)):(ra([]),mr(""),zl(!0)),xe(!0)},yr=()=>{xe(!1),At(null),ra([]),mr(""),zl(!1)},L_=d=>{ra(p=>p.includes(d)?p.filter(_=>_!==d):[...p,d])},tm=async()=>{try{const d=new Date,p=ke(d);let _=null;if(Sn!=="all")switch(_=new Date(d),Sn){case"1week":_.setDate(d.getDate()-7);break;case"2weeks":_.setDate(d.getDate()-14);break;case"1month":_.setMonth(d.getMonth()-1);break;case"3months":_.setMonth(d.getMonth()-3);break;case"6months":_.setMonth(d.getMonth()-6);break}let C=q.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});_&&(C=C.gte("date",ke(_)));const{data:N,error:j}=await C;if(j)throw j;const M={};for(const B of N||[]){const G=B.original_todo_id||B.id;M[G]||(M[G]=[]),M[G].push(B)}const D=Object.entries(M).map(([B,G])=>{const Y=G.sort((_e,an)=>new Date(_e.date)-new Date(an.date)),Z=Y[0],be=Y.map(_e=>_e.date);let ae=null;for(const _e of Y)if(_e.completed&&_e.completed_at){const an=new Date(_e.completed_at);ae=ke(an);break}const le=Y.find(_e=>_e.date===p);return{text:Z.text,originalId:parseInt(B),createdAt:Z.created_at,startDate:be[0],endDate:be[be.length-1],dates:be,completed:(le==null?void 0:le.completed)||!1,completedDate:ae}}).sort((B,G)=>new Date(B.createdAt)-new Date(G.createdAt));kt(D)}catch(d){console.error("   :",d.message)}},q_=async()=>{fs(!0),await am()},nm=()=>{fs(!1),ta(!1),Yt(hs)},am=async()=>{try{const{data:d,error:p}=await q.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(p)throw p;const _=d&&d.length>0?d[0].content:id;Yt(_),wn(_)}catch(d){console.error("   :",d.message),Yt(id),wn(id)}},H_=()=>{ta(!0)},Y_=()=>{Ye(!0),wn(Ae),setTimeout(()=>{Ke.current&&Ke.current.focus()},0)},sm=async()=>{if(!Un)try{na(!0);const{data:d}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);d&&d.length>0?await q.from("spec_memos").update({content:Ae,updated_at:new Date().toISOString()}).eq("id",d[0].id):await q.from("spec_memos").insert([{content:Ae}]),wn(Ae),Ye(!1)}catch(d){console.error("  :",d.message),alert("  .")}finally{na(!1)}},im=()=>{Yt(hs),Ye(!1)},V_=d=>{(d.metaKey||d.ctrlKey)&&d.key==="s"&&(d.preventDefault(),sm()),d.key==="Escape"&&(d.preventDefault(),im())},Yl=d=>Array.isArray(d)?d.map(p=>({...p,children:Array.isArray(p.children)?Yl(p.children):[]})):[],G_=async()=>{try{const{data:d,error:p}=await q.from("user_settings").select("setting_value").eq("setting_key","key_thoughts_blocks").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}if(d&&d.setting_value){const _=Yl(JSON.parse(d.setting_value));Fe(_),localStorage.setItem("keyThoughtsBlocks",JSON.stringify(_))}else{const _=localStorage.getItem("keyThoughtsBlocks");_&&Fe(Yl(JSON.parse(_)))}}catch(d){console.error("   :",d.message);const p=localStorage.getItem("keyThoughtsBlocks");p&&Fe(Yl(JSON.parse(p)))}},I_=async()=>{try{localStorage.setItem("keyThoughtsBlocks",JSON.stringify(Xe));const{data:d,error:p}=await q.from("user_settings").select("id").eq("setting_key","key_thoughts_blocks").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}d?await q.from("user_settings").update({setting_value:JSON.stringify(Xe)}).eq("setting_key","key_thoughts_blocks"):await q.from("user_settings").insert([{setting_key:"key_thoughts_blocks",setting_value:JSON.stringify(Xe)}])}catch(d){console.error("   :",d.message)}},K_=async()=>{try{const{data:d,error:p}=await q.from("user_settings").select("setting_value").eq("setting_key","section_order").single();if(p&&p.code!=="PGRST116"){console.error("   :",p.message);return}if(d&&d.setting_value){const _=JSON.parse(d.setting_value);$l(_),localStorage.setItem("sectionOrder",JSON.stringify(_))}else{const _=localStorage.getItem("sectionOrder");_&&$l(JSON.parse(_))}}catch(d){console.error("   :",d.message);const p=localStorage.getItem("sectionOrder");p&&$l(JSON.parse(p))}},X_=async d=>{try{localStorage.setItem("sectionOrder",JSON.stringify(d));const{data:p,error:_}=await q.from("user_settings").select("id").eq("setting_key","section_order").single();_&&_.code!=="PGRST116"&&console.error("   :",_.message),p?await q.from("user_settings").update({setting_value:JSON.stringify(d),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await q.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(d)}])}catch(p){console.error("   :",p.message)}},Q_=async()=>{if(!Un)try{na(!0);const{data:d,error:p}=await q.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);if(p)throw p;if(d&&d.length>0){const{error:_}=await q.from("spec_memos").update({content:Ae,updated_at:new Date().toISOString()}).eq("id",d[0].id);if(_)throw _}else{const{error:_}=await q.from("spec_memos").insert([{content:Ae}]);if(_)throw _}wn(Ae),ta(!1)}catch(d){console.error("  :",d.message)}finally{na(!1)}},J_=()=>{Yt(hs),ta(!1)},ru=d=>{K(L===d?null:d)},lu=async(d,p)=>{if(!(!p||p.trim()===""))try{const C=e.filter(D=>D.parent_id===d).length+1,N=ke(x),{data:j,error:M}=await q.from("todos").insert([{text:p.trim(),completed:!1,order_index:C,date:N,parent_id:d}]).select();if(M)throw M;t([...e,j[0]])}catch(_){console.error("    :",_.message)}},ou=async(d,p)=>{try{let _=null;mt.current.add(d);const C=new Date().toISOString();if(t(M=>(_=M.find(D=>D.id===d),!_||_.text===p?(mt.current.delete(d),M):M.map(D=>D.id===d?{...D,text:p,updated_at:C}:D))),!_||_.text===p)return;const{error:N}=await q.from("todo_history").insert([{todo_id:d,previous_text:_.text,new_text:p,changed_on_date:_.date}]);if(N&&console.error("  :",N.message),_.original_todo_id){const{data:M,error:D}=await q.from("todos").select("text, date").eq("id",_.original_todo_id).single();!D&&M&&await q.from("todo_history").insert([{todo_id:_.original_todo_id,previous_text:_.text,new_text:p,changed_on_date:_.date}])}const{error:j}=await q.from("todos").update({text:p}).eq("id",d);j?(console.error("   :",j.message),t(M=>M.map(D=>D.id===d?_:D)),mt.current.delete(d)):setTimeout(()=>{mt.current.delete(d)},5e3)}catch(_){console.error("   :",_.message),mt.current.delete(d)}},Z_=pf($a(pl,{activationConstraint:{delay:300,tolerance:8}}),$a(Sf,{activationConstraint:{delay:500,tolerance:10,distance:10}}),$a(vl,{coordinateGetter:Tf})),P_=pf($a(pl,{activationConstraint:{distance:5}}),$a(Sf,{activationConstraint:{delay:100,tolerance:5}}),$a(vl,{coordinateGetter:Tf})),W_=d=>{const{active:p,over:_}=d;p.id!==(_==null?void 0:_.id)&&$l(C=>{const N=C.indexOf(p.id),j=C.indexOf(_.id),M=wc(C,N,j);return X_(M),M})},F_=d=>{Ws&&d.target===d.currentTarget&&Fs(!1)},ew=()=>{y(!0)},tw=()=>{y(!1)},nw=async d=>{y(!1);const{active:p,over:_}=d;if(!_||p.id===_.id)return;const C=e.findIndex(M=>M.id===p.id),N=e.findIndex(M=>M.id===_.id),j=wc(e,C,N);t(j);try{const M=j.map((D,B)=>({id:D.id,order_index:B+1}));for(const D of M)await q.from("todos").update({order_index:D.order_index}).eq("id",D.id)}catch(M){console.error("  :",M.message),Ra()}};return c.jsxs("div",{className:`app ${f?"dragging-active":""}`,children:[ve&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>ht(!1)}),c.jsxs("div",{className:`sidebar ${ve?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:"sidebar-close",onClick:()=>ht(!1),children:""})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=In==="vertical"?"horizontal":"vertical";n_(d),localStorage.setItem("viewMode",d),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:In==="vertical"?"":""}),c.jsx("span",{children:In==="vertical"?" ":" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{z_(),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:""})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{S_(),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{q_(),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const d=document.querySelector(".key-thoughts-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"}),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{$_(),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:" "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{Ks(!0),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]}),c.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{nn(!0),ht(!1)},children:[c.jsx("span",{className:"sidebar-icon",children:""}),c.jsx("span",{children:"  "})]})]})]}),c.jsxs("div",{className:`container ${In==="horizontal"?"container-wide":""}`,children:[c.jsx("div",{className:"header-fixed",children:c.jsxs("div",{className:"settings-bar",children:[c.jsx("button",{className:"hamburger-menu",onClick:()=>ht(!ve),title:"",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),c.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),c.jsxs("div",{className:"date-nav-section",children:[c.jsxs("div",{className:"date-display-wrapper",children:[c.jsx("span",{className:"date-display",children:Kn(x)}),c.jsx("input",{type:"date",value:ke(x),onChange:h_,className:"date-picker-input"})]}),c.jsx("button",{onClick:d_,className:"date-nav-button",children:""}),c.jsx("button",{onClick:f_,className:"date-nav-button",children:""})]}),c.jsx("div",{className:"encouragement-section",children:Ih(x)?c.jsx("div",{className:"encouragement-message",onClick:r_,title:"    !",children:Qc?c.jsx("span",{className:"encouragement-emoji",children:"  "}):H||Ll()}):c.jsx("button",{onClick:()=>E(new Date),className:"today-link",title:" ",children:"  "})}),Ws&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",fontSize:"0.9rem",color:"#60a5fa"},children:[c.jsx("span",{children:"    "}),c.jsx("button",{onClick:()=>Fs(!1),style:{padding:"0.25rem 0.75rem",background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",border:"1px solid rgba(59, 130, 246, 0.4)",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},children:""})]})]})}),c.jsxs("div",{className:"content-scrollable",ref:Fc,children:[c.jsx(Ef,{sensors:Z_,collisionDetection:bf,onDragStart:ew,onDragEnd:nw,onDragCancel:tw,children:c.jsx("div",{className:"todo-list",children:o?c.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const d=e.filter(C=>!C.parent_id&&C.routine_id!==null&&!C.is_pending_routine),p=e.filter(C=>!C.parent_id&&C.is_pending_routine),_=e.filter(C=>!C.parent_id&&C.routine_id===null&&!C.is_pending_routine);return c.jsx(Ef,{sensors:P_,collisionDetection:bf,onDragEnd:W_,children:c.jsx(Dr,{items:Gh,strategy:Wj,children:c.jsx("div",{ref:ei,className:`sections-container ${In==="horizontal"?"horizontal-layout":"vertical-layout"}`,onDoubleClick:F_,children:Gh.map(C=>C==="memo"?c.jsx(bo,{id:"memo",disabled:!Ws,onLongPress:()=>Fs(!0),children:c.jsxs(uO,{title:"  ",className:"memo-section section-block",content:Ae,setContent:Yt,isEditing:aa,isSaving:Un,textareaRef:Ke,onStartEdit:Y_,onSave:sm,onCancel:im,onKeyDown:V_,placeholder:" ...",emptyMessage:" ",children:[!aa&&c.jsx("div",{style:{marginTop:"1rem"},children:c.jsxs("button",{onClick:()=>Is(!wt),style:{width:"100%",padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.background="rgba(255, 255, 255, 0.1)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:N=>{N.currentTarget.style.background="rgba(255, 255, 255, 0.05)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.12)"},title:"  SQL /",children:[c.jsx("span",{children:" SQL  "}),c.jsx("span",{children:wt?"":""})]})}),wt&&!aa&&c.jsxs("div",{className:"dummy-sql-content",style:{marginTop:"1rem"},children:[c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/create-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const N=new Date,j=Vl=>{const ys=new Date(N);return ys.setDate(ys.getDate()+Vl),ys.toISOString().split("T")[0]},M=Vl=>{const ys=new Date(N);return ys.setDate(ys.getDate()+Vl),ys.getDate()},D=Date.now(),B=M(-2),G=M(-1),Y=M(0),Z=M(1),be=M(2),ae=j(-2),le=j(-1),_e=j(0),an=j(1),rm=j(2),aw=`--         (${_e} )
INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${B}--', '${ae}', false, '${ae}T09:00:00+09:00', 1001),
  ('[DUMMY-${D}] : ${B}-${B}', '${ae}', true, '${ae}T09:10:00+09:00', 1002),
  ('[DUMMY-${D}] : ${B}-${G}', '${ae}', true, '${ae}T09:20:00+09:00', 1003),
  ('[DUMMY-${D}] : ${B}-${Y}', '${ae}', true, '${ae}T09:30:00+09:00', 1004);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${G}--', '${le}', false, '${le}T10:00:00+09:00', 1005),
  ('[DUMMY-${D}] : ${G}-${G}', '${le}', true, '${le}T10:10:00+09:00', 1006),
  ('[DUMMY-${D}] : ${G}-${Y}', '${le}', true, '${le}T10:20:00+09:00', 1007);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${Y}-', '${_e}', false, '${_e}T11:00:00+09:00', 1008),
  ('[DUMMY-${D}] : ${Y}-${Y}', '${_e}', true, '${_e}T11:10:00+09:00', 1009);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${B}-${G}-', '${le}', false, '${ae}T14:00:00+09:00', 1010),
  ('[DUMMY-${D}] : ${B}-${G}-${G}', '${le}', true, '${ae}T14:10:00+09:00', 1011);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${G}-${Y}-', '${_e}', false, '${le}T15:00:00+09:00', 1012),
  ('[DUMMY-${D}] : ${G}-${Y}-${Y}', '${_e}', true, '${le}T15:10:00+09:00', 1013),
  ('[DUMMY-${D}] : ${B}-${Y}-', '${_e}', false, '${ae}T15:00:00+09:00', 1014),
  ('[DUMMY-${D}] : ${B}-${Y}-${Y}', '${_e}', true, '${ae}T15:10:00+09:00', 1015);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${Y}-${Z}-', '${an}', false, '${_e}T16:00:00+09:00', 1016),
  ('[DUMMY-${D}] : ${G}-${Z}-', '${an}', false, '${le}T16:00:00+09:00', 1017),
  ('[DUMMY-${D}] : ${B}-${Z}-', '${an}', false, '${ae}T16:00:00+09:00', 1018);

INSERT INTO todos (text, date, completed, created_at, order_index)
VALUES
  ('[DUMMY-${D}] : ${Y}-${be}-', '${rm}', false, '${_e}T17:00:00+09:00', 1019),
  ('[DUMMY-${D}] : ${G}-${be}-', '${rm}', false, '${le}T17:00:00+09:00', 1020);

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${B}--1', '[DUMMY-${D}] : ${B}--2', '${le}T12:00:00+09:00', '${le}'
FROM todos WHERE text = '[DUMMY-${D}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${B}--2', '[DUMMY-${D}] : ${B}--', '${_e}T12:00:00+09:00', '${_e}'
FROM todos WHERE text = '[DUMMY-${D}] : ${B}--' LIMIT 1;

INSERT INTO todo_history (todo_id, previous_text, new_text, changed_at, changed_on_date)
SELECT id, '[DUMMY-${D}] : ${G}--1', '[DUMMY-${D}] : ${G}--', '${_e}T13:00:00+09:00', '${_e}'
FROM todos WHERE text = '[DUMMY-${D}] : ${G}--' LIMIT 1;`,ni=document.createElement("textarea");ni.value=aw,ni.style.position="fixed",ni.style.opacity="0",document.body.appendChild(ni),ni.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(ni)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`--  :         
--   (      )

-- DO   (PostgreSQL/Supabase)
DO $$
DECLARE
  day_m2 date := CURRENT_DATE - INTERVAL '2 days';
  day_m1 date := CURRENT_DATE - INTERVAL '1 day';
  day_0 date := CURRENT_DATE;
  day_p1 date := CURRENT_DATE + INTERVAL '1 day';
  day_p2 date := CURRENT_DATE + INTERVAL '2 days';
  d_m2 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '2 days')::text;
  d_m1 text := EXTRACT(DAY FROM CURRENT_DATE - INTERVAL '1 day')::text;
  d_0 text := EXTRACT(DAY FROM CURRENT_DATE)::text;
  d_p1 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '1 day')::text;
  d_p2 text := EXTRACT(DAY FROM CURRENT_DATE + INTERVAL '2 days')::text;
  session_id text := EXTRACT(EPOCH FROM NOW())::bigint::text;
BEGIN
  -- -2   (4)
  INSERT INTO todos (text, date, completed, created_at, order_index)
  VALUES
    ('[DUMMY-' || session_id || '] : ' || d_m2 || '--', day_m2, false, (day_m2 + TIME '09:00:00') AT TIME ZONE 'Asia/Seoul', 1001),
    ...

  --  20  3  
  --   GitHub  
END $$;`})]}),c.jsxs("div",{className:"sql-block",children:[c.jsxs("div",{className:"sql-header",children:[c.jsx("span",{children:" SQL"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{window.open("https://raw.githubusercontent.com/jaehwan-lee-benja/todo-note/main/delete-dummy-data-v2.sql","_blank")},className:"link-button",title:"GitHub  ",children:""}),c.jsx("button",{onClick:()=>{const N=`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`,j=document.createElement("textarea");j.value=N,j.style.position="fixed",j.style.opacity="0",document.body.appendChild(j),j.select();try{document.execCommand("copy"),alert(" SQL  !")}catch{alert(" .")}document.body.removeChild(j)},className:"copy-button",children:" "})]})]}),c.jsx("pre",{className:"sql-code",children:`DELETE FROM todo_history
WHERE todo_id IN (
  SELECT id FROM todos WHERE text LIKE '[DUMMY-%'
);

DELETE FROM todos
WHERE text LIKE '[DUMMY-%';`})]})]})]})},"memo"):C==="routine"?c.jsx(bo,{id:"routine",disabled:!Ws,onLongPress:()=>Fs(!0),children:c.jsxs(Sy,{title:" ",className:"routine-section section-block",inputValue:s,setInputValue:i,onAddTodo:O_,isAdding:m,placeholder:"   ...",children:[d.length>0&&c.jsx(Dr,{items:d.map(N=>N.id),strategy:zo,children:d.map((N,j)=>{const M=e.filter(D=>D.parent_id===N.id);return c.jsx($o,{todo:N,index:j,onToggle:tu,onDelete:au,onEdit:ou,formatDate:gs,formatDateOnly:Kn,isFocused:L===N.id,onFocus:ru,onAddSubTodo:lu,subtodos:M,level:0,onCreateRoutine:ti,routines:ie,onShowRoutineHistory:ql,onOpenRoutineSetupModal:iu,onOpenHistoryModal:su,currentPageDate:ke(x),onRemoveFromUI:nu,showSuccessMessage:te},N.id)})}),d.length>0&&p.length>0&&c.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:c.jsx("div",{className:"separator-line"})}),p.length>0&&c.jsx(Dr,{items:p.map(N=>N.id),strategy:zo,children:p.map((N,j)=>{const M=e.filter(D=>D.parent_id===N.id);return c.jsx($o,{todo:N,index:j,onToggle:tu,onDelete:au,onEdit:ou,formatDate:gs,formatDateOnly:Kn,isFocused:L===N.id,onFocus:ru,onAddSubTodo:lu,subtodos:M,level:0,onCreateRoutine:ti,routines:ie,onShowRoutineHistory:ql,onOpenRoutineSetupModal:iu,onOpenHistoryModal:su,currentPageDate:ke(x),isPendingRoutine:!0,onRemoveFromUI:nu,showSuccessMessage:te},N.id)})})]})},"routine"):C==="normal"?c.jsx(bo,{id:"normal",disabled:!Ws,onLongPress:()=>Fs(!0),children:c.jsx(Sy,{title:"  ",className:"normal-section section-block",inputValue:r,setInputValue:l,onAddTodo:N_,isAdding:m,placeholder:"   ...",children:_.length>0&&c.jsx(Dr,{items:_.map(N=>N.id),strategy:zo,children:_.map((N,j,M)=>{const D=e.filter(ae=>ae.parent_id===N.id),B=ke(x),G=N.created_at?N.created_at.split("T")[0]:N.date,Y=M[j+1],Z=Y?Y.created_at?Y.created_at.split("T")[0]:Y.date:null,be=G<B&&Z>=B;return c.jsxs(Dt.Fragment,{children:[c.jsx($o,{todo:N,index:j,onToggle:tu,onDelete:au,onEdit:ou,formatDate:gs,formatDateOnly:Kn,isFocused:L===N.id,onFocus:ru,onAddSubTodo:lu,subtodos:D,level:0,onCreateRoutine:ti,routines:ie,onShowRoutineHistory:ql,onOpenRoutineSetupModal:iu,onOpenHistoryModal:su,currentPageDate:B,onRemoveFromUI:nu,showSuccessMessage:te}),be&&c.jsxs("div",{className:"todo-date-separator",children:[c.jsx("div",{className:"separator-line"}),c.jsx("div",{className:"separator-text",children:" "}),c.jsx("div",{className:"separator-line"})]})]},N.id)})})})},"normal"):C==="key-thoughts"?c.jsx(bo,{id:"key-thoughts",disabled:!Ws,onLongPress:()=>Fs(!0),children:c.jsx(fO,{blocks:Xe,setBlocks:Fe,focusedBlockId:Vt,setFocusedBlockId:Gt})},"key-thoughts"):null)})})})})()})}),In==="horizontal"&&c.jsx("div",{className:"section-pagination-dots",children:[0,1,2].map(d=>c.jsx("button",{className:`pagination-dot ${a_===d?"active":""}`,onClick:()=>{const p=ei.current;if(!p)return;const _=p.querySelectorAll(".section-block");_[d]&&_[d].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},d))})]}),h&&c.jsxs("div",{className:"undo-toast",children:[c.jsx("span",{children:""}),c.jsx("button",{onClick:R_,className:"undo-button",children:""})]}),S&&c.jsxs("div",{className:"undo-toast success-toast",children:[c.jsx("span",{children:R}),U&&c.jsx("button",{onClick:de,className:"undo-button",children:""})]}),i_&&Bl&&c.jsx("div",{className:"modal-overlay",onClick:()=>gr(!1),children:c.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>gr(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"delete-confirm-content",children:[c.jsx("p",{className:"delete-confirm-text",children:c.jsx("strong",{children:Bl.text})}),c.jsx("p",{className:"delete-confirm-description",children:"    .  ?"}),c.jsxs("div",{className:"delete-options-simple",children:[c.jsxs("button",{className:"delete-option-button-simple option-hide",onClick:()=>D_(Bl),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:"  "}),c.jsx("span",{className:"option-desc",children:"   "})]}),c.jsxs("button",{className:"delete-option-button-simple option-delete",onClick:()=>C_(Bl),children:[c.jsx("span",{className:"option-icon",children:""}),c.jsx("span",{className:"option-title",children:" "}),c.jsx("span",{className:"option-desc",children:"   ( )"})]})]})]})]})}),fe&&Ee&&(()=>{const d=Ee,p=d.visible_dates&&d.visible_dates.length>0?d.visible_dates:[d.date],_=p[0],C=p.map(j=>({id:`${d.id}-${j}`,date:j})),N=Js[d.id]||[];return c.jsx("div",{className:"modal-overlay",onClick:em,children:c.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:em,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"todo-history",children:[c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:":"}),c.jsx("span",{className:"history-value",children:gs(d.created_at)})]}),c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Kn(_?new Date(_+"T00:00:00"):new Date(d.date+"T00:00:00"))})]}),C.length>0&&c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:C.map((j,M)=>{const D=j.date===d.date,B=Kn(new Date(j.date+"T00:00:00"));return c.jsxs("span",{children:[M>0&&"  ",c.jsxs("span",{style:D?{fontWeight:"bold",color:"#4CAF50"}:{},children:[B.split("(")[0],D?"()":""]})]},j.id)})})]}),(()=>{const j=new Date(d.created_at).toISOString().split("T")[0],M=d.date;return j!==M&&C.length===0?c.jsxs("div",{className:"history-item",children:[c.jsx("span",{className:"history-label",children:" :"}),c.jsx("span",{className:"history-value",children:Kn(new Date(d.date+"T00:00:00"))})]}):null})(),N.length>0&&c.jsxs("div",{className:"history-changes-list",children:[c.jsxs("div",{className:"history-changes-header",children:["  (",N.length,")"]}),N.map(j=>c.jsxs("div",{className:"history-record-compact",children:[c.jsxs("div",{className:"history-record-summary",children:[c.jsxs("div",{className:"history-change-time",children:[gs(j.changed_at),j.changed_on_date&&c.jsxs("span",{className:"history-page-info",children:[" (: ",Kn(new Date(j.changed_on_date+"T00:00:00")),")"]})]}),c.jsx("button",{className:"history-detail-button",onClick:M=>{M.stopPropagation(),B_(j.id)},children:Zs.includes(j.id)?"":""})]}),Zs.includes(j.id)&&c.jsxs("div",{className:"history-change",children:[c.jsxs("div",{className:"history-change-item history-before",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:j.previous_text})]}),c.jsx("div",{className:"history-change-arrow",children:""}),c.jsxs("div",{className:"history-change-item history-after",children:[c.jsx("span",{className:"change-badge",children:""}),c.jsx("span",{className:"change-text",children:j.new_text})]})]})]},j.id))]})]})})]})})})(),pe&&Ee&&(()=>{const d=Ee,p=ie.find(_=>_.id===d.routine_id);return c.jsx("div",{className:"modal-overlay",onClick:yr,children:c.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:yr,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"routine-setup-inline",children:p&&!Jc?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-current-info",children:[c.jsx("div",{className:"routine-info-title",children:" :"}),c.jsx("div",{className:"routine-days-display",children:Os.filter(_=>p.days.includes(_.key)).map(_=>c.jsx("span",{className:"routine-day-badge",children:_.label},_.key))}),p.time_slot&&c.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",p.time_slot]})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:_=>{_.stopPropagation(),p&&(ra(p.days),mr(p.time_slot||""),zl(!0))},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:async _=>{_.stopPropagation(),p&&d&&(await ti(d.id,d.text,[],null,!0),yr())},className:"routine-remove-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"routine-setup-title",children:Jc?" :":"  :"}),c.jsx("div",{className:"day-selector-inline",children:Os.map(_=>c.jsx("button",{onClick:C=>{C.stopPropagation(),L_(_.key)},className:`day-button-inline ${hr.includes(_.key)?"selected":""}`,children:_.label},_.key))}),c.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),c.jsx(jf,{value:Zc,onChange:_=>mr(_)})]}),c.jsxs("div",{className:"routine-setup-actions",children:[c.jsx("button",{onClick:async _=>{_.stopPropagation(),d&&(Jc&&p?await ti(d.id,d.text,hr,p.id,!1,Zc):await ti(d.id,d.text,hr,null,!1,Zc),yr())},className:"routine-confirm-button",children:""}),c.jsx("button",{onClick:_=>{_.stopPropagation(),yr()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),V&&c.jsx("div",{className:"modal-overlay",onClick:Wh,children:c.jsxs("div",{className:"modal-content trash-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsxs("div",{className:"modal-header-actions",children:[P.length>0&&c.jsx("button",{onClick:U_,className:"empty-trash-button",title:" ",children:" "}),c.jsx("button",{onClick:Wh,className:"modal-close-button",children:""})]})]}),c.jsx("div",{className:"trash-list",children:P.length===0?c.jsx("p",{className:"empty-message",children:" ."}):P.map(d=>{const p=d.visible_dates||(d.date?[d.date]:[]),_=p.length>1||d.original_todo_id,C=d.original_todo_id!==null&&d.original_todo_id!==void 0,N=d.hidden_dates&&d.hidden_dates.length>0;let j="  ";return C?j="   ( )":N?j="  ":d.deleted===!0&&(j=p.length>1?"  ":""),c.jsxs("div",{className:"trash-item",children:[c.jsxs("div",{className:"trash-item-content",children:[c.jsx("span",{className:`trash-text ${d.completed?"completed":""}`,children:d.text}),c.jsxs("div",{className:"trash-metadata",children:[c.jsxs("span",{className:"trash-date",children:[": ",gs(d.created_at)]}),d.deleted_date&&c.jsxs("span",{className:"trash-deleted-date",children:[": ",d.deleted_date]}),c.jsx("span",{className:`trash-delete-type ${C?"old-style":N?"partial":"complete"}`,children:j})]}),_&&c.jsxs("div",{className:"trash-carryover-info",children:[c.jsx("div",{className:"carryover-label",children:"  :"}),c.jsx("div",{className:"carryover-dates",children:p.length>0?p.map((M,D)=>c.jsx("span",{className:"carryover-date-badge",children:M},D)):d.original_todo_id?c.jsxs("span",{className:"carryover-note",children:["    (original_id: ",d.original_todo_id,")"]}):null}),N&&c.jsxs("div",{className:"hidden-dates-info",children:[c.jsx("span",{className:"hidden-label",children:"  :"}),d.hidden_dates.map((M,D)=>c.jsx("span",{className:"hidden-date-badge",children:M},D))]})]})]}),c.jsxs("div",{className:"trash-actions",children:[c.jsx("button",{onClick:()=>M_(d.id),className:"restore-button",title:"",children:""}),c.jsx("button",{onClick:()=>k_(d.id),className:"permanent-delete-button",title:" ",children:" "})]})]},d.id)})})]})}),_n&&c.jsx("div",{className:"modal-overlay",onClick:()=>nn(!1),children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>nn(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"14~18    20    ."}),c.jsx("button",{onClick:l_,className:"add-routine-button",style:{width:"100%"},children:"    (20)"})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("h3",{children:"  "}),c.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"         ."}),c.jsx("button",{onClick:u_,className:"add-routine-button",style:{width:"100%",background:"#ff6b6b"},children:"   "})]}),c.jsxs("div",{className:"routine-list",style:{marginTop:"20px"},children:[c.jsx("h3",{children:"  "}),Na.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):c.jsxs(c.Fragment,{children:[Na.map((d,p)=>c.jsxs("div",{className:"routine-item",children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsxs("span",{className:"routine-text",children:[" #",p+1,": ",d.sessionId]}),c.jsxs("div",{className:"routine-days",children:[c.jsxs("span",{className:"routine-day-badge",children:[" ",d.count,""]}),d.historyCount>0&&c.jsxs("span",{className:"routine-day-badge",children:[" ",d.historyCount,""]}),c.jsx("span",{className:"routine-day-badge",style:{fontSize:"11px"},children:gs(d.createdAt)})]})]}),c.jsx("div",{className:"routine-item-actions",children:c.jsx("button",{onClick:()=>{window.confirm(` #${p+1} ?`)&&o_(d.sessionId)},className:"routine-delete-button",title:"  ",children:""})})]},d.sessionId)),c.jsx("button",{onClick:()=>{window.confirm("   ?")&&c_()},className:"routine-delete-button",style:{width:"100%",marginTop:"15px",padding:"12px"},children:"    "})]})]})]})}),We&&c.jsx("div",{className:"modal-overlay",onClick:nm,children:c.jsxs("div",{className:"modal-content memo-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:nm,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"memo-content",children:ea?c.jsxs("div",{className:"memo-edit-mode",children:[c.jsx("textarea",{value:Ae,onChange:d=>Yt(d.target.value),className:"memo-textarea",placeholder:"  ...",rows:20}),c.jsxs("div",{className:"memo-actions",children:[c.jsx("button",{onClick:Q_,className:"memo-save-button",disabled:Un,children:Un?" ...":" "}),c.jsx("button",{onClick:J_,className:"memo-cancel-button",disabled:Un,children:" "})]})]}):c.jsxs("div",{className:"memo-view-mode",children:[c.jsx("div",{className:"memo-display",children:c.jsx("pre",{className:"memo-text",children:Ae})}),c.jsx("div",{className:"memo-actions",children:c.jsx("button",{onClick:H_,className:"memo-edit-button",children:" "})})]})})]})}),Ve&&c.jsx("div",{className:"modal-overlay",onClick:Fh,children:c.jsxs("div",{className:"modal-content gantt-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  -  "}),c.jsx("button",{onClick:Fh,className:"modal-close-button",children:""})]}),c.jsx("div",{className:"gantt-filter",children:c.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(d=>c.jsx("button",{className:`period-button ${Sn===d.value?"active":""}`,onClick:()=>sa(d.value),children:d.label},d.value))})}),c.jsx("div",{className:"gantt-content",children:Nt.length===0?c.jsx("p",{className:"empty-message",children:" ."}):c.jsx("div",{className:"gantt-chart",children:(()=>{const d=Nt.flatMap(D=>D.dates),p=[...new Set(d)].sort((D,B)=>new Date(D)-new Date(B)),_=p[0],C=p[p.length-1],N=[];let j=new Date(_+"T00:00:00");const M=new Date(C+"T00:00:00");for(;j<=M;)N.push(ke(j)),j.setDate(j.getDate()+1);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"gantt-header",children:[c.jsx("div",{className:"gantt-task-column",children:" "}),c.jsx("div",{className:"gantt-timeline",children:N.map(D=>c.jsx("div",{className:"gantt-date-cell",children:Kn(new Date(D+"T00:00:00")).split("(")[0]},D))})]}),Nt.map((D,B)=>{const G=new Set(D.dates);return c.jsxs("div",{className:"gantt-row",children:[c.jsx("div",{className:"gantt-task-column",title:D.text,children:c.jsx("span",{className:D.completed?"completed-task":"",children:D.text})}),c.jsx("div",{className:"gantt-timeline",children:N.map(Y=>{if(!G.has(Y))return c.jsx("div",{className:"gantt-date-cell"},Y);const be=Y===D.startDate,ae=Y===D.completedDate;let le="gantt-date-cell has-task";return be?le+=" start-date":ae?le+=" completed-date":le+=" middle-date",c.jsx("div",{className:le,children:ae?c.jsx("span",{className:"completed-circle",children:""}):""},Y)})})]},D.originalId)})]})})()})})]})}),Q&&c.jsx("div",{className:"modal-overlay",onClick:Zh,children:c.jsxs("div",{className:"modal-content routine-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"  "}),c.jsx("button",{onClick:Zh,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-add-section",children:[c.jsx("input",{type:"text",value:Me,onChange:d=>dt(d.target.value),placeholder:"  ...",className:"routine-input",disabled:qt}),c.jsx("div",{className:"day-selector",children:Os.map(d=>c.jsx("button",{onClick:()=>x_(d.key),className:`day-button ${it.includes(d.key)?"selected":""}`,disabled:qt,children:d.label},d.key))}),c.jsxs("div",{className:"time-slot-selector",children:[c.jsx("label",{className:"time-slot-label",children:"  ()"}),c.jsx(jf,{value:ft,onChange:d=>Oa(d)})]}),c.jsx("button",{onClick:g_,className:"add-routine-button",disabled:qt||Me.trim()==="",children:" "})]}),c.jsx("div",{className:"routine-list",children:ie.length===0?c.jsx("p",{className:"empty-message",children:"  ."}):ie.map(d=>c.jsx("div",{className:"routine-item",children:vn===d.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-edit-content",children:[c.jsx("input",{type:"text",value:Ht,onChange:p=>He(p.target.value),className:"routine-edit-input",placeholder:" "}),c.jsx("div",{className:"day-selector-inline",children:Os.map(p=>c.jsx("button",{onClick:()=>p_(p.key),className:`day-button-inline ${bn.includes(p.key)?"selected":""}`,children:p.label},p.key))})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:v_,className:"routine-save-button",disabled:Ht.trim()===""||bn.length===0,children:""}),c.jsx("button",{onClick:Xh,className:"routine-cancel-edit-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"routine-item-content",children:[c.jsx("span",{className:"routine-text",children:d.text}),c.jsxs("div",{className:"routine-meta",children:[c.jsx("div",{className:"routine-days",children:Os.filter(p=>d.days.includes(p.key)).map(p=>c.jsx("span",{className:"routine-day-badge",children:p.label},p.key))}),d.time_slot&&c.jsx("span",{className:"routine-time-slot",children:d.time_slot})]})]}),c.jsxs("div",{className:"routine-item-actions",children:[c.jsx("button",{onClick:()=>ql(d),className:"routine-history-button",title:" ",children:""}),c.jsx("button",{onClick:()=>y_(d),className:"routine-edit-button",title:"",children:""}),c.jsx("button",{onClick:()=>b_(d.id),className:"routine-delete-button",title:"",children:""})]})]})},d.id))})]})}),Pe&&kn&&c.jsx("div",{className:"modal-overlay",onClick:Jh,children:c.jsxs("div",{className:"modal-content routine-history-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:[" ",kn.text," "]}),c.jsx("button",{onClick:Jh,className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"routine-history-content",children:[(()=>{if(yt.length===0)return c.jsx("p",{className:"empty-message",children:"   ."});const d=yt[0],p=new Date(d.date),_=new Date,C={};yt.forEach(M=>{C[M.date]=M.completed});const N=[];let j=new Date(p);for(;j<=_;){const M=j.getFullYear(),D=j.getMonth(),B=`${M}-${D+1}`;N.find(le=>le.key===B)||N.push({key:B,year:M,month:D,days:[]});const G=N.find(le=>le.key===B),Y=ke(j),Z=j.getDay(),be=xy(Z),ae=kn.days.includes(be);G.days.push({date:new Date(j),dateStr:Y,day:j.getDate(),dayOfWeek:Z,isCompleted:C[Y]===!0,isRoutineDay:ae,hasTodo:C[Y]!==void 0}),j.setDate(j.getDate()+1)}return c.jsx("div",{className:"routine-history-calendar",children:N.map(M=>c.jsxs("div",{className:"history-month",children:[c.jsxs("h3",{className:"history-month-title",children:[M.year," ",M.month+1,""]}),c.jsxs("div",{className:"history-calendar-grid",children:[c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),M.days.length>0&&Array(M.days[0].dayOfWeek).fill(null).map((D,B)=>c.jsx("div",{className:"history-day-cell empty"},`empty-${B}`)),M.days.map((D,B)=>{if(B>0&&D.day===1){const Y=6-M.days[B-1].dayOfWeek;return c.jsxs(c.Fragment,{children:[Array(Y).fill(null).map((Z,be)=>c.jsx("div",{className:"history-day-cell empty"},`empty-end-${B}-${be}`)),c.jsx("div",{className:"history-day-header",children:""},D.dateStr),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsx("div",{className:"history-day-header",children:""}),c.jsxs("div",{className:`history-day-cell ${D.isCompleted?"completed":""} ${D.isRoutineDay?"":"not-routine-day"}`,children:[c.jsx("span",{className:"day-number",children:D.day}),D.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]})]})}return c.jsxs("div",{className:`history-day-cell ${D.isCompleted?"completed":""} ${D.isRoutineDay?"":"not-routine-day"}`,title:`${D.dateStr}${D.isRoutineDay?"":" (  )"}${D.isCompleted?" - ":D.hasTodo?" - ":""}`,children:[c.jsx("span",{className:"day-number",children:D.day}),D.isCompleted&&c.jsx("span",{className:"check-mark",children:""})]},D.dateStr)})]})]},M.key))})})(),c.jsxs("div",{className:"routine-history-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:" :"}),c.jsxs("span",{className:"stat-value",children:[yt.length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value completed",children:[yt.filter(d=>d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value incomplete",children:[yt.filter(d=>!d.completed).length,""]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:":"}),c.jsxs("span",{className:"stat-value",children:[yt.length>0?Math.round(yt.filter(d=>d.completed).length/yt.length*100):0,"%"]})]})]})]})]})}),Aa&&c.jsx("div",{className:"modal-overlay",onClick:()=>Ks(!1),children:c.jsxs("div",{className:"modal-content encouragement-modal",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{onClick:()=>Ks(!1),className:"modal-close-button",children:""})]}),c.jsxs("div",{className:"encouragement-add-section",children:[c.jsx("input",{type:"text",value:Da,onChange:d=>fr(d.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async d=>{d.key==="Enter"&&Da.trim()!==""&&(await Ph(Da.trim()),fr(""))}}),c.jsx("button",{onClick:async()=>{Da.trim()!==""&&(await Ph(Da.trim()),fr(""))},className:"add-encouragement-button",disabled:Da.trim()==="",children:""})]}),c.jsx("div",{className:"encouragement-list",children:Qe.length===0?c.jsx("p",{className:"empty-message",children:"   ."}):Qe.map((d,p)=>c.jsx("div",{className:"encouragement-item",children:Ul===p?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:Ca,onChange:_=>Qs(_.target.value),className:"encouragement-edit-input",placeholder:" "}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:async()=>{Ca.trim()!==""&&(await E_(p,Ca.trim()),Xs(null),Qs(""))},className:"encouragement-save-button",disabled:Ca.trim()==="",children:""}),c.jsx("button",{onClick:()=>{Xs(null),Qs("")},className:"encouragement-cancel-button",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"encouragement-text",children:d}),c.jsxs("div",{className:"encouragement-item-actions",children:[c.jsx("button",{onClick:()=>{Xs(p),Qs(d)},className:"encouragement-edit-button",title:"",children:""}),c.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await T_(p)},className:"encouragement-delete-button",title:"",children:""})]})]})},p))})]})})]})]})}t1.createRoot(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(hO,{})}));
