function __(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Jg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Pg={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=Symbol.for("react.transitional.element"),S_=Symbol.for("react.fragment");function Fg(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:w_,type:e,key:a,ref:t!==void 0?t:null,props:n}}ac.Fragment=S_;ac.jsx=Fg;ac.jsxs=Fg;Pg.exports=ac;var u=Pg.exports,Wg={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Symbol.for("react.transitional.element"),x_=Symbol.for("react.portal"),E_=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),j_=Symbol.for("react.profiler"),O_=Symbol.for("react.consumer"),A_=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),N_=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),R_=Symbol.for("react.activity"),Nh=Symbol.iterator;function M_(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var tv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nv=Object.assign,av={};function Ys(e,t,n){this.props=e,this.context=t,this.refs=av,this.updater=n||tv}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iv(){}iv.prototype=Ys.prototype;function ef(e,t,n){this.props=e,this.context=t,this.refs=av,this.updater=n||tv}var tf=ef.prototype=new iv;tf.constructor=ef;nv(tf,Ys.prototype);tf.isPureReactComponent=!0;var Rh=Array.isArray;function $u(){}var rt={H:null,A:null,T:null,S:null},sv=Object.prototype.hasOwnProperty;function nf(e,t,n){var a=n.ref;return{$$typeof:Wd,type:e,key:t,ref:a!==void 0?a:null,props:n}}function k_(e,t){return nf(e.type,t,e.props)}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wd}function U_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mh=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U_(""+e.key):t.toString(36)}function z_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then($u,$u):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ns(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Wd:case x_:r=!0;break;case ev:return r=e._init,ns(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+Vc(e,0):a,Rh(i)?(n="",r!=null&&(n=r.replace(Mh,"$&/")+"/"),ns(i,t,n,"",function(c){return c})):i!=null&&(af(i)&&(i=k_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Mh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=a===""?".":a+":";if(Rh(e))for(var o=0;o<e.length;o++)a=e[o],s=l+Vc(a,o),r+=ns(a,t,n,s,i);else if(o=M_(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,s=l+Vc(a,o++),r+=ns(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return ns(z_(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function jl(e,t,n){if(e==null)return e;var a=[],i=0;return ns(e,a,"","",function(s){return t.call(n,s,i++)}),a}function L_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},B_={map:jl,forEach:function(e,t,n){jl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jl(e,function(){t++}),t},toArray:function(e){return jl(e,function(t){return t})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Activity=R_;ce.Children=B_;ce.Component=Ys;ce.Fragment=E_;ce.Profiler=j_;ce.PureComponent=ef;ce.StrictMode=T_;ce.Suspense=C_;ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt;ce.__COMPILER_RUNTIME={__proto__:null,c:function(e){return rt.H.useMemoCache(e)}};ce.cache=function(e){return function(){return e.apply(null,arguments)}};ce.cacheSignal=function(){return null};ce.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=nv({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!sv.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var r=Array(s),l=0;l<s;l++)r[l]=arguments[l+2];a.children=r}return nf(e.type,i,a)};ce.createContext=function(e){return e={$$typeof:A_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:O_,_context:e},e};ce.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)sv.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return nf(e,s,i)};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:D_,render:e}};ce.isValidElement=af;ce.lazy=function(e){return{$$typeof:ev,_payload:{_status:-1,_result:e},_init:L_}};ce.memo=function(e,t){return{$$typeof:N_,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=rt.T,n={};rt.T=n;try{var a=e(),i=rt.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then($u,kh)}catch(s){kh(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),rt.T=t}};ce.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()};ce.use=function(e){return rt.H.use(e)};ce.useActionState=function(e,t,n){return rt.H.useActionState(e,t,n)};ce.useCallback=function(e,t){return rt.H.useCallback(e,t)};ce.useContext=function(e){return rt.H.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e,t){return rt.H.useDeferredValue(e,t)};ce.useEffect=function(e,t){return rt.H.useEffect(e,t)};ce.useEffectEvent=function(e){return rt.H.useEffectEvent(e)};ce.useId=function(){return rt.H.useId()};ce.useImperativeHandle=function(e,t,n){return rt.H.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return rt.H.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return rt.H.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return rt.H.useMemo(e,t)};ce.useOptimistic=function(e,t){return rt.H.useOptimistic(e,t)};ce.useReducer=function(e,t,n){return rt.H.useReducer(e,t,n)};ce.useRef=function(e){return rt.H.useRef(e)};ce.useState=function(e){return rt.H.useState(e)};ce.useSyncExternalStore=function(e,t,n){return rt.H.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return rt.H.useTransition()};ce.version="19.2.0";Wg.exports=ce;var p=Wg.exports;const ft=Jg(p);var rv={exports:{}},ic={},lv={exports:{}},ov={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,V){var K=z.length;z.push(V);e:for(;0<K;){var fe=K-1>>>1,ue=z[fe];if(0<i(ue,V))z[fe]=V,z[K]=ue,K=fe;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var V=z[0],K=z.pop();if(K!==V){z[0]=K;e:for(var fe=0,ue=z.length,St=ue>>>1;fe<St;){var Ue=2*(fe+1)-1,yt=z[Ue],Ze=Ue+1,Qe=z[Ze];if(0>i(yt,K))Ze<ue&&0>i(Qe,yt)?(z[fe]=Qe,z[Ze]=K,fe=Ze):(z[fe]=yt,z[Ue]=K,fe=Ue);else if(Ze<ue&&0>i(Qe,K))z[fe]=Qe,z[Ze]=K,fe=Ze;else break e}}return V}function i(z,V){var K=z.sortIndex-V.sortIndex;return K!==0?K:z.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],d=1,f=null,h=3,m=!1,b=!1,_=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(z){for(var V=n(c);V!==null;){if(V.callback===null)a(c);else if(V.startTime<=z)a(c),V.sortIndex=V.expirationTime,t(o,V);else break;V=n(c)}}function x(z){if(_=!1,w(z),!b)if(n(o)!==null)b=!0,j||(j=!0,He());else{var V=n(c);V!==null&&ke(x,V.startTime-z)}}var j=!1,T=-1,O=5,D=-1;function B(){return S?!0:!(e.unstable_now()-D<O)}function W(){if(S=!1,j){var z=e.unstable_now();D=z;var V=!0;try{e:{b=!1,_&&(_=!1,g(T),T=-1),m=!0;var K=h;try{t:{for(w(z),f=n(o);f!==null&&!(f.expirationTime>z&&B());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,h=f.priorityLevel;var ue=fe(f.expirationTime<=z);if(z=e.unstable_now(),typeof ue=="function"){f.callback=ue,w(z),V=!0;break t}f===n(o)&&a(o),w(z)}else a(o);f=n(o)}if(f!==null)V=!0;else{var St=n(c);St!==null&&ke(x,St.startTime-z),V=!1}}break e}finally{f=null,h=K,m=!1}V=void 0}}finally{V?He():j=!1}}}var He;if(typeof v=="function")He=function(){v(W)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Xe=Ge.port2;Ge.port1.onmessage=W,He=function(){Xe.postMessage(null)}}else He=function(){y(W,0)};function ke(z,V){T=y(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return z()}finally{h=K}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=h;h=z;try{return V()}finally{h=K}},e.unstable_scheduleCallback=function(z,V,K){var fe=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?fe+K:fe):K=fe,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,z={id:d++,callback:V,priorityLevel:z,startTime:K,expirationTime:ue,sortIndex:-1},K>fe?(z.sortIndex=K,t(c,z),n(o)===null&&z===n(c)&&(_?(g(T),T=-1):_=!0,ke(x,K-fe))):(z.sortIndex=ue,t(o,z),b||m||(b=!0,j||(j=!0,He()))),z},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(z){var V=h;return function(){var K=h;h=V;try{return z.apply(this,arguments)}finally{h=K}}}})(ov);lv.exports=ov;var H_=lv.exports,cv={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=p;function uv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function za(){}var an={d:{f:za,r:function(){throw Error(uv(522))},D:za,C:za,L:za,m:za,X:za,S:za,M:za},p:0,findDOMNode:null},$_=Symbol.for("react.portal");function V_(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$_,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Sr=q_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function sc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=an;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(uv(299));return V_(e,t,null,n)};sn.flushSync=function(e){var t=Sr.T,n=an.p;try{if(Sr.T=null,an.p=2,e)return e()}finally{Sr.T=t,an.p=n,an.d.f()}};sn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,an.d.C(e,t))};sn.prefetchDNS=function(e){typeof e=="string"&&an.d.D(e)};sn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=sc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?an.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&an.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};sn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=sc(t.as,t.crossOrigin);an.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&an.d.M(e)};sn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=sc(n,t.crossOrigin);an.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};sn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=sc(t.as,t.crossOrigin);an.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else an.d.m(e)};sn.requestFormReset=function(e){an.d.r(e)};sn.unstable_batchedUpdates=function(e,t){return e(t)};sn.useFormState=function(e,t,n){return Sr.H.useFormState(e,t,n)};sn.useFormStatus=function(){return Sr.H.useHostTransitionStatus()};sn.version="19.2.0";function dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dv)}catch(e){console.error(e)}}dv(),cv.exports=sn;var Ti=cv.exports;const fv=Jg(Ti);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=H_,hv=p,Y_=Ti;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uh(e){if(ll(e)!==e)throw Error(A(188))}function G_(e){var t=e.alternate;if(!t){if(t=ll(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uh(i),e;if(s===a)return Uh(i),t;s=s.sibling}throw Error(A(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==a)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function yv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yv(e),t!==null)return t;e=e.sibling}return null}var lt=Object.assign,I_=Symbol.for("react.element"),Ol=Symbol.for("react.transitional.element"),vr=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),bv=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),Iu=Symbol.for("react.activity"),K_=Symbol.for("react.memo_cache_sentinel"),zh=Symbol.iterator;function lr(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var X_=Symbol.for("react.client.reference");function Ku(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case Vu:return"Profiler";case pv:return"StrictMode";case Yu:return"Suspense";case Gu:return"SuspenseList";case Iu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case vr:return"Portal";case wa:return e.displayName||"Context";case bv:return(e._context.displayName||"Context")+".Consumer";case sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:Ku(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return Ku(e(t))}catch{}}return null}var yr=Array.isArray,ae=hv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le=Y_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oi={pending:!1,data:null,method:null,action:null},Xu=[],cs=-1;function oa(e){return{current:e}}function Vt(e){0>cs||(e.current=Xu[cs],Xu[cs]=null,cs--)}function tt(e,t){cs++,Xu[cs]=e.current,e.current=t}var la=oa(null),Vr=oa(null),Fa=oa(null),vo=oa(null);function yo(e,t){switch(tt(Fa,t),tt(Vr,e),tt(la,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vm(t),e=Hp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Vt(la),tt(la,e)}function Ds(){Vt(la),Vt(Vr),Vt(Fa)}function Qu(e){e.memoizedState!==null&&tt(vo,e);var t=la.current,n=Hp(t,e.type);t!==n&&(tt(Vr,e),tt(la,n))}function po(e){Vr.current===e&&(Vt(la),Vt(Vr)),vo.current===e&&(Vt(vo),Wr._currentValue=Oi)}var Yc,Lh;function pi(e){if(Yc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yc=t&&t[1]||"",Lh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yc+e+Lh}var Gc=!1;function Ic(e,t){if(!e||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==c[i]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=i);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?pi(n):""}function Q_(e,t){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return e.child!==t&&t!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ic(e.type,!1);case 11:return Ic(e.type.render,!1);case 1:return Ic(e.type,!0);case 31:return pi("Activity");default:return""}}function Bh(e){try{var t="",n=null;do t+=Q_(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ju=Object.prototype.hasOwnProperty,lf=Lt.unstable_scheduleCallback,Kc=Lt.unstable_cancelCallback,J_=Lt.unstable_shouldYield,Z_=Lt.unstable_requestPaint,Cn=Lt.unstable_now,P_=Lt.unstable_getCurrentPriorityLevel,_v=Lt.unstable_ImmediatePriority,wv=Lt.unstable_UserBlockingPriority,bo=Lt.unstable_NormalPriority,F_=Lt.unstable_LowPriority,Sv=Lt.unstable_IdlePriority,W_=Lt.log,ew=Lt.unstable_setDisableYieldValue,ol=null,Nn=null;function Xa(e){if(typeof W_=="function"&&ew(e),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(ol,e)}catch{}}var Rn=Math.clz32?Math.clz32:aw,tw=Math.log,nw=Math.LN2;function aw(e){return e>>>=0,e===0?32:31-(tw(e)/nw|0)|0}var Al=256,Dl=262144,Cl=4194304;function bi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=bi(a):(r&=l,r!==0?i=bi(r):n||(n=l&~e,n!==0&&(i=bi(n))))):(l=a&~s,l!==0?i=bi(l):r!==0?i=bi(r):n||(n=a&~e,n!==0&&(i=bi(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function cl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function iw(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(){var e=Cl;return Cl<<=1,!(Cl&62914560)&&(Cl=4194304),e}function Xc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ul(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sw(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Rn(n),f=1<<d;l[d]=0,o[d]=-1;var h=c[d];if(h!==null)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}a!==0&&Ev(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function Ev(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Tv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function jv(e,t){var n=t&-t;return n=n&42?1:of(n),n&(e.suspendedLanes|t)?0:n}function of(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ov(){var e=Le.p;return e!==0?e:(e=window.event,e===void 0?32:Zp(e.type))}function Hh(e,t){var n=Le.p;try{return Le.p=e,t()}finally{Le.p=n}}var di=Math.random().toString(36).slice(2),Xt="__reactFiber$"+di,vn="__reactProps$"+di,Gs="__reactContainer$"+di,Zu="__reactEvents$"+di,rw="__reactListeners$"+di,lw="__reactHandles$"+di,qh="__reactResources$"+di,dl="__reactMarker$"+di;function uf(e){delete e[Xt],delete e[vn],delete e[Zu],delete e[rw],delete e[lw]}function us(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gs]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xm(e);e!==null;){if(n=e[Xt])return n;e=Xm(e)}return t}e=n,n=e.parentNode}return null}function Is(e){if(e=e[Xt]||e[Gs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function _s(e){var t=e[qh];return t||(t=e[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[dl]=!0}var Av=new Set,Dv={};function Bi(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Dv[e]=t,e=0;e<t.length;e++)Av.add(t[e])}var ow=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$h={},Vh={};function cw(e){return Ju.call(Vh,e)?!0:Ju.call($h,e)?!1:ow.test(e)?Vh[e]=!0:($h[e]=!0,!1)}function Wl(e,t,n){if(cw(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Nl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function fa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function qn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uw(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pu(e){if(!e._valueTracker){var t=Cv(e)?"checked":"value";e._valueTracker=uw(e,t,""+e[t])}}function Nv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Cv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dw=/[\n"\\]/g;function Yn(e){return e.replace(dw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fu(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qn(t)):e.value!==""+qn(t)&&(e.value=""+qn(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Wu(e,r,qn(t)):n!=null?Wu(e,r,qn(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+qn(l):e.removeAttribute("name")}function Rv(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Pu(e);return}n=n!=null?""+qn(n):"",t=t!=null?""+qn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Pu(e)}function Wu(e,t,n){t==="number"&&_o(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ws(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mv(e,t,n){if(t!=null&&(t=""+qn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qn(n):""}function kv(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(A(92));if(yr(a)){if(1<a.length)throw Error(A(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=qn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Pu(e)}function Ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yh(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||fw.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Uv(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Yh(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Yh(e,s,t[s])}function df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(e){return mw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var ed=null;function ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,Ss=null;function Gh(e){var t=Is(e);if(t&&(e=t.stateNode)){var n=e[vn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[vn]||null;if(!i)throw Error(A(90));Fu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Nv(a)}break e;case"textarea":Mv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}}}var Qc=!1;function zv(e,t,n){if(Qc)return e(t,n);Qc=!0;try{var a=e(t);return a}finally{if(Qc=!1,(ds!==null||Ss!==null)&&(pc(),ds&&(t=ds,e=Ss,Ss=ds=null,Gh(t),e)))for(t=0;t<e.length;t++)Gh(e[t])}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[vn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(Oa)try{var or={};Object.defineProperty(or,"passive",{get:function(){td=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{td=!1}var Qa=null,hf=null,to=null;function Lv(){if(to)return to;var e,t=hf,n=t.length,a,i="value"in Qa?Qa.value:Qa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return to=i.slice(e,1<a?1-a:void 0)}function no(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function Ih(){return!1}function yn(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rl:Ih,this.isPropagationStopped=Ih,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=yn(Hi),fl=lt({},Hi,{view:0,detail:0}),gw=yn(fl),Jc,Zc,cr,oc=lt({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(Jc=e.screenX-cr.screenX,Zc=e.screenY-cr.screenY):Zc=Jc=0,cr=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:Zc}}),Kh=yn(oc),vw=lt({},oc,{dataTransfer:0}),yw=yn(vw),pw=lt({},fl,{relatedTarget:0}),Pc=yn(pw),bw=lt({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),_w=yn(bw),ww=lt({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sw=yn(ww),xw=lt({},Hi,{data:0}),Xh=yn(xw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ow(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jw[e])?!!t[e]:!1}function mf(){return Ow}var Aw=lt({},fl,{key:function(e){if(e.key){var t=Ew[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dw=yn(Aw),Cw=lt({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=yn(Cw),Nw=lt({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),Rw=yn(Nw),Mw=lt({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kw=yn(Mw),Uw=lt({},oc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=yn(Uw),Lw=lt({},Hi,{newState:0,oldState:0}),Bw=yn(Lw),Hw=[9,13,27,32],gf=Oa&&"CompositionEvent"in window,xr=null;Oa&&"documentMode"in document&&(xr=document.documentMode);var qw=Oa&&"TextEvent"in window&&!xr,Bv=Oa&&(!gf||xr&&8<xr&&11>=xr),Jh=" ",Zh=!1;function Hv(e,t){switch(e){case"keyup":return Hw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function $w(e,t){switch(e){case"compositionend":return qv(t);case"keypress":return t.which!==32?null:(Zh=!0,Jh);case"textInput":return e=t.data,e===Jh&&Zh?null:e;default:return null}}function Vw(e,t){if(fs)return e==="compositionend"||!gf&&Hv(e,t)?(e=Lv(),to=hf=Qa=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bv&&t.locale!=="ko"?null:t.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yw[e.type]:t==="textarea"}function $v(e,t,n,a){ds?Ss?Ss.push(a):Ss=[a]:ds=a,t=Bo(t,"onChange"),0<t.length&&(n=new lc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Er=null,Gr=null;function Gw(e){zp(e,0)}function cc(e){var t=pr(e);if(Nv(t))return e}function Fh(e,t){if(e==="change")return t}var Vv=!1;if(Oa){var Fc;if(Oa){var Wc="oninput"in document;if(!Wc){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),Wc=typeof Wh.oninput=="function"}Fc=Wc}else Fc=!1;Vv=Fc&&(!document.documentMode||9<document.documentMode)}function em(){Er&&(Er.detachEvent("onpropertychange",Yv),Gr=Er=null)}function Yv(e){if(e.propertyName==="value"&&cc(Gr)){var t=[];$v(t,Gr,e,ff(e)),zv(Gw,t)}}function Iw(e,t,n){e==="focusin"?(em(),Er=t,Gr=n,Er.attachEvent("onpropertychange",Yv)):e==="focusout"&&em()}function Kw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Gr)}function Xw(e,t){if(e==="click")return cc(t)}function Qw(e,t){if(e==="input"||e==="change")return cc(t)}function Jw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:Jw;function Ir(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ju.call(t,i)||!kn(e[i],t[i]))return!1}return!0}function tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nm(e,t){var n=tm(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tm(n)}}function Gv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_o(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_o(e.document)}return t}function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zw=Oa&&"documentMode"in document&&11>=document.documentMode,hs=null,nd=null,Tr=null,ad=!1;function am(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ad||hs==null||hs!==_o(a)||(a=hs,"selectionStart"in a&&vf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Tr&&Ir(Tr,a)||(Tr=a,a=Bo(nd,"onSelect"),0<a.length&&(t=new lc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=hs)))}function mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ms={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},eu={},Kv={};Oa&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function qi(e){if(eu[e])return eu[e];if(!ms[e])return e;var t=ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kv)return eu[e]=t[n];return e}var Xv=qi("animationend"),Qv=qi("animationiteration"),Jv=qi("animationstart"),Pw=qi("transitionrun"),Fw=qi("transitionstart"),Ww=qi("transitioncancel"),Zv=qi("transitionend"),Pv=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function aa(e,t){Pv.set(e,t),Bi(t,[e])}var wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],gs=0,yf=0;function uc(){for(var e=gs,t=yf=gs=0;t<e;){var n=Bn[t];Bn[t++]=null;var a=Bn[t];Bn[t++]=null;var i=Bn[t];Bn[t++]=null;var s=Bn[t];if(Bn[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&Fv(n,i,s)}}function dc(e,t,n,a){Bn[gs++]=e,Bn[gs++]=t,Bn[gs++]=n,Bn[gs++]=a,yf|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function pf(e,t,n,a){return dc(e,t,n,a),So(e)}function $i(e,t){return dc(e,null,null,t),So(e)}function Fv(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Rn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function So(e){if(50<kr)throw kr=0,Td=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vs={};function eS(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,a){return new eS(e,t,n,a)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ao(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")bf(e)&&(r=1);else if(typeof e=="string")r=sx(e,n,la.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Iu:return e=jn(31,n,t,i),e.elementType=Iu,e.lanes=s,e;case os:return Ai(n.children,i,s,t);case pv:r=8,i|=24;break;case Vu:return e=jn(12,n,t,i|2),e.elementType=Vu,e.lanes=s,e;case Yu:return e=jn(13,n,t,i),e.elementType=Yu,e.lanes=s,e;case Gu:return e=jn(19,n,t,i),e.elementType=Gu,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wa:r=10;break e;case bv:r=9;break e;case sf:r=11;break e;case rf:r=14;break e;case Ba:r=16,a=null;break e}r=29,n=Error(A(130,e===null?"null":typeof e,"")),a=null}return t=jn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Ai(e,t,n,a){return e=jn(7,e,a,t),e.lanes=n,e}function tu(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function ey(e){var t=jn(18,null,null,0);return t.stateNode=e,t}function nu(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var im=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=im.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Bh(t)},im.set(e,t),t)}return{value:e,source:t,stack:Bh(t)}}var ys=[],ps=0,xo=null,Kr=0,$n=[],Vn=0,li=null,ia=1,sa="";function ba(e,t){ys[ps++]=Kr,ys[ps++]=xo,xo=e,Kr=t}function ty(e,t,n){$n[Vn++]=ia,$n[Vn++]=sa,$n[Vn++]=li,li=e;var a=ia;e=sa;var i=32-Rn(a)-1;a&=~(1<<i),n+=1;var s=32-Rn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,ia=1<<32-Rn(t)+i|n<<i|a,sa=s+e}else ia=1<<s|n<<i|a,sa=e}function _f(e){e.return!==null&&(ba(e,1),ty(e,1,0))}function wf(e){for(;e===xo;)xo=ys[--ps],ys[ps]=null,Kr=ys[--ps],ys[ps]=null;for(;e===li;)li=$n[--Vn],$n[Vn]=null,sa=$n[--Vn],$n[Vn]=null,ia=$n[--Vn],$n[Vn]=null}function ny(e,t){$n[Vn++]=ia,$n[Vn++]=sa,$n[Vn++]=li,ia=t.id,sa=t.overflow,li=e}var Qt=null,st=null,Ae=!1,Wa=null,In=!1,sd=Error(A(519));function oi(e){var t=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xr(Gn(t,e)),sd}function sm(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Xt]=e,t[vn]=a,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Pr.length;n++)_e(Pr[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Rv(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),kv(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Bp(t.textContent,n)?(a.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),a.onScroll!=null&&_e("scroll",t),a.onScrollEnd!=null&&_e("scrollend",t),a.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||oi(e,!0)}function rm(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Qt=Qt.return}}function Ji(e){if(e!==Qt)return!1;if(!Ae)return rm(e),Ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Cd(e.type,e.memoizedProps)),n=!n),n&&st&&oi(e),rm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));st=Km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));st=Km(e)}else t===27?(t=st,fi(e.type)?(e=kd,kd=null,st=e):st=t):st=Qt?Xn(e.stateNode.nextSibling):null;return!0}function Ri(){st=Qt=null,Ae=!1}function au(){var e=Wa;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Wa=null),e}function Xr(e){Wa===null?Wa=[e]:Wa.push(e)}var rd=oa(null),Vi=null,xa=null;function $a(e,t,n){tt(rd,t._currentValue),t._currentValue=n}function Ta(e){e._currentValue=rd.current,Vt(rd)}function ld(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function od(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ld(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(A(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),ld(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Ks(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=i.type;kn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===vo.current){if(r=i.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Wr):e=[Wr])}i=i.return}e!==null&&od(t,e,n,a),t.flags|=262144}function Eo(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){Vi=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return ay(Vi,e)}function Ml(e,t){return Vi===null&&Mi(e),ay(e,t)}function ay(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xa===null){if(e===null)throw Error(A(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return n}var tS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},nS=Lt.unstable_scheduleCallback,aS=Lt.unstable_NormalPriority,Ct={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new tS,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&nS(aS,function(){e.controller.abort()})}var jr=null,cd=0,Rs=0,xs=null;function iS(e,t){if(jr===null){var n=jr=[];cd=0,Rs=Xf(),xs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return cd++,t.then(lm,lm),t}function lm(){if(--cd===0&&jr!==null){xs!==null&&(xs.status="fulfilled");var e=jr;jr=null,Rs=0,xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sS(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var om=ae.S;ae.S=function(e,t){yp=Cn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&iS(e,t),om!==null&&om(e,t)};var Di=oa(null);function xf(){var e=Di.current;return e!==null?e:Je.pooledCache}function io(e,t){t===null?tt(Di,Di.current):tt(Di,t.pool)}function iy(){var e=xf();return e===null?null:{parent:Ct._currentValue,pool:e}}var Xs=Error(A(460)),Ef=Error(A(474)),fc=Error(A(542)),To={then:function(){}};function cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sa,Sa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dm(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dm(e),e}throw Ci=t,Xs}}function _i(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ci=n,Xs):n}}var Ci=null;function um(){if(Ci===null)throw Error(A(459));var e=Ci;return Ci=null,e}function dm(e){if(e===Xs||e===fc)throw Error(A(483))}var Es=null,Qr=0;function kl(e){var t=Qr;return Qr+=1,Es===null&&(Es=[]),sy(Es,e,t)}function ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ul(e,t){throw t.$$typeof===I_?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ry(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=Ea(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,g,v,w){return g===null||g.tag!==6?(g=tu(v,y.mode,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function o(y,g,v,w){var x=v.type;return x===os?d(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ba&&_i(x)===g.type)?(g=i(g,v.props),ur(g,v),g.return=y,g):(g=ao(v.type,v.key,v.props,null,y.mode,w),ur(g,v),g.return=y,g)}function c(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=nu(v,y.mode,w),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function d(y,g,v,w,x){return g===null||g.tag!==7?(g=Ai(v,y.mode,w,x),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=tu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ol:return v=ao(g.type,g.key,g.props,null,y.mode,v),ur(v,g),v.return=y,v;case vr:return g=nu(g,y.mode,v),g.return=y,g;case Ba:return g=_i(g),f(y,g,v)}if(yr(g)||lr(g))return g=Ai(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return f(y,kl(g),v);if(g.$$typeof===wa)return f(y,Ml(y,g),v);Ul(y,g)}return null}function h(y,g,v,w){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:l(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ol:return v.key===x?o(y,g,v,w):null;case vr:return v.key===x?c(y,g,v,w):null;case Ba:return v=_i(v),h(y,g,v,w)}if(yr(v)||lr(v))return x!==null?null:d(y,g,v,w,null);if(typeof v.then=="function")return h(y,g,kl(v),w);if(v.$$typeof===wa)return h(y,g,Ml(y,v),w);Ul(y,v)}return null}function m(y,g,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(v)||null,l(g,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ol:return y=y.get(w.key===null?v:w.key)||null,o(g,y,w,x);case vr:return y=y.get(w.key===null?v:w.key)||null,c(g,y,w,x);case Ba:return w=_i(w),m(y,g,v,w,x)}if(yr(w)||lr(w))return y=y.get(v)||null,d(g,y,w,x,null);if(typeof w.then=="function")return m(y,g,v,kl(w),x);if(w.$$typeof===wa)return m(y,g,v,Ml(g,w),x);Ul(g,w)}return null}function b(y,g,v,w){for(var x=null,j=null,T=g,O=g=0,D=null;T!==null&&O<v.length;O++){T.index>O?(D=T,T=null):D=T.sibling;var B=h(y,T,v[O],w);if(B===null){T===null&&(T=D);break}e&&T&&B.alternate===null&&t(y,T),g=s(B,g,O),j===null?x=B:j.sibling=B,j=B,T=D}if(O===v.length)return n(y,T),Ae&&ba(y,O),x;if(T===null){for(;O<v.length;O++)T=f(y,v[O],w),T!==null&&(g=s(T,g,O),j===null?x=T:j.sibling=T,j=T);return Ae&&ba(y,O),x}for(T=a(T);O<v.length;O++)D=m(T,y,O,v[O],w),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?O:D.key),g=s(D,g,O),j===null?x=D:j.sibling=D,j=D);return e&&T.forEach(function(W){return t(y,W)}),Ae&&ba(y,O),x}function _(y,g,v,w){if(v==null)throw Error(A(151));for(var x=null,j=null,T=g,O=g=0,D=null,B=v.next();T!==null&&!B.done;O++,B=v.next()){T.index>O?(D=T,T=null):D=T.sibling;var W=h(y,T,B.value,w);if(W===null){T===null&&(T=D);break}e&&T&&W.alternate===null&&t(y,T),g=s(W,g,O),j===null?x=W:j.sibling=W,j=W,T=D}if(B.done)return n(y,T),Ae&&ba(y,O),x;if(T===null){for(;!B.done;O++,B=v.next())B=f(y,B.value,w),B!==null&&(g=s(B,g,O),j===null?x=B:j.sibling=B,j=B);return Ae&&ba(y,O),x}for(T=a(T);!B.done;O++,B=v.next())B=m(T,y,O,B.value,w),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?O:B.key),g=s(B,g,O),j===null?x=B:j.sibling=B,j=B);return e&&T.forEach(function(He){return t(y,He)}),Ae&&ba(y,O),x}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===os&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ol:e:{for(var x=v.key;g!==null;){if(g.key===x){if(x=v.type,x===os){if(g.tag===7){n(y,g.sibling),w=i(g,v.props.children),w.return=y,y=w;break e}}else if(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ba&&_i(x)===g.type){n(y,g.sibling),w=i(g,v.props),ur(w,v),w.return=y,y=w;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===os?(w=Ai(v.props.children,y.mode,w,v.key),w.return=y,y=w):(w=ao(v.type,v.key,v.props,null,y.mode,w),ur(w,v),w.return=y,y=w)}return r(y);case vr:e:{for(x=v.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),w=i(g,v.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else t(y,g);g=g.sibling}w=nu(v,y.mode,w),w.return=y,y=w}return r(y);case Ba:return v=_i(v),S(y,g,v,w)}if(yr(v))return b(y,g,v,w);if(lr(v)){if(x=lr(v),typeof x!="function")throw Error(A(150));return v=x.call(v),_(y,g,v,w)}if(typeof v.then=="function")return S(y,g,kl(v),w);if(v.$$typeof===wa)return S(y,g,Ml(y,v),w);Ul(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),w=i(g,v),w.return=y,y=w):(n(y,g),w=tu(v,y.mode,w),w.return=y,y=w),r(y)):n(y,g)}return function(y,g,v,w){try{Qr=0;var x=S(y,g,v,w);return Es=null,x}catch(T){if(T===Xs||T===fc)throw T;var j=jn(29,T,null,y.mode);return j.lanes=w,j.return=y,j}finally{}}}var ki=ry(!0),ly=ry(!1),Ha=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ze&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=So(e),Fv(e,null,n),t}return dc(e,a,t,n),So(e)}function Or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tv(e,n)}}function iu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var dd=!1;function Ar(){if(dd){var e=xs;if(e!==null)throw e}}function Dr(e,t,n,a){dd=!1;var i=e.updateQueue;Ha=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?s=c:r.next=c,r=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==r&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(s!==null){var f=i.baseState;r=0,d=c=o=null,l=s;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(je&h)===h:(a&h)===h){h!==0&&h===Rs&&(dd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var b=e,_=l;h=t;var S=n;switch(_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(S,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,h=typeof b=="function"?b.call(S,f,h):b,h==null)break e;f=lt({},f,h);break e;case 2:Ha=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,o=f):d=d.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(o=f),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),ui|=r,e.lanes=r,e.memoizedState=f}}function oy(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function cy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)oy(n[e],t)}var Ms=oa(null),jo=oa(0);function fm(e,t){e=Na,tt(jo,e),tt(Ms,t),Na=e|t.baseLanes}function fd(){tt(jo,Na),tt(Ms,Ms.current)}function jf(){Na=jo.current,Vt(Ms),Vt(jo)}var Un=oa(null),Kn=null;function Va(e){var t=e.alternate;tt(xt,xt.current&1),tt(Un,e),Kn===null&&(t===null||Ms.current!==null||t.memoizedState!==null)&&(Kn=e)}function hd(e){tt(xt,xt.current),tt(Un,e),Kn===null&&(Kn=e)}function uy(e){e.tag===22?(tt(xt,xt.current),tt(Un,e),Kn===null&&(Kn=e)):Ya()}function Ya(){tt(xt,xt.current),tt(Un,Un.current)}function Tn(e){Vt(Un),Kn===e&&(Kn=null),Vt(xt)}var xt=oa(0);function Oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Rd(n)||Md(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=0,de=null,Ke=null,At=null,Ao=!1,Ts=!1,Ui=!1,Do=0,Jr=0,js=null,rS=0;function _t(){throw Error(A(321))}function Of(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Af(e,t,n,a,i,s){return Aa=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?$y:Hf,Ui=!1,s=n(a,i),Ui=!1,Ts&&(s=fy(t,n,a,i)),dy(e),s}function dy(e){ae.H=Zr;var t=Ke!==null&&Ke.next!==null;if(Aa=0,At=Ke=de=null,Ao=!1,Jr=0,js=null,t)throw Error(A(300));e===null||Nt||(e=e.dependencies,e!==null&&Eo(e)&&(Nt=!0))}function fy(e,t,n,a){de=e;var i=0;do{if(Ts&&(js=null),Jr=0,Ts=!1,25<=i)throw Error(A(301));if(i+=1,At=Ke=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ae.H=Vy,s=t(n,a)}while(Ts);return s}function lS(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?ml(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(de.flags|=1024),t}function Df(){var e=Do!==0;return Do=0,e}function Cf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Nf(e){if(Ao){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ao=!1}Aa=0,At=Ke=de=null,Ts=!1,Jr=Do=0,js=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?de.memoizedState=At=e:At=At.next=e,At}function Et(){if(Ke===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=At===null?de.memoizedState:At.next;if(t!==null)At=t,Ke=e;else{if(e===null)throw de.alternate===null?Error(A(467)):Error(A(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},At===null?de.memoizedState=At=e:At=At.next=e}return At}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(e){var t=Jr;return Jr+=1,js===null&&(js=[]),e=sy(js,e,t),t=de,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?$y:Hf),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ml(e);if(e.$$typeof===wa)return Jt(e)}throw Error(A(438,String(e)))}function Rf(e){var t=null,n=de.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=de.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hc(),de.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=K_;return t.index++,n}function Da(e,t){return typeof t=="function"?t(e):t}function so(e){var t=Et();return Mf(t,Ke,e)}function Mf(e,t,n){var a=e.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,o=null,c=t,d=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(je&f)===f:(Aa&f)===f){var h=c.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Rs&&(d=!0);else if((Aa&h)===h){c=c.next,h===Rs&&(d=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=s):o=o.next=f,de.lanes|=h,ui|=h;f=c.action,Ui&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else h={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=h,r=s):o=o.next=h,de.lanes|=f,ui|=f;c=c.next}while(c!==null&&c!==t);if(o===null?r=s:o.next=l,!kn(s,e.memoizedState)&&(Nt=!0,d&&(n=xs,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=o,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function su(e){var t=Et(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);kn(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function hy(e,t,n){var a=de,i=Et(),s=Ae;if(s){if(n===void 0)throw Error(A(407));n=n()}else n=t();var r=!kn((Ke||i).memoizedState,n);if(r&&(i.memoizedState=n,Nt=!0),i=i.queue,kf(vy.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,ks(9,{destroy:void 0},gy.bind(null,a,i,n,t),null),Je===null)throw Error(A(349));s||Aa&127||my(a,t,n)}return n}function my(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t=hc(),de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gy(e,t,n,a){t.value=n,t.getSnapshot=a,yy(t)&&py(e)}function vy(e,t,n){return n(function(){yy(t)&&py(e)})}function yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function py(e){var t=$i(e,2);t!==null&&gn(t,e,2)}function md(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),Ui){Xa(!0);try{n()}finally{Xa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t}function by(e,t,n,a){return e.baseState=n,Mf(e,Ke,typeof a=="function"?a:Da)}function oS(e,t,n,a,i){if(vc(e))throw Error(A(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};ae.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,_y(t,s)):(s.next=n.next,t.pending=n.next=s)}}function _y(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=ae.T,r={};ae.T=r;try{var l=n(i,a),o=ae.S;o!==null&&o(r,l),hm(e,t,l)}catch(c){gd(e,t,c)}finally{s!==null&&r.types!==null&&(s.types=r.types),ae.T=s}}else try{s=n(i,a),hm(e,t,s)}catch(c){gd(e,t,c)}}function hm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){mm(e,t,a)},function(a){return gd(e,t,a)}):mm(e,t,n)}function mm(e,t,n){t.status="fulfilled",t.value=n,wy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_y(e,n)))}function gd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,wy(t),t=t.next;while(t!==a)}e.action=null}function wy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sy(e,t){return t}function gm(e,t){if(Ae){var n=Je.formState;if(n!==null){e:{var a=de;if(Ae){if(st){t:{for(var i=st,s=In;i.nodeType!==8;){if(!s){i=null;break t}if(i=Xn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){st=Xn(i.nextSibling),a=i.data==="F!";break e}}oi(a)}a=!1}a&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:t},n.queue=a,n=By.bind(null,de,a),a.dispatch=n,a=md(!1),s=Bf.bind(null,de,!1,a.queue),a=tn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=oS.bind(null,de,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function vm(e){var t=Et();return xy(t,Ke,e)}function xy(e,t,n){if(t=Mf(e,t,Sy)[0],e=so(Da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ml(t)}catch(r){throw r===Xs?fc:r}else a=t;t=Et();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(de.flags|=2048,ks(9,{destroy:void 0},cS.bind(null,i,n),null)),[a,s,e]}function cS(e,t){e.action=t}function ym(e){var t=Et(),n=Ke;if(n!==null)return xy(t,n,e);Et(),t=t.memoizedState,n=Et();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ks(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=de.updateQueue,t===null&&(t=hc(),de.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ey(){return Et().memoizedState}function ro(e,t,n,a){var i=tn();de.flags|=e,i.memoizedState=ks(1|t,{destroy:void 0},n,a===void 0?null:a)}function gc(e,t,n,a){var i=Et();a=a===void 0?null:a;var s=i.memoizedState.inst;Ke!==null&&a!==null&&Of(a,Ke.memoizedState.deps)?i.memoizedState=ks(t,s,n,a):(de.flags|=e,i.memoizedState=ks(1|t,s,n,a))}function pm(e,t){ro(8390656,8,e,t)}function kf(e,t){gc(2048,8,e,t)}function uS(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=hc(),de.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ty(e){var t=Et().memoizedState;return uS({ref:t,nextImpl:e}),function(){if(ze&2)throw Error(A(440));return t.impl.apply(void 0,arguments)}}function jy(e,t){return gc(4,2,e,t)}function Oy(e,t){return gc(4,4,e,t)}function Ay(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dy(e,t,n){n=n!=null?n.concat([e]):null,gc(4,4,Ay.bind(null,t,e),n)}function Uf(){}function Cy(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Of(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ny(e,t){var n=Et();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Of(t,a[1]))return a[0];if(a=e(),Ui){Xa(!0);try{e()}finally{Xa(!1)}}return n.memoizedState=[a,t],a}function zf(e,t,n){return n===void 0||Aa&1073741824&&!(je&261930)?e.memoizedState=t:(e.memoizedState=n,e=bp(),de.lanes|=e,ui|=e,n)}function Ry(e,t,n,a){return kn(n,t)?n:Ms.current!==null?(e=zf(e,n,a),kn(e,t)||(Nt=!0),e):!(Aa&42)||Aa&1073741824&&!(je&261930)?(Nt=!0,e.memoizedState=n):(e=bp(),de.lanes|=e,ui|=e,t)}function My(e,t,n,a,i){var s=Le.p;Le.p=s!==0&&8>s?s:8;var r=ae.T,l={};ae.T=l,Bf(e,!1,t,n);try{var o=i(),c=ae.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=sS(o,a);Cr(e,t,d,Mn(e))}else Cr(e,t,a,Mn(e))}catch(f){Cr(e,t,{then:function(){},status:"rejected",reason:f},Mn())}finally{Le.p=s,r!==null&&l.types!==null&&(r.types=l.types),ae.T=r}}function dS(){}function vd(e,t,n,a){if(e.tag!==5)throw Error(A(476));var i=ky(e).queue;My(e,i,t,Oi,n===null?dS:function(){return Uy(e),n(a)})}function ky(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Oi,baseState:Oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:Oi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uy(e){var t=ky(e);t.next===null&&(t=e.alternate.memoizedState),Cr(e,t.next.queue,{},Mn())}function Lf(){return Jt(Wr)}function zy(){return Et().memoizedState}function Ly(){return Et().memoizedState}function fS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mn();e=ei(n);var a=ti(t,e,n);a!==null&&(gn(a,t,n),Or(a,t,n)),t={cache:Sf()},e.payload=t;return}t=t.return}}function hS(e,t,n){var a=Mn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vc(e)?Hy(t,n):(n=pf(e,t,n,a),n!==null&&(gn(n,e,a),qy(n,t,a)))}function By(e,t,n){var a=Mn();Cr(e,t,n,a)}function Cr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vc(e))Hy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,kn(l,r))return dc(e,t,i,0),Je===null&&uc(),!1}catch{}finally{}if(n=pf(e,t,i,a),n!==null)return gn(n,e,a),qy(n,t,a),!0}return!1}function Bf(e,t,n,a){if(a={lane:2,revertLane:Xf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(t)throw Error(A(479))}else t=pf(e,n,a,2),t!==null&&gn(t,e,2)}function vc(e){var t=e.alternate;return e===de||t!==null&&t===de}function Hy(e,t){Ts=Ao=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qy(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tv(e,n)}}var Zr={readContext:Jt,use:mc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Zr.useEffectEvent=_t;var $y={readContext:Jt,use:mc,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:pm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ro(4194308,4,Ay.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){ro(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var a=e();if(Ui){Xa(!0);try{e()}finally{Xa(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=tn();if(n!==void 0){var i=n(t);if(Ui){Xa(!0);try{n(t)}finally{Xa(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=hS.bind(null,de,e),[a.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=md(e);var t=e.queue,n=By.bind(null,de,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Uf,useDeferredValue:function(e,t){var n=tn();return zf(n,e,t)},useTransition:function(){var e=md(!1);return e=My.bind(null,de,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=de,i=tn();if(Ae){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Je===null)throw Error(A(349));je&127||my(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,pm(vy.bind(null,a,s,e),[e]),a.flags|=2048,ks(9,{destroy:void 0},gy.bind(null,a,s,n,t),null),n},useId:function(){var e=tn(),t=Je.identifierPrefix;if(Ae){var n=sa,a=ia;n=(a&~(1<<32-Rn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Do++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=rS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lf,useFormState:gm,useActionState:gm,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bf.bind(null,de,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rf,useCacheRefresh:function(){return tn().memoizedState=fS.bind(null,de)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if(ze&2)throw Error(A(440));return n.impl.apply(void 0,arguments)}}},Hf={readContext:Jt,use:mc,useCallback:Cy,useContext:Jt,useEffect:kf,useImperativeHandle:Dy,useInsertionEffect:jy,useLayoutEffect:Oy,useMemo:Ny,useReducer:so,useRef:Ey,useState:function(){return so(Da)},useDebugValue:Uf,useDeferredValue:function(e,t){var n=Et();return Ry(n,Ke.memoizedState,e,t)},useTransition:function(){var e=so(Da)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:ml(e),t]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:Lf,useFormState:vm,useActionState:vm,useOptimistic:function(e,t){var n=Et();return by(n,Ke,e,t)},useMemoCache:Rf,useCacheRefresh:Ly};Hf.useEffectEvent=Ty;var Vy={readContext:Jt,use:mc,useCallback:Cy,useContext:Jt,useEffect:kf,useImperativeHandle:Dy,useInsertionEffect:jy,useLayoutEffect:Oy,useMemo:Ny,useReducer:su,useRef:Ey,useState:function(){return su(Da)},useDebugValue:Uf,useDeferredValue:function(e,t){var n=Et();return Ke===null?zf(n,e,t):Ry(n,Ke.memoizedState,e,t)},useTransition:function(){var e=su(Da)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:ml(e),t]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:Lf,useFormState:ym,useActionState:ym,useOptimistic:function(e,t){var n=Et();return Ke!==null?by(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Ly};Vy.useEffectEvent=Ty;function ru(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Mn(),i=ei(a);i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,a),t!==null&&(gn(t,e,a),Or(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Mn(),i=ei(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,a),t!==null&&(gn(t,e,a),Or(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mn(),a=ei(n);a.tag=2,t!=null&&(a.callback=t),t=ti(e,a,n),t!==null&&(gn(t,e,n),Or(t,e,n))}};function bm(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,a)||!Ir(i,s):!0}function _m(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&yd.enqueueReplaceState(t,t.state,null)}function zi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=lt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Yy(e){wo(e)}function Gy(e){console.error(e)}function Iy(e){wo(e)}function Co(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function wm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function pd(e,t,n){return n=ei(n),n.tag=3,n.payload={element:null},n.callback=function(){Co(e,t)},n}function Ky(e){return e=ei(e),e.tag=3,e}function Xy(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){wm(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){wm(t,n,a),typeof i!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function mS(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ks(t,n,i,!0),n=Un.current,n!==null){switch(n.tag){case 31:case 13:return Kn===null?Uo():n.alternate===null&&wt===0&&(wt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===To?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),yu(e,a,i)),!1;case 22:return n.flags|=65536,a===To?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),yu(e,a,i)),!1}throw Error(A(435,n.tag))}return yu(e,a,i),Uo(),!1}if(Ae)return t=Un.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==sd&&(e=Error(A(422),{cause:a}),Xr(Gn(e,n)))):(a!==sd&&(t=Error(A(423),{cause:a}),Xr(Gn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Gn(a,n),i=pd(e.stateNode,a,i),iu(e,i),wt!==4&&(wt=2)),!1;var s=Error(A(520),{cause:a});if(s=Gn(s,n),Mr===null?Mr=[s]:Mr.push(s),wt!==4&&(wt=2),t===null)return!0;a=Gn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=pd(n.stateNode,a,e),iu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Ky(i),Xy(i,e,n,a),iu(n,i),!1}n=n.return}while(n!==null);return!1}var qf=Error(A(461)),Nt=!1;function Kt(e,t,n,a){t.child=e===null?ly(t,null,n,a):ki(t,e.child,n,a)}function Sm(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Mi(t),a=Af(e,t,n,r,s,i),l=Df(),e!==null&&!Nt?(Cf(e,t,i),Ca(e,t,i)):(Ae&&l&&_f(t),t.flags|=1,Kt(e,t,a,i),t.child)}function xm(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!bf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Qy(e,t,s,a,i)):(e=ao(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!$f(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(r,a)&&e.ref===t.ref)return Ca(e,t,i)}return t.flags|=1,e=Ea(s,a),e.ref=t.ref,e.return=t,t.child=e}function Qy(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Ir(s,a)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=a=s,$f(e,i))e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Ca(e,t,i)}return bd(e,t,n,a,i)}function Jy(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return Em(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&io(t,s!==null?s.cachePool:null),s!==null?fm(t,s):fd(),uy(t);else return a=t.lanes=536870912,Em(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(io(t,s.cachePool),fm(t,s),Ya(),t.memoizedState=null):(e!==null&&io(t,null),fd(),Ya());return Kt(e,t,i,n),t.child}function br(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Em(e,t,n,a,i){var s=xf();return s=s===null?null:{parent:Ct._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&io(t,null),fd(),uy(t),e!==null&&Ks(e,t,a,!0),t.childLanes=i,null}function lo(e,t){return t=No({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tm(e,t,n){return ki(t,e.child,null,n),e=lo(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function gS(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(a.mode==="hidden")return e=lo(t,a),t.lanes=536870912,br(null,e);if(hd(t),(e=st)?(e=$p(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=ey(e),n.return=t,t.child=n,Qt=t,st=null)):e=null,e===null)throw oi(t);return t.lanes=536870912,null}return lo(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(hd(t),i)if(t.flags&256)t.flags&=-257,t=Tm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(A(558));else if(Nt||Ks(e,t,n,!1),i=(n&e.childLanes)!==0,Nt||i){if(a=Je,a!==null&&(r=jv(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,$i(e,r),gn(a,e,r),qf;Uo(),t=Tm(e,t,n)}else e=s.treeContext,st=Xn(r.nextSibling),Qt=t,Ae=!0,Wa=null,In=!1,e!==null&&ny(t,e),t=lo(t,a),t.flags|=4096;return t}return e=Ea(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bd(e,t,n,a,i){return Mi(t),n=Af(e,t,n,a,void 0,i),a=Df(),e!==null&&!Nt?(Cf(e,t,i),Ca(e,t,i)):(Ae&&a&&_f(t),t.flags|=1,Kt(e,t,n,i),t.child)}function jm(e,t,n,a,i,s){return Mi(t),t.updateQueue=null,n=fy(t,a,n,i),dy(e),a=Df(),e!==null&&!Nt?(Cf(e,t,s),Ca(e,t,s)):(Ae&&a&&_f(t),t.flags|=1,Kt(e,t,n,s),t.child)}function Om(e,t,n,a,i){if(Mi(t),t.stateNode===null){var s=vs,r=n.contextType;typeof r=="object"&&r!==null&&(s=Jt(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Tf(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Jt(r):vs,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ru(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&yd.enqueueReplaceState(s,s.state,null),Dr(t,a,s,i),Ar(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,o=zi(n,l);s.props=o;var c=s.context,d=n.contextType;r=vs,typeof d=="object"&&d!==null&&(r=Jt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==r)&&_m(t,s,a,r),Ha=!1;var h=t.memoizedState;s.state=h,Dr(t,a,s,i),Ar(),c=t.memoizedState,l||h!==c||Ha?(typeof f=="function"&&(ru(t,n,f,a),c=t.memoizedState),(o=Ha||bm(t,n,o,a,h,c,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=r,a=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ud(e,t),r=t.memoizedProps,d=zi(n,r),s.props=d,f=t.pendingProps,h=s.context,c=n.contextType,o=vs,typeof c=="object"&&c!==null&&(o=Jt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==f||h!==o)&&_m(t,s,a,o),Ha=!1,h=t.memoizedState,s.state=h,Dr(t,a,s,i),Ar();var m=t.memoizedState;r!==f||h!==m||Ha||e!==null&&e.dependencies!==null&&Eo(e.dependencies)?(typeof l=="function"&&(ru(t,n,l,a),m=t.memoizedState),(d=Ha||bm(t,n,d,a,h,m,o)||e!==null&&e.dependencies!==null&&Eo(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=d):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,oo(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,n,i)):Kt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ca(e,t,i),e}function Am(e,t,n,a){return Ri(),t.flags|=256,Kt(e,t,n,a),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:iy()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Dn),e}function Zy(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(i?Va(t):Ya(),(e=st)?(e=$p(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},n=ey(e),n.return=t,t.child=n,Qt=t,st=null)):e=null,e===null)throw oi(t);return Md(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ya(),i=t.mode,l=No({mode:"hidden",children:l},i),a=Ai(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=ou(n),a.childLanes=cu(e,r,n),t.memoizedState=lu,br(null,a)):(Va(t),_d(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(s)t.flags&256?(Va(t),t.flags&=-257,t=uu(e,t,n)):t.memoizedState!==null?(Ya(),t.child=e.child,t.flags|=128,t=null):(Ya(),l=a.fallback,i=t.mode,a=No({mode:"visible",children:a.children},i),l=Ai(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ki(t,e.child,null,n),a=t.child,a.memoizedState=ou(n),a.childLanes=cu(e,r,n),t.memoizedState=lu,t=br(null,a));else if(Va(t),Md(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,a=Error(A(419)),a.stack="",a.digest=r,Xr({value:a,source:null,stack:null}),t=uu(e,t,n)}else if(Nt||Ks(e,t,n,!1),r=(n&e.childLanes)!==0,Nt||r){if(r=Je,r!==null&&(a=jv(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,$i(e,a),gn(r,e,a),qf;Rd(l)||Uo(),t=uu(e,t,n)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,st=Xn(l.nextSibling),Qt=t,Ae=!0,Wa=null,In=!1,e!==null&&ny(t,e),t=_d(t,a.children),t.flags|=4096);return t}return i?(Ya(),l=a.fallback,i=t.mode,o=e.child,c=o.sibling,a=Ea(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=Ea(c,l):(l=Ai(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,br(null,a),a=t.child,l=e.child.memoizedState,l===null?l=ou(n):(i=l.cachePool,i!==null?(o=Ct._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=iy(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=cu(e,r,n),t.memoizedState=lu,br(e.child,a)):(Va(t),n=e.child,e=n.sibling,n=Ea(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function _d(e,t){return t=No({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function No(e,t){return e=jn(22,e,null,t),e.lanes=0,e}function uu(e,t,n){return ki(t,e.child,null,n),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ld(e.return,t,n)}function du(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function Py(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=xt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,tt(xt,r),Kt(e,t,a,n),a=Ae?Kr:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dm(e,n,t);else if(e.tag===19)Dm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),du(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}du(t,!0,n,null,s,a);break;case"together":du(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ca(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ui|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ks(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ea(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ea(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $f(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Eo(e)))}function vS(e,t,n){switch(t.tag){case 3:yo(t,t.stateNode.containerInfo),$a(t,Ct,e.memoizedState.cache),Ri();break;case 27:case 5:Qu(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:$a(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,hd(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Va(t),t.flags|=128,null):n&t.child.childLanes?Zy(e,t,n):(Va(t),e=Ca(e,t,n),e!==null?e.sibling:null);Va(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ks(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Py(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(xt,xt.current),a)break;return null;case 22:return t.lanes=0,Jy(e,t,n,t.pendingProps);case 24:$a(t,Ct,e.memoizedState.cache)}return Ca(e,t,n)}function Fy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!$f(e,n)&&!(t.flags&128))return Nt=!1,vS(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Ae&&t.flags&1048576&&ty(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=_i(t.elementType),t.type=e,typeof e=="function")bf(e)?(a=zi(e,a),t.tag=1,t=Om(null,t,e,a,n)):(t.tag=0,t=bd(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===sf){t.tag=11,t=Sm(null,t,e,a,n);break e}else if(i===rf){t.tag=14,t=xm(null,t,e,a,n);break e}}throw t=Ku(e)||e,Error(A(306,t,""))}}return t;case 0:return bd(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=zi(a,t.pendingProps),Om(e,t,a,i,n);case 3:e:{if(yo(t,t.stateNode.containerInfo),e===null)throw Error(A(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ud(e,t),Dr(t,a,null,n);var r=t.memoizedState;if(a=r.cache,$a(t,Ct,a),a!==s.cache&&od(t,[Ct],n,!0),Ar(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Am(e,t,a,n);break e}else if(a!==i){i=Gn(Error(A(424)),t),Xr(i),t=Am(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Xn(e.firstChild),Qt=t,Ae=!0,Wa=null,In=!0,n=ly(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ri(),a===i){t=Ca(e,t,n);break e}Kt(e,t,a,n)}t=t.child}return t;case 26:return oo(e,t),e===null?(n=Jm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ae||(n=t.type,e=t.pendingProps,a=Ho(Fa.current).createElement(n),a[Xt]=t,a[vn]=e,Zt(a,n,e),$t(a),t.stateNode=a):t.memoizedState=Jm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qu(t),e===null&&Ae&&(a=t.stateNode=Vp(t.type,t.pendingProps,Fa.current),Qt=t,In=!0,i=st,fi(t.type)?(kd=i,st=Xn(a.firstChild)):st=i),Kt(e,t,t.pendingProps.children,n),oo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((i=a=st)&&(a=KS(a,t.type,t.pendingProps,In),a!==null?(t.stateNode=a,Qt=t,st=Xn(a.firstChild),In=!1,i=!0):i=!1),i||oi(t)),Qu(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Cd(i,s)?a=null:r!==null&&Cd(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Af(e,t,lS,null,null,n),Wr._currentValue=i),oo(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&Ae&&((e=n=st)&&(n=XS(n,t.pendingProps,In),n!==null?(t.stateNode=n,Qt=t,st=null,e=!0):e=!1),e||oi(t)),null;case 13:return Zy(e,t,n);case 4:return yo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ki(t,null,a,n):Kt(e,t,a,n),t.child;case 11:return Sm(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,$a(t,t.type,a.value),Kt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Mi(t),i=Jt(i),a=a(i),t.flags|=1,Kt(e,t,a,n),t.child;case 14:return xm(e,t,t.type,t.pendingProps,n);case 15:return Qy(e,t,t.type,t.pendingProps,n);case 19:return Py(e,t,n);case 31:return gS(e,t,n);case 22:return Jy(e,t,n,t.pendingProps);case 24:return Mi(t),a=Jt(Ct),e===null?(i=xf(),i===null&&(i=Je,s=Sf(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Tf(t),$a(t,Ct,i)):(e.lanes&n&&(ud(e,t),Dr(t,null,null,n),Ar()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),$a(t,Ct,a)):(a=s.cache,$a(t,Ct,a),a!==i.cache&&od(t,[Ct],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function ha(e){e.flags|=4}function fu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Sp())e.flags|=8192;else throw Ci=To,Ef}else e.flags&=-16777217}function Cm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ip(t))if(Sp())e.flags|=8192;else throw Ci=To,Ef}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xv():536870912,e.lanes|=t,Us|=t)}function dr(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function yS(e,t,n){var a=t.pendingProps;switch(wf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(Ct),Ds(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?ha(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,au())),it(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(ha(t),s!==null?(it(t),Cm(t,s)):(it(t),fu(t,i,null,a,n))):s?s!==e.memoizedState?(ha(t),it(t),Cm(t,s)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ha(t),it(t),fu(t,i,e,a,n)),null;case 27:if(po(t),n=Fa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return it(t),null}e=la.current,Ji(t)?sm(t):(e=Vp(i,a,n),t.stateNode=e,ha(t))}return it(t),null;case 5:if(po(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return it(t),null}if(s=la.current,Ji(t))sm(t);else{var r=Ho(Fa.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[Xt]=t,s[vn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Zt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ha(t)}}return it(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ha(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(A(166));if(e=Fa.current,Ji(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Bp(e.nodeValue,n)),e||oi(t,!0)}else e=Ho(e).createTextNode(a),e[Xt]=t,t.stateNode=e}return it(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ji(t),n!==null){if(e===null){if(!a)throw Error(A(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(557));e[Xt]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else n=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if(t.flags&128)throw Error(A(558))}return it(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Ji(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Xt]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else i=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),zl(t,t.updateQueue),it(t),null);case 4:return Ds(),e===null&&Qf(t.stateNode.containerInfo),it(t),null;case 10:return Ta(t.type),it(t),null;case 19:if(Vt(xt),a=t.memoizedState,a===null)return it(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)dr(a,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Oo(e),s!==null){for(t.flags|=128,dr(a,!1),e=s.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Wv(n,e),n=n.sibling;return tt(xt,xt.current&1|2),Ae&&ba(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Cn()>Mo&&(t.flags|=128,i=!0,dr(a,!1),t.lanes=4194304)}else{if(!i)if(e=Oo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),dr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ae)return it(t),null}else 2*Cn()-a.renderingStartTime>Mo&&n!==536870912&&(t.flags|=128,i=!0,dr(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Cn(),e.sibling=null,n=xt.current,tt(xt,i?n&1|2:n&1),Ae&&ba(t,a.treeForkCount),e):(it(t),null);case 22:case 23:return Tn(t),jf(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),n=t.updateQueue,n!==null&&zl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Vt(Di),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(Ct),it(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function pS(e,t){switch(wf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(Ct),Ds(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return po(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(A(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(xt),null;case 4:return Ds(),null;case 10:return Ta(t.type),null;case 22:case 23:return Tn(t),jf(),e!==null&&Vt(Di),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(Ct),null;case 25:return null;default:return null}}function Wy(e,t){switch(wf(t),t.tag){case 3:Ta(Ct),Ds();break;case 26:case 27:case 5:po(t);break;case 4:Ds();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:Vt(xt);break;case 10:Ta(t.type);break;case 22:case 23:Tn(t),jf(),e!==null&&Vt(Di);break;case 24:Ta(Ct)}}function gl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){Ye(t,t.return,l)}}function ci(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(d){Ye(i,o,d)}}}a=a.next}while(a!==s)}}catch(d){Ye(t,t.return,d)}}function ep(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{cy(t,n)}catch(a){Ye(e,e.return,a)}}}function tp(e,t,n){n.props=zi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ye(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Ye(e,t,i)}}function ra(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Ye(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ye(e,t,i)}else n.current=null}function np(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Ye(e,e.return,i)}}function hu(e,t,n){try{var a=e.stateNode;qS(a,e.type,n,t),a[vn]=t}catch(i){Ye(e,e.return,i)}}function ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sa));else if(a!==4&&(a===27&&fi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(wd(e,t,n),e=e.sibling;e!==null;)wd(e,t,n),e=e.sibling}function Ro(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&fi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}function ip(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Zt(t,a,n),t[Xt]=e,t[vn]=n}catch(s){Ye(e,e.return,s)}}var _a=!1,Dt=!1,gu=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function bS(e,t){if(e=e.containerInfo,Ad=Yo,e=Iv(e),vf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==s||a!==0&&f.nodeType!==3||(o=r+a),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=r),h===s&&++d===a&&(o=r),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:e,selectionRange:n},Yo=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){switch(t=Ht,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var b=zi(n.type,i);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(_){Ye(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Nd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}}function sp(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ga(e,n),a&4&&gl(5,n);break;case 1:if(ga(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){Ye(n,n.return,r)}else{var i=zi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ye(n,n.return,r)}}a&64&&ep(n),a&512&&Nr(n,n.return);break;case 3:if(ga(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{cy(e,t)}catch(r){Ye(n,n.return,r)}}break;case 27:t===null&&a&4&&ip(n);case 26:case 5:ga(e,n),t===null&&a&4&&np(n),a&512&&Nr(n,n.return);break;case 12:ga(e,n);break;case 31:ga(e,n),a&4&&op(e,n);break;case 13:ga(e,n),a&4&&cp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=AS.bind(null,n),QS(e,n))));break;case 22:if(a=n.memoizedState!==null||_a,!a){t=t!==null&&t.memoizedState!==null||Dt,i=_a;var s=Dt;_a=a,(Dt=t)&&!s?ya(e,n,(n.subtreeFlags&8772)!==0):ga(e,n),_a=i,Dt=s}break;case 30:break;default:ga(e,n)}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&uf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,hn=!1;function ma(e,t,n){for(n=n.child;n!==null;)lp(e,t,n),n=n.sibling}function lp(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(ol,n)}catch{}switch(n.tag){case 26:Dt||ra(n,t),ma(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||ra(n,t);var a=dt,i=hn;fi(n.type)&&(dt=n.stateNode,hn=!1),ma(e,t,n),Ur(n.stateNode),dt=a,hn=i;break;case 5:Dt||ra(n,t);case 6:if(a=dt,i=hn,dt=null,ma(e,t,n),dt=a,hn=i,dt!==null)if(hn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(s){Ye(n,t,s)}else try{dt.removeChild(n.stateNode)}catch(s){Ye(n,t,s)}break;case 18:dt!==null&&(hn?(e=dt,Gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hs(e)):Gm(dt,n.stateNode));break;case 4:a=dt,i=hn,dt=n.stateNode.containerInfo,hn=!0,ma(e,t,n),dt=a,hn=i;break;case 0:case 11:case 14:case 15:ci(2,n,t),Dt||ci(4,n,t),ma(e,t,n);break;case 1:Dt||(ra(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&tp(n,t,a)),ma(e,t,n);break;case 21:ma(e,t,n);break;case 22:Dt=(a=Dt)||n.memoizedState!==null,ma(e,t,n),Dt=a;break;default:ma(e,t,n)}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hs(e)}catch(n){Ye(t,t.return,n)}}}function cp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hs(e)}catch(n){Ye(t,t.return,n)}}function _S(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nm),t;default:throw Error(A(435,e.tag))}}function Ll(e,t){var n=_S(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=DS.bind(null,e,a);a.then(i,i)}})}function dn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(fi(l.type)){dt=l.stateNode,hn=!1;break e}break;case 5:dt=l.stateNode,hn=!1;break e;case 3:case 4:dt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(dt===null)throw Error(A(160));lp(s,r,i),dt=null,hn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)up(t,e),t=t.sibling}var Wn=null;function up(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(t,e),fn(e),a&4&&(ci(3,e,e.return),gl(3,e),ci(5,e,e.return));break;case 1:dn(t,e),fn(e),a&512&&(Dt||n===null||ra(n,n.return)),a&64&&_a&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Wn;if(dn(t,e),fn(e),a&512&&(Dt||n===null||ra(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[dl]||s[Xt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Zt(s,a,n),s[Xt]=e,$t(s),a=s;break e;case"link":var r=Pm("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;case"meta":if(r=Pm("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),Zt(s,a,n),i.head.appendChild(s);break;default:throw Error(A(468,a))}s[Xt]=e,$t(s),a=s}e.stateNode=a}else Fm(i,e.type,e.stateNode);else e.stateNode=Zm(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Fm(i,e.type,e.stateNode):Zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&hu(e,e.memoizedProps,n.memoizedProps)}break;case 27:dn(t,e),fn(e),a&512&&(Dt||n===null||ra(n,n.return)),n!==null&&a&4&&hu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dn(t,e),fn(e),a&512&&(Dt||n===null||ra(n,n.return)),e.flags&32){i=e.stateNode;try{Ns(i,"")}catch(b){Ye(e,e.return,b)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,hu(e,i,n!==null?n.memoizedProps:i)),a&1024&&(gu=!0);break;case 6:if(dn(t,e),fn(e),a&4){if(e.stateNode===null)throw Error(A(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(b){Ye(e,e.return,b)}}break;case 3:if(fo=null,i=Wn,Wn=qo(t.containerInfo),dn(t,e),Wn=i,fn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch(b){Ye(e,e.return,b)}gu&&(gu=!1,dp(e));break;case 4:a=Wn,Wn=qo(e.stateNode.containerInfo),dn(t,e),fn(e),Wn=a;break;case 12:dn(t,e),fn(e);break;case 31:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 13:dn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yc=Cn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=_a,d=Dt;if(_a=c||i,Dt=d||o,dn(t,e),Dt=d,_a=c,fn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||_a||Dt||wi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(s=o.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(b){Ye(o,o.return,b)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){Ye(o,o.return,b)}}}else if(t.tag===18){if(n===null){o=t;try{var m=o.stateNode;i?Im(m,!0):Im(o.stateNode,!1)}catch(b){Ye(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ll(e,n))));break;case 19:dn(t,e),fn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 30:break;case 21:break;default:dn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(ap(a)){n=a;break}a=a.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var i=n.stateNode,s=mu(e);Ro(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Ns(r,""),n.flags&=-33);var l=mu(e);Ro(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=mu(e);wd(e,c,o);break;default:throw Error(A(161))}}catch(d){Ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sp(e,t.alternate,t),t=t.sibling}function wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ci(4,t,t.return),wi(t);break;case 1:ra(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tp(t,t.return,n),wi(t);break;case 27:Ur(t.stateNode);case 26:case 5:ra(t,t.return),wi(t);break;case 22:t.memoizedState===null&&wi(t);break;case 30:wi(t);break;default:wi(t)}e=e.sibling}}function ya(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ya(i,s,n),gl(4,s);break;case 1:if(ya(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ye(a,a.return,c)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)oy(o[i],l)}catch(c){Ye(a,a.return,c)}}n&&r&64&&ep(s),Nr(s,s.return);break;case 27:ip(s);case 26:case 5:ya(i,s,n),n&&a===null&&r&4&&np(s),Nr(s,s.return);break;case 12:ya(i,s,n);break;case 31:ya(i,s,n),n&&r&4&&op(i,s);break;case 13:ya(i,s,n),n&&r&4&&cp(i,s);break;case 22:s.memoizedState===null&&ya(i,s,n),Nr(s,s.return);break;case 30:break;default:ya(i,s,n)}t=t.sibling}}function Vf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&hl(n))}function Yf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hl(e))}function Jn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(e,t,n,a),t=t.sibling}function fp(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jn(e,t,n,a),i&2048&&gl(9,t);break;case 1:Jn(e,t,n,a);break;case 3:Jn(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hl(e)));break;case 12:if(i&2048){Jn(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ye(t,t.return,o)}}else Jn(e,t,n,a);break;case 31:Jn(e,t,n,a);break;case 13:Jn(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Jn(e,t,n,a):Rr(e,t):s._visibility&2?Jn(e,t,n,a):(s._visibility|=2,as(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Vf(r,t);break;case 24:Jn(e,t,n,a),i&2048&&Yf(t.alternate,t);break;default:Jn(e,t,n,a)}}function as(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,o=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:as(s,r,l,o,i),gl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?as(s,r,l,o,i):Rr(s,r):(d._visibility|=2,as(s,r,l,o,i)),i&&c&2048&&Vf(r.alternate,r);break;case 24:as(s,r,l,o,i),i&&c&2048&&Yf(r.alternate,r);break;default:as(s,r,l,o,i)}t=t.sibling}}function Rr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Rr(n,a),i&2048&&Vf(a.alternate,a);break;case 24:Rr(n,a),i&2048&&Yf(a.alternate,a);break;default:Rr(n,a)}t=t.sibling}}var _r=8192;function Zi(e,t,n){if(e.subtreeFlags&_r)for(e=e.child;e!==null;)hp(e,t,n),e=e.sibling}function hp(e,t,n){switch(e.tag){case 26:Zi(e,t,n),e.flags&_r&&e.memoizedState!==null&&rx(n,Wn,e.memoizedState,e.memoizedProps);break;case 5:Zi(e,t,n);break;case 3:case 4:var a=Wn;Wn=qo(e.stateNode.containerInfo),Zi(e,t,n),Wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=_r,_r=16777216,Zi(e,t,n),_r=a):Zi(e,t,n));break;default:Zi(e,t,n)}}function mp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,vp(a,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:fr(e),e.flags&2048&&ci(9,e,e.return);break;case 3:fr(e);break;case 12:fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,co(e)):fr(e);break;default:fr(e)}}function co(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ht=a,vp(a,e)}mp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ci(8,t,t.return),co(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,co(t));break;default:co(t)}e=e.sibling}}function vp(e,t){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:ci(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:hl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ht=a;else e:for(n=e;Ht!==null;){a=Ht;var i=a.sibling,s=a.return;if(rp(a),a===n){Ht=null;break e}if(i!==null){i.return=s,Ht=i;break e}Ht=s}}}var wS={getCacheForType:function(e){var t=Jt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Jt(Ct).controller.signal}},SS=typeof WeakMap=="function"?WeakMap:Map,ze=0,Je=null,we=null,je=0,Ve=0,En=null,Ja=!1,Qs=!1,Gf=!1,Na=0,wt=0,ui=0,Ni=0,If=0,Dn=0,Us=0,Mr=null,mn=null,Sd=!1,yc=0,yp=0,Mo=1/0,ko=null,ni=null,zt=0,ai=null,zs=null,ja=0,xd=0,Ed=null,pp=null,kr=0,Td=null;function Mn(){return ze&2&&je!==0?je&-je:ae.T!==null?Xf():Ov()}function bp(){if(Dn===0)if(!(je&536870912)||Ae){var e=Dl;Dl<<=1,!(Dl&3932160)&&(Dl=262144),Dn=e}else Dn=536870912;return e=Un.current,e!==null&&(e.flags|=32),Dn}function gn(e,t,n){(e===Je&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),Za(e,je,Dn,!1)),ul(e,n),(!(ze&2)||e!==Je)&&(e===Je&&(!(ze&2)&&(Ni|=n),wt===4&&Za(e,je,Dn,!1)),ca(e))}function _p(e,t,n){if(ze&6)throw Error(A(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||cl(e,t),i=a?TS(e,t):vu(e,t,!0),s=a;do{if(i===0){Qs&&!a&&Za(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!xS(n)){i=vu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Mr;var o=l.current.memoizedState.isDehydrated;if(o&&(Ls(l,r).flags|=256),r=vu(l,r,!1),r!==2){if(Gf&&!o){l.errorRecoveryDisabledLanes|=s,Ni|=s,i=4;break e}s=mn,mn=i,s!==null&&(mn===null?mn=s:mn.push.apply(mn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Ls(e,0),Za(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:Za(a,t,Dn,!Ja);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(i=yc+300-Cn(),10<i)){if(Za(a,t,Dn,!Ja),rc(a,0,!0)!==0)break e;ja=t,a.timeoutHandle=qp(Rm.bind(null,a,n,mn,ko,Sd,t,Dn,Ni,Us,Ja,s,"Throttled",-0,0),i);break e}Rm(a,n,mn,ko,Sd,t,Dn,Ni,Us,Ja,s,null,-0,0)}}break}while(!0);ca(e)}function Rm(e,t,n,a,i,s,r,l,o,c,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},hp(t,s,f);var b=(s&62914560)===s?yc-Cn():(s&4194048)===s?yp-Cn():0;if(b=lx(f,b),b!==null){ja=s,e.cancelPendingCommit=b(km.bind(null,e,t,s,n,a,i,r,l,o,d,f,null,h,m)),Za(e,s,r,!c);return}}km(e,t,s,n,a,i,r,l,o)}function xS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,n,a){t&=~If,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Rn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&Ev(e,n,t)}function pc(){return ze&6?!0:(vl(0),!1)}function Kf(){if(we!==null){if(Ve===0)var e=we.return;else e=we,xa=Vi=null,Nf(e),Es=null,Qr=0,e=we;for(;e!==null;)Wy(e.alternate,e),e=e.return;we=null}}function Ls(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,YS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ja=0,Kf(),Je=e,we=n=Ea(e.current,null),je=t,Ve=0,En=null,Ja=!1,Qs=cl(e,t),Gf=!1,Us=Dn=If=Ni=ui=wt=0,mn=Mr=null,Sd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Rn(a),s=1<<i;t|=e[i],a&=~s}return Na=t,uc(),n}function wp(e,t){de=null,ae.H=Zr,t===Xs||t===fc?(t=um(),Ve=3):t===Ef?(t=um(),Ve=4):Ve=t===qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,En=t,we===null&&(wt=1,Co(e,Gn(t,e.current)))}function Sp(){var e=Un.current;return e===null?!0:(je&4194048)===je?Kn===null:(je&62914560)===je||je&536870912?e===Kn:!1}function xp(){var e=ae.H;return ae.H=Zr,e===null?Zr:e}function Ep(){var e=ae.A;return ae.A=wS,e}function Uo(){wt=4,Ja||(je&4194048)!==je&&Un.current!==null||(Qs=!0),!(ui&134217727)&&!(Ni&134217727)||Je===null||Za(Je,je,Dn,!1)}function vu(e,t,n){var a=ze;ze|=2;var i=xp(),s=Ep();(Je!==e||je!==t)&&(ko=null,Ls(e,t)),t=!1;var r=wt;e:do try{if(Ve!==0&&we!==null){var l=we,o=En;switch(Ve){case 8:Kf(),r=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var c=Ve;if(Ve=0,En=null,bs(e,l,o,c),n&&Qs){r=0;break e}break;default:c=Ve,Ve=0,En=null,bs(e,l,o,c)}}ES(),r=wt;break}catch(d){wp(e,d)}while(!0);return t&&e.shellSuspendCounter++,xa=Vi=null,ze=a,ae.H=i,ae.A=s,we===null&&(Je=null,je=0,uc()),r}function ES(){for(;we!==null;)Tp(we)}function TS(e,t){var n=ze;ze|=2;var a=xp(),i=Ep();Je!==e||je!==t?(ko=null,Mo=Cn()+500,Ls(e,t)):Qs=cl(e,t);e:do try{if(Ve!==0&&we!==null){t=we;var s=En;t:switch(Ve){case 1:Ve=0,En=null,bs(e,t,s,1);break;case 2:case 9:if(cm(s)){Ve=0,En=null,Mm(t);break}t=function(){Ve!==2&&Ve!==9||Je!==e||(Ve=7),ca(e)},s.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:cm(s)?(Ve=0,En=null,Mm(t)):(Ve=0,En=null,bs(e,t,s,7));break;case 5:var r=null;switch(we.tag){case 26:r=we.memoizedState;case 5:case 27:var l=we;if(r?Ip(r):l.stateNode.complete){Ve=0,En=null;var o=l.sibling;if(o!==null)we=o;else{var c=l.return;c!==null?(we=c,bc(c)):we=null}break t}}Ve=0,En=null,bs(e,t,s,5);break;case 6:Ve=0,En=null,bs(e,t,s,6);break;case 8:Kf(),wt=6;break e;default:throw Error(A(462))}}jS();break}catch(d){wp(e,d)}while(!0);return xa=Vi=null,ae.H=a,ae.A=i,ze=n,we!==null?0:(Je=null,je=0,uc(),wt)}function jS(){for(;we!==null&&!J_();)Tp(we)}function Tp(e){var t=Fy(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?bc(e):we=t}function Mm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jm(n,t,t.pendingProps,t.type,void 0,je);break;case 11:t=jm(n,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Nf(t);default:Wy(n,t),t=we=Wv(t,Na),t=Fy(n,t,Na)}e.memoizedProps=e.pendingProps,t===null?bc(e):we=t}function bs(e,t,n,a){xa=Vi=null,Nf(t),Es=null,Qr=0;var i=t.return;try{if(mS(e,i,t,n,je)){wt=1,Co(e,Gn(n,e.current)),we=null;return}}catch(s){if(i!==null)throw we=i,s;wt=1,Co(e,Gn(n,e.current)),we=null;return}t.flags&32768?(Ae||a===1?e=!0:Qs||je&536870912?e=!1:(Ja=e=!0,(a===2||a===9||a===3||a===6)&&(a=Un.current,a!==null&&a.tag===13&&(a.flags|=16384))),jp(t,e)):bc(t)}function bc(e){var t=e;do{if(t.flags&32768){jp(t,Ja);return}e=t.return;var n=yS(t.alternate,t,Na);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);wt===0&&(wt=5)}function jp(e,t){do{var n=pS(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);wt=6,we=null}function km(e,t,n,a,i,s,r,l,o){e.cancelPendingCommit=null;do _c();while(zt!==0);if(ze&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(s=t.lanes|t.childLanes,s|=yf,sw(e,n,s,r,l,o),e===Je&&(we=Je=null,je=0),zs=t,ai=e,ja=n,xd=s,Ed=i,pp=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,CS(bo,function(){return Np(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=ae.T,ae.T=null,i=Le.p,Le.p=2,r=ze,ze|=4;try{bS(e,t,n)}finally{ze=r,Le.p=i,ae.T=a}}zt=1,Op(),Ap(),Dp()}}function Op(){if(zt===1){zt=0;var e=ai,t=zs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ae.T,ae.T=null;var a=Le.p;Le.p=2;var i=ze;ze|=4;try{up(t,e);var s=Dd,r=Iv(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Gv(l.ownerDocument.documentElement,l)){if(o!==null&&vf(l)){var c=o.start,d=o.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),b=l.textContent.length,_=Math.min(o.start,b),S=o.end===void 0?_:Math.min(o.end,b);!m.extend&&_>S&&(r=S,S=_,_=r);var y=nm(l,_),g=nm(l,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=f.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),_>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var w=f[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Yo=!!Ad,Dd=Ad=null}finally{ze=i,Le.p=a,ae.T=n}}e.current=t,zt=2}}function Ap(){if(zt===2){zt=0;var e=ai,t=zs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ae.T,ae.T=null;var a=Le.p;Le.p=2;var i=ze;ze|=4;try{sp(e,t.alternate,t)}finally{ze=i,Le.p=a,ae.T=n}}zt=3}}function Dp(){if(zt===4||zt===3){zt=0,Z_();var e=ai,t=zs,n=ja,a=pp;t.subtreeFlags&10256||t.flags&10256?zt=5:(zt=0,zs=ai=null,Cp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ni=null),cf(n),t=t.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(ol,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ae.T,i=Le.p,Le.p=2,ae.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{ae.T=t,Le.p=i}}ja&3&&_c(),ca(e),i=e.pendingLanes,n&261930&&i&42?e===Td?kr++:(kr=0,Td=e):kr=0,vl(0)}}function Cp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hl(t)))}function _c(){return Op(),Ap(),Dp(),Np()}function Np(){if(zt!==5)return!1;var e=ai,t=xd;xd=0;var n=cf(ja),a=ae.T,i=Le.p;try{Le.p=32>n?32:n,ae.T=null,n=Ed,Ed=null;var s=ai,r=ja;if(zt=0,zs=ai=null,ja=0,ze&6)throw Error(A(331));var l=ze;if(ze|=4,gp(s.current),fp(s,s.current,r,n),ze=l,vl(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(ol,s)}catch{}return!0}finally{Le.p=i,ae.T=a,Cp(e,t)}}function Um(e,t,n){t=Gn(n,t),t=pd(e.stateNode,t,2),e=ti(e,t,2),e!==null&&(ul(e,2),ca(e))}function Ye(e,t,n){if(e.tag===3)Um(e,e,n);else for(;t!==null;){if(t.tag===3){Um(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ni===null||!ni.has(a))){e=Gn(n,e),n=Ky(2),a=ti(t,n,2),a!==null&&(Xy(n,a,t,e),ul(a,2),ca(a));break}}t=t.return}}function yu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new SS;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Gf=!0,i.add(n),e=OS.bind(null,e,t,n),t.then(e,e))}function OS(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Je===e&&(je&n)===n&&(wt===4||wt===3&&(je&62914560)===je&&300>Cn()-yc?!(ze&2)&&Ls(e,0):If|=n,Us===je&&(Us=0)),ca(e)}function Rp(e,t){t===0&&(t=xv()),e=$i(e,t),e!==null&&(ul(e,t),ca(e))}function AS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rp(e,n)}function DS(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(A(314))}a!==null&&a.delete(t),Rp(e,n)}function CS(e,t){return lf(e,t)}var zo=null,is=null,jd=!1,Lo=!1,pu=!1,Pa=0;function ca(e){e!==is&&e.next===null&&(is===null?zo=is=e:is=is.next=e),Lo=!0,jd||(jd=!0,RS())}function vl(e,t){if(!pu&&Lo){pu=!0;do for(var n=!1,a=zo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Rn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,zm(a,s))}else s=je,s=rc(a,a===Je?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||cl(a,s)||(n=!0,zm(a,s));a=a.next}while(n);pu=!1}}function NS(){Mp()}function Mp(){Lo=jd=!1;var e=0;Pa!==0&&VS()&&(e=Pa);for(var t=Cn(),n=null,a=zo;a!==null;){var i=a.next,s=kp(a,t);s===0?(a.next=null,n===null?zo=i:n.next=i,i===null&&(is=n)):(n=a,(e!==0||s&3)&&(Lo=!0)),a=i}zt!==0&&zt!==5||vl(e),Pa!==0&&(Pa=0)}function kp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Rn(s),l=1<<r,o=i[r];o===-1?(!(l&n)||l&a)&&(i[r]=iw(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(t=Je,n=je,n=rc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Kc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||cl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Kc(a),cf(n)){case 2:case 8:n=wv;break;case 32:n=bo;break;case 268435456:n=Sv;break;default:n=bo}return a=Up.bind(null,e),n=lf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Kc(a),e.callbackPriority=2,e.callbackNode=null,2}function Up(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var a=je;return a=rc(e,e===Je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(_p(e,a,t),kp(e,Cn()),e.callbackNode!=null&&e.callbackNode===n?Up.bind(null,e):null)}function zm(e,t){if(_c())return null;_p(e,t,!0)}function RS(){GS(function(){ze&6?lf(_v,NS):Mp()})}function Xf(){if(Pa===0){var e=Rs;e===0&&(e=Al,Al<<=1,!(Al&261888)&&(Al=256)),Pa=e}return Pa}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:eo(""+e)}function Bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function MS(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Lm((i[vn]||null).action),r=a.submitter;r&&(t=(t=r[vn]||null)?Lm(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new lc("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Pa!==0){var o=r?Bm(i,r):new FormData(i);vd(n,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(l.preventDefault(),o=r?Bm(i,r):new FormData(i),vd(n,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var bu=0;bu<id.length;bu++){var _u=id[bu],kS=_u.toLowerCase(),US=_u[0].toUpperCase()+_u.slice(1);aa(kS,"on"+US)}aa(Xv,"onAnimationEnd");aa(Qv,"onAnimationIteration");aa(Jv,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(Pw,"onTransitionRun");aa(Fw,"onTransitionStart");aa(Ww,"onTransitionCancel");aa(Zv,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function zp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){wo(d)}i.currentTarget=null,s=o}else for(r=0;r<a.length;r++){if(l=a[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=c;try{s(i)}catch(d){wo(d)}i.currentTarget=null,s=o}}}}function _e(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var a=e+"__bubble";n.has(a)||(Lp(t,e,2,!1),n.add(a))}function wu(e,t,n){var a=0;t&&(a|=4),Lp(n,e,a,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[Bl]){e[Bl]=!0,Av.forEach(function(n){n!=="selectionchange"&&(zS.has(n)||wu(n,!1,e),wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,wu("selectionchange",!1,t))}}function Lp(e,t,n,a){switch(Zp(t)){case 2:var i=ux;break;case 8:i=dx;break;default:i=Ff}n=i.bind(null,t,n,e),i=void 0,!td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Su(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=us(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=s=r;continue e}l=l.parentNode}}a=a.return}zv(function(){var c=s,d=ff(n),f=[];e:{var h=Pv.get(e);if(h!==void 0){var m=lc,b=e;switch(e){case"keypress":if(no(n)===0)break e;case"keydown":case"keyup":m=Dw;break;case"focusin":b="focus",m=Pc;break;case"focusout":b="blur",m=Pc;break;case"beforeblur":case"afterblur":m=Pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rw;break;case Xv:case Qv:case Jv:m=_w;break;case Zv:m=kw;break;case"scroll":case"scrollend":m=gw;break;case"wheel":m=zw;break;case"copy":case"cut":case"paste":m=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qh;break;case"toggle":case"beforetoggle":m=Bw}var _=(t&4)!==0,S=!_&&(e==="scroll"||e==="scrollend"),y=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,v;g!==null;){var w=g;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||y===null||(w=Yr(g,y),w!=null&&_.push(Fr(g,w,v))),S)break;g=g.return}0<_.length&&(h=new m(h,b,null,n,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==ed&&(b=n.relatedTarget||n.fromElement)&&(us(b)||b[Gs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?us(b):null,b!==null&&(S=ll(b),_=b.tag,b!==S||_!==5&&_!==27&&_!==6)&&(b=null)):(m=null,b=c),m!==b)){if(_=Kh,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=Qh,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?h:pr(m),v=b==null?h:pr(b),h=new _(w,g+"leave",m,n,d),h.target=S,h.relatedTarget=v,w=null,us(d)===c&&(_=new _(y,g+"enter",b,n,d),_.target=v,_.relatedTarget=S,w=_),S=w,m&&b)t:{for(_=LS,y=m,g=b,v=0,w=y;w;w=_(w))v++;w=0;for(var x=g;x;x=_(x))w++;for(;0<v-w;)y=_(y),v--;for(;0<w-v;)g=_(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate){_=y;break t}y=_(y),g=_(g)}_=null}else _=null;m!==null&&Hm(f,h,m,_,!1),b!==null&&S!==null&&Hm(f,S,b,_,!0)}}e:{if(h=c?pr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Fh;else if(Ph(h))if(Vv)j=Qw;else{j=Kw;var T=Iw}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&df(c.elementType)&&(j=Fh):j=Xw;if(j&&(j=j(e,c))){$v(f,j,n,d);break e}T&&T(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Wu(h,"number",h.value)}switch(T=c?pr(c):window,e){case"focusin":(Ph(T)||T.contentEditable==="true")&&(hs=T,nd=c,Tr=null);break;case"focusout":Tr=nd=hs=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,am(f,n,d);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":am(f,n,d)}var O;if(gf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else fs?Hv(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Bv&&n.locale!=="ko"&&(fs||D!=="onCompositionStart"?D==="onCompositionEnd"&&fs&&(O=Lv()):(Qa=d,hf="value"in Qa?Qa.value:Qa.textContent,fs=!0)),T=Bo(c,D),0<T.length&&(D=new Xh(D,e,null,n,d),f.push({event:D,listeners:T}),O?D.data=O:(O=qv(n),O!==null&&(D.data=O)))),(O=qw?$w(e,n):Vw(e,n))&&(D=Bo(c,"onBeforeInput"),0<D.length&&(T=new Xh("onBeforeInput","beforeinput",null,n,d),f.push({event:T,listeners:D}),T.data=O)),MS(f,e,c,n,d)}zp(f,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bo(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Yr(e,n),i!=null&&a.unshift(Fr(e,i,s)),i=Yr(e,t),i!=null&&a.push(Fr(e,i,s))),e.tag===3)return a;e=e.return}return[]}function LS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hm(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Yr(n,s),c!=null&&r.unshift(Fr(n,c,o))):i||(c=Yr(n,s),c!=null&&r.push(Fr(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var BS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(BS,`
`).replace(HS,"")}function Bp(e,t){return t=qm(t),qm(e)===t}function Ie(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ns(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ns(e,""+a);break;case"className":Nl(e,"class",a);break;case"tabIndex":Nl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(e,n,a);break;case"style":Uv(e,a,s);break;case"data":if(t!=="object"){Nl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=eo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ie(e,t,"name",i.name,i,null),Ie(e,t,"formEncType",i.formEncType,i,null),Ie(e,t,"formMethod",i.formMethod,i,null),Ie(e,t,"formTarget",i.formTarget,i,null)):(Ie(e,t,"encType",i.encType,i,null),Ie(e,t,"method",i.method,i,null),Ie(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=eo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=eo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Wl(e,"popover",a);break;case"xlinkActuate":fa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":fa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":fa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":fa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":fa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":fa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":fa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":fa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":fa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hw.get(n)||n,Wl(e,n,a))}}function Od(e,t,n,a,i,s){switch(n){case"style":Uv(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ns(e,a):(typeof a=="number"||typeof a=="bigint")&&Ns(e,""+a);break;case"onScroll":a!=null&&_e("scroll",e);break;case"onScrollEnd":a!=null&&_e("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[vn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Wl(e,n,a)}}}function Zt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Ie(e,t,s,r,n,null)}}i&&Ie(e,t,"srcSet",n.srcSet,n,null),a&&Ie(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var l=s=r=i=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(d!=null)switch(a){case"name":i=d;break;case"type":r=d;break;case"checked":o=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:Ie(e,t,a,d,n,null)}}Rv(e,s,l,o,c,r,i,!1);return;case"select":_e("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:Ie(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?ws(e,!!a,t,!1):n!=null&&ws(e,!!a,n,!0);return;case"textarea":_e("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:Ie(e,t,r,l,n,null)}kv(e,a,i,s);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ie(e,t,o,a,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(a=0;a<Pr.length;a++)_e(Pr[a],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Ie(e,t,c,a,n,null)}return;default:if(df(t)){for(d in n)n.hasOwnProperty(d)&&(a=n[d],a!==void 0&&Od(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&Ie(e,t,l,a,n,null))}function qS(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,o=null,c=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:a.hasOwnProperty(m)||Ie(e,t,m,null,a,f)}}for(var h in a){var m=a[h];if(f=n[h],a.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:m!==f&&Ie(e,t,h,m,a,f)}}Fu(e,r,l,o,c,d,s,i);return;case"select":m=r=l=h=null;for(s in n)if(o=n[s],n.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":m=o;default:a.hasOwnProperty(s)||Ie(e,t,s,null,a,o)}for(i in a)if(s=a[i],o=n[i],a.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==o&&Ie(e,t,i,s,a,o)}t=l,n=r,a=m,h!=null?ws(e,!!n,h,!1):!!a!=!!n&&(t!=null?ws(e,!!n,t,!0):ws(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ie(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(A(91));break;default:i!==s&&Ie(e,t,r,i,a,s)}Mv(e,h,m);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:Ie(e,t,b,null,a,h)}for(o in a)if(h=a[o],m=n[o],a.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ie(e,t,o,h,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!a.hasOwnProperty(_)&&Ie(e,t,_,null,a,h);for(c in a)if(h=a[c],m=n[c],a.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:Ie(e,t,c,h,a,m)}return;default:if(df(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!a.hasOwnProperty(S)&&Od(e,t,S,void 0,a,h);for(d in a)h=a[d],m=n[d],!a.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Od(e,t,d,h,a,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&Ie(e,t,y,null,a,h);for(f in a)h=a[f],m=n[f],!a.hasOwnProperty(f)||h===m||h==null&&m==null||Ie(e,t,f,h,a,m)}function $m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&$m(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>l)break;var d=o.transferSize,f=o.initiatorType;d&&$m(f)&&(o=o.responseEnd,r+=d*(o<l?1:(l-c)/(o-c)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Dd=null;function Ho(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=null;function VS(){var e=window.event;return e&&e.type==="popstate"?e===xu?!1:(xu=e,!0):(xu=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(IS)}:qp;function IS(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function Gm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Hs(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ur(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ur(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[dl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Ur(e.ownerDocument.body);n=i}while(n);Hs(t)}function Im(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nd(n),uf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function KS(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function XS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function $p(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function QS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var kd=null;function Km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Xn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Vp(e,t,n){switch(t=Ho(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function Ur(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);uf(e)}var Qn=new Map,Qm=new Set;function qo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=Le.d;Le.d={f:JS,r:ZS,D:PS,C:FS,L:WS,m:ex,X:nx,S:tx,M:ax};function JS(){var e=Ra.f(),t=pc();return e||t}function ZS(e){var t=Is(e);t!==null&&t.tag===5&&t.type==="form"?Uy(t):Ra.r(e)}var Js=typeof document>"u"?null:document;function Yp(e,t,n){var a=Js;if(a&&typeof t=="string"&&t){var i=Yn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Qm.has(i)||(Qm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Zt(t,"link",e),$t(t),a.head.appendChild(t)))}}function PS(e){Ra.D(e),Yp("dns-prefetch",e,null)}function FS(e,t){Ra.C(e,t),Yp("preconnect",e,t)}function WS(e,t,n){Ra.L(e,t,n);var a=Js;if(a&&e&&t){var i='link[rel="preload"][as="'+Yn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Yn(n.imageSizes)+'"]')):i+='[href="'+Yn(e)+'"]';var s=i;switch(t){case"style":s=Bs(e);break;case"script":s=Zs(e)}Qn.has(s)||(e=lt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qn.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(yl(s))||t==="script"&&a.querySelector(pl(s))||(t=a.createElement("link"),Zt(t,"link",e),$t(t),a.head.appendChild(t)))}}function ex(e,t){Ra.m(e,t);var n=Js;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Yn(a)+'"][href="'+Yn(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Zs(e)}if(!Qn.has(s)&&(e=lt({rel:"modulepreload",href:e},t),Qn.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(s)))return}a=n.createElement("link"),Zt(a,"link",e),$t(a),n.head.appendChild(a)}}}function tx(e,t,n){Ra.S(e,t,n);var a=Js;if(a&&e){var i=_s(a).hoistableStyles,s=Bs(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(yl(s)))l.loading=5;else{e=lt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qn.get(s))&&Jf(e,n);var o=r=a.createElement("link");$t(o),Zt(o,"link",e),o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,uo(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function nx(e,t){Ra.X(e,t);var n=Js;if(n&&e){var a=_s(n).hoistableScripts,i=Zs(e),s=a.get(i);s||(s=n.querySelector(pl(i)),s||(e=lt({src:e,async:!0},t),(t=Qn.get(i))&&Zf(e,t),s=n.createElement("script"),$t(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function ax(e,t){Ra.M(e,t);var n=Js;if(n&&e){var a=_s(n).hoistableScripts,i=Zs(e),s=a.get(i);s||(s=n.querySelector(pl(i)),s||(e=lt({src:e,async:!0,type:"module"},t),(t=Qn.get(i))&&Zf(e,t),s=n.createElement("script"),$t(s),Zt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Jm(e,t,n,a){var i=(i=Fa.current)?qo(i):null;if(!i)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Bs(n.href),n=_s(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Bs(n.href);var s=_s(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(yl(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(e,n),s||ix(i,e,n,r.state))),t&&a===null)throw Error(A(528,""));return r}if(t&&a!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zs(n),n=_s(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function Bs(e){return'href="'+Yn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function Gp(e){return lt({},e,{"data-precedence":e.precedence,precedence:null})}function ix(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Zt(t,"link",n),$t(t),e.head.appendChild(t))}function Zs(e){return'[src="'+Yn(e)+'"]'}function pl(e){return"script[async]"+e}function Zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Yn(n.href)+'"]');if(a)return t.instance=a,$t(a),a;var i=lt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$t(a),Zt(a,"style",i),uo(a,n.precedence,e),t.instance=a;case"stylesheet":i=Bs(n.href);var s=e.querySelector(yl(i));if(s)return t.state.loading|=4,t.instance=s,$t(s),s;a=Gp(n),(i=Qn.get(i))&&Jf(a,i),s=(e.ownerDocument||e).createElement("link"),$t(s);var r=s;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),t.state.loading|=4,uo(s,n.precedence,e),t.instance=s;case"script":return s=Zs(n.src),(i=e.querySelector(pl(s)))?(t.instance=i,$t(i),i):(a=n,(i=Qn.get(s))&&(a=lt({},n),Zf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),$t(i),Zt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,uo(a,n.precedence,e));return t.instance}function uo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Jf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fo=null;function Pm(e,t,n){if(fo===null){var a=new Map,i=fo=new Map;i.set(n,a)}else i=fo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[dl]||s[Xt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function Fm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function sx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ip(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function rx(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Bs(a.href),s=t.querySelector(yl(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$o.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,$t(s);return}s=t.ownerDocument||t,a=Gp(a),(i=Qn.get(i))&&Jf(a,i),s=s.createElement("link"),$t(s);var r=s;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Zt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=$o.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Eu=0;function lx(e,t){return e.stylesheets&&e.count===0&&ho(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Eu===0&&(Eu=62500*$S());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Eu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function $o(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ho(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vo=null;function ho(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vo=new Map,t.forEach(ox,e),Vo=null,$o.call(e))}function ox(e,t){if(!(t.state.loading&4)){var n=Vo.get(e);if(n)var a=n.get(null);else{n=new Map,Vo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=$o.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Wr={$$typeof:wa,Provider:null,Consumer:null,_currentValue:Oi,_currentValue2:Oi,_threadCount:0};function cx(e,t,n,a,i,s,r,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.hiddenUpdates=Xc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Kp(e,t,n,a,i,s,r,l,o,c,d,f){return e=new cx(e,t,n,r,o,c,d,f,l),t=1,s===!0&&(t|=24),s=jn(3,null,null,t),e.current=s,s.stateNode=e,t=Sf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Tf(s),e}function Xp(e){return e?(e=vs,e):vs}function Qp(e,t,n,a,i,s){i=Xp(i),a.context===null?a.context=i:a.pendingContext=i,a=ei(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ti(e,a,t),n!==null&&(gn(n,e,t),Or(n,e,t))}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pf(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function Jp(e){if(e.tag===13||e.tag===31){var t=$i(e,67108864);t!==null&&gn(t,e,67108864),Pf(e,67108864)}}function eg(e){if(e.tag===13||e.tag===31){var t=Mn();t=of(t);var n=$i(e,t);n!==null&&gn(n,e,t),Pf(e,t)}}var Yo=!0;function ux(e,t,n,a){var i=ae.T;ae.T=null;var s=Le.p;try{Le.p=2,Ff(e,t,n,a)}finally{Le.p=s,ae.T=i}}function dx(e,t,n,a){var i=ae.T;ae.T=null;var s=Le.p;try{Le.p=8,Ff(e,t,n,a)}finally{Le.p=s,ae.T=i}}function Ff(e,t,n,a){if(Yo){var i=Ud(a);if(i===null)Su(e,t,a,Go,n),tg(e,a);else if(hx(i,e,t,n,a))a.stopPropagation();else if(tg(e,a),t&4&&-1<fx.indexOf(e)){for(;i!==null;){var s=Is(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=bi(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-Rn(r);l.entanglements[1]|=o,r&=~o}ca(s),!(ze&6)&&(Mo=Cn()+500,vl(0))}}break;case 31:case 13:l=$i(s,2),l!==null&&gn(l,s,2),pc(),Pf(s,2)}if(s=Ud(a),s===null&&Su(e,t,a,Go,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Su(e,t,a,null,n)}}function Ud(e){return e=ff(e),Wf(e)}var Go=null;function Wf(e){if(Go=null,e=us(e),e!==null){var t=ll(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=gv(t),e!==null)return e;e=null}else if(n===31){if(e=vv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Go=e,null}function Zp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P_()){case _v:return 2;case wv:return 8;case bo:case F_:return 32;case Sv:return 268435456;default:return 32}default:return 32}}var zd=!1,ii=null,si=null,ri=null,el=new Map,tl=new Map,Ga=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tg(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function hr(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Is(t),t!==null&&Jp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hx(e,t,n,a,i){switch(t){case"focusin":return ii=hr(ii,e,t,n,a,i),!0;case"dragenter":return si=hr(si,e,t,n,a,i),!0;case"mouseover":return ri=hr(ri,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return el.set(s,hr(el.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,tl.set(s,hr(tl.get(s)||null,e,t,n,a,i)),!0}return!1}function Pp(e){var t=us(e.target);if(t!==null){var n=ll(t);if(n!==null){if(t=n.tag,t===13){if(t=gv(n),t!==null){e.blockedOn=t,Hh(e.priority,function(){eg(n)});return}}else if(t===31){if(t=vv(n),t!==null){e.blockedOn=t,Hh(e.priority,function(){eg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ud(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ed=a,n.target.dispatchEvent(a),ed=null}else return t=Is(n),t!==null&&Jp(t),e.blockedOn=n,!1;t.shift()}return!0}function ng(e,t,n){mo(e)&&n.delete(t)}function mx(){zd=!1,ii!==null&&mo(ii)&&(ii=null),si!==null&&mo(si)&&(si=null),ri!==null&&mo(ri)&&(ri=null),el.forEach(ng),tl.forEach(ng)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,zd||(zd=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,mx)))}var ql=null;function ag(e){ql!==e&&(ql=e,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,function(){ql===e&&(ql=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Wf(a||n)===null)continue;break}var s=Is(n);s!==null&&(e.splice(t,3),t-=3,vd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Hs(e){function t(o){return Hl(o,e)}ii!==null&&Hl(ii,e),si!==null&&Hl(si,e),ri!==null&&Hl(ri,e),el.forEach(t),tl.forEach(t);for(var n=0;n<Ga.length;n++){var a=Ga[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ga.length&&(n=Ga[0],n.blockedOn===null);)Pp(n),n.blockedOn===null&&Ga.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[vn]||null;if(typeof s=="function")r||ag(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[vn]||null)l=r.formAction;else if(Wf(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),ag(n)}}}function Fp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function eh(e){this._internalRoot=e}wc.prototype.render=eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,a=Mn();Qp(n,a,e,t,null,null)};wc.prototype.unmount=eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qp(e.current,2,null,e,null,null),pc(),t[Gs]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ga.length&&t!==0&&t<Ga[n].priority;n++);Ga.splice(n,0,e),n===0&&Pp(e)}};var ig=hv.version;if(ig!=="19.2.0")throw Error(A(527,ig,"19.2.0"));Le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=G_(t),e=e!==null?yv(e):null,e=e===null?null:e.stateNode,e};var gx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{ol=$l.inject(gx),Nn=$l}catch{}}ic.createRoot=function(e,t){if(!mv(e))throw Error(A(299));var n=!1,a="",i=Yy,s=Gy,r=Iy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Kp(e,1,!1,null,null,n,a,null,i,s,r,Fp),e[Gs]=t.current,Qf(e),new eh(t)};ic.hydrateRoot=function(e,t,n){if(!mv(e))throw Error(A(299));var a=!1,i="",s=Yy,r=Gy,l=Iy,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Kp(e,1,!0,t,n??null,a,i,o,s,r,l,Fp),t.context=Xp(null),n=t.current,a=Mn(),a=of(a),i=ei(a),i.callback=null,ti(n,i,a),n=a,t.current.lanes=n,ul(t,n),ca(t),e[Gs]=t.current,Qf(e),new wc(t)};ic.version="19.2.0";function Wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wp)}catch(e){console.error(e)}}Wp(),rv.exports=ic;var vx=rv.exports,Ld=function(e,t){return Ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Ld(e,t)};function e0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ld(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Io=function(){return Io=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Io.apply(this,arguments)};function Ps(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function t0(e,t,n,a){var i=arguments.length,s=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function n0(e,t){return function(n,a){t(n,a,e)}}function a0(e,t,n,a,i,s){function r(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?a.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),f,h=!1,m=n.length-1;m>=0;m--){var b={};for(var _ in a)b[_]=_==="access"?{}:a[_];for(var _ in a.access)b.access[_]=a.access[_];b.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(y||null))};var S=(0,n[m])(l==="accessor"?{get:d.get,set:d.set}:d[o],b);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=r(S.get))&&(d.get=f),(f=r(S.set))&&(d.set=f),(f=r(S.init))&&i.unshift(f)}else(f=r(S))&&(l==="field"?i.unshift(f):d[o]=f)}c&&Object.defineProperty(c,a.name,d),h=!0}function i0(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function s0(e){return typeof e=="symbol"?e:"".concat(e)}function r0(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function l0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,n,a){function i(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(d){try{c(a.next(d))}catch(f){r(f)}}function o(d){try{c(a.throw(d))}catch(f){r(f)}}function c(d){d.done?s(d.value):i(d.value).then(l,o)}c((a=a.apply(e,t||[])).next())})}function o0(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=l(0),r.throw=l(1),r.return=l(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(c){return function(d){return o([c,d])}}function o(c){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(n=0)),n;)try{if(a=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Sc=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function c0(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Sc(t,e,n)}function Ko(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function th(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,s=[],r;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function u0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(th(arguments[t]));return e}function d0(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],r=0,l=s.length;r<l;r++,i++)a[i]=s[r];return a}function f0(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function qs(e){return this instanceof qs?(this.v=e,this):new qs(e)}function h0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(b){return Promise.resolve(b).then(m,f)}}function l(m,b){a[m]&&(i[m]=function(_){return new Promise(function(S,y){s.push([m,_,S,y])>1||o(m,_)})},b&&(i[m]=b(i[m])))}function o(m,b){try{c(a[m](b))}catch(_){h(s[0][3],_)}}function c(m){m.value instanceof qs?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){o("next",m)}function f(m){o("throw",m)}function h(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}}function m0(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,s){t[i]=e[i]?function(r){return(n=!n)?{value:qs(e[i](r)),done:!1}:s?s(r):r}:s}}function g0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ko=="function"?Ko(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=e[s]&&function(r){return new Promise(function(l,o){r=e[s](r),i(l,o,r.done,r.value)})}}function i(s,r,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},r)}}function v0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var yx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Bd=function(e){return Bd=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Bd(e)};function y0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Bd(e),a=0;a<n.length;a++)n[a]!=="default"&&Sc(t,e,n[a]);return yx(t,e),t}function p0(e){return e&&e.__esModule?e:{default:e}}function b0(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function _0(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function w0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function S0(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var px=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function x0(e){function t(s){e.error=e.hasError?new px(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(r){return t(r),i()})}else a|=1}catch(r){t(r)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function E0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,r){return a?t?".jsx":".js":i&&(!s||!r)?n:i+s+"."+r.toLowerCase()+"js"}):e}const bx={__extends:e0,__assign:Io,__rest:Ps,__decorate:t0,__param:n0,__esDecorate:a0,__runInitializers:i0,__propKey:s0,__setFunctionName:r0,__metadata:l0,__awaiter:I,__generator:o0,__createBinding:Sc,__exportStar:c0,__values:Ko,__read:th,__spread:u0,__spreadArrays:d0,__spreadArray:f0,__await:qs,__asyncGenerator:h0,__asyncDelegator:m0,__asyncValues:g0,__makeTemplateObject:v0,__importStar:y0,__importDefault:p0,__classPrivateFieldGet:b0,__classPrivateFieldSet:_0,__classPrivateFieldIn:w0,__addDisposableResource:S0,__disposeResources:x0,__rewriteRelativeImportExtension:E0},_x=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:S0,get __assign(){return Io},__asyncDelegator:m0,__asyncGenerator:h0,__asyncValues:g0,__await:qs,__awaiter:I,__classPrivateFieldGet:b0,__classPrivateFieldIn:w0,__classPrivateFieldSet:_0,__createBinding:Sc,__decorate:t0,__disposeResources:x0,__esDecorate:a0,__exportStar:c0,__extends:e0,__generator:o0,__importDefault:p0,__importStar:y0,__makeTemplateObject:v0,__metadata:l0,__param:n0,__propKey:s0,__read:th,__rest:Ps,__rewriteRelativeImportExtension:E0,__runInitializers:i0,__setFunctionName:r0,__spread:u0,__spreadArray:f0,__spreadArrays:d0,__values:Ko,default:bx},Symbol.toStringTag,{value:"Module"})),wx="modulepreload",Sx=function(e){return"/todo-note/"+e},sg={},Fs=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=Sx(o),o in sg)return;sg[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":wx,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},xx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fs(async()=>{const{default:a}=await Promise.resolve().then(()=>Yi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)};class nh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class rg extends nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lg extends nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class og extends nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hd||(Hd={}));class Ex{constructor(t,{headers:n={},customFetch:a,region:i=Hd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:r,body:l,signal:o}=a;let c={},{region:d}=a;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:o}).catch(y=>{throw y.name==="AbortError"?y:new rg(y)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new lg(m);if(!m.ok)throw new og(m);let _=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield m.json():_==="application/octet-stream"||_==="application/pdf"?S=yield m.blob():_==="text/event-stream"?S=m:_==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new rg(s)}:{data:null,error:s,response:s instanceof og||s instanceof lg?s.context:void 0}}})}}var nn={};const Ws=Zg(_x);var Vl={},Yl={},Gl={},Il={},Kl={},Tx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$s=Tx();const jx=$s.fetch,T0=$s.fetch.bind($s),j0=$s.Headers,Ox=$s.Request,Ax=$s.Response,Yi=Object.freeze(Object.defineProperty({__proto__:null,Headers:j0,Request:Ox,Response:Ax,default:T0,fetch:jx},Symbol.toStringTag,{value:"Module"})),Dx=Zg(Yi);var Xl={},cg;function O0(){if(cg)return Xl;cg=1,Object.defineProperty(Xl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xl.default=e,Xl}var ug;function A0(){if(ug)return Kl;ug=1,Object.defineProperty(Kl,"__esModule",{value:!0});const e=Ws,t=e.__importDefault(Dx),n=e.__importDefault(O0());class a{constructor(s){var r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,m;let b=null,_=null,S=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?_=j:_=JSON.parse(j))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,y=406,g="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const w=await c.text();try{b=JSON.parse(w),Array.isArray(b)&&c.status===404&&(_=[],b=null,y=200,g="OK")}catch{c.status===404&&w===""?(y=204,g="No Content"):b={message:w}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,y=200,g="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:_,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,r)}returns(){return this}overrideTypes(){return this}}return Kl.default=a,Kl}var dg;function D0(){if(dg)return Il;dg=1,Object.defineProperty(Il,"__esModule",{value:!0});const t=Ws.__importDefault(A0());class n extends t.default{select(i){let s=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:r=s}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Il.default=n,Il}var fg;function ah(){if(fg)return Gl;fg=1,Object.defineProperty(Gl,"__esModule",{value:!0});const t=Ws.__importDefault(D0()),n=new RegExp("[,()]");class a extends t.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const l=Array.from(new Set(r)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:l,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${d}.${r}`),this}match(s){return Object.entries(s).forEach(([r,l])=>{this.url.searchParams.append(r,`eq.${l}`)}),this}not(s,r,l){return this.url.searchParams.append(s,`not.${r}.${l}`),this}or(s,{foreignTable:r,referencedTable:l=r}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,l){return this.url.searchParams.append(s,`${r}.${l}`),this}}return Gl.default=a,Gl}var hg;function C0(){if(hg)return Yl;hg=1,Object.defineProperty(Yl,"__esModule",{value:!0});const t=Ws.__importDefault(ah());class n{constructor(i,{headers:s={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=r,this.fetch=l}select(i,s){const{head:r=!1,count:l}=s??{},o=r?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:r=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var r;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var s;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Yl.default=n,Yl}var mg;function Cx(){if(mg)return Vl;mg=1,Object.defineProperty(Vl,"__esModule",{value:!0});const e=Ws,t=e.__importDefault(C0()),n=e.__importDefault(ah());class a{constructor(s,{headers:r={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(s){const r=new URL(`${this.url}/${s}`);return new t.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:l=!1,get:o=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||o?(f=l?"HEAD":"GET",Object.entries(r).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{h.searchParams.append(_,S)})):(f="POST",m=r);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new n.default({method:f,url:h,headers:b,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vl.default=a,Vl}Object.defineProperty(nn,"__esModule",{value:!0});var N0=nn.PostgrestError=$0=nn.PostgrestBuilder=H0=nn.PostgrestTransformBuilder=L0=nn.PostgrestFilterBuilder=U0=nn.PostgrestQueryBuilder=M0=nn.PostgrestClient=void 0;const er=Ws,R0=er.__importDefault(Cx());var M0=nn.PostgrestClient=R0.default;const k0=er.__importDefault(C0());var U0=nn.PostgrestQueryBuilder=k0.default;const z0=er.__importDefault(ah());var L0=nn.PostgrestFilterBuilder=z0.default;const B0=er.__importDefault(D0());var H0=nn.PostgrestTransformBuilder=B0.default;const q0=er.__importDefault(A0());var $0=nn.PostgrestBuilder=q0.default;const V0=er.__importDefault(O0());N0=nn.PostgrestError=V0.default;var Y0=nn.default={PostgrestClient:R0.default,PostgrestQueryBuilder:k0.default,PostgrestFilterBuilder:z0.default,PostgrestTransformBuilder:B0.default,PostgrestBuilder:q0.default,PostgrestError:V0.default};const Nx=__({__proto__:null,get PostgrestBuilder(){return $0},get PostgrestClient(){return M0},get PostgrestError(){return N0},get PostgrestFilterBuilder(){return L0},get PostgrestQueryBuilder(){return U0},get PostgrestTransformBuilder(){return H0},default:Y0},[nn]),{PostgrestClient:Rx,PostgrestQueryBuilder:hO,PostgrestFilterBuilder:mO,PostgrestTransformBuilder:gO,PostgrestBuilder:vO,PostgrestError:yO}=Y0||Nx;class Mx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kx="2.78.0",Ux=`realtime-js/${kx}`,zx="1.0.0",qd=1e4,Lx=1e3,Bx=100;var zr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zr||(zr={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var $d;(function(e){e.websocket="websocket"})($d||($d={}));var xi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xi||(xi={}));class Hx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,n,a)}_decodeBroadcast(t,n,a){const i=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=a.decode(t.slice(r,r+i));r=r+i;const o=a.decode(t.slice(r,r+s));r=r+s;const c=JSON.parse(a.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class G0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const gg=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=qx(r,e,t,i),s),{}):{}},qx=(e,t,n,a)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,r=n[e];return s&&!a.includes(s)?I0(s,r):Vd(r)},I0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gx(t,n)}switch(e){case et.bool:return $x(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return Vx(t);case et.json:case et.jsonb:return Yx(t);case et.timestamp:return Ix(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Vd(t);default:return Vd(t)}},Vd=e=>e,$x=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>I0(t,l))}return e},Ix=e=>typeof e=="string"?e.replace(" ","T"):e,K0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tu{constructor(t,n,a={},i=qd){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vg||(vg={}));class Lr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lr.syncState(this.state,i,s,r),this.pendingDiffs.forEach(o=>{this.state=Lr.syncDiff(this.state,o,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lr.syncDiff(this.state,i,s,r),l())}),this.onJoin((i,s,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:r})}),this.onLeave((i,s,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const s=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(s,(c,d)=>{r[c]||(o[c]=d)}),this.map(r,(c,d)=>{const f=s[c];if(f){const h=d.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),b=d.filter(S=>m.indexOf(S.presence_ref)<0),_=f.filter(S=>h.indexOf(S.presence_ref)<0);b.length>0&&(l[c]=b),_.length>0&&(o[c]=_)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}a(l,d,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const d=o.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yg||(yg={}));var Br;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Br||(Br={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class ih{constructor(t,n={config:{}},a){var i,s;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,ea.join,this.params,this.timeout),this.rejoinTimer=new G0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Lr(this),this.broadcastEndpointURL=K0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:r,presence:l,private:o}}=this.params,c=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Br.PRESENCE]&&this.bindings[Br.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(pa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(pa.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,y=[];for(let g=0;g<S;g++){const v=_[g],{filter:{event:w,schema:x,table:j,filter:T}}=v,O=m&&m[g];if(O&&O.event===w&&O.schema===x&&O.table===j&&O.filter===T)y.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(pa.SUBSCRIBED);return}}).receive("error",m=>{this.state=kt.errored,t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===kt.joined&&t===Br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const r={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Tu(this,ea.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),r}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tu(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Bx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,s;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:d}=ea;if(a&&[l,o,c,d].indexOf(r)>=0&&a!==this._joinRef())return;let h=this._onMessage(r,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,_,S;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(_=m.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(m=>m.callback(h,a)):(s=this.bindings[r])===null||s===void 0||s.filter(m=>{var b,_,S,y,g,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const w=m.id,x=(b=m.filter)===null||b===void 0?void 0:b.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:_,table:S,commit_timestamp:y,type:g,errors:v}=b;h=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}m.callback(h,a)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&ih.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gg(t.columns,t.old_record)),n}}const ju=()=>{},Ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kx=[1e3,2e3,5e3,1e4],Xx=1e4,Qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jx{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qd,this.transport=null,this.heartbeatIntervalMs=Ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ju,this.ref=0,this.reconnectTimer=null,this.logger=ju,this.conn=null,this.sendBuffer=[],this.serializer=new Hx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...r)=>Fs(async()=>{const{default:l}=await Promise.resolve().then(()=>Yi);return{default:l}},void 0).then(({default:l})=>l(...r)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...r)=>s(...r)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${$d.websocket}`,this.httpEndpoint=K0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zx}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return xi.Connecting;case zr.open:return xi.Open;case zr.closing:return xi.Closing;default:return xi.Closed}}isConnected(){return this.connectionState()===xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new ih(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:a,payload:i,ref:s}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:r}=n,l=r?`(${r})`:"",o=s.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(i,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Qx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:Ux};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new G0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,s,r,l,o,c,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:qd,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ql.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t==null?void 0:t.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ju,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:f=>Kx[f-1]||Xx,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zx extends sh{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yd extends sh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const rh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fs(async()=>{const{default:a}=await Promise.resolve().then(()=>Yi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},Px=()=>I(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fs(()=>Promise.resolve().then(()=>Yi),void 0)).Response:Response}),Gd=e=>{if(Array.isArray(e))return e.map(n=>Gd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Gd(a)}),t},Fx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ou=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wx=(e,t,n)=>I(void 0,void 0,void 0,function*(){const a=yield Px();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,r=(i==null?void 0:i.statusCode)||s+"";t(new Zx(Ou(i),s,r))}).catch(i=>{t(new Yd(Ou(i),i))}):t(new Yd(Ou(e),e))}),eE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(Fx(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function bl(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,eE(t,a,i,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Wx(o,l,a))})})}function nl(e,t,n,a){return I(this,void 0,void 0,function*(){return bl(e,"GET",t,n,a)})}function Fn(e,t,n,a,i){return I(this,void 0,void 0,function*(){return bl(e,"POST",t,a,i,n)})}function Id(e,t,n,a,i){return I(this,void 0,void 0,function*(){return bl(e,"PUT",t,a,i,n)})}function tE(e,t,n,a){return I(this,void 0,void 0,function*(){return bl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function lh(e,t,n,a,i){return I(this,void 0,void 0,function*(){return bl(e,"DELETE",t,a,i,n)})}class nE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}var X0;class aE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[X0]="BlobDownloadBuilder",this.promise=null}asStream(){return new nE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}X0=Symbol.toStringTag;const iE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sE{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=rh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return I(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},pg),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?Id:Fn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}upload(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return I(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),r=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:pg.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",c.cacheControl)):(o=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Id(this.fetch,l.toString(),o,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return I(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Fn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),r=new URL(this.url+s.url),l=r.searchParams.get("token");if(!l)throw new sh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}update(t,n,a){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}copy(t,n,a){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Fn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return I(this,void 0,void 0,function*(){try{const i=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"",l=this._getFinalPath(t),o=()=>nl(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0});return new aE(o,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}exists(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a)&&a instanceof Yd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${c}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}list(t,n,a){return I(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},iE),n),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listV2(t,n){return I(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Q0="2.78.0",J0={"X-Client-Info":`storage-js/${Q0}`};class rE{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J0),n),this.fetch=rh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield nl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}createBucket(t){return I(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class lE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J0),n),this.fetch=rh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield nl(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}}const oh={"X-Client-Info":`storage-js/${Q0}`,"Content-Type":"application/json"};class Z0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function On(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Au extends Z0{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oE extends Z0{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var bg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bg||(bg={}));const ch=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fs(async()=>{const{default:a}=await Promise.resolve().then(()=>Yi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},cE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_g=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uE=(e,t,n)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(r=>{const l=(r==null?void 0:r.statusCode)||(r==null?void 0:r.code)||i+"";t(new Au(_g(r),i,l))}).catch(()=>{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Au(l,i,r))});else{const r=i+"",l=s.statusText||`HTTP ${i} error`;t(new Au(l,i,r))}}else t(new oE(_g(e),e))}),dE=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(cE(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function fE(e,t,n,a,i,s){return I(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,dE(t,a,i,s)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>r(o)).catch(o=>uE(o,l,a))})})}function An(e,t,n,a,i){return I(this,void 0,void 0,function*(){return fE(e,"POST",t,a,i,n)})}class hE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),n),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}}class mE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),n),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield An(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield An(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}}class gE{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oh),n),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield An(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield An(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}}class vE extends gE{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new yE(this.url,this.headers,t,this.fetch)}}class yE extends hE{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pE extends mE{constructor(t,n,a,i,s){super(t,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bE extends rE{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new sE(this.url,this.headers,t,this.fetch)}get vectors(){return new vE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lE(this.url+"/iceberg",this.headers,this.fetch)}}const _E="2.78.0";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const wE={"X-Client-Info":`supabase-js-${wr}/${_E}`},SE={headers:wE},xE={schema:"public"},EE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TE={},jE=e=>{let t;return e?t=e:typeof fetch>"u"?t=T0:t=fetch,(...n)=>t(...n)},OE=()=>typeof Headers>"u"?j0:Headers,AE=(e,t,n)=>{const a=jE(n),i=OE();return async(s,r)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},r),{headers:c}))}};function DE(e){return e.endsWith("/")?e:e+"/"}function CE(e,t){var n,a;const{db:i,auth:s,realtime:r,global:l}=e,{db:o,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),r),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function NE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const P0="2.78.0",ss=30*1e3,Kd=3,Du=Kd*ss,RE="http://localhost:9999",ME="supabase.auth.token",kE={"X-Client-Info":`gotrue-js/${P0}`},Xd="X-Supabase-Api-Version",F0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zE=10*60*1e3;class al extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LE extends al{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function BE(e){return Q(e)&&e.name==="AuthApiError"}class Ei extends al{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hi extends al{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class Zn extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HE(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Pi extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qE(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class wg extends hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qd extends hi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cu(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Sg extends hi{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Jd extends hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xg=` 	
\r=`.split(""),$E=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xg.length;t+=1)e[xg[t].charCodeAt(0)]=-2;for(let t=0;t<Xo.length;t+=1)e[Xo[t].charCodeAt(0)]=t;return e})();function Eg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Xo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Xo[a]),t.queuedBits-=6}}function W0(e,t,n){const a=$E[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Tg(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=r=>{GE(r,a,n)};for(let r=0;r<e.length;r+=1)W0(e.charCodeAt(r),i,s);return t.join("")}function VE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function YE(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}VE(a,t)}}function GE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Os(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)W0(e.charCodeAt(i),n,a);return new Uint8Array(t)}function IE(e){const t=[];return YE(e,n=>t.push(n)),new Uint8Array(t)}function ji(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>Eg(i,n,a)),Eg(null,n,a),t.join("")}function KE(e){return Math.round(Date.now()/1e3)+e}function XE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",gi={tested:!1,writable:!1},eb=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gi.tested)return gi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gi.tested=!0,gi.writable=!0}catch{gi.tested=!0,gi.writable=!1}return gi.writable};function QE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const tb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fs(async()=>{const{default:a}=await Promise.resolve().then(()=>Yi);return{default:a}},void 0).then(({default:a})=>a(...n)):t=fetch,(...n)=>t(...n)},JE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},La=async(e,t)=>{await e.removeItem(t)};class xc{constructor(){this.promise=new xc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xc.promiseConstructor=Promise;function Nu(e){const t=e.split(".");if(t.length!==3)throw new Jd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!UE.test(t[a]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(Tg(t[0])),payload:JSON.parse(Tg(t[1])),signature:Os(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PE(e,t){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){a(r);return}}catch(r){if(!t(s,r)){i(r);return}}})()})}function FE(e){return("0"+e.toString(16)).substr(-2)}function WE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,FE).join("")}async function eT(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function tT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,n=!1){const a=WE();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await rs(e,`${t}-code-verifier`,i);const s=await tT(a);return[s,a===s?"plain":"s256"]}const nT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aT(e){const t=e.headers.get(Xd);if(!t||!t.match(nT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wi(e){if(!rT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lT(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function jg(e){return JSON.parse(JSON.stringify(e))}const Si=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oT=[502,503,504];async function Og(e){var t;if(!JE(e))throw new Qd(Si(e),0);if(oT.includes(e.status))throw new Qd(Si(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ei(Si(s),s)}let a;const i=aT(e);if(i&&i.getTime()>=F0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Sg(Si(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new Sg(Si(n),e.status,n.weak_password.reasons);throw new LE(Si(n),e.status||500,a)}const cT=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function ne(e,t,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Xd]||(s[Xd]=F0["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const r=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(r.redirect_to=a.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await uT(e,t,n+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function uT(e,t,n,a,i,s){const r=cT(t,a,i,s);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Qd(Si(o),0)}if(l.ok||await Og(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Og(o)}}function Pn(e){var t;let n=null;hT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KE(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Ag(e){const t=Pn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dT(e){return{data:e,error:null}}function fT(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=e,r=Ps(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Dg(e){return e}function hT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mu=["global","local","others"];class mT{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=tb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Mu[0]){if(Mu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ia})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Ps(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ia})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Dg});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Wi(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ia})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Wi(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ia})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Wi(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ia})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Wi(t.userId);try{const{data:n,error:a}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Wi(t.userId),Wi(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,s,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Dg});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Cg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const es={debug:!!(globalThis&&eb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gT extends nb{}async function vT(e,t,n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(es.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ab(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pT(e){return parseInt(e,16)}function bT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function _T(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:o,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=ab(e.address),b=d?`${d}://${a}`:a,_=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${m}

${_}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),o&&(y+=`
Request ID: ${o}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}y+=g}return`${S}
${y}`}class Ot extends Error{constructor({message:t,code:n,cause:a,name:i}){var s;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Qo extends Ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function wT({error:e,options:t}){var n,a,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ib(r)){if(s.rp.id!==r)return new Ot({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ST({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ib(a)){if(n.rpId!==a)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ET=new xT;function TT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=Ps(e,["challenge","user","excludeCredentials"]),s=Os(t).buffer,r=Object.assign(Object.assign({},n),{id:Os(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:r});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const c=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:Os(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function jT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Ps(e,["challenge","allowCredentials"]),i=Os(t).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Os(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function OT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ji(new Uint8Array(e.response.attestationObject)),clientDataJSON:ji(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ji(new Uint8Array(i.authenticatorData)),clientDataJSON:ji(new Uint8Array(i.clientDataJSON)),signature:ji(new Uint8Array(i.signature)),userHandle:i.userHandle?ji(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ib(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ng(){var e,t;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function DT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qo("Browser returned unexpected credential type",t)}:{data:null,error:new Qo("Empty credential response",t)}}catch(t){return{data:null,error:wT({error:t,options:e})}}}async function CT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qo("Browser returned unexpected credential type",t)}:{data:null,error:new Qo("Empty credential response",t)}}catch(t){return{data:null,error:ST({error:t,options:e})}}}const NT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},RT={userVerification:"preferred",hints:["security-key"]};function Jo(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const s in i){const r=i[s];if(r!==void 0)if(Array.isArray(r))a[s]=r;else if(n(r))a[s]=r;else if(t(r)){const l=a[s];t(l)?a[s]=Jo(l,r):a[s]=Jo(r)}else a[s]=r}return a}function MT(e,t){return Jo(NT,e,t||{})}function kT(e,t){return Jo(RT,e,t||{})}class UT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},s){try{const{data:r,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!r)return{data:null,error:l};const o=i??ET.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:c}=r.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(r.webauthn.type){case"create":{const c=MT(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await DT({publicKey:c,signal:o});return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=kT(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await CT(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:c,signal:o}));return d?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new Ei("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new al("rpId is required for WebAuthn authentication")};try{if(!Ng())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!r)return{data:null,error:l};const{webauthn:o}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new Ei("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new al("rpId is required for WebAuthn registration")};try{if(!Ng())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return o?this._verify({factorId:r.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(r){return Q(r)?{data:null,error:r}:{data:null,error:new Ei("Unexpected error in register",r)}}}}yT();const zT={url:RE,storageKey:ME,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rg(e,t,n){return await n()}const ts={};class il{get jwks(){var t,n;return(n=(t=ts[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ts[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{cachedAt:t})}constructor(t){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=il.nextInstanceID,il.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tb(i.fetch),this.lock=i.lock||Rg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vT:this.lock=Rg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${P0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QE(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),en()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),qE(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new Ei("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pn}),{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,a,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Fi(this.storage,this.storageKey)),s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:Pn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pn})}else throw new Jl("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ag})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ag})}else throw new Jl("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Pi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,a,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,s,r,l,o,c,d,f,h;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:_,wallet:S,statement:y,options:g}=t;let v;if(en())if(typeof S=="object")v=S;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")v=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),x=await v.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=ab(x[0]);let T=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!T){const D=await v.request({method:"eth_chainId"});T=pT(D)}const O={domain:w.host,address:j,statement:y,uri:w.href,version:"1",chainId:T,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(r=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=_T(O),b=await v.request({method:"personal_sign",params:[bT(m),j]})}try{const{data:_,error:S}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pn});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Pi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Q(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,a,i,s,r,l,o,c,d,f,h,m;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:S,wallet:y,statement:g,options:v}=t;let w;if(en())if(typeof y=="object")w=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),_=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${x.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:S,error:y}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ji(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Pn});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Pi}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(Q(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await vi(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:r}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Pn});if(await La(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Pi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:r})}catch(s){if(Q(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:s,nonce:r}=t,l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Pi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,a,i,s,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Fi(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Jl("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,a;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:r,error:l}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pn});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,a,i;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await Fi(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:dT})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Zn;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:s}=t,{error:r}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:a,type:i,options:s}=t,{data:r,error:l}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Jl("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Du:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const r=await vi(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=Ru()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=lT(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ia}):await this._useSession(async n=>{var a,i,s;const{data:r,error:l}=n;if(l)throw l;return!(!((a=r.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ia})})}catch(n){if(Q(n))return HE(n)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Zn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Fi(this.storage,this.storageKey));const{data:c,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Ia});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zn;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:r}=Nu(t.access_token);if(r.exp&&(a=r.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(a=r.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Zn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!en())throw new Zl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!s||!l||!r||!c)throw new Zl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;o&&(h=parseInt(o));const m=h-d;m*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const y={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:r,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(a){if(Q(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const r=(a=i.session)===null||a===void 0?void 0:a.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(BE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=XE(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:r}=n;if(r)throw r;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Fi(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var r,l,o,c,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return en()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Q(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:r,provider:l,token:o,access_token:c,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Pi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)throw r;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await PE(async i=>(i>0&&await ZE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pn})),(i,s)=>{const r=200*Math.pow(2,i);return s&&Cu(s)&&Date.now()+r-a<ss})}catch(a){if(this._debug(n,"error",a),Q(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),en()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await vi(this.storage,this.storageKey);if(i&&this.userStorage){let r=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await rs(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:Ru()}else if(i&&!i.user&&!i.user){const r=await vi(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await La(this.storage,this.storageKey+"-user"),await rs(this.storage,this.storageKey,i)):i.user=Ru()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Du;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Du}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),Cu(r)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(a,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xc;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Zn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Q(s)){const r={data:null,error:s};return Cu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){s.push(o)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await rs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=jg(i);await rs(this.storage,this.storageKey,s)}else{const i=jg(n);await rs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ss}ms, refresh threshold is ${Kd} ticks`),i<=Kd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,r]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:s,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OT(t.webauthn.credential_response):AT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const r=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Nu(a.access_token);let r=null;s.aal&&(r=s.aal);let l=r;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:r,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Zn}})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Zn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Zn};const r=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(r.data.redirect_url),r})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+zE>i)return a;const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};a=m.session.access_token}const{header:i,payload:s,signature:r,raw:{header:l,payload:o}}=Nu(a);n!=null&&n.allowExpired||iT(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:r},error:null}}const d=sT(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,r,IE(`${l}.${o}`)))throw new Jd("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}}}il.nextInstanceID=0;const LT=il;class BT extends LT{constructor(t){super(t)}}class HT{constructor(t,n,a){var i,s,r;this.supabaseUrl=t,this.supabaseKey=n;const l=NE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:xE,realtime:TE,auth:Object.assign(Object.assign({},EE),{storageKey:o}),global:SE},d=CE(a??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=d.auth)!==null&&r!==void 0?r:{},this.headers,d.global.fetch),this.fetch=AE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Rx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new bE(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ex(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:r,flowType:l,lock:o,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:r,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:l,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Jx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qT=(e,t,n)=>new HT(e,t,n);function $T(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$T()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VT="https://vqpubtahhvtkftafdlrp.supabase.co",YT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHVidGFoaHZ0a2Z0YWZkbHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMjQ2NjUsImV4cCI6MjA3NzgwMDY2NX0.o2905IF2CWRJ-krYtA6MnL7_KALlNiwD211Sw-of7mI",Ee=qT(VT,YT);function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const Ec=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function uh(e){return"nodeType"in e}function rn(e){var t,n;return e?tr(e)?e:uh(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function dh(e){const{Document:t}=rn(e);return e instanceof t}function _l(e){return tr(e)?!1:e instanceof rn(e).HTMLElement}function sb(e){return e instanceof rn(e).SVGElement}function nr(e){return e?tr(e)?e.document:uh(e)?dh(e)?e:_l(e)||sb(e)?e.ownerDocument:document:document:document}const ta=Ec?p.useLayoutEffect:p.useEffect;function Tc(e){const t=p.useRef(e);return ta(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function IT(){const e=p.useRef(null),t=p.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function sl(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return ta(()=>{n.current!==e&&(n.current=e)},t),n}function wl(e,t){const n=p.useRef();return p.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Zo(e){const t=Tc(e),n=p.useRef(null),a=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,a]}function Po(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let ku={};function Sl(e,t){return p.useMemo(()=>{if(t)return t;const n=ku[e]==null?0:ku[e]+1;return ku[e]=n,e+"-"+n},[e,t])}function rb(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,r)=>{const l=Object.entries(r);for(const[o,c]of l){const d=s[o];d!=null&&(s[o]=d+e*c)}return s},{...t})}}const As=rb(1),rl=rb(-1);function KT(e){return"clientX"in e&&"clientY"in e}function jc(e){if(!e)return!1;const{KeyboardEvent:t}=rn(e.target);return t&&e instanceof t}function XT(e){if(!e)return!1;const{TouchEvent:t}=rn(e.target);return t&&e instanceof t}function Fo(e){if(XT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return KT(e)?{x:e.clientX,y:e.clientY}:null}const Li=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Li.Translate.toString(e),Li.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Mg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QT(e){return e.matches(Mg)?e:e.querySelector(Mg)}const JT={display:"none"};function ZT(e){let{id:t,value:n}=e;return ft.createElement("div",{id:t,style:JT},n)}function PT(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ft.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function FT(){const[e,t]=p.useState("");return{announce:p.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const lb=p.createContext(null);function WT(e){const t=p.useContext(lb);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function e1(){const[e]=p.useState(()=>new Set),t=p.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[p.useCallback(a=>{let{type:i,event:s}=a;e.forEach(r=>{var l;return(l=r[i])==null?void 0:l.call(r,s)})},[e]),t]}const t1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},n1={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function a1(e){let{announcements:t=n1,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=t1}=e;const{announce:s,announcement:r}=FT(),l=Sl("DndLiveRegion"),[o,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),WT(p.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&s(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;s(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;s(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;s(t.onDragCancel({active:h,over:m}))}}),[s,t])),!o)return null;const d=ft.createElement(ft.Fragment,null,ft.createElement(ZT,{id:a,value:i.draggable}),ft.createElement(PT,{id:l,announcement:r}));return n?Ti.createPortal(d,n):d}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function Wo(){}function Uu(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function i1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const na=Object.freeze({x:0,y:0});function ob(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function s1(e,t){const n=Fo(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function cb(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function r1(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function kg(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function ub(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ug(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const l1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=Ug(t,t.left,t.top),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=ob(Ug(o),i);s.push({id:l,data:{droppableContainer:r,value:c}})}}return s.sort(cb)},o1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=kg(t),s=[];for(const r of a){const{id:l}=r,o=n.get(l);if(o){const c=kg(o),d=i.reduce((h,m,b)=>h+ob(c[b],m),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:r,value:f}})}}return s.sort(cb)};function c1(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),r=i-a,l=s-n;if(a<i&&n<s){const o=t.width*t.height,c=e.width*e.height,d=r*l,f=d/(o+c-d);return Number(f.toFixed(4))}return 0}const u1=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const s of a){const{id:r}=s,l=n.get(r);if(l){const o=c1(l,t);o>0&&i.push({id:r,data:{droppableContainer:s,value:o}})}}return i.sort(r1)};function d1(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function db(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:na}function f1(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return i.reduce((r,l)=>({...r,top:r.top+e*l.y,bottom:r.bottom+e*l.y,left:r.left+e*l.x,right:r.right+e*l.x}),{...n})}}const h1=f1(1);function fb(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function m1(e,t,n){const a=fb(t);if(!a)return e;const{scaleX:i,scaleY:s,x:r,y:l}=a,o=e.left-r-(1-i)*parseFloat(n),c=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:c,right:o+d,bottom:c+f,left:o}}const g1={ignoreTransform:!1};function ar(e,t){t===void 0&&(t=g1);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=rn(e).getComputedStyle(e);c&&(n=m1(n,c,d))}const{top:a,left:i,width:s,height:r,bottom:l,right:o}=n;return{top:a,left:i,width:s,height:r,bottom:l,right:o}}function zg(e){return ar(e,{ignoreTransform:!0})}function v1(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function y1(e,t){return t===void 0&&(t=rn(e).getComputedStyle(e)),t.position==="fixed"}function p1(e,t){t===void 0&&(t=rn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function Oc(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(dh(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!_l(i)||sb(i)||n.includes(i))return n;const s=rn(e).getComputedStyle(i);return i!==e&&p1(i,s)&&n.push(i),y1(i,s)?n:a(i.parentNode)}return e?a(e):n}function hb(e){const[t]=Oc(e,1);return t??null}function zu(e){return!Ec||!e?null:tr(e)?e:uh(e)?dh(e)||e===nr(e).scrollingElement?window:_l(e)?e:null:null}function mb(e){return tr(e)?e.scrollX:e.scrollLeft}function gb(e){return tr(e)?e.scrollY:e.scrollTop}function Zd(e){return{x:mb(e),y:gb(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function vb(e){return!Ec||!e?!1:e===document.scrollingElement}function yb(e){const t={x:0,y:0},n=vb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,r=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:i,isLeft:s,isBottom:r,isRight:l,maxScroll:a,minScroll:t}}const b1={x:.2,y:.2};function _1(e,t,n,a,i){let{top:s,left:r,right:l,bottom:o}=n;a===void 0&&(a=10),i===void 0&&(i=b1);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=yb(e),m={x:0,y:0},b={x:0,y:0},_={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+_.height?(m.y=qt.Backward,b.y=a*Math.abs((t.top+_.height-s)/_.height)):!d&&o>=t.bottom-_.height&&(m.y=qt.Forward,b.y=a*Math.abs((t.bottom-_.height-o)/_.height)),!h&&l>=t.right-_.width?(m.x=qt.Forward,b.x=a*Math.abs((t.right-_.width-l)/_.width)):!f&&r<=t.left+_.width&&(m.x=qt.Backward,b.x=a*Math.abs((t.left+_.width-r)/_.width)),{direction:m,speed:b}}function w1(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:r}=window;return{top:0,left:0,right:s,bottom:r,width:s,height:r}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function pb(e){return e.reduce((t,n)=>As(t,Zd(n)),na)}function S1(e){return e.reduce((t,n)=>t+mb(n),0)}function x1(e){return e.reduce((t,n)=>t+gb(n),0)}function bb(e,t){if(t===void 0&&(t=ar),!e)return;const{top:n,left:a,bottom:i,right:s}=t(e);hb(e)&&(i<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const E1=[["x",["left","right"],S1],["y",["top","bottom"],x1]];class fh{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Oc(n),i=pb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,r,l]of E1)for(const o of r)Object.defineProperty(this,o,{get:()=>{const c=l(a),d=i[s]-c;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function T1(e){const{EventTarget:t}=rn(e);return e instanceof t?e:nr(e)}function Lu(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Hn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Hn||(Hn={}));function Lg(e){e.preventDefault()}function j1(e){e.stopPropagation()}var Oe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Oe||(Oe={}));const _b={start:[Oe.Space,Oe.Enter],cancel:[Oe.Esc],end:[Oe.Space,Oe.Enter,Oe.Tab]},O1=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Oe.Right:return{...n,x:n.x+25};case Oe.Left:return{...n,x:n.x-25};case Oe.Down:return{...n,y:n.y+25};case Oe.Up:return{...n,y:n.y-25}}};class hh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Hr(nr(n)),this.windowListeners=new Hr(rn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Hn.Resize,this.handleCancel),this.windowListeners.add(Hn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Hn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&bb(a),n(na)}handleKeyDown(t){if(jc(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:s=_b,coordinateGetter:r=O1,scrollBehavior:l="smooth"}=i,{code:o}=t;if(s.end.includes(o)){this.handleEnd(t);return}if(s.cancel.includes(o)){this.handleCancel(t);return}const{collisionRect:c}=a.current,d=c?{x:c.left,y:c.top}:na;this.referenceCoordinates||(this.referenceCoordinates=d);const f=r(t,{active:n,context:a.current,currentCoordinates:d});if(f){const h=rl(f,d),m={x:0,y:0},{scrollableAncestors:b}=a.current;for(const _ of b){const S=t.code,{isTop:y,isRight:g,isLeft:v,isBottom:w,maxScroll:x,minScroll:j}=yb(_),T=w1(_),O={x:Math.min(S===Oe.Right?T.right-T.width/2:T.right,Math.max(S===Oe.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(S===Oe.Down?T.bottom-T.height/2:T.bottom,Math.max(S===Oe.Down?T.top:T.top+T.height/2,f.y))},D=S===Oe.Right&&!g||S===Oe.Left&&!v,B=S===Oe.Down&&!w||S===Oe.Up&&!y;if(D&&O.x!==f.x){const W=_.scrollLeft+h.x,He=S===Oe.Right&&W<=x.x||S===Oe.Left&&W>=j.x;if(He&&!h.y){_.scrollTo({left:W,behavior:l});return}He?m.x=_.scrollLeft-W:m.x=S===Oe.Right?_.scrollLeft-x.x:_.scrollLeft-j.x,m.x&&_.scrollBy({left:-m.x,behavior:l});break}else if(B&&O.y!==f.y){const W=_.scrollTop+h.y,He=S===Oe.Down&&W<=x.y||S===Oe.Up&&W>=j.y;if(He&&!h.x){_.scrollTo({top:W,behavior:l});return}He?m.y=_.scrollTop-W:m.y=S===Oe.Down?_.scrollTop-x.y:_.scrollTop-j.y,m.y&&_.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,As(rl(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=_b,onActivation:i}=t,{active:s}=n;const{code:r}=e.nativeEvent;if(a.start.includes(r)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Bg(e){return!!(e&&"distance"in e)}function Hg(e){return!!(e&&"delay"in e)}class mh{constructor(t,n,a){var i;a===void 0&&(a=T1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:r}=s;this.props=t,this.events=n,this.document=nr(r),this.documentListeners=new Hr(this.document),this.listeners=new Hr(a),this.windowListeners=new Hr(rn(r)),this.initialCoordinates=(i=Fo(s))!=null?i:na,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Hn.Resize,this.handleCancel),this.windowListeners.add(Hn.DragStart,Lg),this.windowListeners.add(Hn.VisibilityChange,this.handleCancel),this.windowListeners.add(Hn.ContextMenu,Lg),this.documentListeners.add(Hn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Bg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Hn.Click,j1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Hn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:s}=this,{onMove:r,options:{activationConstraint:l}}=s;if(!i)return;const o=(n=Fo(t))!=null?n:na,c=rl(i,o);if(!a&&l){if(Bg(l)){if(l.tolerance!=null&&Lu(c,l.tolerance))return this.handleCancel();if(Lu(c,l.distance))return this.handleStart()}if(Hg(l)&&Lu(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),r(o)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Oe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const A1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gh extends mh{constructor(t){const{event:n}=t,a=nr(n.target);super(t,A1,a)}}gh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const D1={move:{name:"mousemove"},end:{name:"mouseup"}};var Pd;(function(e){e[e.RightClick=2]="RightClick"})(Pd||(Pd={}));class C1 extends mh{constructor(t){super(t,D1,nr(t.event.target))}}C1.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Pd.RightClick?!1:(a==null||a({event:n}),!0)}}];const Bu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wb extends mh{constructor(t){super(t,Bu)}static setup(){return window.addEventListener(Bu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Bu.move.name,t)};function t(){}}}wb.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var qr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qr||(qr={}));var ec;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ec||(ec={}));function N1(e){let{acceleration:t,activator:n=qr.Pointer,canScroll:a,draggingRect:i,enabled:s,interval:r=5,order:l=ec.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=M1({delta:f,disabled:!s}),[b,_]=IT(),S=p.useRef({x:0,y:0}),y=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(n){case qr.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case qr.DraggableRect:return i}},[n,i,o]),v=p.useRef(null),w=p.useCallback(()=>{const j=v.current;if(!j)return;const T=S.current.x*y.current.x,O=S.current.y*y.current.y;j.scrollBy(T,O)},[]),x=p.useMemo(()=>l===ec.TreeOrder?[...c].reverse():c,[l,c]);p.useEffect(()=>{if(!s||!c.length||!g){_();return}for(const j of x){if((a==null?void 0:a(j))===!1)continue;const T=c.indexOf(j),O=d[T];if(!O)continue;const{direction:D,speed:B}=_1(j,O,g,t,h);for(const W of["x","y"])m[W][D[W]]||(B[W]=0,D[W]=0);if(B.x>0||B.y>0){_(),v.current=j,b(w,r),S.current=B,y.current=D;return}}S.current={x:0,y:0},y.current={x:0,y:0},_()},[t,w,a,_,s,r,JSON.stringify(g),JSON.stringify(m),b,c,x,d,JSON.stringify(h)])}const R1={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function M1(e){let{delta:t,disabled:n}=e;const a=Po(t);return wl(i=>{if(n||!a||!i)return R1;const s={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[qt.Backward]:i.x[qt.Backward]||s.x===-1,[qt.Forward]:i.x[qt.Forward]||s.x===1},y:{[qt.Backward]:i.y[qt.Backward]||s.y===-1,[qt.Forward]:i.y[qt.Forward]||s.y===1}}},[n,t,a])}function k1(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return wl(i=>{var s;return t==null?null:(s=a??i)!=null?s:null},[a,t])}function U1(e,t){return p.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,s=i.activators.map(r=>({eventName:r.eventName,handler:t(r.handler,a)}));return[...n,...s]},[]),[e,t])}var Vs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Vs||(Vs={}));var Fd;(function(e){e.Optimized="optimized"})(Fd||(Fd={}));const qg=new Map;function z1(e,t){let{dragging:n,dependencies:a,config:i}=t;const[s,r]=p.useState(null),{frequency:l,measure:o,strategy:c}=i,d=p.useRef(e),f=S(),h=sl(f),m=p.useCallback(function(y){y===void 0&&(y=[]),!h.current&&r(g=>g===null?y:g.concat(y.filter(v=>!g.includes(v))))},[h]),b=p.useRef(null),_=wl(y=>{if(f&&!n)return qg;if(!y||y===qg||d.current!==e||s!=null){const g=new Map;for(let v of e){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){g.set(v.id,v.rect.current);continue}const w=v.node.current,x=w?new fh(o(w),w):null;v.rect.current=x,x&&g.set(v.id,x)}return g}return y},[e,s,n,f,o]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[n,f]),p.useEffect(()=>{s&&s.length>0&&r(null)},[JSON.stringify(s)]),p.useEffect(()=>{f||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},l))},[l,f,m,...a]),{droppableRects:_,measureDroppableContainers:m,measuringScheduled:s!=null};function S(){switch(c){case Vs.Always:return!1;case Vs.BeforeDragging:return n;default:return!n}}}function vh(e,t){return wl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function L1(e,t){return vh(e,t)}function B1(e){let{callback:t,disabled:n}=e;const a=Tc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(a)},[a,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ac(e){let{callback:t,disabled:n}=e;const a=Tc(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(a)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function H1(e){return new fh(ar(e),e)}function $g(e,t,n){t===void 0&&(t=H1);const[a,i]=p.useState(null);function s(){i(o=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=o??n)!=null?c:null}const d=t(e);return JSON.stringify(o)===JSON.stringify(d)?o:d})}const r=B1({callback(o){if(e)for(const c of o){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),l=Ac({callback:s});return ta(()=>{s(),e?(l==null||l.observe(e),r==null||r.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),r==null||r.disconnect())},[e]),a}function q1(e){const t=vh(e);return db(e,t)}const Vg=[];function $1(e){const t=p.useRef(e),n=wl(a=>e?a&&a!==Vg&&e&&t.current&&e.parentNode===t.current.parentNode?a:Oc(e):Vg,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function V1(e){const[t,n]=p.useState(null),a=p.useRef(e),i=p.useCallback(s=>{const r=zu(s.target);r&&n(l=>l?(l.set(r,Zd(r)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=a.current;if(e!==s){r(s);const l=e.map(o=>{const c=zu(o);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Zd(c)]):null}).filter(o=>o!=null);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(s)};function r(l){l.forEach(o=>{const c=zu(o);c==null||c.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,r)=>As(s,r),na):pb(e):na,[e,t])}function Yg(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const a=e!==na;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?rl(e,n.current):na}function Y1(e){p.useEffect(()=>{if(!Ec)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function G1(e,t){return p.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:s}=a;return n[i]=r=>{s(r,t)},n},{}),[e,t])}function Sb(e){return p.useMemo(()=>e?v1(e):null,[e])}const Gg=[];function I1(e,t){t===void 0&&(t=ar);const[n]=e,a=Sb(n?rn(n):null),[i,s]=p.useState(Gg);function r(){s(()=>e.length?e.map(o=>vb(o)?a:new fh(t(o),o)):Gg)}const l=Ac({callback:r});return ta(()=>{l==null||l.disconnect(),r(),e.forEach(o=>l==null?void 0:l.observe(o))},[e]),i}function xb(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return _l(t)?t:e}function K1(e){let{measure:t}=e;const[n,a]=p.useState(null),i=p.useCallback(c=>{for(const{target:d}of c)if(_l(d)){a(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=Ac({callback:i}),r=p.useCallback(c=>{const d=xb(c);s==null||s.disconnect(),d&&(s==null||s.observe(d)),a(d?t(d):null)},[t,s]),[l,o]=Zo(r);return p.useMemo(()=>({nodeRef:l,rect:n,setRef:o}),[n,l,o])}const X1=[{sensor:gh,options:{}},{sensor:hh,options:{}}],Q1={current:{}},go={draggable:{measure:zg},droppable:{measure:zg,strategy:Vs.WhileDragging,frequency:Fd.Optimized},dragOverlay:{measure:ar}};class $r extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const J1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $r,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:go,measureDroppableContainers:Wo,windowRect:null,measuringScheduled:!1},Eb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wo,draggableNodes:new Map,over:null,measureDroppableContainers:Wo},xl=p.createContext(Eb),Tb=p.createContext(J1);function Z1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $r}}}function P1(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new $r(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Ut.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const r=new $r(e.droppable.containers);return r.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:r}}}case Ut.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const s=new $r(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function F1(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=p.useContext(xl),s=Po(a),r=Po(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!a&&s&&r!=null){if(!jc(s)||document.activeElement===s.target)return;const l=i.get(r);if(!l)return;const{activatorNode:o,node:c}=l;if(!o.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[o.current,c.current]){if(!d)continue;const f=QT(d);if(f){f.focus();break}}})}},[a,t,i,r,s]),null}function jb(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...a}),n):n}function W1(e){return p.useMemo(()=>({draggable:{...go.draggable,...e==null?void 0:e.draggable},droppable:{...go.droppable,...e==null?void 0:e.droppable},dragOverlay:{...go.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ej(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const s=p.useRef(!1),{x:r,y:l}=typeof i=="boolean"?{x:i,y:i}:i;ta(()=>{if(!r&&!l||!t){s.current=!1;return}if(s.current||!a)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=db(d,a);if(r||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=hb(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,r,l,a,n])}const Dc=p.createContext({...na,scaleX:1,scaleY:1});var qa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(qa||(qa={}));const tj=p.memo(function(t){var n,a,i,s;let{id:r,accessibility:l,autoScroll:o=!0,children:c,sensors:d=X1,collisionDetection:f=u1,measuring:h,modifiers:m,...b}=t;const _=p.useReducer(P1,void 0,Z1),[S,y]=_,[g,v]=e1(),[w,x]=p.useState(qa.Uninitialized),j=w===qa.Initialized,{draggable:{active:T,nodes:O,translate:D},droppable:{containers:B}}=S,W=T!=null?O.get(T):null,He=p.useRef({initial:null,translated:null}),Ge=p.useMemo(()=>{var G;return T!=null?{id:T,data:(G=W==null?void 0:W.data)!=null?G:Q1,rect:He}:null},[T,W]),Xe=p.useRef(null),[ke,z]=p.useState(null),[V,K]=p.useState(null),fe=sl(b,Object.values(b)),ue=Sl("DndDescribedBy",r),St=p.useMemo(()=>B.getEnabled(),[B]),Ue=W1(h),{droppableRects:yt,measureDroppableContainers:Ze,measuringScheduled:Qe}=z1(St,{dragging:j,dependencies:[D.x,D.y],config:Ue.droppable}),nt=k1(O,T),ln=p.useMemo(()=>V?Fo(V):null,[V]),Pe=Ce(),ot=L1(nt,Ue.draggable.measure);ej({activeNode:T!=null?O.get(T):null,config:Pe.layoutShiftCompensation,initialRect:ot,measure:Ue.draggable.measure});const pe=$g(nt,Ue.draggable.measure,ot),pn=$g(nt?nt.parentElement:null),Yt=p.useRef({activatorEvent:null,active:null,activeNode:nt,collisionRect:null,collisions:null,droppableRects:yt,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bn=B.getNodeFor((n=Yt.current.over)==null?void 0:n.id),Tt=K1({measure:Ue.dragOverlay.measure}),_n=(a=Tt.nodeRef.current)!=null?a:nt,wn=j?(i=Tt.rect)!=null?i:pe:null,J=!!(Tt.nodeRef.current&&Tt.rect),ie=q1(J?null:pe),be=Sb(_n?rn(_n):null),De=$1(j?bn??nt:null),Bt=I1(De),Rt=jb(m,{transform:{x:D.x-ie.x,y:D.y-ie.y,scaleX:1,scaleY:1},activatorEvent:V,active:Ge,activeNodeRect:pe,containerNodeRect:pn,draggingNodeRect:wn,over:Yt.current.over,overlayNodeRect:Tt.rect,scrollableAncestors:De,scrollableAncestorRects:Bt,windowRect:be}),on=ln?As(ln,D):null,ht=V1(De),mt=Yg(ht),Me=Yg(ht,[pe]),Se=As(Rt,mt),ee=wn?h1(wn,Rt):null,qe=Ge&&ee?f({active:Ge,collisionRect:ee,droppableRects:yt,droppableContainers:St,pointerCoordinates:on}):null,pt=ub(qe,"id"),[N,k]=p.useState(null),U=J?Rt:As(Rt,Me),P=d1(U,(s=N==null?void 0:N.rect)!=null?s:null,pe),H=p.useRef(null),Z=p.useCallback((G,ve)=>{let{sensor:le,options:Fe}=ve;if(Xe.current==null)return;const te=O.get(Xe.current);if(!te)return;const Ne=G.nativeEvent,F=new le({active:Xe.current,activeNode:te,event:Ne,options:Fe,context:Yt,onAbort(We){if(!O.get(We))return;const{onDragAbort:It}=fe.current,Ft={id:We};It==null||It(Ft),g({type:"onDragAbort",event:Ft})},onPending(We,Pt,It,Ft){if(!O.get(We))return;const{onDragPending:ua}=fe.current,Sn={id:We,constraint:Pt,initialCoordinates:It,offset:Ft};ua==null||ua(Sn),g({type:"onDragPending",event:Sn})},onStart(We){const Pt=Xe.current;if(Pt==null)return;const It=O.get(Pt);if(!It)return;const{onDragStart:Ft}=fe.current,zn={activatorEvent:Ne,active:{id:Pt,data:It.data,rect:He}};Ti.unstable_batchedUpdates(()=>{Ft==null||Ft(zn),x(qa.Initializing),y({type:Ut.DragStart,initialCoordinates:We,active:Pt}),g({type:"onDragStart",event:zn}),z(H.current),K(Ne)})},onMove(We){y({type:Ut.DragMove,coordinates:We})},onEnd:Gt(Ut.DragEnd),onCancel:Gt(Ut.DragCancel)});H.current=F;function Gt(We){return async function(){const{active:It,collisions:Ft,over:zn,scrollAdjustedTranslate:ua}=Yt.current;let Sn=null;if(It&&ua){const{cancelDrop:da}=fe.current;Sn={activatorEvent:Ne,active:It,collisions:Ft,delta:ua,over:zn},We===Ut.DragEnd&&typeof da=="function"&&await Promise.resolve(da(Sn))&&(We=Ut.DragCancel)}Xe.current=null,Ti.unstable_batchedUpdates(()=>{y({type:We}),x(qa.Uninitialized),k(null),z(null),K(null),H.current=null;const da=We===Ut.DragEnd?"onDragEnd":"onDragCancel";if(Sn){const Ma=fe.current[da];Ma==null||Ma(Sn),g({type:da,event:Sn})}})}}},[O]),he=p.useCallback((G,ve)=>(le,Fe)=>{const te=le.nativeEvent,Ne=O.get(Fe);if(Xe.current!==null||!Ne||te.dndKit||te.defaultPrevented)return;const F={active:Ne};G(le,ve.options,F)===!0&&(te.dndKit={capturedBy:ve.sensor},Xe.current=Fe,Z(le,ve))},[O,Z]),q=U1(d,he);Y1(d),ta(()=>{pe&&w===qa.Initializing&&x(qa.Initialized)},[pe,w]),p.useEffect(()=>{const{onDragMove:G}=fe.current,{active:ve,activatorEvent:le,collisions:Fe,over:te}=Yt.current;if(!ve||!le)return;const Ne={active:ve,activatorEvent:le,collisions:Fe,delta:{x:Se.x,y:Se.y},over:te};Ti.unstable_batchedUpdates(()=>{G==null||G(Ne),g({type:"onDragMove",event:Ne})})},[Se.x,Se.y]),p.useEffect(()=>{const{active:G,activatorEvent:ve,collisions:le,droppableContainers:Fe,scrollAdjustedTranslate:te}=Yt.current;if(!G||Xe.current==null||!ve||!te)return;const{onDragOver:Ne}=fe.current,F=Fe.get(pt),Gt=F&&F.rect.current?{id:F.id,rect:F.rect.current,data:F.data,disabled:F.disabled}:null,We={active:G,activatorEvent:ve,collisions:le,delta:{x:te.x,y:te.y},over:Gt};Ti.unstable_batchedUpdates(()=>{k(Gt),Ne==null||Ne(We),g({type:"onDragOver",event:We})})},[pt]),ta(()=>{Yt.current={activatorEvent:V,active:Ge,activeNode:nt,collisionRect:ee,collisions:qe,droppableRects:yt,draggableNodes:O,draggingNode:_n,draggingNodeRect:wn,droppableContainers:B,over:N,scrollableAncestors:De,scrollAdjustedTranslate:Se},He.current={initial:wn,translated:ee}},[Ge,nt,qe,ee,O,_n,wn,yt,B,N,De,Se]),N1({...Pe,delta:D,draggingRect:ee,pointerCoordinates:on,scrollableAncestors:De,scrollableAncestorRects:Bt});const xe=p.useMemo(()=>({active:Ge,activeNode:nt,activeNodeRect:pe,activatorEvent:V,collisions:qe,containerNodeRect:pn,dragOverlay:Tt,draggableNodes:O,droppableContainers:B,droppableRects:yt,over:N,measureDroppableContainers:Ze,scrollableAncestors:De,scrollableAncestorRects:Bt,measuringConfiguration:Ue,measuringScheduled:Qe,windowRect:be}),[Ge,nt,pe,V,qe,pn,Tt,O,B,yt,N,Ze,De,Bt,Ue,Qe,be]),re=p.useMemo(()=>({activatorEvent:V,activators:q,active:Ge,activeNodeRect:pe,ariaDescribedById:{draggable:ue},dispatch:y,draggableNodes:O,over:N,measureDroppableContainers:Ze}),[V,q,Ge,pe,y,ue,O,N,Ze]);return ft.createElement(lb.Provider,{value:v},ft.createElement(xl.Provider,{value:re},ft.createElement(Tb.Provider,{value:xe},ft.createElement(Dc.Provider,{value:P},c)),ft.createElement(F1,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ft.createElement(a1,{...l,hiddenTextDescribedById:ue}));function Ce(){const G=(ke==null?void 0:ke.autoScrollEnabled)===!1,ve=typeof o=="object"?o.enabled===!1:o===!1,le=j&&!G&&!ve;return typeof o=="object"?{...o,enabled:le}:{enabled:le}}}),nj=p.createContext(null),Ig="button",aj="Draggable";function ij(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const s=Sl(aj),{activators:r,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(xl),{role:m=Ig,roleDescription:b="draggable",tabIndex:_=0}=i??{},S=(o==null?void 0:o.id)===t,y=p.useContext(S?Dc:nj),[g,v]=Zo(),[w,x]=Zo(),j=G1(r,t),T=sl(n);ta(()=>(f.set(t,{id:t,key:s,node:g,activatorNode:w,data:T}),()=>{const D=f.get(t);D&&D.key===s&&f.delete(t)}),[f,t]);const O=p.useMemo(()=>({role:m,tabIndex:_,"aria-disabled":a,"aria-pressed":S&&m===Ig?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[a,m,_,S,b,d.draggable]);return{active:o,activatorEvent:l,activeNodeRect:c,attributes:O,isDragging:S,listeners:a?void 0:j,node:g,over:h,setNodeRef:v,setActivatorNodeRef:x,transform:y}}function Ob(){return p.useContext(Tb)}const sj="Droppable",rj={timeout:25};function lj(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const s=Sl(sj),{active:r,dispatch:l,over:o,measureDroppableContainers:c}=p.useContext(xl),d=p.useRef({disabled:n}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:b,updateMeasurementsFor:_,timeout:S}={...rj,...i},y=sl(_??a),g=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),m.current=null},S)},[S]),v=Ac({callback:g,disabled:b||!r}),w=p.useCallback((O,D)=>{v&&(D&&(v.unobserve(D),f.current=!1),O&&v.observe(O))},[v]),[x,j]=Zo(w),T=sl(t);return p.useEffect(()=>{!v||!x.current||(v.disconnect(),f.current=!1,v.observe(x.current))},[x,v]),p.useEffect(()=>(l({type:Ut.RegisterDroppable,element:{id:a,key:s,disabled:n,node:x,rect:h,data:T}}),()=>l({type:Ut.UnregisterDroppable,key:s,id:a})),[a]),p.useEffect(()=>{n!==d.current.disabled&&(l({type:Ut.SetDroppableDisabled,id:a,key:s,disabled:n}),d.current.disabled=n)},[a,s,n,l]),{active:r,rect:h,isOver:(o==null?void 0:o.id)===a,node:x,over:o,setNodeRef:j}}function oj(e){let{animation:t,children:n}=e;const[a,i]=p.useState(null),[s,r]=p.useState(null),l=Po(n);return!n&&!a&&l&&i(l),ta(()=>{if(!s)return;const o=a==null?void 0:a.key,c=a==null?void 0:a.props.id;if(o==null||c==null){i(null);return}Promise.resolve(t(c,s)).then(()=>{i(null)})},[t,a,s]),ft.createElement(ft.Fragment,null,n,a?p.cloneElement(a,{ref:r}):null)}const cj={x:0,y:0,scaleX:1,scaleY:1};function uj(e){let{children:t}=e;return ft.createElement(xl.Provider,{value:Eb},ft.createElement(Dc.Provider,{value:cj},t))}const dj={position:"fixed",touchAction:"none"},fj=e=>jc(e)?"transform 250ms ease":void 0,hj=p.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:s,className:r,rect:l,style:o,transform:c,transition:d=fj}=e;if(!l)return null;const f=i?c:{...c,scaleX:1,scaleY:1},h={...dj,width:l.width,height:l.height,top:l.top,left:l.left,transform:Li.Transform.toString(f),transformOrigin:i&&a?s1(a,l):void 0,transition:typeof d=="function"?d(a):d,...o};return ft.createElement(n,{className:r,style:h,ref:t},s)}),mj=e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:s,className:r}=e;if(s!=null&&s.active)for(const[l,o]of Object.entries(s.active))o!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,o));if(s!=null&&s.dragOverlay)for(const[l,o]of Object.entries(s.dragOverlay))o!==void 0&&a.node.style.setProperty(l,o);return r!=null&&r.active&&n.node.classList.add(r.active),r!=null&&r.dragOverlay&&a.node.classList.add(r.dragOverlay),function(){for(const[o,c]of Object.entries(i))n.node.style.setProperty(o,c);r!=null&&r.active&&n.node.classList.remove(r.active)}},gj=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Li.Transform.toString(t)},{transform:Li.Transform.toString(n)}]},vj={duration:250,easing:"ease",keyframes:gj,sideEffects:mj({styles:{active:{opacity:"0"}}})};function yj(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Tc((s,r)=>{if(t===null)return;const l=n.get(s);if(!l)return;const o=l.node.current;if(!o)return;const c=xb(r);if(!c)return;const{transform:d}=rn(r).getComputedStyle(r),f=fb(d);if(!f)return;const h=typeof t=="function"?t:pj(t);return bb(o,i.draggable.measure),h({active:{id:s,data:l.data,node:o,rect:i.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:r,rect:i.dragOverlay.measure(c)},droppableContainers:a,measuringConfiguration:i,transform:f})})}function pj(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...vj,...e};return s=>{let{active:r,dragOverlay:l,transform:o,...c}=s;if(!t)return;const d={x:l.rect.left-r.rect.left,y:l.rect.top-r.rect.top},f={scaleX:o.scaleX!==1?r.rect.width*o.scaleX/l.rect.width:1,scaleY:o.scaleY!==1?r.rect.height*o.scaleY/l.rect.height:1},h={x:o.x-d.x,y:o.y-d.y,...f},m=i({...c,active:r,dragOverlay:l,transform:{initial:o,final:h}}),[b]=m,_=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(_))return;const S=a==null?void 0:a({active:r,dragOverlay:l,...c}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{S==null||S(),g()}})}}let Kg=0;function bj(e){return p.useMemo(()=>{if(e!=null)return Kg++,Kg},[e])}const _j=ft.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:s,modifiers:r,wrapperElement:l="div",className:o,zIndex:c=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:b,droppableContainers:_,dragOverlay:S,over:y,measuringConfiguration:g,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:x}=Ob(),j=p.useContext(Dc),T=bj(f==null?void 0:f.id),O=jb(r,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:S.rect,over:y,overlayNodeRect:S.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:j,windowRect:x}),D=vh(h),B=yj({config:a,draggableNodes:b,droppableContainers:_,measuringConfiguration:g}),W=D?S.setRef:void 0;return ft.createElement(uj,null,ft.createElement(oj,{animation:B},f&&T?ft.createElement(hj,{key:T,id:f.id,ref:W,as:l,activatorEvent:d,adjustScale:t,className:o,transition:s,rect:D,style:{zIndex:c,...i},transform:O},n):null))});function Ka(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function wj(e,t){return e.reduce((n,a,i)=>{const s=t.get(a);return s&&(n[i]=s),n},Array(e.length))}function Pl(e){return e!==null&&e>=0}function Sj(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function xj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ab=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const s=Ka(t,a,n),r=t[i],l=s[i];return!l||!r?null:{x:l.left-r.left,y:l.top-r.top,scaleX:l.width/r.width,scaleY:l.height/r.height}},Fl={scaleX:1,scaleY:1},mr=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:s,overIndex:r}=e;const l=(t=s[n])!=null?t:a;if(!l)return null;if(i===n){const c=s[r];return c?{x:0,y:n<r?c.top+c.height-(l.top+l.height):c.top-l.top,...Fl}:null}const o=Ej(s,i,n);return i>n&&i<=r?{x:0,y:-l.height-o,...Fl}:i<n&&i>=r?{x:0,y:l.height+o,...Fl}:{x:0,y:0,...Fl}};function Ej(e,t,n){const a=e[t],i=e[t-1],s=e[t+1];return a?n<t?i?a.top-(i.top+i.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Db="Sortable",Cb=ft.createContext({activeIndex:-1,containerId:Db,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ab,disabled:{draggable:!1,droppable:!1}});function gr(e){let{children:t,id:n,items:a,strategy:i=Ab,disabled:s=!1}=e;const{active:r,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:d}=Ob(),f=Sl(Db,n),h=l.rect!==null,m=p.useMemo(()=>a.map(j=>typeof j=="object"&&"id"in j?j.id:j),[a]),b=r!=null,_=r?m.indexOf(r.id):-1,S=c?m.indexOf(c.id):-1,y=p.useRef(m),g=!Sj(m,y.current),v=S!==-1&&_===-1||g,w=xj(s);ta(()=>{g&&b&&d(m)},[g,m,b,d]),p.useEffect(()=>{y.current=m},[m]);const x=p.useMemo(()=>({activeIndex:_,containerId:f,disabled:w,disableTransforms:v,items:m,overIndex:S,useDragOverlay:h,sortedRects:wj(m,o),strategy:i}),[_,f,w.draggable,w.droppable,v,m,S,o,h,i]);return ft.createElement(Cb.Provider,{value:x},t)}const Tj=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return Ka(n,a,i).indexOf(t)},jj=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:s,newIndex:r,previousItems:l,previousContainerId:o,transition:c}=e;return!c||!a||l!==s&&i===r?!1:n?!0:r!==i&&t===o},Oj={duration:200,easing:"ease"},Nb="transform",Aj=Li.Transition.toString({property:Nb,duration:0,easing:"linear"}),Dj={roleDescription:"sortable"};function Cj(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,r]=p.useState(null),l=p.useRef(n);return ta(()=>{if(!t&&n!==l.current&&a.current){const o=i.current;if(o){const c=ar(a.current,{ignoreTransform:!0}),d={x:o.left-c.left,y:o.top-c.top,scaleX:o.width/c.width,scaleY:o.height/c.height};(d.x||d.y)&&r(d)}}n!==l.current&&(l.current=n)},[t,n,a,i]),p.useEffect(()=>{s&&r(null)},[s]),s}function Nj(e){let{animateLayoutChanges:t=jj,attributes:n,disabled:a,data:i,getNewIndex:s=Tj,id:r,strategy:l,resizeObserverConfig:o,transition:c=Oj}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:b,sortedRects:_,overIndex:S,useDragOverlay:y,strategy:g}=p.useContext(Cb),v=Rj(a,m),w=d.indexOf(r),x=p.useMemo(()=>({sortable:{containerId:f,index:w,items:d},...i}),[f,i,w,d]),j=p.useMemo(()=>d.slice(d.indexOf(r)),[d,r]),{rect:T,node:O,isOver:D,setNodeRef:B}=lj({id:r,data:x,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...o}}),{active:W,activatorEvent:He,activeNodeRect:Ge,attributes:Xe,setNodeRef:ke,listeners:z,isDragging:V,over:K,setActivatorNodeRef:fe,transform:ue}=ij({id:r,data:x,attributes:{...Dj,...n},disabled:v.draggable}),St=GT(B,ke),Ue=!!W,yt=Ue&&!b&&Pl(h)&&Pl(S),Ze=!y&&V,Qe=Ze&&yt?ue:null,ln=yt?Qe??(l??g)({rects:_,activeNodeRect:Ge,activeIndex:h,overIndex:S,index:w}):null,Pe=Pl(h)&&Pl(S)?s({id:r,items:d,activeIndex:h,overIndex:S}):w,ot=W==null?void 0:W.id,pe=p.useRef({activeId:ot,items:d,newIndex:Pe,containerId:f}),pn=d!==pe.current.items,Yt=t({active:W,containerId:f,isDragging:V,isSorting:Ue,id:r,index:w,items:d,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),bn=Cj({disabled:!Yt,index:w,node:O,rect:T});return p.useEffect(()=>{Ue&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),f!==pe.current.containerId&&(pe.current.containerId=f),d!==pe.current.items&&(pe.current.items=d)},[Ue,Pe,f,d]),p.useEffect(()=>{if(ot===pe.current.activeId)return;if(ot!=null&&pe.current.activeId==null){pe.current.activeId=ot;return}const _n=setTimeout(()=>{pe.current.activeId=ot},50);return()=>clearTimeout(_n)},[ot]),{active:W,activeIndex:h,attributes:Xe,data:x,rect:T,index:w,newIndex:Pe,items:d,isOver:D,isSorting:Ue,isDragging:V,listeners:z,node:O,overIndex:S,over:K,setNodeRef:St,setActivatorNodeRef:fe,setDroppableNodeRef:B,setDraggableNodeRef:ke,transform:bn??ln,transition:Tt()};function Tt(){if(bn||pn&&pe.current.newIndex===w)return Aj;if(!(Ze&&!jc(He)||!c)&&(Ue||Yt))return Li.Transition.toString({...c,property:Nb})}}function Rj(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function tc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Mj=[Oe.Down,Oe.Right,Oe.Up,Oe.Left],kj=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:s,over:r,scrollableAncestors:l}}=t;if(Mj.includes(e.code)){if(e.preventDefault(),!n||!a)return;const o=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case Oe.Down:a.top<h.top&&o.push(f);break;case Oe.Up:a.top>h.top&&o.push(f);break;case Oe.Left:a.left>h.left&&o.push(f);break;case Oe.Right:a.left<h.left&&o.push(f);break}});const c=o1({collisionRect:a,droppableRects:i,droppableContainers:o});let d=ub(c,"id");if(d===(r==null?void 0:r.id)&&c.length>1&&(d=c[1].id),d!=null){const f=s.get(n.id),h=s.get(d),m=h?i.get(h.id):null,b=h==null?void 0:h.node.current;if(b&&m&&f&&h){const S=Oc(b).some((j,T)=>l[T]!==j),y=Rb(f,h),g=Uj(f,h),v=S||!y?{x:0,y:0}:{x:g?a.width-m.width:0,y:g?a.height-m.height:0},w={x:m.left,y:m.top};return v.x&&v.y?w:rl(w,v)}}}};function Rb(e,t){return!tc(e)||!tc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Uj(e,t){return!tc(e)||!tc(t)||!Rb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Cc=[{key:"mon",label:""},{key:"tue",label:""},{key:"wed",label:""},{key:"thu",label:""},{key:"fri",label:""},{key:"sat",label:""},{key:"sun",label:""}],Hu={THIS_ONLY:"this-only",FROM_NOW:"from-now",ALL:"all"},zj="09",Lj="00",Te=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`},Ln=e=>{const t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=["","","","","","",""][e.getDay()];return`${t}.${n}.${a}(${s})`},yi=e=>{const t=new Date(e),n=String(t.getFullYear()).slice(2),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=["","","","","","",""][t.getDay()];return`${n}.${a}.${i}(${o}) ${s}:${r}`},Bj=e=>{const t=new Date;return Te(e)===Te(t)},Hj=()=>{const[e,t]=p.useState(null),[n,a]=p.useState(!0);return p.useEffect(()=>{Ee.auth.getSession().then(({data:{session:l}})=>{t(l),a(!1)});const{data:{subscription:r}}=Ee.auth.onAuthStateChange((l,o)=>{t(o)});return()=>r.unsubscribe()},[]),{session:e,authLoading:n,handleGoogleLogin:async()=>{try{const{error:r}=await Ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/todo-note/"}});if(r)throw r}catch(r){alert(" : "+r.message)}},handleLogout:async()=>{try{const{error:r}=await Ee.auth.signOut();if(r)throw r}catch(r){alert(" : "+r.message)}}}};function yh({value:e,onChange:t}){const n=p.useRef(null),a=p.useRef(null),i=p.useRef(e),s=p.useRef(!1),[r,l]=p.useState(()=>e&&e.includes(":")?e.split(":")[0]:zj),[o,c]=p.useState(()=>e&&e.includes(":")?e.split(":")[1]:Lj);p.useEffect(()=>{if(e&&e.includes(":")&&e!==i.current){const[g,v]=e.split(":");i.current=e,l(g),c(v)}},[e]),p.useEffect(()=>{if(!s.current){s.current=!0;return}const g=`${r}:${o}`;i.current=g,t&&t(g)},[r,o]);const d=(g,v,w)=>{if(!g.current)return;const x=g.current.scrollTop,T=Math.round(x/40),O=String(T).padStart(2,"0");v(O)},f=(g,v)=>{if(!g.current)return;const w=40,x=parseInt(v,10);g.current.scrollTop=x*w};p.useEffect(()=>{f(n,r)},[]),p.useEffect(()=>{f(a,o)},[]);const h=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),m=Array.from({length:60},(g,v)=>String(v).padStart(2,"0")),b=()=>{const g=(parseInt(r,10)+1)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},_=()=>{const g=(parseInt(r,10)-1+24)%24,v=String(g).padStart(2,"0");l(v),f(n,v)},S=()=>{const g=(parseInt(o,10)+1)%60,v=String(g).padStart(2,"0");c(v),f(a,v)},y=()=>{const g=(parseInt(o,10)-1+60)%60,v=String(g).padStart(2,"0");c(v),f(a,v)};return u.jsxs("div",{className:"apple-time-picker",children:[u.jsxs("div",{className:"picker-arrows-top",children:[u.jsx("button",{className:"picker-arrow-button",onClick:b,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:S,children:""})]}),u.jsxs("div",{className:"picker-container",children:[u.jsxs("div",{className:"picker-column",ref:n,onScroll:()=>d(n,l),children:[u.jsx("div",{className:"picker-spacer"}),h.map(g=>u.jsx("div",{className:`picker-item ${g===r?"selected":""}`,onClick:()=>{l(g),f(n,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]}),u.jsx("div",{className:"picker-separator",children:":"}),u.jsxs("div",{className:"picker-column",ref:a,onScroll:()=>d(a,c),children:[u.jsx("div",{className:"picker-spacer"}),m.map(g=>u.jsx("div",{className:`picker-item ${g===o?"selected":""}`,onClick:()=>{c(g),f(a,g)},children:g},g)),u.jsx("div",{className:"picker-spacer"})]})]}),u.jsxs("div",{className:"picker-arrows-bottom",children:[u.jsx("button",{className:"picker-arrow-button",onClick:_,children:""}),u.jsx("div",{style:{width:"20px"}}),u.jsx("button",{className:"picker-arrow-button",onClick:y,children:""})]}),u.jsx("div",{className:"picker-selection-indicator"})]})}function nc({selectedDays:e=[],onToggle:t,disabled:n=!1,variant:a="default"}){const i=(l,o)=>{l.stopPropagation(),t(o)},s=a==="inline"?"day-selector-inline":"day-selector",r=a==="inline"?"day-button-inline":"day-button";return u.jsx("div",{className:s,children:Cc.map(l=>u.jsx("button",{onClick:o=>i(o,l.key),className:`${r} ${e.includes(l.key)?"selected":""}`,disabled:n,type:"button",children:l.label},l.key))})}function Xg({message:e,onUndo:t,variant:n="default"}){const a=n==="success"?"undo-toast success-toast":"undo-toast";return u.jsxs("div",{className:a,children:[u.jsx("span",{children:e}),t&&u.jsx("button",{onClick:t,className:"undo-button",children:""})]})}function qj({title:e,editable:t=!1,onTitleChange:n,showHideButton:a=!1,onHide:i,showDeleteButton:s=!1,onDelete:r,customActions:l,settingsMenuItems:o=[]}){var g,v;const[c,d]=p.useState(!1),[f,h]=p.useState(e),[m,b]=p.useState(!1),_=p.useRef(null),S=()=>{f.trim()&&f!==e&&(n==null||n(f.trim())),d(!1)},y=()=>{h(e),d(!1)};return p.useEffect(()=>{const w=x=>{if(m&&_.current&&!_.current.contains(x.target)){const j=document.querySelector(".section-settings-dropdown");j&&!j.contains(x.target)&&b(!1)}};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[m]),u.jsxs("div",{className:"section-header",children:[u.jsx("div",{className:"section-title-container",children:c?u.jsx("div",{className:"section-title-edit-wrapper",children:u.jsx("input",{type:"text",value:f,onChange:w=>h(w.target.value),onBlur:S,onKeyDown:w=>{w.key==="Enter"?S():w.key==="Escape"&&y()},className:"section-title-input",autoFocus:!0})}):u.jsx("h2",{className:`section-title ${t?"editable":""}`,onClick:()=>t&&d(!0),children:e})}),u.jsxs("div",{className:"section-actions",children:[l,o.length>0&&u.jsxs("div",{style:{position:"relative"},children:[u.jsx("button",{ref:_,className:"section-action-button settings-button",onClick:()=>b(!m),title:"",children:""}),m&&fv.createPortal(u.jsx("div",{className:"section-settings-dropdown",style:{position:"fixed",top:`${((g=_.current)==null?void 0:g.getBoundingClientRect().bottom)+5}px`,left:`${(v=_.current)==null?void 0:v.getBoundingClientRect().left}px`},children:o.map((w,x)=>u.jsxs("button",{className:"settings-menu-item",onClick:()=>{w.onClick(),b(!1)},children:[u.jsx("span",{children:w.icon}),u.jsx("span",{children:w.label})]},x))}),document.body)]})]})]})}function $j({showSidebar:e,setShowSidebar:t,session:n,viewMode:a,setViewMode:i,onOpenRoutine:s,onOpenGanttChart:r,onOpenEncouragementModal:l,onOpenAddSection:o,onOpenHiddenSections:c,onLogout:d}){var f,h;return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1)}),u.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsx("h2",{children:""}),u.jsx("button",{className:"sidebar-close",onClick:()=>t(!1),children:""})]}),n&&n.user&&u.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[((f=n.user.user_metadata)==null?void 0:f.avatar_url)&&u.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"",style:{width:"40px",height:"40px",borderRadius:"50%"}}),u.jsxs("div",{style:{flex:1,minWidth:0},children:[u.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:((h=n.user.user_metadata)==null?void 0:h.full_name)||n.user.email}),u.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.user.email})]})]}),u.jsxs("div",{className:"sidebar-content",children:[u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{const m=a==="vertical"?"horizontal":"vertical";i(m),localStorage.setItem("viewMode",m),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:a==="vertical"?"":""}),u.jsx("span",{children:a==="vertical"?" ":" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{o(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{c(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{s(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{r(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:" "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{l(),t(!1)},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:"  "})]}),u.jsxs("button",{className:"sidebar-menu-item",onClick:()=>{confirm(" ?")&&d()},style:{marginTop:"auto",borderTop:"1px solid rgba(255, 255, 255, 0.1)",color:"rgba(255, 100, 100, 0.9)"},children:[u.jsx("span",{className:"sidebar-icon",children:""}),u.jsx("span",{children:""})]})]})]})]})}function Vj({selectedDate:e,onDateChange:t,onPrevDay:n,onNextDay:a}){return u.jsxs("div",{className:"date-nav-section",children:[u.jsxs("div",{className:"date-display-wrapper",children:[u.jsx("span",{className:"date-display",children:Ln(e)}),u.jsx("input",{type:"date",value:Te(e),onChange:t,className:"date-picker-input"})]}),u.jsx("button",{onClick:n,className:"date-nav-button",children:""}),u.jsx("button",{onClick:a,className:"date-nav-button",children:""})]})}function Yj({showSidebar:e,setShowSidebar:t,selectedDate:n,setSelectedDate:a,onDateChange:i,onPrevDay:s,onNextDay:r,showEncouragementEmoji:l,currentEncouragementMessage:o,onEncouragementClick:c,onQuickAdd:d,onOpenMemo:f}){const[h,m]=p.useState(""),[b,_]=p.useState(!1),S=async y=>{if(y.key==="Enter"&&!y.shiftKey&&h.trim()){y.preventDefault(),_(!0);try{await d(h.trim()),m("")}catch(g){console.error("Quick add error:",g)}finally{_(!1)}}};return u.jsx("div",{className:"header-fixed",children:u.jsxs("div",{className:"settings-bar",children:[u.jsx("button",{className:"hamburger-menu",onClick:()=>t(!e),title:"",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{x:"2",y:"4",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"9",width:"16",height:"2",rx:"1",fill:"currentColor"}),u.jsx("rect",{x:"2",y:"14",width:"16",height:"2",rx:"1",fill:"currentColor"})]})}),u.jsx(Vj,{selectedDate:n,onDateChange:i,onPrevDay:s,onNextDay:r}),u.jsx("div",{className:"encouragement-section",children:Bj(n)?u.jsx("div",{className:"encouragement-message",onClick:c,title:"    !",children:l?u.jsx("span",{className:"encouragement-emoji",children:"  "}):o||"!"}):u.jsx("button",{onClick:()=>a(new Date),className:"today-link",title:" ",children:"  "})}),u.jsx("div",{className:"quick-input-wrapper",children:u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),onKeyDown:S,placeholder:" Quick   (Enter )",className:"quick-input",disabled:b})}),u.jsx("button",{className:"header-memo-button",onClick:f,title:" ",children:"  "})]})})}function Gj({viewMode:e,currentSectionIndex:t,sectionsContainerRef:n,visibleSectionCount:a=3}){return e!=="horizontal"?null:u.jsx("div",{className:"section-pagination-dots",onTouchStart:i=>{const s=i.touches[0];i.currentTarget.dataset.touchStartX=s.clientX,i.currentTarget.dataset.touchStartTime=Date.now()},onTouchMove:i=>{i.currentTarget.dataset.touchMoved="true"},onTouchEnd:i=>{const s=parseFloat(i.currentTarget.dataset.touchStartX||"0"),r=parseInt(i.currentTarget.dataset.touchStartTime||"0"),l=i.currentTarget.dataset.touchMoved==="true",o=i.changedTouches[0].clientX,c=Date.now()-r;if(delete i.currentTarget.dataset.touchStartX,delete i.currentTarget.dataset.touchStartTime,delete i.currentTarget.dataset.touchMoved,l&&c<500){const d=s-o,f=n.current;if(!f)return;const h=f.querySelectorAll(".section-block");Math.abs(d)>50&&(d>0&&t<h.length-1?h[t+1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}):d<0&&t>0&&h[t-1].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}},children:Array.from({length:a},(i,s)=>u.jsx("button",{className:`pagination-dot ${t===s?"active":""}`,onClick:()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll(".section-block");l[s]&&l[s].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},s))})}function qu({title:e,className:t,inputValue:n,setInputValue:a,onAddTodo:i,isAdding:s,placeholder:r,children:l,editable:o=!1,onTitleChange:c,settingsMenuItems:d=[],headerActions:f}){return u.jsxs("div",{className:t,children:[u.jsx(qj,{title:e,editable:o,onTitleChange:c,settingsMenuItems:d,customActions:f}),u.jsxs("div",{className:"section-input",children:[u.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),onKeyDown:h=>{h.key==="Enter"&&i()},placeholder:r,className:"todo-input",disabled:s}),u.jsx("button",{onClick:i,className:"add-button",disabled:s,children:""})]}),l]})}const Ij=[{value:"this-only",label:" ",description:" ",tooltip:"  ,  ,   "},{value:"from-now",label:"   ",description:" ",tooltip:"  ,  ,   "},{value:"all",label:" ",description:" ",tooltip:"  ,  ,   "}],va={container:{display:"flex",flexDirection:"column",gap:"0.75rem"},option:e=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",background:e?"rgba(59, 130, 246, 0.1)":"transparent",cursor:"pointer",position:"relative"}),radio:{width:"16px",height:"16px",cursor:"pointer"},labelContainer:{flex:1,display:"flex",flexDirection:"column",gap:"0.25rem"},labelRow:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},label:{fontWeight:"600"},description:{fontSize:"0.85rem",color:"#9ca3af"},helpButton:{width:"20px",height:"20px",borderRadius:"50%",border:"1.5px solid #9ca3af",background:"transparent",color:"#9ca3af",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",padding:0},tooltip:{position:"absolute",right:"2.5rem",top:"50%",transform:"translateY(-50%)",background:"#1f2937",color:"#e5e7eb",padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",whiteSpace:"nowrap",zIndex:10,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"}};function Kj({selectedOption:e,onChange:t,name:n="delete-option"}){const[a,i]=p.useState(null);return u.jsx("div",{style:va.container,children:Ij.map(s=>u.jsxs("div",{style:va.option(e===s.value),onClick:()=>t(s.value),children:[u.jsx("input",{type:"radio",name:n,value:s.value,checked:e===s.value,onChange:r=>t(r.target.value),style:va.radio}),u.jsx("div",{style:va.labelContainer,children:u.jsxs("div",{style:va.labelRow,children:[u.jsx("span",{style:va.label,children:s.label}),u.jsx("span",{style:va.description,children:s.description})]})}),u.jsx("button",{onMouseEnter:()=>i(s.value),onMouseLeave:()=>i(null),onClick:r=>{r.stopPropagation(),i(a===s.value?null:s.value)},style:va.helpButton,children:"?"}),a===s.value&&u.jsx("div",{style:va.tooltip,children:s.tooltip})]},s.value))})}function ls({todo:e,index:t,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:d,level:f=0,onCreateRoutine:h,routines:m,onShowRoutineHistory:b,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y,isPendingRoutine:g=!1,onRemoveFromUI:v,showSuccessMessage:w,activeId:x,overId:j,hideNumber:T=!1,onMoveUp:O,onMoveDown:D,onMoveToTop:B,onMoveToBottom:W,isFirst:He,isLast:Ge}){const[Xe,ke]=p.useState(!1),[z,V]=p.useState(!1),[K,fe]=p.useState(!1),[ue,St]=p.useState(e.text),[Ue,yt]=p.useState(!1),[Ze,Qe]=p.useState(!1),[nt,ln]=p.useState(!1),[Pe,ot]=p.useState(""),[pe,pn]=p.useState(!1),[Yt,bn]=p.useState([]),[Tt,_n]=p.useState(!1),[wn,J]=p.useState(!1),[ie,be]=p.useState([]),[De,Bt]=p.useState([]),[Rt,on]=p.useState([]),[ht,mt]=p.useState(null),[Me,Se]=p.useState(!1),[ee,qe]=p.useState(null),[pt,N]=p.useState(!1),[k,U]=p.useState([]),[P,H]=p.useState(""),[Z,he]=p.useState({}),[q,xe]=p.useState(!1),[re,Ce]=p.useState(null),[G,ve]=p.useState([]),[le,Fe]=p.useState("this-only"),te=e.routine_id?m.find(M=>M.id===e.routine_id):null,{attributes:Ne,listeners:F,setNodeRef:Gt,transform:We,transition:Pt,isDragging:It}=Nj({id:e.id}),Ft=e.id===x,zn=e.id===j&&x&&x!==j,ua={cursor:"grab",opacity:Ft?.4:1},Sn=e.text.length>30,da=()=>{fe(!0),St(e.text)},Ma=async()=>{ue.trim()&&ue!==e.text&&await i(e.id,ue.trim()),fe(!1)},El=async M=>{M.key==="Enter"&&!M.shiftKey?(M.preventDefault(),await Ma()):M.key==="Escape"&&(fe(!1),St(e.text))},Nc=M=>{U(X=>X.includes(M)?X.filter(gt=>gt!==M):[...X,M])},Rc=M=>["sun","mon","tue","wed","thu","fri","sat"][M];p.useEffect(()=>{const M=X=>{z&&!X.target.closest(".drag-handle-wrapper")&&V(!1)};return document.addEventListener("click",M),()=>document.removeEventListener("click",M)},[z]),p.useEffect(()=>{ee==="history"&&!Z[e.id]&&!q&&(async()=>{xe(!0);try{const{data:X,error:gt}=await Ee.from("todo_history").select("*").eq("todo_id",e.id).order("changed_at",{ascending:!1});if(gt)throw gt;he(bt=>({...bt,[e.id]:X||[]}))}catch(X){console.error("Error fetching history:",X)}finally{xe(!1)}})()},[ee,e.id,Z,q]),p.useEffect(()=>{ee==="routine-stats"&&te&&(!re||re.id!==te.id)&&(async()=>{try{const{data:X,error:gt}=await Ee.from("todos").select("*").eq("routine_id",te.id).eq("deleted",!1).maybeSingle();if(gt)throw gt;if(X&&X.visible_dates){const bt=X.visible_dates.sort().map(ye=>{var at;return{id:`${X.id}-${ye}`,date:ye,text:X.text,completed:((at=X.completed_dates)==null?void 0:at.includes(ye))||!1}});ve(bt),Ce(te)}}catch(X){console.error("Error fetching routine history:",X)}})()},[ee,te,re]);const Mc=M=>{Bt(X=>X.includes(M)?X.filter(gt=>gt!==M):[...X,M])};return u.jsxs("div",{ref:Gt,style:{...ua,borderTop:zn?"2px solid rgba(99, 102, 241, 0.8)":"2px solid transparent"},className:"todo-item-container",children:[u.jsxs("div",{className:"drag-handle-wrapper",children:[u.jsx("span",{className:"drag-handle",onClick:M=>{M.stopPropagation(),V(!z)},title:"  "}),z&&u.jsxs("div",{className:"move-menu",children:[!He&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"move-menu-item",onClick:M=>{M.stopPropagation(),B&&B(e.id),V(!1)},children:"  "}),u.jsx("button",{className:"move-menu-item",onClick:M=>{M.stopPropagation(),O&&O(e.id),V(!1)},children:" "})]}),!Ge&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"move-menu-item",onClick:M=>{M.stopPropagation(),D&&D(e.id),V(!1)},children:" "}),u.jsx("button",{className:"move-menu-item",onClick:M=>{M.stopPropagation(),W&&W(e.id),V(!1)},children:"  "})]}),u.jsx("button",{className:"move-menu-item delete",onClick:M=>{M.stopPropagation(),window.confirm("  ?")&&a(e.id),V(!1)},children:" "})]})]}),!T&&u.jsx("span",{className:"todo-number",children:t+1}),u.jsx("div",{className:"todo-item-wrapper",children:u.jsxs("div",{className:`todo-item ${e.completed?"completed":""} ${Xe?"expanded":""} ${It?"drag-mode":""}`,children:[u.jsx("input",{type:"checkbox",checked:e.completed,onChange:()=>n(e.id),className:"todo-checkbox"}),u.jsx("div",{className:"todo-content",onClick:()=>!K&&Sn&&ke(!Xe),onDoubleClick:da,style:{cursor:K?"text":Sn?"pointer":"default"},children:K?u.jsx("textarea",{value:ue,onChange:M=>St(M.target.value),onBlur:Ma,onKeyDown:El,className:"todo-edit-input",autoFocus:!0,rows:1,style:{minHeight:"1.35em",resize:"vertical",overflow:"hidden"},onInput:M=>{M.target.style.height="auto",M.target.style.height=M.target.scrollHeight+"px"}}):u.jsx("span",{className:`todo-text ${Xe?"expanded":""}`,children:e.text})}),(()=>{const M=e.completed&&e.completed_at&&new Date(e.completed_at).toISOString().split("T")[0]!==e.date,X=e.routine_id&&te,gt=g||e.is_pending_routine;return(d.length>0||M||X||gt)&&u.jsxs("div",{className:"todo-badges",children:[M&&(()=>{const bt=new Date(e.completed_at).toISOString().split("T")[0],ye=new Date(e.completed_at).getDate();return u.jsxs("span",{className:"completed-date-badge",title:`${bt} `,children:[ye,""]})})(),X&&(()=>{const bt=y||e.date,ye=new Date(bt+"T00:00:00"),at=ye.getMonth()+1,$e=ye.getDate(),cn=["","","","","","",""][ye.getDay()],Gi=`${at}/${$e}(${cn})`;return u.jsxs("span",{className:"routine-date-badge",title:`${te.text} `,children:["for ",Gi]})})(),gt&&u.jsx("span",{className:"pending-routine-badge",title:"  ",children:""}),d.length>0&&u.jsx("span",{className:"todo-badge clickable",title:" ",onClick:bt=>{bt.stopPropagation(),Ze?(yt(!1),Qe(!1),ln(!1)):(yt(!0),Qe(!0),ln(!1),pn(!1),J(!1))},children:""})]})})(),!K&&!e.parent_id&&u.jsx("button",{className:"todo-more-button",onClick:M=>{M.stopPropagation(),Se(!0),qe(null),N(!1),U([]),H("")},title:"",children:""}),Ze&&!e.parent_id&&u.jsxs("div",{className:"subtodos-in-item",children:[d&&d.length>0&&d.map((M,X)=>u.jsx(ls,{todo:M,index:X,onToggle:n,onDelete:a,onEdit:i,formatDate:s,formatDateOnly:r,isFocused:l,onFocus:o,onAddSubTodo:c,subtodos:[],level:f+1,routines:m,onShowRoutineHistory:b,showSuccessMessage:w,onOpenRoutineSetupModal:_,onOpenHistoryModal:S,currentPageDate:y},M.id)),nt&&u.jsxs("div",{className:"subtodo-input-section",children:[u.jsx("input",{type:"text",value:Pe,onChange:M=>ot(M.target.value),onKeyDown:M=>{M.key==="Enter"&&Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},placeholder:" ...",className:"subtodo-input",autoFocus:!0}),u.jsx("button",{onClick:()=>{Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},className:"subtodo-add-button",children:""}),u.jsx("button",{onClick:()=>{ot("")},className:"subtodo-cancel-button",children:""})]})]})]})}),Me&&fv.createPortal(u.jsx("div",{className:"modal-overlay",onClick:()=>Se(!1),children:u.jsxs("div",{className:"actions-modal-content",onClick:M=>M.stopPropagation(),children:[u.jsxs("div",{className:"actions-modal-header",children:[u.jsx("h3",{children:" "}),u.jsx("button",{onClick:()=>Se(!1),className:"modal-close-button",children:""})]}),u.jsx("div",{className:"todo-edit-section",children:u.jsx("textarea",{value:ue,onChange:M=>St(M.target.value),onBlur:()=>{ue.trim()!==""&&ue!==e.text?i(e.id,ue):ue.trim()===""&&St(e.text)},className:"todo-edit-textarea",placeholder:"  ...",rows:3})}),u.jsxs("div",{className:"actions-modal-body",children:[u.jsxs("div",{className:"actions-menu",children:[u.jsxs("button",{className:`action-menu-item ${ee==="nanotodo"?"active":""}`,onClick:()=>qe("nanotodo"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${ee==="routine"?"active":""}`,onClick:()=>{qe("routine");const M=m.find(X=>X.id===e.routine_id);M?(U(M.days||[]),H(M.time_slot||""),N(!1)):(U([]),H(""),N(!0))},children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item ${ee==="history"?"active":""}`,onClick:()=>qe("history"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),e.routine_id&&te&&u.jsxs("button",{className:`action-menu-item ${ee==="routine-stats"?"active":""}`,onClick:()=>qe("routine-stats"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]}),u.jsxs("button",{className:`action-menu-item delete ${ee==="delete"?"active":""}`,onClick:()=>qe("delete"),children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:""})]})]}),u.jsxs("div",{className:"actions-detail",children:[!ee&&u.jsx("div",{className:"actions-detail-empty",children:u.jsx("p",{children:"  "})}),ee==="nanotodo"&&u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:" "}),u.jsxs("div",{className:"nanotodo-section-in-modal",children:[d&&d.length>0&&u.jsx("div",{className:"subtodo-list-in-modal",children:d.map(M=>u.jsxs("div",{className:"subtodo-item-in-modal",children:[u.jsx("input",{type:"checkbox",checked:M.completed,onChange:()=>n(M.id),className:"subtodo-checkbox-modal"}),u.jsx("span",{className:`subtodo-text-modal ${M.completed?"completed":""}`,children:M.text}),u.jsx("button",{onClick:()=>a(M.id),className:"subtodo-delete-modal",title:"",children:""})]},M.id))}),u.jsxs("div",{className:"subtodo-input-section-modal",children:[u.jsx("input",{type:"text",value:Pe,onChange:M=>ot(M.target.value),onKeyDown:M=>{M.key==="Enter"&&Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},placeholder:" ...",className:"subtodo-input-modal"}),u.jsx("button",{onClick:()=>{Pe.trim()&&(c(e.id,Pe.trim()),ot(""))},className:"subtodo-add-button-modal",children:""})]})]})]}),ee==="routine"&&(()=>{const M=m.find(X=>X.id===e.routine_id);return u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{className:"routine-setup-inline",children:M&&!pt?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Cc.filter(X=>M.days.includes(X.key)).map(X=>u.jsx("span",{className:"routine-day-badge",children:X.label},X.key))}),M.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",M.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:X=>{X.stopPropagation(),M&&(U(M.days),H(M.time_slot||""),N(!0))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async X=>{X.stopPropagation(),M&&e&&(await h(e.id,e.text,[],null,!0),Se(!1))},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:pt?" :":"  :"}),u.jsx(nc,{selectedDays:k,onToggle:Nc,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(yh,{value:P,onChange:X=>H(X)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async X=>{X.stopPropagation(),e&&(pt&&M?await h(e.id,e.text,k,M.id,!1,P):await h(e.id,e.text,k,null,!1,P),N(!1),Se(!1))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:X=>{X.stopPropagation(),N(!1),U([]),H("")},className:"routine-cancel-button",children:""})]})]})})]})})(),ee==="history"&&(()=>{const M=e.visible_dates&&e.visible_dates.length>0?e.visible_dates:[e.date],X=M[0],gt=M.map(ye=>({id:`${e.id}-${ye}`,date:ye})),bt=Z[e.id]||[];return q?u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:" ..."})]}):u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"  "}),u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:s(e.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:r(X?new Date(X+"T00:00:00"):new Date(e.date+"T00:00:00"))})]}),gt.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:gt.map((ye,at)=>{const $e=ye.date===e.date,ct=r(new Date(ye.date+"T00:00:00"));return u.jsxs("span",{children:[at>0&&"  ",u.jsxs("span",{style:$e?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ct.split("(")[0],$e?"()":""]})]},ye.id)})})]}),(()=>{const ye=new Date(e.created_at).toISOString().split("T")[0],at=e.date;return ye!==at&&gt.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:r(new Date(e.date+"T00:00:00"))})]}):null})(),bt.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",bt.length,")"]}),bt.map(ye=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[s(ye.changed_at),ye.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",r(new Date(ye.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:at=>{at.stopPropagation(),Mc(ye.id)},children:De.includes(ye.id)?"":""})]}),De.includes(ye.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ye.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:ye.new_text})]})]})]},ye.id))]})]})]})})(),ee==="routine-stats"&&te&&(()=>{if(!re||re.id!==te.id||G.length===0)return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",te.text," "]}),u.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:!re||re.id!==te.id?" ...":" ."})]});const M=G[0],X=new Date(M.date),gt=new Date,bt={};G.forEach($e=>{bt[$e.date]=$e.completed});const ye=[];let at=new Date(X);for(;at<=gt;){const $e=at.getFullYear(),ct=at.getMonth(),cn=`${$e}-${ct+1}`;ye.find(rr=>rr.key===cn)||ye.push({key:cn,year:$e,month:ct,days:[]});const Gi=ye.find(rr=>rr.key===cn),ka=Te(at),ir=at.getDay(),sr=Rc(ir),kc=te.days.includes(sr);Gi.days.push({date:new Date(at),dateStr:ka,day:at.getDate(),dayOfWeek:ir,isCompleted:bt[ka]===!0,isRoutineDay:kc,hasTodo:bt[ka]!==void 0}),at.setDate(at.getDate()+1)}return u.jsxs("div",{className:"actions-detail-content",children:[u.jsxs("h4",{children:[" ",te.text," "]}),u.jsxs("div",{className:"routine-history-content",children:[u.jsx("div",{className:"routine-history-calendar",children:ye.map($e=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[$e.year," ",$e.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),$e.days.length>0&&Array($e.days[0].dayOfWeek).fill(null).map((ct,cn)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${cn}`)),$e.days.map((ct,cn)=>{if(cn>0&&ct.day===1){const ka=6-$e.days[cn-1].dayOfWeek;return u.jsxs(ft.Fragment,{children:[Array(ka).fill(null).map((ir,sr)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${cn}-${sr}`)),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]},ct.dateStr)}return u.jsxs("div",{className:`history-day-cell ${ct.isCompleted?"completed":""} ${ct.isRoutineDay?"":"not-routine-day"}`,title:`${ct.dateStr}${ct.isRoutineDay?"":" (  )"}${ct.isCompleted?" - ":ct.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:ct.day}),ct.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},ct.dateStr)})]})]},$e.key))}),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[G.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[G.filter($e=>$e.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[G.filter($e=>!$e.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[G.length>0?Math.round(G.filter($e=>$e.completed).length/G.length*100):0,"%"]})]})]})]})]})})(),ee==="delete"&&(()=>{const M=async()=>{window.confirm(`  ?

  5    .`)&&(await a(e.id,le),Se(!1))};return u.jsxs("div",{className:"actions-detail-content",children:[u.jsx("h4",{children:"   "}),u.jsxs("p",{style:{fontSize:"0.9rem",color:"#9ca3af",marginBottom:"1rem",lineHeight:"1.6"},children:["    .",u.jsx("br",{}),"    ."]}),u.jsx(Kj,{selectedOption:le,onChange:Fe}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[u.jsx("button",{onClick:()=>Se(!1),style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#9ca3af",cursor:"pointer",fontSize:"0.9rem"},children:""}),u.jsx("button",{onClick:M,style:{padding:"0.5rem 1rem",borderRadius:"6px",background:"#ef4444",border:"none",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:""})]})]})})()]})]})]})}),document.body)]})}function Xj({showRoutineModal:e,onClose:t,routineInput:n,setRoutineInput:a,isAddingRoutine:i,selectedDays:s,onToggleDay:r,selectedTimeSlot:l,setSelectedTimeSlot:o,onAddRoutine:c,routines:d,editingRoutineId:f,editingRoutineText:h,setEditingRoutineText:m,editingRoutineDays:b,onToggleEditDay:_,onStartEdit:S,onSaveEdit:y,onCancelEdit:g,onDelete:v,onShowHistory:w}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-modal",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-add-section",children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),placeholder:"  ...",className:"routine-input",disabled:i}),u.jsx(nc,{selectedDays:s,onToggle:r,disabled:i}),u.jsxs("div",{className:"time-slot-selector",children:[u.jsx("label",{className:"time-slot-label",children:"  ()"}),u.jsx(yh,{value:l,onChange:x=>o(x)})]}),u.jsx("button",{onClick:c,className:"add-routine-button",disabled:i||n.trim()==="",children:" "})]}),u.jsx("div",{className:"routine-list",children:d.length===0?u.jsx("p",{className:"empty-message",children:"  ."}):d.map(x=>u.jsx("div",{className:"routine-item",children:f===x.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-edit-content",children:[u.jsx("input",{type:"text",value:h,onChange:j=>m(j.target.value),className:"routine-edit-input",placeholder:" "}),u.jsx(nc,{selectedDays:b,onToggle:_,variant:"inline"})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:y,className:"routine-save-button",disabled:h.trim()===""||b.length===0,children:""}),u.jsx("button",{onClick:g,className:"routine-cancel-edit-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-item-content",children:[u.jsx("span",{className:"routine-text",children:x.text}),u.jsxs("div",{className:"routine-meta",children:[u.jsx("div",{className:"routine-days",children:Cc.filter(j=>x.days.includes(j.key)).map(j=>u.jsx("span",{className:"routine-day-badge",children:j.label},j.key))}),x.time_slot&&u.jsx("span",{className:"routine-time-slot",children:x.time_slot})]})]}),u.jsxs("div",{className:"routine-item-actions",children:[u.jsx("button",{onClick:()=>w(x),className:"routine-history-button",title:" ",children:""}),u.jsx("button",{onClick:()=>S(x),className:"routine-edit-button",title:"",children:""}),u.jsx("button",{onClick:()=>v(x.id),className:"routine-delete-button",title:"",children:""})]})]})},x.id))})]})}):null}const Qj=e=>["sun","mon","tue","wed","thu","fri","sat"][e];function Jj({showRoutineHistory:e,onClose:t,selectedRoutine:n,routineHistoryData:a}){return!e||!n?null:u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content routine-history-modal",onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[" ",n.text," "]}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"routine-history-content",children:[(()=>{if(a.length===0)return u.jsx("p",{className:"empty-message",children:"   ."});const i=a[0],s=new Date(i.date),r=new Date,l={};a.forEach(d=>{l[d.date]=d.completed});const o=[];let c=new Date(s);for(;c<=r;){const d=c.getFullYear(),f=c.getMonth(),h=`${d}-${f+1}`;o.find(g=>g.key===h)||o.push({key:h,year:d,month:f,days:[]});const m=o.find(g=>g.key===h),b=Te(c),_=c.getDay(),S=Qj(_),y=n.days.includes(S);m.days.push({date:new Date(c),dateStr:b,day:c.getDate(),dayOfWeek:_,isCompleted:l[b]===!0,isRoutineDay:y,hasTodo:l[b]!==void 0}),c.setDate(c.getDate()+1)}return u.jsx("div",{className:"routine-history-calendar",children:o.map(d=>u.jsxs("div",{className:"history-month",children:[u.jsxs("h3",{className:"history-month-title",children:[d.year," ",d.month+1,""]}),u.jsxs("div",{className:"history-calendar-grid",children:[u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),d.days.length>0&&Array(d.days[0].dayOfWeek).fill(null).map((f,h)=>u.jsx("div",{className:"history-day-cell empty"},`empty-${h}`)),d.days.map((f,h)=>{if(h>0&&f.day===1){const b=6-d.days[h-1].dayOfWeek;return u.jsxs(u.Fragment,{children:[Array(b).fill(null).map((_,S)=>u.jsx("div",{className:"history-day-cell empty"},`empty-end-${h}-${S}`)),u.jsx("div",{className:"history-day-header",children:""},f.dateStr),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsx("div",{className:"history-day-header",children:""}),u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]})]})}return u.jsxs("div",{className:`history-day-cell ${f.isCompleted?"completed":""} ${f.isRoutineDay?"":"not-routine-day"}`,title:`${f.dateStr}${f.isRoutineDay?"":" (  )"}${f.isCompleted?" - ":f.hasTodo?" - ":""}`,children:[u.jsx("span",{className:"day-number",children:f.day}),f.isCompleted&&u.jsx("span",{className:"check-mark",children:""})]},f.dateStr)})]})]},d.key))})})(),u.jsxs("div",{className:"routine-history-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:" :"}),u.jsxs("span",{className:"stat-value",children:[a.length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value completed",children:[a.filter(i=>i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value incomplete",children:[a.filter(i=>!i.completed).length,""]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:":"}),u.jsxs("span",{className:"stat-value",children:[a.length>0?Math.round(a.filter(i=>i.completed).length/a.length*100):0,"%"]})]})]})]})]})})}function Zj({show:e,onClose:t,content:n,setContent:a,isSaving:i,placeholder:s=" ..."}){const r=p.useRef(null);return p.useEffect(()=>{r.current&&e&&(r.current.style.height="auto",r.current.style.height=Math.min(r.current.scrollHeight,window.innerHeight*.6)+"px")},[n,e]),p.useEffect(()=>{e&&r.current&&r.current.focus()},[e]),p.useEffect(()=>{const l=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]),e?u.jsx("div",{className:"memo-modal-overlay",onClick:t,children:u.jsxs("div",{className:"memo-modal",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"memo-modal-header",children:[u.jsx("h3",{children:"  "}),u.jsxs("div",{className:"memo-modal-actions",children:[i&&u.jsx("span",{className:"memo-saving-indicator",children:" ..."}),u.jsx("button",{className:"memo-modal-close",onClick:t,children:""})]})]}),u.jsx("textarea",{ref:r,value:n,onChange:l=>a(l.target.value),className:"memo-modal-textarea",placeholder:s})]})}):null}function Pj({showGanttChart:e,onClose:t,ganttData:n,ganttPeriod:a,setGanttPeriod:i,formatDateOnly:s}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content gantt-modal",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  -  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"gantt-filter",children:u.jsx("div",{className:"gantt-period-buttons",children:[{value:"1week",label:" 1"},{value:"2weeks",label:" 2"},{value:"1month",label:" 1"},{value:"3months",label:" 3"},{value:"6months",label:" 6"},{value:"all",label:""}].map(r=>u.jsx("button",{className:`period-button ${a===r.value?"active":""}`,onClick:()=>i(r.value),children:r.label},r.value))})}),u.jsx("div",{className:"gantt-content",children:n.length===0?u.jsx("p",{className:"empty-message",children:" ."}):u.jsx("div",{className:"gantt-chart",children:(()=>{const r=n.flatMap(f=>f.dates),l=[...new Set(r)].sort((f,h)=>new Date(f)-new Date(h));if(l.length===0)return u.jsx("p",{className:"empty-message",children:"  ."});const o=new Date(l[0]),c=new Date(l[l.length-1]),d=[];for(let f=new Date(o);f<=c;f.setDate(f.getDate()+1))d.push(new Date(f).toISOString().split("T")[0]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"gantt-header",children:[u.jsx("div",{className:"gantt-task-column",children:" "}),u.jsx("div",{className:"gantt-timeline",children:d.map(f=>u.jsx("div",{className:"gantt-date-cell",children:s(new Date(f+"T00:00:00")).split("(")[0]},f))})]}),n.map((f,h)=>{const m=new Set(f.dates);return u.jsxs("div",{className:"gantt-row",children:[u.jsx("div",{className:"gantt-task-column",title:f.text,children:u.jsx("span",{className:f.completed?"completed-task":"",children:f.text})}),u.jsx("div",{className:"gantt-timeline",children:d.map(b=>{if(!m.has(b))return u.jsx("div",{className:"gantt-date-cell"},b);const S=b===f.startDate,y=b===f.completedDate;let g="gantt-date-cell has-task";return S?g+=" start-date":y?g+=" completed-date":g+=" middle-date",u.jsx("div",{className:g,children:y?u.jsx("span",{className:"completed-circle",children:""}):""},b)})})]},f.originalId)})]})})()})})]})}):null}function Fj({showEncouragementModal:e,onClose:t,encouragementMessages:n,newEncouragementMessage:a,setNewEncouragementMessage:i,onAddEncouragementMessage:s,editingEncouragementId:r,editingEncouragementText:l,setEditingEncouragementId:o,setEditingEncouragementText:c,onUpdateEncouragementMessage:d,onDeleteEncouragementMessage:f}){return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content encouragement-modal",onClick:h=>h.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"encouragement-add-section",children:[u.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"   ...",className:"encouragement-input",onKeyDown:async h=>{h.key==="Enter"&&a.trim()!==""&&(await s(a.trim()),i(""))}}),u.jsx("button",{onClick:async()=>{a.trim()!==""&&(await s(a.trim()),i(""))},className:"add-encouragement-button",disabled:a.trim()==="",children:""})]}),u.jsx("div",{className:"encouragement-list",children:n.length===0?u.jsx("p",{className:"empty-message",children:"   ."}):n.map((h,m)=>u.jsx("div",{className:"encouragement-item",children:r===m?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),className:"encouragement-edit-input",placeholder:" "}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:async()=>{l.trim()!==""&&(await d(m,l.trim()),o(null),c(""))},className:"encouragement-save-button",disabled:l.trim()==="",children:""}),u.jsx("button",{onClick:()=>{o(null),c("")},className:"encouragement-cancel-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"encouragement-text",children:h}),u.jsxs("div",{className:"encouragement-item-actions",children:[u.jsx("button",{onClick:()=>{o(m),c(h)},className:"encouragement-edit-button",title:"",children:""}),u.jsx("button",{onClick:async()=>{window.confirm("   ?")&&await f(m)},className:"encouragement-delete-button",title:"",children:""})]})]})},m))})]})}):null}function Wj({isOpen:e,onClose:t,onAddSection:n}){const[a,i]=p.useState(""),[s,r]=p.useState(""),l=["","","","","","","","","","","",""],o=c=>{c.preventDefault(),a.trim()&&(n({name:a.trim(),icon:s}),i(""),r(""),t())};return e?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content add-section-modal",onClick:c=>c.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{className:"modal-close-button",onClick:t,children:""})]}),u.jsxs("form",{onSubmit:o,className:"add-section-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:": ,  , ...",className:"section-name-input",autoFocus:!0,maxLength:20})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:" "}),u.jsx("div",{className:"emoji-grid",children:l.map(c=>u.jsx("button",{type:"button",className:`emoji-button ${s===c?"selected":""}`,onClick:()=>r(c),children:c},c))}),u.jsx("div",{className:"custom-emoji-input",children:u.jsx("input",{type:"text",value:s,onChange:c=>{const d=Array.from(c.target.value);r(d.slice(0,2).join(""))},placeholder:" ",className:"emoji-input"})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:""}),u.jsxs("div",{className:"section-preview",children:[s," ",a||" "]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",onClick:t,className:"cancel-button",children:""}),u.jsx("button",{type:"submit",className:"submit-button",disabled:!a.trim(),children:""})]})]})]})}):null}function eO({show:e,onClose:t,hiddenSections:n,sectionOrder:a,sectionTitles:i,customSections:s,onShowSection:r}){if(!e)return null;const l=o=>{if(i[o])return i[o];const c=s.find(d=>d.id===o);return c?`${c.icon} ${c.name}`:o};return n.length===0?u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("p",{className:"empty-message",children:"  ."})})]})}):u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content hidden-sections-modal",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"   "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"hidden-sections-list",children:n.map(o=>u.jsxs("div",{className:"hidden-section-item",children:[u.jsx("span",{className:"hidden-section-title",children:l(o)}),u.jsx("button",{className:"show-section-button",onClick:()=>{r(o)},title:" ",children:" "})]},o))})})]})})}function Qg({todo:e,onClose:t,onDeleteThisOnly:n,onDeleteFromNow:a,onDeleteAll:i}){const[s,r]=p.useState("this-only"),[l,o]=p.useState(null),c=()=>{s==="this-only"?n(e):s==="from-now"?a(e):s==="all"&&i(e),t()},d=[{id:"this-only",label:" ",subtitle:" ",tooltip:"  ,  ,   "},{id:"from-now",label:"   ",subtitle:" ",tooltip:"  ,  ,   "},{id:"all",label:" ",subtitle:" ",tooltip:"  ,  ,   "}];return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content delete-confirm-modal-v2",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:t,className:"modal-close-button",children:""})]}),u.jsxs("div",{className:"delete-confirm-content-v2",children:[u.jsxs("p",{className:"delete-info-text",children:["    .",u.jsx("br",{}),"    ."]}),u.jsx("div",{className:"delete-options-v2",children:d.map(f=>u.jsxs("div",{className:"delete-option-item",children:[u.jsxs("label",{className:"delete-option-label",children:[u.jsx("input",{type:"radio",name:"delete-option",value:f.id,checked:s===f.id,onChange:h=>r(h.target.value)}),u.jsxs("div",{className:"option-text",children:[u.jsx("span",{className:"option-main",children:f.label}),u.jsx("span",{className:"option-sub",children:f.subtitle})]})]}),u.jsx("button",{className:"option-help-btn",onMouseEnter:()=>o(f.id),onMouseLeave:()=>o(null),onClick:h=>{h.preventDefault(),o(l===f.id?null:f.id)},children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"8",y:"11.5",textAnchor:"middle",fontSize:"11",fill:"currentColor",fontWeight:"600",children:"?"})]})}),l===f.id&&u.jsx("div",{className:"option-tooltip",children:f.tooltip})]},f.id))}),u.jsxs("div",{className:"delete-modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:t,children:""}),u.jsx("button",{className:"btn-confirm",onClick:c,children:""})]})]})]})})}function tO({authLoading:e,session:t,handleGoogleLogin:n}){return e?u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),u.jsx("div",{children:" ..."})]})}):t?null:u.jsx("div",{className:"app",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"16px",maxWidth:"400px"},children:[u.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:" Todo Note"}),u.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"2rem"},children:"     "}),u.jsxs("button",{onClick:n,style:{padding:"1rem 2rem",fontSize:"1.1rem",background:"#646cff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[u.jsx("span",{children:""}),"Google "]})]})})}function nO(e){const[t,n]=p.useState(["routine","normal"]),[a,i]=p.useState(!1),s=async()=>{var f;if((f=e==null?void 0:e.user)!=null&&f.id)try{const{data:h,error:m}=await Ee.from("user_settings").select("setting_value").eq("setting_key","section_order").maybeSingle();if(m){console.error("   :",m.message);return}if(h&&h.setting_value){const b=JSON.parse(h.setting_value);n(b)}}catch(h){console.error("   :",h.message)}},r=async f=>{var h;if((h=e==null?void 0:e.user)!=null&&h.id)try{const{data:m,error:b}=await Ee.from("user_settings").select("id").eq("setting_key","section_order").maybeSingle();if(b){console.error("   :",b.message);return}m?await Ee.from("user_settings").update({setting_value:JSON.stringify(f),updated_at:new Date().toISOString()}).eq("setting_key","section_order"):await Ee.from("user_settings").insert([{setting_key:"section_order",setting_value:JSON.stringify(f),user_id:e.user.id}])}catch(m){console.error("   :",m.message)}};return{sectionOrder:t,setSectionOrder:n,isReorderMode:a,setIsReorderMode:i,fetchSectionOrder:s,saveSectionOrder:r,moveSectionLeft:f=>{n(h=>{const m=h.indexOf(f);if(m<=0)return h;const b=[...h];return[b[m-1],b[m]]=[b[m],b[m-1]],r(b),b})},moveSectionRight:f=>{n(h=>{const m=h.indexOf(f);if(m===-1||m>=h.length-1)return h;const b=[...h];return[b[m],b[m+1]]=[b[m+1],b[m]],r(b),b})},handleSectionDragEnd:f=>{const{active:h,over:m}=f;a&&t.includes(h.id)&&m&&h.id!==(m==null?void 0:m.id)&&n(b=>{const _=b.indexOf(h.id),S=b.indexOf(m.id),y=Ka(b,_,S);return r(y),y})},handleSectionsContainerDoubleClick:f=>{a&&f.target===f.currentTarget&&i(!1)}}}function aO(e){const[t,n]=p.useState(""),[a,i]=p.useState(!1),[s,r]=p.useState(""),l=p.useRef(null),o=p.useRef(null),c=async()=>{try{const{data:f,error:h}=await Ee.from("spec_memos").select("content").order("created_at",{ascending:!1}).limit(1);if(h)throw h;const m=f&&f.length>0?f[0].content:"";n(m),r(m)}catch(f){console.error("Error fetching memo:",f.message),n(""),r("")}},d=p.useCallback(async f=>{var h;if(f!==s)try{i(!0);const{data:m}=await Ee.from("spec_memos").select("id").order("created_at",{ascending:!1}).limit(1);m&&m.length>0?await Ee.from("spec_memos").update({content:f,updated_at:new Date().toISOString()}).eq("id",m[0].id):await Ee.from("spec_memos").insert([{content:f,user_id:(h=e==null?void 0:e.user)==null?void 0:h.id}]),r(f)}catch(m){console.error("Error saving memo:",m.message)}finally{i(!1)}},[e,s]);return p.useEffect(()=>{if(t!==s)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d(t)},1e3),()=>{o.current&&clearTimeout(o.current)}},[t,d,s]),p.useEffect(()=>()=>{o.current&&clearTimeout(o.current),t!==s&&d(t)},[]),{memoContent:t,setMemoContent:n,isSavingMemo:a,memoTextareaRef:l,fetchMemoContent:c}}const Mb=({type:e,supabase:t,selectedDate:n,onDeleteSuccess:a})=>({deleteThisOnly:async l=>{try{const o=Te(n),d=[...l.hidden_dates||[],o],f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({hidden_dates:d}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Hu.THIS_ONLY),{success:!0}}catch(o){return console.error(`${e}   (THIS_ONLY):`,o.message),{success:!1,error:o}}},deleteFromNow:async l=>{try{const o=Te(n),d=(l.visible_dates||[]).filter(m=>m<o),f=e==="todo"?"todos":"routines",{error:h}=await t.from(f).update({visible_dates:d,stop_carryover_from:o}).eq("id",l.id);if(h)throw h;return a&&a(l.id,Hu.FROM_NOW),{success:!0}}catch(o){return console.error(`${e}   (FROM_NOW):`,o.message),{success:!1,error:o}}},deleteAll:async l=>{try{const o=Te(n),c=e==="todo"?"todos":"routines",{error:d}=await t.from(c).update({deleted:!0,deleted_date:o}).eq("id",l.id);if(d)throw d;return e==="routine"&&await t.from("todos").update({routine_id:null}).eq("routine_id",l.id),a&&a(l.id,Hu.ALL),{success:!0}}catch(o){return console.error(`${e}   (ALL):`,o.message),{success:!1,error:o}}}}),iO=e=>["sun","mon","tue","wed","thu","fri","sat"][e],sO=({session:e,supabase:t,selectedDate:n,setTodos:a,setSuccessToastMessage:i,setShowSuccessToast:s})=>{const[r,l]=p.useState([]),[o,c]=p.useState(""),[d,f]=p.useState([]),[h,m]=p.useState(""),[b,_]=p.useState(!1),[S,y]=p.useState(!1),[g,v]=p.useState(null),[w,x]=p.useState(""),[j,T]=p.useState([]),[O,D]=p.useState(!1),[B,W]=p.useState(null),[He,Ge]=p.useState([]),[Xe,ke]=p.useState(!1),[z,V]=p.useState(null),K=p.useRef(new Set),{deleteThisOnly:fe,deleteFromNow:ue,deleteAll:St}=Mb({type:"routine",supabase:t,selectedDate:n,onDeleteSuccess:(J,ie)=>{l(be=>be.filter(De=>De.id!==J)),i(" "),s(!0)}}),Ue=async()=>{var J;if((J=e==null?void 0:e.user)!=null&&J.id)try{const{data:ie,error:be}=await t.from("routines").select("*").eq("deleted",!1).order("created_at",{ascending:!1});if(be)throw be;l(ie||[])}catch(ie){console.error("  :",ie.message)}},yt=async()=>{var J;if(!(o.trim()===""||b))try{_(!0);const ie={text:o,days:d,start_date:Te(n),user_id:(J=e==null?void 0:e.user)==null?void 0:J.id};h&&(ie.time_slot=h);const{data:be,error:De}=await t.from("routines").insert([ie]).select();if(De)throw De;l([be[0],...r]),c(""),f([]),m("")}catch(ie){console.error("  :",ie.message)}finally{_(!1)}},Ze=async(J,ie,be,De=null,Bt=!1,Rt="",on=null)=>{var ht;try{if(Bt){const{error:mt}=await t.from("todos").update({routine_id:null}).eq("id",J);if(mt)throw mt;a(Me=>Me.map(Se=>Se.id===J?{...Se,routine_id:null}:Se));return}if(De){const{error:mt}=await t.from("routines").update({days:be,time_slot:Rt}).eq("id",De);if(mt)throw mt;const{error:Me}=await t.from("todos").update({is_pending_routine:be.length===0}).eq("id",J);if(Me)throw Me;l(Se=>Se.map(ee=>ee.id===De?{...ee,days:be,time_slot:Rt}:ee)),a(Se=>Se.map(ee=>ee.id===J?{...ee,is_pending_routine:be.length===0}:ee))}else{const mt={text:ie,days:be,time_slot:Rt,start_date:on||Te(n),user_id:(ht=e==null?void 0:e.user)==null?void 0:ht.id},{data:Me,error:Se}=await t.from("routines").insert([mt]).select();if(Se)throw Se;const{error:ee}=await t.from("todos").update({routine_id:Me[0].id,is_pending_routine:be.length===0}).eq("id",J);if(ee)throw ee;a(qe=>qe.map(pt=>pt.id===J?{...pt,routine_id:Me[0].id,is_pending_routine:be.length===0}:pt)),l(qe=>[Me[0],...qe])}}catch(mt){console.error("  :",mt.message)}},Qe=J=>{v(J.id),x(J.text),T(J.days)},nt=()=>{v(null),x(""),T([])},ln=async()=>{if(!(!g||w.trim()===""||j.length===0))try{const{error:J}=await t.from("routines").update({text:w.trim(),days:j}).eq("id",g);if(J)throw J;l(r.map(ie=>ie.id===g?{...ie,text:w.trim(),days:j}:ie)),nt()}catch(J){console.error("  :",J.message)}},Pe=J=>{T(ie=>ie.includes(J)?ie.filter(be=>be!==J):[...ie,J])},ot=async J=>{const ie=r.find(be=>be.id===J);ie&&(V(ie),ke(!0))},pe=async J=>{var ie;if(!K.current.has(J))try{K.current.add(J);const be=new Date(J),De=iO(be.getDay()),{data:Bt,error:Rt}=await t.from("routines").select("*").eq("deleted",!1);if(Rt)throw Rt;const on=Bt.filter(ht=>{const mt=ht.days||[],Me=mt.length===0||mt.includes(De);if(ht.start_date){const Se=new Date(ht.start_date),ee=be>=Se;return Me&&ee}return Me});if(on.length===0)return;for(const ht of on){const mt=ht.text,{data:Me,error:Se}=await t.from("todos").select("*").eq("routine_id",ht.id).eq("deleted",!1);if(Se)throw Se;if(Me&&Me.length>1){console.warn(` ${ht.id}    (${Me.length}).     .`);for(let qe=1;qe<Me.length;qe++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",Me[qe].id)}const ee=Me&&Me.length>0?Me[0]:null;if(ee){const qe=ee.visible_dates||[],pt=!ht.days||ht.days.length===0,N=pt?"pending_routine":"routine";if(qe.includes(J)){(ee.is_pending_routine!==pt||ee.section_type!==N)&&await t.from("todos").update({is_pending_routine:pt,section_type:N}).eq("id",ee.id);continue}const k=[...qe,J].sort(),{error:U}=await t.from("todos").update({visible_dates:k,is_pending_routine:pt,section_type:pt?"pending_routine":"routine"}).eq("id",ee.id);U&&console.error("    :",U.message)}else{const qe=!ht.days||ht.days.length===0,{error:pt}=await t.from("todos").insert([{text:mt,completed:!1,date:J,visible_dates:[J],hidden_dates:[],order_index:0,routine_id:ht.id,is_pending_routine:qe,section_type:qe?"pending_routine":"routine",user_id:(ie=e==null?void 0:e.user)==null?void 0:ie.id}]);pt&&console.error("   :",pt.message)}}}catch(be){console.error("   :",be.message)}finally{setTimeout(()=>{K.current.delete(J)},1e3)}},pn=async()=>{const ie=Te(new Date);await pe(ie)},Yt=async J=>{try{const{data:ie,error:be}=await t.from("todos").select("*").eq("routine_id",J.id).eq("deleted",!1);if(be)throw be;const De=ie&&ie.length>0?ie[0]:null;if(De&&De.visible_dates){const Bt=De.visible_dates.sort().map(Rt=>({id:`${De.id}-${Rt}`,date:Rt,text:De.text,completed:De.completed,routine_id:De.routine_id}));Ge(Bt)}else Ge([]);W(J),D(!0)}catch(ie){console.error("   :",ie.message),alert("   : "+ie.message)}},bn=()=>{D(!1),W(null),Ge([])},Tt=()=>{y(!0),Ue()},_n=()=>{y(!1),c(""),f([])},wn=J=>{f(ie=>ie.includes(J)?ie.filter(be=>be!==J):[...ie,J])};return p.useEffect(()=>{e&&Ue()},[e]),{routines:r,setRoutines:l,routineInput:o,selectedDays:d,selectedTimeSlot:h,isAddingRoutine:b,showRoutineModal:S,editingRoutineId:g,editingRoutineText:w,editingRoutineDays:j,showRoutineHistory:O,selectedRoutineForHistory:B,routineHistoryData:He,routineCreationInProgress:K,showDeleteConfirmModal:Xe,setShowDeleteConfirmModal:ke,routineToDelete:z,setRoutineToDelete:V,setRoutineInput:c,setSelectedTimeSlot:m,fetchRoutines:Ue,handleAddRoutine:yt,handleDeleteRoutine:ot,deleteThisOnly:fe,deleteFromNow:ue,deleteAll:St,handleStartEditRoutine:Qe,handleSaveEditRoutine:ln,handleCancelEditRoutine:nt,handleToggleEditDay:Pe,handleCreateRoutineFromTodo:Ze,createRoutineTodosForDate:pe,createRoutineTodos:pn,fetchRoutineHistory:Yt,handleCloseRoutineHistory:bn,handleOpenRoutine:Tt,handleCloseRoutine:_n,handleToggleDay:wn}},rO=(e,t,n,a,i,s,r,l,o)=>{const[c,d]=p.useState(""),[f,h]=p.useState(""),[m,b]=p.useState(""),[_,S]=p.useState(!0),[y,g]=p.useState(!1),[v,w]=p.useState(!1),[x,j]=p.useState(null),[T,O]=p.useState(!1),[D,B]=p.useState(!1),[W,He]=p.useState(""),[Ge,Xe]=p.useState(null),[ke,z]=p.useState(null),[V,K]=p.useState(!1),[fe,ue]=p.useState(null),[St,Ue]=p.useState(null),[yt,Ze]=p.useState(null),Qe=p.useRef(new Set),nt=p.useRef(new Set),{deleteThisOnly:ln,deleteFromNow:Pe,deleteAll:ot}=Mb({type:"todo",supabase:t,selectedDate:n,onDeleteSuccess:(N,k)=>{const U=a.find(P=>P.id===N);U&&(j(U),Xe({id:N,deleteType:k,item:U}),O(!0),setTimeout(()=>{O(!1),j(null),Xe(null)},5e3)),i(P=>P.filter(H=>H.id!==N)),K(!1),ue(null)}}),pe=N=>["sun","mon","tue","wed","thu","fri","sat"][N],pn=async N=>{var k;if(!Qe.current.has(N))try{Qe.current.add(N);const U=new Date(N),P=pe(U.getDay()),{data:H,error:Z}=await t.from("routines").select("*").eq("deleted",!1);if(Z)throw Z;const he=H.filter(q=>{const xe=q.days||[],re=xe.length===0||xe.includes(P);if(q.start_date){const Ce=new Date(q.start_date),G=U>=Ce;return re&&G}return re});if(he.length===0)return;for(const q of he){const xe=q.text,{data:re,error:Ce}=await t.from("todos").select("*").eq("routine_id",q.id).eq("deleted",!1);if(Ce)throw Ce;if(re&&re.length>1){console.warn(` ${q.id}    (${re.length}).     .`);for(let ve=1;ve<re.length;ve++)await t.from("todos").update({deleted:!0,deleted_date:new Date().toISOString()}).eq("id",re[ve].id)}const G=re&&re.length>0?re[0]:null;if(G){if((G.hidden_dates||[]).includes(N)||G.stop_carryover_from&&N>=G.stop_carryover_from)continue;const le=!q.days||q.days.length===0,Fe=G.visible_dates||[],te=le?"pending_routine":"routine";if(Fe.includes(N)){if(G.is_pending_routine!==le||G.section_type!==te){const{error:We}=await t.from("todos").update({is_pending_routine:le,section_type:te}).eq("id",G.id);We&&console.error(" :",We)}continue}const Ne=[...Fe,N].sort(),{error:F}=await t.from("todos").update({visible_dates:Ne,is_pending_routine:le,section_type:le?"pending_routine":"routine"}).eq("id",G.id);F&&console.error("    :",F.message)}else{const ve=!q.days||q.days.length===0,{error:le}=await t.from("todos").insert([{text:xe,completed:!1,date:N,visible_dates:[N],hidden_dates:[],order_index:0,routine_id:q.id,is_pending_routine:ve,section_type:ve?"pending_routine":"routine",user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]);le&&console.error("   :",le.message)}}}catch(U){console.error("   :",U.message)}finally{setTimeout(()=>{Qe.current.delete(N)},1e3)}},Yt=async()=>{var N;if(!((N=e==null?void 0:e.user)!=null&&N.id)){S(!1);return}try{S(!0);const k=Te(n);await pn(k);const{data:U,error:P}=await t.from("todos").select("*").eq("deleted",!1);if(P)throw P;const H=(U||[]).filter(G=>G.routine_id),Z=[...new Set(H.map(G=>G.routine_id))];let he={};if(Z.length>0){const{data:G}=await t.from("routines").select("*").in("id",Z);he=(G||[]).reduce((ve,le)=>(ve[le.id]=le,ve),{})}const q=new Date(k),xe=pe(q.getDay()),re=(U||[]).filter(G=>{if(G.stop_carryover_from&&k>=G.stop_carryover_from||G.hidden_dates&&Array.isArray(G.hidden_dates)&&G.hidden_dates.includes(k))return!1;if(G.routine_id){const le=he[G.routine_id];if(le){const Fe=le.days||[];if(Fe.length>0&&!Fe.includes(xe))return!1}}return G.visible_dates&&Array.isArray(G.visible_dates)?G.visible_dates.includes(k):G.date===k}),Ce=re.filter(G=>G.routine_id);if(Ce.length>0){const G=[...new Set(Ce.map(le=>le.routine_id))],{data:ve}=await t.from("routines").select("*").in("id",G);for(const le of Ce){const Fe=ve==null?void 0:ve.find(F=>F.id===le.routine_id);if(!Fe)continue;const te=!Fe.days||Fe.days.length===0,Ne=te?"pending_routine":"routine";(le.section_type!==Ne||le.is_pending_routine!==te)&&(await t.from("todos").update({section_type:Ne,is_pending_routine:te}).eq("id",le.id),le.section_type=Ne,le.is_pending_routine=te)}}i(re)}catch(k){console.error("   :",k.message)}finally{S(!1)}},bn=async()=>{var N;if(!(c.trim()===""||v))try{w(!0);const k=a.filter(he=>!he.parent_id&&he.section_type==="normal"),U=k.length>0?Math.max(...k.map(he=>he.order_index))+1:1,P=Te(n),{data:H,error:Z}=await t.from("todos").insert([{text:c,completed:!1,order_index:U,date:P,visible_dates:[P],hidden_dates:[],section_type:"normal",user_id:(N=e==null?void 0:e.user)==null?void 0:N.id}]).select();if(Z)throw Z;i([...a,H[0]]),d("")}catch(k){console.error("   :",k.message)}finally{w(!1)}},Tt=async()=>{var N,k;if(!(f.trim()===""||v))try{w(!0);const U=Te(n),{data:P,error:H}=await t.from("routines").insert([{text:f,days:[],start_date:U,user_id:(N=e==null?void 0:e.user)==null?void 0:N.id}]).select();if(H)throw H;const Z=P[0],he=a.filter(Ce=>!Ce.parent_id&&Ce.section_type==="pending_routine"),q=he.length>0?Math.max(...he.map(Ce=>Ce.order_index))+1:1,{data:xe,error:re}=await t.from("todos").insert([{text:f,completed:!1,order_index:q,date:U,visible_dates:[U],hidden_dates:[],routine_id:Z.id,is_pending_routine:!0,section_type:"pending_routine",user_id:(k=e==null?void 0:e.user)==null?void 0:k.id}]).select();if(re)throw re;r([Z,...s]),i([...a,xe[0]]),h("")}catch(U){console.error("   :",U.message)}finally{w(!1)}},_n=async()=>{var N;if(!(m.trim()===""||v))try{w(!0);const k=a.filter(he=>!he.parent_id&&he.section_type==="normal"),U=k.length>0?Math.max(...k.map(he=>he.order_index))+1:1,P=Te(n),{data:H,error:Z}=await t.from("todos").insert([{text:m,completed:!1,order_index:U,date:P,visible_dates:[P],hidden_dates:[],section_type:"normal",user_id:(N=e==null?void 0:e.user)==null?void 0:N.id}]).select();if(Z)throw Z;i([...a,H[0]]),b("")}catch(k){console.error("   :",k.message)}finally{w(!1)}},wn=async N=>{const k=a.find(U=>U.id===N);if(k)try{const U=!k.completed,P=U?new Date().toISOString():null,{error:H}=await t.from("todos").update({completed:U,completed_at:P}).eq("id",N);if(H)throw H;i(a.map(Z=>Z.id===N?{...Z,completed:U,completed_at:P}:Z))}catch(U){console.error("   :",U.message)}},J=N=>{i(a.filter(k=>k.id!==N))},ie=async(N,k)=>{const U=a.find(P=>P.id===N);U&&(k?k==="this-only"?await ln(U):k==="from-now"?await Pe(U):k==="all"&&await ot(U):(ue(U),K(!0)))},be=async()=>{if(!(!x||!Ge))try{const{deleteType:N}=Ge,k=Te(n);if(N==="this-only"){const U=(x.hidden_dates||[]).filter(H=>H!==k),{error:P}=await t.from("todos").update({hidden_dates:U}).eq("id",x.id);if(P)throw P}else if(N==="from-now"){const{error:U}=await t.from("todos").update({visible_dates:x.visible_dates,stop_carryover_from:null}).eq("id",x.id);if(U)throw U}else if(N==="all"){const{error:U}=await t.from("todos").update({deleted:!1,deleted_date:null}).eq("id",x.id);if(U)throw U}i(U=>{const P={...x};return[...U,P].sort((Z,he)=>Z.order_index-he.order_index)}),O(!1),j(null),Xe(null)}catch(N){console.error("  :",N.message)}},De=async(N,k)=>{var U,P;try{let H=null;nt.current.add(N);const Z=new Date().toISOString();if(i(xe=>(H=xe.find(re=>re.id===N),!H||H.text===k?(nt.current.delete(N),xe):xe.map(re=>re.id===N?{...re,text:k,updated_at:Z}:re))),!H||H.text===k)return;const{error:he}=await t.from("todo_history").insert([{todo_id:N,previous_text:H.text,new_text:k,changed_on_date:H.date,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]);if(he&&console.error("  :",he.message),H.original_todo_id){const{data:xe,error:re}=await t.from("todos").select("text, date").eq("id",H.original_todo_id).single();!re&&xe&&await t.from("todo_history").insert([{todo_id:H.original_todo_id,previous_text:H.text,new_text:k,changed_on_date:H.date,user_id:(P=e==null?void 0:e.user)==null?void 0:P.id}])}const{error:q}=await t.from("todos").update({text:k}).eq("id",N);q?(console.error("   :",q.message),i(xe=>xe.map(re=>re.id===N?H:re)),nt.current.delete(N)):setTimeout(()=>{nt.current.delete(N)},5e3)}catch(H){console.error("   :",H.message),nt.current.delete(N)}},Bt=async(N,k)=>{var U;if(!(!k||k.trim()===""))try{const H=a.filter(xe=>xe.parent_id===N).length+1,Z=Te(n),{data:he,error:q}=await t.from("todos").insert([{text:k.trim(),completed:!1,order_index:H,date:Z,parent_id:N,user_id:(U=e==null?void 0:e.user)==null?void 0:U.id}]).select();if(q)throw q;i([...a,he[0]])}catch(P){console.error("    :",P.message)}},Rt=async(N,k,U)=>{if(!a.find(q=>q.id===N))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===N);if(Z<=0)return;const he=Ka(H,Z,Z-1);await Me(he)},on=async(N,k,U)=>{if(!a.find(q=>q.id===N))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===N);if(Z>=H.length-1)return;const he=Ka(H,Z,Z+1);await Me(he)},ht=async(N,k,U)=>{if(!a.find(q=>q.id===N))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===N);if(Z<=0)return;const he=Ka(H,Z,0);await Me(he)},mt=async(N,k,U)=>{if(!a.find(q=>q.id===N))return;const H=a.filter(q=>!(q.parent_id||q.section_type!==k||k==="custom"&&q.section_id!==U)).sort((q,xe)=>q.order_index-xe.order_index),Z=H.findIndex(q=>q.id===N);if(Z>=H.length-1)return;const he=Ka(H,Z,H.length-1);await Me(he)},Me=async N=>{let k=[...a];N.forEach((U,P)=>{const H=k.findIndex(Z=>Z.id===U.id);H!==-1&&(k[H]={...k[H],order_index:P+1})}),i(k);try{for(let U=0;U<N.length;U++)await t.from("todos").update({order_index:U+1}).eq("id",N[U].id)}catch(U){console.error("  :",U.message),i(a)}};return{inputValue:c,setInputValue:d,routineInputValue:f,setRoutineInputValue:h,normalInputValue:m,setNormalInputValue:b,loading:_,isDraggingAny:y,isAdding:v,deletedTodo:x,showUndoToast:T,showSuccessToast:D,successToastMessage:W,lastDeleteAction:Ge,focusedTodoId:ke,setFocusedTodoId:z,selectedTodoForModal:l,showDeleteConfirmModal:V,setShowDeleteConfirmModal:K,todoToDelete:fe,setTodoToDelete:ue,activeTodoId:St,overId:yt,fetchTodos:Yt,handleAddTodo:bn,handleAddRoutineTodo:Tt,handleAddNormalTodo:_n,handleToggleTodo:wn,handleDeleteTodo:ie,deleteThisOnly:ln,deleteFromNow:Pe,deleteAll:ot,handleUndoDelete:be,handleEditTodo:De,handleAddSubTodo:Bt,handleDragEnd:async N=>{g(!1),Ue(null),Ze(null);const{active:k,over:U}=N;if(!U||k.id===U.id)return;const P=a.find(F=>F.id===k.id),H=a.find(F=>F.id===U.id);if(!P||!H)return;const Z=P.section_type,he=P.section_id||null,q=H.section_type,xe=H.section_id||null,re=Z!==q||Z==="custom"&&he!==xe,Ce=q,G=xe,ve=a.filter(F=>!(F.parent_id||F.section_type!==Ce||Ce==="custom"&&F.section_id!==G)).sort((F,Gt)=>F.order_index-Gt.order_index),le=ve.findIndex(F=>F.id===k.id),Fe=ve.findIndex(F=>F.id===U.id);let te=[...ve];re?te.splice(Fe,0,{...P,section_type:Ce,section_id:G,routine_id:Ce==="routine"||Ce==="pending_routine"?P.routine_id:null}):te=Ka(ve,le,Fe);let Ne=[...a];if(te.forEach((F,Gt)=>{const We=Ne.findIndex(Pt=>Pt.id===F.id);We!==-1&&(Ne[We]={...F,order_index:Gt+1})}),re){const F=Ne.findIndex(Gt=>Gt.id===k.id);F!==-1&&(Ne[F]={...Ne[F],section_type:Ce,section_id:G,routine_id:Ce==="routine"||Ce==="pending_routine"?Ne[F].routine_id:null})}i(Ne);try{if(re){const F={section_type:Ce,section_id:G};Ce!=="routine"&&Ce!=="pending_routine"&&(F.routine_id=null,F.is_pending_routine=!1),await t.from("todos").update(F).eq("id",k.id)}for(let F=0;F<te.length;F++)await t.from("todos").update({order_index:F+1}).eq("id",te[F].id)}catch(F){console.error("  :",F.message),i(a)}},handleRemoveTodoFromUI:J,handleDragStart:N=>{const{active:k}=N;g(!0),Ue(k.id)},handleDragOver:N=>{const{over:k}=N;Ze((k==null?void 0:k.id)||null)},handleDragCancel:()=>{g(!1),Ue(null),Ze(null)},handleMoveUp:Rt,handleMoveDown:on,handleMoveToTop:ht,handleMoveToBottom:mt}},lO=({session:e,supabase:t,selectedTodoForModal:n,setSelectedTodoForModal:a})=>{const[i,s]=p.useState(!1),[r,l]=p.useState({}),[o,c]=p.useState([]);return{showTodoHistoryModal:i,todoHistory:r,expandedHistoryIds:o,handleOpenTodoHistoryModal:async m=>{a(m);try{const{data:b,error:_}=await t.from("todo_history").select("*").eq("todo_id",m.id).order("changed_at",{ascending:!1});if(_)throw _;l(S=>({...S,[m.id]:b||[]}))}catch(b){console.error("Error fetching history:",b)}s(!0)},handleCloseTodoHistoryModal:()=>{s(!1),a(null),c([])},toggleHistoryDetail:m=>{c(b=>b.includes(m)?b.filter(_=>_!==m):[...b,m])}}},oO=({selectedTodoForModal:e,setSelectedTodoForModal:t,routines:n})=>{const[a,i]=p.useState(!1),[s,r]=p.useState([]),[l,o]=p.useState(!1),[c,d]=p.useState("");return{showTodoRoutineSetupModal:a,routineDaysForModal:s,setRoutineDaysForModal:r,isEditingRoutineInModal:l,setIsEditingRoutineInModal:o,routineTimeSlotForModal:c,setRoutineTimeSlotForModal:d,handleOpenTodoRoutineSetupModal:m=>{t(m);const b=n.find(_=>_.id===m.routine_id);b?(r(b.days||[]),d(b.time_slot||""),o(!1)):(r([]),d(""),o(!0)),i(!0)},handleCloseTodoRoutineSetupModal:()=>{i(!1),t(null),r([]),d(""),o(!1)}}},cO=({session:e,supabase:t,selectedDate:n})=>{const a=p.useRef(!1);return{carryOverInProgress:a,carryOverIncompleteTodos:async r=>{if(!a.current)try{a.current=!0;const{data:l,error:o}=await t.from("todos").select("*").eq("deleted",!1).eq("completed",!1);if(o)throw o;if(!l||l.length===0)return;const c=l.filter(d=>(d.hidden_dates||[]).includes(r)?!1:d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?d.visible_dates.includes(r)?!1:d.visible_dates.some(m=>m<r):!!(d.date&&d.date<r));if(c.length===0)return;for(const d of c){let f=[];d.visible_dates&&Array.isArray(d.visible_dates)&&d.visible_dates.length>0?f=[...d.visible_dates,r]:f=d.date?[d.date,r]:[r];const{error:h}=await t.from("todos").update({visible_dates:f}).eq("id",d.id);h&&console.error(` ${d.id}  :`,h.message)}}catch(l){console.error("  :",l.message)}finally{a.current=!1}},movePastIncompleteTodosToToday:async()=>{if(!a.current)try{a.current=!0;const r=new Date,l=Te(r),{data:o,error:c}=await t.from("todos").select("date").lt("date",l).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("date",{ascending:!0}).limit(1);if(c)throw c;if(!o||o.length===0)return;const d=new Date(o[0].date+"T00:00:00");let f=new Date(d);const h=new Date(r);h.setDate(h.getDate()-1);let m=0;for(;f<=h;){const b=Te(f),_=new Date(f);_.setDate(_.getDate()+1);const S=Te(_),{data:y,error:g}=await t.from("todos").select("*").eq("date",b).eq("deleted",!1).eq("completed",!1).is("routine_id",null).order("order_index",{ascending:!0});if(g)throw g;if(y&&y.length>0){const{data:v,error:w}=await t.from("todos").select("*").eq("date",S).eq("deleted",!1).order("order_index",{ascending:!0});if(w)throw w;const x=new Set;v==null||v.forEach(T=>{T.original_todo_id!==null&&x.add(T.original_todo_id)});const j=y.filter(T=>{if(T.stop_carryover_from&&b>=T.stop_carryover_from)return!1;const O=T.original_todo_id||T.id;return!x.has(O)});if(j.length>0){const T=j.map(ke=>ke.original_todo_id||ke.id).filter((ke,z,V)=>V.indexOf(ke)===z),{data:O,error:D}=await t.from("todos").select("id, created_at").in("id",T);if(D)throw D;const B={};O==null||O.forEach(ke=>{B[ke.id]=ke.created_at});const He=(v?v.length:0)+1,Ge=j.map((ke,z)=>{const V=ke.original_todo_id||ke.id;return{text:ke.text,completed:!1,date:S,created_at:B[V]||ke.created_at,order_index:He+z,original_todo_id:V,parent_id:null,routine_id:null}}),{error:Xe}=await t.from("todos").insert(Ge);if(Xe)throw Xe;m+=j.length}}f.setDate(f.getDate()+1)}m>0}catch(r){console.error("    :",r.message)}finally{a.current=!1}}}};function uO(e,t){const[n,a]=p.useState([]),[i,s]=p.useState(!1),[r,l]=p.useState(""),[o,c]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState(!1),[b,_]=p.useState(""),S=()=>{if(n.length===0)return"";const j=Math.floor(Math.random()*n.length);return n[j]},y=()=>{let j=0;m(!0),setTimeout(()=>{let T=S();for(;T===b&&n.length>1&&j<10;)T=S(),j++;m(!1),_(T)},300)},g=async()=>{try{const{data:j,error:T}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(T)throw T;if(j&&j.length>0){const O=j.map(D=>D.message);a(O),b||_(O[0])}}catch(j){console.error("   :",j.message)}},v=async j=>{var T;try{const{data:O}=await t.from("encouragement_messages").select("order_index").order("order_index",{ascending:!1}).limit(1),D=O&&O.length>0?O[0].order_index:0,{error:B}=await t.from("encouragement_messages").insert([{message:j,order_index:D+1,user_id:(T=e==null?void 0:e.user)==null?void 0:T.id}]);if(B)throw B;await g()}catch(O){console.error("   :",O.message),alert("   .")}},w=async(j,T)=>{try{const{data:O}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!O||j>=O.length)throw new Error("   .");const D=O[j],{error:B}=await t.from("encouragement_messages").update({message:T}).eq("id",D.id);if(B)throw B;await g()}catch(O){console.error("   :",O.message),alert("   .")}},x=async j=>{try{const{data:T}=await t.from("encouragement_messages").select("*").order("order_index",{ascending:!0});if(!T||j>=T.length)throw new Error("   .");const O=T[j],{error:D}=await t.from("encouragement_messages").delete().eq("id",O.id);if(D)throw D;await g()}catch(T){console.error("   :",T.message),alert("   .")}};return p.useEffect(()=>{n.length>0&&!b&&_(S())},[n]),{encouragementMessages:n,showEncouragementModal:i,setShowEncouragementModal:s,newEncouragementMessage:r,setNewEncouragementMessage:l,editingEncouragementId:o,setEditingEncouragementId:c,editingEncouragementText:d,setEditingEncouragementText:f,showEncouragementEmoji:h,currentEncouragementMessage:b,handleEncouragementClick:y,fetchEncouragementMessages:g,addEncouragementMessage:v,updateEncouragementMessage:w,deleteEncouragementMessage:x}}function dO(e){const[t,n]=p.useState(!1),[a,i]=p.useState([]),[s,r]=p.useState("1week"),l=async()=>{try{const d=new Date,f=Te(d);let h=null;if(s!=="all")switch(h=new Date(d),s){case"1week":h.setDate(d.getDate()-7);break;case"2weeks":h.setDate(d.getDate()-14);break;case"1month":h.setMonth(d.getMonth()-1);break;case"3months":h.setMonth(d.getMonth()-3);break;case"6months":h.setMonth(d.getMonth()-6);break}let m=e.from("todos").select("*").eq("deleted",!1).is("routine_id",null).order("created_at",{ascending:!0});h&&(m=m.gte("date",Te(h)));const{data:b,error:_}=await m;if(_)throw _;const S={};for(const g of b||[]){const v=g.original_todo_id||g.id;S[v]||(S[v]=[]),S[v].push(g)}const y=Object.entries(S).map(([g,v])=>{const w=v.sort((D,B)=>new Date(D.date)-new Date(B.date)),x=w[0],j=w.map(D=>D.date);let T=null;for(const D of w)if(D.completed&&D.completed_at){const B=new Date(D.completed_at);T=Te(B);break}const O=w.find(D=>D.date===f);return{text:x.text,originalId:parseInt(g),createdAt:x.created_at,startDate:j[0],endDate:j[j.length-1],dates:j,completed:(O==null?void 0:O.completed)||!1,completedDate:T}}).sort((g,v)=>new Date(g.createdAt)-new Date(v.createdAt));i(y)}catch(d){console.error("   :",d.message)}};return{showGanttChart:t,ganttData:a,ganttPeriod:s,setGanttPeriod:r,handleOpenGanttChart:async()=>{n(!0),await l()},handleCloseGanttChart:()=>{n(!1),i([])},fetchGanttData:l}}function fO(){const{session:e,authLoading:t,handleGoogleLogin:n,handleLogout:a}=Hj(),[i,s]=p.useState(new Date),[r,l]=p.useState(!1),o=p.useRef(new Set),c=i1(Uu(gh),Uu(wb),Uu(hh,{coordinateGetter:kj})),[d,f]=p.useState([]),[h,m]=p.useState(null),{showTodoHistoryModal:b,todoHistory:_,expandedHistoryIds:S,handleOpenTodoHistoryModal:y,handleCloseTodoHistoryModal:g,toggleHistoryDetail:v}=lO({session:e,supabase:Ee,selectedTodoForModal:h,setSelectedTodoForModal:m}),{showRoutineModal:w,routines:x,setRoutines:j,routineInput:T,setRoutineInput:O,selectedDays:D,selectedTimeSlot:B,setSelectedTimeSlot:W,isAddingRoutine:He,editingRoutineId:Ge,editingRoutineText:Xe,setEditingRoutineText:ke,showRoutineHistory:z,selectedRoutineForHistory:V,routineHistoryData:K,editingRoutineDays:fe,showDeleteConfirmModal:ue,setShowDeleteConfirmModal:St,routineToDelete:Ue,fetchRoutines:yt,handleAddRoutine:Ze,handleCreateRoutineFromTodo:Qe,handleStartEditRoutine:nt,handleCancelEditRoutine:ln,handleSaveEditRoutine:Pe,handleToggleEditDay:ot,handleDeleteRoutine:pe,deleteThisOnly:pn,deleteFromNow:Yt,deleteAll:bn,fetchRoutineHistory:Tt,handleCloseRoutineHistory:_n,handleOpenRoutine:wn,handleCloseRoutine:J,handleToggleDay:ie,createRoutineTodos:be}=sO({session:e,supabase:Ee,selectedDate:i,setTodos:f,setSuccessToastMessage:()=>{},setShowSuccessToast:()=>{}}),{showTodoRoutineSetupModal:De,routineDaysForModal:Bt,setRoutineDaysForModal:Rt,isEditingRoutineInModal:on,setIsEditingRoutineInModal:ht,routineTimeSlotForModal:mt,setRoutineTimeSlotForModal:Me,handleOpenTodoRoutineSetupModal:Se,handleCloseTodoRoutineSetupModal:ee}=oO({selectedTodoForModal:h,setSelectedTodoForModal:m,routines:x}),{carryOverIncompleteTodos:qe}=cO({session:e,supabase:Ee,selectedDate:i}),{routineInputValue:pt,setRoutineInputValue:N,normalInputValue:k,setNormalInputValue:U,loading:P,isDraggingAny:H,isAdding:Z,showUndoToast:he,showSuccessToast:q,successToastMessage:xe,lastDeleteAction:re,focusedTodoId:Ce,setFocusedTodoId:G,showDeleteConfirmModal:ve,setShowDeleteConfirmModal:le,todoToDelete:Fe,activeTodoId:te,overId:Ne,fetchTodos:F,handleAddRoutineTodo:Gt,handleAddNormalTodo:We,handleToggleTodo:Pt,handleDeleteTodo:It,handleAddSubTodo:Ft,handleEditTodo:zn,handleDragStart:ua,handleDragOver:Sn,handleDragCancel:da,handleDragEnd:Ma,handleUndoDelete:El,deleteThisOnly:Nc,deleteFromNow:Rc,deleteAll:Mc,handleRemoveTodoFromUI:M,handleMoveUp:X,handleMoveDown:gt,handleMoveToTop:bt,handleMoveToBottom:ye}=rO(e,Ee,i,d,f,x,j,h),at=E=>{G(E)},$e=E=>{},ct=()=>{El()},{showGanttChart:cn,ganttData:Gi,ganttPeriod:ka,setGanttPeriod:ir,handleOpenGanttChart:sr,handleCloseGanttChart:kc,fetchGanttData:rr}=dO(Ee),[kb,ph]=p.useState(!1),{memoContent:Ub,setMemoContent:zb,isSavingMemo:Lb,fetchMemoContent:Bb}=aO(e),{encouragementMessages:Hb,showEncouragementModal:qb,setShowEncouragementModal:bh,newEncouragementMessage:$b,setNewEncouragementMessage:Vb,editingEncouragementId:Yb,setEditingEncouragementId:Gb,editingEncouragementText:Ib,setEditingEncouragementText:Kb,showEncouragementEmoji:Xb,currentEncouragementMessage:Qb,handleEncouragementClick:Jb,fetchEncouragementMessages:Zb,addEncouragementMessage:Pb,updateEncouragementMessage:Fb,deleteEncouragementMessage:Wb}=uO(e,Ee),e_=async E=>{var R,L;try{const Y=Te(i),C=d.filter(ge=>!ge.parent_id&&ge.section_type==="normal"),$=C.length>0?Math.max(...C.map(ge=>ge.order_index))+1:1,Be=`temp_${Date.now()}_${Math.random()}`,me={id:Be,text:E,completed:!1,order_index:$,date:Y,visible_dates:[Y],hidden_dates:[],section_type:"normal",user_id:(R=e==null?void 0:e.user)==null?void 0:R.id,_isOptimistic:!0};if(f(ge=>[...ge,me]),(L=e==null?void 0:e.user)!=null&&L.id&&Ee){const{data:ge,error:ut}=await Ee.from("todos").insert([{text:E,completed:!1,order_index:$,date:Y,visible_dates:[Y],hidden_dates:[],section_type:"normal",user_id:e.user.id}]).select();if(ut)throw ut;f(Wt=>Wt.map(Re=>Re.id===Be?ge[0]:Re))}else{const ge=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");ge.push({text:E,dateStr:Y,timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(ge))}}catch(Y){console.error("Quick add error:",Y);const C=JSON.parse(localStorage.getItem("pendingQuickTodos")||"[]");C.push({text:E,dateStr:Te(i),timestamp:Date.now()}),localStorage.setItem("pendingQuickTodos",JSON.stringify(C))}},[Ua,t_]=p.useState(()=>localStorage.getItem("viewMode")||"horizontal"),[Uc,_h]=p.useState({normal:"  ",routine:"  "}),[Ii,Tl]=p.useState([]),[n_,wh]=p.useState(!1),[Sh,xh]=p.useState(!1),[Eh,Th]=p.useState({}),a_=nO(e),{sectionOrder:Ki,setSectionOrder:jh,fetchSectionOrder:i_,saveSectionOrder:Oh,moveSectionLeft:zc,moveSectionRight:Lc}=a_,Xi=p.useRef(null),[s_,r_]=p.useState(0),Bc=p.useRef(null),[Qi,Hc]=p.useState([]),[l_,Ah]=p.useState(!1),Dh=E=>{try{localStorage.setItem("hiddenSections",JSON.stringify(E))}catch(R){console.error("   :",R)}},o_=()=>{try{const E=localStorage.getItem("hiddenSections");E&&Hc(JSON.parse(E))}catch(E){console.error("   :",E)}},qc=E=>{const R=[...Qi,E];Hc(R),Dh(R)},c_=E=>{const R=Qi.filter(L=>L!==E);Hc(R),Dh(R)},u_=()=>{const E=new Date(i);E.setDate(E.getDate()-1),s(E)},d_=()=>{const E=new Date(i);E.setDate(E.getDate()+1),s(E)},f_=E=>{const R=new Date(E.target.value+"T00:00:00");s(R)},h_=async()=>{var E;if((E=e==null?void 0:e.user)!=null&&E.id)try{const{data:R,error:L}=await Ee.from("user_settings").select("setting_value").eq("setting_key","section_titles").maybeSingle();if(L){console.error("   :",L.message);return}if(R&&R.setting_value){const Y=JSON.parse(R.setting_value);_h(C=>({...C,...Y}))}}catch(R){console.error("   :",R.message)}},m_=async(E,R)=>{var Y;if(!((Y=e==null?void 0:e.user)!=null&&Y.id))return;const L={...Uc,[E]:R};_h(L);try{const{data:C,error:$}=await Ee.from("user_settings").select("id").eq("setting_key","section_titles").maybeSingle();if($){console.error("   :",$.message);return}C?await Ee.from("user_settings").update({setting_value:JSON.stringify(L),updated_at:new Date().toISOString()}).eq("setting_key","section_titles"):await Ee.from("user_settings").insert([{setting_key:"section_titles",setting_value:JSON.stringify(L),user_id:e.user.id}])}catch(C){console.error("   :",C.message)}},g_=async()=>{var E;if((E=e==null?void 0:e.user)!=null&&E.id)try{const{data:R,error:L}=await Ee.from("user_settings").select("setting_value").eq("setting_key","custom_sections").maybeSingle();if(L){console.error("    :",L.message);return}if(R&&R.setting_value){const Y=JSON.parse(R.setting_value);Tl(Y)}}catch(R){console.error("    :",R.message)}},$c=async E=>{var R;if((R=e==null?void 0:e.user)!=null&&R.id)try{const{data:L,error:Y}=await Ee.from("user_settings").select("id").eq("setting_key","custom_sections").maybeSingle();if(Y){console.error("    :",Y.message);return}L?await Ee.from("user_settings").update({setting_value:JSON.stringify(E),updated_at:new Date().toISOString()}).eq("setting_key","custom_sections"):await Ee.from("user_settings").insert([{setting_key:"custom_sections",setting_value:JSON.stringify(E),user_id:e.user.id}])}catch(L){console.error("    :",L.message)}},v_=({name:E,icon:R})=>{const L={id:`custom-${Date.now()}`,name:E,icon:R},Y=[...Ii,L];Tl(Y),$c(Y);const C=[...Ki,L.id];jh(C),Oh(C)},y_=async E=>{const R=Eh[E]||"";if(!(!R.trim()||Sh)){if(!e){alert(" ");return}xh(!0);try{const L=d.filter(ge=>!ge.parent_id&&ge.section_type==="custom"&&ge.section_id===E),Y=L.length>0?Math.max(...L.map(ge=>ge.order_index))+1:1,C=Te(i),$={text:R.trim(),completed:!1,order_index:Y,date:C,visible_dates:[C],hidden_dates:[],user_id:e.user.id,section_id:E,section_type:"custom"},{data:Be,error:me}=await Ee.from("todos").insert([$]).select();if(me)throw me;Be&&Be.length>0&&(f(ge=>[...ge,Be[0]]),Th(ge=>({...ge,[E]:""})))}catch(L){console.error("  :",L.message)}finally{xh(!1)}}},p_=async E=>{if(!confirm("  ?      ."))return;try{const{error:Y}=await Ee.from("todos").delete().eq("section_id",E);if(Y){console.error("   :",Y.message);return}}catch(Y){console.error("   :",Y.message);return}const R=Ii.filter(Y=>Y.id!==E);Tl(R),$c(R);const L=Ki.filter(Y=>Y!==E);jh(L),Oh(L),f(Y=>Y.filter(C=>C.section_id!==E))},b_=async(E,R)=>{try{const L=Te(E),Y=Te(R),{data:C,error:$}=await Ee.from("todos").select("*").eq("deleted",!1).eq("completed",!1).is("routine_id",null);if($)throw $;const Be=(C||[]).filter(me=>me.stop_carryover_from&&L>=me.stop_carryover_from?!1:me.visible_dates&&Array.isArray(me.visible_dates)&&me.visible_dates.length>0?me.visible_dates.includes(L):me.date===L);if(Be.length===0)return;for(const me of Be){let ge=me.visible_dates||[me.date];if(ge.includes(Y))continue;const ut=[...ge,Y].sort(),{error:Wt}=await Ee.from("todos").update({visible_dates:ut}).eq("id",me.id);Wt&&console.error(` ${me.id}  :`,Wt.message)}}catch(L){console.error("   :",L.message)}};p.useEffect(()=>{let E=null;const R=()=>{document.body.classList.add("is-scrolling"),E&&clearTimeout(E),E=setTimeout(()=>{document.body.classList.remove("is-scrolling")},1e3)};return window.addEventListener("scroll",R),()=>{window.removeEventListener("scroll",R),E&&clearTimeout(E)}},[]),p.useEffect(()=>{e&&(Zb(),Bb(),yt(),i_(),h_(),g_(),o_())},[e]),p.useEffect(()=>{if(!Xi.current)return;const E=Xi.current,R=Ua==="horizontal";let L=!1,Y=0,C=0,$=0;const Be=oe=>oe.type.includes("touch")?R?oe.touches[0].pageX:oe.touches[0].pageY:R?oe.pageX:oe.pageY,me=oe=>{oe.target.closest(".section-block")||(L=!0,Y=Be(oe),C=R?E.scrollLeft:E.scrollTop,E.style.transition="none",E.style.transform=R?"translateX(0)":"translateY(0)",$=0)},ge=()=>{L&&$!==0&&(E.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",E.style.transform=R?"translateX(0)":"translateY(0)",setTimeout(()=>{E.style.transition="none",$=0},300)),L=!1},ut=()=>{$!==0&&(E.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",E.style.transform=R?"translateX(0)":"translateY(0)",setTimeout(()=>{E.style.transition="none",$=0},300)),L=!1},Wt=oe=>{if(!L)return;oe.preventDefault();const se=(Be(oe)-Y)*1.5,Mt=C-se,jt=R?E.scrollWidth-E.clientWidth:E.scrollHeight-E.clientHeight;if(Mt<0){const xn=-Mt;$=Math.min(xn*.3,100),R?(E.scrollLeft=0,E.style.transform=`translateX(${$}px)`):(E.scrollTop=0,E.style.transform=`translateY(${$}px)`)}else if(Mt>jt){const xn=Mt-jt;$=-Math.min(xn*.3,100),R?(E.scrollLeft=jt,E.style.transform=`translateX(${$}px)`):(E.scrollTop=jt,E.style.transform=`translateY(${$}px)`)}else $=0,E.style.transform=R?"translateX(0)":"translateY(0)",R?E.scrollLeft=Mt:E.scrollTop=Mt},Re=oe=>{R&&oe.target.closest(".section-block")&&oe.deltaX!==0&&oe.preventDefault()};return E.addEventListener("mousedown",me),document.addEventListener("mouseup",ut),document.addEventListener("mouseleave",ge),E.addEventListener("mousemove",Wt),E.addEventListener("touchstart",me,{passive:!0}),E.addEventListener("touchmove",Wt,{passive:!1}),E.addEventListener("touchend",ut),E.addEventListener("touchcancel",ut),E.addEventListener("wheel",Re,{passive:!1}),()=>{E.removeEventListener("mousedown",me),document.removeEventListener("mouseup",ut),document.removeEventListener("mouseleave",ge),E.removeEventListener("mousemove",Wt),E.removeEventListener("touchstart",me),E.removeEventListener("touchmove",Wt),E.removeEventListener("touchend",ut),E.removeEventListener("touchcancel",ut),E.removeEventListener("wheel",Re)}},[Ua,d,x]),p.useEffect(()=>{if(Ua!=="horizontal"||!Xi.current)return;const E=Xi.current,R=()=>{const L=E.querySelectorAll(".section-block");if(L.length===0)return;const Y=E.getBoundingClientRect(),C=Y.left+Y.width/2;let $=0,Be=1/0;L.forEach((me,ge)=>{const ut=me.getBoundingClientRect(),Wt=ut.left+ut.width/2,Re=Math.abs(Wt-C);Re<Be&&(Be=Re,$=ge)}),r_($)};return E.addEventListener("scroll",R),R(),()=>E.removeEventListener("scroll",R)},[Ua,d,x]),p.useEffect(()=>{if(!Bc.current)return;const E=Bc.current;let R=!1,L=0,Y=0,C=0;const $=ut=>{ut.target.closest(".section-block")||(R=!0,L=ut.pageY,Y=E.scrollTop,E.style.transition="none",E.style.transform="translateY(0)",C=0)},Be=()=>{R&&C!==0&&(E.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",E.style.transform="translateY(0)",setTimeout(()=>{E.style.transition="none",C=0},300)),R=!1},me=()=>{C!==0&&(E.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",E.style.transform="translateY(0)",setTimeout(()=>{E.style.transition="none",C=0},300)),R=!1},ge=ut=>{if(!R)return;ut.preventDefault();const Re=(ut.pageY-L)*1.5,oe=Y-Re,un=E.scrollHeight-E.clientHeight;if(oe<0){const se=-oe;C=Math.min(se*.3,100),E.scrollTop=0,E.style.transform=`translateY(${C}px)`}else if(oe>un){const se=oe-un;C=-Math.min(se*.3,100),E.scrollTop=un,E.style.transform=`translateY(${C}px)`}else C=0,E.style.transform="translateY(0)",E.scrollTop=oe};return E.addEventListener("mousedown",$),document.addEventListener("mouseup",me),document.addEventListener("mouseleave",Be),E.addEventListener("mousemove",ge),()=>{E.removeEventListener("mousedown",$),document.removeEventListener("mouseup",me),document.removeEventListener("mouseleave",Be),E.removeEventListener("mousemove",ge)}},[d,x]),p.useEffect(()=>{cn&&rr()},[ka]),p.useEffect(()=>{const E=async()=>{const L=new Date,Y=new Date(L);Y.setHours(24,0,0,0);const C=Y.getTime()-L.getTime();return setTimeout(async()=>{const Be=new Date(L),me=new Date(L);me.setDate(me.getDate()+1),await b_(Be,me),await be(),s(new Date),E()},C)},R=E();return()=>clearTimeout(R)},[]),p.useEffect(()=>{(async()=>{var me;const Y=Te(i),$=Te(new Date);Y===$&&((me=e==null?void 0:e.user)!=null&&me.id)&&await qe(Y),await F()})();const R=Te(i),L=Ee.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:`date=eq.${R}`},Y=>{Y.eventType==="INSERT"?f(C=>C.some($=>$.id===Y.new.id)?C:[...C,Y.new]):Y.eventType==="UPDATE"?f(C=>o.current.has(Y.new.id)?C:C.map($=>$.id===Y.new.id?Y.new:$)):Y.eventType==="DELETE"&&f(C=>C.filter($=>$.id!==Y.old.id))}).subscribe(Y=>{});return()=>{Ee.removeChannel(L)}},[i,e]),p.useEffect(()=>{if(H){const E=window.scrollY,R=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${E}px`,document.body.style.left="0",document.body.style.right="0",R>0&&(document.body.style.paddingRight=`${R}px`),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.paddingRight="",window.scrollTo(0,E)}}},[H]);const Ch=tO({authLoading:t,session:e,handleGoogleLogin:n});return Ch||u.jsxs("div",{className:`app ${H?"dragging-active":""}`,children:[u.jsx($j,{showSidebar:r,setShowSidebar:l,session:e,viewMode:Ua,setViewMode:t_,onOpenRoutine:wn,onOpenGanttChart:sr,onOpenEncouragementModal:()=>bh(!0),onOpenAddSection:()=>wh(!0),onOpenHiddenSections:()=>Ah(!0),onLogout:a}),u.jsxs("div",{className:`container ${Ua==="horizontal"?"container-wide":""}`,children:[u.jsx(Yj,{showSidebar:r,setShowSidebar:l,selectedDate:i,onDateChange:f_,onPrevDay:u_,onNextDay:d_,showEncouragementEmoji:Xb,currentEncouragementMessage:Qb,onEncouragementClick:Jb,setSelectedDate:s,onQuickAdd:e_,onOpenMemo:()=>ph(!0)}),u.jsxs("div",{className:"content-scrollable",ref:Bc,children:[u.jsxs(tj,{sensors:c,collisionDetection:l1,onDragStart:ua,onDragOver:Sn,onDragEnd:Ma,onDragCancel:da,measuring:{droppable:{strategy:Vs.Always}},children:[u.jsx("div",{ref:Xi,className:`sections-container ${Ua==="horizontal"?"horizontal-layout":"vertical-layout"}`,children:u.jsx("div",{className:"todo-list",children:P?u.jsx("p",{className:"empty-message",children:" ..."}):(()=>{const E=d.filter(C=>!C.parent_id&&C.section_type==="routine").sort((C,$)=>C.order_index-$.order_index),R=d.filter(C=>!C.parent_id&&C.section_type==="pending_routine").sort((C,$)=>C.order_index-$.order_index),L=d.filter(C=>!C.parent_id&&C.section_type==="normal").sort((C,$)=>C.order_index-$.order_index),Y=[...E.map(C=>C.id),...R.map(C=>C.id),...L.map(C=>C.id),...Ii.flatMap(C=>d.filter($=>!$.parent_id&&$.section_type==="custom"&&$.section_id===C.id).map($=>$.id))];return u.jsx(gr,{items:Y,strategy:mr,children:Ki.filter(C=>!Qi.includes(C)).map((C,$)=>{const Be=Ki.filter(Re=>!Qi.includes(Re)),me=Be.indexOf(C),ge=me===0,ut=me===Be.length-1,Wt=[...ge?[]:[{icon:"",label:" ",onClick:()=>zc(C)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Lc(C)}],{icon:"",label:"",onClick:()=>qc(C)}];if(C==="routine")return u.jsx("div",{children:u.jsxs(qu,{title:" ",className:"routine-section section-block",inputValue:pt,setInputValue:N,onAddTodo:Gt,isAdding:Z,placeholder:"   ...",settingsMenuItems:Wt,children:[E.length>0&&u.jsx(gr,{items:E.map(Re=>Re.id),strategy:mr,children:E.map((Re,oe)=>{const un=d.filter(se=>se.parent_id===Re.id);return u.jsx(ls,{todo:Re,index:oe,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:yi,formatDateOnly:Ln,isFocused:Ce===Re.id,onFocus:at,onAddSubTodo:Ft,subtodos:un,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Te(i),onRemoveFromUI:M,showSuccessMessage:$e,activeId:te,overId:Ne,onMoveUp:se=>X(se,"routine",null),onMoveDown:se=>gt(se,"routine",null),onMoveToTop:se=>bt(se,"routine",null),onMoveToBottom:se=>ye(se,"routine",null),isFirst:oe===0,isLast:oe===E.length-1},Re.id)})}),E.length>0&&R.length>0&&u.jsx("div",{style:{margin:"1rem 0",padding:"0 1rem"},children:u.jsx("div",{className:"separator-line"})}),R.length>0&&u.jsx(gr,{items:R.map(Re=>Re.id),strategy:mr,children:R.map((Re,oe)=>{const un=d.filter(se=>se.parent_id===Re.id);return u.jsx(ls,{todo:Re,index:oe,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:yi,formatDateOnly:Ln,isFocused:Ce===Re.id,onFocus:at,onAddSubTodo:Ft,subtodos:un,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Te(i),isPendingRoutine:!0,onRemoveFromUI:M,showSuccessMessage:$e,activeId:te,overId:Ne,onMoveUp:se=>X(se,"pending_routine",null),onMoveDown:se=>gt(se,"pending_routine",null),onMoveToTop:se=>bt(se,"pending_routine",null),onMoveToBottom:se=>ye(se,"pending_routine",null),isFirst:oe===0,isLast:oe===R.length-1},Re.id)})})]})},"routine");if(C==="normal"){const Re=[...ge?[]:[{icon:"",label:" ",onClick:()=>zc(C)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Lc(C)}],{icon:"",label:"",onClick:()=>{confirm(`    ?

      .`)&&qc("normal")}},{icon:"",label:"",onClick:()=>{alert(`      .

   ""  .`)}}];return u.jsx("div",{children:u.jsx(qu,{title:Uc.normal,className:"normal-section section-block",inputValue:k,setInputValue:U,onAddTodo:We,isAdding:Z,placeholder:"   ...",editable:!0,onTitleChange:oe=>m_("normal",oe),settingsMenuItems:Re,children:L.length>0&&u.jsx(gr,{items:L.map(oe=>oe.id),strategy:mr,children:L.map((oe,un)=>{const se=d.filter(jt=>jt.parent_id===oe.id),Mt=Te(i);return u.jsx(ls,{todo:oe,index:un,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:yi,formatDateOnly:Ln,isFocused:Ce===oe.id,onFocus:at,onAddSubTodo:Ft,subtodos:se,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Mt,onRemoveFromUI:M,showSuccessMessage:$e,activeId:te,overId:Ne,onMoveUp:jt=>X(jt,"normal",null),onMoveDown:jt=>gt(jt,"normal",null),onMoveToTop:jt=>bt(jt,"normal",null),onMoveToBottom:jt=>ye(jt,"normal",null),isFirst:un===0,isLast:un===L.length-1},oe.id)})})})},"normal")}else{const Re=Ii.find(se=>se.id===C);if(!Re)return null;const oe=d.filter(se=>!se.parent_id&&se.section_type==="custom"&&se.section_id===C).sort((se,Mt)=>se.order_index-Mt.order_index),un=[...ge?[]:[{icon:"",label:" ",onClick:()=>zc(C)}],...ut?[]:[{icon:"",label:" ",onClick:()=>Lc(C)}],{icon:"",label:"",onClick:()=>qc(C)},{icon:"",label:"",onClick:()=>p_(C)}];return u.jsx("div",{children:u.jsx(qu,{title:`${Re.icon} ${Re.name}`,className:"custom-section section-block",inputValue:Eh[C]||"",setInputValue:se=>Th(Mt=>({...Mt,[C]:se})),onAddTodo:()=>y_(C),isAdding:Sh,placeholder:`${Re.name}   ...`,editable:!0,onTitleChange:se=>{const Mt=Ii.map(jt=>jt.id===C?{...jt,name:se}:jt);Tl(Mt),$c(Mt)},settingsMenuItems:un,children:oe.length>0&&u.jsx(gr,{items:oe.map(se=>se.id),strategy:mr,children:oe.map((se,Mt)=>{const jt=d.filter(xn=>xn.parent_id===se.id);return u.jsx(ls,{todo:se,index:Mt,onToggle:Pt,onDelete:It,onEdit:zn,formatDate:yi,formatDateOnly:Ln,isFocused:Ce===se.id,onFocus:at,onAddSubTodo:Ft,subtodos:jt,level:0,onCreateRoutine:Qe,routines:x,onShowRoutineHistory:Tt,onOpenRoutineSetupModal:Se,onOpenHistoryModal:y,currentPageDate:Te(i),onRemoveFromUI:M,showSuccessMessage:$e,activeId:te,overId:Ne,onMoveUp:xn=>X(xn,"custom",C),onMoveDown:xn=>gt(xn,"custom",C),onMoveToTop:xn=>bt(xn,"custom",C),onMoveToBottom:xn=>ye(xn,"custom",C),isFirst:Mt===0,isLast:Mt===oe.length-1},se.id)})})})},C)}})})})()})}),u.jsx(_j,{children:te?(()=>{const E=d.find(L=>L.id===te);if(!E)return null;const R=d.filter(L=>L.parent_id===E.id);return u.jsx("div",{className:"drag-overlay-todo",children:u.jsx(ls,{todo:E,index:0,onToggle:()=>{},onDelete:()=>{},onEdit:()=>{},formatDate:yi,formatDateOnly:Ln,isFocused:!1,onFocus:()=>{},onAddSubTodo:()=>{},subtodos:R,level:0,onCreateRoutine:()=>{},routines:x,onShowRoutineHistory:()=>{},onOpenRoutineSetupModal:()=>{},onOpenHistoryModal:()=>{},currentPageDate:Te(i),onRemoveFromUI:()=>{},showSuccessMessage:()=>{},hideNumber:!0})})})():null})]}),u.jsx(Gj,{viewMode:Ua,currentSectionIndex:s_,sectionsContainerRef:Xi,visibleSectionCount:Ki.filter(E=>!Qi.includes(E)).length})]}),he&&u.jsx(Xg,{message:"",onUndo:El}),q&&u.jsx(Xg,{message:xe,onUndo:re?ct:null,variant:"success"}),ve&&Fe&&u.jsx(Qg,{todo:Fe,onClose:()=>le(!1),onDeleteThisOnly:Nc,onDeleteFromNow:Rc,onDeleteAll:Mc}),ue&&Ue&&u.jsx(Qg,{todo:Ue,onClose:()=>St(!1),onDeleteThisOnly:pn,onDeleteFromNow:Yt,onDeleteAll:bn}),b&&h&&(()=>{const E=h,R=E.visible_dates&&E.visible_dates.length>0?E.visible_dates:[E.date],L=R[0],Y=R.map($=>({id:`${E.id}-${$}`,date:$})),C=_[E.id]||[];return u.jsx("div",{className:"modal-overlay",onClick:g,children:u.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:g,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsxs("div",{className:"todo-history",children:[u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:":"}),u.jsx("span",{className:"history-value",children:yi(E.created_at)})]}),u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:Ln(L?new Date(L+"T00:00:00"):new Date(E.date+"T00:00:00"))})]}),Y.length>0&&u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:Y.map(($,Be)=>{const me=$.date===E.date,ge=Ln(new Date($.date+"T00:00:00"));return u.jsxs("span",{children:[Be>0&&"  ",u.jsxs("span",{style:me?{fontWeight:"bold",color:"#4CAF50"}:{},children:[ge.split("(")[0],me?"()":""]})]},$.id)})})]}),(()=>{const $=new Date(E.created_at).toISOString().split("T")[0],Be=E.date;return $!==Be&&Y.length===0?u.jsxs("div",{className:"history-item",children:[u.jsx("span",{className:"history-label",children:" :"}),u.jsx("span",{className:"history-value",children:Ln(new Date(E.date+"T00:00:00"))})]}):null})(),C.length>0&&u.jsxs("div",{className:"history-changes-list",children:[u.jsxs("div",{className:"history-changes-header",children:["  (",C.length,")"]}),C.map($=>u.jsxs("div",{className:"history-record-compact",children:[u.jsxs("div",{className:"history-record-summary",children:[u.jsxs("div",{className:"history-change-time",children:[yi($.changed_at),$.changed_on_date&&u.jsxs("span",{className:"history-page-info",children:[" (: ",Ln(new Date($.changed_on_date+"T00:00:00")),")"]})]}),u.jsx("button",{className:"history-detail-button",onClick:Be=>{Be.stopPropagation(),v($.id)},children:S.includes($.id)?"":""})]}),S.includes($.id)&&u.jsxs("div",{className:"history-change",children:[u.jsxs("div",{className:"history-change-item history-before",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:$.previous_text})]}),u.jsx("div",{className:"history-change-arrow",children:""}),u.jsxs("div",{className:"history-change-item history-after",children:[u.jsx("span",{className:"change-badge",children:""}),u.jsx("span",{className:"change-text",children:$.new_text})]})]})]},$.id))]})]})})]})})})(),De&&h&&(()=>{const E=h,R=x.find(L=>L.id===E.routine_id);return u.jsx("div",{className:"modal-overlay",onClick:ee,children:u.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"  "}),u.jsx("button",{onClick:ee,className:"modal-close-button",children:""})]}),u.jsx("div",{className:"modal-body",children:u.jsx("div",{className:"routine-setup-inline",children:R&&!on?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"routine-current-info",children:[u.jsx("div",{className:"routine-info-title",children:" :"}),u.jsx("div",{className:"routine-days-display",children:Cc.filter(L=>R.days.includes(L.key)).map(L=>u.jsx("span",{className:"routine-day-badge",children:L.label},L.key))}),R.time_slot&&u.jsxs("div",{className:"routine-time-slot",style:{marginTop:"0.5rem",fontSize:"0.9rem"},children:[" ",R.time_slot]})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:L=>{L.stopPropagation(),R&&(Rt(R.days),Me(R.time_slot||""),ht(!0))},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:async L=>{L.stopPropagation(),R&&E&&(await Qe(E.id,E.text,[],null,!0),ee())},className:"routine-remove-button",children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"routine-setup-title",children:on?" :":"  :"}),u.jsx(nc,{selectedDays:Bt,onToggle:handleToggleRoutineDayInModal,variant:"inline"}),u.jsxs("div",{className:"time-slot-selector",style:{marginTop:"1rem"},children:[u.jsx("label",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem",display:"block"},children:"  ()"}),u.jsx(yh,{value:mt,onChange:L=>Me(L)})]}),u.jsxs("div",{className:"routine-setup-actions",children:[u.jsx("button",{onClick:async L=>{L.stopPropagation(),E&&(on&&R?await Qe(E.id,E.text,Bt,R.id,!1,mt):await Qe(E.id,E.text,Bt,null,!1,mt),ee())},className:"routine-confirm-button",children:""}),u.jsx("button",{onClick:L=>{L.stopPropagation(),ee()},className:"routine-cancel-button",children:""})]})]})})})]})})})(),u.jsx(Xj,{showRoutineModal:w,onClose:J,routineInput:T,setRoutineInput:O,isAddingRoutine:He,selectedDays:D,onToggleDay:ie,selectedTimeSlot:B,setSelectedTimeSlot:W,onAddRoutine:Ze,routines:x,editingRoutineId:Ge,editingRoutineText:Xe,setEditingRoutineText:ke,editingRoutineDays:fe,onToggleEditDay:ot,onStartEdit:nt,onSaveEdit:Pe,onCancelEdit:ln,onDelete:pe,onShowHistory:Tt}),u.jsx(Jj,{showRoutineHistory:z,onClose:_n,selectedRoutine:V,routineHistoryData:K}),u.jsx(Zj,{show:kb,onClose:()=>ph(!1),content:Ub,setContent:zb,isSaving:Lb,placeholder:" ..."}),u.jsx(Pj,{showGanttChart:cn,onClose:kc,ganttData:Gi,ganttPeriod:ka,setGanttPeriod:ir,formatDateOnly:Ln}),u.jsx(Fj,{showEncouragementModal:qb,onClose:()=>bh(!1),encouragementMessages:Hb,newEncouragementMessage:$b,setNewEncouragementMessage:Vb,onAddEncouragementMessage:Pb,editingEncouragementId:Yb,editingEncouragementText:Ib,setEditingEncouragementId:Gb,setEditingEncouragementText:Kb,onUpdateEncouragementMessage:Fb,onDeleteEncouragementMessage:Wb}),u.jsx(Wj,{isOpen:n_,onClose:()=>wh(!1),onAddSection:v_}),u.jsx(eO,{show:l_,onClose:()=>Ah(!1),hiddenSections:Qi,sectionOrder:Ki,sectionTitles:Uc,customSections:Ii,onShowSection:c_})]})]})}vx.createRoot(document.getElementById("root")).render(u.jsx(p.StrictMode,{children:u.jsx(fO,{})}));
